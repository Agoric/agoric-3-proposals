{
  "moduleFormat": "endoZipBase64",
  "endoZipBase64": "UEsDBAoAAAAAAAAAAAACuan8EMIBABDCAQAUAAAAY29tcGFydG1lbnQtbWFwLmpzb257CiAgInRhZ3MiOiBbXSwKICAiZW50cnkiOiB7CiAgICAiY29tcGFydG1lbnQiOiAiQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAiLAogICAgIm1vZHVsZSI6ICIuL3NyYy9wb3J0Zm9saW8tc3RhcnQuY29yZS5qcyIKICB9LAogICJjb21wYXJ0bWVudHMiOiB7CiAgICAiQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAiOiB7CiAgICAgICJuYW1lIjogIkBhZ2xvY2FsL3BvcnRmb2xpby1kZXBsb3kiLAogICAgICAibGFiZWwiOiAiQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAiLAogICAgICAibG9jYXRpb24iOiAiQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvb3JjaGVzdHJhdGlvbiI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2ZhciI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9mYXItdjEuMS4xMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL21hcnNoYWwiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vbWFyc2hhbC12MS42LjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY2hhaW4tbmFtZS1zZXJ2aWNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jaGFpbi1uYW1lLXNlcnZpY2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2MzA5MDMwZTQwZGUyNmI2YjdjZWFlMzJmN2I3YTVjMTI1YmE3NTJmZWVlMmRiZDUxMDQ2MThhMWFjZGNiZThjZjk1ZjFlOGMwYThhNzViODk5ZTYxYWNiMjE2YTI4NWFiZTViYzNmNDUzYzc5NDYyZDdhOTVhMmQxYmUwYWMyYyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb25maWctbWFyc2hhbC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29uZmlnLW1hcnNoYWwuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YjYzNTNiOGM5M2U4NzUyNTQ1NDRiZDFiMTg2YTM2NzU2OTFiYzRiNzdlNTI2NmJjMGMzYWUyMzdlZjRiZDE0MTNiNzRjYzU1ZmNmNDUzNWFjODBmNWVjMzExNmEzMDYzYTJmNzY3ZmZkOTIyYzFmNWM1NmMwMDBmMjZiOTdmMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9vcmNoLnN0YXJ0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9vcmNoLnN0YXJ0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzY1NmQ1MDA0NGI3MjhhZDE0MWZlY2JiNDZmMmM2NDQ4NjgyMGVhYzY5YWNiYmRiNzZhNmE3MTI5Yzk0YTViYzBiN2Q1M2UwMWNkM2FmOGI2MzFmMjMyYTY3YzRmNTgyZDRkYzQxNWNhYzdiZjQ1MmJlMDI3MDljNmQxODZlYTciCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcG9ydGZvbGlvLXN0YXJ0LmNvcmUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3BvcnRmb2xpby1zdGFydC5jb3JlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTJhMzI5NTAzOWI5ZDAzYzEyMWMyNDZlMDhjN2FiNWU4NjE4MjZhNWRiMWU4MDVhNDQ1NDU3NjEyZjI1NTM3NzRiOTMwOTExMTI4YWZhN2E2ODgwODc0NDBiOTU0ZmYyOGUwYzRiODY5ZTI5NzNlNjAxYzY1NTA3MWEwOWM5N2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcG9ydGZvbGlvLmNvbnRyYWN0LnBlcm1pdC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcG9ydGZvbGlvLmNvbnRyYWN0LnBlcm1pdC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJiNTdhMmQ3NDdkY2U3MDczNGRiMmVhZDJiZmEzZTI3ZWE3N2NmNGJhYmUxZDc4OTRmYTQzMzg3OThjMzk0OTA2YTk5ZGZlZTVlYjdlYWQ2ZDRhYjA5MGY5NmJmZmQ5ZWU4ZWI2YWJmNzJiZWQ1YWM4MDAwMTcyZTE4N2Q1NzY1IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL2FzeW5jLWZsb3ciLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBhZ29yaWMvYmFzZS16b25lIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvYmFzZS16b25lLXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvdXBncmFkZS1hcGkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9zdG9yZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdm93IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdm93LXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92b3ctdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvdm93LXV0aWxzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdm93L3ZhdC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3Zvdy12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3ZhdC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vb2JqZWN0LW1hcC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vdGhyb3ctbGFiZWxlZC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdGhyb3ctbGFiZWxlZC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9uby1zaGltLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3V0aWxzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL21hcnNoYWwiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vbWFyc2hhbC12MS42LjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcHJvbWlzZS1raXQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU1NmQ2MTVkNmZhNjQzOGMxMzQ1ZmEwYWQyYjgwNDIzMzAxODA3MWI4NjRlNTgyYWE0OGE4MTU5NjZlNmNkMjdhYjViNjU0MWNhODAxZjQ0OTQxMmZiODY5NTE5N2I4MzJhMDU2MTBmZmY1ZmYyYjU2ZThiMjY0ZWQ1YjViODhiIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2FzeW5jLWZsb3cuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2FzeW5jLWZsb3cuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzMjEzZTNiMDFkM2FhYzljM2M5NjM0NmUwNjYzZDAzMmI1OThmNzU4NGNiYjUyNGRkNzFmMjYyZTljZDljNTAzNmRkZGM1OTk0OTcxODlkNzRjMWU3NmFiOTZhMDMwODgwMjVmNDNiZGQwNDk5Y2IzMmFiMmZhYjYyZDZkMzdhMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9iaWplY3Rpb24uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2JpamVjdGlvbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjE4YjNjMmIwMjA1MDBiNDk0YzEzNWFkOTYyOTZlNzJkYTQ4YzE1YjM4MjI0ZDBjODEwMjUwYTRlNzJmZWY3OGEyYjU4NmFlNDkwMmM1NjU0ODU5Nzc1ZGEzNzUzZTBjZDZmNDQ2MzMyNTg4NzM4MWVkZDE4ZWI2NGQ5YjVmNTc1IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnZlcnQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnZlcnQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxNWZmMDA4MzVlN2U5YzdkOTY1MjM3Zjc4MjY0MzQ1MWZlMGNkNWJhM2M0ZTFkZmQ4ZWZkYmE4ODUyYWYzYmY4Yjc5N2IxODcxNzJmYTIxYjA2ZmYyYjQ1ZDQ3MWE2NDExOWJiZmIwZWI2OTE4Yzg2N2U3ZTM0MWY0YWZmOGUwZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lbmRvd21lbnRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lbmRvd21lbnRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTBjZjU4MWRjZjZlZjg3N2Y2ZjBiNzAxMWJhNDcyZTIyYWM0ZmJhYjljY2MyMWQ4ZTFmNmMzZDk0YTk3YWRiMGJiY2ZjM2YwZDA1NDMxNjJjZGZhN2VmMTE5YWM4NGY4NTA4NzcwZDdiNjcwY2UzMTEwZDRhNzg0MTRlYzQ2MmUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXBoZW1lcmEuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VwaGVtZXJhLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDFkZTc0ZjYzZTYzYjgwMzc1MjhmNDliMjBhOGE2MGFkMDRlZDg0M2FhNThlOGM2NTI3MDhlNTI3OGRiMWQ4ZTFkMGIyNzljYjFkNWI1NjdjNGFkMTAzYzc3Zjk2NjEzODFiOGRjYjA1YjUyMmE5NTY4Y2JiNWRlZDQ2OGYxYTgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXF1YXRlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lcXVhdGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2NmZhYzU0YmE0OTYxNmM3ZjBmZjc1MWJiY2U2MmI0YzZiZTBjNDQxZTZlZGIwY2M4MjdkNjQxOWM2M2M1NWJjZjA0ZmRiYThmNjdlNWRkM2VlYWI2ZTc4MWNjYjYzOTdmZDEyNTI4OWQ5ZWNmNWRkMWFkMmU2NzJiOWMxOWY2MSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9sb2ctc3RvcmUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2xvZy1zdG9yZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImU3NDgxODk3Y2MzYjM1MzcwMTI1ODI1MjZjOTFhMTI5MzZhYjU1Yjg2ZDIyNWFhODQ1M2MyYjQyYTNmYjNlMzMxYjE2MzA0OTM3MjE2MmMyYzQyYTBhZjE2NThkZGIzNzZmYjg1MzJmNzNjZDNmNWZiYWZmZjFmNzk0ZmJlMzNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JlcGxheS1tZW1icmFuZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmVwbGF5LW1lbWJyYW5lLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTYwZjczZDZkN2M5YzIxMjdmMGUyOGExOGUyNmQwMWY4YzhjOTE3ZWE1ZjA2NjBkMTdhOGE5YzM5NjMzNzU0MGY4NzdmMDVlMmUzYjQzMjk3M2FmZDdhOTMwZTgzZjFhYzkyYTI1NTQxOGIwZTQ2YzcxMzkyYjAyYWJiM2JjOTIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZS1ndWFyZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGUtZ3VhcmRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMTYwZTQ4NGJmMjdiN2VhMTc5NDQ2ZDQwN2RjYjljYTYxZjQ1Njc3ODBkNTczYTViNjQzZjdiM2U0NjU5MDY0NTI3NDAxYmYyODM5OTY1NDY1YzcwZDMzZmJjMGE5YWYzNjExMzRhYjI4ZjM2MGQzY2NjZWU4ZGFiYzUyMDZkNDgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMtaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLWluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMWFiZTI3NWE2NWVkMzAwYjExZDlkMTc2Yzg3ZjdkZjI1YmI4NDc0ZTBkMzdhZDY5OTg3ZDVhZDEyNjgzMDM1OTA0Mjc2YjY1MTRiMTY2ZTEzMTU2NDM2YjAxODViZjZhZWU3YzFmMmM1ZjcxMzc0MDE3MzUyM2ZiZjE4MTRhYTEiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvYmFzZS16b25lLXYwLjEuMCI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy9iYXNlLXpvbmUiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvYmFzZS16b25lLXYwLjEuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL3N0b3JlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvc3RvcmUtdjAuOS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9leG8iOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXhvLXYxLjUuOSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGFzcy1zdHlsZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXNzLXN0eWxlLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGF0dGVybnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGF0dGVybnMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2hlYXAuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaGVhcC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjMyZmM5NmFlMmZlMDg2NmU2N2Q3YTI4NmI1MjM0MzE5NThlZGRhNjZlNjAwYjJiYzRjNDVjZmMxZDJjNjIxZjY0NDAzZmEwMmFiNTVhZjY3NzA4N2YyMjYwZDJiNGU2ZDY1ZDM2NmY5ODc4YWRlNTk2N2U5ZTA5YTVmNjYyOGRhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4cG9ydHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4cG9ydHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9oZWFwLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9oZWFwLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTFlMDNmNmM1MjBlN2M4MzdiZTE2MWZmN2RlNmU2Mjk2MzI2NzUwZWU4YTM5OTQ0ODVhOWZlODdhODM1OTc0Y2JlNmI1NWU1M2ZmZWE5ZjlmYjUzNzNhOWEzZjJmMGNhNjkzNjhmYjAyMWU4NmUwMDBkYWVhZDQ4MzhiZTA0MDMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNDViYTc5MTUzZGI4ODNkZWEwODA4YTkwNjM2ZDcxNmRmMDM0YTcwNmI3Zjg1ZGFkMzc3NzMyODUwOWFjNmZkZjllOTU0YWNmOTk5OTkzMDk1NzRmMTNjM2Y3YWNjOTYxMDM5Yjk0NDliODM1ODQzZGQ5ZDk5NDU1M2FkNzcwMjAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvaXMtcGFzc2FibGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2lzLXBhc3NhYmxlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNjFlYWY3MTI4Y2U3MWM5ZDU1ZjkwMTQwYTEyZDYyMWNhM2U4NWZjNTc1MWZjZTI0YmVmYmI0MjY5MzM2YTNkYzNjMjVlMDhmMGJjNTU5YzBjMzI4OGZhOTg2MDg3YTMyMWMwYTE4NDJhYTA1YTc3NWQyMTEwZjY4NDQ3ZDU3YWEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImE4OWUyMzk0ZjdkYTFkYjc3NGJiN2VkMDMxODc0MDU4MzRkNzE4MDU1YzEyZGNjNWZhZTE1MTA2ZDIyNjg2YjU2YzM1ODgxOTY5NzMwNzgzNzQ5MzA5MTRkNDQ4NDNiMTc4ZTgwMGRlNDI5NGQ5NDQ3ZWNhZjkyNTQxY2RmYzhjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21ha2Utb25jZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFrZS1vbmNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNWJmODllMjM4ZWM5NmY4NWQ0NTI5NzhmZmZmNzRiOWM1OWJhZjExMzA2MDY5ZjI2NjFjNDNhMGMyYTVkMTk1ZDY3MGQxZGZjNmIwOWVlNmM3NTQ5Y2U4YTFjNTliN2Y0YWI3MzZlM2ZjMzMwM2E4ZDNlZTk2ZmMxNDk2ZDczYzIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcHJlcGFyZS1hdHRlbnVhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wcmVwYXJlLWF0dGVudWF0b3IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2NzI3NjdmZGRkYzU5YTA4OWE5NzAyNGY0Y2M0ZTEyNmE5ZDM3NGM5Y2M0MjRiODE1M2ViZjMzYzY1YTNkNTI5MWEyN2I2YjJiZWMxMzViMmU1NWNhOGEwZDE5ODZhNWE5MzBjZDNlZmNjMDMyMzI3ZGJlMjc5MTgyMTdkYzg1OCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wcmVwYXJlLXJldm9jYWJsZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcHJlcGFyZS1yZXZvY2FibGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1NWQ3ZGFjNGE1ODhhZjQ5ODhkZGVjN2E4Zjg5YTE1ZmQyZTZhYzAxMmY4MmYwM2MzZmE1MTdkOGQ3ZTZlMjhkMGRmMzU3ZmNhZTQ1ZjlmMGRlYTRmMzVlYWU3OTM4OTk0NmFkYTQ0ODJiZDRlZDM1ODM4MGE5MDJkYjE1ZjVhNyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy93YXRjaC1wcm9taXNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy93YXRjaC1wcm9taXNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOWM2NWJiNTVmZWQ4NGVlOWQ1NjgxMTA3Y2Q2MTcwYWUyYjdiYTI1YmNjMTVjYWY0YzViOTA5YjIxZmFmYzU4ZDI4ODRmNjFhZTI2ZDU5NzY2NjA4MDg5ZGU3ODM1MGZjN2UzMzRmNTYyYWIzY2Q0ZmE2YWE1MmVlZGRkZDdlNGQiCiAgICAgICAgfSwKICAgICAgICAiLi96b25lLWhlbHBlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiem9uZS1oZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTFmYjk1N2FiMjM2ZjdjOTNjMzk5ZDZiODk4MzY5ZmYxMjMwYWEwN2EwOWZlZmVhYTQ1NDk3ZjRjNjc3Yjk3YmJlZjQxMGRjODg5NWEwM2ZjYmE2NWI0YmM1MTYzZWY0MmEzMjc4Zjc3MGYyNjcwYTU2ZTg5M2Y0ZWZiZTM5ZWQiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8iLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9iYXNlNjQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vYmFzZTY0LXYxLjAuOSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vYmluYXJ5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9iaW5hcnkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzNWE3Y2ZlNWJjYTJkMmYxNTdhYjczYjY1MDU3MThkMGM4YjkxMmJhY2Q5MGRjNmRiMzAxNjVmNzBhYTgzNTI5OTVkZjFjY2MyNjY0NDhlZGQ0NDY5ZTRmYzNmNDM3ZDE3NmIyNWMyYjc3NzBhMTBkNmVkOWM5ZDFjOTI3ZGRjNCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY2lyY2xlL2NjdHAvdjEvdHguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlYjU3YjcxYjJlMzY5NjBiZjRmMzMzYTMzNTY2OTJlNGMzNzkyMWU1YWUzODcwNTkwMWIxZmRjNDRjOGNmOTAxMDQxZTc3MWM1MzBlZGIwZjFkZGFhNTJiNzgxYzYzNmEyYmRjZTMyZmE0M2IwZGViNDMzYjYyZmJiYzBkOTRlZCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL2JhbmsuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvYmFuay5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjA5M2E4NDM4MDc4NzBhOTM4ZWQwNmNjMDhlZTE2ZDY4ZTA2OGEyZjYxZWI0MjZhZGYxNjM5ZDc1NjgwMGRkOTQ3NGU0MTIwZjcyMzA3MWJiZmZlMDU5OWFkYzhjMWFhZDc2NjcwYjRhN2Q1NzRjN2FhMWIzMmYxMjExNTY4YWQ4IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiNDA3ZDllZmZkZDg5Y2M4MjY3Nzc1MzIzMWEwMWU5NzY4ZjViM2VmYjI1MTNjOTFjMGNkMGIwNjExMGFkZjIxMzkzZjg2MTkyMGMzNGNiMGE3YjBkOGUxYTI1YzZjMDIzYWYwOWEwYTAyZmNhMDI1MDUwM2YwYWVjOTUwYzIxNSIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiODM2NGNlNDUzOTdjMWJlMjUxMzBmMjVlOTlkMWEzZTI1MzI1ODg3MDM1MTQ4NzZmMjVhN2UzZjI4YjU0YmNiODkyMGJiMjU0YWQ3YTE2OTA3MzZiNGNhMDE1MzJiZDUzMGMzNzQ5NjYwODFiMjUwYWMwOTIyMDQ0NTExMjNjNDAiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3MvYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJjMTQ5YTA2NmE5MjFlOGJiMDliYThiYjJiOTM1YzE2NDhhZTY1ZmU1YmE1OTFhMTMxOTcxZTg1NGJjNWMyMjFmZTllMzY3NDJkOGI1NDQyYjlkY2ZiZjFjODk3NGNjNDg4MjA1OGE4NzM2MGZiYjYzNzIwMDNlMjNkMzk5YjYzNCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYXNlL3YxYmV0YTEvY29pbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjVmNjEyMzM4MzUzNjQ3ZjM2Nzk2NzFmMGQ5OTFhNzBlMzdiZGI0NTYwMmViOGFkZThmMTUyNzAwYTdkNjZkMGVmYWFkOTBjMzMyNGIxNjYzMjM3ZmM2ZjMxMzdhNDg2NzNkOTJlZjA0NmJkNDk0NzFiZjNmZDNmY2ZjOGFmMzA2IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9jcnlwdG8vbXVsdGlzaWcvdjFiZXRhMS9tdWx0aXNpZy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL2NyeXB0by9tdWx0aXNpZy92MWJldGExL211bHRpc2lnLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiN2U4YzgyMWI5Nzg3NmNiOTU1ZDRhZDI1M2I2Yjk4YWQwMWE4YzhjMGY4OWU4MWI1ZjI2YzljZGJiMWQ1NGU1ZDQ4YzdmMzI1MGQyNjlmNTEyMDc5OTBiMjZkMGNhNzNlN2VlYzAwZjQ4MGFlMzU3MDcwMjFmYWM3NDgxYmUwYmMiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjVhYjQ5MDYzNGVhNmY0NTAyZmE4YmM0NWFiMDhkNzg2NWM4YjYyYmNiZjBhYjI5N2IxZTgzNmZmMzc4NGFjNzZmMDc3NmNmYTA4NjcyMzcwZjkwZjljNDNlNTY2MGQ5MDlkOGI1MzY1MDY3NmNhYjJlZjBhNjRjYmRlMTRiYTM1IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3F1ZXJ5LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZmU3ODUyYTY3ZDFjMGVjNWY2ZGM0ZGRmMTBlMDlhYWFlZGRjMDU5MGRiN2M2NjBiN2M5MTE3YjdmZjQ2MTdlZjFhMDE4MWEyNzRjOTNlOGUzM2EyNWVhZDFlYzIwODMwZDkwYWQ2NjM2MDc0ZDI2NDA3NDc5MDAzNzU1YTM0YzUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvdHguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1MTcyYzFiNDc2Njk1ODU3ZTQ3MzZjMTBlMjY0YWNlZTc4MDlkOWY0YjUwOGZhODAwNDI0ZDIxZGExYTAyNjE0OTUyZjBmMDc1NmU4ZGRhMmVmYTExZmVjN2MyMjA4ZGM1NTYzNTg2YTI4YjhjMGY3YjllZTJlMGFlZDExZmM2OSIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3F1ZXJ5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3F1ZXJ5LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDE2ZjFhOGNlODNhYmI0NTljOTBjNjljOGZjNmYyYjE4OTAxMTE1ZTE0YzdkZjBmODYxNjkyNmJhZjZhNzU0MGQ2ZGU1MmU0Zjk1MWY2NmFlODRkNzBjYTFmMmI3NGRkOWY5Y2RjNTIxNmZjN2M5NTZiZjQ1YWYyOGY2MTY5NGEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmcuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlMzMwNjJlNWVlYmY5NDgwNzZhMzhhMjdiNTBkZmM5NjRiYjc4YTlmMzJlOWQ3ZjRjZWUzYWI5YmFmYTY3YzJmNWI1M2VjOGEzNDUwZmViY2EyNmU4OWQ4MjFiZmQ5OWZmMGI3ZjYwMGMzNzRiZjI4OWFhZGU2ZWEzZGM4NTdkMiIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNWM2Y2QwZWY0OTIzMzEyN2NiYTUzZGE3YjcwNDZkMjM1NTNlZTZjMjdhMWYxNmQ2Y2E0MDY3YWQ0MjRjZGE2MTQ2ZDc0MDE4YWIwYWY2YzJhZTViMmUxMDUyODAxZDE5NDFhNTBjNmJjNGE2NTZmNmZhZTViMzllN2Q2YTA2ZmUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL3R4L3NpZ25pbmcvdjFiZXRhMS9zaWduaW5nLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3MvdHgvc2lnbmluZy92MWJldGExL3NpZ25pbmcuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwNjJiNDNmNjRmZjhjMTlhYjVhZGY5M2U4MTI1Mjg5NjM4MWUzMjc0Y2MxNDUzMjNkNDcxMGU4MDBjMmEyMTg4NDk1ZTE2NDU3NGQ4YWIyMjZlZWM2MWViZjcxYjFjNjJiMmY5YTU4NTg4Yzg3OTEwMTNmNzcyMjYxMmU4ODUzZCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvdHgvdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL3R4L3YxYmV0YTEvdHguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3NjU0MDM1OWVjMzAzOWJhYzRjOWRhYzY1ZDBkNGZkNmJjMjI5MmJkN2ViMGYzODkzODc3Njc3YjRhMjJkZmU1YzdlY2MyNzc5MGZmMDVlZGVhZWJlODdhYzIxOTRlNjQ3ZWQ5MzA0YjlhYjIzODE4YzQ0ZTJjNmNkMzFhYTY1YiIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvdXBncmFkZS92MWJldGExL3VwZ3JhZGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy91cGdyYWRlL3YxYmV0YTEvdXBncmFkZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNmZjEwYTI2NWMxMWFmNTBjNmJiN2Y2YTgyMWY4NDI3NWE3OTBhZThiMmM2N2U1Y2E4YjBiNTZmYmUzNGM3YzJiZGU5ZTI4NzlhZGZhM2JkYjhlMjQ2OGU2NzQwNDg4OTVkZTNkZDU2MWUxMWJhZDJkNzhlYTQwYzBkYmNmYTY3IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2RlY2ltYWxzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9kZWNpbWFscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY0MmJlNTU0NzIzODNlN2U4YWMwODg4NGZiNGFjN2M5NWMwN2RlNTFlYWJlODY2YTc0MDQ3MTFlMGU2ZTc1ODRiMzNkN2RiMTA5MTU1N2YzYTk1NTFhNDY2NjllZTJiNDk1YmM5NDk2OTk4ZGQwM2E3MmMwZDRkZTk1Yzg0MWFhIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3NWY1ODNjNDI2MzkxNTI3OGJlMmI5YTQ4ZjZlZWUzYzA0OTc5NGNhZDU2ZGRlZDBlZmU1OTJmN2JjYzE5Yjk3ZDYzZWM5NDYyMmJjNTU2MGFkMzNmZmIzY2UxZTE5MmE3OTgxNzhmZmJhMmNlNDhlZDkzZGUyZTQzNzczODIzNyIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvZHVyYXRpb24uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjBiZDZjYmY2NTg4Yjk5NTFkYjMwNTUwNGJkOGM1MjVhOTE1ZGRjYTFhZDFmZjA3OTc5MTk2M2I3ODNhNWU3YjYxODA5OWM2NzEwYWFiN2U3YWYwNDQ3ZmQwNDc1NmY1OWNhNmY1YTQyMDRhMThmZTVmY2I0N2EzZWI2ZTEwNzFlIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmY2I0YmZiNmFjOTMxZDZiNDM1Yjg4MDZlZTU2OGQ2ZWRlYTRhYmUzNzExM2Q4OTc5MDg1N2U5Y2EwZmQ4N2YxZjRjY2U0ZTE2MDA1ZjE3ZDdmMzA4MGEyZDc3MTY0N2I4ZmYyZjBhZWFmZWNkZmQ3YjZkNDZlZGU2M2IxYzg1NCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9oZWxwZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9oZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZWMxZWQwYzFiNDlmYTVhN2Y1ZTljOThlYjY2M2MxYzA4ZmU4OTM0MzAyOWQxMmJjMzQxOWE5YWNhMzg5YmNhNGVmZjkwMTk5NWIxYWI1NTkyMmUyYWM0YjI3MjI1ZmMxMjZmNTA0NjAzNTBkMjNjNWI3ZGNjMzI5N2U4YTNkNWEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vaWJjL2FwcGxpY2F0aW9ucy9pbnRlcmNoYWluX2FjY291bnRzL3YxL3BhY2tldC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vaWJjL2FwcGxpY2F0aW9ucy9pbnRlcmNoYWluX2FjY291bnRzL3YxL3BhY2tldC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImFjY2ZjN2M3Yzg1Nzk1MGNiNDUxMTk5ZWY2NTZiMWI4MzE3MWUxOTgzZGY1YTU0Zjg5NThlODA2ZWUzNjQ2ZDYwNGRhODQzZGI5YzllYmQ1NGRmZmQzMzBjM2UwMmIwMDhjYWU4Y2EwNTk3NDE4Y2YxYmYzZDgxMjIyMzg4NTBkIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvdHJhbnNmZXIvdjEvdHguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvdHJhbnNmZXIvdjEvdHguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1Y2RlODY1ZWY5MmU2NmMwYjVhMjFkNGQ2YTk1ODczOTRiN2RjMzI5Y2M2ZDI4YTY3NmQxMWFhNThhMDFlMTYwZTVjZWVhMWYzNTE5ZjI5NzlkMTQ5MzcyMjA1MDQxMzA1MjM0Mzk3NGU4ZGM4YzQwYjhiN2VjZGE2YmE1OGVjNiIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9pYmMvY29yZS9jbGllbnQvdjEvY2xpZW50LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9pYmMvY29yZS9jbGllbnQvdjEvY2xpZW50LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmFmMTU3ZGFiMTRiNmNiN2FiM2U3ODcxNGUzMmRmOTE0MWVjOWQ4NzQ1MTAyMzA1NzkyNmJiNDk4ZmVkZjA2OTc3MjgwZjk3OTcxN2I4YmU4ZmYzZjk1NmU1NzEyMDFlYjI4MDRiZmM4OGE5OTdiMzU5Y2QzY2JiYzBkOWEzY2MiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vaWNxL3YxL3BhY2tldC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vaWNxL3YxL3BhY2tldC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjJmMTQ4ODAyNWQzM2M5Mzk5NzFkZDk5MzlkZTAyNWNlOGUxZWRjOTE4ZjZiOTI3NjU3MzViNzU3NDAyNTE2MzhjNWJhOWFjMDJlMjk4YjQzZWJmYmE2MjliZmY1NmYxNWUzNzEwNWUyZmU4MmVkNjJjNTkyMTM3NDhjYTM1OTg2IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2pzb24tc2FmZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vanNvbi1zYWZlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3ZmFlZmJmMmMyY2M2OGUyMzIxMzlmODhhYTk1MDJjMzIxYWEzMjhlNjQ2NmQyNTk4OGJlNTM3ZmIyNmY1ZTM2MzY2NGFhNDdhYjljYTkyYWY1OWRhNTI1ZmFkMjc1Yzk0MGI3OGVlN2NlZTY1NTc5NTcwNGIyMjhmOTZmMzQyYSIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9rZXlzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9rZXlzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzRmMzE0MWMyNGY3ZTU5Y2Q4OTkzMTY1MTUwMGY5OWZmNGQ3MTdhMWY1MjkyMWZiZmNlZjZlMmIyOWJkMjA5YWEyYmQ4YWY0Njg0YmQ3YWU1OTNjYTVjNmZmNmFmZDdlODM4M2MxMjczOWVhZTA5NjU1NTNkNjYwZDk4MjBhNTEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9jcnlwdG8vcHJvb2YuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvY3J5cHRvL3Byb29mLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMmJlY2YxMWE4ZGJlOTVmOGQyMThmZTE4MDA1Mzc5YjkzZWIwYzcyNjM2ODQ5YTczYWNiZDZjMTU4NTI1ZTA3MzVkNzFmYjcwNDQyNWY5NTc2MDRjYmZiNzAzYTgwY2I2YjdkMDY1ZTU3MjFmOGVlNjY2YzA2OWJlODE5NTcxNjAiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy9wYXJhbXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvcGFyYW1zLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZjhlMmY3MThjOGNkMDZkMzhmODk1MWVmNjRlMWU1YmU2MjUzNGQwZGU3NjkwMWZhNmY5Y2IyOGMwNTVlODhiOTE0YWZmMmU4YWNhOTg5OTU2YjBhNzc0Nzk1NmM5OWNjYWJjODFiOTFhM2MzYjQ5MzY4NjkyNjE3MWEzZDZkYzciCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY0ZTg1OWViMzQxY2RhMzY0YjQ3YjVhMjdkOWU2YjYyY2U2NTlhNjZkYTUyZTYyOGZkNGFjZGRjNDdkYjA3OTM0ZTJhNWQ2OTM0MTRkOGUxYjhmZjdhMDRhMzc4MTExZmZjMjQ3YjBkYTJhYjFhNTVlYTI4OGZmNWY0MzMxZTVjIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvdmFsaWRhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3ZhbGlkYXRvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg4YjY4MGRlZjVlODVkNGI2MDBmNzQ5MTIwZDYwYzQ5Zjc0YzVlZmIzYzU2MjI5Y2U3MjQzODI5OTVlZjc4MTdkZTNiN2Q5M2Q5MTM5NGZjZWQyYThhNDgwNTRiZDRlYTZhM2JmMDAzYzViMDdiZTFhMmM0NjRlZWY2MzkwYmYzIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdmVyc2lvbi90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdGVuZGVybWludC92ZXJzaW9uL3R5cGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzg4ZGZmM2FhZTA5MzBhNjFmOTk2MmE3OGFkMjU5OTM0MDY5MGZiNWJlNDVkODkwMjM2ZjIzN2YwMWQ2YWQ0YjQ2NjgzNWJjZjA2MDcwNmIzOWFkNTUzZTkzNjEwZjdiZmQ3NzAwMTdjMGU5ZWVhZTk0ODFmODZjN2RhZTk1NGUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdXRmOC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdXRmOC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImM4ZTRkMjUzNTdmMTY2N2QzNmQwNjNiZGJlYzg3MDYzYmRlZjY1MmM2OTI2YmY3YThiMGRhNDJiM2I0NjExNWRmYmZiMDFkZDczNGYxYTY0YjNiN2Y5MGJlYzhlMjg2ODliMGQwMGVlNmUyYjkzMmVlZDM2MGEwMTczN2U3YjFiIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL3ZhcmludC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdmFyaW50LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTI2ZmQ4ZGQ0NWRiYzg1MDY4YzVmYTUyZDJjZjdjMGJmMDFkNWRiMTYwOWZhNWJiMzAxOTZlOWQ1NGMyOTgwMTFiOWFhZmI5ZjU4ZmZmMWNlZjkxNGFlZWM3NWRmOWZmOTA5MjU5YTU2NmM1YmVmYTYwNWQ5OTNkYTcyNGI1ODUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2hlbHBlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9oZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYWZjYTRjZDA0MmQ3NjVkZjMyZjM4ZDUxNzBiY2Q4MjM2NGNiOTc3YTExODVkMWM5MTZmZWQ3MDhmYTA5NmI2NmIzM2QwYzhiMjJmNGRjMGM4M2E2YzUwY2Y4YjdmNzFlYjQxMmU2MDk1NTdhNTE1ZjI0Yzg4ZDI4NTRmOTBhZWEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2YmU5NWQyOWYzM2NmNTgwZDliMDdkMmVjM2Q3OWVlZjJlYTk3MjYxNGVhNGViYWUxYTVmMzhhYWYxNWM5NjQyN2NkODA1MTFjNjVmNTc3ZWZlMjI5Y2Y5ZGY5NGIxZmNhNzJlMGEyNWRjNDYzODhlYjkxNWFmMjliNDg4ODIwMiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9lcnRwLXYwLjE2LjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvZXJ0cCIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL25vdGlmaWVyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvbm90aWZpZXItdjAuNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9zdG9yZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdmF0LWRhdGEiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92YXQtZGF0YS12MC41LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3pvbmUvZHVyYWJsZS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3pvbmUtdjAuMi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kdXJhYmxlLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2Ftb3VudE1hdGguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2Ftb3VudE1hdGguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2ZGI0ZmI3YTI4MDBhYTc1YThjMWFiZjFjOWRiNmY5Y2JhODA4N2E2OTVhY2MxZTQxZDQ3ZWQ3NDdhZDIxYWIyNDgzOGJiNmIwYWExZTQ3MzUyNDJmZWQzOWYyMjUwOGRlNzdhNmEyMDI3NTkzZDgxZmEzNTViNGZlZGQ1ZTlmYiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9hbW91bnRTdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvYW1vdW50U3RvcmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwZTBhYTgwOTEyZTQ1ZjQ5OGVhNzM2Y2ExNGJjZTg4NjJiMGQ0ZmJlMzBiODUzYWQ0ZDk3MzJjNmRiOWQ0ZjI4OTdmZTRmYjY2NDA1ZTM5ODA3MThlNmY0NWJhZThjMzU4MzBiZTZhNGY4MDg2ZjlmYmMxNzZkYzVlMWViOGZjYyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9kaXNwbGF5SW5mby5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZGlzcGxheUluZm8uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1ZmFmN2I5MjEyOTU1ZTBjY2U1YThmNTE1YTc1YTViZWJkNjFiZjdmYTg1NTQ5NWVhMDRiYjIyNTUwMTgyNjU3YzA4MjBkMDcxZGUzZWQyOGE3NmZkZDBmNjk0OWRhMTlkNDBmOTJkZGQ4NGYwZGVjMmJmYWQzNTkwNDhkNzcwYiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmYWU0NjFlMDZhYTc5NDEwZWFhNzBlMTY1YzM1NDE2N2VkYWU3NTM0YmU5MjcwYWM0NTZmZDc5MjcwYmY3ZDhjYjIwNjE0MDEyYzUyODMzNTJjODI0MmRhMTdlYzVhYTc3ZmUwMmVkZDc3ZjlmOWIxNTkxOTUxOWRhY2ZkNDlhOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pc3N1ZXJLaXQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2lzc3VlcktpdC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjE1NWU1YTFmOTljMmQ0OGZiMjMzNzc3MGMzODg3MDk1ZjYzN2Q5ZGFjNjk5MWFkNGFmNzU3MDgxN2M2NjA0NzU3OTQ1YzhmODg1Mjg3ZmQ1ZmQzNjA0MDYwZWVlNjE4YjY5N2QxMjEyNDU3ZGE3MWQzMDllOGIyZmUzNDk5ZWY2IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21hdGhIZWxwZXJzL2NvcHlCYWdNYXRoSGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWF0aEhlbHBlcnMvY29weUJhZ01hdGhIZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGEwOThjNGFlMGI4YzVhMTkwMzQ1ZGUzMDAyNWFiN2Q3ZDUwYTY5NGYzNWIxMDFjOGJjODZhZTkyMTk1N2M3NmQzMmNlZWE1NjM5ODk2Y2YyNDk5ZTg5ZDBkZjA2ODgyOTlhYzEwNzUyOWUxZmRlYTU0ZWNkNThhM2JmMWI4NjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWF0aEhlbHBlcnMvY29weVNldE1hdGhIZWxwZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tYXRoSGVscGVycy9jb3B5U2V0TWF0aEhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhOWMxNGVjZTJmOTk2MjQ5NWNmYTY4M2VlOWViZjQyODhlOGUwMTYyYjM1YmJkYjZlYzM3OTgzZjVlOTFmYThhYjBlMjIxZDI3NWZjOTFlYjdmMTI0Y2M3ZDA4MzdlN2NjODEzYjg3M2VjMWQxYzMwZTU2Yzk3ZTBmYWRmMjc2MiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXRoSGVscGVycy9uYXRNYXRoSGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWF0aEhlbHBlcnMvbmF0TWF0aEhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmMjNjNjNkMTM3NjJmMDQ5NGEwYzg3MzAxYmFjNmUxNDhhNmU3NzU2YTNhMjFjYzExYTdlZjhhNmI4YzhjMWEyZmEwODI4YjMzYjM3MWQzZjYwYzI5M2FkNzNkNTQ2Yjk5YzBjYTU4MWM1YTJiNTMxNDQxY2ZiZDg2ZDAzZTNmMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXRoSGVscGVycy9zZXRNYXRoSGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWF0aEhlbHBlcnMvc2V0TWF0aEhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhYzU3NDY5MTZiNGNkZmYxODM4ZTgxYzQ2YjNkMTk0Mzg5OGM5YjZmOGMyMzBiNmFhZGQ5MjllZWMyZTY0OTRkNWRiZTczOTllMWY1ZjZkMjFlY2VhMjI2YzY4MDI4NWQ0MmQ3OWVmMTBiODgxODYxZWE0YTk2ZWFhMzYzYjhjZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wYXltZW50LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wYXltZW50LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZjk3NWE0N2M5OGRmZGI5MjdjODAxODZmOGE3Y2IyMjZmNjQyZDYwM2IzNDAzMTZmOTRjYTJlZGMzNTZmOTRkOWJiZmQ2OTM4NzFhODU1OWM0YTZjOThhNmI4YmI1YzhjMzU3MjVjOTBhNThmZTMxM2UyMjUwZWY1Y2JhNjg2ZjIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcGF5bWVudExlZGdlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcGF5bWVudExlZGdlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImU2ZTAyNjhhZTQ5YTZiNmQwYTIyYWFmMWNkYWIxYWY1NDYyMTU5Y2U5NmU5ZTNjZGIyNWUxMzNmMjM5YzU3ZjhjYjU0ODIyNDU0YjJmNGIxMWMxMTQzYjU2NzlkNTE4MzdlZjRiMjA0ZWExMzkzY2I4ODJkY2U2NzQwNTJjNzUxIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3B1cnNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wdXJzZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY3MDM0Zjc1ODA5NzAzOTIyMTAzOGRmNjlmYzVmNjkwMTFhNTEyZTg3OGJlNzY1ZmNkM2JiYmMxMzM4NTFlMGY4YzQ4ZjQzNWYwN2VlYWY0ZDlhNjgzMzliNTU4ZmI5ZjNkZGMyODM2MzI0N2VjMjZhMjJhZDIyNGJhMTIwNWY4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JhdGlvLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yYXRpby5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjcwZjFmNzVlNGZkZjJiOTdkNTVhYTBmOWRhM2FiNDRhMmZhOWEyOWY3ZGVmZDk4OTNhZTRmN2NkZTY1N2MxZmQzODVlYWYwM2ViZDc4ODlhOTI1OTdkZjliZmUxOGRlODQ0YmIyYTIxY2JhYjRkY2Q1YWQ4MTVjNGJhZDJkMzc3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3NhZmVNYXRoLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zYWZlTWF0aC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNiYTNhMjFlZDZmZGYwZjVkNGFlMTc1YmI1OTYzM2QyYWQ1YTQ4MDNjZTAzOTViZTgxZGFjYTkxM2FiOTE5Mzg0NzYwYzExOTA1ZTZiYTZjOGVlZWYyYWZkM2Q2Y2RhNmZmMDNlYTNkMzNlZjZjNDVlMTg1NjVhMWMzNGVhYmRlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3RyYW5zaWVudE5vdGlmaWVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90cmFuc2llbnROb3RpZmllci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjgxOGU5YTQ1YjhmNWQ4NmQzNzlkZDBmMjlhMmJkZGIxNDQ3Y2UzMjg5ZTUxZWFhOTZmZjY1OWViMTQ4Y2U3OWM1MjE1YzY0OTgzM2MxOWRhMjkxZTNiMjcxYWE5ODBiYTY1MGY1ZTkwZWVhMzZiY2JmYmNiNjM1ZWE0N2ViNTRkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVHdWFyZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVHdWFyZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3ZTgwYTdhYzAxNTg0MjM3OWE0MzMxNDc0MDdmN2ZjN2RjMzg5ODVkODZjNmRhNDk1YzBmMTg0OTBlMGI3OTA2MWM5NWRjYjE4MTlhY2RmNDNkNTk0ZWFjYzE2Y2E4M2ZhMTgyY2MwNWFkNDcxZmUyYTdiMzM5NzQyOGY1Y2Q3NiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy1pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMtaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvaW50ZXJuYWwiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2hlYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL29iamVjdC1tYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL29iamVjdC1tZXRhLW1hcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vb2JqZWN0LW1ldGEtbWFwLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdXRpbHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3N0cmVhbSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9zdHJlYW0tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiamVzc2llLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogImplc3NpZS5qcy12MC4zLjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9tYWluLmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NhbGxiYWNrLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jYWxsYmFjay5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQ1NmU4YjkwMDA0YmUxNjg1MWMxZTA1YjI1OWQzNGYyZTE5NjE5ZjMyOGM3YzQ4ZmM2NmRjNGQ3MWRiNjdiZWQyNTRlNjBlMTNiNGE3OWJlZDgwMmYxYmE2MmY3N2QzOWE0ZjRmYjZlM2NkZGM0OWNjZjIxMzNhYjM1MmRkYTkwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NsaS11dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY2xpLXV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMTJmMzY5NjMzODhiNzRiNThiYjlmZDdhODFlMDJiN2Y2OWRmZDNmYzA0MzNiYzk4OWQ0Y2RlYTE2ZDcxOGE2NGM4Y2ZkNzMxMDVlMTg1OTIyMjhiYzIxMmRmYmI1ZWIxMjBjYmZhOTI4ZTFkNWE5Mzc5MzMyMWMzZmI0ZDgzZDgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29uZmlnLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb25maWcuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkNmU0OTE1ZjlhYzliNGUxZTEyMmM1OWIyNGZjYmNlOTljNGIxYjI0MzUxZTliMThkOTgwMWNmN2EwODBkYjY4NTIyM2RiM2JiODAzOTUyMDhiMmMwNTBiNjQ0YmMwMGZjZjRkOTgwNGFlZmY5N2I5NjU1YjZiYTFjMjY3MDkxYiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9kZWJ1Zy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZGVidWcuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzY2VkM2ZlYTI0MzljMjEyMjE0YzJhZDJmNDM0ODBkZGQwZDVhMzQzOGJmMGJhZmRmMzI3NmYyMjg1MWY1YzExMGEwYzhlOTg1ODc5M2Q5OGZiN2UyNTZmMDA5ZmNlYjhjOGUwN2I3ZmRhMDNiMWE1MDI5YzlkYmM3MjFjMmEyOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lcnJvcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2Vycm9ycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQyNThjNGQ3ZWJmZjMxMTgyZjg0MjVlMGVkNWU4OWEzYWZlNzQ1MDNhOWYzNjk1ODliMmEwNTYzYjdkZjc1MzNjYTg0MTg5OGE1Mjc2ODIyOWViMDU1MDdlMWYxOTU4NWU2MWZmNTk1YzVjMTAzMTIzNjU3MjEwZTU1ZWQ3ZjI0IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjcxYjBhNWU3YjNlOGNiYjkwZDczZGIzNjJiNTkyMGZjMDk3ODczM2E2OWVlNTQwNGQwM2EzYzAxYzYxN2M3YTRkYTliYjEwZjRlNmM5ZGYxZmVlYjJmMTJiODY4ZTQ4MGNhZGU0YTE0ZWNjMTM1Y2EyZjNkOGUwMzU1OTRmOTdhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2pzLXV0aWxzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9qcy11dGlscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNkOGY1OWRmM2YzYzZjZmUxMTJlNGU5ZGE0YjY3OTkyZTRiYTU4MTgwY2VjNzRkMTU2MmVhMzg3N2IwOTY3ZmYzNjA0NjQ0MWNkMzlkNjlmMzZmZTNhMWJhYTBjYTZhODU2OThhMzZmNmQ5ODk1ZWViODM3ZmM0OTBhNDk2ZGQzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2xpYi1jaGFpblN0b3JhZ2UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2xpYi1jaGFpblN0b3JhZ2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2NjM4NzQxZTkwNDVlZWY5ZjZhYjA4N2MyNWJhNWJhMzU2NjM5ZTc5NzYxMzdlMzdkNTUwNWRkMzI0Y2MxZjM0OTU4YTYzNzZmOGM4MzFjNzg3Mzk0NzZiMjk4MzU4ZTZhMDM1ZWMwMTBjOGFhNDFhYWFlZGU0NzJmNmJhNWI3OCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXJzaGFsLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tYXJzaGFsLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMWE3ZGZjMWM4Y2NkNGUxMmViYTg5ZjYzMTNkNGY5OTAzMDNjNTllNTcwNDE0ZmQxNTM5NWZlZGRiZjBlYzVjZTlkYzFhOTAwMTg1OTVmMWYzMjc2MWRjMGJjYzA1Mjc0YWZmYzQ1ZTlhNjIyMjRiY2UyOWU0NTQyMDdjNmJjMjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWV0aG9kLXRvb2xzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tZXRob2QtdG9vbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwNTVhNzlmZDI0NjYxNDVhZTY4ZWNiYzc3Njk0Mzc5ZDhjMDUyZjJjN2Y0NDJjYWNhOTA4NzQ5MjExZDk3ZTk1NjRhOGRkZWE2ZjQyZjgyNTNkMzI2MGRmYjc5NzA5ZWEyOTdiYzg3MTRhYTg2MmU2OWUxYTM4ZjI0Y2JkYjVjMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tZXRyaWNzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tZXRyaWNzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOWNkZDc2ZGYyMmY2N2VhY2I0Mzc2MzE5Nzg4YTI5N2IxZjEzNzQ2MGI0MDQ3NGI5NWU0MjcwOGJlMDJhMDc1Yjk0NmQwZDRlZjU4NTk4Y2Y0NDUxYWMwNjAyZGU3MjliMDJmY2QzNjk2NWRiMDM4M2M4MTAxNzIyZjdkZmIzYjIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbmF0dXJhbC1zb3J0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9uYXR1cmFsLXNvcnQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YmM2ODA2Y2UxYTk2OGNmZTY5YzZhNDg1MjEzZGJiMzcxYWVjZDU4OGViM2QxOWI5NmQ4ZmIxNjI0NThkODIwYzE1NjA0YzcwMDNjN2RiNTFhZmFmNTQyODMwZGYxMDhiMzViZjVjY2IxMWY5MjlhYmVmNmZjNzdmZWVmYjdlZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zZXMtdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3Nlcy11dGlscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjUxOTk4YmNhNDlkMWIzMTA0ZTAzZTg3NDdiNzQzMjg4ZDc3YzVjZjM0NTUxNjlhMGNmZTJlZDU4OWRlYWFhNGM1YTc1ZmY4YzVmMTRkNDQ4MjQ3NzA1Mzc3MTIxNmU1NjkwMzVmYTcwZGY1MTg1OTIxOTk0NDA2MWE4YWEyYTRhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Rlc3RpbmctdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3Rlc3RpbmctdXRpbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhODMxYWYyMjJjYjAyM2Q3ZGRmY2IyZGJjZWVlOGI4ZjQ3ZjdmNzk4OGFlMjM1MWFmZWE1N2NkZTgyMjY1ZGJlYjUxYjgzYmYzYjUzNjZmZGFjNTc4Y2FiZjQ4YjQ3YTk2Y2E3ZThlZDU2YTIzN2E1MTU4YTc3OTZkZmUxOTQ1MiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90bXBEaXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3RtcERpci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQ2YWFiYWYwMDA1ZDg3YzM0MzYzOWIxYmRjZTlmNDRiNjM5MzRjYzUxYzkwYzU4YjFhMGQ1Nzc3MjNiNmUyY2MxYWU2ZTJjZWRlYjE0MmM3M2UxYjc3MjUxYjY3OTVjZDM2MmZlNTQ3MDUyNDVlYTRmZGI2MmY5NDhjNzM5NzNkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVDaGVjay5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZUNoZWNrLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiN2YwNmEzMWNmZDVlZDViZmU3YThhMDdmODBmYWExYWJjN2VlZWY4NmVmYjc5ZjhiNzY5ODNhNDRjNGRhNzVhOWI2M2RlYzNlN2VlZTNkMWNkM2ViODUyNmQ5NDc1ODhhY2E5OTEyMjg1NGQzMzA4YjQ3ZDM0NDYyMDg4NDdjOTMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZUd1YXJkcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZUd1YXJkcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU3ZDVjODAyZjRiZjQ4OTQ3OTYyNzQ5ODM5ZmJjOTk2ZjA5ZDA0OTdlZTUxNTY3NzhhZDVjZWU1MzE1ZjdlODA4NWM4NjJlZTE2Y2RmZDZlZjcwYTJjY2RjYmM4Zjk0YmIyZTQ4ODQ2MDE4ZDkxZjg4ZTMyODczOTFiYWMzNDg3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLWluZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy1pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3VwZ3JhZGUtYXBpLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91cGdyYWRlLWFwaS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImRjYjA5ODEzYjVkMTM1NDRhMjQxMjUxNjlmYTk4YzAzNmE1M2YwM2FjMTBmNGIwMjNlZjI0OTM4MjM0OTgxNDAxYThjMTJhYTFhODM2YjQwZmNjN2M5YWI4ZTExMGE2MjBlOWIxZWU5YTQwOTIxZDdlOTc0Mzk4NDZhOTYwNmM3IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL25ldHdvcmstdjAuMS4wIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL25ldHdvcmsiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9uZXR3b3JrLXYwLjEuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL25ldHdvcmstdjAuMS4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2Jhc2U2NCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9iYXNlNjQtdjEuMC45IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2ZhciI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9mYXItdjEuMS4xMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvYnl0ZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2J5dGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjM3NGQ5YTI5ZmI0MTlkNGYyYWNkZjA5NTMzMWRjZGE4NzE1ZGE0ZDJhNjViNmM2ZjEwOGZhMDY0YWYzNDAwNjQ0MTRmMzFlYTcwZThiNjQ0ZTViMjMwZmNiMDMyNTVkZDljNDU2MTBiOGU3MjE1YWU1ZTJiZGRjMWM1ZDNlMTIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjZjZWQ5MTlmOTFhNWM4YWFhMTk4M2MzNTFmNDA3Y2JjMjY0MmNjZDdkMDM2MTA1NzM0OWIwNjNkMDk2NzhmNWFmZjJjNzFiYWI5ODhkMmI1MDBjZGEzZDhjZDIyY2FkZDFlMGNjZWY0YWJhNzE0NTBkN2Y1ZDZiYTA2MmY5MTIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbXVsdGlhZGRyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tdWx0aWFkZHIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5YjVhNjQ4MGIyYzQwYjNlODdiYjhhYjFhZmNhODZhMzcwMTgzNTQyODc0ZGM1MWM5NDU4MGYyZDQxYjVkNGE2Mjc0N2E2MDU5YTMzZTEyODI2ODM3N2M3M2E0NDIxMDhiYzFlOTU4MjZhYTI4OGEwMTliODIyM2M1ZGUxYWJiZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9uZXR3b3JrLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9uZXR3b3JrLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTYzMGQ4MWM0MTg5ZWJhYjJhMTkzMjQwNmY3NDRiMzQyODJmOWYzZDE0OWMxNGYwMTU0NzU2ODc0MzZjMThmZjU0NTQyMTY4YmY4YmI1YThkNzg2MmU3MTZhZWZiNDE4Y2JmZmExOWNmZDU5MTRlYWEzZjc4ODUyMDQ5MTcwN2IiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcm91dGVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yb3V0ZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5N2UzZjFjNTEzNTUzZjEzNjYwODA1NGVjYzYyMmE0M2YxMWRiNzk4ODJiZGU0MTM2ZjM2MTQ2M2YwZjY2MDFmNWVjOTU1YTQwMDMwMThkZmQ1MzBjMzBhYjRmOTc3ZjcyN2QyZWUzNjc0NzcyNWM3YTcxMjk0OTA0MDI3MzY1YSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zaGFwZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3NoYXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjM3YTg4ZDk3MjNmMDY4MjcyYzdhMTc2M2VmZTBmZmM0ODc3NDkwNzdiM2U2YWI2OTcyZTE5OWYwNTBiMjhkYzUzNmNjZjUxYTljNWViYTAxZGZmNjA4N2MyZmEyZjdlMTI2Y2YyMjUxNDI4MTA2YWQ1YTQ2MDRhNWMxMzAyOTM2IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL25vdGlmaWVyLXYwLjYuMiI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy9ub3RpZmllciIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL25vdGlmaWVyLXYwLjYuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL25vdGlmaWVyLXYwLjYuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL2ludGVybmFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbC9zcmMvbGliLWNoYWluU3RvcmFnZS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2xpYi1jaGFpblN0b3JhZ2UuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdGVzdGluZy11dGlscy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL3Rlc3RpbmctdXRpbHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdXBncmFkZS1hcGkuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy91cGdyYWRlLWFwaS5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3ZhdC1kYXRhIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9mYXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9tYXJzaGFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9hc3luY0l0ZXJhYmxlQWRhcHRvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU3MjBkZjM1NWVlZjVmYWJlMmQxMmFlZDA4OWMxMDQ1OTAxOTAwYmZhYTNhMDZjMTExY2FjN2U4ZjMxMzNiMGZiMTA1MDUyZmYzZWRlODUxNDUzZjcxMjAyYTU5YzFjYjkxNGUxZjEyNDg2YWY2YzhhNWI1YzM4OTlkMTMyZDZlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjgyN2RlZGE0MWY0ZWZmZDQxZDJjOWNlYmI3ZWY5MTQ3MTZlODAzOTI1MGEzZmM2NGUzMmFmZGE2NWZjZDJlYjE1M2JjMmVmODc0NjVmODkwZDMxYTlmOTQwYzBkNDAwN2RkODg1Njg2ZDVmYzI1YmMwY2NlNzFkMWUyZjcwZWQzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL25vdGlmaWVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9ub3RpZmllci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImYzYWQ4ZDg5ZmU4MjZjNGMxNzQ5Mzc5ODQxM2Y1ZTFmZjdhMTU4NDhiMzZiMWQwNWQxNWM5NGRlNDJlZmQ5MzliMGQ0MzI4MjY1Nzg5MDYzZGZmODk1MmY4NGUwNGRmYjJiMzhhYTJkZjQyYzYzZjA3NDg2NDliM2MyYWY4NTNhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3B1Ymxpc2gta2l0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wdWJsaXNoLWtpdC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU1YmFkOWIzODM4NGQwZGQ3YzkyYmU4OWYwMjIzNjQ2ZDZiMzlhMjQyNmE4MzM5YmY4ZGFjNzg0YmRhYWQ2MGE3ODcyZDFkMzA3MmMxNTY0MTVkYjFhOWQ3ZmI1NDA5ODFjNTJlZGJiMGNhMTI1MDkwZGQ2NTMyMGZkZTYxNzQwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N0b3JlZC1ub3RpZmllci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3RvcmVkLW5vdGlmaWVyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjg5NGRlZWY3OGM0Y2RjODcwMGIyODE1OGRiOTljYjBlYmFhYmExYTRlNjhmOThiMTg4NTMwZTJlMDUxNzFiOTI4NGNhMTc2MjJlNGI1MWU5MzNiNzYzY2Q3NWIwNjdkYTViMTVmMzdjNTkwMGJmZmI3NGU1N2EzNDM0MTQ4Y2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3RvcmVzdWIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N0b3Jlc3ViLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTlkYjg4OWVmNGIzZWQ1ZjI0MDdmNGM0M2NhZjFjNjcyYjRhYjNkMTMzMGZiNTljZWQ3OTFlMDYyNDk1OTYxZDZlM2U0OTI4MDYyOGEzMzJhOTExMzdmZWJhM2ZhMGQ4N2NmZTlkMGZlZjdhYzY5ZjQ3N2Q2Mjk1MGJlYWNkYTciCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3Vic2NyaWJlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zdWJzY3JpYmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmZjNiMzM4NDJhZjMwZDVlNzFkYWUxOTgzNmRjNmRkMDFjOTFmODljZTVmNDBmNWQzODljNWE2ZjRjY2ExNjlmZGUyZWRjY2JjZjBiN2NlMjg5MGQxZGFmMDkzOGI5YzY0NGI1NmZjOTk1NzYyNmY5NmI0ODAxMGE1ZTEwOGM1MCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zdWJzY3JpYmVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zdWJzY3JpYmVyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiN2IxMDc4MWY1Njg1OThjMjJmNzkzZWJlOGEzNDBjMGNjYjg5YzRlZGIyOWNhYmM2MzMzNTM5MmFkODNmZjFhNjhjYTcwYWJmMTk4YzkxNzc0NGU3ODc4ZWFmYWE5YTkyZjg0ZjJiODEyZWEzZjk4Yjg2YjY4MzZjYWVjZTg5MzgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdG9waWMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3RvcGljLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2IyYjM0ZTA1M2YxOGMwOTMzMjFlYzM0YjFmNzRjYmYzMzcwZWY5NDE5OTA3ODkxYzhlOGZhZWQyZDRlZGFiNTAzMmVlMjlkYjNlYzAzOTVhZWNkN2NjMzYzZmM3MmYzZTZjNzkzNzA2NTA3ZDFjZjNkMDQ5MmZhZTVjMjhlZGUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMtaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLWluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfSwKICAgICAgICAiLi90b29scy90ZXN0U3VwcG9ydHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAidG9vbHMvdGVzdFN1cHBvcnRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjJkZjUzMTVhZTljMmZlZDQyZTdlMDk2MTdmOGY5OTQ5N2YwZDEyYmQ0N2EwZjUyMjAyNWEwZGM3MjFjYWE3OWM2ZTgxMTI1OTI5YTViZWJhYjk1MWU3YWQwMjE0M2Q4MTJjOWJkYTVlZmJhNDg0NGQ0N2NhM2M4MzNlNjEzNGQiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvb3JjaGVzdHJhdGlvbiIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9hc3luYy1mbG93IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9jaXJjbGUvY2N0cC92MS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvYmFuay92MWJldGExL3F1ZXJ5LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2JhbmsvdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvcXVlcnkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3F1ZXJ5LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvcXVlcnkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy90eC92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy90eC92MWJldGExL3R4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9pYmMvYXBwbGljYXRpb25zL2ludGVyY2hhaW5fYWNjb3VudHMvdjEvcGFja2V0LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvaW50ZXJjaGFpbl9hY2NvdW50cy92MS9wYWNrZXQuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vaWJjL2FwcGxpY2F0aW9ucy90cmFuc2Zlci92MS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvL2ljcS92MS9wYWNrZXQuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kaXN0L2NvZGVnZW4vaWNxL3YxL3BhY2tldC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvZXJ0cCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvZXJ0cC9zcmMvdHlwZUd1YXJkcy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL3R5cGVHdWFyZHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvbmV0d29yayI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL25ldHdvcmstdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy90aW1lIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdGltZS12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdmF0LWRhdGEiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92YXQtZGF0YS12MC41LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3ZvdyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3Zvdy12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3Zvdy92YXQuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92b3ctdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi92YXQuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy96b2Uvc3JjL2NvbnRyYWN0U3VwcG9ydC9pbmRleC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3pvZS12MC4yNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvY29udHJhY3RTdXBwb3J0L2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvem9lL3NyYy9jb250cmFjdFN1cHBvcnQvcmVjb3JkZXIuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy96b2UtdjAuMjYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9yZWNvcmRlci5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3pvZS9zcmMvY29udHJhY3RTdXBwb3J0L3RvcGljcy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3pvZS12MC4yNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3RvcGljcy5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3pvbmUvZHVyYWJsZS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3pvbmUtdjAuMi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kdXJhYmxlLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBjb3NtanMvZW5jb2RpbmciOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9idWlsZC9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9iYXNlNjQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vYmFzZTY0LXYxLjAuOSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9mYXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9tYXJzaGFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBub2JsZS9oYXNoZXMvc2hhMjU2IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBub2JsZS9oYXNoZXMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9lc20vc2hhMjU2LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBub2JsZS9oYXNoZXMvdXRpbHMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQG5vYmxlL2hhc2hlcy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2VzbS91dGlscy5qcyIKICAgICAgICB9LAogICAgICAgICJiczU4IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogImJzNTgtdjYuMC4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvZXNtL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2ODgyMDE3M2Y0NTE1YzE5MDU4NGJkNTUxY2MwNTgxMDU3ZThjNzY2MTZlZWRmYTEwNTdkY2VlZDlkZmE3M2IzNmEwOWNmODc1MmY0MTY1NWM0NmQ1OGRmOGRiYzFmZjAxNmQwODk5NmQzMmRlZDg5YzQ5YzQyNzhjOWZiZGEyMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jY3RwLWNoYWluLWluZm8uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NjdHAtY2hhaW4taW5mby5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImNmZDY0NzhmZmJlZTk4Y2RmNDliYWM0MTMwYTg5NmRlOWY3YmNjZDZhNTk3OWY2NDk0NmMwNTdhMDhjYWM3ZGJkNWZkYzZkN2RlZWY0NDRlNzMyZjkxMDk0MTQ4NzIxZjAyZTlhYzYwYzYyNDMzNWJiMjA4ZGEwZDQxNjkyZmFlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NoYWluLWNhcGFiaWxpdGllcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY2hhaW4tY2FwYWJpbGl0aWVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTIwNDZmYzhmNjcyYTc3YWUyZTQ5M2NiODdmYmVmOTM5ODBjNmQ3NTZiN2EyZGQ2YTU1ODA3NGNhNTkzNDU2MDk0N2Y0Yzk2MjI1MzVmNjY4OGU5ZDAwMGI5OTRhZDYxNjg3ZTA5ZThiMmQ4NjIzNjg5NDIzN2UyNGYzMjBkZjAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9jaGFpbi1odWItYWRtaW4uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDRiMTg3NzQzYWQ5MTYwNGU0NjVkZmYxMmExYTUwN2E0MGQxMjhmODcxN2ZjYmUyYTAxNjA4YWIxODIwNmM2ZmJhMGJlZmFjZjIzZGVhODAwNzM3MGNiODQ4ZDhmYzAyOWM1YTZmM2MyMmIwZWIyODcyYTI0YjcxZTNlOTM5ODkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9jaGFpbi1odWIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvY2hhaW4taHViLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzVmNzI5OGExMTgzYjlmYzI2NzE3MWUyMWEwY2QwY2Y5NDVlODI2Y2E4NDhjNGRkNjUzNTRlNWE5ODYxNWJjMGUxMDBlN2Q0ZmI0ODE5ZDdkY2I4MDg3ZTMzNWRkMGNiNzM1YjlmY2NiZjJlZjQ3MGNiNGM3ZmQwYWY1NTk2N2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9jb3Ntb3MtaW50ZXJjaGFpbi1zZXJ2aWNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL2Nvc21vcy1pbnRlcmNoYWluLXNlcnZpY2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3OGQ1MGEzNjlmZTk4MTU2NzcyNjNmODkxNjZkNDQ0OWRhNjZkYzkwYWJlNDc0YWJkZGQxNzRiODk0ZjQ1ZTM4YzViN2I1NjkwNDdmNDEwZjJiODYwYzQ3ODUzMDQ2NTc5NDljZGQ3MGRjZWI1NjI2ZjYwM2IxMDU0ODQ2MzQ0NCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leG9zL2Nvc21vcy1vcmNoZXN0cmF0aW9uLWFjY291bnQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvY29zbW9zLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU4MzQ2ZDdmOWY4NTIzNDU3N2Y2ODdjMmQ1YjExMGMxZjQ5YTlmZDZmMjQyZjNkODNkOWI0ZTAxNThhNDE0MGI0MGM3YWVkOTc2YmViYjQ0MjU2NTQ2YzNkMWI1MGI0YjhhNGZhZTk0OWRjZDY1MDQ0ZjZjOTdiYmRlYjJhZTUzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4b3MvaWJjLXBhY2tldC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXhvcy9pYmMtcGFja2V0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjhhZTgzMjlkN2M0NWExOWFlM2I1ZTJmNTIzY2NjNjhhNzZhMzY1NTg1MGQyNmMxZTYwZTFmYjY1NGMwNzMxMjJkMzM5YTFjNGVlOTJiODIwODI1MGE1ODRhYzcxOTlhMjQzZmY5Yjk1YmJlYTllOGNkYjM0N2E5MzkxZjg2YjAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9pY2EtYWNjb3VudC1raXQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvaWNhLWFjY291bnQta2l0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZWMxNjViZGIwMzFhNDMyODg4NTBiYjUwYWZmN2FkNDcwNzJjNzE0MDIzMDAzMGIyOTliYzYxMGZlNTZjZDU2NDRkYmQ5YzFlMjIxNzgxNjdlOWI4Y2UyNjFiYWJlZmJlZTUzNTMwOTEyNTU1YmFmZjQxODFhMmI0NzNlNTlhNmUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9pY3EtY29ubmVjdGlvbi1raXQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvaWNxLWNvbm5lY3Rpb24ta2l0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNjg1MWFlMTdjMmU3MDc1ODA0MmExMDIyODMzYWYwMTA2NGYzMTJmMzFjYmFiOTFjYjZhYzI5NzViODM5NzY3NTM5YTMzNzRhYzZjN2QwNjQ4YmU0ODE0NDJlNmFhN2FiOWI1Y2E3NjE3ZjU1NDBmYWU2ZGYwODY5YmJlY2U2ZjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9sb2NhbC1jaGFpbi1mYWNhZGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvbG9jYWwtY2hhaW4tZmFjYWRlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzNjZTM4MWI2MTlhYWZkOGY5MzY4NWE3MDViMzU5NGQ3MzYyMGYyMmUzNTMwNTYxZjcwOWEzZDQxMzZkODE2N2E1NGUwZWEwNDQxYjZiNDJmMjhmM2ZmYjFkYTJmMjI3ZTE3NGQwOTFhMzZhYTE2MmQ2NDBkZGM0MWM2ZmNkMmUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9sb2NhbC1vcmNoZXN0cmF0aW9uLWFjY291bnQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvbG9jYWwtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiODU2N2E2MTc3MTc3MzlkMjIwYjg2MGY0MWUyZjM5NTU5MTJhYThmMzNhNzU3OWYwNTZhNDgxNDc0OTgxZjA2MTI3ZmQwMjZjMDhmY2ZkNmQxODU2Y2U2OThiMzg1OGJkYTJjYzllMjAwNGE5ZjVkZTJlNmU0MWE3MmJkZWMyZDAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9vcmNoZXN0cmF0b3IuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3Mvb3JjaGVzdHJhdG9yLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZjc4Y2UxZmMzZjVjNThlZDhlYzMyODZmYTkzMWRhZjJhOWRmMTNmOWJmODI0MjgyZDRlOTc5YzFhMjJlODU0NWEzZGM5YTgzNWEzOGY4Njk0ODc4Njg5ZjM2YmU4ZjNkZjQyNThiYjEzOGQ1ZTUwZWFhZTcwYTg5YmZiZGI0M2UiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9wYWNrZXQtdG9vbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvcGFja2V0LXRvb2xzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYWUzZjBhNTg3NmZmOTY0NGZiODk2MjkzNDM1NWM0MzRjOTQ4ZTczODg3M2M0MjE2NmZmZTA0ZWFiNDMzZjMzOGZiMGM4M2I4ZWEwNjc2MzQ1MjBlYWVhY2IxZWM2MTJhZDMzMWZlMTAzYzI0MzQ5ZjVmOGJiOTQ1MWY0ODRkN2YiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9yZW1vdGUtY2hhaW4tZmFjYWRlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL3JlbW90ZS1jaGFpbi1mYWNhZGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkZjE3ODNiOTc2NzAzMzAzMWVlNDY5YTBlYTFhZWVjNjgzODJiMTA4OGQyZDM4YWYzNGI1N2VhMGMzZGQ1OTIyNjk3OGFjM2Y4NTJiNjEyNTI4NDJmNDhiNDhjYmFjYzdkM2Y4ZWJlZWUyMDcwMzM2NTMwMjYxZjA0NzQ3ZWJlOSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9mYWNhZGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2ZhY2FkZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjhhNWViNzcwYTE3NTA2YTdkZDFiZDQ0ZTlkZGFhMmI2ZGQwMjM3MDljYWUyZmMzMTQ1MDhlOWI0NzhiYmU2MDZmNDU0Y2ZiNWIzMDc3NjE5MzVlNjczYjQ5NGM5NTg3MzY0YzhiYzFjZmQ2MjVjMzViM2JhMmVkNjIzM2NkOTY0IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVHdWFyZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVHdWFyZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJjZGEzMmQ3ZjcxZTdiYzM3NmQ0MWU1YTVhZjVkZmY0NjY3NzEwYTY0ZjlmN2VlMmNlOTk4N2UwYTk3ZGY1NmIzYWYzYTQ3MGIyOTVhMTUyZjJkNjM3MjEzOTc2Y2VkYjRiOGE3Zjc4NzE5ZTA5YzgxNjk5MzE2ZjQwYWVkNWE0NyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy1pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMtaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy9hZGRyZXNzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9hZGRyZXNzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTk0Njk4Y2FjZjcwNDVkZTViMDg3OGM4NzI3YzljNTMwNGRhZjc5OTJiYTM4YzE0ZTVlOTExNmIyYjg2ZmFiYTU5NDJmNjI0MDgzNjIxNTdlYWU5ZDAwMDJhMGNkNWVjZDIyOGJjNjg1ZjdiZDc3ZDcwODQ3YzI4NTlkNGE5NmMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvYW1vdW50cy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvYW1vdW50cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjJhY2EyMDAwZTBlOTExZWNkNzU3ZTYzOTM0M2M0NmFmZTZjMDU5YjEzYTI1Yzk5ZTMyMWRhZTVlOWViMWNjOTBjODZjMjhkM2I3N2Q3Zjg2MjYwZWIzYWJlZTQ5Mzg3Nzg4Nzg1YzBkNzdhNzgwZjhmNDVhOWIxYzlhYzExNWNkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL2NoYWluLWh1Yi1oZWxwZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL2NoYWluLWh1Yi1oZWxwZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNTJmNjJlYTFhYTQ4ZmM4MDYwNzI2ZDgyNjAxNjk1ZGQ2Nzk3M2NmOTk3Nzg1ZjM4YTk5MjQ0NDliNmExOWZkZGUzNTRkOGE3MmJkMWYzZmQ3ZDkzYzZhNWMwZTNhYTgzNDVmOGJkMTlmMzdmMzFkY2FlMjRlOTZkNDVkNDk4YyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy9jaGFpbi1pbmZvLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9jaGFpbi1pbmZvLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzZhMTVmNGRjMjc3MmI2YjllNDBlNmY1MTk1NzUyZWFkODNiNTdiYjc1YThjNmQ5ZDU3ZjFkNzA3M2E2OGVkODU3ZDFmZjRhYTk3YzQ5ZDk4Zjk1YWIzZGE5ZTgwOGY2ZWU1YThmMjU3MGVlNzZjYmE5OGRjODViMjc1ZWJiNWMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvY29zbW9zLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9jb3Ntb3MuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlMGIxZDcwNWVhNjk2MGE4NDg4N2M3MGZmYzAwNzU3Y2UwZjFlZjYzYjQ3MWExMDdiZDEzOWI3YzRlNjg2NDU4NTE3NzVkZWEzMGJjYTllNGUzMzc1Zjk0ZGUxYjQxODU1MmJiMjZmMWM0ZGNmZDM1MzU2MmUxNDE1ODQ4YTJmOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy9kZW5vbUhhc2guanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL2Rlbm9tSGFzaC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjhlZTBkYzk5ZDFiYjZhOTU3ODdkMWY2Y2VlYTA5Mjk1MjdiZGQ0ODllYTI2MzI4ZGJmZmE2MmEzMDcxODUwMDNkOWI5NTNhNjg5OWRjYjliNTcyZDc3ZjkwOTdhYWI3YjE0N2E0OGQzOTUwOTdlOTg0YzdiMTAzNTcyM2Q2ZTBmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL29yY2hlc3RyYXRpb25BY2NvdW50LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9vcmNoZXN0cmF0aW9uQWNjb3VudC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjhmZGZhNTJmNjZkZDI3ZTlkODhhZGVhYmUwOTIxNjVkYTViN2ZiMjk4YzA4MDg5OGI5M2Q5N2QwYTQ0MWY1ZTY2ODUyZTZkYWU3NDAxZjRhOTYzNzNmNTdiYmZkNGQwZTM2YjNmNjkzMWNjYzkxOWYzNWMxZjlmMzdlNzk2ZTNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL3BhY2tldC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvcGFja2V0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNmZiZTc2MzViMTcwNmM1Yjk3Yjg4ODdjOTg4YzdiYjg1N2M3ZWYzMDE2ODcyYTk0MmE1Nzc1NWNmZThkMTc1YTZhNzkwMTg0ZGRjYWE0YWNmMTJlODRmMmZkN2NlMDZlZTcxNTMzYzE2ZTAzY2UzOTdjZGIwNTgzOTI3MGIzNTEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvc3RhcnQtaGVscGVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9zdGFydC1oZWxwZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkZjQ0M2QwOWZhOGViYjNiMDQzNjI1NmEwYTk2NGY5MzM1MGVlOWJmNjJmZmJmNzAyN2ZkNDE3MWVkMjRlYmIwOTdiMjM3NzMwNjA4ODRjN2M1OTc2NWExZWM0Yjc5OTRhZjI2ZDJlN2YyMjMyNDE5ZGRjYzQ3MTdkOGNjYzM5ZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy90aW1lLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy90aW1lLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTZiNDdlZmNiNzhhMDExMWUxYmU4NzZmMmRjNjk4OWEyOTAxMGQyYzliMGNhM2VhZjNkZDU1MWYxNzdiMGJjNjNjMmNkMDgzNzE5NmY0ZWIwMzBkMzU2MmZlNDUzMzE2OTFiMTFhZWYxYTg2ZDdmMzJjZjdlNTRiYTk4MzVjZGUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvemNmLXRvb2xzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy96Y2YtdG9vbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3OTJiMjc0NjIxMGM2MDk4YjBiNGVjMzc1NGQ5MGQxNjNmNzllNTNiZmQwYjdjMDNjNWM1MWFhZjYyNmFkOTRlMjFlY2NhM2RiOTUxOTljYTZmMTBiODM3NzU3ZDM0YWNjNzc2NzM2NWE0Y2Y1OWFkYmNkYTE4YzdjZDA2OGFhMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy96b2UtdG9vbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL3pvZS10b29scy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImI5ZjgzMjE4OGQ3YzZlMGJiNTdkYTE3ZTI4OTM2OTlhNDZhZDk1ZjZlMGY4OTQ1ZGUwYjAxZGJkOTk5OTUxZmQ2ODhhZTUyNTRmYTc3Yzc3YWQ2MDhmYWIxM2Y4MzI4MGQ5M2M5NzljOWYxZDVmZDZlMmJmYTliMzZmOThiZDI2IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL3N0b3JlLXYwLjkuMiI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy9zdG9yZSIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V4byI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9leG8tdjEuNS45IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9tYXJzaGFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJiOTIzOTY0ODc1Y2RlOTdjMjZiY2QxODNlODAzYmUwMWVhZDcyODY1YjViMjU4MTcwMzdiYWZlZmRiY2FkZDZmMGU2NGE2MDU0NWRlYmFlMmM1MzhkMGJlZGM3Y2NhZWQ2OWRlM2VhMjI1OTM0MzhmMDVlNmJhODA0OTk3M2JmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2xlZ2FjeS9sZWdhY3lNYXAuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2xlZ2FjeS9sZWdhY3lNYXAuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0MGFjYTZlZWRhMmI2ZDM3YWYzNDg4Njc1NTc1ZjFmMmZkNTY0OThmZmIzNWRiOWRjZGQ4NDlhN2E3MzA0YTVjMTdmYTYxMjg3MmRkODY3NGYyYzlhZWM4NGJkYWFhNGY4MTk2MGNhY2UwMTlhY2YyMzQ2MmExMWUxZTFmNGU1MCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9sZWdhY3kvbGVnYWN5V2Vha01hcC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbGVnYWN5L2xlZ2FjeVdlYWtNYXAuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4NDliMTY4ZWYwNGY4ZDliODM0MmMwMzNhN2I2ZTlkMGQ4NTA0NTRhODJhZWM3MTlhNTk1NGViODA3ZjZlZjFiODAwNDQ5YjBiZjczNzFmNDk3OTk0YTk3NTM1M2VlMTgzMjAwZTFiOTJlNjFlNGQ0NTQ2YmZmNDMzZGNlOTg2YiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zdG9yZXMvc2NhbGFyTWFwU3RvcmUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N0b3Jlcy9zY2FsYXJNYXBTdG9yZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImMzOTc2Yzg3NDYzMzA4MDYzYmE1OTY2MDIwODE2NmJjMzRiYzljNmU2Y2NhNDgyZmU0OWJiYmVlZWQ4NTA4ZDI0ZmI3ZjEzODM0ZjIxZDUwYTFhNTBkMWEwZTcyMjliOGJiNDgxMGFkMmYxNmZmZDA1NzYwMTVlY2Y4NWNlYzc4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N0b3Jlcy9zY2FsYXJTZXRTdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3RvcmVzL3NjYWxhclNldFN0b3JlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMWZkMTc2Yzc4ZWQwYTlmY2UwNjhlZTliNzc2M2NhYzc3MjJiMWQ3YmY3ZTlmZDBlYTIzZDI1ZGFkMmYzMTRkMmU2NjA4ZWJkYjY1NTk2NmU3OWQyYjZjODMxNGFlMmI4MDQ1NjZmYTYwYjdmMDAzMzU5YjQ2ZmNlNTI1NTBmZjUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3RvcmVzL3NjYWxhcldlYWtNYXBTdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3RvcmVzL3NjYWxhcldlYWtNYXBTdG9yZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjgzYWVlMTUzY2JmMWU3Njg2OGQ0MzdiODhkNWU3MGI2OGIzYjhlMzgwNzExNGMwMjU5NTg5ZGE5NWZhNTRiMzI3MmViNTEyZWEyMDY5YzA1OTJlMGEyMTVjZDgyNDkzZmNiYTJkMzkyYTk5M2NhMjk2NDE4OTIzZDdkOWRiZjE5IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0OGRjMGFkOTgzNjk4OGJhMDI0ZDliMjUwOWQxODI4MzgxYzRlOWVjNWZjNjYwMDNhYWZiMzE2Njg5MTNiZjMyNWYyMjJiZWNlNTdiMjNkNjM3NzBkZjJkNjBjNWY2YjVhN2U5YmQxYjQ1OTBjMDhiZWE4ZGI1MDIyNDUxMWRkZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zdG9yZXMvc3RvcmUtdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N0b3Jlcy9zdG9yZS11dGlscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImVlZDIyYTQ2ODBlZWFjNmRmNzRhMjZjODllYjk1ZTllNWMzMjU1YWVjNGExYTZlMjNmZjdmYTNiNjQxMDQ5YWQwNGYxMzJkNGVmYmE0NGY5NTZhZTgwNzkzZmUzNzg0NDAxZWZjYWQ1MWZjOTMyNzU5ODYyNWQ4NTE3ZGU5MTQ1IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL3RpbWUtdjAuMy4yIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL3RpbWUiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy90aW1lLXYwLjMuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL3RpbWUtdjAuMy4yIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBhZ29yaWMvc3RvcmUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9zdG9yZS12MC45LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL25hdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9uYXQtdjUuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGF0dGVybnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGF0dGVybnMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDBiYzRiMjFhMjhjM2E1Yjc2ZjQ3ZmFkYTRlYzE3NjFlMTE1OWM0MWUxZmViYmYwOTVlYWVkNjExOGUxNzM2ZTU5NDYwM2MxOGVmMDI0YWM1NmY2YTVhYjNmM2NmMDg2YzVmNWI1NDRlZGUxMDAzMDFmYjM1ODI5YzUxYWIyN2YiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdGltZU1hdGguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3RpbWVNYXRoLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmNkZjFlYmM4ZTU5YmNlNzk5MDgyYzFjNzg0Y2ZkNjFkN2NmMTY0ZWQzN2EzYjViZmJmYzE3YjM2NjY3ZjEzN2UwZmFkNTQxZTY0NDhkMGE1NTRhNmVmZThjNDQ1Yjc1ZjIwMjEyMTM5ZTk0MjRlMTJmODdhMDRiOWU1MmViMTEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZUd1YXJkcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZUd1YXJkcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjM3NmQ2OTExOGQ4ZDExNGZmZGFjZDUyNmVmMjM1YTRjNDcwMmM1NTNlNTBlYWY4NTQ5MmEyZDRhODNjYmZmNWUxYzVkMWNiMWFjMjY0ZTI1ZTU5ZmUyNDkwMGYxNTcyY2E4M2UyYTYzZTllNmM3NDRiZGM2ODMwOThhMDQ0ODQzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLWluZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy1pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMiI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy92YXQtZGF0YSIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL3N0b3JlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvc3RvcmUtdjAuOS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leG8tdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4by11dGlscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjdlYzk3YmQyOGZiYWUxNDg1Nzk4ZWFkMmQ4MGQxZDI3NTBiNzg0NjYyYjNhODcyMDkwY2ZjMmJhMjFjODE2NjU5YTAyODJkYjNkYTg5OWE5OWJlMTE5OWQ2MTBlNWZkMTU1NGFlZDY3MjMxY2MzOTMyN2I5ZThmNDMyYjFmNjhhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImQ3MmZlM2E2ODM4ODNlODVjYzRkZDNiODZhOGI1ZmMxZjJiYTFmNjc3ZWI4MDMzMTk5MGZkNTQ1MDU2ZjhmMWEzMWJkNGU2OTM1OGViYTEzY2U5MGQxYTJjNWNjMWMzMmZmOTU5MGQyOTBmNGNkODc0NTk4ZTg3ZDAyNzk3MzkyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3ZhdC1kYXRhLWJpbmRpbmdzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy92YXQtZGF0YS1iaW5kaW5ncy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjI4ZmM1ZTZhN2M3NTM5NGUwMTY1YjBmZjMxZDVlNTM2YzQwNTAxYzIzNmU1ZGUyMzYyZWFmYjAxNDY2NGJkMzQ4ZWY1OTBlYzI4YWM0NTQzMGMxMjgyNjU5NjFiMGYwZmZkNjUzOTdiYTAwOWQyMDk2Mjg3MjFhNjMwOGFhZmM0IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL3Zvdy12MC4xLjAiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvdm93IiwKICAgICAgImxhYmVsIjogIkBhZ29yaWMvdm93LXYwLjEuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL3Zvdy12MC4xLjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9iYXNlLXpvbmUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2hlYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbC9zcmMvanMtdXRpbHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9qcy11dGlscy5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2ludGVybmFsL3NyYy91cGdyYWRlLWFwaS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL3VwZ3JhZGUtYXBpLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vudi1vcHRpb25zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvbm8tc2hpbS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL0UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL0UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyMWI0ZjllZjNhMDQ0ZTdmOTk3NmM4MTZhN2Y4ZTM3OTEyYzk2MGM4YjE0ZTY0ZWE2YmY1ZjI0NjA0YTYwYTU1ZmVlZjg1NzExYzc0OTk0ZTQyNThkMGU4NzQwNmQ0MjE1ODE2YmIyNmU3MTMzNzk5ODE1MGFmODk1ZGY1MTQyYSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyNDYwMjc2Njg3NzIwMmViYTNlNGExMjdhMTVhOTMzNDE0NDgzNjQ5NTUyNzNhYzY5MGIxM2Q2NTY2MTVkY2YyZTliMDE2MjU4YTk2MWQ4ZmE5ZTRlZGM0NjIyYWE2YjA2ZTYyZTY1ZTgzYWRlYThlNjU5MWQzYzVhNGEwMWE4NSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMmNiOWQzZTc5NzVkNzQ1MWQ2MDViZmEyMTc1Y2JmMmY4ZWViMjk1YjA0N2NkMmRmNDRmNjBiZmM1ZTEyYzlkOTgxNTQ3NDQxMjExM2Q1ZWFlZTM0ZjYyN2JiZjAyZmU0NjY3OTBiMjEzYWE1NjZjOGFjOWQ4YzEzZWEwNDQwZTEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcmVqZWN0aW9uLXRyYWNrZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3JlamVjdGlvbi10cmFja2VyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTFjY2RhZTI0NjM1ODRmNWViNDRjYWY2ZjM4NDgwOGI3NTYyMWNjMDlkNThjZGZjMTUzMWZlOTNkZGI5NGYyNDgzZTFkZDI5OTBjMTVlOTNiMjBiMWVjZDA0MjNlOTA5ZWNjMDhiYTdiYTYzZWZkNGJmODkyMDA1ZTdlODY0MGYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcmV0cnlhYmxlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yZXRyeWFibGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJjYmZmZGNiMTY1MTg4NTAzYmQzYjNmZmFiYjI1OTRkMjA4ODM5ZDlmOTc4Yjk0YjgyODY3M2U0ZGY5NzhlMGJmZWY2ZjliZjJhMWJmYThjMDczZGM2MzRhNWZhODQxZjUxODdmOWQwM2UxZmE2MjhhYmY3NWI5NjI1YWVhNDcwOSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90b29scy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdG9vbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmYjliYTAyNTFmNzNiMTZkNjRlMjgxYjYwZmQ0YWE1MGM3NDkyYmU4ZmI0YWQ1YjEyOGQwOWRjMjVkYjA5NmRlZWVmNzRhY2I1NGRmYjAwN2VmNzY1NmIzNjZkY2E0YmQyMmNmMjBlMDhmNTEzYjM1YmZmY2Y3OTc3NDkxZjY3NyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90cmFjay10dXJucy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHJhY2stdHVybnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2ODVlMWM4MzdlOGI4YWE1YTEzMGY0ZDBlMGEzZDkxMTc3NjViN2ZhOTE1MTU1NTk3YWMxOWUxNWFhNWE4NmUxNGE3N2E0YWRmNTgyMTMyNzZhMDQ4MTYzYWRmZjEzNmQ0NmM0YmRlYjhkZjYyYjlhNTYwZTIwZWQ3YjM4M2ZjNSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy1pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMtaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy92b3ctdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3Zvdy11dGlscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjc0YjFiZmQ0ZjdkOTRmZmNhZTRkMTE4OGZiODQzY2JhMDgzMTdjYjcxNTkxYzgwZWQ1Y2M1ODEyYzE4NjI3MGVhNWI3MWVmZWUwNDA2NjA3YzhhZmViODQyMzdiOWNmZTA0ZDM3MmUwZGNlYTllZTQ0MTZhNDZlNGZhODc2OGU3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Zvdy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdm93LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTkzNjk0MzdmZjZmNTYwODNlMjEyMzNhMmIxNzFhYjE3N2ZjZjM4NGE1YTE2ODBiNzYwMTc4N2ZhNzVkMzkzZWFmM2RiZDNhZGUzMDg2YjAzODllYzg0MTdhZjcyYTMxM2EwYTQyYWRjOTkwNDZjNjMxYjZlMzM1YjNmYmZkMDMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvd2F0Y2gtdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3dhdGNoLXV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZWFlMGRmZDE3ZjZhYTI0ODgzNzgxOGZmZDM0OWRmMzFiOTQ5ZjhmODJjOWFhODM4MzMyNGU0NTc4ODZkYjAwZDcyMWEzNmUxY2UwYTJmNjM4ZDYzYzE3YjE2ZGRjNTRhMTg5YzgwYmU1ZTZkOTM4YTliZDU5YmQ3NzU5YTQ0ODQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvd2F0Y2guanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3dhdGNoLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjkyNGVkOTI0NjA1MTViZGM5M2RiZDRmZDgxOTg1ODdhMWUyMDFlOWQxOTFhYTM0MzRhNmY3ODJhNWMzMWU1Yjc3Njk2Y2Q4MjY5ZWM0NzI2ODZlYWFmZWE5NjNiM2Q2YzZiY2UwMDE5MDJmN2NjMDNkNDk2NDhmZDNlNzlmYmQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvd2hlbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvd2hlbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU5NTg4MGRjM2VlYzIxMmE3Y2ZhZGI3MzNiYzc3ZTI2ZTYyZGE0Yzg0NWVlZGM0NjQ2NTQ1MjVlMzEyNDczZWI3YjY0MDcwNDlmYTg5ZGFhYmM1NDEyMzIzYzU4NDNiMDg5NDJkYzYzZDEzNmU2OWQ4NGI2YzljYTRmMGYxYjBhIgogICAgICAgIH0sCiAgICAgICAgIi4vdmF0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInZhdC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjE5MzFkMWM1NTU4NjNmOTE1YWNmODUwOGY5NDBjOTc2YzcwNTBhYTBlYWRjMzA4NzkwMGJjYTU5Y2IyYWUzNjVlNzhiZjEzMWIyMTg0MzcyZjQwMjQ3ODRjODJiZTU2MWYwMzgyZTRiMTFlZDNmOWU3YzM1MTNjYjY0ZTFlOWRlIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL3pvZS12MC4yNi4yIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL3pvZSIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL3pvZS12MC4yNi4yIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvem9lLXYwLjI2LjIiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9iYXNlLXpvbmUvem9uZS1oZWxwZXJzLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvYmFzZS16b25lLXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vem9uZS1oZWxwZXJzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvZXJ0cCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvZXJ0cC9zcmMvcmF0aW8uanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9lcnRwLXYwLjE2LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9yYXRpby5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2VydHAvc3JjL3NhZmVNYXRoLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvZXJ0cC12MC4xNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvc2FmZU1hdGguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvbm90aWZpZXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9ub3RpZmllci12MC42LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL25vdGlmaWVyL3Rvb2xzL3Rlc3RTdXBwb3J0cy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL25vdGlmaWVyLXYwLjYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdG9vbHMvdGVzdFN1cHBvcnRzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvc3RvcmUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9zdG9yZS12MC45LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3RpbWUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy90aW1lLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92YXQtZGF0YSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXZlbnR1YWwtc2VuZCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL25vLXNoaW0uanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0RmFjZXQvb2ZmZXJTYWZldHkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0RmFjZXQvb2ZmZXJTYWZldHkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmM2VkNzM1NGYxZGJmYzk5MTk3ZWEzMzI4NTY4YTI2ZTAzNTM0ZWM5M2NkMWUxYzU2OWQ3NGMwMDdkOTYwNzQ3Mjk4N2QxNDE4ZGU5NWQ3ODNlZWQwNDVhNWU3MDQ5ZjkwNzcyMjJjYzZjNzkwY2Y3ZTZjYWE3OGQ2YWYzY2JiMyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvYXRvbWljVHJhbnNmZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9hdG9taWNUcmFuc2Zlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImM3MGM4YjJhMmU4NzBhM2NjZDUyNjNkZjg2MDNlMDZhZDZlNzY5OTM0NTU3OWI3M2JjZmI0ZjcyZTc2ZDlkN2NlYTYxNDNjMWEzN2E3NWIyZDU1YzAyY2YyM2JmYWFhOWRjMGY2MjM5ZGEwNGIwODNjMzlkMzQ2YTI4MjQwNDlmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9ib25kaW5nQ3VydmVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvYm9uZGluZ0N1cnZlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjk0NzU1ZTI5MmEyNmQyYjI5N2E3Y2E5ZTQ5ZjhiYjg0NTU4ZjMzYjZkMzRlYTIxOWQ3NzdiMmVlODBiNDg1MGIxN2E1MTg5N2JhMzI5ZWY2ZTE1ZTE5OGE3Y2MxYjllN2YwMmMxMmVjOWFjNjAwNDhhMDYxMWJiZDk3NzA1OTMyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9kdXJhYmlsaXR5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvZHVyYWJpbGl0eS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjM5NTNmZjMxOWY2MzljNjgxNWZlYjBlMTJkMjc0M2I4OTA0MTZiNTUxNDJkZTVlZDQ1NGFmZDM1NzdjZTA2MGMwNzRkY2ExYTZmODdiOTFiODE2N2I0N2RiMjNkNjA3YTcyYzg5YTgxMzRlMjdjYzU3MmQ4YmIzYmVjNjIxYWNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiODAwMDk0NjEzYTU2OWIxZDNlZmRjY2ViYzQ0NDU4MTFmMTEwZjc3N2RkOTE2ZWFhYWMwNWE1ZWZmYzM1ZTlkYWFiNTlhMzI3ZmJiZmUzMGUxYmQxMjkzYzJiZDA2YzU0MDg1NWZjNzJiYmU0MDA4NTY0MzBhZDY2YWYzOTkyNWUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3ByZXBhcmUtb3duYWJsZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L3ByZXBhcmUtb3duYWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImQ5MjcyMWQ4ODc1MmMxYzRjYjMyYjM4MWRmMTBmMTI2YzRiNTNlMjBmNmM5OGI1NzQ4YWJkYjg1NDM4MDkxMGI2MTg5N2ZlMGQxZWIwNzk2ZjBhNWI3OTdhYzQxY2U1ZTdlMDIwYzZlNjQxMWNiNzBmOWZhYjAyMGM5M2IwNDYwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9wcmljZUF1dGhvcml0eS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlQXV0aG9yaXR5LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYWZlNWEwNTg2NTcyY2NiNzFjYTQzZjkxYTcyYzc4OWUyYzVhOGE3NWU1YWVmYjQzN2I0ZTY2ZGQ0YjhjZTNlYzgyMjI0ZTc2MThkNDFhNTIyNTlhMWU2YTNhMmEwNTBjNTc5YjExNzI4ODVjMmZkNTc0MjdlNmIwYTUwYTA3ZTAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlUXVvdGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9wcmljZVF1b3RlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDA4OTI4NDc2YmYxZGQ5MGMxM2U3Y2E5MDAyNmQ4ZjZjMjQyNjIzMjUzYzhhNTcyMzdjYjE5ZTcxMjg4MDM3NWY3MGY3N2RhMjRmYmRjNGQzMDU0NTZkMzYzNjc3YTc5YmQ4N2U4NzJmNjYwZWJhNDIwN2M5N2NlZTk2NTExZmIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3JlY29yZGVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvcmVjb3JkZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhMTY2YmYyY2MxYzYwNzAzMDVhZmM2ZDZmMmI0MGE3ZWU1ZmQ4YzIyZTgzZjUzMzRhODQwNzYwYzgxYjQzMzY4OTNmNzE2ZTRmNTBjYTE3YWZhYTA1MGQ5MmRmZjBkYjc0MGIzMGEyMGFlYzk4ZDZkMzJhZTQyNGZiMTMzNDhjYyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvc3RhdGVNYWNoaW5lLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvc3RhdGVNYWNoaW5lLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNmY0Y2QxOTdhOGU0N2NjMDcyMDc2MWJkNjNmZGFhZTU4ZWQyYmQ0MDc2OGNhZmI1NDlkZmVhYThkMzc2ODc1YTQ2MjkwYTgwOTdlZDJjYjRkODQyY2E3YWZmYzg0ZjIzMWRmMjhiOTRlYjhmMmNjMmE1NGNlYTkxZDM3ZjkxOGQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3N0YXRpc3RpY3MuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0aXN0aWNzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZGI4NWZjZGIyMDQ4NDYyMTRhZmI1NGJlM2YwMGRhOWQ4ZThiYjQ5OTczYmE0MWUxYjQzMGYyODQ3ZmM0NTQyOGMxMjY5MmRkNTZjNjUxZjQ5ZWMwYmRhMDAzNDQzOTVlMDQ0ODExOGUwY2MyNjkxMmUwMWQzYTk5NzUwZjAwMzUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3RvcGljcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L3RvcGljcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImViOTRjMWY2NmUwYWM1MmI2MThhN2I1Y2U3OGVhZDM3MWQ0ZDc4YjkwNDRhZjEyY2NiNDQ2MDlhMjMwNmFmNDQwMzcwYTMzNmQ5N2FlODI5YjJlNGJjYzk5NGZiNzg5MTA4YWI0YjczZjFiMWMxYWZkMmFkODJmMzRhOTYwZDI5IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC96b2VIZWxwZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvem9lSGVscGVycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg2YzU2YjdlMzkyY2IwYjhhOGQ3ZDFkY2E3MTc5Y2Y5MTEwNDkwYjgxYjNjZWI0OTRlYTIzOGI1Njk2Y2Y3YzBhY2ZkNDUyMTZlNzg2NmY2MzVmMDA5YjhhODdkYTA2NmJjNDkwZDFiYmMwMmEwYTdiMTUxMWNiZDg2ZTA3MTdlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVHdWFyZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVHdWFyZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzNWRhNDc0NDc5OTBmY2YzMWU1OTIxOTdjMThlN2I4MjRhN2E0OGVlMjBjZGUzMTMwZjU5ZmY4NjhmNTYwNzg3YWNhMjRjODM2Mzk0MDgyZjcxM2UwNjZlOGExMmUyZGE3MzI2MTEyZDdjZmI3ZDA1ZmU4NzdjNzM5YjYxMTM0NyIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy96b25lLXYwLjIuMiI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy96b25lIiwKICAgICAgImxhYmVsIjogIkBhZ29yaWMvem9uZS12MC4yLjIiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy96b25lLXYwLjIuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL2Jhc2Utem9uZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3ZhdC1kYXRhIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2R1cmFibGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZHVyYWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImIyMDhkZWY4ZGYxY2JlMTQxODY2OWRlZGY4MGJkZjU5NTM1OGY1MzY2ZDExODhhYzA0ZmU0YTJjYjljNTNjYTg4NGQ4NTIxNWM5MGYxYjg3Zjk0OWJiMDQ4YTc5NmVlNWI2ZmRhMTNkNTFhMjU5ZTI1NzQ0NjQ4MTlkNjIyY2QzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2R1cmFibGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2R1cmFibGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNzliMTkxYTczODA0OGQ2NjRhZGMyMjUyNjZmYjUyNWIwYWQ4OGMxNWRjZGI0OGQ1YWEwZWFmODgwNzZmOWQ1ODI3ZWJlODlkNjQ3NTE0M2Q2MDI5MWMzYWZkNGNjYTc2ZjU2OTFmNTcxZmQxMjFkNjI1NzRlYmIyMzlhYzZhMSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IjogewogICAgICAibmFtZSI6ICJAY29zbWpzL2VuY29kaW5nIiwKICAgICAgImxhYmVsIjogIkBjb3NtanMvZW5jb2RpbmctdjAuMzIuNCIsCiAgICAgICJsb2NhdGlvbiI6ICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9idWlsZC9hc2NpaSI6IHsKICAgICAgICAgICJtb2R1bGUiOiAiLi9idWlsZC9hc2NpaS5qcyIsCiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvYmFzZTY0IjogewogICAgICAgICAgIm1vZHVsZSI6ICIuL2J1aWxkL2Jhc2U2NC5qcyIsCiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvYmVjaDMyIjogewogICAgICAgICAgIm1vZHVsZSI6ICIuL2J1aWxkL2JlY2gzMi5qcyIsCiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvaGV4IjogewogICAgICAgICAgIm1vZHVsZSI6ICIuL2J1aWxkL2hleC5qcyIsCiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvcmZjMzMzOSI6IHsKICAgICAgICAgICJtb2R1bGUiOiAiLi9idWlsZC9yZmMzMzM5LmpzIiwKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC91dGY4IjogewogICAgICAgICAgIm1vZHVsZSI6ICIuL2J1aWxkL3V0ZjguanMiLAogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBjb3NtanMvZW5jb2RpbmctdjAuMzIuNCIKICAgICAgICB9LAogICAgICAgICJiYXNlNjQtanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiYmFzZTY0LWpzLXYxLjUuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiYmVjaDMyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogImJlY2gzMi12MS4xLjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvYXNjaWkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiYnVpbGQvYXNjaWkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4N2I5MDhiZWRmZDNlZTNjYTg4NmFmMzQ5NzdlODg2NDFjN2NjMmFmMTA5YjhiZmIxNDFiNGJiNmQzM2MyMTkwZGE2MDdiNTQ1MmIxZWRkODAzODMxNDkxMDJiNDk4NWE2ZTY4OWMyMTBmNmZlZGI2MjBmZGY2MzZjM2VlNWM3ZSIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL2Jhc2U2NC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJidWlsZC9iYXNlNjQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmZjhjZTMxYzc5OWQ2ZmIxYjZiNGUzMjgxZDFkZDk5MDZmYmQ5MjI3NDNiMTcwNzljODcxM2U3MzVjZWNmNTk4YjU1YmVjNTg5YjQwZmVjMTBhMzZjZWZmNDE0NzVkZDYyMDUwZDQyZWE0NWQxMDE1OGQ3OTBlYTdjMDMxMGIxMCIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL2JlY2gzMi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJidWlsZC9iZWNoMzIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiMjUwNTI4N2EyNGU5NmUzNTc4YTQ4MzczMzJlZDVhZTk3Y2FmZDY0MmI0MDYxNzhiMjE2OTkwNTliNzQzMzNlM2M4ZGMyZDg0NjJlMzEzNWU3MWQzMzI4NjQ4NjQ3ZTgxOTE4OGIxY2M2MGJlMjkxZmE2MjE2NGYzZDA4MjI1MiIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL2hleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJidWlsZC9oZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwZjViMmYzMTdiYzczMjgzMDIxYjBmMzk4MWYxYmY0MGU1MjNiYmFmZjE0MzY1MTMzZTg5MmIwODNlNzdjMzE4OTNjZWU0YmM5ZmQyMTVlMmQ1NGVhM2U2MWY4M2Q1MmZiMjdjNTgwMzAyMmU0YzI1Nzc1ZjJhOTk4NWFjNGExZCIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImJ1aWxkL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLWNqcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTUyMTY0ZjdjYzkwNzdmNDFjMzMwZDA5OGE4Yzg2OTE4OTlmMWM4ZTFlYTBmYjVmNDRjZGE5NDFjZGNlNjM2YzllMTNmNzRjYjMxNzM3OWNkYmNiODFlZDc2NzNjN2E3MDU0ZmE4MzFmODUxOWRlZGFkZDFhZDE1NTBlMGY5MGQiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC9yZmMzMzM5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImJ1aWxkL3JmYzMzMzkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YzAxYTY3NjM0NDRlOWUzODA2N2QwYWFhNDJhZGRkYzIyMmY5N2QwN2ViMjI1ZmJlM2FkZTZlMDU2ZGFkYzFlZDQ5OWY4MjEyOTU2ZTczMzc0MWJlOTM5YWQwZmQ1MjFiMGVmNjNiMWI5MjU2MzM4ZGU4NjBjNzlhZTVlYzQ1YiIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL3V0ZjguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiYnVpbGQvdXRmOC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjEzYzM4YjQxMzFjODY4Y2ViZjVhN2FlOGEyYTE4MzQ1ZTlkMGZiMzQxZjUxZTk2NTdiZmJiMTJmOTM1ZWZiOGViZTlmOTZiNTY4NWMzZjczMDg2Y2M1NzMyMjlkMWQyNDA0MGI4NTkzNGY1NTUwOTJlODU3NmVjNGUyYzUzNGJhIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAZW5kby9iYXNlNjQtdjEuMC45IjogewogICAgICAibmFtZSI6ICJAZW5kby9iYXNlNjQiLAogICAgICAibGFiZWwiOiAiQGVuZG8vYmFzZTY0LXYxLjAuOSIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9iYXNlNjQtdjEuMC45IiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIi4vYXRvYi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJhdG9iLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMmExOTBlZDdkMmFjNzU2Nzg0ZmUwYTEwMzkzMDNmZmQ5YmYwMzdjNDQwYmJkMjJmZWJhMGY0NmRjMDNkYzViNjIxNjBmYmVlOWQ0MDRkYThjYmY5MmQwMTRkOWRhNjk1YWY5ZmVlOTA4NTc0MzRjZTJkYjgwNTdkMThmNWE1ZDciCiAgICAgICAgfSwKICAgICAgICAiLi9idG9hLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImJ0b2EuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3Y2M2MDg1NmFkN2RiOTAwMGU3NzI3ZGE2MTQ5NzhiNTA4ZDYxZmRiZDRkYzgyYjgxZDRlMzQzZTFlMTM5MmVjYmE4MzlkNDZkMDQ5MmIzNDVlYThiYWE2ZmY4MjYxMmI1OGNlYzJhNzdmNDk5NzdhNjkxNzY1ZDZmYzE0NTUyNCIKICAgICAgICB9LAogICAgICAgICIuL2RlY29kZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkZWNvZGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhNGZhNzc2Y2YzY2JkMTZkZDgyZDVjMzNjODFjMjM4MzBiNjI4MTAwNmFkYzc4MTgwNTE2ZmIyYjgxYmU2MzQ1OGFkY2E1NDJlNTRhZjgwN2YyZGM3N2MzZWJmMDlhZWRkYWM4ZGJlOWZkOTY0NDA2Zjg0YTViNjhiMTM1NmU2ZCIKICAgICAgICB9LAogICAgICAgICIuL2VuY29kZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJlbmNvZGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2OTRiODZhY2UwMmRkYzIyNjE5ODE1MjExZjI3YjllNzMyZTlkZGJkNmIwZmVhYzUyZTQyODU2MDVlOTVlNDExYjM3Yjc1MzlkMWU3NmIxYzdmOThkMmZhZGU3OWZlNzA3MWZmODFlNzdiNDllNDBjMmI4ZThlZDIxMGUzM2Q2ZSIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzEzNTg4MTk2MjM1NzA3NDdkMDU2MmEyOGNmN2MyZGFhN2NmNzE4ZmIwOTkzZjU4NzU3YWRkNDk5YzAzMWQxMjhlZTkwMTI2MGI4MTk1M2M0ZTkwMzJjZGEzMzg2M2JjMzg5MGMxNmM0YzViNjk0MjhmNGRjZGJkODY1Mzg5NmIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29tbW9uLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb21tb24uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxMjMyNDIzYjk5ZjYwNDFjM2EwZjczZmE1NDdjODcyOGFiN2FkOTA3ZmYxOTZhNTA1YTdmNmU0MDgyMWNlOTE2MTI3NjcxNTRkNjQzNGM1Mjg4OWVkZGE4MmYxNzVkYjFiZDY3MWRkNmUwOTkxYTZhMjAxMWM5MzYyMGNlNWJjMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9kZWNvZGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2RlY29kZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJjMWU2ZGJhYTIwNDBlZTlmYjA2NWJjNjYyMTMyODJjODU4MmE3ODY0ODRkMGNiYTZkODUzMjg5ZjViMmUxM2Y5ZGRjNTY5MzFlNWI5YzFkMTE4NTFhMzM3YmE1ZDQyMDY0ZGFlMDA4NWNlNGIwZDEyMTc0NDA5MzgwMjcwZmE3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2VuY29kZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZW5jb2RlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTFiZTIyOWRkZDBhMWFiZjI5NGY4ZGI2YTI2MzUyNThiNGFlYzMyY2M3MmYzM2RlMjg3YTAxNzU1ZjJmMWE0N2JmMDdlNzYyYWVkOGIwYzEzYmQwZTFlNzU2OGE5YjZhNDE0Mjk4MmMxOTFiZGM3YjcxMjZiYzNhMWZkNDc2MzkiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2NvbW1vbi12MS4yLjEwIjogewogICAgICAibmFtZSI6ICJAZW5kby9jb21tb24iLAogICAgICAibGFiZWwiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvbm8tc2hpbS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wcm9taXNlLWtpdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImFwcGx5LWxhYmVsaW5nLWVycm9yLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTUzMTFkNDIyNzljMzkwM2Q2MjVmMTNlYTZiM2ZlNzk3YmIxZWEwMmI5NWUwNjM3M2E5M2VjMzhjODM5MmE4NmJkYTUxMmM4NDFiOGI0YmU0MGVhYjVmNTNiYTU2NmYxODIwMzVlMGU4MWQzNjNkYjY2NGFhMDdlY2MyZTY1N2MiCiAgICAgICAgfSwKICAgICAgICAiLi9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImZyb20tdW5pcXVlLWVudHJpZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwOGY0MDI2NjE4OGVlYjhhNGZkYWQxMDdjMDYyNDU3ZTgxNGFkYWQ5ZGNmMWE2Yzc3MWZjOWQzNDQzZTg4M2U0MzI4N2U0MmQ0ZDkxZmVjMWM0NDI3YzNiZTVkYzM1OTZkYTMzMGMyYzAyZTQ0NGZjZWI4NTIzODMwYzgzNDAwZCIKICAgICAgICB9LAogICAgICAgICIuL2lkZW50LWNoZWNrZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaWRlbnQtY2hlY2tlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjU5N2YxODkzMDVmZjBlNDg3NmZlNWY0YThkY2Y4NGUzODM1NmI4YTM5NWU5ZWFjZDczYjg5NTdjYjE5MTIxNDViODU3NzhhY2I3MDVmMTAwMGEyODI4Y2ZhYjc3MDVmOTVjZjRkMThkNDhiNjBlZTg0MTExNzAzYjZjYTM3YTliIgogICAgICAgIH0sCiAgICAgICAgIi4vbGlzdC1kaWZmZXJlbmNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImxpc3QtZGlmZmVyZW5jZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjI2NjY2YTQ2OTNmMGNjZDYzNmRjMzdlMjI1YjI0OTJiYmM5ODA0M2RlMjBmMDU3M2M0YzIwMmVmYmMzMjliODJkODEzNzZjYzcyZGE3ODY2ZGYwOWJhODkzMTk1NTZhYTBhYzlhZTQxM2RlZjYwM2ExNGM5MGQ0OWM4NjFiNWNiIgogICAgICAgIH0sCiAgICAgICAgIi4vbWFrZS1hcnJheS1pdGVyYXRvci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJtYWtlLWFycmF5LWl0ZXJhdG9yLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiN2M1MzQ4YWJlZDAyYzlkNWRjMTk0MmNhYjg4ODM4OTI0MDI1N2U0MWFkNzFjODdmMzk0NmI1MWNkNTIxMWNmODk5OTQzNDEyYjY5NzQ5NTc0YTQxZDVhNThhMDA3YWYwYTQ0N2UzNTE1Mzk5ZGVjYWE2MzI0MTk5NjU1MjM2OTIiCiAgICAgICAgfSwKICAgICAgICAiLi9tYWtlLWl0ZXJhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogIm1ha2UtaXRlcmF0b3IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmYjJjNDg2NWJhZjYxZGRhODg3M2RkZGYzMTQ0Y2I0NTUzZjFiZjdlNTczZTNkZTg2MmJhZWU0YWEwNWQ5Yzg4MzYzOTk0NjNkMTY2YmY3Y2Q4Y2Q4MjRmNmFmYzViYmQ4YWFmOGQyYWY0OGM0MDNjYWJkOTJjZmI5Yjg0Y2FmYiIKICAgICAgICB9LAogICAgICAgICIuL29iamVjdC1tYXAuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAib2JqZWN0LW1hcC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNiM2VmMWIwYjk0YjcwZDU1MmE0M2JiZGExYWM0NmZiYWFkNTY4ZWUwMjQ4MTNlOGU1ZDgyMDI1YzExNmQ0YTE3OTMzNzEzY2IzNDAyNzU4NTlmYjNiZTNmNWEzOTc0YWU2NTZlZjFiZWIwMWFhMGVmYTA1ZTgwYmU1YzA4ZDA2IgogICAgICAgIH0sCiAgICAgICAgIi4vb2JqZWN0LW1ldGEtbWFwLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogIm9iamVjdC1tZXRhLW1hcC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjk5ODFjOGM2MzA1OGMyN2MwY2ExMjcwNGI0ZjVlZGJjMzg0OTRjNTk1NzhmYWRiZTdiMGZjYTMwYmZkNjkzZTk0MDBlOGQzN2M4MGIxZDEzZGNmNDFiZDUzZjIyNDNmNGQzZGZlYWM2NmY2YzRkZjhkNmJhMDFmNTk4ZTljYjkyIgogICAgICAgIH0sCiAgICAgICAgIi4vdGhyb3ctbGFiZWxlZC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJ0aHJvdy1sYWJlbGVkLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMWU2YThhZGRlZjViN2IzNTE2YmE1OWMyZWJjMzgwZWIwYzBkZmI0ZDA3NDUzOTM5ZTVhNGVjM2M3OGM1YThlOGUzYTYzYzIyOGFjNDlkMTRjYjk5NTk2YTE0ZTU4ZDE3YmZiY2I5ZDJmZTY2NWM4ZDI4OTY3NGQ1ODU0ZWM5NTgiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOCI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vZW52LW9wdGlvbnMiLAogICAgICAibGFiZWwiOiAiQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44IiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmJhY2E3NmVkN2M2YjY1NjcxZjcwYjI2NDZmNjg5NDM1NzI0ZDhiOTkzMGE1ZmYyOWQxZmIzMjdlZDk2ZmQ0MTQ0Njk1MjU4OTYyZGFmYjk4Mjg2MmEyZWZjMWIwM2QwYWQ5NmIzM2MyY2FlNWJlYmZhMzcyNjg4NmEwNmY2NjQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZW52LW9wdGlvbnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2Vudi1vcHRpb25zLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTlhMzIzY2VhMThmMTlkNzBmMjlkOTRlNjY3ZDBjMjc1NmQ1NjZhMWY4NDY5YjVmNjdjMThkYmM4NTczNDQ5MTg1ZjViZjc4ZmFiMDc4NjgzYjM0OTFkYWVjZDZiMzhlMDA5MjZjNTJjN2Y0NTBhMTcwMjZlYzlhN2M5YmI2OWUiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2Vycm9ycy12MS4yLjEwIjogewogICAgICAibmFtZSI6ICJAZW5kby9lcnJvcnMiLAogICAgICAibGFiZWwiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJiYWM5MmJjMGI5MjA3N2ZjYTA1N2QwNjJjZDRmNTliYjg5YmViOTMwZTgzNTk4NjM0NmI2MWJlMDEwODIyODBlMjg0ZjViMTQ1NmJhODhkMDk2ZjI4NmIxMDFkYWQ4YTJiZDNiMjhkNzE5ZDc3YjliMmZkNmNmZGZlNWZkOTY1IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZCIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9lbnYtb3B0aW9ucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lbnYtb3B0aW9ucy12MS4xLjgiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL0UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL0UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0MTU1YWEzZDQxN2QyODdjOTljOTgxZDIzN2IyZGFjNDczZTE3ZmZlYmFlMmYzZGFhMzI5OTFiZDYxMjc1YWYwZmFmZjA3OTA3YjMwOWQ4M2Q1MGI2MzUyM2ZkOTI3MDlhN2JmZTkxZTg4OWJjYmMyNzFhZTVkOGUyY2NiZTFmZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leHBvcnRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leHBvcnRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbG9jYWwuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2xvY2FsLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTUwNzc4ZjFiZWZlYzAxMDJmMGZhY2I4NzU3NzQ1OWY4M2FiZDY2YzVkMWY5MTYwOWJiOWEzMWMzOTM0ODRhNmE1Y2MzYTk1ZTE0MmU1NjI2NDFjNmFjY2EzMTIwNzY0YmEzY2ZhNjUzYjI3OTZjZTM0ZWQxMGYzYmVkNjQ5ZmQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWVzc2FnZS1icmVha3BvaW50cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJjZjI1Y2ZlYTFjNDM3YjMzYTEzNDI3MzJjYzg2YzE4ZjAzNjBhOWFkZjk2OWI1YmM0YzE4MmZiN2YzOTc0OWY5OTRjNTUxMzllOWU1NjU1YmViYTk3YjU0MmRjMzUzMzc1MWRhMDU4NjllMjFlYTFlMWQwN2E4MTAwNzFlYmE4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL25vLXNoaW0uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL25vLXNoaW0uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJjYzNhZDcwMGQwNjU0ZTZhNGZmMjc3YWVjMjYxMTUxYzk3YjkzMDAzZmQ1MDIzYzhiM2EzNmU1MWQ4YjhjNTllY2UyZTk1ZTI0NTQwYTQ0NTkzYmI2NDRmNmIxM2ZhZDBmYTY0ZjRiNjJkNjA2YmM5OTAyMmQ0ZmMxMzI4OWIyOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90cmFjay10dXJucy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHJhY2stdHVybnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0YzAwMmYxNzU3MzJkNTU0YTRmMDc2NGExZDI1Mjk4Y2ZhMDkyM2U0MTFkODkyODQyODkwZGZjNjRiMThhMTM1MmVhODJiMWQ4ZWU3OTZkOWNjODg1NTQ5ZjQ0NzM4OGM5Y2MzYTQ5ZmNlMDU3YTZiMTA5MjczNjVjNTA0ZjFlMSIKICAgICAgICB9LAogICAgICAgICIuL3V0aWxzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNDYwNzEyMzhiMjVkMzA3NjZmNDQ3M2IzNjA3NWRiMDUwMDRhMzA5NWI3YmE2YWRkMDQ0ZDk4NjY1YzdlMGMzYzMwOWQwNGQ0MzU4YWFkOGIwNWRkOGZjZjAwZjdkZjI5NjE1NWM1ZjgyOWIyZjhiZjM4ZGRiZWZiMTBkNTgzNDkiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2V4by12MS41LjkiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL2V4byIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9leG8tdjEuNS45IiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL2V4by12MS41LjkiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vbGlzdC1kaWZmZXJlbmNlLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9vYmplY3QtbWFwLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vudi1vcHRpb25zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kL3V0aWxzLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi91dGlscy5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9mYXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJjOTQxNDczYzMwNWJlNTdlNzc4MzFiODQ2YjVkZDcyZjA1YjAzZTk3NzA2OTg0MTc0YWNkMWYzYTEzZmY4Y2NhNDZjMmQ1MTAwZjM1ZmNhN2Q4ZjA3MTRhNWRiZDkzZGQwOWI3ZTZkYjZkYjRjNjA4OTM5OWMyNDRlYzQ2Y2NiNyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leG8tbWFrZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG8tbWFrZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMTNkMDU2ZWI5NzViZjUwOTM4ZTc1MTUyYjYyZGI3ZGZiYzIyNjVjNDdhMjhjNzE3MmRiNjVjMDc5MWE0YWIxYjIyN2NkM2MyMjYxMDdiMjY4NjA3Mzg1YmE1YmU4YWM5ZjkwZjYyZGI1ZDBkYWMzOTJkYmU1ZGU3MjI0NDhlZjkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvLXRvb2xzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG8tdG9vbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmN2Y5NzMxOTNjOWE5MjczZWJmY2JmYzdlNTI1NGEzZjc4YzdmZjFjOTNiYjk2ZTgzN2E1MmIzZjM5NDJlNzQ3Mjc0N2Q1ZWE2YzAwNzIwN2VmMTMwYjgxNTBiZjM5ZDRhZGY4ZGVkNTFjNjVhODA2NzRiZmU2ODZiMWZlNjFkZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9nZXQtaW50ZXJmYWNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9nZXQtaW50ZXJmYWNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMWNiZmY0ZmE2Njg3ODkzMzQ4ZTE2OGNkYzBhZDcxMTFhNWIzYzJmODllYjY3M2FiNzhlNDZlYTU1MGFhMWJmZjJjODE1NGIxNzkwYmYyMzMyNTg0M2IwZmJmMDcyN2MwYmFjOTA4ZTcwZmFkN2ViYWQwYmZjZjFjMmVkM2ZkZjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2Zhci12MS4xLjExIjogewogICAgICAibmFtZSI6ICJAZW5kby9mYXIiLAogICAgICAibGFiZWwiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vZXZlbnR1YWwtc2VuZCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL25vLXNoaW0uanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGFzcy1zdHlsZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXNzLXN0eWxlLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhwb3J0cy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXhwb3J0cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjRhYmNlNWIwNTg0NjAxYWI1NTA2OTkwNDJkMTZlNjZkMDc0YzI1NWIwNDE5MzZkMmIwNzg3MzJhNjQ5MjdjMzUxNWEzZDRmOTUwZWU5NjA5OWVhMDRlZDFkYzE2ZTRmNGE4OGFlYjBkODExYjRlZWI0ZDk3YTQ5MmRmNTA0ZDNiIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAZW5kby9tYXJzaGFsLXYxLjYuNCI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vbWFyc2hhbCIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vb2JqZWN0LW1hcC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL25hdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9uYXQtdjUuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGFzcy1zdHlsZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXNzLXN0eWxlLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjc2MzUwMzEyZjBlMmRiNmE1MDEzN2U3MmU5NjVkYjhmNmUwMjVhYzJhM2U5YzA5MTJiMmIyNzA3YzJmNTNjMDNmOWQ3YmQ2Mzk3ODMzNjkzZDJlZTkzMzBjNTA2MjhlYzg0MjFjMGM3OWQ3ZTY4MGM0Y2Y1Y2Y2OWEwNjI0N2M2IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2VuY29kZVBhc3NhYmxlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lbmNvZGVQYXNzYWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImE3Yzg5ZTU4NDNlMTAxZWY5OGQwODE5YjUxYWVjMWM0MjRlMWQxZWI0YTQyMGU0ODQ0MDI2OWUwNzU4ZWQzOWE4YzU1N2Y0ZmM5Mzk0YjkxZjYwNTYxM2U2YTQ1OTZjNTUyYzE4MzhiZTE0ZmQzMGI1YmQ4YTE2OThlODUxNTUzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2VuY29kZVRvQ2FwRGF0YS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZW5jb2RlVG9DYXBEYXRhLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjRmYmYxZGU5ZGI0MTEyNGNkMTU0ZTM2ZjkyODI2OWU1YzYxMDU2NjU3NzIyNmYzY2M0NjY4OWZhNDdkYTljYjk4NTkyMzg1ZmQyODRjNzI0NmRmNjc4YjQ4MWVlMDc4ZjM4YTA2MTUyYmMwNDVkY2RmYmIyMjUxMmJkZTQyYWIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZW5jb2RlVG9TbWFsbGNhcHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VuY29kZVRvU21hbGxjYXBzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGJkNzQzZTYzMWYzZjZkN2Q4YThmNzg1YTUxNmE1YzJlYmJlNzBlYmM0Zjc4Y2RiMmFhNzA5M2E0NjNiYzk3Yzg2NmM1Nzk0ODY4MTg4NmUxOWVlMTAwYWY2NzY2MDU2MGE4MTYwZmMxMGMzMmQ1NzA0NWRiNDE2Y2IxMGUzNmQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFyc2hhbC1qdXN0aW4uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL21hcnNoYWwtanVzdGluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTliMjBlNTIwNTVmYWNkNTcxNTY5Mjg5OGI4MmJhOWJlZWM4ZThmMzczMzU5M2Q1ZjE5NzE4OWE4Y2NhMTJjYzQ4YTRkN2Q0ZDdlNWJkZjQ1M2Y3MzQ0NGU2MjY4NGNmNWQzOWYwNWE0MGYwNDZiMGYzOTBhYWIxMmUyODQzNTkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFyc2hhbC1zdHJpbmdpZnkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL21hcnNoYWwtc3RyaW5naWZ5LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNWQ0YjVlY2NiYjlhZmJiNmJiMmU1ZmU2MTMyYzY4ZDAzNDQ0Y2IwOTQ5NDRkYjc5NTc1NmU4ZjQyNmZiMDI0OTVhYmFjYzllZjIxZDZhODFhNDc3MDBkY2NkMDM1YjYxNDQxMWYwOTUzZTM2YjU3NDc1OTJiNTI1NTJkMjM3OGQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFyc2hhbC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFyc2hhbC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjRjNDc4NGEzOGEzNGQ1NjEzMzE2ZmNjNzY4YmQzNDM1MDlkYjM4OGFlZmE1ODQzYjZmMDcwZDEzOGM1Mjc5OGM4MGMyNjBkZmQ3YTU1NmM5ZWQ0Y2ZmM2Y2ODA0NTE5M2MzZGMxMzdiMzliZGY2NjJkMWQzNDQzYzQ1ZjVjNmNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JhbmtPcmRlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmFua09yZGVyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTcwNTI5MmNmNzFlYTdmOTFlNjVjMWU5MGMwMDc0MDhiYTAxOGU4NWVhMGVmMmU3NGUzZjk4YzI5YmRhNGM2MDk0YjhlNGViMzg4NzUyOGM2YTZjMTlmZmRjMWY0Yjg5ZmNkNDEyM2U3MzAzMDFiZGY2YTRiNjc5NTUwY2ViNDciCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL25hdC12NS4xLjAiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL25hdCIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9uYXQtdjUuMS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9zcmMvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTczMWM4MjRiMWQ5YjQxNzdmYjNmZWI1YTFlYjA3YTFjNWRmM2NhMWVhNDc2YTFlNTU4NmUxMGNiM2Y5M2MxNGQzZDQzNmY5MTQ4OTYxOTMyOTIxZWVlZjIzZWJlMzBmYjZiYjIzMzA0NGZiZWViNzZjNmY4ZTMzNTRiOWU2ZTUiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIjogewogICAgICAibmFtZSI6ICJAZW5kby9wYXNzLXN0eWxlIiwKICAgICAgImxhYmVsIjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2Vudi1vcHRpb25zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvbm8tc2hpbS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kL3V0aWxzLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi91dGlscy5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wcm9taXNlLWtpdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTU4NDMxNjNhNzRiOTJkZTEwNmMyMjllMDFlN2RhYjczZWVjMTExN2UzODE1OGRhODUzNjJhZjljYTEwZmQ4ZWM2ZmY4NTdmOWEzOWI0ZTJhMzdiYTZhNmIwZDkyZjc2MzUzMDUyYTUwYWVlZDljNTAwNmI0NjJlNmQ2NGJjYjAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29weUFycmF5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb3B5QXJyYXkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwMzZjMjM4YzMwYTlmZjg2NjNmZDI2YjU3OGJiOTNlYzIwZGQ2NWFhYTdlY2RhNGNjMjgzNTY3OTQ5MTQ2NDU4OTFkZjhmNzllMWIyMzIyNmE4NDlhMDdkNGE5ZjVkZGUzNTM5OTUzNDI2YTllYTQxZjYzOGJlNjhmMjE0N2RhMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb3B5UmVjb3JkLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb3B5UmVjb3JkLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDViYTllZWQyMWFiNjNlYTJkMDlmZTJlMTI3YTQ2MWNjOGEzZWIxNzhiY2Y3Y2YxOTVhN2Y0YmEyM2EwMjVjNTg2MzcyMWM2MTllNDRlZjk3NTUxODIzZmEzODhkMjVmNGNkMTA1NGNiMmFjOGE2MWEwYzExZmMzNzIxYzYwZjYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZGVlcGx5RnVsZmlsbGVkLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9kZWVwbHlGdWxmaWxsZWQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwYjYxNDBiN2NlOTA5MmY4NmY1ZjIxMTlkODcxNzEyNTI0ZTJhNGVkYzMyMGUwOTcyOTJmY2I4YTFiNWJmNzk5YTdkMmRmMDI5MDdjZWRkZWEyYTJmYzMyZmMwMGI0ZTkyODM5Y2NiYjY1OGI3NWU0NDAzMjkxMDVmODFhYzlhZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lcnJvci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXJyb3IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1YmFlMmYxZjQyNjAwYmI5NzI4ZWMxZDFlN2FjZTdlNTNhNGY2OWQzNmRlNWE4ZmNmYmM4NTBmYzRmZGE4YmViNDYzN2JhNjBhNWVhMGM2Y2ZhMGVmNWNiOWExZDgyMTYxYTc3M2RkNDdlNGQ0ZTc2NmNjYTY1NTg4ODgzZTkyMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pdGVyLWhlbHBlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2l0ZXItaGVscGVycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJhZWZkOWUyMzcwOWZkMWNlYzhkNmRkMWVkMGFjMTI1MjU5YWUzYThiY2FhMmI5MThiYjM3M2E2OWU3ZWY3OWEzOWNkNmQ5Y2Y2Njc0MzY2NzY3NDk0ZTM5MzgzMzJkMjcwMzcxMDQyZjgyMzI0YzgzNDZiZTU4NTcxOGQ3YmNkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21ha2UtZmFyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tYWtlLWZhci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJlODc1NGMyOTg5M2JkZjg4YWVkMjljMjZmYWMwNzNiNTBhMmYwMTJlYTljNmM0MGE1MjQxNDBjZmZjZWFlYTRiOWUyYmU0ZDQ2NGUyNzNiZmE4NGNjZDI3ZGMzNDk3N2RjNzY3MmE0M2VmYTMzYjJhMjI4ODQ1MWExYTAyMTk0IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21ha2VUYWdnZWQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL21ha2VUYWdnZWQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1ZDVmMmM5ZDhjNDFmMWI4YmE5ODdlYjg3NGMyNjM1MDliMjJkOTBhZmEzYTNmM2JiODgxZGI5ZjBlODBiYTZhM2IzOTNhOTMwZWJiMjkxZTZmNDczZWU1NjA1MzBmY2NlZWYzZjMxZmQzNjBmZTMxMjU5MTI1YWVmYTQ4NzhmOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wYXNzU3R5bGUtaGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcGFzc1N0eWxlLWhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxYmY0YWY4ZjY5Y2YxZDQ5ZjdiYWY5Y2E0NDI3MzRjYzc5Yjk3MmI5OTdiZGUxYjBmOGM4NzA0OWE5ZWJkNGJkZjRmMTYxYmY3NGQ3ZDdkYWQxODgxMGI5ZWFkZDE4MjA2OGY2MjAyZDM0NmEwYmU1MGY1YzY0MjdjMDk3MDc0NiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wYXNzU3R5bGVPZi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcGFzc1N0eWxlT2YuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0ZmM3YWYyZjZhODFhY2VhYmY1OTliMDFiN2JmNTZhYTY3NDY3NDk0ZTg1MTI1MDE5ZTViOGI1MWRmYzAxZWYwZDY1OTc5ZjkyZjVlNmJjYzMwYzVhMTI3YTFlZjE2OWI5Y2E5ZTQ4NzE4MzdiZTFiNDcwYjI4ODZmN2RiZTVjYyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yZW1vdGFibGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3JlbW90YWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImI0ZmNjZjA2Njc2YTBmNTU2N2Q3MTczNWJkYmJmMTk5OTQ2NDg2NGE0ZjI0YWFmNWNlNjVmMTc5ZmI5YzdjNzE2MzE0NWUyMTU5MTdlYjNiMzAxYTZmODRhY2NjZTBkMWQxODZjOWY2NGM5OGI2YjNlN2ZjYTlkNjUzYWM5Yjg5IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3NhZmUtcHJvbWlzZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc2FmZS1wcm9taXNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzYwOTcxZWRkZWM5ZTkzNmIyMTI3NDkyZmJjNmEyZDUwMDBlNGY0YTU5MDNlM2YxMjg2YWZmMzg4MjNiZTY1NzI1ZGIyMmIwMTQ4YzNjMzYyOGRkYmFlYjYzN2YzZTQ0OTY5ZjQzYWNhMzdiMDJmMmRkNWM4ZDIzYjhmNzRhNjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3RyaW5nLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zdHJpbmcuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyZTUzMTVhNjRiZmQzMThhZjliMzUwZTQzYWFkZGVmNjE4YjllMDUyMzIyN2RkYjQxZGYzYjM2YmE3MDg3NjAwNDViNGM0ZTEyZjhiYjBjN2U1NGFjMjRiYWRkMjEzZTBjZjlkNWMwNDM2ZmRkMzhkYmE3MGI0ODcxNjJhMjkyNSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zeW1ib2wuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N5bWJvbC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg5MDAxNDI4NzQxMGI3MmNmNzA4OGQyNjU4NDY2MDE3MTE2NzEzZjRkMTQwN2RjYTk3MTk4OTI2OTY1NjVkMGFiYjEyYWYxNjQ1NmUyNGRhOTFjOGEyNjIwZTA1OGQwNmI5MGY4YjUxMDVlMzVjNjk3NmIwNzA0NWY3ZTVjMzE4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3RhZ2dlZC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdGFnZ2VkLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTkyN2YxMWVhZWE2MTRjMTkxZjk4YzhkNTdmYzcxNDllZjg4MzgwMzM3YmZmNDljYWQ5MzRjN2IzZmYxZmFiM2EwOGJlNzRmNjZmZmVhOTVhYWEyYjljNDQzYjNmZTA1Y2Q3ZjkwMTc1ZjgzNjdmZWI4NzQ1YmJjMjQxODcyNzMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZUd1YXJkcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZUd1YXJkcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImRhNmRjYTAzYTY5NGFiN2RhODk5Y2NjYWIzOGQ0N2MwNjE4NjBiMjZmMWQ3MjkyOWYzMGFkNjg0MTkxZjgwNzQzZjg1Nzc4ZjRhYjBhNmNiNDVkMDljMGVlYjMwYzQ5OGFhYjM4YTQ5YzY0ZTk2YWJhNGE1NDE4NmRkODJjMDgzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAZW5kby9wYXR0ZXJucy12MS41LjAiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL3BhdHRlcm5zIiwKICAgICAgImxhYmVsIjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vY29tbW9uL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9hcHBseS1sYWJlbGluZy1lcnJvci5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vZnJvbS11bmlxdWUtZW50cmllcy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZnJvbS11bmlxdWUtZW50cmllcy5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vaWRlbnQtY2hlY2tlci5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaWRlbnQtY2hlY2tlci5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9saXN0LWRpZmZlcmVuY2UuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL21ha2UtYXJyYXktaXRlcmF0b3IuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL21ha2UtYXJyYXktaXRlcmF0b3IuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL21ha2UtaXRlcmF0b3IuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL21ha2UtaXRlcmF0b3IuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL29iamVjdC1tYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9tYXJzaGFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNGM5YjdhYmEzMjViM2E5NDA4YmI5NzczZDJiODIzNDhlMGVjNWM4YThlZmRkNDdmY2NjZTUxZDRjNTJhYmYyZmQ1MDIwZmRhYjllYWYwZDBkMDUyOGI3OTE3MGJmMDNmYzI5MDZjMzI2MmNjZDAyYjExZWZhMzJlZTIyMzdjNzMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy9jaGVja0tleS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy9jaGVja0tleS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImQzZjE2NDQ1Y2ZiY2MzYmFlMTE4YjhlYzY0ZGY4N2ZiZjBhMTRkYWVlNzljZTY5NGI1OTlhNDQ4MzRiZGQyMjFlNWU5YzViZWIzNDA3NTczZjE5YTE5NzU1OTg5ZGZkMWM5NzM3M2JkM2YxZjMyMTBlYWJkMzBjNTlmOTdmNDVlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2tleXMvY29tcGFyZUtleXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2tleXMvY29tcGFyZUtleXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4NjI4MzI2ZmIxZWY5YTQ0M2QyMTkwOWVhYjhmZmIxN2U3NWIwZjk4ZmM1MGYxNDUyNDQwNTAxOTE3Y2NjOGFlMTEyODk3NDg3MWViZjQ2YjM3MmUzZmVhNGVlYTZmNmQzMzNhNjIyYzhhZWI2ZWNjNTM5ZTBlYmFiMGVjMGNlMyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9rZXlzL2NvcHlCYWcuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2tleXMvY29weUJhZy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImI0YWQyMGI3NGJkMzZhNDc0MjI5OWQ4MzI4YTRhNjczYjAwNzQ1OThlNzIwYWEwNzNiZWZmNzg2N2Q3ZWFmMzliMGExOTMwYjg5Y2YzOGJkMDg3Yzc1MjdiNGVjMDc2OGNmY2ZiMjliOTNmM2Q5M2QzNWUxZTZiNDYyN2U5ZjQwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2tleXMvY29weVNldC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy9jb3B5U2V0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNDRjOGI3NzJkZGU2YjQ5NzQzM2YwMzllNmIxMGQyMTE5ZTAyZWZkYzBhM2FiZjU2YTBiMGMwNmUzNWRiMDQ2MmMxNTE3MDExZjNlOGM4M2FiZTNhYzE2YWQ1NWRlZTg0Mzg0YWNkZWJjN2ZjYWJjMmI5YmUyOWYwYzM5NmExZTEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy9rZXljb2xsZWN0aW9uLW9wZXJhdG9ycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy9rZXljb2xsZWN0aW9uLW9wZXJhdG9ycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImUxNDJhYWZhZDk0YzdmOGQyM2Q4NzNiNjBmYjBiMjdkMDIzMTg5OTUxYTllYzUxMzhkNWU2OTFkMTYwODI1ODk3MWI4YTE1NmVkNWYxZmY1OWNiYWU4MWQyOWI0Njk5NzkyMTAwZmYwM2Y0NzNmN2E4OTNmMGE1ZTdjNThjM2ZiIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2tleXMvbWVyZ2UtYmFnLW9wZXJhdG9ycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy9tZXJnZS1iYWctb3BlcmF0b3JzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNjU1NTg3YmNhMjQ1ZDQzYWQzNDdiYTFiMDk2Y2Y2ZjNjYjBlZjA4NTM1ZTA4MzczNTI4NWU2NjU5YzE3NWY2NTdiZGNlZmUwZmU3NWRjYzExNjZmMmE5ZjA0ZjU4OWM3YTBlZDc4YTkwMTZhZjA4YzFmZDNiZWUyYmQ2MjFlMDUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy9tZXJnZS1zZXQtb3BlcmF0b3JzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3YTg5MGY4M2I0NzE1MWFkNzhjOGFkNWM0NDMxNDJjZjM5OWUwNWEyMTFiMTI3ZTUxNTk2NjNmMDc2Njc3ZjExMGE4YTFhYzI1ZWY4YjgyOGNiMmI0OWYzZjQ2Njk4NTk1NGI5Y2NiYzM3NzNhMjA1MWJmZDRkNDg3ODdkMTQzYSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wYXR0ZXJucy9nZXRHdWFyZFBheWxvYWRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wYXR0ZXJucy9nZXRHdWFyZFBheWxvYWRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDBlNDU4MTU3ZmRlOGViNGI3OWVlNjc3N2E3Y2MxOGJkMGFlNjM5Y2Y3MjFmZjEzYWJiNTdjODc0YzBiMTJjZTJlNjMyYjM1NzhmZDBkZDBiMDZiMGJjNTY2YWI3NDQ3Nzk1YjI1OGRhMjY3Yzg4MTMwZDllZmYxZDBhMzE3NGYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wYXR0ZXJucy9wYXR0ZXJuTWF0Y2hlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkODgwZGE5NzI1NzY5NzEyYzdhYzQ5OTZlN2U1ZWNkMDM2Nzg1Mzc2ZDQzNmIwMzZiNzZlYWIyNWFhZmM4YmI1ZTVjNTUxOWY0OGRhOGQ2OTdjYmIxMGZkMWI4M2M2YjI0MDgwNzc0N2EzZjg1YmM5NGE4OThlMDI2YTRmMzVkMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMCI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vcHJvbWlzZS1raXQiLAogICAgICAibGFiZWwiOiAiQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiZjQ2NTMzMDdmODA2ZjEzYjJhZGI1OTZiYjZlMjRjYWZlOGYwODM0NDJmOGI1MGIzMmEwZWNhYjFhZjhkZWU1MmI2YTliODNlNjRiYzJkNjZiZDVkZDQyM2RkZjA2YTEyMTQxZjlhYjhlNjRjYjI2MTQwNjRlZTY1MmQwNDAwNCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pcy1wcm9taXNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pcy1wcm9taXNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2QzYTI1NjM2ZTU0Mjc4YjMzZjZjMzYyMTQ3ODg5ZTZmZjEwYmVkYTgwYzA3ZTZhMTZkMTkwNDdiN2IzYzZhMzRkNzMwZTliM2NmYzlmODUxMWI2ZTI3YjZhNjk3NzY0Zjk2ODNkNzBkZjcwODZlMDg1ZjkzZDdmOTVmYzRmZmEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWVtby1yYWNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tZW1vLXJhY2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0MmViMGMxYTI0OTY2ZDRhYmZmYTJjMThjMmZiMjhkZDUwNGRjYjNiNzIzZDgzMDBjMTBlOTQzOTQ0OTNjNTRlMTgwMjQ1MjdmZGU3MDFkN2VkNTkzYjI2NWU0NTZkMmQ0OGMxNWUwZDUwMTAxMDhlZmQxODcyYjc0YTI1MTRjZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcHJvbWlzZS1leGVjdXRvci1raXQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0Yzg0ZDA3NmUwYTQxOWZjODYzN2FiMzhmMjQ0MzM4YzQ3NmM1MDEzMmNmZTA5MDAyZGRkY2JiZmNkMzY1YmY2Y2YzZDMyYjA5ZGEzMjUyNWY3NWI2MGY1ZmM2NjBkZGMwZTA4ZjM2YTYwN2JhMDc3ZjU5OWJjNTVmMjllY2IzNiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vc3RyZWFtLXYxLjIuMTAiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL3N0cmVhbSIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9zdHJlYW0tdjEuMi4xMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9zdHJlYW0tdjEuMi4xMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvbm8tc2hpbS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wcm9taXNlLWtpdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjAwNTJjNmU2ZmEyNWIxZDI4MmIwMjA2MTk0YTk1OTljNjdkMzJiNWEwY2U5ZTdlOTk1Nzc0Y2ZkOWZmN2EwYjkyZDc1MDA5YTMwOTMwYWE2Y2MxMzQ4MTNiYjI3ZGM2MmE4ZWFlOTA2NDZiMTk4YTY3ZDBkZjNhZWIxODhhYzAiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBub2JsZS9oYXNoZXMtdjEuNS4wIjogewogICAgICAibmFtZSI6ICJAbm9ibGUvaGFzaGVzIiwKICAgICAgImxhYmVsIjogIkBub2JsZS9oYXNoZXMtdjEuNS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBub2JsZS9oYXNoZXMtdjEuNS4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBub2JsZS9oYXNoZXMvY3J5cHRvIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBub2JsZS9oYXNoZXMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9lc20vY3J5cHRvLmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vZXNtL19hc3NlcnQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZXNtL19hc3NlcnQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5Mjc2NDA4YWFlYWYzYmVhZTc0Yjk4ODg0NmY3YmI5MjAwYjZmZGNmOGMxMWI5M2I4Mjk1ODBhODFjYmJlYjg1M2RlMDVlODQzMDcwOTYwYjA3YWVhZmUyMmI1Y2M3YTI0MmUzMTRjZDI1ZGVkMjQxMGRmZTBiMjgzNTA2MzhkZCIKICAgICAgICB9LAogICAgICAgICIuL2VzbS9fbWQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZXNtL19tZC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjZmZTI1YmYyN2EwNTQyZjg4ZTlmYzAzZmI4NTY1NzQwMTViYTE5NGY0YThhYzIxYjM1NmRlN2E2YmQyYzNjMzkzYTJkYjJlZDg4NjljYTFiNzRlMWY3YzJlMWM1MzRiNDk2YTk2YzI5NmMxZjM4NzNiMTYyZDMxOTE5MDc5MjAxIgogICAgICAgIH0sCiAgICAgICAgIi4vZXNtL2NyeXB0by5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJlc20vY3J5cHRvLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDFkZDk1YmZhZTIyNzEwZGEwODM1MWQyOGFmMTMzMjBjOTU2MTg4ZTk2YTYxMjMzYTcwNzhmNDc4NzM0YzBjNTI4YWNlMWM4ZDliODgzYjI5MjNhMDcwZGY0YzBhMjNjY2QzNzgyZWM5YTcxMjdiYzI5ODU1Yzc4MjA1YWI0ZDQiCiAgICAgICAgfSwKICAgICAgICAiLi9lc20vc2hhMjU2LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImVzbS9zaGEyNTYuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwM2E2ZDU2NzdhOTI3YzA3OTcxNDQwYzU5NTUwMWQ1ZDY2ZDJkOWQ3YmExY2NmMjVlZjQ5MmQ4ZWJlMWRlZWY2MmFkOTkyMTc2MThmYTA0MWMwOWRiNDE3NjdiYTAyZWQ0MmUzODEyYmVjODU5MWYwYTkwZTEzNjNhNzllMTZlNiIKICAgICAgICB9LAogICAgICAgICIuL2VzbS91dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJlc20vdXRpbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhNzg5MjVmYjgwYmI0ODZjYjZlMzAwMGUzNzllZGUyNTc4N2RlMmM4Y2ZlN2M0M2MxYzEyY2ZlY2I1MDg5NzIxZGM0MTVhYjA4OWRiNzMwYmYwYTA2MWIzNTFhODU3MjY2NzliMTBmOTFmYmYyNWM5NGUxMDNkMjQ4YWZlMzkyOSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiYmFzZS14LXY1LjAuMSI6IHsKICAgICAgIm5hbWUiOiAiYmFzZS14IiwKICAgICAgImxhYmVsIjogImJhc2UteC12NS4wLjEiLAogICAgICAibG9jYXRpb24iOiAiYmFzZS14LXY1LjAuMSIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL3NyYy9lc20vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VzbS9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjhjZmIwMDNlM2I5Y2I0ZDgyYzg5ODg5NjRlMzFjM2M0MDBmYjhlNDQ1MWJmNWZlYzJlZTQ4YjRhZmE1NTIwNzBlMmY0MTE2NTQ5MzAxMDMxNGQ3ZTJhYWU2M2Q0NTJlYTAzZDMzMDViMGI4NjYzZWJmNTAyN2JlZTJmNjQwZWJmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJiYXNlNjQtanMtdjEuNS4xIjogewogICAgICAibmFtZSI6ICJiYXNlNjQtanMiLAogICAgICAibGFiZWwiOiAiYmFzZTY0LWpzLXYxLjUuMSIsCiAgICAgICJsb2NhdGlvbiI6ICJiYXNlNjQtanMtdjEuNS4xIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzN2Q2YTI2ZDY3ZDAxOTk5ZmVkMGM2ZWUzOTZkM2ZhMmU3MWFjYTA0YmYwNWJmNTE4NjNjNTdiNzM4ODI5NDcxMmM5NmFiOWE5NGI0ZTNhZGI2ODEyMGFjZWZhOGIzYThiOTg3MDljNTVjY2Y4NjIyMWEyMDBmOGQ0N2E5YWNjMiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiYmVjaDMyLXYxLjEuNCI6IHsKICAgICAgIm5hbWUiOiAiYmVjaDMyIiwKICAgICAgImxhYmVsIjogImJlY2gzMi12MS4xLjQiLAogICAgICAibG9jYXRpb24iOiAiYmVjaDMyLXYxLjEuNCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLWNqcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMmRjNDViYzhiYzhjOTVkNDIxMWM5YTkxYzMxOWU3NGFmYzU3YmQ2MzdjYzUyOTUyNDc0YWZjNTkwN2Y3NzcxZWZlY2E2MTMzMDA3MTE0MmNkNDg3ZTE4NDI4YmQyYmNjZjIxYWM1ZTNkYzViZmE5ZjY0OWU1ODE3NjQzMDYxMzAiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgImJzNTgtdjYuMC4wIjogewogICAgICAibmFtZSI6ICJiczU4IiwKICAgICAgImxhYmVsIjogImJzNTgtdjYuMC4wIiwKICAgICAgImxvY2F0aW9uIjogImJzNTgtdjYuMC4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgImJhc2UteCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJiYXNlLXgtdjUuMC4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvZXNtL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2VzbS9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXNtL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMWM5OTE0YWM0YWUyYzBjOWUwZjE0OTFjNmJiN2IwZmJlYzRiZGFlNTIwNDIxZDY0M2FkZmE1NTc3NDA4NjQyZTJhMzQxNTNhOTgxODg0Mzc3YTkwY2Y2MWNkODlkODc4ZjM5M2QwMWQ3YTEyZDM1N2E4OGQyNWRkOTEwZmFhNjUiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgImplc3NpZS5qcy12MC4zLjQiOiB7CiAgICAgICJuYW1lIjogImplc3NpZS5qcyIsCiAgICAgICJsYWJlbCI6ICJqZXNzaWUuanMtdjAuMy40IiwKICAgICAgImxvY2F0aW9uIjogImplc3NpZS5qcy12MC4zLjQiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFpbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFpbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjBhZjEwOTk3MjkwMWVlYzNlN2Q5YzAxZGFlMjZhZWQ2NzlmZjEwYzZiOGMyZWFiOWY3Yjg1MDJhMjdkOTE1ZjRmYzBkODhjZmYyNWYxNWI2OTg1ZjRlMWNlMmJkNDUzYjc4MzEwYmY2YzNjNmEyNTgzM2M1MWIwNzA2NWIwMzI4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JpbmcwL0UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3JpbmcwL0UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkN2RlNmNiYjUxZTE2YTJkZDUyMGY3ZTU2NjBhZGZhM2QzNmI5ZDIwZWViYTdjZDNkMDM2YTBkNWJmZDZkMTRhZDg1ZjU2MzkwMGYxNmM2YTA3YmM1NzJmZjg0MzZjM2ZkMWFmZGM3NTY3NzIzNzA5ODM3NDNlNmQyNGQ3NDdjMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMC9hc3luYy1nZW5lcmF0ZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmluZzAvYXN5bmMtZ2VuZXJhdGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YWZmN2Y3ZDBjNGM5N2NiNTVlZTQ4YjNlMzQyOWI3YWM4NmU4MmMzOTU4MjdkZmMzYmZhODhlM2NjNjFiYjY5NGE4NWVmNTgwOTM0YWE2ZjJhNDE0YTU1OWEzZjRmYjFiNDZlYjc3OWQwMGJiMWUwYTNkZjU5NjBkNTdjZDZjMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMC9tYWluLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yaW5nMC9tYWluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGZkNTJlZjMwMmMxZjE0YzYyMGZkZGQ0MzcyN2Q4MjMyNDAzYjliZDM1NjFlMWYxMjNkY2U5ZDRlOWExM2I1NWEyZDFlZTRhZDgwNzAyZjI1MTExOWU5ZDQ5MmE4YzdhMzQ1ZmU1NzFhNDc5ZDM5MWUyYjc4MWZmYjEzOGMwMDYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcmluZzAvbWFrZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yaW5nMC9tYWtlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyZThmODBmMzNhZDc1ZDdlMDIxMmM5ZWFkN2Y5OGY4MjliN2JmMmU2ZDE5MmFjNzA4ZWRkNzczYzUyODQ3ZGJkZjM4MzA0Nzk4ODNiYzZjNDQwNjVlMDU1NDcwY2Q5MzhkMDg1MTA2ZmExMmM3ZGZjZWUzOTY5MzVhNGNlMTU2YSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMS9hc3luYy10b29scy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmluZzEvYXN5bmMtdG9vbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmNzBkYzVlYjQxNDc3ZTRkZGVmZDBlMDg2OGJmMDNhODcxYWQ1OTk2ZjI3ZjcxYzcwMGM1OTdmMWM5MTMxNjg2ZWM5ZmJkM2FjYTdkZDdjNWI2NDVjODc1MWZlZjAxZjVmOTExZDI1MWY1OWVkOTI4YTkyYmE2OGQ5OTAyMmU3MSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMS9tYWluLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yaW5nMS9tYWluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzQ2YjZhYmJjZWE3MGI1MTIwYTA1NDI2MzlhOTg1ZDg5OGEyNWYyNWEyMzk0MGVjYzBmYTI2ZTZlZmM4ZDY1MmE1ZGI5YWU1YTc1ZWMyNzhmNzljNDRkODgwMGQ5N2E3YmRlZWJmZTY1NzMzYjNhYjY2NGJiMjM1M2M0NjU1ZWUiCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9UEsDBAoAAAAAAAAAAACmE2nIHg4AAB4OAAA6AAAAQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAvc3JjL2NoYWluLW5hbWUtc2VydmljZS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL29yY2hlc3RyYXRpb24iXSwiZXhwb3J0cyI6WyJtYWtlQXNzZXRJbmZvIiwibWFrZURlbm9tVG9vbHMiLCJzZWxlY3RDb3Ntb3NDaGFpbkluZm8iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBkZW5vbUhhc2g7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL29yY2hlc3RyYXRpb25cIiwgW1tcImRlbm9tSGFzaFwiLFskaM2PX2EgPT4gKGRlbm9tSGFzaCA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IGVudHJpZXMsIGZyb21FbnRyaWVzIH0gPSBPYmplY3Q7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3Qgc2VsZWN0Q29zbW9zQ2hhaW5JbmZvID0gY2hhaW5JbmZvID0+XG4gIC8vXG4gIGhhcmRlbihcbiAgICBmcm9tRW50cmllcyhcbiAgICAgIGVudHJpZXMoY2hhaW5JbmZvKS5maWx0ZXIoKFtfbiwgaW5mb10pID0+ICdiZWNoMzJQcmVmaXgnIGluIGluZm8pLFxuICAgICksXG4gICk7XG5cbi8qXG5cbiAqLyRozY9fb25jZS5zZWxlY3RDb3Ntb3NDaGFpbkluZm8oc2VsZWN0Q29zbW9zQ2hhaW5JbmZvKTtcbiAgICAgICBjb25zdCBtYWtlRGVub21Ub29scyA9IGNoYWluSW5mbyA9PiB7XG4gIGNvbnN0IGNvc21vc0NoYWluSW5mbyA9IHNlbGVjdENvc21vc0NoYWluSW5mbyhjaGFpbkluZm8pO1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgZ2V0VHJhbnNmZXJDaGFubmVsSWQgPSAoZGVzdENoYWluSWQsIGZyb21DaGFpbk5hbWUpID0+XG4gICAgY29zbW9zQ2hhaW5JbmZvW2Zyb21DaGFpbk5hbWVdPy5jb25uZWN0aW9ucz8uW2Rlc3RDaGFpbklkXT8udHJhbnNmZXJDaGFubmVsXG4gICAgICAuY2hhbm5lbElkO1xuXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHRvRGVub21IYXNoID0gKGRlbm9tLCBkZXN0Q2hhaW5JZCwgZnJvbUNoYWluTmFtZSkgPT4ge1xuICAgIGNvbnN0IGNoYW5uZWxJZCA9IGdldFRyYW5zZmVyQ2hhbm5lbElkKGRlc3RDaGFpbklkLCBmcm9tQ2hhaW5OYW1lKTtcbiAgICBpZiAoIWNoYW5uZWxJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgTm8gY2hhbm5lbCBmb3VuZCBmb3IgJHtkZXN0Q2hhaW5JZH0gLT4gJHtmcm9tQ2hhaW5OYW1lfWAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gYGliYy8ke2Rlbm9tSGFzaCh7IGRlbm9tLCBjaGFubmVsSWQgfSl9YDtcbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHsgZ2V0VHJhbnNmZXJDaGFubmVsSWQsIHRvRGVub21IYXNoIH0pO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VEZW5vbVRvb2xzKG1ha2VEZW5vbVRvb2xzKTtcbiAgICAgICBjb25zdCBtYWtlQXNzZXRJbmZvID0gKFxuICBjaGFpbkluZm8sXG4gIHRva2VuTWFwID0ge1xuICAgIGFnb3JpYzogWyd1YmxkJywgJ3Vpc3QnXSxcbiAgICBjb3Ntb3NodWI6IFsndWF0b20nXSxcbiAgICBub2JsZTogWyd1dXNkYyddLFxuICAgIG9zbW9zaXM6IFsndW9zbW8nLCAndWlvbiddLFxuICB9LFxuKSA9PiB7XG4gIGNvbnN0IHsgdG9EZW5vbUhhc2ggfSA9IG1ha2VEZW5vbVRvb2xzKGNoYWluSW5mbyk7XG5cbiAgLy9cbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmVudHJpZXModG9rZW5NYXApXG4gICAgLmZpbHRlcigoW2NoYWluXSkgPT4gY2hhaW4gaW4gY2hhaW5JbmZvKVxuICAgIC5mbGF0TWFwKChbY2hhaW4sIGRlbm9tc10pID0+IGRlbm9tcy5tYXAoZGVub20gPT4gKHsgZGVub20sIGNoYWluIH0pKSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBhc3NldEluZm8gPSBbXTtcbiAgZm9yIChjb25zdCB7IGRlbm9tLCBjaGFpbiB9IG9mIHRva2Vucykge1xuICAgIGNvbnN0IGJhc2VEZXRhaWxzID0ge1xuICAgICAgYmFzZU5hbWU6IGNoYWluLFxuICAgICAgYmFzZURlbm9tOiBkZW5vbSxcbiAgICB9O1xuXG4gICAgLy9cbiAgICBhc3NldEluZm8ucHVzaChbXG4gICAgICBkZW5vbSxcbiAgICAgIHtcbiAgICAgICAgLi4uYmFzZURldGFpbHMsXG4gICAgICAgIGNoYWluTmFtZTogY2hhaW4sXG4gICAgICAgIC4uLihjaGFpbiA9PT0gJ2Fnb3JpYycgJiYge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICBicmFuZEtleTogZGVub20ucmVwbGFjZSgvXnUvLCAnJykudG9VcHBlckNhc2UoKSxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgLy9cbiAgICBpZiAoY2hhaW5JbmZvW2NoYWluXS5uYW1lc3BhY2UgIT09ICdjb3Ntb3MnKSBjb250aW51ZTtcbiAgICBjb25zdCBpc3N1aW5nQ2hhaW5JZCA9IGNoYWluSW5mb1tjaGFpbl0uY2hhaW5JZDtcbiAgICBmb3IgKGNvbnN0IGhvbGRpbmdDaGFpbiBvZiBPYmplY3Qua2V5cyhjaGFpbkluZm8pKSB7XG4gICAgICBpZiAoaG9sZGluZ0NoYWluID09PSBjaGFpbikgY29udGludWU7XG4gICAgICBpZiAoY2hhaW5JbmZvW2hvbGRpbmdDaGFpbl0ubmFtZXNwYWNlICE9PSAnY29zbW9zJykgY29udGludWU7XG4gICAgICBpZiAoIWNoYWluSW5mb1tjaGFpbl0/LmNvbm5lY3Rpb25zPy5bY2hhaW5JbmZvW2hvbGRpbmdDaGFpbl0uY2hhaW5JZF0pIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcbiAgICAgICAgICAnQ2Fubm90IHJlZ2lzdGVyJyxcbiAgICAgICAgICBkZW5vbSxcbiAgICAgICAgICAnb24nLFxuICAgICAgICAgIGhvbGRpbmdDaGFpbixcbiAgICAgICAgICAnOyBubyBjb25uZWN0aW9uIGZyb20nLFxuICAgICAgICAgIGNoYWluLFxuICAgICAgICApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGFzc2V0SW5mby5wdXNoKFtcbiAgICAgICAgdG9EZW5vbUhhc2goZGVub20sIGlzc3VpbmdDaGFpbklkLCBob2xkaW5nQ2hhaW4pLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uYmFzZURldGFpbHMsXG4gICAgICAgICAgY2hhaW5OYW1lOiBob2xkaW5nQ2hhaW4sXG4gICAgICAgICAgLi4uKGhvbGRpbmdDaGFpbiA9PT0gJ2Fnb3JpYycgJiYge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBicmFuZEtleTogZGVub20ucmVwbGFjZSgvXnUvLCAnJykudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBoYXJkZW4oYXNzZXRJbmZvKTtcbn07JGjNj19vbmNlLm1ha2VBc3NldEluZm8obWFrZUFzc2V0SW5mbyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzZWxlY3RDb3Ntb3NDaGFpbkluZm8iOlsic2VsZWN0Q29zbW9zQ2hhaW5JbmZvIl0sIm1ha2VEZW5vbVRvb2xzIjpbIm1ha2VEZW5vbVRvb2xzIl0sIm1ha2VBc3NldEluZm8iOlsibWFrZUFzc2V0SW5mbyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAARMpFy8AkAAPAJAAA2AAAAQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAvc3JjL2NvbmZpZy1tYXJzaGFsLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL21hcnNoYWwiLCJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbImZyb21FeHRlcm5hbENvbmZpZyIsImZyb21MZWdpYmxlIiwibWFrZU1hcnNoYWxGcm9tUmVjb3JkIiwidG9FeHRlcm5hbENvbmZpZyIsInRvTGVnaWJsZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsbWFrZU1hcnNoYWwsbXVzdE1hdGNoOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcIm1ha2VNYXJzaGFsXCIsWyRozY9fYSA9PiAobWFrZU1hcnNoYWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8vXG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IHsgZW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VNYXJzaGFsRnJvbVJlY29yZCA9IHNsb3RUb1ZhbCA9PiB7XG4gIGNvbnN0IGNvbnZlcnRTbG90VG9WYWwgPSBzbG90ID0+IHtcbiAgICBzbG90IGluIHNsb3RUb1ZhbCB8fCBGYWlsYHVua25vd24gc2xvdCAke3Nsb3R9YDtcbiAgICByZXR1cm4gc2xvdFRvVmFsW3Nsb3RdO1xuICB9O1xuICBjb25zdCB2YWxUb1Nsb3QgPSBuZXcgTWFwKGVudHJpZXMoc2xvdFRvVmFsKS5tYXAoKFtrLCB2XSkgPT4gW3YsIGtdKSk7XG4gIGNvbnN0IGNvbnZlcnRWYWxUb1Nsb3QgPSB2ID0+IHtcbiAgICB2YWxUb1Nsb3QuaGFzKHYpIHx8IEZhaWxgY2Fubm90IGV4dGVybmFsaXplIHVua25vd24gdmFsdWU6ICR7dn1gO1xuICAgIHJldHVybiB2YWxUb1Nsb3QuZ2V0KHYpO1xuICB9O1xuICByZXR1cm4gbWFrZU1hcnNoYWwoY29udmVydFZhbFRvU2xvdCwgY29udmVydFNsb3RUb1ZhbCwge1xuICAgIHNlcmlhbGl6ZUJvZHlGb3JtYXQ6ICdzbWFsbGNhcHMnLFxuICB9KTtcbn07XG5cbi8qXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlTWFyc2hhbEZyb21SZWNvcmQobWFrZU1hcnNoYWxGcm9tUmVjb3JkKTtcbiAgICAgICBjb25zdCB0b0xlZ2libGUgPSAoeyBib2R5LCBzbG90cyB9KSA9PlxuICBoYXJkZW4oeyBzdHJ1Y3R1cmU6IEpTT04ucGFyc2UoYm9keS5yZXBsYWNlKC9eIy8sICcnKSksIHNsb3RzIH0pO1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UudG9MZWdpYmxlKHRvTGVnaWJsZSk7XG4gICAgICAgY29uc3QgZnJvbUxlZ2libGUgPSAoeyBzdHJ1Y3R1cmUsIHNsb3RzIH0pID0+XG4gIGhhcmRlbih7IGJvZHk6IGAjJHtKU09OLnN0cmluZ2lmeShzdHJ1Y3R1cmUpfWAsIHNsb3RzIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmZyb21MZWdpYmxlKGZyb21MZWdpYmxlKTtcbiAgICAgICBjb25zdCB0b0V4dGVybmFsQ29uZmlnID0gKGNvbmZpZywgY29udGV4dCwgc2hhcGUpID0+IHtcbiAgaWYgKHNoYXBlKSB7XG4gICAgbXVzdE1hdGNoKGNvbmZpZywgc2hhcGUpO1xuICB9XG4gIHJldHVybiB0b0xlZ2libGUobWFrZU1hcnNoYWxGcm9tUmVjb3JkKGNvbnRleHQpLnRvQ2FwRGF0YShjb25maWcpKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UudG9FeHRlcm5hbENvbmZpZyh0b0V4dGVybmFsQ29uZmlnKTtcbiAgICAgICBjb25zdCBmcm9tRXh0ZXJuYWxDb25maWcgPSAocmVwciwgY29udGV4dCwgc2hhcGUpID0+IHtcbiAgY29uc3QgY29uZmlnID0gbWFrZU1hcnNoYWxGcm9tUmVjb3JkKGNvbnRleHQpLmZyb21DYXBEYXRhKGZyb21MZWdpYmxlKHJlcHIpKTtcbiAgaWYgKHNoYXBlKSB7XG4gICAgbXVzdE1hdGNoKGNvbmZpZywgc2hhcGUpO1xuICB9XG4gIHJldHVybiBjb25maWc7XG59OyRozY9fb25jZS5mcm9tRXh0ZXJuYWxDb25maWcoZnJvbUV4dGVybmFsQ29uZmlnKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VNYXJzaGFsRnJvbVJlY29yZCI6WyJtYWtlTWFyc2hhbEZyb21SZWNvcmQiXSwidG9MZWdpYmxlIjpbInRvTGVnaWJsZSJdLCJmcm9tTGVnaWJsZSI6WyJmcm9tTGVnaWJsZSJdLCJ0b0V4dGVybmFsQ29uZmlnIjpbInRvRXh0ZXJuYWxDb25maWciXSwiZnJvbUV4dGVybmFsQ29uZmlnIjpbImZyb21FeHRlcm5hbENvbmZpZyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABtmdrXbSEAAG0hAAAyAAAAQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAvc3JjL29yY2guc3RhcnQuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9pbnRlcm5hbCIsIkBlbmRvL2ZhciIsIi4vY2hhaW4tbmFtZS1zZXJ2aWNlLmpzIiwiLi9jb25maWctbWFyc2hhbC5qcyJdLCJleHBvcnRzIjpbImxvb2t1cEludGVyY2hhaW5JbmZvIiwibWFrZUdldE1hbmlmZXN0IiwibWl4Q29ubmVjdGlvbnMiLCJvcmNoUGVybWl0IiwicGVybWl0dGVkSXNzdWVycyIsInN0YXJ0T3JjaENvbnRyYWN0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZGVlcGx5RnVsZmlsbGVkT2JqZWN0LG1ha2VUcmFjZXIsb2JqZWN0TWFwLEUscGFzc1N0eWxlT2YsbWFrZUFzc2V0SW5mbyxmcm9tRXh0ZXJuYWxDb25maWc7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJkZWVwbHlGdWxmaWxsZWRPYmplY3RcIixbJGjNj19hID0+IChkZWVwbHlGdWxmaWxsZWRPYmplY3QgPSAkaM2PX2EpXV0sW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV0sW1wib2JqZWN0TWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWFwID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dXV0sW1wiLi9jaGFpbi1uYW1lLXNlcnZpY2UuanNcIiwgW1tcIm1ha2VBc3NldEluZm9cIixbJGjNj19hID0+IChtYWtlQXNzZXRJbmZvID0gJGjNj19hKV1dXV0sW1wiLi9jb25maWctbWFyc2hhbC5qc1wiLCBbW1wiZnJvbUV4dGVybmFsQ29uZmlnXCIsWyRozY9fYSA9PiAoZnJvbUV4dGVybmFsQ29uZmlnID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IGVudHJpZXMsIGZyb21FbnRyaWVzLCBrZXlzIH0gPSBPYmplY3Q7XG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcihgT1JDSC1TdGFydGAsIHRydWUpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VQdWJsaXNoaW5nU3RvcmFnZUtpdCA9IGFzeW5jIChwYXRoLCB7IGNoYWluU3RvcmFnZSwgYm9hcmQgfSkgPT4ge1xuICBjb25zdCBzdG9yYWdlTm9kZSA9IGF3YWl0IEUoY2hhaW5TdG9yYWdlKS5tYWtlQ2hpbGROb2RlKHBhdGgpO1xuXG4gIGNvbnN0IG1hcnNoYWxsZXIgPSBhd2FpdCBFKGJvYXJkKS5nZXRQdWJsaXNoaW5nTWFyc2hhbGxlcigpO1xuICByZXR1cm4geyBzdG9yYWdlTm9kZSwgbWFyc2hhbGxlciB9O1xufTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcGVybWl0dGVkSXNzdWVycyA9IGFzeW5jIChhZ29yaWNOYW1lcywgcGVybWl0RykgPT4ge1xuICBjb25zdCBwZXJtaXR0ZWRLZXlzID0ga2V5cyhwZXJtaXRHPy5pc3N1ZXI/LmNvbnN1bWUgfHwge30pO1xuICBhd2FpdCBudWxsO1xuICBjb25zdCBhZ29yaWNJc3N1ZXJzID0gZnJvbUVudHJpZXMoXG4gICAgYXdhaXQgRShFKGFnb3JpY05hbWVzKS5sb29rdXAoJ2lzc3VlcicpKS5lbnRyaWVzKCksXG4gICk7XG4gIGNvbnN0IGlzc3VlcktleXdvcmRSZWNvcmQgPSBmcm9tRW50cmllcyhcbiAgICBwZXJtaXR0ZWRLZXlzLm1hcChuID0+IFtuLCBhZ29yaWNJc3N1ZXJzW25dXSksXG4gICk7XG4gIC8vXG4gIHJldHVybiBpc3N1ZXJLZXl3b3JkUmVjb3JkO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5wZXJtaXR0ZWRJc3N1ZXJzKHBlcm1pdHRlZElzc3VlcnMpO1xuICAgICAgIGNvbnN0IHN0YXJ0T3JjaENvbnRyYWN0ID0gYXN5bmMgKFxuICBuYW1lLFxuICBkZXBsb3lDb25maWdTaGFwZSxcbiAgcGVybWl0RyxcbiAgbWFrZVByaXZhdGVBcmdzLFxuICB7XG4gICAgcHJvZHVjZSxcbiAgICBjb25zdW1lLFxuICAgIGluc3RhbGxhdGlvbjoge1xuICAgICAgY29uc3VtZTogeyBbbmFtZV06IGluc3RhbGxhdGlvblAgfSxcbiAgICB9LFxuICAgIGluc3RhbmNlOiB7XG4gICAgICBwcm9kdWNlOiB7IFtuYW1lXTogcHJvZHVjZUluc3RhbmNlIH0sXG4gICAgfSxcbiAgfSxcbiAgY29uZmlnU3RydWN0LFxuICBpc3N1ZXJLZXl3b3JkUmVjb3JkLFxuKSA9PiB7XG4gIHRyYWNlKCdzdGFydE9yY2hDb250cmFjdCcpO1xuXG4gIGNvbnN0IHsgYWdvcmljTmFtZXMsIHpvZSB9ID0gY29uc3VtZTtcbiAgYXdhaXQgbnVsbDtcbiAgLy9cbiAgLy9cbiAgaXNzdWVyS2V5d29yZFJlY29yZCB8fD0gYXdhaXQgcGVybWl0dGVkSXNzdWVycyhhZ29yaWNOYW1lcywgcGVybWl0Ryk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBicmFuZEh1YiA9IEUoYWdvcmljTmFtZXMpLmxvb2t1cCgnYnJhbmQnKTtcbiAgY29uc3QgeFZhdEVudHJpZXMgPSBhd2FpdCBFKGJyYW5kSHViKS5lbnRyaWVzKCk7XG4gIGNvbnN0IGNvbmZpZyA9IGZyb21FeHRlcm5hbENvbmZpZyhcbiAgICBjb25maWdTdHJ1Y3Qub3B0aW9ucyxcbiAgICBmcm9tRW50cmllcyh4VmF0RW50cmllcyksXG4gICAgZGVwbG95Q29uZmlnU2hhcGUsXG4gICk7XG4gIGNvbnN0IHsgdGVybXM6IGN1c3RvbVRlcm1zIH0gPSBjb25maWc7XG4gIHRyYWNlKCd1c2luZyB0ZXJtcycsIGN1c3RvbVRlcm1zKTtcblxuICBjb25zdCB7IGNoYWluU3RvcmFnZSwgYm9hcmQgfSA9IGNvbnN1bWU7XG4gIGNvbnN0IHsgc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIgfSA9IGF3YWl0IG1ha2VQdWJsaXNoaW5nU3RvcmFnZUtpdChuYW1lLCB7XG4gICAgYm9hcmQsXG4gICAgY2hhaW5TdG9yYWdlLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgY2hhaW5UaW1lclNlcnZpY2U6IHRpbWVyU2VydmljZSxcbiAgICBsb2NhbGNoYWluLFxuICAgIGNvc21vc0ludGVyY2hhaW5TZXJ2aWNlLFxuICB9ID0gY29uc3VtZTtcbiAgY29uc3Qgb3JjaGVzdHJhdGlvblBvd2VycyA9IGF3YWl0IGRlZXBseUZ1bGZpbGxlZE9iamVjdChcbiAgICBoYXJkZW4oe1xuICAgICAgbG9jYWxjaGFpbixcbiAgICAgIG9yY2hlc3RyYXRpb25TZXJ2aWNlOiBjb3Ntb3NJbnRlcmNoYWluU2VydmljZSxcbiAgICAgIHN0b3JhZ2VOb2RlLFxuICAgICAgdGltZXJTZXJ2aWNlLFxuICAgICAgYWdvcmljTmFtZXMsXG4gICAgfSksXG4gICk7XG5cbiAgY29uc3QgcHJpdmF0ZUFyZ3MgPSBhd2FpdCBtYWtlUHJpdmF0ZUFyZ3MoXG4gICAgb3JjaGVzdHJhdGlvblBvd2VycyxcbiAgICBtYXJzaGFsbGVyLFxuICAgIGNvbmZpZyxcbiAgKTtcblxuICBjb25zdCB7IHN0YXJ0VXBncmFkYWJsZSB9ID0gY29uc3VtZTtcbiAgY29uc3QgaW5zdGFsbGF0aW9uID0gYXdhaXQgaW5zdGFsbGF0aW9uUDtcblxuICBjb25zdCBbaW5zdGFsbGF0aW9uSWQsIGJ1bmRsZUlkXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBFKGJvYXJkKS5nZXRJZChpbnN0YWxsYXRpb24pLFxuICAgIEUoem9lKS5nZXRCdW5kbGVJREZyb21JbnN0YWxsYXRpb24oaW5zdGFsbGF0aW9uKSxcbiAgXSk7XG5cbiAgdHJhY2UoJ3N0YXJ0VXBncmFkYWJsZScsIHsgaW5zdGFsbGF0aW9uSWQsIGJ1bmRsZUlkIH0pO1xuXG4gIGNvbnN0IGtpdCA9IGF3YWl0IEUoc3RhcnRVcGdyYWRhYmxlKSh7XG4gICAgbGFiZWw6IG5hbWUsXG4gICAgaW5zdGFsbGF0aW9uLFxuICAgIGlzc3VlcktleXdvcmRSZWNvcmQsXG4gICAgdGVybXM6IGN1c3RvbVRlcm1zLFxuICAgIHByaXZhdGVBcmdzLFxuICB9KTtcbiAgY29uc3QgeyBpbnN0YW5jZSB9ID0ga2l0O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGZ1bGxLaXQgPSBoYXJkZW4oeyAuLi5raXQsIHByaXZhdGVBcmdzIH0pO1xuICAvL1xuICBwcm9kdWNlW2Ake25hbWV9S2l0YF0ucmVzb2x2ZShmdWxsS2l0KTtcblxuICBwcm9kdWNlSW5zdGFuY2UucmVzZXQoKTtcbiAgcHJvZHVjZUluc3RhbmNlLnJlc29sdmUoaW5zdGFuY2UpO1xuXG4gIGNvbnN0IFtpbnN0YW5jZUlkLCB0ZXJtc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgRShib2FyZCkuZ2V0SWQoaW5zdGFuY2UpLFxuICAgIEUoem9lKS5nZXRUZXJtcyhpbnN0YW5jZSksXG4gIF0pO1xuXG4gIHRyYWNlKFxuICAgIC4uLltcbiAgICAgIFsnc3RhcnRPcmNoQ29udHJhY3QgZG9uZScsIG5hbWVdLFxuICAgICAgWydnZXRJZChpbnN0YW5jZSk6JywgaW5zdGFuY2VJZF0sXG4gICAgICBbJ3Rlcm1zOicsIHRlcm1zXSxcbiAgICAgIFtvYmplY3RNYXAoZnVsbEtpdCwgaXQgPT4gcGFzc1N0eWxlT2YoaXQpKV0sXG4gICAgXS5mbGF0KCksXG4gICk7XG4gIHJldHVybiB7IGNvbmZpZywga2l0OiBmdWxsS2l0IH07XG59OyRozY9fb25jZS5zdGFydE9yY2hDb250cmFjdChzdGFydE9yY2hDb250cmFjdCk7XG5oYXJkZW4oc3RhcnRPcmNoQ29udHJhY3QpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlR2V0TWFuaWZlc3QgPSAoc3RhcnRGbiwgcGVybWl0LCBjb250cmFjdE5hbWUpID0+IHtcbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBnZXRNYW5pZmVzdEZvck9yY2ggPSAoeyByZXN0b3JlUmVmIH0sIHsgaW5zdGFsbEtleXMsIG9wdGlvbnMgfSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgbWFuaWZlc3Q6IHsgW3N0YXJ0Rm4ubmFtZV06IHBlcm1pdCB9LFxuICAgICAgaW5zdGFsbGF0aW9uczogeyBbY29udHJhY3ROYW1lXTogcmVzdG9yZVJlZihpbnN0YWxsS2V5c1tjb250cmFjdE5hbWVdKSB9LFxuICAgICAgb3B0aW9ucyxcbiAgICB9O1xuICB9O1xuICBoYXJkZW4oZ2V0TWFuaWZlc3RGb3JPcmNoKTtcblxuICByZXR1cm4gZ2V0TWFuaWZlc3RGb3JPcmNoO1xufTtcblxuLy9cbi8qXG5cbiAqL1xuLypcblxuXG4gKi8kaM2PX29uY2UubWFrZUdldE1hbmlmZXN0KG1ha2VHZXRNYW5pZmVzdCk7XG5jb25zdCByZXZlcnNlQ29ubkluZm8gPSBjb25uSW5mbyA9PiB7XG4gIGNvbnN0IHsgdHJhbnNmZXJDaGFubmVsIH0gPSBjb25uSW5mbztcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgaWQ6IGNvbm5JbmZvLmNvdW50ZXJwYXJ0eS5jb25uZWN0aW9uX2lkLFxuICAgIGNsaWVudF9pZDogY29ubkluZm8uY291bnRlcnBhcnR5LmNsaWVudF9pZCxcbiAgICBjb3VudGVycGFydHk6IHtcbiAgICAgIGNsaWVudF9pZDogY29ubkluZm8uY2xpZW50X2lkLFxuICAgICAgY29ubmVjdGlvbl9pZDogY29ubkluZm8uaWQsXG4gICAgfSxcbiAgICBzdGF0ZTogY29ubkluZm8uc3RhdGUsXG4gICAgdHJhbnNmZXJDaGFubmVsOiB7XG4gICAgICAuLi50cmFuc2ZlckNoYW5uZWwsXG4gICAgICBjaGFubmVsSWQ6IHRyYW5zZmVyQ2hhbm5lbC5jb3VudGVyUGFydHlDaGFubmVsSWQsXG4gICAgICBjb3VudGVyUGFydHlDaGFubmVsSWQ6IHRyYW5zZmVyQ2hhbm5lbC5jaGFubmVsSWQsXG4gICAgICBwb3J0SWQ6IHRyYW5zZmVyQ2hhbm5lbC5jb3VudGVyUGFydHlQb3J0SWQsXG4gICAgICBjb3VudGVyUGFydHlQb3J0SWQ6IHRyYW5zZmVyQ2hhbm5lbC5wb3J0SWQsXG4gICAgfSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IHBhcnNlQ29ubmVjdGlvbktleSA9IGNvbm5LZXkgPT4ge1xuICAvL1xuICBjb25zdCBwYXJ0cyA9IGNvbm5LZXkuc3BsaXQoLyg/PCFfKV8oPyFfKS8pO1xuXG4gIGlmIChwYXJ0cy5sZW5ndGggIT09IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29ubmVjdGlvbiBrZXkgZm9ybWF0OiAke2Nvbm5LZXl9YCk7XG4gIH1cblxuICAvL1xuICBjb25zdCBjMSA9IHBhcnRzWzBdLnJlcGxhY2UoL19fL2csICdfJyk7XG4gIGNvbnN0IGMyID0gcGFydHNbMV0ucmVwbGFjZSgvX18vZywgJ18nKTtcblxuICByZXR1cm4gW2MxLCBjMl07XG59O1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWl4Q29ubmVjdGlvbnMgPSAocGxhaW5JbmZvLCBjb25uSW5mb3MpID0+IHtcbiAgY29uc3QgY2hhaW5JbmZvcyA9IHsgLi4ucGxhaW5JbmZvIH07XG4gIGZvciAoY29uc3QgW2Nvbm5LZXksIGRpcmVjdGVkXSBvZiBlbnRyaWVzKGNvbm5JbmZvcykpIHtcbiAgICAvL1xuICAgIGNvbnN0IFtwLCBjXSA9IHBhcnNlQ29ubmVjdGlvbktleShjb25uS2V5KTtcbiAgICBjb25zdCBbcG4sIGNuXSA9IFtwLCBjXS5tYXAoY2lkID0+XG4gICAgICBrZXlzKGNoYWluSW5mb3MpLmZpbmQoXG4gICAgICAgIGsgPT5cbiAgICAgICAgICBjaGFpbkluZm9zW2tdLm5hbWVzcGFjZSA9PT0gJ2Nvc21vcycgJiYgY2hhaW5JbmZvc1trXS5jaGFpbklkID09PSBjaWQsXG4gICAgICApLFxuICAgICk7XG4gICAgaWYgKCEocG4gJiYgY24pKSB7XG4gICAgICB0cmFjZShcbiAgICAgICAgJ2Nhbm5vdCBmaW5kIGNoYWlucyBmb3IgY29ubmVjdGlvbicsXG4gICAgICAgIGNvbm5LZXksXG4gICAgICAgIG9iamVjdE1hcChjaGFpbkluZm9zLCBpbmZvID0+ICdjaGFpbklkJyBpbiBpbmZvICYmIGluZm8uY2hhaW5JZCksXG4gICAgICApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgeyBuYW1lLCBpZCwgY29ubkluZm8gfSBvZiBbXG4gICAgICB7IG5hbWU6IHBuLCBpZDogYywgY29ubkluZm86IGRpcmVjdGVkIH0sXG4gICAgICB7IG5hbWU6IGNuLCBpZDogcCwgY29ubkluZm86IHJldmVyc2VDb25uSW5mbyhkaXJlY3RlZCkgfSxcbiAgICBdKSB7XG4gICAgICBjb25zdCBjSW5mbyA9IGNoYWluSW5mb3NbbmFtZV07XG4gICAgICBpZiAoY0luZm8ubmFtZXNwYWNlICE9PSAnY29zbW9zJykge1xuICAgICAgICB0cmFjZShjb25uS2V5LCAnY29ubmVjdHMgbm9uLWNvc21vcyBjaGFpbicsIG5hbWUsIGNJbmZvKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjaGFpbkluZm9zW25hbWVdID0ge1xuICAgICAgICAuLi5jSW5mbyxcbiAgICAgICAgY29ubmVjdGlvbnM6IHsgLi4uY0luZm8uY29ubmVjdGlvbnMsIFtpZF06IGNvbm5JbmZvIH0sXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGFyZGVuKGNoYWluSW5mb3MpO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5taXhDb25uZWN0aW9ucyhtaXhDb25uZWN0aW9ucyk7XG4gICAgICAgY29uc3QgbG9va3VwSW50ZXJjaGFpbkluZm8gPSBhc3luYyAoXG4gIGFnb3JpY05hbWVzLFxuICB0b2tlbk1hcCA9IHsgYWdvcmljOiBbJ3VibGQnXSwgbm9ibGU6IFsndXVzZGMnXSB9LFxuKSA9PiB7XG4gIGF3YWl0IG51bGw7XG4gIGNvbnN0IHBsYWluSW5mb3MgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBmcm9tRW50cmllcyhhd2FpdCBFKEUoYWdvcmljTmFtZXMpLmxvb2t1cCgnY2hhaW4nKSkuZW50cmllcygpKVxuICApO1xuICBjb25zdCBjb25uSW5mb3MgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIGZyb21FbnRyaWVzKGF3YWl0IEUoRShhZ29yaWNOYW1lcykubG9va3VwKCdjaGFpbkNvbm5lY3Rpb24nKSkuZW50cmllcygpKVxuICApO1xuXG4gIGNvbnN0IGNoYWluSW5mb3MgPSBtaXhDb25uZWN0aW9ucyhwbGFpbkluZm9zLCBjb25uSW5mb3MpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGNoYWluSW5mbzogY2hhaW5JbmZvcyxcbiAgICBhc3NldEluZm86IG1ha2VBc3NldEluZm8oY2hhaW5JbmZvcywgdG9rZW5NYXApLFxuICB9KTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UubG9va3VwSW50ZXJjaGFpbkluZm8obG9va3VwSW50ZXJjaGFpbkluZm8pO1xuICAgICAgIGNvbnN0IG9yY2hQZXJtaXQgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBsb2NhbGNoYWluOiB0cnVlLFxuICBjb3Ntb3NJbnRlcmNoYWluU2VydmljZTogdHJ1ZSxcbiAgY2hhaW5TdG9yYWdlOiB0cnVlLFxuICBjaGFpblRpbWVyU2VydmljZTogdHJ1ZSxcbiAgYWdvcmljTmFtZXM6IHRydWUsXG5cbiAgLy9cbiAgYm9hcmQ6IHRydWUsXG5cbiAgLy9cbiAgc3RhcnRVcGdyYWRhYmxlOiB0cnVlLFxuICB6b2U6IHRydWUgIC8vXG59KTskaM2PX29uY2Uub3JjaFBlcm1pdChvcmNoUGVybWl0KTtcbmhhcmRlbihvcmNoUGVybWl0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InBlcm1pdHRlZElzc3VlcnMiOlsicGVybWl0dGVkSXNzdWVycyJdLCJzdGFydE9yY2hDb250cmFjdCI6WyJzdGFydE9yY2hDb250cmFjdCJdLCJtYWtlR2V0TWFuaWZlc3QiOlsibWFrZUdldE1hbmlmZXN0Il0sIm1peENvbm5lY3Rpb25zIjpbIm1peENvbm5lY3Rpb25zIl0sImxvb2t1cEludGVyY2hhaW5JbmZvIjpbImxvb2t1cEludGVyY2hhaW5JbmZvIl0sIm9yY2hQZXJtaXQiOlsib3JjaFBlcm1pdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADidW5WJBAAACQQAAA8AAAAQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAvc3JjL3BvcnRmb2xpby1zdGFydC5jb3JlLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwiLCJAZW5kby9wYXR0ZXJucyIsIi4vb3JjaC5zdGFydC5qcyIsIi4vcG9ydGZvbGlvLmNvbnRyYWN0LnBlcm1pdC5qcyJdLCJleHBvcnRzIjpbImdldE1hbmlmZXN0Rm9yUG9ydGZvbGlvIiwibWFrZVByaXZhdGVBcmdzIiwicG9ydGZvbGlvRGVwbG95Q29uZmlnU2hhcGUiLCJzdGFydFBvcnRmb2xpbyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VUcmFjZXIsTSxsb29rdXBJbnRlcmNoYWluSW5mbyxtYWtlR2V0TWFuaWZlc3Qsc3RhcnRPcmNoQ29udHJhY3QsbmFtZSxwZXJtaXQ7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4vb3JjaC5zdGFydC5qc1wiLCBbW1wibG9va3VwSW50ZXJjaGFpbkluZm9cIixbJGjNj19hID0+IChsb29rdXBJbnRlcmNoYWluSW5mbyA9ICRozY9fYSldXSxbXCJtYWtlR2V0TWFuaWZlc3RcIixbJGjNj19hID0+IChtYWtlR2V0TWFuaWZlc3QgPSAkaM2PX2EpXV0sW1wic3RhcnRPcmNoQ29udHJhY3RcIixbJGjNj19hID0+IChzdGFydE9yY2hDb250cmFjdCA9ICRozY9fYSldXV1dLFtcIi4vcG9ydGZvbGlvLmNvbnRyYWN0LnBlcm1pdC5qc1wiLCBbW1wibmFtZVwiLFskaM2PX2EgPT4gKG5hbWUgPSAkaM2PX2EpXV0sW1wicGVybWl0XCIsWyRozY9fYSA9PiAocGVybWl0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKGBZTVgtU3RhcnRgLCB0cnVlKTtcblxuLypcblxuXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IHBvcnRmb2xpb0RlcGxveUNvbmZpZ1NoYXBlID0gaGFyZGVuKHtcbiAgLy9cbiAgYXhlbGFyQ29uZmlnOiBNLnJlY29yZCgpLFxufSk7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UucG9ydGZvbGlvRGVwbG95Q29uZmlnU2hhcGUocG9ydGZvbGlvRGVwbG95Q29uZmlnU2hhcGUpO1xuICAgICAgIGNvbnN0IG1ha2VQcml2YXRlQXJncyA9IGFzeW5jIChcbiAgb3JjaGVzdHJhdGlvblBvd2VycyxcbiAgbWFyc2hhbGxlcixcbiAgY29uZmlnLFxuKSA9PiB7XG4gIGNvbnN0IHsgYXhlbGFyQ29uZmlnIH0gPSBjb25maWc7XG4gIGNvbnN0IHsgYWdvcmljTmFtZXMgfSA9IG9yY2hlc3RyYXRpb25Qb3dlcnM7XG4gIGNvbnN0IHsgY2hhaW5JbmZvOiBjb3Ntb3NDaGFpbkluZm8sIGFzc2V0SW5mbyB9ID0gYXdhaXQgbG9va3VwSW50ZXJjaGFpbkluZm8oXG4gICAgYWdvcmljTmFtZXMsXG4gICAge1xuICAgICAgYWdvcmljOiBbJ3VibGQnXSxcbiAgICAgIG5vYmxlOiBbJ3V1c2RjJ10sXG4gICAgICBheGVsYXI6IFsndWF4bCddLFxuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgY2hhaW5JbmZvID0ge1xuICAgIC4uLmNvc21vc0NoYWluSW5mbyxcbiAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3QuZW50cmllcyhheGVsYXJDb25maWcpLm1hcCgoW2NoYWluLCBpbmZvXSkgPT4gW1xuICAgICAgICBjaGFpbixcbiAgICAgICAgaW5mby5jaGFpbkluZm8sXG4gICAgICBdKSxcbiAgICApLFxuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGF4ZWxhcklkcyA9IHtcbiAgICBFdGhlcmV1bTogYXhlbGFyQ29uZmlnLkV0aGVyZXVtLmF4ZWxhcklkLFxuICAgIEF2YWxhbmNoZTogYXhlbGFyQ29uZmlnLkF2YWxhbmNoZS5heGVsYXJJZCxcbiAgICBBcmJpdHJ1bTogYXhlbGFyQ29uZmlnLkFyYml0cnVtLmF4ZWxhcklkLFxuICAgIE9wdGltaXNtOiBheGVsYXJDb25maWcuT3B0aW1pc20uYXhlbGFySWQsXG4gICAgQmluYW5jZTogYXhlbGFyQ29uZmlnLkJpbmFuY2UuYXhlbGFySWQsXG4gICAgUG9seWdvbjogYXhlbGFyQ29uZmlnLlBvbHlnb24uYXhlbGFySWQsXG4gICAgRmFudG9tOiBheGVsYXJDb25maWcuRmFudG9tLmF4ZWxhcklkLFxuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNvbnRyYWN0cyA9IHtcbiAgICBFdGhlcmV1bTogeyAuLi5heGVsYXJDb25maWcuRXRoZXJldW0uY29udHJhY3RzIH0sXG4gICAgQXZhbGFuY2hlOiB7IC4uLmF4ZWxhckNvbmZpZy5BdmFsYW5jaGUuY29udHJhY3RzIH0sXG4gICAgQXJiaXRydW06IHsgLi4uYXhlbGFyQ29uZmlnLkFyYml0cnVtLmNvbnRyYWN0cyB9LFxuICAgIE9wdGltaXNtOiB7IC4uLmF4ZWxhckNvbmZpZy5PcHRpbWlzbS5jb250cmFjdHMgfSxcbiAgICBCaW5hbmNlOiB7IC4uLmF4ZWxhckNvbmZpZy5CaW5hbmNlLmNvbnRyYWN0cyB9LFxuICAgIFBvbHlnb246IHsgLi4uYXhlbGFyQ29uZmlnLlBvbHlnb24uY29udHJhY3RzIH0sXG4gICAgRmFudG9tOiB7IC4uLmF4ZWxhckNvbmZpZy5GYW50b20uY29udHJhY3RzIH0sXG4gIH07XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGl0ID0gaGFyZGVuKHtcbiAgICAuLi5vcmNoZXN0cmF0aW9uUG93ZXJzLFxuICAgIG1hcnNoYWxsZXIsXG4gICAgY2hhaW5JbmZvLFxuICAgIGFzc2V0SW5mbyxcbiAgICBheGVsYXJJZHMsXG4gICAgY29udHJhY3RzLFxuICB9KTtcbiAgcmV0dXJuIGl0O1xufTskaM2PX29uY2UubWFrZVByaXZhdGVBcmdzKG1ha2VQcml2YXRlQXJncyk7XG5oYXJkZW4obWFrZVByaXZhdGVBcmdzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHN0YXJ0UG9ydGZvbGlvID0gYXN5bmMgKHBlcm1pdHRlZCwgY29uZmlnU3RydWN0KSA9PiB7XG4gIHRyYWNlKCdzdGFydFBvcnRmb2xpbycsIGNvbmZpZ1N0cnVjdCk7XG5cbiAgYXdhaXQgcGVybWl0dGVkLmNvbnN1bWUuY2hhaW5JbmZvUHVibGlzaGVkO1xuXG4gIGNvbnN0IHsgaXNzdWVyIH0gPSBwZXJtaXR0ZWQ7XG4gIGNvbnN0IFtCTEQsIFVTREMsIFBvQzI2XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBpc3N1ZXIuY29uc3VtZS5CTEQsXG4gICAgaXNzdWVyLmNvbnN1bWUuVVNEQyxcbiAgICBpc3N1ZXIuY29uc3VtZS5Qb0MyNixcbiAgXSk7XG4gIC8vXG4gIGNvbnN0IGlzc3VlcktleXdvcmRSZWNvcmQgPSB7IFVTREMsIEFjY2VzczogUG9DMjYsIEZlZTogQkxELCBCTEQgfTtcbiAgYXdhaXQgc3RhcnRPcmNoQ29udHJhY3QoXG4gICAgbmFtZSxcbiAgICBwb3J0Zm9saW9EZXBsb3lDb25maWdTaGFwZSxcbiAgICBwZXJtaXQsXG4gICAgbWFrZVByaXZhdGVBcmdzLFxuICAgIHBlcm1pdHRlZCxcbiAgICBjb25maWdTdHJ1Y3QsXG4gICAgaXNzdWVyS2V5d29yZFJlY29yZCxcbiAgKTtcblxuICB0cmFjZSgnc3RhcnRQb3J0Zm9saW8gZG9uZScpO1xufTtcblxuLy9cbiRozY9fb25jZS5zdGFydFBvcnRmb2xpbyhzdGFydFBvcnRmb2xpbyk7Y29uc3QgZ2V0TWFuaWZlc3RGb3JQb3J0Zm9saW89KHUsZCk9PlxuICBtYWtlR2V0TWFuaWZlc3Qoc3RhcnRQb3J0Zm9saW8sIHBlcm1pdCwgbmFtZSkodSwgZCk7JGjNj19vbmNlLmdldE1hbmlmZXN0Rm9yUG9ydGZvbGlvKGdldE1hbmlmZXN0Rm9yUG9ydGZvbGlvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InBvcnRmb2xpb0RlcGxveUNvbmZpZ1NoYXBlIjpbInBvcnRmb2xpb0RlcGxveUNvbmZpZ1NoYXBlIl0sIm1ha2VQcml2YXRlQXJncyI6WyJtYWtlUHJpdmF0ZUFyZ3MiXSwic3RhcnRQb3J0Zm9saW8iOlsic3RhcnRQb3J0Zm9saW8iXSwiZ2V0TWFuaWZlc3RGb3JQb3J0Zm9saW8iOlsiZ2V0TWFuaWZlc3RGb3JQb3J0Zm9saW8iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAsTaSdtsDAADbAwAAQQAAAEBhZ2xvY2FsL3BvcnRmb2xpby1kZXBsb3ktdjAuMS4wL3NyYy9wb3J0Zm9saW8uY29udHJhY3QucGVybWl0LmpzeyJpbXBvcnRzIjpbIi4vb3JjaC5zdGFydC5qcyJdLCJleHBvcnRzIjpbIm5hbWUiLCJwZXJtaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvcmNoUGVybWl0OyRozY9faW1wb3J0cyhbW1wiLi9vcmNoLnN0YXJ0LmpzXCIsIFtbXCJvcmNoUGVybWl0XCIsWyRozY9fYSA9PiAob3JjaFBlcm1pdCA9ICRozY9fYSldXV1dXSk7XG5cblxuICAgICAgIGNvbnN0IG5hbWUgPSAvKiAgICAgICAgICAgICAgICAqLyAoJ3ltYXgwJyk7XG5cbi8qXG5cbiAqL1xuXG4vKlxuXG4gKi8kaM2PX29uY2UubmFtZShuYW1lKTtcbiAgICAgICBjb25zdCBwZXJtaXQgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBwcm9kdWNlOiB7IFsvKiAgICAgICAgICAgICAgICAqLyAoYCR7bmFtZX1LaXRgKV06IHRydWUgfSxcbiAgY29uc3VtZTogeyAuLi5vcmNoUGVybWl0LCBjaGFpbkluZm9QdWJsaXNoZWQ6IHRydWUgfSxcbiAgaW5zdGFuY2U6IHsgcHJvZHVjZTogeyBbbmFtZV06IHRydWUgfSB9LFxuICBpbnN0YWxsYXRpb246IHsgY29uc3VtZTogeyBbbmFtZV06IHRydWUgfSB9LFxuICBicmFuZDoge30sXG4gIGlzc3VlcjogeyBjb25zdW1lOiB7IEJMRDogdHJ1ZSwgVVNEQzogdHJ1ZSwgUG9DMjY6IHRydWUgfSB9LFxufSk7JGjNj19vbmNlLnBlcm1pdChwZXJtaXQpO1xuaGFyZGVuKHBlcm1pdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJuYW1lIjpbIm5hbWUiXSwicGVybWl0IjpbInBlcm1pdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACJk/w97AEAAOwBAAAiAAAAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9hc3luYy1mbG93LmpzIiwiLi9zcmMvdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL3NyYy9hc3luYy1mbG93LmpzIiwiLi9zcmMvdHlwZXMtaW5kZXguanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvYXN5bmMtZmxvdy5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMtaW5kZXguanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA1/zuJ6NDAACjQwAAKwAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2FzeW5jLWZsb3cuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy9zdG9yZSIsIkBhZ29yaWMvYmFzZS16b25lIiwiQGFnb3JpYy92b3ciLCIuL3JlcGxheS1tZW1icmFuZS5qcyIsIi4vbG9nLXN0b3JlLmpzIiwiLi9iaWplY3Rpb24uanMiLCIuL2VuZG93bWVudHMuanMiLCIuL3R5cGUtZ3VhcmRzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZUFzeW5jRmxvd1Rvb2xzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYW5ub3RhdGVFcnJvcixGYWlsLG1ha2VFcnJvcixxLFgsRSxNLG1ha2VTY2FsYXJXZWFrTWFwU3RvcmUsUHJvbWlzZVdhdGNoZXJJLHByZXBhcmVWb3dUb29scyx0b1Bhc3NhYmxlQ2FwLFZvd1NoYXBlLG1ha2VSZXBsYXlNZW1icmFuZSxwcmVwYXJlTG9nU3RvcmUscHJlcGFyZUJpamVjdGlvbixwcmVwYXJlRW5kb3dtZW50VG9vbHMsTG9nRW50cnlTaGFwZSxGbG93U3RhdGVTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJtYWtlU2NhbGFyV2Vha01hcFN0b3JlXCIsWyRozY9fYSA9PiAobWFrZVNjYWxhcldlYWtNYXBTdG9yZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lXCIsIFtbXCJQcm9taXNlV2F0Y2hlcklcIixbJGjNj19hID0+IChQcm9taXNlV2F0Y2hlckkgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wicHJlcGFyZVZvd1Rvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZVZvd1Rvb2xzID0gJGjNj19hKV1dLFtcInRvUGFzc2FibGVDYXBcIixbJGjNj19hID0+ICh0b1Bhc3NhYmxlQ2FwID0gJGjNj19hKV1dLFtcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCIuL3JlcGxheS1tZW1icmFuZS5qc1wiLCBbW1wibWFrZVJlcGxheU1lbWJyYW5lXCIsWyRozY9fYSA9PiAobWFrZVJlcGxheU1lbWJyYW5lID0gJGjNj19hKV1dXV0sW1wiLi9sb2ctc3RvcmUuanNcIiwgW1tcInByZXBhcmVMb2dTdG9yZVwiLFskaM2PX2EgPT4gKHByZXBhcmVMb2dTdG9yZSA9ICRozY9fYSldXV1dLFtcIi4vYmlqZWN0aW9uLmpzXCIsIFtbXCJwcmVwYXJlQmlqZWN0aW9uXCIsWyRozY9fYSA9PiAocHJlcGFyZUJpamVjdGlvbiA9ICRozY9fYSldXV1dLFtcIi4vZW5kb3dtZW50cy5qc1wiLCBbW1wicHJlcGFyZUVuZG93bWVudFRvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZUVuZG93bWVudFRvb2xzID0gJGjNj19hKV1dXV0sW1wiLi90eXBlLWd1YXJkcy5qc1wiLCBbW1wiTG9nRW50cnlTaGFwZVwiLFskaM2PX2EgPT4gKExvZ0VudHJ5U2hhcGUgPSAkaM2PX2EpXV0sW1wiRmxvd1N0YXRlU2hhcGVcIixbJGjNj19hID0+IChGbG93U3RhdGVTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbmNvbnN0IHsgZGVmaW5lUHJvcGVydGllcyB9ID0gT2JqZWN0O1xuXG5jb25zdCBBc3luY0Zsb3dJS2l0ID0gaGFyZGVuKHtcbiAgZmxvdzogTS5pbnRlcmZhY2UoJ0Zsb3cnLCB7XG4gICAgZ2V0Rmxvd1N0YXRlOiBNLmNhbGwoKS5yZXR1cm5zKEZsb3dTdGF0ZVNoYXBlKSxcbiAgICByZXN0YXJ0OiBNLmNhbGwoKS5vcHRpb25hbChNLmJvb2xlYW4oKSkucmV0dXJucygpLFxuICAgIHdha2U6IE0uY2FsbCgpLnJldHVybnMoKSxcbiAgICBnZXRPdXRjb21lOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICBkdW1wOiBNLmNhbGwoKS5yZXR1cm5zKE0uYXJyYXlPZihMb2dFbnRyeVNoYXBlKSksXG4gICAgZ2V0T3B0RmF0YWxQcm9ibGVtOiBNLmNhbGwoKS5yZXR1cm5zKE0ub3B0KE0uZXJyb3IoKSkpLFxuICB9KSxcbiAgYWRtaW46IE0uaW50ZXJmYWNlKCdGbG93QWRtaW4nLCB7XG4gICAgcmVzZXQ6IE0uY2FsbCgpLnJldHVybnMoKSxcbiAgICBjb21wbGV0ZTogTS5jYWxsKCkucmV0dXJucygpLFxuICAgIHBhbmljOiBNLmNhbGwoTS5lcnJvcigpKS5yZXR1cm5zKE0ubm90KE0uYW55KCkpKSAgLy9cbiAgfSksXG4gIHdha2VXYXRjaGVyOiBQcm9taXNlV2F0Y2hlckksXG59KTtcblxuY29uc3QgQWRtaW5Bc3luY0Zsb3dJID0gTS5pbnRlcmZhY2UoJ0FzeW5jRmxvd0FkbWluJywge1xuICBnZXRGYWlsdXJlczogTS5jYWxsKCkucmV0dXJucyhNLm1hcE9mKE0ucmVtb3RhYmxlKCdhc3luY0Zsb3cnKSwgTS5lcnJvcigpKSksXG4gIHdha2VBbGw6IE0uY2FsbCgpLnJldHVybnMoKSxcbiAgZ2V0Rmxvd0Zvck91dGNvbWVWb3c6IE0uY2FsbChWb3dTaGFwZSkucmV0dXJucyhNLm9wdChNLnJlbW90YWJsZSgnZmxvdycpKSksXG59KTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQXN5bmNGbG93VG9vbHMgPSAob3V0ZXJab25lLCBvdXRlck9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7XG4gICAgdm93VG9vbHMgPSBwcmVwYXJlVm93VG9vbHMob3V0ZXJab25lKSxcbiAgICBtYWtlTG9nU3RvcmUgPSBwcmVwYXJlTG9nU3RvcmUob3V0ZXJab25lKSxcbiAgICBlbmRvd21lbnRUb29sczogeyBwcmVwYXJlRW5kb3dtZW50LCB1bndyYXAgfSA9IHByZXBhcmVFbmRvd21lbnRUb29scyhcbiAgICAgIG91dGVyWm9uZSxcbiAgICAgIHsgdm93VG9vbHMgfSxcbiAgICApLFxuICAgIG1ha2VCaWplY3Rpb24gPSBwcmVwYXJlQmlqZWN0aW9uKG91dGVyWm9uZSwgdW53cmFwKSxcbiAgICBwYW5pY0hhbmRsZXIgPSBlcnIgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0sXG4gIH0gPSBvdXRlck9wdGlvbnM7XG4gIGNvbnN0IHsgd2F0Y2gsIG1ha2VWb3dLaXQgfSA9IHZvd1Rvb2xzO1xuXG4gIGNvbnN0IGZhaWx1cmVzID0gb3V0ZXJab25lLm1hcFN0b3JlKCdhc3luY0Z1bmNGYWlsdXJlcycsIHtcbiAgICBrZXlTaGFwZTogTS5yZW1vdGFibGUoJ2Zsb3cnKSwgLy9cbiAgICB2YWx1ZVNoYXBlOiBNLmVycm9yKCksXG4gIH0pO1xuXG4gIGNvbnN0IGVhZ2VyV2FrZXJzID0gb3V0ZXJab25lLnNldFN0b3JlKGBhc3luY0Z1bmNFYWdlcldha2Vyc2AsIHtcbiAgICBrZXlTaGFwZTogTS5yZW1vdGFibGUoJ2Zsb3cnKSAgLy9cbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1lbWJyYW5lTWFwID0gbWFrZVNjYWxhcldlYWtNYXBTdG9yZSgnbWVtYnJhbmVGb3InLCB7XG4gICAga2V5U2hhcGU6IE0ucmVtb3RhYmxlKCdmbG93JyksXG4gICAgdmFsdWVTaGFwZTogTS5yZW1vdGFibGUoJ21lbWJyYW5lJyksXG4gIH0pO1xuXG4gIGNvbnN0IGhhc01lbWJyYW5lID0gZmxvdyA9PiBtZW1icmFuZU1hcC5oYXMoZmxvdyk7XG4gIGNvbnN0IGdldE1lbWJyYW5lID0gZmxvdyA9PiBtZW1icmFuZU1hcC5nZXQoZmxvdyk7XG4gIGNvbnN0IGluaXRNZW1icmFuZSA9IChmbG93LCBtZW1icmFuZSkgPT4gbWVtYnJhbmVNYXAuaW5pdChmbG93LCBtZW1icmFuZSk7XG4gIGNvbnN0IGRlbGV0ZU1lbWJyYW5lID0gZmxvdyA9PiBtZW1icmFuZU1hcC5kZWxldGUoZmxvdyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBmbG93Rm9yT3V0Y29tZVZvd0tleSA9IG91dGVyWm9uZS5tYXBTdG9yZSgnZmxvd0Zvck91dGNvbWVWb3cnLCB7XG4gICAga2V5U2hhcGU6IE0ucmVtb3RhYmxlKCd0b1Bhc3NhYmxlQ2FwJyksXG4gICAgdmFsdWVTaGFwZTogTS5yZW1vdGFibGUoJ2Zsb3cnKSAgLy9cbiAgfSk7XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgcHJlcGFyZUFzeW5jRmxvd0tpdCA9ICh6b25lLCB0YWcsIGd1ZXN0QXN5bmNGdW5jLCBvcHRpb25zID0ge30pID0+IHtcbiAgICB0eXBlb2YgZ3Vlc3RBc3luY0Z1bmMgPT09ICdmdW5jdGlvbicgfHxcbiAgICAgIEZhaWxgZ3Vlc3RBc3luY0Z1bmMgbXVzdCBiZSBhIGNhbGxhYmxlIGZ1bmN0aW9uICR7Z3Vlc3RBc3luY0Z1bmN9YDtcbiAgICBjb25zdCB7XG4gICAgICAvL1xuICAgICAgc3RhcnRFYWdlciA9IHRydWUsXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBpbnRlcm5hbE1ha2VBc3luY0Zsb3dLaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICAgdGFnLFxuICAgICAgQXN5bmNGbG93SUtpdCxcbiAgICAgIGFjdGl2YXRpb25BcmdzID0+IHtcbiAgICAgICAgaGFyZGVuKGFjdGl2YXRpb25BcmdzKTtcbiAgICAgICAgY29uc3QgbG9nID0gbWFrZUxvZ1N0b3JlKCk7XG4gICAgICAgIGNvbnN0IGJpamVjdGlvbiA9IG1ha2VCaWplY3Rpb24oKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGl2YXRpb25BcmdzLCAvL1xuICAgICAgICAgIGxvZywgLy9cbiAgICAgICAgICBiaWplY3Rpb24sIC8vXG4gICAgICAgICAgb3V0Y29tZUtpdDogbWFrZVZvd0tpdCgpLCAvL1xuICAgICAgICAgIGlzRG9uZTogZmFsc2UgIC8vXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmbG93OiB7XG4gICAgICAgICAgLypcblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGdldEZsb3dTdGF0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgbG9nLCBvdXRjb21lS2l0LCBpc0RvbmUgfSA9IHN0YXRlO1xuICAgICAgICAgICAgY29uc3QgeyBmbG93IH0gPSBmYWNldHM7XG5cbiAgICAgICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgICAgIWhhc01lbWJyYW5lKGZsb3cpIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBEb25lIGZsb3cgbXVzdCBkcm9wIG1lbWJyYW5lICR7Zmxvd30gJHtnZXRNZW1icmFuZShmbG93KX1gO1xuICAgICAgICAgICAgICAhZmFpbHVyZXMuaGFzKGZsb3cpIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBEb25lIGZsb3cgbXVzdCBub3QgYmUgaW4gZmFpbHVyZXMgJHtmbG93fSAke2ZhaWx1cmVzLmdldChmbG93KX1gO1xuICAgICAgICAgICAgICAhZWFnZXJXYWtlcnMuaGFzKGZsb3cpIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBEb25lIGZsb3cgbXVzdCBub3QgYmUgaW4gZWFnZXJXYWtlcnMgJHtmbG93fWA7XG4gICAgICAgICAgICAgICFmbG93Rm9yT3V0Y29tZVZvd0tleS5oYXMob3V0Y29tZUtpdC52b3cpIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBEb25lIGZsb3cgbXVzdCBkcm9wIGZsb3cgbG9va3VwIGZyb20gdm93ICR7b3V0Y29tZUtpdC52b3d9YDtcbiAgICAgICAgICAgICAgKGxvZy5nZXRJbmRleCgpID09PSAwICYmIGxvZy5nZXRMZW5ndGgoKSA9PT0gMCkgfHxcbiAgICAgICAgICAgICAgICBGYWlsYERvbmUgZmxvdyBtdXN0IGVtcHR5IGxvZyAke2Zsb3d9ICR7bG9nfWA7XG4gICAgICAgICAgICAgIHJldHVybiAnRG9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmFpbHVyZXMuaGFzKGZsb3cpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnRmFpbGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFzTWVtYnJhbmUoZmxvdykpIHtcbiAgICAgICAgICAgICAgbG9nLmdldEluZGV4KCkgPT09IDAgfHxcbiAgICAgICAgICAgICAgICBGYWlsYFNsZWVwaW5nIGZsb3cgbXVzdCBwbGF5IGZyb20gbG9nIHN0YXJ0ICR7Zmxvd30gJHtsb2cuZ2V0SW5kZXgoKX1gO1xuICAgICAgICAgICAgICByZXR1cm4gJ1NsZWVwaW5nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2cuaXNSZXBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICByZXR1cm4gJ1JlcGxheWluZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ1J1bm5pbmcnO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcmVzdGFydChlYWdlciA9IHN0YXJ0RWFnZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgYWN0aXZhdGlvbkFyZ3MsIGxvZywgYmlqZWN0aW9uLCBvdXRjb21lS2l0IH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdywgYWRtaW4sIHdha2VXYXRjaGVyIH0gPSBmYWNldHM7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Rmxvd1N0YXRlID0gZmxvdy5nZXRGbG93U3RhdGUoKTtcblxuICAgICAgICAgICAgc3RhcnRGbG93U3RhdGUgIT09ICdEb25lJyB8fFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBGYWlsYENhbm5vdCByZXN0YXJ0IGEgZG9uZSBmbG93ICR7Zmxvd31gO1xuXG4gICAgICAgICAgICBhZG1pbi5yZXNldCgpO1xuICAgICAgICAgICAgaWYgKGVhZ2VyKSB7XG4gICAgICAgICAgICAgIGVhZ2VyV2FrZXJzLmFkZChmbG93KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWFnZXJXYWtlcnMuaGFzKGZsb3cpKSB7XG4gICAgICAgICAgICAgIGVhZ2VyV2FrZXJzLmRlbGV0ZShmbG93KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgd2F0Y2hXYWtlID0gdm93aXNoID0+IHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgem9uZS5pc1N0b3JhYmxlKHZvd2lzaCkgfHxcbiAgICAgICAgICAgICAgICBGYWlsYHZvd2lzaCBtdXN0IGJlIHN0b3JhYmxlIGluIHRoaXMgem9uZSAodXN1YWxseSwgbXVzdCBiZSBkdXJhYmxlKTogJHt2b3dpc2h9YDtcbiAgICAgICAgICAgICAgem9uZS5pc1N0b3JhYmxlKHdha2VXYXRjaGVyKSB8fFxuICAgICAgICAgICAgICAgIEZhaWxgd2FrZVdhdGNoZXIgbXVzdCBiZSBzdG9yYWJsZSBpbiB0aGlzIHpvbmUgKHVzdWFsbHksIG11c3QgYmUgZHVyYWJsZSk6ICR7d2FrZVdhdGNoZXJ9YDtcbiAgICAgICAgICAgICAgd2F0Y2godm93aXNoLCB3YWtlV2F0Y2hlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGFuaWMgPSBlcnIgPT4gYWRtaW4ucGFuaWMoZXJyKTtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJyYW5lID0gbWFrZVJlcGxheU1lbWJyYW5lKHtcbiAgICAgICAgICAgICAgbG9nLFxuICAgICAgICAgICAgICBiaWplY3Rpb24sXG4gICAgICAgICAgICAgIHZvd1Rvb2xzLFxuICAgICAgICAgICAgICB3YXRjaFdha2UsXG4gICAgICAgICAgICAgIHBhbmljLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbml0TWVtYnJhbmUoZmxvdywgbWVtYnJhbmUpO1xuICAgICAgICAgICAgY29uc3QgZ3Vlc3RBcmdzID0gbWVtYnJhbmUuaG9zdFRvR3Vlc3QoYWN0aXZhdGlvbkFyZ3MpO1xuXG4gICAgICAgICAgICBjb25zdCBmbG93U3RhdGUgPSBmbG93LmdldEZsb3dTdGF0ZSgpO1xuICAgICAgICAgICAgZmxvd1N0YXRlID09PSAnUnVubmluZycgfHxcbiAgICAgICAgICAgICAgZmxvd1N0YXRlID09PSAnUmVwbGF5aW5nJyB8fFxuICAgICAgICAgICAgICBGYWlsYFJlc3RhcnRlZCBmbG93IG11c3QgYmUgUnVubmluZyBvciBSZXBsYXlpbmcgJHtmbG93fWA7XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgbWVtYnJhbmUud2FrZSgpO1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBndWVzdFJlc3VsdFAgPSAoYXN5bmMgKCkgPT5cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZ3Vlc3RBc3luY0Z1bmMoLi4uZ3Vlc3RBcmdzKSkoKTtcblxuICAgICAgICAgICAgaWYgKGZsb3cuZ2V0Rmxvd1N0YXRlKCkgIT09ICdGYWlsZWQnKSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGNvbnN0IGcgPSBiaWplY3Rpb24udW53cmFwSW5pdChndWVzdFJlc3VsdFAsIG91dGNvbWVLaXQudm93KTtcbiAgICAgICAgICAgICAgZyA9PT0gZ3Vlc3RSZXN1bHRQIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBpbnRlcm5hbDogcHJvbWlzZXMgc2hvdWxkIG5vdCBiZSB1bndyYXBwZWQgJHtnfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdm9pZCBFLndoZW4oXG4gICAgICAgICAgICAgIGd1ZXN0UmVzdWx0UCxcbiAgICAgICAgICAgICAgZ0Z1bGZpbGxtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYmlqZWN0aW9uLmhhc0d1ZXN0KGd1ZXN0UmVzdWx0UCkpIHtcbiAgICAgICAgICAgICAgICAgICFsb2cuaXNSZXBsYXlpbmcoKSB8fFxuICAgICAgICAgICAgICAgICAgICBwYW5pYyhcbiAgICAgICAgICAgICAgICAgICAgICBtYWtlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBYYGd1ZXN0IGZ1bGZpbGxlZCB3aXRoICR7Z0Z1bGZpbGxtZW50fSBiZWZvcmUgZmluaXNoaW5nIHJlcGxheWAsXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIG91dGNvbWVLaXQucmVzb2x2ZXIucmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgbWVtYnJhbmUuZ3Vlc3RUb0hvc3QoZ0Z1bGZpbGxtZW50KSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBhZG1pbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZ3Vlc3RSZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKGJpamVjdGlvbi5oYXNHdWVzdChndWVzdFJlc3VsdFApKSB7XG4gICAgICAgICAgICAgICAgICAhbG9nLmlzUmVwbGF5aW5nKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgcGFuaWMoXG4gICAgICAgICAgICAgICAgICAgICAgbWFrZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgWGBndWVzdCByZWplY3RlZCB3aXRoICR7Z3Vlc3RSZWFzb259IGJlZm9yZSBmaW5pc2hpbmcgcmVwbGF5YCxcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgb3V0Y29tZUtpdC5yZXNvbHZlci5yZWplY3QobWVtYnJhbmUuZ3Vlc3RUb0hvc3QoZ3Vlc3RSZWFzb24pKTtcbiAgICAgICAgICAgICAgICAgIGFkbWluLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZmxvdy5nZXRGbG93U3RhdGUoKSA9PT0gJ0ZhaWxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZmxvdy5nZXRPcHRGYXRhbFByb2JsZW0oKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1heWJlUGFuaWNSZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGZsb3cuZ2V0Rmxvd1N0YXRlKCkgPT09ICdGYWlsZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IGZsb3cuZ2V0T3B0RmF0YWxQcm9ibGVtKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG1ha2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgWGBpbnRlcm5hbDogdW5leHBlY3RlZCBlcnJvciBpbiBndWVzdCBjb21wbGV0aW9uIGhhbmRsaW5nICR7bWF5YmVQYW5pY1JlYXNvbn1gLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbmljKGVycik7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChfZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuY2F0Y2gocGFuaWNIYW5kbGVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdha2UoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICBjb25zdCBmbG93U3RhdGUgPSBmbG93LmdldEZsb3dTdGF0ZSgpO1xuICAgICAgICAgICAgc3dpdGNoIChmbG93U3RhdGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnRG9uZSc6XG4gICAgICAgICAgICAgIGNhc2UgJ0ZhaWxlZCc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSAnUnVubmluZyc6XG4gICAgICAgICAgICAgIGNhc2UgJ1JlcGxheWluZyc6IHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBnZXRNZW1icmFuZShmbG93KS53YWtlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ1NsZWVwaW5nJzoge1xuICAgICAgICAgICAgICAgIGZsb3cucmVzdGFydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgdGhyb3cgRmFpbGB1bmV4cGVjdGVkIGZsb3dTdGF0ZSAke3EoZmxvd1N0YXRlKX1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRPdXRjb21lKCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgb3V0Y29tZUtpdCB9ID0gc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gb3V0Y29tZUtpdC52b3c7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkdW1wKCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgbG9nIH0gPSBzdGF0ZTtcblxuICAgICAgICAgICAgcmV0dXJuIGxvZy5kdW1wKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRPcHRGYXRhbFByb2JsZW0oKSB7XG4gICAgICAgICAgICBjb25zdCB7IGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFpbHVyZXMuaGFzKGZsb3cpID8gZmFpbHVyZXMuZ2V0KGZsb3cpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGJpamVjdGlvbiwgbG9nIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gZmFjZXRzO1xuICAgICAgICAgICAgIXN0YXRlLmlzRG9uZSB8fCBGYWlsYENhbm5vdCByZXNldCBhIGRvbmUgZmxvd2A7XG5cbiAgICAgICAgICAgIGlmIChmYWlsdXJlcy5oYXMoZmxvdykpIHtcbiAgICAgICAgICAgICAgZmFpbHVyZXMuZGVsZXRlKGZsb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc01lbWJyYW5lKGZsb3cpKSB7XG4gICAgICAgICAgICAgIGdldE1lbWJyYW5lKGZsb3cpLnN0b3AoKTtcbiAgICAgICAgICAgICAgZGVsZXRlTWVtYnJhbmUoZmxvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2cucmVzZXQoKTtcbiAgICAgICAgICAgIGJpamVjdGlvbi5yZXNldCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGxvZyB9ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25zdCB7IGZsb3csIGFkbWluIH0gPSBmYWNldHM7XG5cbiAgICAgICAgICAgIGFkbWluLnJlc2V0KCk7XG4gICAgICAgICAgICBpZiAoZWFnZXJXYWtlcnMuaGFzKGZsb3cpKSB7XG4gICAgICAgICAgICAgIGVhZ2VyV2FrZXJzLmRlbGV0ZShmbG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsb3dGb3JPdXRjb21lVm93S2V5LmRlbGV0ZSh0b1Bhc3NhYmxlQ2FwKGZsb3cuZ2V0T3V0Y29tZSgpKSk7XG4gICAgICAgICAgICBzdGF0ZS5pc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgbG9nLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGZsb3cuZ2V0Rmxvd1N0YXRlKCkgPT09ICdEb25lJyB8fFxuICAgICAgICAgICAgICBGYWlsYENvbXBsZXRlIGZsb3cgbXVzdCBiZSBEb25lICR7Zmxvd31gO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFuaWMoZmF0YWxQcm9ibGVtKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGJpamVjdGlvbiwgbG9nIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICBpZiAoZmFpbHVyZXMuaGFzKGZsb3cpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZFcnIgPSBmYWlsdXJlcy5nZXQoZmxvdyk7XG4gICAgICAgICAgICAgIGFubm90YXRlRXJyb3IoXG4gICAgICAgICAgICAgICAgcHJldkVycixcbiAgICAgICAgICAgICAgICBYYGRvdWJseSBmYWlsZWQgc29tZWhvdyB3aXRoICR7ZmF0YWxQcm9ibGVtfWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGZhdGFsUHJvYmxlbSA9IHByZXZFcnI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmYWlsdXJlcy5pbml0KGZsb3csIGZhdGFsUHJvYmxlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNNZW1icmFuZShmbG93KSkge1xuICAgICAgICAgICAgICBnZXRNZW1icmFuZShmbG93KS5zdG9wKCk7XG4gICAgICAgICAgICAgIGRlbGV0ZU1lbWJyYW5lKGZsb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nLnJlc2V0KCk7XG4gICAgICAgICAgICBiaWplY3Rpb24ucmVzZXQoKTtcblxuICAgICAgICAgICAgZmxvdy5nZXRGbG93U3RhdGUoKSA9PT0gJ0ZhaWxlZCcgfHxcbiAgICAgICAgICAgICAgRmFpbGBQYW5pY2tlZCBmbG93IG11c3QgYmUgRmFpbGVkICR7Zmxvd31gO1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBlcnIgPSBtYWtlRXJyb3IoXG4gICAgICAgICAgICAgIFhgSW4gYSBGYWlsZWQgc3RhdGU6IHNlZSBnZXRGYWlsdXJlcygpIG9yIGdldE9wdEZhdGFsUHJvYmxlbSgpIGZvciBtb3JlIGluZm9ybWF0aW9uYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhbm5vdGF0ZUVycm9yKGVyciwgWGBkdWUgdG8gJHtmYXRhbFByb2JsZW19YCk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgd2FrZVdhdGNoZXI6IHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZChfZnVsZmlsbG1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgZmFjZXRzLmZsb3cud2FrZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25SZWplY3RlZChfZnVsZmlsbG1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgZmFjZXRzLmZsb3cud2FrZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICk7XG4gICAgY29uc3QgbWFrZUFzeW5jRmxvd0tpdCA9IGFjdGl2YXRpb25BcmdzID0+IHtcbiAgICAgIGNvbnN0IGFzeW5jRmxvd0tpdCA9IGludGVybmFsTWFrZUFzeW5jRmxvd0tpdChhY3RpdmF0aW9uQXJncyk7XG4gICAgICBjb25zdCB7IGZsb3cgfSA9IGFzeW5jRmxvd0tpdDtcblxuICAgICAgY29uc3Qgdm93ID0gZmxvdy5nZXRPdXRjb21lKCk7XG4gICAgICBmbG93Rm9yT3V0Y29tZVZvd0tleS5pbml0KHRvUGFzc2FibGVDYXAodm93KSwgZmxvdyk7XG4gICAgICBmbG93LnJlc3RhcnQoKTtcbiAgICAgIHJldHVybiBhc3luY0Zsb3dLaXQ7XG4gICAgfTtcbiAgICByZXR1cm4gaGFyZGVuKG1ha2VBc3luY0Zsb3dLaXQpO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhc3luY0Zsb3cgPSAoem9uZSwgdGFnLCBndWVzdEZ1bmMsIG9wdGlvbnMgPSB1bmRlZmluZWQpID0+IHtcbiAgICBjb25zdCBtYWtlQXN5bmNGbG93S2l0ID0gcHJlcGFyZUFzeW5jRmxvd0tpdCh6b25lLCB0YWcsIGd1ZXN0RnVuYywgb3B0aW9ucyk7XG4gICAgY29uc3QgaG9zdEZ1bmNOYW1lID0gYCR7dGFnfV9ob3N0Rmxvd2A7XG5cbiAgICBjb25zdCB3cmFwcGVyRnVuYyA9IC8qICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICB7XG4gICAgICAgIFtob3N0RnVuY05hbWVdKC4uLmFyZ3MpIHtcbiAgICAgICAgICBjb25zdCB7IGZsb3cgfSA9IG1ha2VBc3luY0Zsb3dLaXQoYXJncyk7XG4gICAgICAgICAgcmV0dXJuIGZsb3cuZ2V0T3V0Y29tZSgpO1xuICAgICAgICB9LFxuICAgICAgfVtob3N0RnVuY05hbWVdXG4gICAgKTtcbiAgICBkZWZpbmVQcm9wZXJ0aWVzKHdyYXBwZXJGdW5jLCB7XG4gICAgICBsZW5ndGg6IHsgdmFsdWU6IGd1ZXN0RnVuYy5sZW5ndGggfSxcbiAgICB9KTtcbiAgICByZXR1cm4gaGFyZGVuKHdyYXBwZXJGdW5jKTtcbiAgfTtcblxuICBjb25zdCBhZG1pbkFzeW5jRmxvdyA9IG91dGVyWm9uZS5leG8oJ0FkbWluQXN5bmNGbG93JywgQWRtaW5Bc3luY0Zsb3dJLCB7XG4gICAgZ2V0RmFpbHVyZXMoKSB7XG4gICAgICByZXR1cm4gZmFpbHVyZXMuc25hcHNob3QoKTtcbiAgICB9LFxuICAgIHdha2VBbGwoKSB7XG4gICAgICAvL1xuICAgICAgY29uc3QgZmFpbHVyZXNUb1Jlc3RhcnQgPSBbLi4uZmFpbHVyZXMua2V5cygpXTtcbiAgICAgIGNvbnN0IGZsb3dzVG9XYWtlID0gWy4uLmVhZ2VyV2FrZXJzLmtleXMoKV07XG4gICAgICBmb3IgKGNvbnN0IGZsb3cgb2YgZmFpbHVyZXNUb1Jlc3RhcnQpIHtcbiAgICAgICAgZmxvdy5yZXN0YXJ0KCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGZsb3cgb2YgZmxvd3NUb1dha2UpIHtcbiAgICAgICAgZmxvdy53YWtlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRGbG93Rm9yT3V0Y29tZVZvdyhvdXRjb21lVm93KSB7XG4gICAgICByZXR1cm4gZmxvd0Zvck91dGNvbWVWb3dLZXkuZ2V0KHRvUGFzc2FibGVDYXAob3V0Y29tZVZvdykpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIGNvbnN0IGFsbFdva2VuUCA9IEUud2hlbihudWxsLCAoKSA9PiBhZG1pbkFzeW5jRmxvdy53YWtlQWxsKCkpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHByZXBhcmVBc3luY0Zsb3dLaXQsXG4gICAgYXN5bmNGbG93LFxuICAgIGFkbWluQXN5bmNGbG93LFxuICAgIGFsbFdva2VuUCxcbiAgICBwcmVwYXJlRW5kb3dtZW50LFxuICB9KTtcbn07JGjNj19vbmNlLnByZXBhcmVBc3luY0Zsb3dUb29scyhwcmVwYXJlQXN5bmNGbG93VG9vbHMpO1xuaGFyZGVuKHByZXBhcmVBc3luY0Zsb3dUb29scyk7XG5cbi8qXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuICovXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG4gKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVBc3luY0Zsb3dUb29scyI6WyJwcmVwYXJlQXN5bmNGbG93VG9vbHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAWcrvGIESAACBEgAAKgAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2JpamVjdGlvbi5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXR0ZXJucyIsIkBlbmRvL3Bhc3Mtc3R5bGUiLCJAYWdvcmljL3ZvdyIsIi4vZXBoZW1lcmEuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlQmlqZWN0aW9uIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYixGYWlsLE0sRmFyLGlzUGFzc2FibGUsdG9QYXNzYWJsZUNhcCxtYWtlRXBoZW1lcmE7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcImJcIixbJGjNj19hID0+IChiID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImlzUGFzc2FibGVcIixbJGjNj19hID0+IChpc1Bhc3NhYmxlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcInRvUGFzc2FibGVDYXBcIixbJGjNj19hID0+ICh0b1Bhc3NhYmxlQ2FwID0gJGjNj19hKV1dXV0sW1wiLi9lcGhlbWVyYS5qc1wiLCBbW1wibWFrZUVwaGVtZXJhXCIsWyRozY9fYSA9PiAobWFrZUVwaGVtZXJhID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG4vKlxuXG5cblxuXG4gKi9cblxuY29uc3QgQmlqZWN0aW9uSSA9IE0uaW50ZXJmYWNlKCdCaWplY3Rpb24nLCB7XG4gIHJlc2V0OiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gIHVud3JhcEluaXQ6IE0uY2FsbChNLnJhdygpLCBNLmFueSgpKS5yZXR1cm5zKE0ucmF3KCkpLFxuICBoYXNHdWVzdDogTS5jYWxsKE0ucmF3KCkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICBoYXNIb3N0OiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLmJvb2xlYW4oKSksXG4gIGhhczogTS5jYWxsKE0ucmF3KCksIE0uYW55KCkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICBndWVzdFRvSG9zdDogTS5jYWxsKE0ucmF3KCkpLnJldHVybnMoTS5hbnkoKSksXG4gIGhvc3RUb0d1ZXN0OiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLnJhdygpKSxcbn0pO1xuXG4vKlxuXG4gKi9cbmNvbnN0IHRvS2V5ID0gayA9PlxuICAvL1xuICBpc1Bhc3NhYmxlKGspID8gdG9QYXNzYWJsZUNhcChrKSA6IGs7XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBtYWtlVm93aXNoU3RvcmUgPSBuYW1lID0+IHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuXG4gIHJldHVybiBGYXIobmFtZSwge1xuICAgIGluaXQ6IChrLCB2KSA9PiB7XG4gICAgICBjb25zdCBrMiA9IHRvS2V5KGspO1xuICAgICAgIW1hcC5oYXMoazIpIHx8XG4gICAgICAgIC8vXG4gICAgICAgIEZhaWxgJHtiKG5hbWUpfSBrZXkgYWxyZWFkeSBib3VuZDogJHtrfSAtPiAke21hcC5nZXQoazIpfSB2cyAke3Z9YDtcbiAgICAgIG1hcC5zZXQoazIsIHYpO1xuICAgIH0sXG4gICAgaGFzOiBrID0+IG1hcC5oYXModG9LZXkoaykpLFxuICAgIGdldDogayA9PiB7XG4gICAgICBjb25zdCBrMiA9IHRvS2V5KGspO1xuICAgICAgbWFwLmhhcyhrMikgfHxcbiAgICAgICAgLy9cbiAgICAgICAgRmFpbGAke2IobmFtZSl9IGtleSBub3QgZm91bmQ6ICR7a31gO1xuICAgICAgcmV0dXJuIG1hcC5nZXQoazIpO1xuICAgIH0sXG4gIH0pO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVCaWplY3Rpb24gPSAoXG4gIHpvbmUsXG4gIHVud3JhcCA9IChfaG9zdFdyYXBwZXIsIGd1ZXN0V3JhcHBlcikgPT4gZ3Vlc3RXcmFwcGVyLFxuKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGcyaCA9IG1ha2VFcGhlbWVyYSgoKSA9PiBtYWtlVm93aXNoU3RvcmUoJ2d1ZXN0VG9Ib3N0JykpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBoMmcgPSBtYWtlRXBoZW1lcmEoKCkgPT4gbWFrZVZvd2lzaFN0b3JlKCdob3N0VG9HdWVzdCcpKTtcblxuICAvL1xuICAvL1xuICAvL1xuICByZXR1cm4gem9uZS5leG9DbGFzcygnQmlqZWN0aW9uJywgQmlqZWN0aW9uSSwgKCkgPT4gKHt9KSwge1xuICAgIHJlc2V0KCkge1xuICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuXG4gICAgICBnMmgucmVzZXRGb3Ioc2VsZik7XG4gICAgICBoMmcucmVzZXRGb3Ioc2VsZik7XG4gICAgfSxcbiAgICB1bndyYXBJbml0KGcsIGgpIHtcbiAgICAgIGhhcmRlbihnKTtcbiAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGd1ZXN0VG9Ib3N0ID0gZzJoLmZvcihzZWxmKTtcbiAgICAgIGNvbnN0IGhvc3RUb0d1ZXN0ID0gaDJnLmZvcihzZWxmKTtcblxuICAgICAgY29uc3QgZ1Vud3JhcHBlZCA9IHVud3JhcChoLCBnKTtcbiAgICAgICFob3N0VG9HdWVzdC5oYXMoaCkgfHxcbiAgICAgICAgRmFpbGBob3N0VG9HdWVzdCBrZXkgYWxyZWFkeSBib3VuZDogJHtofSAtPiAke2hvc3RUb0d1ZXN0LmdldChoKX0gdnMgJHtnVW53cmFwcGVkfWA7XG4gICAgICBndWVzdFRvSG9zdC5pbml0KGdVbndyYXBwZWQsIGgpO1xuICAgICAgaG9zdFRvR3Vlc3QuaW5pdChoLCBnVW53cmFwcGVkKTtcbiAgICAgIHNlbGYuaGFzKGdVbndyYXBwZWQsIGgpIHx8XG4gICAgICAgIC8vXG4gICAgICAgIEZhaWxgaW50ZXJuYWw6ICR7Z30gPC0+ICR7aH1gO1xuICAgICAgaWYgKGcgIT09IGdVbndyYXBwZWQpIHtcbiAgICAgICAgLy9cbiAgICAgICAgIWd1ZXN0VG9Ib3N0LmhhcyhnKSB8fFxuICAgICAgICAgIC8vXG4gICAgICAgICAgRmFpbGBoaWRkZW4gZ3Vlc3Qgd3JhcHBlciBhbHJlYWR5IGJvdW5kICR7Z31gO1xuICAgICAgICBndWVzdFRvSG9zdC5pbml0KGcsIGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdVbndyYXBwZWQ7XG4gICAgfSxcbiAgICBoYXNHdWVzdChnKSB7XG4gICAgICBoYXJkZW4oZyk7XG4gICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICBjb25zdCBndWVzdFRvSG9zdCA9IGcyaC5mb3Ioc2VsZik7XG5cbiAgICAgIHJldHVybiBndWVzdFRvSG9zdC5oYXMoZyk7XG4gICAgfSxcbiAgICBoYXNIb3N0KGgpIHtcbiAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGhvc3RUb0d1ZXN0ID0gaDJnLmZvcihzZWxmKTtcblxuICAgICAgcmV0dXJuIGhvc3RUb0d1ZXN0LmhhcyhoKTtcbiAgICB9LFxuICAgIGhhcyhnLCBoKSB7XG4gICAgICBoYXJkZW4oZyk7XG4gICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICBjb25zdCBndWVzdFRvSG9zdCA9IGcyaC5mb3Ioc2VsZik7XG4gICAgICBjb25zdCBob3N0VG9HdWVzdCA9IGgyZy5mb3Ioc2VsZik7XG5cbiAgICAgIGlmIChndWVzdFRvSG9zdC5oYXMoZykpIHtcbiAgICAgICAgdG9QYXNzYWJsZUNhcChndWVzdFRvSG9zdC5nZXQoZykpID09PSB0b1Bhc3NhYmxlQ2FwKGgpIHx8XG4gICAgICAgICAgRmFpbGBpbnRlcm5hbDogZy0+aCAke2d9IC0+ICR7aH0gdnMgJHtndWVzdFRvSG9zdC5nZXQoZyl9YDtcbiAgICAgICAgaG9zdFRvR3Vlc3QuZ2V0KGgpID09PSBnIHx8XG4gICAgICAgICAgRmFpbGBpbnRlcm5hbCBoLT5nOiAke2h9IC0+ICR7Z30gdnMgJHtob3N0VG9HdWVzdC5nZXQoaCl9YDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAhaG9zdFRvR3Vlc3QuaGFzKGgpIHx8XG4gICAgICAgICAgRmFpbGBpbnRlcm5hbDogdW5leHBlY3RlZCBoLT5nICR7aH0gLT4gJHtob3N0VG9HdWVzdC5nZXQoaCl9YDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ3Vlc3RUb0hvc3QoZykge1xuICAgICAgaGFyZGVuKGcpO1xuICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgY29uc3QgZ3Vlc3RUb0hvc3QgPSBnMmguZm9yKHNlbGYpO1xuXG4gICAgICByZXR1cm4gZ3Vlc3RUb0hvc3QuZ2V0KGcpO1xuICAgIH0sXG4gICAgaG9zdFRvR3Vlc3QoaCkge1xuICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgY29uc3QgaG9zdFRvR3Vlc3QgPSBoMmcuZm9yKHNlbGYpO1xuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gaG9zdFRvR3Vlc3QuZ2V0KGgpO1xuICAgIH0sXG4gIH0pO1xufTskaM2PX29uY2UucHJlcGFyZUJpamVjdGlvbihwcmVwYXJlQmlqZWN0aW9uKTtcbmhhcmRlbihwcmVwYXJlQmlqZWN0aW9uKTtcblxuLypcblxuICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlQmlqZWN0aW9uIjpbInByZXBhcmVCaWplY3Rpb24iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASINbU30RAAB9EQAAKAAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2NvbnZlcnQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vY29tbW9uL3Rocm93LWxhYmVsZWQuanMiLCJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qcyIsIkBlbmRvL3Bhc3Mtc3R5bGUiLCJAYWdvcmljL3Zvdy9zcmMvdm93LXV0aWxzLmpzIl0sImV4cG9ydHMiOlsibWFrZUNvbnZlcnRLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLFgsYW5ub3RhdGVFcnJvcixtYWtlRXJyb3IscSx0aHJvd0xhYmVsZWQsb2JqZWN0TWFwLGdldEVycm9yQ29uc3RydWN0b3IsZ2V0VGFnLGlzT2JqZWN0LG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsaXNWb3c7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dLFtcIm1ha2VFcnJvclwiLFskaM2PX2EgPT4gKG1ha2VFcnJvciA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi90aHJvdy1sYWJlbGVkLmpzXCIsIFtbXCJ0aHJvd0xhYmVsZWRcIixbJGjNj19hID0+ICh0aHJvd0xhYmVsZWQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qc1wiLCBbW1wib2JqZWN0TWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWFwID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiZ2V0RXJyb3JDb25zdHJ1Y3RvclwiLFskaM2PX2EgPT4gKGdldEVycm9yQ29uc3RydWN0b3IgPSAkaM2PX2EpXV0sW1wiZ2V0VGFnXCIsWyRozY9fYSA9PiAoZ2V0VGFnID0gJGjNj19hKV1dLFtcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV0sW1wibWFrZVRhZ2dlZFwiLFskaM2PX2EgPT4gKG1ha2VUYWdnZWQgPSAkaM2PX2EpXV0sW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanNcIiwgW1tcImlzVm93XCIsWyRozY9fYSA9PiAoaXNWb3cgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG5jb25zdCBtYWtlQ29udmVydCA9IChjb252ZXJ0UmVtb3RhYmxlLCBjb252ZXJ0UHJvbWlzZU9yVm93LCBjb252ZXJ0RXJyb3IpID0+IHtcbiAgY29uc3QgY29udmVydFJlY3VyID0gKHNwZWNpbWVuLCBsYWJlbCkgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAobGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGlubmVyQ29udmVydChzcGVjaW1lbik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gaW5uZXJDb252ZXJ0KHNwZWNpbWVuKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93TGFiZWxlZChlcnIsIGxhYmVsKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW5uZXJDb252ZXJ0ID0gc3BlY2ltZW4gPT4ge1xuICAgIGlmICghaXNPYmplY3Qoc3BlY2ltZW4pKSB7XG4gICAgICByZXR1cm4gc3BlY2ltZW47XG4gICAgfVxuICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHNwZWNpbWVuKTtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICByZXR1cm4gc3BlY2ltZW4ubWFwKChlbGVtZW50LCBpKSA9PiBjb252ZXJ0UmVjdXIoZWxlbWVudCwgaSkpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgcmV0dXJuIG9iamVjdE1hcChzcGVjaW1lbiwgKHZhbHVlLCBuYW1lKSA9PiBjb252ZXJ0UmVjdXIodmFsdWUsIG5hbWUpKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgaWYgKGlzVm93KHNwZWNpbWVuKSkge1xuICAgICAgICAgIHJldHVybiBjb252ZXJ0UHJvbWlzZU9yVm93KHNwZWNpbWVuKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWcgPSBnZXRUYWcoc3BlY2ltZW4pO1xuICAgICAgICBjb25zdCB7IHBheWxvYWQgfSA9IHNwZWNpbWVuO1xuICAgICAgICByZXR1cm4gbWFrZVRhZ2dlZCh0YWcsIGNvbnZlcnRSZWN1cihwYXlsb2FkLCBgJHt0YWd9IHBheWxvYWRgKSk7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRFcnJvcihzcGVjaW1lbik7XG4gICAgICB9XG4gICAgICBjYXNlICdyZW1vdGFibGUnOiB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0UmVtb3RhYmxlKHNwZWNpbWVuKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0UHJvbWlzZU9yVm93KHNwZWNpbWVuKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGB1bmV4cGVjdGVkIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX1gO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IGNvbnZlcnQgPSAoc3BlY2ltZW4sIGxhYmVsID0gdW5kZWZpbmVkKSA9PlxuICAgIGNvbnZlcnRSZWN1cihoYXJkZW4oc3BlY2ltZW4pLCBsYWJlbCk7XG4gIHJldHVybiBoYXJkZW4oY29udmVydCk7XG59O1xuXG4gICAgICAgY29uc3QgbWFrZUNvbnZlcnRLaXQgPSAoXG4gIGJpamVjdGlvbixcbiAgbWFrZUd1ZXN0Rm9ySG9zdFJlbW90YWJsZSxcbiAgbWFrZUd1ZXN0Rm9ySG9zdFZvdyxcbikgPT4ge1xuICBjb25zdCBndWVzdFRvSG9zdCA9IG1ha2VDb252ZXJ0KFxuICAgIGdSZW0gPT4ge1xuICAgICAgaWYgKGJpamVjdGlvbi5oYXNHdWVzdChnUmVtKSkge1xuICAgICAgICByZXR1cm4gYmlqZWN0aW9uLmd1ZXN0VG9Ib3N0KGdSZW0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgRmFpbGBjYW5ub3QgeWV0IHNlbmQgZ3Vlc3QgcmVtb3RhYmxlcyAke2dSZW19YDtcbiAgICB9LFxuICAgIGdQcm9tID0+IHtcbiAgICAgIGlmIChiaWplY3Rpb24uaGFzR3Vlc3QoZ1Byb20pKSB7XG4gICAgICAgIHJldHVybiBiaWplY3Rpb24uZ3Vlc3RUb0hvc3QoZ1Byb20pO1xuICAgICAgfVxuICAgICAgdGhyb3cgRmFpbGBjYW5ub3QgeWV0IHNlbmQgZ3Vlc3QgcHJvbWlzZXMgJHtnUHJvbX1gO1xuICAgIH0sXG4gICAgZ0VyciA9PiB7XG4gICAgICBjb25zdCBoRXJyID0gaGFyZGVuKFxuICAgICAgICBtYWtlRXJyb3IoZ0Vyci5tZXNzYWdlLCBnZXRFcnJvckNvbnN0cnVjdG9yKGdFcnIubmFtZSkpLFxuICAgICAgKTtcbiAgICAgIGFubm90YXRlRXJyb3IoaEVyciwgWGBmcm9tIGd1ZXN0IGVycm9yICR7Z0Vycn1gKTtcbiAgICAgIHJldHVybiBoRXJyO1xuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgaG9zdFRvR3Vlc3QgPSBtYWtlQ29udmVydChcbiAgICBoUmVtID0+IHtcbiAgICAgIGlmIChiaWplY3Rpb24uaGFzSG9zdChoUmVtKSkge1xuICAgICAgICByZXR1cm4gYmlqZWN0aW9uLmhvc3RUb0d1ZXN0KGhSZW0pO1xuICAgICAgfVxuICAgICAgY29uc3QgZ1JlbSA9IG1ha2VHdWVzdEZvckhvc3RSZW1vdGFibGUoaFJlbSk7XG4gICAgICByZXR1cm4gYmlqZWN0aW9uLnVud3JhcEluaXQoZ1JlbSwgaFJlbSk7XG4gICAgfSxcbiAgICBoVm93ID0+IHtcbiAgICAgIGlmIChiaWplY3Rpb24uaGFzSG9zdChoVm93KSkge1xuICAgICAgICByZXR1cm4gYmlqZWN0aW9uLmhvc3RUb0d1ZXN0KGhWb3cpO1xuICAgICAgfVxuICAgICAgY29uc3QgZ1AgPSBtYWtlR3Vlc3RGb3JIb3N0Vm93KGhWb3cpO1xuICAgICAgcmV0dXJuIGJpamVjdGlvbi51bndyYXBJbml0KGdQLCBoVm93KTtcbiAgICB9LFxuICAgIGhFcnIgPT4ge1xuICAgICAgY29uc3QgZ0VyciA9IGhhcmRlbihcbiAgICAgICAgbWFrZUVycm9yKGhFcnIubWVzc2FnZSwgZ2V0RXJyb3JDb25zdHJ1Y3RvcihoRXJyLm5hbWUpKSxcbiAgICAgICk7XG4gICAgICBhbm5vdGF0ZUVycm9yKGdFcnIsIFhgZnJvbSBob3N0IGVycm9yICR7aEVycn1gKTtcbiAgICAgIHJldHVybiBnRXJyO1xuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIGhhcmRlbih7IGd1ZXN0VG9Ib3N0LCBob3N0VG9HdWVzdCB9KTtcbn07JGjNj19vbmNlLm1ha2VDb252ZXJ0S2l0KG1ha2VDb252ZXJ0S2l0KTtcbmhhcmRlbihtYWtlQ29udmVydEtpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlQ29udmVydEtpdCI6WyJtYWtlQ29udmVydEtpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABdAqX11R8AANUfAAArAAAAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvZW5kb3dtZW50cy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9ldmVudHVhbC1zZW5kIiwiQGVuZG8vcHJvbWlzZS1raXQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vcGF0dGVybnMiLCJAYWdvcmljL3ZvdyIsIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanMiLCJAYWdvcmljL2ludGVybmFsL3NyYy91cGdyYWRlLWFwaS5qcyIsIi4vdHlwZS1ndWFyZHMuanMiXSwiZXhwb3J0cyI6WyJmb3J3YXJkaW5nTWV0aG9kcyIsInByZXBhcmVFbmRvd21lbnRUb29scyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsRSxpc1Byb21pc2UsaXNSZW1vdGFibGUsaXNQYXNzYWJsZSxHRVRfTUVUSE9EX05BTUVTLEZhcixNLG9iamVjdE1hcCxwcmVwYXJlVm93VG9vbHMsdG9QYXNzYWJsZUNhcCxpc1Zvdyxpc1VwZ3JhZGVEaXNjb25uZWN0aW9uLFByb3BlcnR5S2V5U2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wiaXNQcm9taXNlXCIsWyRozY9fYSA9PiAoaXNQcm9taXNlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiaXNSZW1vdGFibGVcIixbJGjNj19hID0+IChpc1JlbW90YWJsZSA9ICRozY9fYSldXSxbXCJpc1Bhc3NhYmxlXCIsWyRozY9fYSA9PiAoaXNQYXNzYWJsZSA9ICRozY9fYSldXSxbXCJHRVRfTUVUSE9EX05BTUVTXCIsWyRozY9fYSA9PiAoR0VUX01FVEhPRF9OQU1FUyA9ICRozY9fYSldXSxbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wib2JqZWN0TWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWFwID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcInByZXBhcmVWb3dUb29sc1wiLFskaM2PX2EgPT4gKHByZXBhcmVWb3dUb29scyA9ICRozY9fYSldXSxbXCJ0b1Bhc3NhYmxlQ2FwXCIsWyRozY9fYSA9PiAodG9QYXNzYWJsZUNhcCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanNcIiwgW1tcImlzVm93XCIsWyRozY9fYSA9PiAoaXNWb3cgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsL3NyYy91cGdyYWRlLWFwaS5qc1wiLCBbW1wiaXNVcGdyYWRlRGlzY29ubmVjdGlvblwiLFskaM2PX2EgPT4gKGlzVXBncmFkZURpc2Nvbm5lY3Rpb24gPSAkaM2PX2EpXV1dXSxbXCIuL3R5cGUtZ3VhcmRzLmpzXCIsIFtbXCJQcm9wZXJ0eUtleVNoYXBlXCIsWyRozY9fYSA9PiAoUHJvcGVydHlLZXlTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cbiAqL1xuXG5jb25zdCB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxcbiAgY3JlYXRlLFxuICBmcm9tRW50cmllcyxcbiAgZW50cmllcyxcbiAgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUsXG59ID0gT2JqZWN0O1xuY29uc3QgeyBvd25LZXlzIH0gPSBSZWZsZWN0O1xuXG5jb25zdCBGdW5jdGlvbldyYXBwZXJJID0gTS5pbnRlcmZhY2UoJ0Z1bmN0aW9uV3JhcHBlcicsIHtcbiAgYXBwbHk6IE0uY2FsbChNLmFycmF5KCkpLnJldHVybnMoTS5hbnkoKSksXG59KTtcblxuY29uc3QgU3RhdGVBY2Nlc3NvckkgPSBNLmludGVyZmFjZSgnU3RhdGVBY2Nlc3NvcicsIHtcbiAgZ2V0OiBNLmNhbGwoUHJvcGVydHlLZXlTaGFwZSkucmV0dXJucyhNLmFueSgpKSxcbiAgc2V0OiBNLmNhbGwoUHJvcGVydHlLZXlTaGFwZSwgTS5hbnkoKSkucmV0dXJucygpLFxufSk7XG5cbmNvbnN0IFVud3JhcHBlckkgPSBNLmludGVyZmFjZSgnVW53cmFwcGVyJywge1xuICB1bndyYXA6IE0uY2FsbChNLnJlbW90YWJsZSgnZ3Vlc3RXcmFwcGVkJykpLnJldHVybnMoTS5yYXcoKSksXG59KTtcblxuICAgICAgIGNvbnN0IGZvcndhcmRpbmdNZXRob2RzID0gcmVtID0+IHtcbiAgY29uc3Qga2V5cyA9IHJlbVtHRVRfTUVUSE9EX05BTUVTXSgpO1xuICBjb25zdCBtYWtlTWV0aG9kRW50cnkgPSBrZXkgPT5cbiAgICBlbnRyaWVzKHtcbiAgICAgIFtrZXldKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHJlbVtrZXldKC4uLmFyZ3MpO1xuICAgICAgfSxcbiAgICB9KVswXTtcbiAgcmV0dXJuIGZyb21FbnRyaWVzKGtleXMubWFwKG1ha2VNZXRob2RFbnRyeSkpO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuZm9yd2FyZGluZ01ldGhvZHMoZm9yd2FyZGluZ01ldGhvZHMpO1xuICAgICAgIGNvbnN0IHByZXBhcmVFbmRvd21lbnRUb29scyA9IChvdXRlclpvbmUsIG91dGVyT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgdm93VG9vbHMgPSBwcmVwYXJlVm93VG9vbHMob3V0ZXJab25lKSB9ID0gb3V0ZXJPcHRpb25zO1xuICBjb25zdCB7IG1ha2VWb3dLaXQgfSA9IHZvd1Rvb2xzO1xuXG4gIGNvbnN0IGZ1bmN0aW9uVW53cmFwcGVyID0gb3V0ZXJab25lLmV4bygnRnVuY3Rpb25VbndyYXBwZXInLCBVbndyYXBwZXJJLCB7XG4gICAgdW53cmFwKGd1ZXN0V3JhcHBlZCkge1xuICAgICAgcmV0dXJuIEZhcignVW53cmFwcGVkRnVuY3Rpb24nLCAoLi4uYXJncykgPT4gZ3Vlc3RXcmFwcGVkLmFwcGx5KGFyZ3MpKTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBtYWtlU3RhdGVVbndyYXBwZXIgPSBvdXRlclpvbmUuZXhvQ2xhc3MoXG4gICAgJ1N0YXRlVW53cmFwcGVyJyxcbiAgICBVbndyYXBwZXJJLFxuICAgIGtleXMgPT4gKHsga2V5cyB9KSxcbiAgICB7XG4gICAgICB1bndyYXAoZ3Vlc3RXcmFwcGVkKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsga2V5cyB9ID0gc3RhdGU7XG4gICAgICAgIHJldHVybiBoYXJkZW4oXG4gICAgICAgICAgY3JlYXRlKFxuICAgICAgICAgICAgb2JqZWN0UHJvdG90eXBlLFxuICAgICAgICAgICAgZnJvbUVudHJpZXMoXG4gICAgICAgICAgICAgIGtleXMuZmxhdE1hcChrZXkgPT5cbiAgICAgICAgICAgICAgICBlbnRyaWVzKFxuICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh7XG4gICAgICAgICAgICAgICAgICAgIGdldCBba2V5XSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3Vlc3RXcmFwcGVkLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQgW2tleV0obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBndWVzdFdyYXBwZWQuc2V0KGtleSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICAvKlxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGVuZG93bWVudEtpbmRPZiA9IGUgPT4ge1xuICAgIGhhcmRlbihlKTtcbiAgICBpZiAoaXNQcm9taXNlKGUpKSB7XG4gICAgICByZXR1cm4gJ3Byb21pc2UnO1xuICAgIH0gZWxzZSBpZiAob3V0ZXJab25lLmlzU3RvcmFibGUoZSkpIHtcbiAgICAgIHJldHVybiAnc3RvcmFibGUnO1xuICAgIH0gZWxzZSBpZiAoaXNQYXNzYWJsZShlKSAmJiBpc1JlbW90YWJsZShlKSkge1xuICAgICAgcmV0dXJuICdmYXInO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAnZnVuY3Rpb24nO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBGYWlsYGludGVybmFsOiBudWxsIGlzIGFsd2F5cyBzdG9yYWJsZWA7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleXMgPSBvd25LZXlzKGUpO1xuICAgICAga2V5cy5sZW5ndGggPj0gMSB8fCBGYWlsYGVtcHR5IHJlY29yZCBzaG91bGQgYmUgc3RvcmFibGUgJHtlfWA7XG4gICAgICBjb25zdCBkZXNjID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGtleXNbMF0pXG4gICAgICApO1xuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykge1xuICAgICAgICByZXR1cm4gJ3JlY29yZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAnZ2V0JyBpbiBkZXNjIHx8IEZhaWxgaW50ZXJuYWw6IHVuZXhwZWN0ZWQgZGVzY3JpcHRvciAke2Rlc2N9YDtcbiAgICAgICAgcmV0dXJuICdzdGF0ZSc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEZhaWxgdW5leHBlY3RlZCBlbmRvd21lbnQgJHtlfWA7XG4gICAgfVxuICB9O1xuICBoYXJkZW4oZW5kb3dtZW50S2luZE9mKTtcblxuICBjb25zdCB1bndyYXBNYXAgPSBvdXRlclpvbmUud2Vha01hcFN0b3JlKCd1bndyYXBNYXAnLCB7XG4gICAga2V5U2hhcGU6IE0ucmVtb3RhYmxlKCd3cmFwcGVkJyksXG4gICAgdmFsdWVTaGFwZTogTS5yZW1vdGFibGUoJ3Vud3JhcHBlcicpLFxuICB9KTtcblxuICBjb25zdCB1bndyYXBNYXBIYXMgPSBrID0+IHtcbiAgICBpZiAoaXNWb3coaykgfHwgaXNSZW1vdGFibGUoaykpIHtcbiAgICAgIHJldHVybiB1bndyYXBNYXAuaGFzKHRvUGFzc2FibGVDYXAoaykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bndyYXBNYXBHZXQgPSBrID0+IHVud3JhcE1hcC5nZXQodG9QYXNzYWJsZUNhcChrKSk7XG4gIGNvbnN0IHVud3JhcE1hcFNldCA9IChrLCB2KSA9PiB7XG4gICAgY29uc3QgazIgPSB0b1Bhc3NhYmxlQ2FwKGspO1xuICAgIGlmICh1bndyYXBNYXBIYXMoaykpIHtcbiAgICAgIHVud3JhcE1hcC5zZXQoazIsIHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bndyYXBNYXAuaW5pdChrMiwgdik7XG4gICAgfVxuICB9O1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlRW5kb3dtZW50ID0gKHpvbmUsIHRhZywgZSkgPT4ge1xuICAgIGNvbnN0IGVLaW5kID0gZW5kb3dtZW50S2luZE9mKGUpO1xuICAgIHN3aXRjaCAoZUtpbmQpIHtcbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIGNvbnN0IHAgPSAvKiAgICAgICAgICAgICAgICAgICovIChlKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgeyB2b3csIHJlc29sdmVyIH0gPSBtYWtlVm93S2l0KCk7XG4gICAgICAgIHZvaWQgRS53aGVuKFxuICAgICAgICAgIHAsXG4gICAgICAgICAgdiA9PiB7XG4gICAgICAgICAgICByZXNvbHZlci5yZXNvbHZlKHYpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVhc29uID0+IHtcbiAgICAgICAgICAgIGlmICghaXNVcGdyYWRlRGlzY29ubmVjdGlvbihyZWFzb24pKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVyLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB2b3c7XG4gICAgICB9XG4gICAgICBjYXNlICdzdG9yYWJsZSc6IHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgICBjYXNlICdmYXInOiB7XG4gICAgICAgIGNvbnN0IHIgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGUpO1xuICAgICAgICBjb25zdCBtZXRob2RzID0gZm9yd2FyZGluZ01ldGhvZHMocik7XG4gICAgICAgIHJldHVybiB6b25lLmV4byhcbiAgICAgICAgICB0YWcsXG4gICAgICAgICAgTS5pbnRlcmZhY2UoJ0ZhcldyYXBwZWQnLCB7fSwgeyBkZWZhdWx0R3VhcmRzOiAncmF3JyB9KSxcbiAgICAgICAgICBtZXRob2RzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnZnVuY3Rpb24nOiB7XG4gICAgICAgIGNvbnN0IGYgPSAvKiAgICAgICAgICAgICAgICAgICAqLyAoZSk7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSB6b25lLmV4byh0YWcsIEZ1bmN0aW9uV3JhcHBlckksIHtcbiAgICAgICAgICBhcHBseShhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gZiguLi5hcmdzKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdW53cmFwTWFwU2V0KHdyYXBwZWQsIGZ1bmN0aW9uVW53cmFwcGVyKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWQ7XG4gICAgICB9XG4gICAgICBjYXNlICdhcnJheSc6IHtcbiAgICAgICAgY29uc3QgYSA9IC8qICAgICAgICAgICAgICAgICAgICAqLyAoZSk7XG4gICAgICAgIGNvbnN0IHN1YlpvbmUgPSB6b25lLnN1YlpvbmUodGFnKTtcbiAgICAgICAgcmV0dXJuIGEubWFwKChzdWJFLCBpKSA9PiBwcmVwYXJlRW5kb3dtZW50KHN1YlpvbmUsIGAke2l9YCwgc3ViRSkpO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVjb3JkJzoge1xuICAgICAgICBjb25zdCByID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoZSk7XG4gICAgICAgIGNvbnN0IHN1YlpvbmUgPSB6b25lLnN1YlpvbmUodGFnKTtcbiAgICAgICAgcmV0dXJuIG9iamVjdE1hcChyLCAoc3ViRSwgaykgPT5cbiAgICAgICAgICBwcmVwYXJlRW5kb3dtZW50KHN1YlpvbmUsIFN0cmluZyhrKSwgc3ViRSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXNlICdzdGF0ZSc6IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChlKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IGhhcmRlbihvd25LZXlzKHN0YXRlKSk7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSB6b25lLmV4byh0YWcsIFN0YXRlQWNjZXNzb3JJLCB7XG4gICAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQoa2V5LCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgc3RhdGVba2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdGF0ZVVud3JhcHBlciA9IG1ha2VTdGF0ZVVud3JhcHBlcihrZXlzKTtcbiAgICAgICAgLy9cbiAgICAgICAgdW53cmFwTWFwU2V0KHdyYXBwZWQsIHN0YXRlVW53cmFwcGVyKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWQ7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IEZhaWxgdW5leHBlY3RlZCBlbmRvd21lbnQgJHtlfWA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVud3JhcCA9ICh3cmFwcGVkLCBndWVzdFdyYXBwZWQpID0+IHtcbiAgICBpZiAodW53cmFwTWFwSGFzKHdyYXBwZWQpKSB7XG4gICAgICBjb25zdCB1bndyYXBwZXIgPSB1bndyYXBNYXBHZXQod3JhcHBlZCk7XG4gICAgICByZXR1cm4gdW53cmFwcGVyLnVud3JhcChndWVzdFdyYXBwZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ3Vlc3RXcmFwcGVkO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHsgcHJlcGFyZUVuZG93bWVudCwgdW53cmFwIH0pO1xufTskaM2PX29uY2UucHJlcGFyZUVuZG93bWVudFRvb2xzKHByZXBhcmVFbmRvd21lbnRUb29scyk7XG5oYXJkZW4ocHJlcGFyZUVuZG93bWVudFRvb2xzKTtcblxuLypcblxuICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJmb3J3YXJkaW5nTWV0aG9kcyI6WyJmb3J3YXJkaW5nTWV0aG9kcyJdLCJwcmVwYXJlRW5kb3dtZW50VG9vbHMiOlsicHJlcGFyZUVuZG93bWVudFRvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGAJvsROAwAATgMAACkAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9lcGhlbWVyYS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWFrZUVwaGVtZXJhIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRXBoZW1lcmEgPSByZWluaXQgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWFwID0gbmV3IFdlYWtNYXAoKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBmb3Ioc2VsZikge1xuICAgICAgaWYgKCFtYXAuaGFzKHNlbGYpKSB7XG4gICAgICAgIG1hcC5zZXQoc2VsZiwgcmVpbml0KHNlbGYpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiAgICAgICAgICAgICovIChtYXAuZ2V0KHNlbGYpKTtcbiAgICB9LFxuICAgIHJlc2V0Rm9yKHNlbGYpIHtcbiAgICAgIHJldHVybiBtYXAuZGVsZXRlKHNlbGYpO1xuICAgIH0sXG4gIH0pO1xufTskaM2PX29uY2UubWFrZUVwaGVtZXJhKG1ha2VFcGhlbWVyYSk7XG5oYXJkZW4obWFrZUVwaGVtZXJhKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VFcGhlbWVyYSI6WyJtYWtlRXBoZW1lcmEiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAbaWg/sMOAADDDgAAJwAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2VxdWF0ZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9jb21tb24vdGhyb3ctbGFiZWxlZC5qcyIsIkBlbmRvL3Bhc3Mtc3R5bGUiLCJAZW5kby9tYXJzaGFsIiwiQGFnb3JpYy92b3cvc3JjL3Zvdy11dGlscy5qcyJdLCJleHBvcnRzIjpbIm1ha2VFcXVhdGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLFgsYW5ub3RhdGVFcnJvcixxLHRocm93TGFiZWxlZCxnZXRUYWcsaXNPYmplY3QscGFzc1N0eWxlT2YscmVjb3JkTmFtZXMsaXNWb3c7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL3Rocm93LWxhYmVsZWQuanNcIiwgW1tcInRocm93TGFiZWxlZFwiLFskaM2PX2EgPT4gKHRocm93TGFiZWxlZCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJpc09iamVjdFwiLFskaM2PX2EgPT4gKGlzT2JqZWN0ID0gJGjNj19hKV1dLFtcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJyZWNvcmROYW1lc1wiLFskaM2PX2EgPT4gKHJlY29yZE5hbWVzID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3cvc3JjL3Zvdy11dGlscy5qc1wiLCBbW1wiaXNWb3dcIixbJGjNj19hID0+IChpc1ZvdyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuY29uc3QgeyBpcyB9ID0gT2JqZWN0O1xuXG4gICAgICAgY29uc3QgbWFrZUVxdWF0ZSA9IGJpamVjdGlvbiA9PiB7XG4gIGNvbnN0IGVxdWF0ZSA9IChnLCBoLCBsYWJlbCkgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgaWYgKGxhYmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlubmVyRXF1YXRlKGcsIGgpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaW5uZXJFcXVhdGUoZywgaCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvd0xhYmVsZWQoZXJyLCBsYWJlbCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGlubmVyRXF1YXRlID0gKGcsIGgpID0+IHtcbiAgICBpZiAoIWlzT2JqZWN0KGcpKSB7XG4gICAgICBpcyhnLCBoKSB8fFxuICAgICAgICAvL1xuICAgICAgICBGYWlsYHVuZXF1YWwgJHtnfSB2cyAke2h9YDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJpamVjdGlvbi5oYXNHdWVzdChnKSAmJiBiaWplY3Rpb24uZ3Vlc3RUb0hvc3QoZykgPT09IGgpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGdQYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihnKTtcbiAgICBpZiAoZ1Bhc3NTdHlsZSA9PT0gJ3Byb21pc2UnICYmIGlzVm93KGgpKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgdGhyb3cgRmFpbGBndWVzdCBwcm9taXNlcyBub3QgeWV0IHBhc3NhYmxlYDtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgIH1cbiAgICBjb25zdCBoUGFzc1N0eWxlID0gcGFzc1N0eWxlT2YoaCk7XG4gICAgZ1Bhc3NTdHlsZSA9PT0gaFBhc3NTdHlsZSB8fFxuICAgICAgRmFpbGB1bmVxdWFsIHBhc3NTdHlsZXMgJHtxKGdQYXNzU3R5bGUpfSB2cyAke3EoaFBhc3NTdHlsZSl9YDtcbiAgICBzd2l0Y2ggKGdQYXNzU3R5bGUpIHtcbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgZXF1YXRlKGcubGVuZ3RoLCBoLmxlbmd0aCwgJ2xlbmd0aCcpO1xuICAgICAgICAvL1xuICAgICAgICBnLmZvckVhY2goKGdFbCwgaSkgPT4gZXF1YXRlKGdFbCwgaFtpXSwgaSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgICBjb25zdCBnTmFtZXMgPSByZWNvcmROYW1lcyhnKTtcbiAgICAgICAgY29uc3QgaE5hbWVzID0gcmVjb3JkTmFtZXMoaCk7XG4gICAgICAgIGVxdWF0ZShnTmFtZXMsIGhOYW1lcywgJ3Byb3BlcnR5TmFtZXMnKTtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIGdOYW1lcykge1xuICAgICAgICAgIGVxdWF0ZShnW25hbWVdLCBoW25hbWVdLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAgIGVxdWF0ZShnZXRUYWcoZyksIGdldFRhZyhoKSwgJ3RhZycpO1xuICAgICAgICBlcXVhdGUoZy5wYXlsb2FkLCBoLnBheWxvYWQsICdwYXlsb2FkJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICBlcXVhdGUoZy5uYW1lLCBoLm5hbWUsICdlcnJvciBuYW1lJyk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGFubm90YXRlRXJyb3IoZywgWGByZXBsYXkgb2YgZXJyb3IgJHtofWApO1xuICAgICAgICBhbm5vdGF0ZUVycm9yKGgsIFhgcmVwbGF5ZWQgYXMgZXJyb3IgJHtnfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlICdyZW1vdGFibGUnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHRocm93IEZhaWxgY2Fubm90IHlldCBzZW5kIGd1ZXN0IHJlbW90YWJsZXMgdG8gaG9zdCAke2d9IHZzICR7aH1gO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgdGhyb3cgRmFpbGBjYW5ub3QgeWV0IHNlbmQgZ3Vlc3QgcHJvbWlzZXMgdG8gaG9zdCAke2d9IHZzICR7aH1gO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShnUGFzc1N0eWxlKX1gO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhhcmRlbihlcXVhdGUpO1xufTskaM2PX29uY2UubWFrZUVxdWF0ZShtYWtlRXF1YXRlKTtcbmhhcmRlbihtYWtlRXF1YXRlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VFcXVhdGUiOlsibWFrZUVxdWF0ZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA5gixvrRsAAK0bAAAqAAAAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvbG9nLXN0b3JlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vcGF0dGVybnMiLCIuL3R5cGUtZ3VhcmRzLmpzIiwiLi9lcGhlbWVyYS5qcyJdLCJleHBvcnRzIjpbIm5leHRHZW5lcmF0aW9uIiwicHJlcGFyZUxvZ1N0b3JlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxxLG1ha2VQcm9taXNlS2l0LE0sTG9nRW50cnlTaGFwZSxtYWtlRXBoZW1lcmE7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcIm1ha2VQcm9taXNlS2l0XCIsWyRozY9fYSA9PiAobWFrZVByb21pc2VLaXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCIuL3R5cGUtZ3VhcmRzLmpzXCIsIFtbXCJMb2dFbnRyeVNoYXBlXCIsWyRozY9fYSA9PiAoTG9nRW50cnlTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4vZXBoZW1lcmEuanNcIiwgW1tcIm1ha2VFcGhlbWVyYVwiLFskaM2PX2EgPT4gKG1ha2VFcGhlbWVyYSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbmNvbnN0IExvZ1N0b3JlSSA9IE0uaW50ZXJmYWNlKCdMb2dTdG9yZScsIHtcbiAgcmVzZXQ6IE0uY2FsbCgpLnJldHVybnMoKSxcbiAgZGlzcG9zZTogTS5jYWxsKCkucmV0dXJucygpLFxuICBnZXRVbmZpbHRlcmVkSW5kZXg6IE0uY2FsbCgpLnJldHVybnMoTS5udW1iZXIoKSksXG4gIGdldEluZGV4OiBNLmNhbGwoKS5yZXR1cm5zKE0ubnVtYmVyKCkpLFxuICBnZXRMZW5ndGg6IE0uY2FsbCgpLnJldHVybnMoTS5udW1iZXIoKSksXG4gIGlzUmVwbGF5aW5nOiBNLmNhbGwoKS5yZXR1cm5zKE0uYm9vbGVhbigpKSxcbiAgcGVla0VudHJ5OiBNLmNhbGwoKS5yZXR1cm5zKExvZ0VudHJ5U2hhcGUpLFxuICBuZXh0RW50cnk6IE0uY2FsbCgpLnJldHVybnMoTG9nRW50cnlTaGFwZSksXG4gIG5leHRVbmZpbHRlcmVkRW50cnk6IE0uY2FsbCgpLnJldHVybnMoTG9nRW50cnlTaGFwZSksXG4gIHB1c2hFbnRyeTogTS5jYWxsKExvZ0VudHJ5U2hhcGUpLnJldHVybnMoTS5udW1iZXIoKSksXG4gIGR1bXBVbmZpbHRlcmVkOiBNLmNhbGwoKS5yZXR1cm5zKE0uYXJyYXlPZihMb2dFbnRyeVNoYXBlKSksXG4gIGR1bXA6IE0uY2FsbCgpLnJldHVybnMoTS5hcnJheU9mKExvZ0VudHJ5U2hhcGUpKSxcbiAgcHJvbWlzZVJlcGxheURvbmU6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxufSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG5leHRHZW5lcmF0aW9uID0gem9uZSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBsb2dTdG9yZU1ldGFkYXRhID0gem9uZS5tYXBTdG9yZSgnTG9nU3RvcmVNZXRhZGF0YScpO1xuICBjb25zdCBnZW5lcmF0aW9uS2V5ID0gJ2dlbmVyYXRpb24nO1xuXG4gIGlmICghbG9nU3RvcmVNZXRhZGF0YS5oYXMoZ2VuZXJhdGlvbktleSkpIHtcbiAgICBjb25zdCBmaXJzdEdlbiA9IDA7XG4gICAgbG9nU3RvcmVNZXRhZGF0YS5pbml0KGdlbmVyYXRpb25LZXksIGZpcnN0R2VuKTtcbiAgICByZXR1cm4gZmlyc3RHZW47XG4gIH1cblxuICBjb25zdCBuZXh0R2VuID0gbG9nU3RvcmVNZXRhZGF0YS5nZXQoZ2VuZXJhdGlvbktleSkgKyAxO1xuICBsb2dTdG9yZU1ldGFkYXRhLnNldChnZW5lcmF0aW9uS2V5LCBuZXh0R2VuKTtcbiAgcmV0dXJuIG5leHRHZW47XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLm5leHRHZW5lcmF0aW9uKG5leHRHZW5lcmF0aW9uKTtcbiAgICAgICBjb25zdCBwcmVwYXJlTG9nU3RvcmUgPSB6b25lID0+IHtcbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgaW5pdGlhbFB1c2ggPSBoYXJkZW4oW1snc3RhcnRHZW5lcmF0aW9uJywgbmV4dEdlbmVyYXRpb24oem9uZSldXSk7XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgZW50cnlJc1Zpc2libGUgPSBlbnRyeSA9PiBlbnRyeVswXSAhPT0gJ3N0YXJ0R2VuZXJhdGlvbic7XG5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHRtcCA9IG1ha2VFcGhlbWVyYShsb2cgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGluZGV4OiAwLFxuICAgICAgdW5maWx0ZXJlZEluZGV4OiAwLFxuICAgICAgaW5pdGlhbFB1c2gsXG4gICAgICByZXBsYXlEb25lS2l0OiBtYWtlUHJvbWlzZUtpdCgpLFxuICAgIH07XG4gICAgaWYgKGxvZy5nZXRMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgcmVzdWx0LnJlcGxheURvbmVLaXQucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICByZXR1cm4gem9uZS5leG9DbGFzcyhcbiAgICAnTG9nU3RvcmUnLFxuICAgIExvZ1N0b3JlSSxcbiAgICAoKSA9PiB7XG4gICAgICAvKlxuXG5cblxuXG5cbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFwU3RvcmUgPSB6b25lLmRldGFjaGVkKCkubWFwU3RvcmUoJ2xvZ01hcFN0b3JlJywge1xuICAgICAgICBrZXlTaGFwZTogTS5udW1iZXIoKSxcbiAgICAgICAgdmFsdWVTaGFwZTogTG9nRW50cnlTaGFwZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFwU3RvcmUsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgICAgdG1wLnJlc2V0Rm9yKHNlbGYpO1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICB9LFxuICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0ZSwgc2VsZiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBtYXBTdG9yZSB9ID0gc3RhdGU7XG5cbiAgICAgICAgdG1wLnJlc2V0Rm9yKHNlbGYpO1xuICAgICAgICBtYXBTdG9yZS5jbGVhcigpO1xuICAgICAgfSxcbiAgICAgIGdldFVuZmlsdGVyZWRJbmRleCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlcGggPSB0bXAuZm9yKHNlbGYpO1xuXG4gICAgICAgIHJldHVybiBlcGgudW5maWx0ZXJlZEluZGV4O1xuICAgICAgfSxcbiAgICAgIGdldEluZGV4KCkge1xuICAgICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGVwaCA9IHRtcC5mb3Ioc2VsZik7XG5cbiAgICAgICAgcmV0dXJuIGVwaC5pbmRleDtcbiAgICAgIH0sXG4gICAgICBnZXRMZW5ndGgoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWFwU3RvcmUgfSA9IHN0YXRlO1xuXG4gICAgICAgIHJldHVybiBtYXBTdG9yZS5nZXRTaXplKCk7XG4gICAgICB9LFxuICAgICAgaXNSZXBsYXlpbmcoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUsIHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWFwU3RvcmUgfSA9IHN0YXRlO1xuICAgICAgICBjb25zdCBlcGggPSB0bXAuZm9yKHNlbGYpO1xuXG4gICAgICAgIHJldHVybiBlcGgudW5maWx0ZXJlZEluZGV4IDwgbWFwU3RvcmUuZ2V0U2l6ZSgpO1xuICAgICAgfSxcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgcGVla0VudHJ5KCkge1xuICAgICAgICBjb25zdCB7IHN0YXRlLCBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1hcFN0b3JlIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgZXBoID0gdG1wLmZvcihzZWxmKTtcblxuICAgICAgICBzZWxmLmlzUmVwbGF5aW5nKCkgfHxcbiAgICAgICAgICBGYWlsYE5vIGxvbmdlciByZXBsYXlpbmc6ICR7cShlcGgudW5maWx0ZXJlZEluZGV4KX0gdnMgJHtxKFxuICAgICAgICAgICAgbWFwU3RvcmUuZ2V0U2l6ZSgpLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbWFwU3RvcmUuZ2V0KGVwaC51bmZpbHRlcmVkSW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgbmV4dFVuZmlsdGVyZWRFbnRyeSgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlcGggPSB0bXAuZm9yKHNlbGYpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHNlbGYucGVla0VudHJ5KCk7XG4gICAgICAgIGVwaC51bmZpbHRlcmVkSW5kZXggKz0gMTtcbiAgICAgICAgaWYgKGVudHJ5SXNWaXNpYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgICBlcGguaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYuaXNSZXBsYXlpbmcoKSkge1xuICAgICAgICAgIGVwaC5yZXBsYXlEb25lS2l0LnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgbmV4dEVudHJ5KCkge1xuICAgICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIGxldCByZXN1bHQgPSBzZWxmLm5leHRVbmZpbHRlcmVkRW50cnkoKTtcbiAgICAgICAgd2hpbGUgKCFlbnRyeUlzVmlzaWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgc2VsZi5pc1JlcGxheWluZygpIHx8IEZhaWxgVW5leHBlY3RlZCBlbnRyeSBhdCBsb2cgdGFpbDogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXN1bHQgPSBzZWxmLm5leHRVbmZpbHRlcmVkRW50cnkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgcHVzaEVudHJ5KGxhdGVzdEVudHJ5KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUsIHNlbGYgfSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgeyBtYXBTdG9yZSB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IGVwaCA9IHRtcC5mb3Ioc2VsZik7XG5cbiAgICAgICAgIXNlbGYuaXNSZXBsYXlpbmcoKSB8fFxuICAgICAgICAgIEZhaWxgc3RpbGwgcmVwbGF5aW5nOiAke3EoZXBoLnVuZmlsdGVyZWRJbmRleCl9IHZzICR7cShtYXBTdG9yZS5nZXRTaXplKCkpfWA7XG5cbiAgICAgICAgY29uc3QgcHVzaE9uZSA9IGVudHJ5ID0+IHtcbiAgICAgICAgICBlcGgudW5maWx0ZXJlZEluZGV4ID09PSBtYXBTdG9yZS5nZXRTaXplKCkgfHxcbiAgICAgICAgICAgIEZhaWxgaW50ZXJuYWw6IHVuZmlsdGVyZWRJbmRleCBjb25mdXNpb24gJHtxKGVwaC51bmZpbHRlcmVkSW5kZXgpfSB2cyAke3EoXG4gICAgICAgICAgICAgIG1hcFN0b3JlLmdldFNpemUoKSxcbiAgICAgICAgICAgICl9YDtcbiAgICAgICAgICBtYXBTdG9yZS5pbml0KGVwaC51bmZpbHRlcmVkSW5kZXgsIGVudHJ5KTtcbiAgICAgICAgICBlcGgudW5maWx0ZXJlZEluZGV4ICs9IDE7XG4gICAgICAgICAgaWYgKGVudHJ5SXNWaXNpYmxlKGVudHJ5KSkge1xuICAgICAgICAgICAgZXBoLmluZGV4ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVwaC51bmZpbHRlcmVkSW5kZXggPT09IG1hcFN0b3JlLmdldFNpemUoKSB8fFxuICAgICAgICAgICAgRmFpbGBpbnRlcm5hbDogdW5maWx0ZXJlZEluZGV4IGNvbmZ1c2lvbiAke3EoZXBoLnVuZmlsdGVyZWRJbmRleCl9IHZzICR7cShcbiAgICAgICAgICAgICAgbWFwU3RvcmUuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgKX1gO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChlcGguaW5pdGlhbFB1c2gpIHtcbiAgICAgICAgICBjb25zdCBpbml0aWFsRW50cmllcyA9IGVwaC5pbml0aWFsUHVzaDtcbiAgICAgICAgICBlcGguaW5pdGlhbFB1c2ggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgZm9yIChjb25zdCBpbml0aWFsRW50cnkgb2YgaW5pdGlhbEVudHJpZXMpIHtcbiAgICAgICAgICAgIHB1c2hPbmUoaW5pdGlhbEVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVzaE9uZShsYXRlc3RFbnRyeSk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGVwaC51bmZpbHRlcmVkSW5kZXg7XG4gICAgICB9LFxuICAgICAgLypcblxuICAgICAgICovXG4gICAgICBkdW1wVW5maWx0ZXJlZCgpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBtYXBTdG9yZSB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IGxlbiA9IG1hcFN0b3JlLmdldFNpemUoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChtYXBTdG9yZS5nZXQoaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXJkZW4ocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBkdW1wKCkge1xuICAgICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBoYXJkZW4oc2VsZi5kdW1wVW5maWx0ZXJlZCgpLmZpbHRlcihlbnRyeUlzVmlzaWJsZSkpO1xuICAgICAgfSxcbiAgICAgIHByb21pc2VSZXBsYXlEb25lKCkge1xuICAgICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGVwaCA9IHRtcC5mb3Ioc2VsZik7XG5cbiAgICAgICAgcmV0dXJuIGVwaC5yZXBsYXlEb25lS2l0LnByb21pc2U7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuXG4vKlxuXG4gKi8kaM2PX29uY2UucHJlcGFyZUxvZ1N0b3JlKHByZXBhcmVMb2dTdG9yZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJuZXh0R2VuZXJhdGlvbiI6WyJuZXh0R2VuZXJhdGlvbiJdLCJwcmVwYXJlTG9nU3RvcmUiOlsicHJlcGFyZUxvZ1N0b3JlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFnx2aYjSAAAI0gAADAAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9yZXBsYXktbWVtYnJhbmUuanN7ImltcG9ydHMiOlsiQGFnb3JpYy92b3cvc3JjL3Zvdy11dGlscy5qcyIsIkBhZ29yaWMvdm93L3ZhdC5qcyIsIkBlbmRvL2NvbW1vbi90aHJvdy1sYWJlbGVkLmpzIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiLCJAZW5kby9wYXNzLXN0eWxlIiwiLi9jb252ZXJ0LmpzIiwiLi9lcXVhdGUuanMiXSwiZXhwb3J0cyI6WyJtYWtlUmVwbGF5TWVtYnJhbmUiLCJtYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaXNWb3csaGVhcFZvd0UsdGhyb3dMYWJlbGVkLEZhaWwsWCxiLG1ha2VFcnJvcixxLEUsZ2V0TWV0aG9kTmFtZXMsRmFyLFJlbW90YWJsZSxnZXRJbnRlcmZhY2VPZixtYWtlQ29udmVydEtpdCxtYWtlRXF1YXRlOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy92b3cvc3JjL3Zvdy11dGlscy5qc1wiLCBbW1wiaXNWb3dcIixbJGjNj19hID0+IChpc1ZvdyA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93L3ZhdC5qc1wiLCBbW1wiaGVhcFZvd0VcIixbJGjNj19hID0+IChoZWFwVm93RSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi90aHJvdy1sYWJlbGVkLmpzXCIsIFtbXCJ0aHJvd0xhYmVsZWRcIixbJGjNj19hID0+ICh0aHJvd0xhYmVsZWQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcImJcIixbJGjNj19hID0+IChiID0gJGjNj19hKV1dLFtcIm1ha2VFcnJvclwiLFskaM2PX2EgPT4gKG1ha2VFcnJvciA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qc1wiLCBbW1wiZ2V0TWV0aG9kTmFtZXNcIixbJGjNj19hID0+IChnZXRNZXRob2ROYW1lcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXSxbXCJSZW1vdGFibGVcIixbJGjNj19hID0+IChSZW1vdGFibGUgPSAkaM2PX2EpXV0sW1wiZ2V0SW50ZXJmYWNlT2ZcIixbJGjNj19hID0+IChnZXRJbnRlcmZhY2VPZiA9ICRozY9fYSldXV1dLFtcIi4vY29udmVydC5qc1wiLCBbW1wibWFrZUNvbnZlcnRLaXRcIixbJGjNj19hID0+IChtYWtlQ29udmVydEtpdCA9ICRozY9fYSldXV1dLFtcIi4vZXF1YXRlLmpzXCIsIFtbXCJtYWtlRXF1YXRlXCIsWyRozY9fYSA9PiAobWFrZUVxdWF0ZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgeyBmcm9tRW50cmllcywgZGVmaW5lUHJvcGVydGllcywgYXNzaWduIH0gPSBPYmplY3Q7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlUmVwbGF5TWVtYnJhbmUgPSBhcmcgPT4ge1xuICBjb25zdCBub0R1bmRlckFyZyA9IC8qICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhhcmcpLmZpbHRlcigoW2tdKSA9PiAhay5zdGFydHNXaXRoKCdfXycpKSlcbiAgKTtcbiAgcmV0dXJuIG1ha2VSZXBsYXlNZW1icmFuZUZvclRlc3Rpbmcobm9EdW5kZXJBcmcpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VSZXBsYXlNZW1icmFuZShtYWtlUmVwbGF5TWVtYnJhbmUpO1xuICAgICAgIGNvbnN0IG1ha2VSZXBsYXlNZW1icmFuZUZvclRlc3RpbmcgPSAoe1xuICBsb2csXG4gIGJpamVjdGlvbixcbiAgdm93VG9vbHMsXG4gIHdhdGNoV2FrZSxcbiAgcGFuaWMsXG4gIF9fZXZlbnR1YWxTZW5kRm9yVGVzdGluZyxcbn0pID0+IHtcbiAgY29uc3QgeyB3aGVuLCBtYWtlVm93S2l0IH0gPSB2b3dUb29scztcblxuICBjb25zdCBlcXVhdGUgPSBtYWtlRXF1YXRlKGJpamVjdGlvbik7XG5cbiAgY29uc3QgZ3Vlc3RQcm9taXNlTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuICBsZXQgc3RvcHBlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IFBhbmljID0gKHRlbXBsYXRlLCAuLi5hcmdzKSA9PiBwYW5pYyhtYWtlRXJyb3IoWCh0ZW1wbGF0ZSwgLi4uYXJncykpKTtcblxuICBjb25zdCBzdGFydEdlbmVyYXRpb24gPSBnZW5lcmF0aW9uID0+IHtcbiAgICBOdW1iZXIuaXNTYWZlSW50ZWdlcihnZW5lcmF0aW9uKSB8fFxuICAgICAgRmFpbGBnZW5lcmF0aW9uIGV4cGVjdGVkIGludGVnZXI7IGdvdCAke2dlbmVyYXRpb259YDtcbiAgICBnZW5lcmF0aW9uID49IDAgfHxcbiAgICAgIEZhaWxgZ2VuZXJhdGlvbiBleHBlY3RlZCBub24tbmVnYXRpdmU7IGdvdCAke2dlbmVyYXRpb259YDtcbiAgfTtcblxuICAvL1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkb0Z1bGZpbGwgPSAoaG9zdFZvdywgaG9zdEZ1bGZpbGxtZW50KSA9PiB7XG4gICAgY29uc3QgZ3Vlc3RQcm9taXNlID0gaG9zdFRvR3Vlc3QoaG9zdFZvdyk7XG4gICAgY29uc3Qgc3RhdHVzID0gZ3Vlc3RQcm9taXNlTWFwLmdldChndWVzdFByb21pc2UpO1xuICAgIGlmICghc3RhdHVzIHx8IHN0YXR1cyA9PT0gJ3NldHRsZWQnKSB7XG4gICAgICBGYWlsYGRvRnVsZmlsbCBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSByZWdpc3RlcmVkIHVucmVzb2x2ZWQgcHJvbWlzZWA7XG4gICAgfVxuICAgIGNvbnN0IGd1ZXN0RnVsZmlsbG1lbnQgPSBob3N0VG9HdWVzdChob3N0RnVsZmlsbG1lbnQpO1xuICAgIHN0YXR1cy5yZXNvbHZlKGd1ZXN0RnVsZmlsbG1lbnQpO1xuICAgIGd1ZXN0UHJvbWlzZU1hcC5zZXQoZ3Vlc3RQcm9taXNlLCAnc2V0dGxlZCcpO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkb1JlamVjdCA9IChob3N0Vm93LCBob3N0UmVhc29uKSA9PiB7XG4gICAgY29uc3QgZ3Vlc3RQcm9taXNlID0gaG9zdFRvR3Vlc3QoaG9zdFZvdyk7XG4gICAgY29uc3Qgc3RhdHVzID0gZ3Vlc3RQcm9taXNlTWFwLmdldChndWVzdFByb21pc2UpO1xuICAgIGlmICghc3RhdHVzIHx8IHN0YXR1cyA9PT0gJ3NldHRsZWQnKSB7XG4gICAgICBGYWlsYGRvUmVqZWN0IHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBhIHJlZ2lzdGVyZWQgdW5yZXNvbHZlZCBwcm9taXNlYDtcbiAgICB9XG4gICAgY29uc3QgZ3Vlc3RSZWFzb24gPSBob3N0VG9HdWVzdChob3N0UmVhc29uKTtcbiAgICBzdGF0dXMucmVqZWN0KGd1ZXN0UmVhc29uKTtcbiAgICBndWVzdFByb21pc2VNYXAuc2V0KGd1ZXN0UHJvbWlzZSwgJ3NldHRsZWQnKTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkb1JldHVybiA9IChjYWxsSW5kZXgsIGhvc3RSZXN1bHQpID0+IHtcbiAgICB1bm5lc3RJbnRlcnByZXRlcihjYWxsSW5kZXgpO1xuICAgIGNvbnN0IGd1ZXN0UmVzdWx0ID0gaG9zdFRvR3Vlc3QoaG9zdFJlc3VsdCk7XG4gICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICBraW5kOiAncmV0dXJuJyxcbiAgICAgIHJlc3VsdDogZ3Vlc3RSZXN1bHQsXG4gICAgfSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZG9UaHJvdyA9IChjYWxsSW5kZXgsIGhvc3RQcm9ibGVtKSA9PiB7XG4gICAgdW5uZXN0SW50ZXJwcmV0ZXIoY2FsbEluZGV4KTtcbiAgICBjb25zdCBndWVzdFByb2JsZW0gPSBob3N0VG9HdWVzdChob3N0UHJvYmxlbSk7XG4gICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICBraW5kOiAndGhyb3cnLFxuICAgICAgcHJvYmxlbTogZ3Vlc3RQcm9ibGVtLFxuICAgIH0pO1xuICB9O1xuXG4gIC8vXG5cbiAgY29uc3QgcGVyZm9ybUNhbGwgPSAoaG9zdFRhcmdldCwgb3B0VmVyYiwgaG9zdEFyZ3MsIGNhbGxJbmRleCkgPT4ge1xuICAgIGxldCBob3N0UmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICBob3N0UmVzdWx0ID0gb3B0VmVyYlxuICAgICAgICA/IGhvc3RUYXJnZXRbb3B0VmVyYl0oLi4uaG9zdEFyZ3MpXG4gICAgICAgIDogaG9zdFRhcmdldCguLi5ob3N0QXJncyk7XG4gICAgICAvL1xuICAgICAgaG9zdFRvR3Vlc3QoaG9zdFJlc3VsdCwgYGNvbnZlcnRpbmcgJHtvcHRWZXJiIHx8ICdob3N0J30gcmVzdWx0YCk7XG4gICAgfSBjYXRjaCAoaG9zdFByb2JsZW0pIHtcbiAgICAgIHJldHVybiBsb2dEbyhuZXN0RGlzcGF0Y2gsIGhhcmRlbihbJ2RvVGhyb3cnLCBjYWxsSW5kZXgsIGhvc3RQcm9ibGVtXSkpO1xuICAgIH1cbiAgICByZXR1cm4gbG9nRG8obmVzdERpc3BhdGNoLCBoYXJkZW4oWydkb1JldHVybicsIGNhbGxJbmRleCwgaG9zdFJlc3VsdF0pKTtcbiAgfTtcblxuICBjb25zdCBndWVzdENhbGxzSG9zdCA9IChndWVzdFRhcmdldCwgb3B0VmVyYiwgZ3Vlc3RBcmdzLCBjYWxsSW5kZXgpID0+IHtcbiAgICBpZiAoc3RvcHBlZCB8fCAhYmlqZWN0aW9uLmhhc0d1ZXN0KGd1ZXN0VGFyZ2V0KSkge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IGV4dHJhRGlhZ25vc3RpYyA9XG4gICAgICAgIGNhbGxTdGFjay5sZW5ndGggPT09IDBcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAvL1xuICAgICAgICAgICAgYCB3aXRoIG5vbi1lbXB0eSBjYWxsc3RhY2sgJHtxKGNhbGxTdGFjayl9O2A7XG4gICAgICBGYWlsYENhbGxlZCBmcm9tIGEgcHJldmlvdXMgcnVuOiAke2d1ZXN0VGFyZ2V0fSR7YihleHRyYURpYWdub3N0aWMpfWA7XG4gICAgfVxuICAgIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgICBsZXQgb3V0Y29tZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZ3Vlc3RFbnRyeSA9IGhhcmRlbihbXG4gICAgICAgICdjaGVja0NhbGwnLFxuICAgICAgICBndWVzdFRhcmdldCxcbiAgICAgICAgb3B0VmVyYixcbiAgICAgICAgZ3Vlc3RBcmdzLFxuICAgICAgICBjYWxsSW5kZXgsXG4gICAgICBdKTtcbiAgICAgIGlmIChsb2cuaXNSZXBsYXlpbmcoKSkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IGxvZy5uZXh0RW50cnkoKTtcbiAgICAgICAgZXF1YXRlKFxuICAgICAgICAgIGd1ZXN0RW50cnksXG4gICAgICAgICAgZW50cnksXG4gICAgICAgICAgYHJlcGxheSAke2NhbGxJbmRleH06XG4gICAgICR7cShndWVzdEVudHJ5KX1cbiAgdnMgJHtxKGVudHJ5KX1cbiAgICBgLFxuICAgICAgICApO1xuICAgICAgICBvdXRjb21lID0gLyogICAgICAgICAgICAgICAgICAqLyAobmVzdEludGVycHJldGVyKGNhbGxJbmRleCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBndWVzdFRvSG9zdChndWVzdEVudHJ5KTtcbiAgICAgICAgbG9nLnB1c2hFbnRyeShlbnRyeSk7XG4gICAgICAgIGNvbnN0IFtfLCAuLi5hcmdzXSA9IGVudHJ5O1xuICAgICAgICBuZXN0SW50ZXJwcmV0ZXIoY2FsbEluZGV4KTtcbiAgICAgICAgb3V0Y29tZSA9IHBlcmZvcm1DYWxsKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGZhdGFsRXJyb3IpIHtcbiAgICAgIHRocm93IHBhbmljKGZhdGFsRXJyb3IpO1xuICAgIH1cblxuICAgIHN3aXRjaCAob3V0Y29tZS5raW5kKSB7XG4gICAgICBjYXNlICdyZXR1cm4nOiB7XG4gICAgICAgIHJldHVybiBvdXRjb21lLnJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Rocm93Jzoge1xuICAgICAgICB0aHJvdyBvdXRjb21lLnByb2JsZW07XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHRocm93IFBhbmljYHVuZXhwZWN0ZWQgb3V0Y29tZSBraW5kICR7cShvdXRjb21lLmtpbmQpfWA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vXG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IHBlcmZvcm1TZW5kT25seSA9IChob3N0VGFyZ2V0LCBvcHRWZXJiLCBob3N0QXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBvcHRWZXJiID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBoZWFwVm93RS5zZW5kT25seShob3N0VGFyZ2V0KSguLi5ob3N0QXJncylcbiAgICAgICAgOiBoZWFwVm93RS5zZW5kT25seShob3N0VGFyZ2V0KVtvcHRWZXJiXSguLi5ob3N0QXJncyk7XG4gICAgfSBjYXRjaCAoaG9zdFByb2JsZW0pIHtcbiAgICAgIHRocm93IFBhbmljYGludGVybmFsOiBldmVudHVhbCBzZW5kT25seSBzeW5jaHJvbm91c2x5IGZhaWxlZCAke2hvc3RQcm9ibGVtfWA7XG4gICAgfVxuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHBlcmZvcm1TZW5kID0gKFxuICAgIGhvc3RUYXJnZXQsXG4gICAgb3B0VmVyYixcbiAgICBob3N0QXJncyxcbiAgICBjYWxsSW5kZXgsXG4gICAgaG9zdFJlc3VsdEtpdCxcbiAgICBndWVzdFJldHVybmVkUCxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyB2b3csIHJlc29sdmVyIH0gPSBob3N0UmVzdWx0S2l0O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBob3N0UHJvbWlzZSA9XG4gICAgICAgIG9wdFZlcmIgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gaGVhcFZvd0UoaG9zdFRhcmdldCkoLi4uaG9zdEFyZ3MpXG4gICAgICAgICAgOiBoZWFwVm93RShob3N0VGFyZ2V0KVtvcHRWZXJiXSguLi5ob3N0QXJncyk7XG4gICAgICByZXNvbHZlci5yZXNvbHZlKGhvc3RQcm9taXNlKTsgLy9cbiAgICB9IGNhdGNoIChob3N0UHJvYmxlbSkge1xuICAgICAgdGhyb3cgUGFuaWNgaW50ZXJuYWw6IGV2ZW50dWFsIHNlbmQgc3luY2hyb25vdXNseSBmYWlsZWQgJHtob3N0UHJvYmxlbX1gO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IGVudHJ5ID0gaGFyZGVuKFsnZG9SZXR1cm4nLCBjYWxsSW5kZXgsIHZvd10pO1xuICAgICAgbG9nLnB1c2hFbnRyeShlbnRyeSk7XG4gICAgICBjb25zdCBndWVzdFByb21pc2UgPSBtYWtlR3Vlc3RGb3JIb3N0Vm93KHZvdywgZ3Vlc3RSZXR1cm5lZFApO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgZG9SZXR1cm4oY2FsbEluZGV4LCB2b3cpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIGtpbmQ6ICdyZXR1cm4nLFxuICAgICAgICByZXN1bHQ6IGd1ZXN0UHJvbWlzZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHByb2JsZW0pIHtcbiAgICAgIHRocm93IHBhbmljKHByb2JsZW0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBndWVzdEhhbmRsZXIgPSBoYXJkZW4oe1xuICAgIGFwcGx5TWV0aG9kU2VuZE9ubHkoZ3Vlc3RUYXJnZXQsIG9wdFZlcmIsIGd1ZXN0QXJncykge1xuICAgICAgX19ldmVudHVhbFNlbmRGb3JUZXN0aW5nIHx8XG4gICAgICAgIFBhbmljYGd1ZXN0IGV2ZW50dWFsIGFwcGx5TWV0aG9kU2VuZE9ubHkgbm90IHlldCBzdXBwb3J0ZWQ6ICR7Z3Vlc3RUYXJnZXR9LiR7YihvcHRWZXJiKX1gO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBjYWxsSW5kZXggPSBsb2cuZ2V0SW5kZXgoKTtcbiAgICAgIGlmIChzdG9wcGVkIHx8ICFiaWplY3Rpb24uaGFzR3Vlc3QoZ3Vlc3RUYXJnZXQpKSB7XG4gICAgICAgIEZhaWxgU2VudCBmcm9tIGEgcHJldmlvdXMgcnVuOiAke2d1ZXN0VGFyZ2V0fWA7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBndWVzdEVudHJ5ID0gaGFyZGVuKFtcbiAgICAgICAgICAnY2hlY2tTZW5kT25seScsXG4gICAgICAgICAgZ3Vlc3RUYXJnZXQsXG4gICAgICAgICAgb3B0VmVyYixcbiAgICAgICAgICBndWVzdEFyZ3MsXG4gICAgICAgICAgY2FsbEluZGV4LFxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKGxvZy5pc1JlcGxheWluZygpKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBsb2cubmV4dEVudHJ5KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVxdWF0ZShndWVzdEVudHJ5LCBlbnRyeSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXF1YXRlRXJyKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHRocm93TGFiZWxlZChcbiAgICAgICAgICAgICAgZXF1YXRlRXJyLFxuICAgICAgICAgICAgICBgcmVwbGF5ICR7Y2FsbEluZGV4fTpcbiAgICAgJHtxKGd1ZXN0RW50cnkpfVxuICB2cyAke3EoZW50cnkpfVxuICAgIGAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGd1ZXN0VG9Ib3N0KGd1ZXN0RW50cnkpO1xuICAgICAgICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgICAgICAgIGNvbnN0IFtfb3AsIGhvc3RUYXJnZXQsIF9vcHRWZXJiLCBob3N0QXJncywgX2NhbGxJbmRleF0gPSBlbnRyeTtcbiAgICAgICAgICBwZXJmb3JtU2VuZE9ubHkoaG9zdFRhcmdldCwgb3B0VmVyYiwgaG9zdEFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChmYXRhbEVycm9yKSB7XG4gICAgICAgIHRocm93IHBhbmljKGZhdGFsRXJyb3IpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXBwbHlNZXRob2QoZ3Vlc3RUYXJnZXQsIG9wdFZlcmIsIGd1ZXN0QXJncywgZ3Vlc3RSZXR1cm5lZFApIHtcbiAgICAgIF9fZXZlbnR1YWxTZW5kRm9yVGVzdGluZyB8fFxuICAgICAgICBQYW5pY2BndWVzdCBldmVudHVhbCBhcHBseU1ldGhvZCBub3QgeWV0IHN1cHBvcnRlZDogJHtndWVzdFRhcmdldH0uJHtiKG9wdFZlcmIpfSAtPiAke2IoZ3Vlc3RSZXR1cm5lZFApfWA7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IGNhbGxJbmRleCA9IGxvZy5nZXRJbmRleCgpO1xuICAgICAgaWYgKHN0b3BwZWQgfHwgIWJpamVjdGlvbi5oYXNHdWVzdChndWVzdFRhcmdldCkpIHtcbiAgICAgICAgRmFpbGBTZW50IGZyb20gYSBwcmV2aW91cyBydW46ICR7Z3Vlc3RUYXJnZXR9YDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhvc3RSZXN1bHRLaXQgPSBtYWtlVm93S2l0KCk7XG4gICAgICBjb25zdCBnID0gYmlqZWN0aW9uLnVud3JhcEluaXQoZ3Vlc3RSZXR1cm5lZFAsIGhvc3RSZXN1bHRLaXQudm93KTtcbiAgICAgIGcgPT09IGd1ZXN0UmV0dXJuZWRQIHx8XG4gICAgICAgIEZhaWxgaW50ZXJuYWw6IGd1ZXN0UmV0dXJuZWRQIHNob3VsZCBub3QgdW53cmFwOiAke2d9IHZzICR7Z3Vlc3RSZXR1cm5lZFB9YDtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGxldCBvdXRjb21lO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZ3Vlc3RFbnRyeSA9IGhhcmRlbihbXG4gICAgICAgICAgJ2NoZWNrU2VuZCcsXG4gICAgICAgICAgZ3Vlc3RUYXJnZXQsXG4gICAgICAgICAgb3B0VmVyYixcbiAgICAgICAgICBndWVzdEFyZ3MsXG4gICAgICAgICAgY2FsbEluZGV4LFxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKGxvZy5pc1JlcGxheWluZygpKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBsb2cubmV4dEVudHJ5KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVxdWF0ZShndWVzdEVudHJ5LCBlbnRyeSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXF1YXRlRXJyKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHRocm93TGFiZWxlZChcbiAgICAgICAgICAgICAgZXF1YXRlRXJyLFxuICAgICAgICAgICAgICBgcmVwbGF5ICR7Y2FsbEluZGV4fTpcbiAgICAgJHtxKGd1ZXN0RW50cnkpfVxuICB2cyAke3EoZW50cnkpfVxuICAgIGAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXRjb21lID0gLyogICAgICAgICAgICAgICAgICAqLyAobmVzdEludGVycHJldGVyKGNhbGxJbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZ3Vlc3RUb0hvc3QoZ3Vlc3RFbnRyeSk7XG4gICAgICAgICAgbG9nLnB1c2hFbnRyeShlbnRyeSk7XG4gICAgICAgICAgY29uc3QgW19vcCwgaG9zdFRhcmdldCwgX29wdFZlcmIsIGhvc3RBcmdzLCBfY2FsbEluZGV4XSA9IGVudHJ5O1xuICAgICAgICAgIG5lc3RJbnRlcnByZXRlcihjYWxsSW5kZXgpO1xuICAgICAgICAgIG91dGNvbWUgPSBwZXJmb3JtU2VuZChcbiAgICAgICAgICAgIGhvc3RUYXJnZXQsXG4gICAgICAgICAgICBvcHRWZXJiLFxuICAgICAgICAgICAgaG9zdEFyZ3MsXG4gICAgICAgICAgICBjYWxsSW5kZXgsXG4gICAgICAgICAgICBob3N0UmVzdWx0S2l0LFxuICAgICAgICAgICAgZ3Vlc3RSZXR1cm5lZFAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZmF0YWxFcnJvcikge1xuICAgICAgICB0aHJvdyBwYW5pYyhmYXRhbEVycm9yKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChvdXRjb21lLmtpbmQpIHtcbiAgICAgICAgY2FzZSAncmV0dXJuJzoge1xuICAgICAgICAgIHJldHVybiBvdXRjb21lLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0aHJvdyc6IHtcbiAgICAgICAgICB0aHJvdyBvdXRjb21lLnByb2JsZW07XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICB0aHJvdyBQYW5pY2B1bmV4cGVjdGVkIG91dGNvbWUga2luZCAke3Eob3V0Y29tZS5raW5kKX1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBhcHBseUZ1bmN0aW9uU2VuZE9ubHkoZ3Vlc3RUYXJnZXQsIGd1ZXN0QXJncykge1xuICAgICAgX19ldmVudHVhbFNlbmRGb3JUZXN0aW5nIHx8XG4gICAgICAgIFBhbmljYGd1ZXN0IGV2ZW50dWFsIGFwcGx5RnVuY3Rpb25TZW5kT25seSBub3QgeWV0IHN1cHBvcnRlZDogJHtndWVzdFRhcmdldH1gO1xuICAgICAgcmV0dXJuIGd1ZXN0SGFuZGxlci5hcHBseU1ldGhvZFNlbmRPbmx5KFxuICAgICAgICBndWVzdFRhcmdldCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBndWVzdEFyZ3MsXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHlGdW5jdGlvbihndWVzdFRhcmdldCwgZ3Vlc3RBcmdzLCBndWVzdFJldHVybmVkUCkge1xuICAgICAgX19ldmVudHVhbFNlbmRGb3JUZXN0aW5nIHx8XG4gICAgICAgIFBhbmljYGd1ZXN0IGV2ZW50dWFsIGFwcGx5RnVuY3Rpb24gbm90IHlldCBzdXBwb3J0ZWQ6ICR7Z3Vlc3RUYXJnZXR9IC0+ICR7YihndWVzdFJldHVybmVkUCl9YDtcbiAgICAgIHJldHVybiBndWVzdEhhbmRsZXIuYXBwbHlNZXRob2QoXG4gICAgICAgIGd1ZXN0VGFyZ2V0LFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGd1ZXN0QXJncyxcbiAgICAgICAgZ3Vlc3RSZXR1cm5lZFAsXG4gICAgICApO1xuICAgIH0sXG4gICAgZ2V0U2VuZE9ubHkoZ3Vlc3RUYXJnZXQsIHByb3ApIHtcbiAgICAgIC8vXG4gICAgICB0aHJvdyBQYW5pY2BndWVzdCBldmVudHVhbCBnZXRTZW5kT25seSBub3QgeWV0IHN1cHBvcnRlZDogJHtndWVzdFRhcmdldH0uJHtiKHByb3ApfWA7XG4gICAgfSxcbiAgICBnZXQoZ3Vlc3RUYXJnZXQsIHByb3AsIGd1ZXN0UmV0dXJuZWRQKSB7XG4gICAgICAvL1xuICAgICAgdGhyb3cgUGFuaWNgZ3Vlc3QgZXZlbnR1YWwgZ2V0IG5vdCB5ZXQgc3VwcG9ydGVkOiAke2d1ZXN0VGFyZ2V0fS4ke2IocHJvcCl9IC0+ICR7YihndWVzdFJldHVybmVkUCl9YDtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBtYWtlR3Vlc3RQcmVzZW5jZSA9IChpZmFjZSwgbWV0aG9kRW50cmllcykgPT4ge1xuICAgIGxldCBndWVzdFByZXNlbmNlO1xuICAgIHZvaWQgbmV3IEhhbmRsZWRQcm9taXNlKChfcmVzLCBfcmVqLCByZXNvbHZlV2l0aFByZXNlbmNlKSA9PiB7XG4gICAgICBndWVzdFByZXNlbmNlID0gcmVzb2x2ZVdpdGhQcmVzZW5jZShndWVzdEhhbmRsZXIpO1xuICAgIH0pOyAvL1xuICAgIGlmICh0eXBlb2YgZ3Vlc3RQcmVzZW5jZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IEZhaWxgcHJlc2VuY2UgZXhwZWN0ZWQgdG8gYmUgb2JqZWN0ICR7Z3Vlc3RQcmVzZW5jZX1gO1xuICAgIH1cbiAgICBhc3NpZ24oZ3Vlc3RQcmVzZW5jZSwgZnJvbUVudHJpZXMobWV0aG9kRW50cmllcykpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlbW90YWJsZShpZmFjZSwgdW5kZWZpbmVkLCBndWVzdFByZXNlbmNlKTtcbiAgICByZXN1bHQgPT09IGd1ZXN0UHJlc2VuY2UgfHxcbiAgICAgIEZhaWxgUmVtb3RhYmxlIGV4cGVjdGVkIHRvIG1ha2UgcHJlc2VuY2UgaW4gcGxhY2U6ICR7Z3Vlc3RQcmVzZW5jZX0gdnMgJHtyZXN1bHR9YDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IG1ha2VHdWVzdFByb21pc2VLaXQgPSAoKSA9PiB7XG4gICAgbGV0IHJlc29sdmU7XG4gICAgbGV0IHJlamVjdDtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IEhhbmRsZWRQcm9taXNlKChyZXMsIHJlaiwgX3Jlc1ByZXMpID0+IHtcbiAgICAgIHJlc29sdmUgPSByZXM7XG4gICAgICByZWplY3QgPSByZWo7XG4gICAgfSwgZ3Vlc3RIYW5kbGVyKTtcbiAgICAvL1xuICAgIHJldHVybiBoYXJkZW4oeyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfSk7XG4gIH07XG5cbiAgLy9cblxuICBjb25zdCBtYWtlR3Vlc3RGb3JIb3N0UmVtb3RhYmxlID0gaFJlbSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgbGV0IGdSZW07XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IG1ha2VHdWVzdE1ldGhvZCA9IChvcHRWZXJiID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgICBjb25zdCBndWVzdE1ldGhvZCA9ICguLi5ndWVzdEFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbEluZGV4ID0gbG9nLmdldEluZGV4KCk7XG4gICAgICAgIHJldHVybiBndWVzdENhbGxzSG9zdChnUmVtLCBvcHRWZXJiLCBndWVzdEFyZ3MsIGNhbGxJbmRleCk7XG4gICAgICB9O1xuICAgICAgaWYgKG9wdFZlcmIpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydGllcyhndWVzdE1ldGhvZCwge1xuICAgICAgICAgIG5hbWU6IHsgdmFsdWU6IFN0cmluZyhoUmVtW29wdFZlcmJdLm5hbWUgfHwgb3B0VmVyYikgfSxcbiAgICAgICAgICBsZW5ndGg6IHsgdmFsdWU6IE51bWJlcihoUmVtW29wdFZlcmJdLmxlbmd0aCB8fCAwKSB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmluZVByb3BlcnRpZXMoZ3Vlc3RNZXRob2QsIHtcbiAgICAgICAgICBuYW1lOiB7IHZhbHVlOiBTdHJpbmcoaFJlbS5uYW1lIHx8ICdhbm9uJykgfSxcbiAgICAgICAgICBsZW5ndGg6IHsgdmFsdWU6IE51bWJlcihoUmVtLmxlbmd0aCB8fCAwKSB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBndWVzdE1ldGhvZDtcbiAgICB9O1xuICAgIGNvbnN0IGlmYWNlID0gU3RyaW5nKGdldEludGVyZmFjZU9mKGhSZW0pIHx8ICdyZW1vdGFibGUnKTtcbiAgICBjb25zdCBndWVzdElmYWNlID0gYCR7aWZhY2V9IGd1ZXN0IHdyYXBwZXJgOyAvL1xuICAgIGlmICh0eXBlb2YgaFJlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgZ1JlbSA9IFJlbW90YWJsZShndWVzdElmYWNlLCB1bmRlZmluZWQsIG1ha2VHdWVzdE1ldGhvZCgpKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgdGhyb3cgRmFpbGBob3N0IGZhciBmdW5jdGlvbnMgbm90IHlldCBwYXNzYWJsZWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWVzID0gZ2V0TWV0aG9kTmFtZXMoaFJlbSk7XG4gICAgICBjb25zdCBndWVzdE1ldGhvZHMgPSBtZXRob2ROYW1lcy5tYXAobmFtZSA9PiBbXG4gICAgICAgIG5hbWUsXG4gICAgICAgIG1ha2VHdWVzdE1ldGhvZChuYW1lKSxcbiAgICAgIF0pO1xuICAgICAgZ1JlbSA9IG1ha2VHdWVzdFByZXNlbmNlKGd1ZXN0SWZhY2UsIGd1ZXN0TWV0aG9kcyk7XG4gICAgfVxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGhSZW0gPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGdSZW07XG4gIH07XG4gIGhhcmRlbihtYWtlR3Vlc3RGb3JIb3N0UmVtb3RhYmxlKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZUd1ZXN0Rm9ySG9zdFZvdyA9IChoVm93LCBwcm9taXNlS2V5ID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgaXNWb3coaFZvdykgfHwgRmFpbGB2b3cgZXhwZWN0ZWQgJHtoVm93fWA7XG4gICAgY29uc3QgeyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfSA9IG1ha2VHdWVzdFByb21pc2VLaXQoKTtcbiAgICBwcm9taXNlS2V5ID8/PSBwcm9taXNlO1xuICAgIGd1ZXN0UHJvbWlzZU1hcC5zZXQocHJvbWlzZUtleSwgaGFyZGVuKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKTtcblxuICAgIHdhdGNoV2FrZShoVm93KTtcblxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuXG4gICAgdm9pZCB3aGVuKFxuICAgICAgaFZvdyxcbiAgICAgIGFzeW5jIGhvc3RGdWxmaWxsbWVudCA9PiB7XG4gICAgICAgIGF3YWl0IGxvZy5wcm9taXNlUmVwbGF5RG9uZSgpOyAvL1xuICAgICAgICBpZiAoIXN0b3BwZWQgJiYgZ3Vlc3RQcm9taXNlTWFwLmdldChwcm9taXNlS2V5KSAhPT0gJ3NldHRsZWQnKSB7XG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGhhcmRlbihbJ2RvRnVsZmlsbCcsIGhWb3csIGhvc3RGdWxmaWxsbWVudF0pO1xuICAgICAgICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnRlcnByZXRPbmUodG9wRGlzcGF0Y2gsIGVudHJ5KTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBob3N0UmVhc29uID0+IHtcbiAgICAgICAgYXdhaXQgbG9nLnByb21pc2VSZXBsYXlEb25lKCk7IC8vXG4gICAgICAgIGlmICghc3RvcHBlZCAmJiBndWVzdFByb21pc2VNYXAuZ2V0KHByb21pc2VLZXkpICE9PSAnc2V0dGxlZCcpIHtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gaGFyZGVuKFsnZG9SZWplY3QnLCBoVm93LCBob3N0UmVhc29uXSk7XG4gICAgICAgICAgbG9nLnB1c2hFbnRyeShlbnRyeSk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGludGVycHJldE9uZSh0b3BEaXNwYXRjaCwgZW50cnkpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9O1xuICBoYXJkZW4obWFrZUd1ZXN0Rm9ySG9zdFZvdyk7XG5cbiAgY29uc3QgeyBndWVzdFRvSG9zdCwgaG9zdFRvR3Vlc3QgfSA9IG1ha2VDb252ZXJ0S2l0KFxuICAgIGJpamVjdGlvbixcbiAgICBtYWtlR3Vlc3RGb3JIb3N0UmVtb3RhYmxlLFxuICAgIG1ha2VHdWVzdEZvckhvc3RWb3csXG4gICk7XG5cbiAgLy9cblxuICAvKlxuXG4gICAqL1xuICBjb25zdCB0b3BEaXNwYXRjaCA9IGhhcmRlbih7XG4gICAgc3RhcnRHZW5lcmF0aW9uLFxuICAgIGRvRnVsZmlsbCxcbiAgICBkb1JlamVjdFxuICAgIC8vXG4gIH0pO1xuXG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IG5lc3REaXNwYXRjaCA9IGhhcmRlbih7XG4gICAgZG9SZXR1cm4sXG4gICAgZG9UaHJvd1xuICAgIC8vXG4gIH0pO1xuXG4gIGNvbnN0IGludGVycHJldE9uZSA9IChkaXNwYXRjaCwgW29wLCAuLi5hcmdzXSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBvcCBpbiBkaXNwYXRjaCB8fFxuICAgICAgICAvL1xuICAgICAgICBGYWlsYHVuZXhwZWN0ZWQgZGlzcGF0Y2ggb3A6ICR7cShvcCl9YDtcbiAgICAgIHJldHVybiBkaXNwYXRjaFtvcF0oLi4uYXJncyk7XG4gICAgfSBjYXRjaCAocHJvYmxlbSkge1xuICAgICAgdGhyb3cgcGFuaWMocHJvYmxlbSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvZ0RvID0gKGRpc3BhdGNoLCBlbnRyeSkgPT4ge1xuICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgIHJldHVybiBpbnRlcnByZXRPbmUoZGlzcGF0Y2gsIGVudHJ5KTtcbiAgfTtcblxuICBjb25zdCBjYWxsU3RhY2sgPSBbXTtcblxuICBsZXQgdW5uZXN0RmxhZyA9IGZhbHNlO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgbmVzdEludGVycHJldGVyID0gY2FsbEluZGV4ID0+IHtcbiAgICBjYWxsU3RhY2sucHVzaChjYWxsSW5kZXgpO1xuICAgIHdoaWxlIChsb2cuaXNSZXBsYXlpbmcoKSAmJiAhc3RvcHBlZCkge1xuICAgICAgY29uc3QgZW50cnkgPSBsb2cubmV4dFVuZmlsdGVyZWRFbnRyeSgpO1xuICAgICAgY29uc3Qgb3B0T3V0Y29tZSA9IGludGVycHJldE9uZShuZXN0RGlzcGF0Y2gsIGVudHJ5KTtcbiAgICAgIGlmICh1bm5lc3RGbGFnKSB7XG4gICAgICAgIG9wdE91dGNvbWUgfHxcbiAgICAgICAgICAvL1xuICAgICAgICAgIEZhaWxgb25seSB1bm5lc3Qgd2l0aCBhbiBvdXRjb21lOiAke3EoZW50cnlbMF0pfWA7XG4gICAgICAgIHVubmVzdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG9wdE91dGNvbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHVubmVzdEZsYWcgPSBmYWxzZTtcbiAgfTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCB1bm5lc3RJbnRlcnByZXRlciA9IGNhbGxJbmRleCA9PiB7XG4gICAgIXN0b3BwZWQgfHxcbiAgICAgIEZhaWxgVGhpcyBtZW1icmFuZSBzdG9wcGVkLiBSZXN0YXJ0IHdpdGggbmV3IG1lbWJyYW5lICR7cmVwbGF5TWVtYnJhbmV9YDtcbiAgICBjYWxsU3RhY2subGVuZ3RoID49IDEgfHxcbiAgICAgIC8vXG4gICAgICBGYWlsYFVubWF0Y2hlZCB1bm5lc3Q6ICR7cShjYWxsSW5kZXgpfWA7XG4gICAgY29uc3QgaSA9IGNhbGxTdGFjay5wb3AoKTtcbiAgICBpID09PSBjYWxsSW5kZXggfHxcbiAgICAgIC8vXG4gICAgICBGYWlsYFVuZXhwZWN0ZWQgdW5uZXN0OiAke3EoY2FsbEluZGV4KX0gdnMgJHtxKGkpfWA7XG4gICAgdW5uZXN0RmxhZyA9IHRydWU7XG4gICAgaWYgKGNhbGxTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgIHZvaWQgRS53aGVuKHVuZGVmaW5lZCwgd2FrZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHdha2UgPSAoKSA9PiB7XG4gICAgd2hpbGUgKGxvZy5pc1JlcGxheWluZygpICYmICFzdG9wcGVkKSB7XG4gICAgICBjYWxsU3RhY2subGVuZ3RoID09PSAwIHx8XG4gICAgICAgIEZhaWxgd2FrZSBvbmx5IHdpdGggZW1wdHkgY2FsbFN0YWNrOiAke3EoY2FsbFN0YWNrKX1gO1xuICAgICAgY29uc3QgZW50cnkgPSBsb2cucGVla0VudHJ5KCk7XG4gICAgICBjb25zdCBvcCA9IGVudHJ5WzBdO1xuICAgICAgaWYgKCEob3AgaW4gdG9wRGlzcGF0Y2gpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZvaWQgbG9nLm5leHRVbmZpbHRlcmVkRW50cnkoKTtcbiAgICAgIGludGVycHJldE9uZSh0b3BEaXNwYXRjaCwgZW50cnkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN0b3BwZWQgPSB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IHJlcGxheU1lbWJyYW5lID0gRmFyKCdyZXBsYXlNZW1icmFuZScsIHtcbiAgICBob3N0VG9HdWVzdCxcbiAgICBndWVzdFRvSG9zdCxcbiAgICB3YWtlLFxuICAgIHN0b3AsXG4gIH0pO1xuICByZXR1cm4gcmVwbGF5TWVtYnJhbmU7XG59OyRozY9fb25jZS5tYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nKG1ha2VSZXBsYXlNZW1icmFuZUZvclRlc3RpbmcpO1xuaGFyZGVuKG1ha2VSZXBsYXlNZW1icmFuZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVJlcGxheU1lbWJyYW5lIjpbIm1ha2VSZXBsYXlNZW1icmFuZSJdLCJtYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nIjpbIm1ha2VSZXBsYXlNZW1icmFuZUZvclRlc3RpbmciXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAUUExdwwHAAAMBwAALAAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL3R5cGUtZ3VhcmRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy92b3ciXSwiZXhwb3J0cyI6WyJGbG93U3RhdGVTaGFwZSIsIkxvZ0VudHJ5U2hhcGUiLCJQcm9wZXJ0eUtleVNoYXBlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTSxWb3dTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93XCIsIFtbXCJWb3dTaGFwZVwiLFskaM2PX2EgPT4gKFZvd1NoYXBlID0gJGjNj19hKV1dXV1dKTtcblxuXG4gICAgICAgY29uc3QgRmxvd1N0YXRlU2hhcGUgPSBNLm9yKFxuICAnUnVubmluZycsXG4gICdTbGVlcGluZycsXG4gICdSZXBsYXlpbmcnLFxuICAnRmFpbGVkJyxcbiAgJ0RvbmUnLFxuKTskaM2PX29uY2UuRmxvd1N0YXRlU2hhcGUoRmxvd1N0YXRlU2hhcGUpO1xuXG4gICAgICAgY29uc3QgUHJvcGVydHlLZXlTaGFwZSA9IE0ub3IoTS5zdHJpbmcoKSwgTS5zeW1ib2woKSk7JGjNj19vbmNlLlByb3BlcnR5S2V5U2hhcGUoUHJvcGVydHlLZXlTaGFwZSk7XG5cbiAgICAgICBjb25zdCBMb2dFbnRyeVNoYXBlID0gTS5vcihcbiAgWydzdGFydEdlbmVyYXRpb24nLCBNLm51bWJlcigpXSxcbiAgLy9cbiAgWydkb0Z1bGZpbGwnLCBWb3dTaGFwZSwgTS5hbnkoKV0sXG4gIFsnZG9SZWplY3QnLCBWb3dTaGFwZSwgTS5hbnkoKV0sXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIFsnZG9SZXR1cm4nLCBNLm51bWJlcigpLCBNLmFueSgpXSxcbiAgWydkb1Rocm93JywgTS5udW1iZXIoKSwgTS5hbnkoKV0sXG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgW1xuICAgICdjaGVja0NhbGwnLFxuICAgIE0ucmVtb3RhYmxlKCdob3N0IHRhcmdldCcpLFxuICAgIE0ub3B0KFByb3BlcnR5S2V5U2hhcGUpLFxuICAgIE0uYXJyYXlPZihNLmFueSgpKSxcbiAgICBNLm51bWJlcigpLFxuICBdLFxuICBbXG4gICAgJ2NoZWNrU2VuZE9ubHknLFxuICAgIE0ub3IoTS5yZW1vdGFibGUoJ2hvc3QgdGFyZ2V0JyksIFZvd1NoYXBlKSxcbiAgICBNLm9wdChQcm9wZXJ0eUtleVNoYXBlKSxcbiAgICBNLmFycmF5T2YoTS5hbnkoKSksXG4gICAgTS5udW1iZXIoKSxcbiAgXSxcbiAgW1xuICAgICdjaGVja1NlbmQnLFxuICAgIE0ub3IoTS5yZW1vdGFibGUoJ2hvc3QgdGFyZ2V0JyksIFZvd1NoYXBlKSxcbiAgICBNLm9wdChQcm9wZXJ0eUtleVNoYXBlKSxcbiAgICBNLmFycmF5T2YoTS5hbnkoKSksXG4gICAgTS5udW1iZXIoKSxcbiAgXVxuICAvL1xuICAvL1xuKTskaM2PX29uY2UuTG9nRW50cnlTaGFwZShMb2dFbnRyeVNoYXBlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkZsb3dTdGF0ZVNoYXBlIjpbIkZsb3dTdGF0ZVNoYXBlIl0sIlByb3BlcnR5S2V5U2hhcGUiOlsiUHJvcGVydHlLZXlTaGFwZSJdLCJMb2dFbnRyeVNoYXBlIjpbIkxvZ0VudHJ5U2hhcGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAz+hUt84BAADOAQAALAAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL3R5cGVzLWluZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJlbXB0eSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsgICAgICAgY29uc3QgZW1wdHkgPSAnRW1wdHkgSlMgZmlsZSB0byBjb3JyZXNwb25kIHdpdGggaXRzIC5kLnRzIHR3aW4nOyRozY9fb25jZS5lbXB0eShlbXB0eSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJlbXB0eSI6WyJlbXB0eSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAxgEj4jQEAAI0BAAAgAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL2hlYXAuanN7ImltcG9ydHMiOlsiLi9zcmMvaGVhcC5qcyJdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbIi4vc3JjL2hlYXAuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvaGVhcC5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAnAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9leHBvcnRzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAATzwp3PCgAAzwoAACQAAABAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL2hlYXAuanN7ImltcG9ydHMiOlsiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL2V4byIsIkBhZ29yaWMvc3RvcmUiLCIuL21ha2Utb25jZS5qcyIsIi4va2V5cy5qcyIsIi4vd2F0Y2gtcHJvbWlzZS5qcyJdLCJleHBvcnRzIjpbIm1ha2VIZWFwWm9uZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhcixpc1Bhc3NhYmxlLG1ha2VFeG8sZGVmaW5lRXhvQ2xhc3MsZGVmaW5lRXhvQ2xhc3NLaXQsbWFrZVNjYWxhck1hcFN0b3JlLG1ha2VTY2FsYXJTZXRTdG9yZSxtYWtlU2NhbGFyV2Vha01hcFN0b3JlLG1ha2VTY2FsYXJXZWFrU2V0U3RvcmUsbWFrZU9uY2VLaXQsa2V5cyx3YXRjaFByb21pc2U7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wiaXNQYXNzYWJsZVwiLFskaM2PX2EgPT4gKGlzUGFzc2FibGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9leG9cIiwgW1tcIm1ha2VFeG9cIixbJGjNj19hID0+IChtYWtlRXhvID0gJGjNj19hKV1dLFtcImRlZmluZUV4b0NsYXNzXCIsWyRozY9fYSA9PiAoZGVmaW5lRXhvQ2xhc3MgPSAkaM2PX2EpXV0sW1wiZGVmaW5lRXhvQ2xhc3NLaXRcIixbJGjNj19hID0+IChkZWZpbmVFeG9DbGFzc0tpdCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvc3RvcmVcIiwgW1tcIm1ha2VTY2FsYXJNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJNYXBTdG9yZSA9ICRozY9fYSldXSxbXCJtYWtlU2NhbGFyU2V0U3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyU2V0U3RvcmUgPSAkaM2PX2EpXV0sW1wibWFrZVNjYWxhcldlYWtNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJXZWFrTWFwU3RvcmUgPSAkaM2PX2EpXV0sW1wibWFrZVNjYWxhcldlYWtTZXRTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJXZWFrU2V0U3RvcmUgPSAkaM2PX2EpXV1dXSxbXCIuL21ha2Utb25jZS5qc1wiLCBbW1wibWFrZU9uY2VLaXRcIixbJGjNj19hID0+IChtYWtlT25jZUtpdCA9ICRozY9fYSldXV1dLFtcIi4va2V5cy5qc1wiLCBbW1wiYWdvcmljVmF0RGF0YUtleXNcIixbJGjNj19hID0+IChrZXlzID0gJGjNj19hKV1dXV0sW1wiLi93YXRjaC1wcm9taXNlLmpzXCIsIFtbXCJ3YXRjaFByb21pc2VcIixbJGjNj19hID0+ICh3YXRjaFByb21pc2UgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5jb25zdCBkZXRhY2hlZEhlYXBTdG9yZXMgPSBGYXIoJ2hlYXBTdG9yZXMnLCB7XG4gIGRldGFjaGVkOiAoKSA9PiBkZXRhY2hlZEhlYXBTdG9yZXMsXG4gIGlzU3RvcmFibGU6IGlzUGFzc2FibGUsXG5cbiAgc2V0U3RvcmU6IG1ha2VTY2FsYXJTZXRTdG9yZSxcbiAgbWFwU3RvcmU6IG1ha2VTY2FsYXJNYXBTdG9yZSxcbiAgd2Vha01hcFN0b3JlOiBtYWtlU2NhbGFyV2Vha01hcFN0b3JlLFxuICB3ZWFrU2V0U3RvcmU6IG1ha2VTY2FsYXJXZWFrU2V0U3RvcmUsXG59KTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUhlYXBab25lID0gKGJhc2VMYWJlbCA9ICdoZWFwWm9uZScpID0+IHtcbiAgY29uc3QgeyBtYWtlT25jZSwgd3JhcFByb3ZpZGVyIH0gPSBtYWtlT25jZUtpdChiYXNlTGFiZWwsIGRldGFjaGVkSGVhcFN0b3Jlcyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBtYWtlU3ViWm9uZSA9IChsYWJlbCwgX29wdGlvbnMpID0+XG4gICAgbWFrZUhlYXBab25lKGAke2Jhc2VMYWJlbH0uJHtsYWJlbH1gKTtcblxuICByZXR1cm4gRmFyKCdoZWFwWm9uZScsIHtcbiAgICBleG86IHdyYXBQcm92aWRlcihtYWtlRXhvLCBrZXlzLmV4byksXG4gICAgZXhvQ2xhc3M6IHdyYXBQcm92aWRlcihkZWZpbmVFeG9DbGFzcywga2V5cy5leG9DbGFzcyksXG4gICAgZXhvQ2xhc3NLaXQ6IHdyYXBQcm92aWRlcihkZWZpbmVFeG9DbGFzc0tpdCwga2V5cy5leG9DbGFzc0tpdCksXG4gICAgc3ViWm9uZTogd3JhcFByb3ZpZGVyKG1ha2VTdWJab25lKSxcblxuICAgIG1ha2VPbmNlLFxuICAgIHdhdGNoUHJvbWlzZSxcbiAgICBkZXRhY2hlZDogZGV0YWNoZWRIZWFwU3RvcmVzLmRldGFjaGVkLFxuICAgIGlzU3RvcmFibGU6IGRldGFjaGVkSGVhcFN0b3Jlcy5pc1N0b3JhYmxlLFxuXG4gICAgbWFwU3RvcmU6IHdyYXBQcm92aWRlcihkZXRhY2hlZEhlYXBTdG9yZXMubWFwU3RvcmUpLFxuICAgIHNldFN0b3JlOiB3cmFwUHJvdmlkZXIoZGV0YWNoZWRIZWFwU3RvcmVzLnNldFN0b3JlKSxcbiAgICB3ZWFrTWFwU3RvcmU6IHdyYXBQcm92aWRlcihkZXRhY2hlZEhlYXBTdG9yZXMud2Vha01hcFN0b3JlKSxcbiAgICB3ZWFrU2V0U3RvcmU6IHdyYXBQcm92aWRlcihkZXRhY2hlZEhlYXBTdG9yZXMud2Vha1NldFN0b3JlKSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlSGVhcFpvbmUobWFrZUhlYXBab25lKTtcbmhhcmRlbihtYWtlSGVhcFpvbmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUhlYXBab25lIjpbIm1ha2VIZWFwWm9uZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAVbrH6eQIAAHkCAAAlAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2V4cG9ydHMuanMiLCIuL21ha2Utb25jZS5qcyIsIi4va2V5cy5qcyIsIi4vaXMtcGFzc2FibGUuanMiLCIuL3dhdGNoLXByb21pc2UuanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL2V4cG9ydHMuanMiLCIuL2lzLXBhc3NhYmxlLmpzIiwiLi9rZXlzLmpzIiwiLi9tYWtlLW9uY2UuanMiLCIuL3dhdGNoLXByb21pc2UuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9leHBvcnRzLmpzXCIsIFtdXSxbXCIuL21ha2Utb25jZS5qc1wiLCBbXV0sW1wiLi9rZXlzLmpzXCIsIFtdXSxbXCIuL2lzLXBhc3NhYmxlLmpzXCIsIFtdXSxbXCIuL3dhdGNoLXByb21pc2UuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAOX3SDHQCAAB0AgAAKwAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvaXMtcGFzc2FibGUuanN7ImltcG9ydHMiOlsiQGVuZG8vcGFzcy1zdHlsZSJdLCJleHBvcnRzIjpbImlzUGFzc2FibGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCByZWFsSXNQYXNzYWJsZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImlzUGFzc2FibGVcIixbJGjNj19hID0+IChyZWFsSXNQYXNzYWJsZSA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cbiAqL1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNQYXNzYWJsZSA9IHNwZWNpbWVuID0+IHJlYWxJc1Bhc3NhYmxlKHNwZWNpbWVuKTskaM2PX29uY2UuaXNQYXNzYWJsZShpc1Bhc3NhYmxlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzUGFzc2FibGUiOlsiaXNQYXNzYWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADLj+zFmAMAAJgDAAAkAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9rZXlzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJhZ29yaWNWYXREYXRhS2V5cyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBraW5kID0gbGFiZWwgPT4gYCR7bGFiZWx9X2tpbmRIYW5kbGVgO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBzaW5nbGV0b24gPSBsYWJlbCA9PiBgJHtsYWJlbH1fc2luZ2xldG9uYDtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFnb3JpY1ZhdERhdGFLZXlzID0ge1xuICBleG9DbGFzczogbGFiZWwgPT4gaGFyZGVuKFtraW5kKGxhYmVsKV0pLFxuICBleG9DbGFzc0tpdDogbGFiZWwgPT4gaGFyZGVuKFtraW5kKGxhYmVsKV0pLFxuICBleG86IGxhYmVsID0+IGhhcmRlbihba2luZChsYWJlbCksIHNpbmdsZXRvbihsYWJlbCldKSxcbiAgc3RvcmU6IGxhYmVsID0+IGhhcmRlbihbbGFiZWxdKSxcbiAgem9uZTogbGFiZWwgPT4gaGFyZGVuKFtsYWJlbF0pLFxufTskaM2PX29uY2UuYWdvcmljVmF0RGF0YUtleXMoYWdvcmljVmF0RGF0YUtleXMpO1xuaGFyZGVuKGFnb3JpY1ZhdERhdGFLZXlzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImFnb3JpY1ZhdERhdGFLZXlzIjpbImFnb3JpY1ZhdERhdGFLZXlzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABrumdulBwAApQcAACkAAABAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL21ha2Utb25jZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlT25jZUtpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWw7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBkZWZhdWx0TGFiZWxUb0tleXMgPSBsYWJlbCA9PiBoYXJkZW4oW2xhYmVsXSk7XG5oYXJkZW4oZGVmYXVsdExhYmVsVG9LZXlzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VPbmNlS2l0ID0gKGRlYnVnTmFtZSwgc3RvcmVzLCBiYWNraW5nU3RvcmUgPSB1bmRlZmluZWQpID0+IHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgdXNlZEtleXMgPSBzdG9yZXMuZGV0YWNoZWQoKS5zZXRTdG9yZShgJHtkZWJ1Z05hbWV9IHVzZWQga2V5c2ApO1xuXG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IGFzc2VydE9ubHlPbmNlID0ga2V5ID0+IHtcbiAgICB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyB8fCBGYWlsYGtleSAke2tleX0gbXVzdCBiZSBhIHN0cmluZ2A7XG4gICAgIXVzZWRLZXlzLmhhcyhrZXkpIHx8XG4gICAgICBGYWlsYGtleSAke2tleX0gaGFzIGFscmVhZHkgYmVlbiB1c2VkIGluIHRoaXMgem9uZSBhbmQgaW5jYXJuYXRpb25gO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIHVzZWRLZXlzLmFkZChrZXkpO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHdyYXBQcm92aWRlciA9IChwcm92aWRlciwgbGFiZWxUb0tleXMgPSBkZWZhdWx0TGFiZWxUb0tleXMpID0+IHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHdyYXBwZXIgPSAobGFiZWwsIC4uLnJlc3QpID0+IHtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGxhYmVsVG9LZXlzKGxhYmVsKSkge1xuICAgICAgICBhc3NlcnRPbmx5T25jZShrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3ZpZGVyKGxhYmVsLCAuLi5yZXN0KTtcbiAgICB9O1xuICAgIHJldHVybiAvKiAgICAgICAgICAgICovICh3cmFwcGVyKTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlT25jZSA9IChrZXksIG1ha2VyKSA9PiB7XG4gICAgYXNzZXJ0T25seU9uY2Uoa2V5KTtcbiAgICBpZiAoYmFja2luZ1N0b3JlICYmIGJhY2tpbmdTdG9yZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGJhY2tpbmdTdG9yZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBtYWtlcihrZXkpO1xuICAgIHN0b3Jlcy5pc1N0b3JhYmxlKHZhbHVlKSB8fFxuICAgICAgRmFpbGBtYWtlciByZXR1cm4gdmFsdWUgJHt2YWx1ZX0gaXMgbm90IHN0b3JhYmxlYDtcbiAgICBiYWNraW5nU3RvcmUgJiYgYmFja2luZ1N0b3JlLmluaXQoa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIHJldHVybiBoYXJkZW4oeyBtYWtlT25jZSwgd3JhcFByb3ZpZGVyIH0pO1xufTskaM2PX29uY2UubWFrZU9uY2VLaXQobWFrZU9uY2VLaXQpO1xuaGFyZGVuKG1ha2VPbmNlS2l0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VPbmNlS2l0IjpbIm1ha2VPbmNlS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAASF9kdRDAAAUQwAADIAAABAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL3ByZXBhcmUtYXR0ZW51YXRvci5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9jb21tb24vZnJvbS11bmlxdWUtZW50cmllcy5qcyIsIkBlbmRvL3BhdHRlcm5zIiwiLi9oZWFwLmpzIl0sImV4cG9ydHMiOlsiYXR0ZW51YXRlT25lIiwicHJlcGFyZUF0dGVudWF0b3JNYWtlciIsIndyYXBwZXJNZXRob2RzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxxLGZyb21VbmlxdWVFbnRyaWVzLE0sbWFrZUhlYXBab25lOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzXCIsIFtbXCJmcm9tVW5pcXVlRW50cmllc1wiLFskaM2PX2EgPT4gKGZyb21VbmlxdWVFbnRyaWVzID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi9oZWFwLmpzXCIsIFtbXCJtYWtlSGVhcFpvbmVcIixbJGjNj19hID0+IChtYWtlSGVhcFpvbmUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuLy9cbi8vXG4vL1xuLy9cblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHdyYXBwZXJNZXRob2RzID0gKFxuICB3cmFwcGVyS2luZE5hbWUsXG4gIHVNZXRob2ROYW1lcyxcbiAgZXh0cmFNZXRob2RzID0ge30sXG4pID0+XG4gIGhhcmRlbih7XG4gICAgLi4uZnJvbVVuaXF1ZUVudHJpZXMoXG4gICAgICB1TWV0aG9kTmFtZXMubWFwKG5hbWUgPT4gW1xuICAgICAgICBuYW1lLFxuICAgICAgICB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBbbmFtZV0oLi4uYXJncykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IHsgdW5kZXJseWluZyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdW5kZXJseWluZyAhPT0gdW5kZWZpbmVkIHx8IEZhaWxgJHtxKHdyYXBwZXJLaW5kTmFtZSl9IHJldm9rZWRgO1xuXG4gICAgICAgICAgICByZXR1cm4gdW5kZXJseWluZ1tuYW1lXSguLi5hcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtuYW1lXSxcbiAgICAgIF0pLFxuICAgICksXG4gICAgLi4uZXh0cmFNZXRob2RzLFxuICB9KTskaM2PX29uY2Uud3JhcHBlck1ldGhvZHMod3JhcHBlck1ldGhvZHMpO1xuaGFyZGVuKHdyYXBwZXJNZXRob2RzKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQXR0ZW51YXRvck1ha2VyID0gKFxuICB6b25lLFxuICB1S2luZE5hbWUsXG4gIHVNZXRob2ROYW1lcyxcbiAgb3B0aW9ucyA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB1SW50ZXJmYWNlTmFtZSA9IHVLaW5kTmFtZSxcbiAgICBleHRyYU1ldGhvZEd1YXJkcyA9IHt9LFxuICAgIGV4dHJhTWV0aG9kcyA9IHt9LFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgQXR0ZW51YXRvckkgPSBNLmludGVyZmFjZShcbiAgICBgJHt1SW50ZXJmYWNlTmFtZX1fYXR0ZW51YXRvcmAsXG4gICAgZXh0cmFNZXRob2RHdWFyZHMsXG4gICAgeyBkZWZhdWx0R3VhcmRzOiAncmF3JyB9LFxuICApO1xuXG4gIGNvbnN0IGF0dGVudWF0b3JLaW5kTmFtZSA9IGAke3VLaW5kTmFtZX1fYXR0ZW51YXRvcmA7XG5cbiAgcmV0dXJuIHpvbmUuZXhvQ2xhc3MoXG4gICAgYXR0ZW51YXRvcktpbmROYW1lLFxuICAgIEF0dGVudWF0b3JJLFxuICAgIHVuZGVybHlpbmcgPT4gKHsgdW5kZXJseWluZyB9KSxcbiAgICB3cmFwcGVyTWV0aG9kcyhhdHRlbnVhdG9yS2luZE5hbWUsIHVNZXRob2ROYW1lcywgZXh0cmFNZXRob2RzKSxcbiAgICB7XG4gICAgICBzdGF0ZVNoYXBlOiB7IHVuZGVybHlpbmc6IE0ub3B0KE0ucmVtb3RhYmxlKCd1bmRlcmx5aW5nJykpIH0sXG4gICAgfSxcbiAgKTtcbn07JGjNj19vbmNlLnByZXBhcmVBdHRlbnVhdG9yTWFrZXIocHJlcGFyZUF0dGVudWF0b3JNYWtlcik7XG5oYXJkZW4ocHJlcGFyZUF0dGVudWF0b3JNYWtlcik7XG5cbi8vXG5jb25zdCBSZW1vdGFibGVQcmVmaXhSRSA9IC9eKEFsbGVnZWQ6IHxEZWJ1Z05hbWU6ICkvO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhdHRlbnVhdGVPbmUgPSAodW5kZXJseWluZywgdU1ldGhvZE5hbWVzLCBvcHRpb25zID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IGhlYXBab25lID0gbWFrZUhlYXBab25lKCk7XG4gIGNvbnN0IHVLaW5kTmFtZSA9ICh1bmRlcmx5aW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gfHwgJ1VuZGVybHlpbmcnKS5yZXBsYWNlKFxuICAgIFJlbW90YWJsZVByZWZpeFJFLFxuICAgICcnLFxuICApO1xuICBjb25zdCBtYWtlQXR0ZW51YXRvciA9IHByZXBhcmVBdHRlbnVhdG9yTWFrZXIoXG4gICAgaGVhcFpvbmUsXG4gICAgdUtpbmROYW1lLFxuICAgIHVNZXRob2ROYW1lcyxcbiAgICBvcHRpb25zLFxuICApO1xuICByZXR1cm4gbWFrZUF0dGVudWF0b3IodW5kZXJseWluZyk7XG59OyRozY9fb25jZS5hdHRlbnVhdGVPbmUoYXR0ZW51YXRlT25lKTtcbmhhcmRlbihhdHRlbnVhdGVPbmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsid3JhcHBlck1ldGhvZHMiOlsid3JhcHBlck1ldGhvZHMiXSwicHJlcGFyZUF0dGVudWF0b3JNYWtlciI6WyJwcmVwYXJlQXR0ZW51YXRvck1ha2VyIl0sImF0dGVudWF0ZU9uZSI6WyJhdHRlbnVhdGVPbmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAiVQQhYEKAACBCgAAMQAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvcHJlcGFyZS1yZXZvY2FibGUuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiLCIuL3ByZXBhcmUtYXR0ZW51YXRvci5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVSZXZvY2FibGVNYWtlcktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE0sd3JhcHBlck1ldGhvZHM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCIuL3ByZXBhcmUtYXR0ZW51YXRvci5qc1wiLCBbW1wid3JhcHBlck1ldGhvZHNcIixbJGjNj19hID0+ICh3cmFwcGVyTWV0aG9kcyA9ICRozY9fYSldXV1dXSk7XG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVSZXZvY2FibGVNYWtlcktpdCA9IChcbiAgem9uZSxcbiAgdUtpbmROYW1lLFxuICB1TWV0aG9kTmFtZXMsXG4gIG9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCB7XG4gICAgdUludGVyZmFjZU5hbWUgPSB1S2luZE5hbWUsXG4gICAgZXh0cmFNZXRob2RHdWFyZHMgPSB7fSxcbiAgICBleHRyYU1ldGhvZHMgPSB7fSxcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IFJldm9jYWJsZUlLaXQgPSBoYXJkZW4oe1xuICAgIHJldm9rZXI6IE0uaW50ZXJmYWNlKGAke3VJbnRlcmZhY2VOYW1lfV9yZXZva2VyYCwge1xuICAgICAgcmV2b2tlOiBNLmNhbGwoKS5yZXR1cm5zKE0uYm9vbGVhbigpKSxcbiAgICB9KSxcbiAgICByZXZvY2FibGU6IE0uaW50ZXJmYWNlKGAke3VJbnRlcmZhY2VOYW1lfV9yZXZvY2FibGVgLCBleHRyYU1ldGhvZEd1YXJkcywge1xuICAgICAgZGVmYXVsdEd1YXJkczogJ3JhdycsXG4gICAgfSksXG4gIH0pO1xuXG4gIGNvbnN0IHJldm9jYWJsZUtpbmROYW1lID0gYCR7dUtpbmROYW1lfV9jYXJldGFrZXJgO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgYW1wbGlmaWVyO1xuXG4gIGNvbnN0IG1ha2VSZXZvY2FibGVLaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgIHJldm9jYWJsZUtpbmROYW1lLFxuICAgIFJldm9jYWJsZUlLaXQsXG4gICAgdW5kZXJseWluZyA9PiAoeyB1bmRlcmx5aW5nIH0pLFxuICAgIHtcbiAgICAgIHJldm9rZXI6IHtcbiAgICAgICAgcmV2b2tlKCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgaWYgKHN0YXRlLnVuZGVybHlpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZS51bmRlcmx5aW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJldm9jYWJsZTogd3JhcHBlck1ldGhvZHMocmV2b2NhYmxlS2luZE5hbWUsIHVNZXRob2ROYW1lcywgZXh0cmFNZXRob2RzKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0YXRlU2hhcGU6IHsgdW5kZXJseWluZzogTS5vcHQoTS5yZW1vdGFibGUoJ3VuZGVybHlpbmcnKSkgfSxcbiAgICAgIHJlY2VpdmVBbXBsaWZpZXI6IGFtcCA9PiB7XG4gICAgICAgIGFtcGxpZmllciA9IGFtcDtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCBtYWtlUmV2b2NhYmxlID0gdW5kZXJseWluZyA9PiBtYWtlUmV2b2NhYmxlS2l0KHVuZGVybHlpbmcpLnJldm9jYWJsZTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IHJldm9rZSA9IHJldm9jYWJsZSA9PiB7XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgZmFjZXRzID0gYW1wbGlmaWVyKHJldm9jYWJsZSk7XG4gICAgaWYgKGZhY2V0cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmYWNldHMucmV2b2tlci5yZXZva2UoKTtcbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICByZXZva2UsXG4gICAgbWFrZVJldm9jYWJsZSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgbWFrZVJldm9jYWJsZUtpdCxcbiAgfSk7XG59OyRozY9fb25jZS5wcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQocHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0KTtcbmhhcmRlbihwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0IjpbInByZXBhcmVSZXZvY2FibGVNYWtlcktpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACVS2X92wkAANsJAAAtAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy93YXRjaC1wcm9taXNlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL3BhdHRlcm5zIiwiQGVuZG8vZmFyIl0sImV4cG9ydHMiOlsiUHJvbWlzZVdhdGNoZXJGdWxmaWxsZWRJIiwiUHJvbWlzZVdhdGNoZXJIYW5kbGVyIiwiUHJvbWlzZVdhdGNoZXJJIiwiUHJvbWlzZVdhdGNoZXJSZWplY3RlZEkiLCJ3YXRjaFByb21pc2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLE0sRTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuY29uc3QgeyBhcHBseSB9ID0gUmVmbGVjdDtcblxuLypcblxuICovXG4gICAgICAgY29uc3QgUHJvbWlzZVdhdGNoZXJIYW5kbGVyID0gTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucygpO1xuXG4vKlxuXG4gKi8kaM2PX29uY2UuUHJvbWlzZVdhdGNoZXJIYW5kbGVyKFByb21pc2VXYXRjaGVySGFuZGxlcik7XG4gICAgICAgY29uc3QgUHJvbWlzZVdhdGNoZXJJID0gTS5pbnRlcmZhY2UoJ1Byb21pc2VXYXRjaGVyJywge1xuICBvbkZ1bGZpbGxlZDogUHJvbWlzZVdhdGNoZXJIYW5kbGVyLFxuICBvblJlamVjdGVkOiBQcm9taXNlV2F0Y2hlckhhbmRsZXIsXG59KTtcblxuLypcblxuICovJGjNj19vbmNlLlByb21pc2VXYXRjaGVySShQcm9taXNlV2F0Y2hlckkpO1xuICAgICAgIGNvbnN0IFByb21pc2VXYXRjaGVyRnVsZmlsbGVkSSA9IE0uaW50ZXJmYWNlKCdQcm9taXNlV2F0Y2hlckZ1bGZpbGxlZCcsIHtcbiAgb25GdWxmaWxsZWQ6IFByb21pc2VXYXRjaGVySGFuZGxlcixcbn0pO1xuXG4vKlxuXG4gKi8kaM2PX29uY2UuUHJvbWlzZVdhdGNoZXJGdWxmaWxsZWRJKFByb21pc2VXYXRjaGVyRnVsZmlsbGVkSSk7XG4gICAgICAgY29uc3QgUHJvbWlzZVdhdGNoZXJSZWplY3RlZEkgPSBNLmludGVyZmFjZSgnUHJvbWlzZVdhdGNoZXJSZWplY3RlZCcsIHtcbiAgb25SZWplY3RlZDogUHJvbWlzZVdhdGNoZXJIYW5kbGVyLFxufSk7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLlByb21pc2VXYXRjaGVyUmVqZWN0ZWRJKFByb21pc2VXYXRjaGVyUmVqZWN0ZWRJKTtcbmNvbnN0IGNhbGxNZU1heWJlID0gKHRoYXQsIHByb3AsIHBvc3RBcmdzKSA9PiB7XG4gIGNvbnN0IGZuID0gdGhhdFtwcm9wXTtcbiAgaWYgKCFmbikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXNzZXJ0LnR5cGVvZihmbiwgJ2Z1bmN0aW9uJyk7XG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IHdyYXBwZWQgPSBhcmcgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICBhcHBseShmbiwgdGhhdCwgW2FyZywgLi4ucG9zdEFyZ3NdKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3Qgd2F0Y2hQcm9taXNlID0gKHAsIHdhdGNoZXIsIC4uLndhdGNoZXJBcmdzKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZShwKSA9PT0gcCB8fCBGYWlsYHdhdGNoUHJvbWlzZSBvbmx5IHdhdGNoZXMgcHJvbWlzZXNgO1xuICBjb25zdCBvbkZ1bGZpbGxlZCA9IGNhbGxNZU1heWJlKHdhdGNoZXIsICdvbkZ1bGZpbGxlZCcsIHdhdGNoZXJBcmdzKTtcbiAgY29uc3Qgb25SZWplY3RlZCA9IGNhbGxNZU1heWJlKHdhdGNoZXIsICdvblJlamVjdGVkJywgd2F0Y2hlckFyZ3MpO1xuICBvbkZ1bGZpbGxlZCB8fFxuICAgIG9uUmVqZWN0ZWQgfHxcbiAgICBGYWlsYHByb21pc2Ugd2F0Y2hlciBtdXN0IGltcGxlbWVudCBhdCBsZWFzdCBvbmUgaGFuZGxlciBtZXRob2RgO1xuICB2b2lkIEUud2hlbihwLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG59OyRozY9fb25jZS53YXRjaFByb21pc2Uod2F0Y2hQcm9taXNlKTtcbmhhcmRlbih3YXRjaFByb21pc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUHJvbWlzZVdhdGNoZXJIYW5kbGVyIjpbIlByb21pc2VXYXRjaGVySGFuZGxlciJdLCJQcm9taXNlV2F0Y2hlckkiOlsiUHJvbWlzZVdhdGNoZXJJIl0sIlByb21pc2VXYXRjaGVyRnVsZmlsbGVkSSI6WyJQcm9taXNlV2F0Y2hlckZ1bGZpbGxlZEkiXSwiUHJvbWlzZVdhdGNoZXJSZWplY3RlZEkiOlsiUHJvbWlzZVdhdGNoZXJSZWplY3RlZEkiXSwid2F0Y2hQcm9taXNlIjpbIndhdGNoUHJvbWlzZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABsJLBqFgIAABYCAAAoAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3pvbmUtaGVscGVycy5qc3siaW1wb3J0cyI6WyIuL3NyYy9wcmVwYXJlLXJldm9jYWJsZS5qcyIsIi4vc3JjL3ByZXBhcmUtYXR0ZW51YXRvci5qcyJdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbIi4vc3JjL3ByZXBhcmUtYXR0ZW51YXRvci5qcyIsIi4vc3JjL3ByZXBhcmUtcmV2b2NhYmxlLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL3ByZXBhcmUtcmV2b2NhYmxlLmpzXCIsIFtdXSxbXCIuL3NyYy9wcmVwYXJlLWF0dGVudWF0b3IuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAApD2yLB4YAAAeGAAAMgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vYmluYXJ5LmpzeyJpbXBvcnRzIjpbIi4vdXRmOC5qcyIsIi4vdmFyaW50LmpzIl0sImV4cG9ydHMiOlsiQmluYXJ5UmVhZGVyIiwiQmluYXJ5V3JpdGVyIiwiV2lyZVR5cGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0LGkscyxlLG4scixoLG8sdSxhLGwscCxkLGYsYyx5LHg7JGjNj19pbXBvcnRzKFtbXCIuL3V0ZjguanNcIiwgW1tcInV0ZjhMZW5ndGhcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dLFtcInV0ZjhSZWFkXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXSxbXCJ1dGY4V3JpdGVcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi92YXJpbnQuanNcIiwgW1tcImludDY0VG9TdHJpbmdcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcInJlYWRJbnQzMlwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wicmVhZFVJbnQzMlwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1widUludDY0VG9TdHJpbmdcIixbJGjNj19hID0+IChoID0gJGjNj19hKV1dLFtcInZhcmludDMycmVhZFwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV0sW1widmFyaW50NjRyZWFkXCIsWyRozY9fYSA9PiAodSA9ICRozY9fYSldXSxbXCJ3cml0ZVZhcmludDMyXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXSxbXCJ3cml0ZVZhcmludDY0XCIsWyRozY9fYSA9PiAobCA9ICRozY9fYSldXSxbXCJpbnQ2NEZyb21TdHJpbmdcIixbJGjNj19hID0+IChwID0gJGjNj19hKV1dLFtcImludDY0TGVuZ3RoXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXSxbXCJ3cml0ZUZpeGVkMzJcIixbJGjNj19hID0+IChmID0gJGjNj19hKV1dLFtcIndyaXRlQnl0ZVwiLFskaM2PX2EgPT4gKGMgPSAkaM2PX2EpXV0sW1wienpEZWNvZGVcIixbJGjNj19hID0+ICh5ID0gJGjNj19hKV1dLFtcInp6RW5jb2RlXCIsWyRozY9fYSA9PiAoeCA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY82PX1dpcmVUeXBlOyRozY9fbGl2ZS5XaXJlVHlwZSgkY82PX1dpcmVUeXBlKTshZnVuY3Rpb24odCl7dFt0LlZhcmludD0wXT1cIlZhcmludFwiLHRbdC5GaXhlZDY0PTFdPVwiRml4ZWQ2NFwiLHRbdC5CeXRlcz0yXT1cIkJ5dGVzXCIsdFt0LkZpeGVkMzI9NV09XCJGaXhlZDMyXCJ9KFdpcmVUeXBlfHwoV2lyZVR5cGU9e30pKTtjbGFzcyBCaW5hcnlSZWFkZXJ7YnVmO3Bvczt0eXBlO2xlbjthc3NlcnRCb3VuZHMoKXtpZih0aGlzLnBvcz50aGlzLmxlbil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInByZW1hdHVyZSBFT0ZcIil9Y29uc3RydWN0b3IodCl7dGhpcy5idWY9dD9uZXcgVWludDhBcnJheSh0KTpuZXcgVWludDhBcnJheSgwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuPXRoaXMuYnVmLmxlbmd0aH10YWcoKXtjb25zdCB0PXRoaXMudWludDMyKCksaT10Pj4+MyxzPTcmdDtpZihpPD0wfHxzPDB8fHM+NSl0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHRhZzogZmllbGQgbm8gXCIraStcIiB3aXJlIHR5cGUgXCIrcyk7cmV0dXJuW2kscyx0XX1za2lwKHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtpZih0aGlzLnBvcyt0PnRoaXMubGVuKXRocm93IEIodGhpcyx0KTt0aGlzLnBvcys9dH1lbHNlIGRve2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBCKHRoaXMpfXdoaWxlKDEyOCZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk7cmV0dXJuIHRoaXN9c2tpcFR5cGUodCl7c3dpdGNoKHQpe2Nhc2UgV2lyZVR5cGUuVmFyaW50OnRoaXMuc2tpcCgpO2JyZWFrO2Nhc2UgV2lyZVR5cGUuRml4ZWQ2NDp0aGlzLnNraXAoOCk7YnJlYWs7Y2FzZSBXaXJlVHlwZS5CeXRlczp0aGlzLnNraXAodGhpcy51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmZvcig7NCE9KHQ9NyZ0aGlzLnVpbnQzMigpKTspdGhpcy5za2lwVHlwZSh0KTticmVhaztjYXNlIFdpcmVUeXBlLkZpeGVkMzI6dGhpcy5za2lwKDQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJpbnZhbGlkIHdpcmUgdHlwZSBcIit0K1wiIGF0IG9mZnNldCBcIit0aGlzLnBvcyl9cmV0dXJuIHRoaXN9dWludDMyKCl7cmV0dXJuIG8uYmluZCh0aGlzKSgpfWludDMyKCl7cmV0dXJuIDB8dGhpcy51aW50MzIoKX1zaW50MzIoKXtjb25zdCB0PXRoaXMudWludDMyKCk7cmV0dXJuIHQlMj09MT8odCsxKS8tMjp0LzJ9Zml4ZWQzMigpe2NvbnN0IHQ9cih0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9c2ZpeGVkMzIoKXtjb25zdCB0PW4odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fWludDY0KCl7Y29uc3RbdCxpXT11LmJpbmQodGhpcykoKTtyZXR1cm4gQmlnSW50KGUodCxpKSl9dWludDY0KCl7Y29uc3RbdCxpXT11LmJpbmQodGhpcykoKTtyZXR1cm4gQmlnSW50KGgodCxpKSl9c2ludDY0KCl7bGV0W3QsaV09dS5iaW5kKHRoaXMpKCk7cmV0dXJuW3QsaV09eSh0LGkpLEJpZ0ludChlKHQsaSkpfWZpeGVkNjQoKXtjb25zdCB0PXRoaXMuc2ZpeGVkMzIoKSxpPXRoaXMuc2ZpeGVkMzIoKTtyZXR1cm4gQmlnSW50KGgodCxpKSl9c2ZpeGVkNjQoKXtjb25zdCB0PXRoaXMuc2ZpeGVkMzIoKSxpPXRoaXMuc2ZpeGVkMzIoKTtyZXR1cm4gQmlnSW50KGUodCxpKSl9ZmxvYXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJmbG9hdCBub3Qgc3VwcG9ydGVkXCIpfWRvdWJsZSgpe3Rocm93IG5ldyBFcnJvcihcImRvdWJsZSBub3Qgc3VwcG9ydGVkXCIpfWJvb2woKXtjb25zdFt0LGldPXUuYmluZCh0aGlzKSgpO3JldHVybiAwIT09dHx8MCE9PWl9Ynl0ZXMoKXtjb25zdCB0PXRoaXMudWludDMyKCksaT10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3MrPXQsdGhpcy5hc3NlcnRCb3VuZHMoKSx0aGlzLmJ1Zi5zdWJhcnJheShpLGkrdCl9c3RyaW5nKCl7Y29uc3QgdD10aGlzLmJ5dGVzKCk7cmV0dXJuIGkodCwwLHQubGVuZ3RoKX19JGjNj19vbmNlLkJpbmFyeVJlYWRlcihCaW5hcnlSZWFkZXIpO2NsYXNzIHd7Zm47bGVuO3ZhbDtuZXh0O2NvbnN0cnVjdG9yKHQsaSxzKXt0aGlzLmZuPXQsdGhpcy5sZW49aSx0aGlzLnZhbD1zfXByb2NlZWQodCxpKXt0aGlzLmZuJiZ0aGlzLmZuKHRoaXMudmFsLHQsaSl9fWNsYXNzIGJ7aGVhZDt0YWlsO2xlbjtuZXh0O2NvbnN0cnVjdG9yKHQpe3RoaXMuaGVhZD10LmhlYWQsdGhpcy50YWlsPXQudGFpbCx0aGlzLmxlbj10Lmxlbix0aGlzLm5leHQ9dC5zdGF0ZXN9fWNsYXNzIEJpbmFyeVdyaXRlcntsZW49MDtoZWFkO3RhaWw7c3RhdGVzO2NvbnN0cnVjdG9yKCl7dGhpcy5oZWFkPW5ldyB3KG51bGwsMCwwKSx0aGlzLnRhaWw9dGhpcy5oZWFkLHRoaXMuc3RhdGVzPW51bGx9c3RhdGljIGNyZWF0ZSgpe3JldHVybiBuZXcgQmluYXJ5V3JpdGVyfXN0YXRpYyBhbGxvYyh0KXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9mdW5jdGlvbih0LGkscyl7Y29uc3QgZT1zfHw4MTkyLG49ZT4+PjE7bGV0IHI9bnVsbCxoPWU7cmV0dXJuIGZ1bmN0aW9uKHMpe2lmKHM8MXx8cz5uKXJldHVybiB0KHMpO2grcz5lJiYocj10KGUpLGg9MCk7Y29uc3Qgbz1pLmNhbGwocixoLGgrPXMpO3JldHVybiA3JmgmJihoPTErKDd8aCkpLG99fSgodD0+bmV3IFVpbnQ4QXJyYXkodCkpLFVpbnQ4QXJyYXkucHJvdG90eXBlLnN1YmFycmF5KSh0KTpuZXcgQXJyYXkodCl9X3B1c2godCxpLHMpe3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IHcodCxpLHMpLHRoaXMubGVuKz1pLHRoaXN9ZmluaXNoKCl7bGV0IHQ9dGhpcy5oZWFkLm5leHQsaT0wO2NvbnN0IHM9QmluYXJ5V3JpdGVyLmFsbG9jKHRoaXMubGVuKTtmb3IoO3Q7KXQucHJvY2VlZChzLGkpLGkrPXQubGVuLHQ9dC5uZXh0O3JldHVybiBzfWZvcmsoKXtyZXR1cm4gdGhpcy5zdGF0ZXM9bmV3IGIodGhpcyksdGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgdyhudWxsLDAsMCksdGhpcy5sZW49MCx0aGlzfXJlc2V0KCl7cmV0dXJuIHRoaXMuc3RhdGVzPyh0aGlzLmhlYWQ9dGhpcy5zdGF0ZXMuaGVhZCx0aGlzLnRhaWw9dGhpcy5zdGF0ZXMudGFpbCx0aGlzLmxlbj10aGlzLnN0YXRlcy5sZW4sdGhpcy5zdGF0ZXM9dGhpcy5zdGF0ZXMubmV4dCk6KHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IHcobnVsbCwwLDApLHRoaXMubGVuPTApLHRoaXN9bGRlbGltKCl7Y29uc3QgdD10aGlzLmhlYWQsaT10aGlzLnRhaWwscz10aGlzLmxlbjtyZXR1cm4gdGhpcy5yZXNldCgpLnVpbnQzMihzKSxzJiYodGhpcy50YWlsLm5leHQ9dC5uZXh0LHRoaXMudGFpbD1pLHRoaXMubGVuKz1zKSx0aGlzfXRhZyh0LGkpe3JldHVybiB0aGlzLnVpbnQzMigodDw8M3xpKT4+PjApfXVpbnQzMih0KXtyZXR1cm4gdGhpcy5sZW4rPSh0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IHcoYSwodD4+Pj0wKTwxMjg/MTp0PDE2Mzg0PzI6dDwyMDk3MTUyPzM6dDwyNjg0MzU0NTY/NDo1LHQpKS5sZW4sdGhpc31pbnQzMih0KXtyZXR1cm4gdDwwP3RoaXMuX3B1c2gobCwxMCxwKHQudG9TdHJpbmcoKSkpOnRoaXMudWludDMyKHQpfXNpbnQzMih0KXtyZXR1cm4gdGhpcy51aW50MzIoKHQ8PDFedD4+MzEpPj4+MCl9aW50NjQodCl7Y29uc3R7bG86aSxoaTpzfT1wKHQudG9TdHJpbmcoKSk7cmV0dXJuIHRoaXMuX3B1c2gobCxkKGkscykse2xvOmksaGk6c30pfXVpbnQ2ND1CaW5hcnlXcml0ZXIucHJvdG90eXBlLmludDY0O3NpbnQ2NCh0KXtsZXR7bG86aSxoaTpzfT1wKHQudG9TdHJpbmcoKSk7cmV0dXJuW2ksc109eChpLHMpLHRoaXMuX3B1c2gobCxkKGkscykse2xvOmksaGk6c30pfWZpeGVkNjQodCl7Y29uc3R7bG86aSxoaTpzfT1wKHQudG9TdHJpbmcoKSk7cmV0dXJuIHRoaXMuX3B1c2goZiw0LGkpLl9wdXNoKGYsNCxzKX1zZml4ZWQ2ND1CaW5hcnlXcml0ZXIucHJvdG90eXBlLmZpeGVkNjQ7Ym9vbCh0KXtyZXR1cm4gdGhpcy5fcHVzaChjLDEsdD8xOjApfWZpeGVkMzIodCl7cmV0dXJuIHRoaXMuX3B1c2goZiw0LHQ+Pj4wKX1zZml4ZWQzMj1CaW5hcnlXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7ZmxvYXQodCl7dGhyb3cgbmV3IEVycm9yKFwiZmxvYXQgbm90IHN1cHBvcnRlZFwiK3QpfWRvdWJsZSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJkb3VibGUgbm90IHN1cHBvcnRlZFwiK3QpfWJ5dGVzKHQpe2NvbnN0IGk9dC5sZW5ndGg+Pj4wO3JldHVybiBpP3RoaXMudWludDMyKGkpLl9wdXNoKGcsaSx0KTp0aGlzLl9wdXNoKGMsMSwwKX1zdHJpbmcoaSl7Y29uc3QgZT10KGkpO3JldHVybiBlP3RoaXMudWludDMyKGUpLl9wdXNoKHMsZSxpKTp0aGlzLl9wdXNoKGMsMSwwKX19JGjNj19vbmNlLkJpbmFyeVdyaXRlcihCaW5hcnlXcml0ZXIpO2Z1bmN0aW9uIGcodCxpLHMpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5KWkuc2V0KHQscyk7ZWxzZSBmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSlpW3MrZV09dFtlXX1mdW5jdGlvbiBCKHQsaSl7cmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiK3QucG9zK1wiICsgXCIrKGl8fDEpK1wiID4gXCIrdC5sZW4pfVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiV2lyZVR5cGUiOlsiV2lyZVR5cGUiLHRydWVdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkJpbmFyeVJlYWRlciI6WyJCaW5hcnlSZWFkZXIiXSwiQmluYXJ5V3JpdGVyIjpbIkJpbmFyeVdyaXRlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB/I4WK8R0AAPEdAAA9AAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiTXNnRGVwb3NpdEZvckJ1cm4iLCJNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlIiwiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyIiwiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBuLHQsZSxvLGk7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcigpe3JldHVybntmcm9tOlwiXCIsYW1vdW50OlwiXCIsZGVzdGluYXRpb25Eb21haW46MCxtaW50UmVjaXBpZW50Om5ldyBVaW50OEFycmF5LGJ1cm5Ub2tlbjpcIlwifX0gICAgICAgY29uc3QgTXNnRGVwb3NpdEZvckJ1cm49e3R5cGVVcmw6XCIvY2lyY2xlLmNjdHAudjEuTXNnRGVwb3NpdEZvckJ1cm5cIixlbmNvZGU6KG4sZT10LmNyZWF0ZSgpKT0+KFwiXCIhPT1uLmZyb20mJmUudWludDMyKDEwKS5zdHJpbmcobi5mcm9tKSxcIlwiIT09bi5hbW91bnQmJmUudWludDMyKDE4KS5zdHJpbmcobi5hbW91bnQpLDAhPT1uLmRlc3RpbmF0aW9uRG9tYWluJiZlLnVpbnQzMigyNCkudWludDMyKG4uZGVzdGluYXRpb25Eb21haW4pLDAhPT1uLm1pbnRSZWNpcGllbnQubGVuZ3RoJiZlLnVpbnQzMigzNCkuYnl0ZXMobi5taW50UmVjaXBpZW50KSxcIlwiIT09bi5idXJuVG9rZW4mJmUudWludDMyKDQyKS5zdHJpbmcobi5idXJuVG9rZW4pLGUpLGRlY29kZSh0LGUpe2NvbnN0IG89dCBpbnN0YW5jZW9mIG4/dDpuZXcgbih0KTtsZXQgaT12b2lkIDA9PT1lP28ubGVuOm8ucG9zK2U7Y29uc3Qgcz1yKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3Qgbj1vLnVpbnQzMigpO3N3aXRjaChuPj4+Myl7Y2FzZSAxOnMuZnJvbT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpzLmFtb3VudD1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpzLmRlc3RpbmF0aW9uRG9tYWluPW8udWludDMyKCk7YnJlYWs7Y2FzZSA0OnMubWludFJlY2lwaWVudD1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSA1OnMuYnVyblRva2VuPW8uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmbil9fXJldHVybiBzfSxmcm9tSlNPTjpuPT4oe2Zyb206ZShuLmZyb20pP1N0cmluZyhuLmZyb20pOlwiXCIsYW1vdW50OmUobi5hbW91bnQpP1N0cmluZyhuLmFtb3VudCk6XCJcIixkZXN0aW5hdGlvbkRvbWFpbjplKG4uZGVzdGluYXRpb25Eb21haW4pP051bWJlcihuLmRlc3RpbmF0aW9uRG9tYWluKTowLG1pbnRSZWNpcGllbnQ6ZShuLm1pbnRSZWNpcGllbnQpP28obi5taW50UmVjaXBpZW50KTpuZXcgVWludDhBcnJheSxidXJuVG9rZW46ZShuLmJ1cm5Ub2tlbik/U3RyaW5nKG4uYnVyblRva2VuKTpcIlwifSksdG9KU09OKG4pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW4uZnJvbSYmKHQuZnJvbT1uLmZyb20pLHZvaWQgMCE9PW4uYW1vdW50JiYodC5hbW91bnQ9bi5hbW91bnQpLHZvaWQgMCE9PW4uZGVzdGluYXRpb25Eb21haW4mJih0LmRlc3RpbmF0aW9uRG9tYWluPU1hdGgucm91bmQobi5kZXN0aW5hdGlvbkRvbWFpbikpLHZvaWQgMCE9PW4ubWludFJlY2lwaWVudCYmKHQubWludFJlY2lwaWVudD1pKHZvaWQgMCE9PW4ubWludFJlY2lwaWVudD9uLm1pbnRSZWNpcGllbnQ6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1uLmJ1cm5Ub2tlbiYmKHQuYnVyblRva2VuPW4uYnVyblRva2VuKSx0fSxmcm9tUGFydGlhbChuKXtjb25zdCB0PXIoKTtyZXR1cm4gdC5mcm9tPW4uZnJvbT8/XCJcIix0LmFtb3VudD1uLmFtb3VudD8/XCJcIix0LmRlc3RpbmF0aW9uRG9tYWluPW4uZGVzdGluYXRpb25Eb21haW4/PzAsdC5taW50UmVjaXBpZW50PW4ubWludFJlY2lwaWVudD8/bmV3IFVpbnQ4QXJyYXksdC5idXJuVG9rZW49bi5idXJuVG9rZW4/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm49Pk1zZ0RlcG9zaXRGb3JCdXJuLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49Pk1zZ0RlcG9zaXRGb3JCdXJuLmVuY29kZShuKS5maW5pc2goKSx0b1Byb3RvTXNnOm49Pih7dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVyblwiLHZhbHVlOk1zZ0RlcG9zaXRGb3JCdXJuLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVwb3NpdEZvckJ1cm4oTXNnRGVwb3NpdEZvckJ1cm4pO2Z1bmN0aW9uIHMoKXtyZXR1cm57bm9uY2U6QmlnSW50KDApfX1jb25zdCBNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlPXt0eXBlVXJsOlwiL2NpcmNsZS5jY3RwLnYxLk1zZ0RlcG9zaXRGb3JCdXJuUmVzcG9uc2VcIixlbmNvZGU6KG4sZT10LmNyZWF0ZSgpKT0+KG4ubm9uY2UhPT1CaWdJbnQoMCkmJmUudWludDMyKDgpLnVpbnQ2NChuLm5vbmNlKSxlKSxkZWNvZGUodCxlKXtjb25zdCBvPXQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4odCk7bGV0IGk9dm9pZCAwPT09ZT9vLmxlbjpvLnBvcytlO2NvbnN0IHI9cygpO2Zvcig7by5wb3M8aTspe2NvbnN0IG49by51aW50MzIoKTtpZihuPj4+Mz09MSlyLm5vbmNlPW8udWludDY0KCk7ZWxzZSBvLnNraXBUeXBlKDcmbil9cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7bm9uY2U6ZShuLm5vbmNlKT9CaWdJbnQobi5ub25jZS50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04obil7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09bi5ub25jZSYmKHQubm9uY2U9KG4ubm9uY2V8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwobil7Y29uc3QgdD1zKCk7cmV0dXJuIHQubm9uY2U9dm9pZCAwIT09bi5ub25jZSYmbnVsbCE9PW4ubm9uY2U/QmlnSW50KG4ubm9uY2UudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzpuPT5Nc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49Pk1zZ0RlcG9zaXRGb3JCdXJuUmVzcG9uc2UuZW5jb2RlKG4pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bj0+KHt0eXBlVXJsOlwiL2NpcmNsZS5jY3RwLnYxLk1zZ0RlcG9zaXRGb3JCdXJuUmVzcG9uc2VcIix2YWx1ZTpNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVwb3NpdEZvckJ1cm5SZXNwb25zZShNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlKTtmdW5jdGlvbiBhKCl7cmV0dXJue2Zyb206XCJcIixhbW91bnQ6XCJcIixkZXN0aW5hdGlvbkRvbWFpbjowLG1pbnRSZWNpcGllbnQ6bmV3IFVpbnQ4QXJyYXksYnVyblRva2VuOlwiXCIsZGVzdGluYXRpb25DYWxsZXI6bmV3IFVpbnQ4QXJyYXl9fWNvbnN0IE1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlcj17dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJcIixlbmNvZGU6KG4sZT10LmNyZWF0ZSgpKT0+KFwiXCIhPT1uLmZyb20mJmUudWludDMyKDEwKS5zdHJpbmcobi5mcm9tKSxcIlwiIT09bi5hbW91bnQmJmUudWludDMyKDE4KS5zdHJpbmcobi5hbW91bnQpLDAhPT1uLmRlc3RpbmF0aW9uRG9tYWluJiZlLnVpbnQzMigyNCkudWludDMyKG4uZGVzdGluYXRpb25Eb21haW4pLDAhPT1uLm1pbnRSZWNpcGllbnQubGVuZ3RoJiZlLnVpbnQzMigzNCkuYnl0ZXMobi5taW50UmVjaXBpZW50KSxcIlwiIT09bi5idXJuVG9rZW4mJmUudWludDMyKDQyKS5zdHJpbmcobi5idXJuVG9rZW4pLDAhPT1uLmRlc3RpbmF0aW9uQ2FsbGVyLmxlbmd0aCYmZS51aW50MzIoNTApLmJ5dGVzKG4uZGVzdGluYXRpb25DYWxsZXIpLGUpLGRlY29kZSh0LGUpe2NvbnN0IG89dCBpbnN0YW5jZW9mIG4/dDpuZXcgbih0KTtsZXQgaT12b2lkIDA9PT1lP28ubGVuOm8ucG9zK2U7Y29uc3Qgcj1hKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3Qgbj1vLnVpbnQzMigpO3N3aXRjaChuPj4+Myl7Y2FzZSAxOnIuZnJvbT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmFtb3VudD1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpyLmRlc3RpbmF0aW9uRG9tYWluPW8udWludDMyKCk7YnJlYWs7Y2FzZSA0OnIubWludFJlY2lwaWVudD1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSA1OnIuYnVyblRva2VuPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA2OnIuZGVzdGluYXRpb25DYWxsZXI9by5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3Jm4pfX1yZXR1cm4gcn0sZnJvbUpTT046bj0+KHtmcm9tOmUobi5mcm9tKT9TdHJpbmcobi5mcm9tKTpcIlwiLGFtb3VudDplKG4uYW1vdW50KT9TdHJpbmcobi5hbW91bnQpOlwiXCIsZGVzdGluYXRpb25Eb21haW46ZShuLmRlc3RpbmF0aW9uRG9tYWluKT9OdW1iZXIobi5kZXN0aW5hdGlvbkRvbWFpbik6MCxtaW50UmVjaXBpZW50OmUobi5taW50UmVjaXBpZW50KT9vKG4ubWludFJlY2lwaWVudCk6bmV3IFVpbnQ4QXJyYXksYnVyblRva2VuOmUobi5idXJuVG9rZW4pP1N0cmluZyhuLmJ1cm5Ub2tlbik6XCJcIixkZXN0aW5hdGlvbkNhbGxlcjplKG4uZGVzdGluYXRpb25DYWxsZXIpP28obi5kZXN0aW5hdGlvbkNhbGxlcik6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04obil7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09bi5mcm9tJiYodC5mcm9tPW4uZnJvbSksdm9pZCAwIT09bi5hbW91bnQmJih0LmFtb3VudD1uLmFtb3VudCksdm9pZCAwIT09bi5kZXN0aW5hdGlvbkRvbWFpbiYmKHQuZGVzdGluYXRpb25Eb21haW49TWF0aC5yb3VuZChuLmRlc3RpbmF0aW9uRG9tYWluKSksdm9pZCAwIT09bi5taW50UmVjaXBpZW50JiYodC5taW50UmVjaXBpZW50PWkodm9pZCAwIT09bi5taW50UmVjaXBpZW50P24ubWludFJlY2lwaWVudDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PW4uYnVyblRva2VuJiYodC5idXJuVG9rZW49bi5idXJuVG9rZW4pLHZvaWQgMCE9PW4uZGVzdGluYXRpb25DYWxsZXImJih0LmRlc3RpbmF0aW9uQ2FsbGVyPWkodm9pZCAwIT09bi5kZXN0aW5hdGlvbkNhbGxlcj9uLmRlc3RpbmF0aW9uQ2FsbGVyOm5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwobil7Y29uc3QgdD1hKCk7cmV0dXJuIHQuZnJvbT1uLmZyb20/P1wiXCIsdC5hbW91bnQ9bi5hbW91bnQ/P1wiXCIsdC5kZXN0aW5hdGlvbkRvbWFpbj1uLmRlc3RpbmF0aW9uRG9tYWluPz8wLHQubWludFJlY2lwaWVudD1uLm1pbnRSZWNpcGllbnQ/P25ldyBVaW50OEFycmF5LHQuYnVyblRva2VuPW4uYnVyblRva2VuPz9cIlwiLHQuZGVzdGluYXRpb25DYWxsZXI9bi5kZXN0aW5hdGlvbkNhbGxlcj8/bmV3IFVpbnQ4QXJyYXksdH0sZnJvbVByb3RvTXNnOm49Pk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlci5kZWNvZGUobi52YWx1ZSksdG9Qcm90bzpuPT5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIuZW5jb2RlKG4pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bj0+KHt0eXBlVXJsOlwiL2NpcmNsZS5jY3RwLnYxLk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclwiLHZhbHVlOk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlci5lbmNvZGUobikuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlcihNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIpO2Z1bmN0aW9uIGMoKXtyZXR1cm57bm9uY2U6QmlnSW50KDApfX1jb25zdCBNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJSZXNwb25zZT17dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJSZXNwb25zZVwiLGVuY29kZToobixlPXQuY3JlYXRlKCkpPT4obi5ub25jZSE9PUJpZ0ludCgwKSYmZS51aW50MzIoOCkudWludDY0KG4ubm9uY2UpLGUpLGRlY29kZSh0LGUpe2NvbnN0IG89dCBpbnN0YW5jZW9mIG4/dDpuZXcgbih0KTtsZXQgaT12b2lkIDA9PT1lP28ubGVuOm8ucG9zK2U7Y29uc3Qgcj1jKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3Qgbj1vLnVpbnQzMigpO2lmKG4+Pj4zPT0xKXIubm9uY2U9by51aW50NjQoKTtlbHNlIG8uc2tpcFR5cGUoNyZuKX1yZXR1cm4gcn0sZnJvbUpTT046bj0+KHtub25jZTplKG4ubm9uY2UpP0JpZ0ludChuLm5vbmNlLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihuKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1uLm5vbmNlJiYodC5ub25jZT0obi5ub25jZXx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChuKXtjb25zdCB0PWMoKTtyZXR1cm4gdC5ub25jZT12b2lkIDAhPT1uLm5vbmNlJiZudWxsIT09bi5ub25jZT9CaWdJbnQobi5ub25jZS50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOm49Pk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclJlc3BvbnNlLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49Pk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclJlc3BvbnNlLmVuY29kZShuKS5maW5pc2goKSx0b1Byb3RvTXNnOm49Pih7dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJSZXNwb25zZVwiLHZhbHVlOk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclJlc3BvbnNlLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UoTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTXNnRGVwb3NpdEZvckJ1cm4iOlsiTXNnRGVwb3NpdEZvckJ1cm4iXSwiTXNnRGVwb3NpdEZvckJ1cm5SZXNwb25zZSI6WyJNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlIl0sIk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlciI6WyJNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIiXSwiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UiOlsiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAMnRNsaYnAACmJwAARAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2JhbmsvdjFiZXRhMS9iYW5rLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkRlbm9tVW5pdCIsIklucHV0IiwiTWV0YWRhdGEiLCJPdXRwdXQiLCJQYXJhbXMiLCJTZW5kRW5hYmxlZCIsIlN1cHBseSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbixvLHM7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qc1wiLCBbW1wiQ29pblwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUGFyYW1zPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUGFyYW1zXCIsZW5jb2RlKGUsbj1vLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnNlbmRFbmFibGVkKVNlbmRFbmFibGVkLmVuY29kZShvLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiEwPT09ZS5kZWZhdWx0U2VuZEVuYWJsZWQmJm4udWludDMyKDE2KS5ib29sKGUuZGVmYXVsdFNlbmRFbmFibGVkKSxufSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IGE9e3NlbmRFbmFibGVkOltdLGRlZmF1bHRTZW5kRW5hYmxlZDohMX07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuc2VuZEVuYWJsZWQucHVzaChTZW5kRW5hYmxlZC5kZWNvZGUocyxzLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmEuZGVmYXVsdFNlbmRFbmFibGVkPXMuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtzZW5kRW5hYmxlZDpBcnJheS5pc0FycmF5KGU/LnNlbmRFbmFibGVkKT9lLnNlbmRFbmFibGVkLm1hcCgoZT0+U2VuZEVuYWJsZWQuZnJvbUpTT04oZSkpKTpbXSxkZWZhdWx0U2VuZEVuYWJsZWQ6ISFzKGUuZGVmYXVsdFNlbmRFbmFibGVkKSYmQm9vbGVhbihlLmRlZmF1bHRTZW5kRW5hYmxlZCl9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gZS5zZW5kRW5hYmxlZD9uLnNlbmRFbmFibGVkPWUuc2VuZEVuYWJsZWQubWFwKChlPT5lP1NlbmRFbmFibGVkLnRvSlNPTihlKTp2b2lkIDApKTpuLnNlbmRFbmFibGVkPVtdLHZvaWQgMCE9PWUuZGVmYXVsdFNlbmRFbmFibGVkJiYobi5kZWZhdWx0U2VuZEVuYWJsZWQ9ZS5kZWZhdWx0U2VuZEVuYWJsZWQpLG59LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG49e3NlbmRFbmFibGVkOltdLGRlZmF1bHRTZW5kRW5hYmxlZDohMX07cmV0dXJuIG4uc2VuZEVuYWJsZWQ9ZS5zZW5kRW5hYmxlZD8ubWFwKChlPT5TZW5kRW5hYmxlZC5mcm9tUGFydGlhbChlKSkpfHxbXSxuLmRlZmF1bHRTZW5kRW5hYmxlZD1lLmRlZmF1bHRTZW5kRW5hYmxlZD8/ITEsbn0sZnJvbVByb3RvTXNnOmU9PlBhcmFtcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUGFyYW1zXCIsdmFsdWU6UGFyYW1zLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFyYW1zKFBhcmFtcyk7Y29uc3QgU2VuZEVuYWJsZWQ9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5TZW5kRW5hYmxlZFwiLGVuY29kZTooZSxuPW8uY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVub20mJm4udWludDMyKDEwKS5zdHJpbmcoZS5kZW5vbSksITA9PT1lLmVuYWJsZWQmJm4udWludDMyKDE2KS5ib29sKGUuZW5hYmxlZCksbiksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPXtkZW5vbTpcIlwiLGVuYWJsZWQ6ITF9O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmRlbm9tPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuZW5hYmxlZD1zLmJvb2woKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7ZGVub206cyhlLmRlbm9tKT9TdHJpbmcoZS5kZW5vbSk6XCJcIixlbmFibGVkOiEhcyhlLmVuYWJsZWQpJiZCb29sZWFuKGUuZW5hYmxlZCl9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZW5vbSYmKG4uZGVub209ZS5kZW5vbSksdm9pZCAwIT09ZS5lbmFibGVkJiYobi5lbmFibGVkPWUuZW5hYmxlZCksbn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj17ZGVub206XCJcIixlbmFibGVkOiExfTtyZXR1cm4gbi5kZW5vbT1lLmRlbm9tPz9cIlwiLG4uZW5hYmxlZD1lLmVuYWJsZWQ/PyExLG59LGZyb21Qcm90b01zZzplPT5TZW5kRW5hYmxlZC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5TZW5kRW5hYmxlZC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5TZW5kRW5hYmxlZFwiLHZhbHVlOlNlbmRFbmFibGVkLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuU2VuZEVuYWJsZWQoU2VuZEVuYWJsZWQpO2NvbnN0IElucHV0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuSW5wdXRcIixlbmNvZGUobixzPW8uY3JlYXRlKCkpe1wiXCIhPT1uLmFkZHJlc3MmJnMudWludDMyKDEwKS5zdHJpbmcobi5hZGRyZXNzKTtmb3IoY29uc3QgbyBvZiBuLmNvaW5zKWUuZW5jb2RlKG8scy51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHN9LGRlY29kZShvLHMpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIG4/bzpuZXcgbihvKTtsZXQgYT12b2lkIDA9PT1zP3QubGVuOnQucG9zK3M7Y29uc3Qgcj17YWRkcmVzczpcIlwiLGNvaW5zOltdfTtmb3IoO3QucG9zPGE7KXtjb25zdCBuPXQudWludDMyKCk7c3dpdGNoKG4+Pj4zKXtjYXNlIDE6ci5hZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnIuY29pbnMucHVzaChlLmRlY29kZSh0LHQudWludDMyKCkpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZuKX19cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7YWRkcmVzczpzKG4uYWRkcmVzcyk/U3RyaW5nKG4uYWRkcmVzcyk6XCJcIixjb2luczpBcnJheS5pc0FycmF5KG4/LmNvaW5zKT9uLmNvaW5zLm1hcCgobj0+ZS5mcm9tSlNPTihuKSkpOltdfSksdG9KU09OKG4pe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PW4uYWRkcmVzcyYmKG8uYWRkcmVzcz1uLmFkZHJlc3MpLG4uY29pbnM/by5jb2lucz1uLmNvaW5zLm1hcCgobj0+bj9lLnRvSlNPTihuKTp2b2lkIDApKTpvLmNvaW5zPVtdLG99LGZyb21QYXJ0aWFsKG4pe2NvbnN0IG89e2FkZHJlc3M6XCJcIixjb2luczpbXX07cmV0dXJuIG8uYWRkcmVzcz1uLmFkZHJlc3M/P1wiXCIsby5jb2lucz1uLmNvaW5zPy5tYXAoKG49PmUuZnJvbVBhcnRpYWwobikpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PklucHV0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PklucHV0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLklucHV0XCIsdmFsdWU6SW5wdXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5JbnB1dChJbnB1dCk7Y29uc3QgT3V0cHV0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuT3V0cHV0XCIsZW5jb2RlKG4scz1vLmNyZWF0ZSgpKXtcIlwiIT09bi5hZGRyZXNzJiZzLnVpbnQzMigxMCkuc3RyaW5nKG4uYWRkcmVzcyk7Zm9yKGNvbnN0IG8gb2Ygbi5jb2lucyllLmVuY29kZShvLHMudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBzfSxkZWNvZGUobyxzKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IGE9dm9pZCAwPT09cz90Lmxlbjp0LnBvcytzO2NvbnN0IHI9e2FkZHJlc3M6XCJcIixjb2luczpbXX07Zm9yKDt0LnBvczxhOyl7Y29uc3Qgbj10LnVpbnQzMigpO3N3aXRjaChuPj4+Myl7Y2FzZSAxOnIuYWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmNvaW5zLnB1c2goZS5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbil9fXJldHVybiByfSxmcm9tSlNPTjpuPT4oe2FkZHJlc3M6cyhuLmFkZHJlc3MpP1N0cmluZyhuLmFkZHJlc3MpOlwiXCIsY29pbnM6QXJyYXkuaXNBcnJheShuPy5jb2lucyk/bi5jb2lucy5tYXAoKG49PmUuZnJvbUpTT04obikpKTpbXX0pLHRvSlNPTihuKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1uLmFkZHJlc3MmJihvLmFkZHJlc3M9bi5hZGRyZXNzKSxuLmNvaW5zP28uY29pbnM9bi5jb2lucy5tYXAoKG49Pm4/ZS50b0pTT04obik6dm9pZCAwKSk6by5jb2lucz1bXSxvfSxmcm9tUGFydGlhbChuKXtjb25zdCBvPXthZGRyZXNzOlwiXCIsY29pbnM6W119O3JldHVybiBvLmFkZHJlc3M9bi5hZGRyZXNzPz9cIlwiLG8uY29pbnM9bi5jb2lucz8ubWFwKChuPT5lLmZyb21QYXJ0aWFsKG4pKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5PdXRwdXQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+T3V0cHV0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk91dHB1dFwiLHZhbHVlOk91dHB1dC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk91dHB1dChPdXRwdXQpO2NvbnN0IFN1cHBseT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlN1cHBseVwiLGVuY29kZShuLHM9by5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2Ygbi50b3RhbCllLmVuY29kZShvLHMudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBzfSxkZWNvZGUobyxzKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IGE9dm9pZCAwPT09cz90Lmxlbjp0LnBvcytzO2NvbnN0IHI9eyR0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuU3VwcGx5XCIsdG90YWw6W119O2Zvcig7dC5wb3M8YTspe2NvbnN0IG49dC51aW50MzIoKTtpZihuPj4+Mz09MSlyLnRvdGFsLnB1c2goZS5kZWNvZGUodCx0LnVpbnQzMigpKSk7ZWxzZSB0LnNraXBUeXBlKDcmbil9cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7dG90YWw6QXJyYXkuaXNBcnJheShuPy50b3RhbCk/bi50b3RhbC5tYXAoKG49PmUuZnJvbUpTT04obikpKTpbXX0pLHRvSlNPTihuKXtjb25zdCBvPXt9O3JldHVybiBuLnRvdGFsP28udG90YWw9bi50b3RhbC5tYXAoKG49Pm4/ZS50b0pTT04obik6dm9pZCAwKSk6by50b3RhbD1bXSxvfSxmcm9tUGFydGlhbChuKXtjb25zdCBvPXskdHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlN1cHBseVwiLHRvdGFsOltdfTtyZXR1cm4gby50b3RhbD1uLnRvdGFsPy5tYXAoKG49PmUuZnJvbVBhcnRpYWwobikpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PlN1cHBseS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5TdXBwbHkuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuU3VwcGx5XCIsdmFsdWU6U3VwcGx5LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuU3VwcGx5KFN1cHBseSk7Y29uc3QgRGVub21Vbml0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuRGVub21Vbml0XCIsZW5jb2RlKGUsbj1vLmNyZWF0ZSgpKXtcIlwiIT09ZS5kZW5vbSYmbi51aW50MzIoMTApLnN0cmluZyhlLmRlbm9tKSwwIT09ZS5leHBvbmVudCYmbi51aW50MzIoMTYpLnVpbnQzMihlLmV4cG9uZW50KTtmb3IoY29uc3QgbyBvZiBlLmFsaWFzZXMpbi51aW50MzIoMjYpLnN0cmluZyhvKTtyZXR1cm4gbn0sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPXtkZW5vbTpcIlwiLGV4cG9uZW50OjAsYWxpYXNlczpbXX07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuZGVub209cy5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5leHBvbmVudD1zLnVpbnQzMigpO2JyZWFrO2Nhc2UgMzphLmFsaWFzZXMucHVzaChzLnN0cmluZygpKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7ZGVub206cyhlLmRlbm9tKT9TdHJpbmcoZS5kZW5vbSk6XCJcIixleHBvbmVudDpzKGUuZXhwb25lbnQpP051bWJlcihlLmV4cG9uZW50KTowLGFsaWFzZXM6QXJyYXkuaXNBcnJheShlPy5hbGlhc2VzKT9lLmFsaWFzZXMubWFwKChlPT5TdHJpbmcoZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCBuPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbm9tJiYobi5kZW5vbT1lLmRlbm9tKSx2b2lkIDAhPT1lLmV4cG9uZW50JiYobi5leHBvbmVudD1NYXRoLnJvdW5kKGUuZXhwb25lbnQpKSxlLmFsaWFzZXM/bi5hbGlhc2VzPWUuYWxpYXNlcy5tYXAoKGU9PmUpKTpuLmFsaWFzZXM9W10sbn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj17ZGVub206XCJcIixleHBvbmVudDowLGFsaWFzZXM6W119O3JldHVybiBuLmRlbm9tPWUuZGVub20/P1wiXCIsbi5leHBvbmVudD1lLmV4cG9uZW50Pz8wLG4uYWxpYXNlcz1lLmFsaWFzZXM/Lm1hcCgoZT0+ZSkpfHxbXSxufSxmcm9tUHJvdG9Nc2c6ZT0+RGVub21Vbml0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRlbm9tVW5pdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5EZW5vbVVuaXRcIix2YWx1ZTpEZW5vbVVuaXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EZW5vbVVuaXQoRGVub21Vbml0KTtjb25zdCBNZXRhZGF0YT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1ldGFkYXRhXCIsZW5jb2RlKGUsbj1vLmNyZWF0ZSgpKXtcIlwiIT09ZS5kZXNjcmlwdGlvbiYmbi51aW50MzIoMTApLnN0cmluZyhlLmRlc2NyaXB0aW9uKTtmb3IoY29uc3QgbyBvZiBlLmRlbm9tVW5pdHMpRGVub21Vbml0LmVuY29kZShvLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVyblwiXCIhPT1lLmJhc2UmJm4udWludDMyKDI2KS5zdHJpbmcoZS5iYXNlKSxcIlwiIT09ZS5kaXNwbGF5JiZuLnVpbnQzMigzNCkuc3RyaW5nKGUuZGlzcGxheSksXCJcIiE9PWUubmFtZSYmbi51aW50MzIoNDIpLnN0cmluZyhlLm5hbWUpLFwiXCIhPT1lLnN5bWJvbCYmbi51aW50MzIoNTApLnN0cmluZyhlLnN5bWJvbCksXCJcIiE9PWUudXJpJiZuLnVpbnQzMig1OCkuc3RyaW5nKGUudXJpKSxcIlwiIT09ZS51cmlIYXNoJiZuLnVpbnQzMig2Nikuc3RyaW5nKGUudXJpSGFzaCksbn0sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPXtkZXNjcmlwdGlvbjpcIlwiLGRlbm9tVW5pdHM6W10sYmFzZTpcIlwiLGRpc3BsYXk6XCJcIixuYW1lOlwiXCIsc3ltYm9sOlwiXCIsdXJpOlwiXCIsdXJpSGFzaDpcIlwifTtmb3IoO3MucG9zPHQ7KXtjb25zdCBlPXMudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5kZXNjcmlwdGlvbj1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmRlbm9tVW5pdHMucHVzaChEZW5vbVVuaXQuZGVjb2RlKHMscy51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzphLmJhc2U9cy5zdHJpbmcoKTticmVhaztjYXNlIDQ6YS5kaXNwbGF5PXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OmEubmFtZT1zLnN0cmluZygpO2JyZWFrO2Nhc2UgNjphLnN5bWJvbD1zLnN0cmluZygpO2JyZWFrO2Nhc2UgNzphLnVyaT1zLnN0cmluZygpO2JyZWFrO2Nhc2UgODphLnVyaUhhc2g9cy5zdHJpbmcoKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7ZGVzY3JpcHRpb246cyhlLmRlc2NyaXB0aW9uKT9TdHJpbmcoZS5kZXNjcmlwdGlvbik6XCJcIixkZW5vbVVuaXRzOkFycmF5LmlzQXJyYXkoZT8uZGVub21Vbml0cyk/ZS5kZW5vbVVuaXRzLm1hcCgoZT0+RGVub21Vbml0LmZyb21KU09OKGUpKSk6W10sYmFzZTpzKGUuYmFzZSk/U3RyaW5nKGUuYmFzZSk6XCJcIixkaXNwbGF5OnMoZS5kaXNwbGF5KT9TdHJpbmcoZS5kaXNwbGF5KTpcIlwiLG5hbWU6cyhlLm5hbWUpP1N0cmluZyhlLm5hbWUpOlwiXCIsc3ltYm9sOnMoZS5zeW1ib2wpP1N0cmluZyhlLnN5bWJvbCk6XCJcIix1cmk6cyhlLnVyaSk/U3RyaW5nKGUudXJpKTpcIlwiLHVyaUhhc2g6cyhlLnVyaUhhc2gpP1N0cmluZyhlLnVyaUhhc2gpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZXNjcmlwdGlvbiYmKG4uZGVzY3JpcHRpb249ZS5kZXNjcmlwdGlvbiksZS5kZW5vbVVuaXRzP24uZGVub21Vbml0cz1lLmRlbm9tVW5pdHMubWFwKChlPT5lP0Rlbm9tVW5pdC50b0pTT04oZSk6dm9pZCAwKSk6bi5kZW5vbVVuaXRzPVtdLHZvaWQgMCE9PWUuYmFzZSYmKG4uYmFzZT1lLmJhc2UpLHZvaWQgMCE9PWUuZGlzcGxheSYmKG4uZGlzcGxheT1lLmRpc3BsYXkpLHZvaWQgMCE9PWUubmFtZSYmKG4ubmFtZT1lLm5hbWUpLHZvaWQgMCE9PWUuc3ltYm9sJiYobi5zeW1ib2w9ZS5zeW1ib2wpLHZvaWQgMCE9PWUudXJpJiYobi51cmk9ZS51cmkpLHZvaWQgMCE9PWUudXJpSGFzaCYmKG4udXJpSGFzaD1lLnVyaUhhc2gpLG59LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG49e2Rlc2NyaXB0aW9uOlwiXCIsZGVub21Vbml0czpbXSxiYXNlOlwiXCIsZGlzcGxheTpcIlwiLG5hbWU6XCJcIixzeW1ib2w6XCJcIix1cmk6XCJcIix1cmlIYXNoOlwiXCJ9O3JldHVybiBuLmRlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24/P1wiXCIsbi5kZW5vbVVuaXRzPWUuZGVub21Vbml0cz8ubWFwKChlPT5EZW5vbVVuaXQuZnJvbVBhcnRpYWwoZSkpKXx8W10sbi5iYXNlPWUuYmFzZT8/XCJcIixuLmRpc3BsYXk9ZS5kaXNwbGF5Pz9cIlwiLG4ubmFtZT1lLm5hbWU/P1wiXCIsbi5zeW1ib2w9ZS5zeW1ib2w/P1wiXCIsbi51cmk9ZS51cmk/P1wiXCIsbi51cmlIYXNoPWUudXJpSGFzaD8/XCJcIixufSxmcm9tUHJvdG9Nc2c6ZT0+TWV0YWRhdGEuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TWV0YWRhdGEuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTWV0YWRhdGFcIix2YWx1ZTpNZXRhZGF0YS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1ldGFkYXRhKE1ldGFkYXRhKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlBhcmFtcyI6WyJQYXJhbXMiXSwiU2VuZEVuYWJsZWQiOlsiU2VuZEVuYWJsZWQiXSwiSW5wdXQiOlsiSW5wdXQiXSwiT3V0cHV0IjpbIk91dHB1dCJdLCJTdXBwbHkiOlsiU3VwcGx5Il0sIkRlbm9tVW5pdCI6WyJEZW5vbVVuaXQiXSwiTWV0YWRhdGEiOlsiTWV0YWRhdGEiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAjbZQQcp0AADKdAAARQAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2JhbmsvdjFiZXRhMS9xdWVyeS5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3F1ZXJ5L3YxYmV0YTEvcGFnaW5hdGlvbi5qcyIsIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi9iYW5rLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkRlbm9tT3duZXIiLCJRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCIsIlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSIsIlF1ZXJ5QmFsYW5jZVJlcXVlc3QiLCJRdWVyeUJhbGFuY2VSZXNwb25zZSIsIlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QiLCJRdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZSIsIlF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0IiwiUXVlcnlEZW5vbU93bmVyc1Jlc3BvbnNlIiwiUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QiLCJRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UiLCJRdWVyeVBhcmFtc1JlcXVlc3QiLCJRdWVyeVBhcmFtc1Jlc3BvbnNlIiwiUXVlcnlTZW5kRW5hYmxlZFJlcXVlc3QiLCJRdWVyeVNlbmRFbmFibGVkUmVzcG9uc2UiLCJRdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVxdWVzdCIsIlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXNwb25zZSIsIlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0IiwiUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlIiwiUXVlcnlTdXBwbHlPZlJlcXVlc3QiLCJRdWVyeVN1cHBseU9mUmVzcG9uc2UiLCJRdWVyeVRvdGFsU3VwcGx5UmVxdWVzdCIsIlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyxuLGEsdCxzLGkscixkOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanNcIiwgW1tcIlBhZ2VSZXF1ZXN0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJQYWdlUmVzcG9uc2VcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi9iYW5rLmpzXCIsIFtbXCJQYXJhbXNcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dLFtcIk1ldGFkYXRhXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXSxbXCJTZW5kRW5hYmxlZFwiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUXVlcnlCYWxhbmNlUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QmFsYW5jZVJlcXVlc3RcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5hZGRyZXNzKSxcIlwiIT09ZS5kZW5vbSYmby51aW50MzIoMTgpLnN0cmluZyhlLmRlbm9tKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHQ9e2FkZHJlc3M6XCJcIixkZW5vbTpcIlwifTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6dC5hZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnQuZGVub209bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7YWRkcmVzczpkKGUuYWRkcmVzcyk/U3RyaW5nKGUuYWRkcmVzcyk6XCJcIixkZW5vbTpkKGUuZGVub20pP1N0cmluZyhlLmRlbm9tKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYWRkcmVzcyYmKG8uYWRkcmVzcz1lLmFkZHJlc3MpLHZvaWQgMCE9PWUuZGVub20mJihvLmRlbm9tPWUuZGVub20pLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2FkZHJlc3M6XCJcIixkZW5vbTpcIlwifTtyZXR1cm4gby5hZGRyZXNzPWUuYWRkcmVzcz8/XCJcIixvLmRlbm9tPWUuZGVub20/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QmFsYW5jZVJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlCYWxhbmNlUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUJhbGFuY2VSZXF1ZXN0XCIsdmFsdWU6UXVlcnlCYWxhbmNlUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5QmFsYW5jZVJlcXVlc3QoUXVlcnlCYWxhbmNlUmVxdWVzdCk7Y29uc3QgUXVlcnlCYWxhbmNlUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUJhbGFuY2VSZXNwb25zZVwiLGVuY29kZTooZSxvPXIuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5iYWxhbmNlJiZuLmVuY29kZShlLmJhbGFuY2Usby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgYT1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCB0PXZvaWQgMD09PW8/YS5sZW46YS5wb3Mrbztjb25zdCBzPXtiYWxhbmNlOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3QgZT1hLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXMuYmFsYW5jZT1uLmRlY29kZShhLGEudWludDMyKCkpO2Vsc2UgYS5za2lwVHlwZSg3JmUpfXJldHVybiBzfSxmcm9tSlNPTjplPT4oe2JhbGFuY2U6ZChlLmJhbGFuY2UpP24uZnJvbUpTT04oZS5iYWxhbmNlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5iYWxhbmNlJiYoby5iYWxhbmNlPWUuYmFsYW5jZT9uLnRvSlNPTihlLmJhbGFuY2UpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17YmFsYW5jZTp2b2lkIDB9O3JldHVybiBvLmJhbGFuY2U9dm9pZCAwIT09ZS5iYWxhbmNlJiZudWxsIT09ZS5iYWxhbmNlP24uZnJvbVBhcnRpYWwoZS5iYWxhbmNlKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QmFsYW5jZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5QmFsYW5jZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QmFsYW5jZVJlc3BvbnNlXCIsdmFsdWU6UXVlcnlCYWxhbmNlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUJhbGFuY2VSZXNwb25zZShRdWVyeUJhbGFuY2VSZXNwb25zZSk7Y29uc3QgUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUFsbEJhbGFuY2VzUmVxdWVzdFwiLGVuY29kZToobyxuPXIuY3JlYXRlKCkpPT4oXCJcIiE9PW8uYWRkcmVzcyYmbi51aW50MzIoMTApLnN0cmluZyhvLmFkZHJlc3MpLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIGk/bzpuZXcgaShvKTtsZXQgdD12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcz17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBvPWEudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6cy5hZGRyZXNzPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMucGFnaW5hdGlvbj1lLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gc30sZnJvbUpTT046bz0+KHthZGRyZXNzOmQoby5hZGRyZXNzKT9TdHJpbmcoby5hZGRyZXNzKTpcIlwiLHBhZ2luYXRpb246ZChvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09by5hZGRyZXNzJiYobi5hZGRyZXNzPW8uYWRkcmVzcyksdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5hZGRyZXNzPW8uYWRkcmVzcz8/XCJcIixuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUFsbEJhbGFuY2VzUmVxdWVzdChRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCk7Y29uc3QgUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlXCIsZW5jb2RlKGUsYT1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLmJhbGFuY2VzKW4uZW5jb2RlKG8sYS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLGEudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGF9LGRlY29kZShlLGEpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGk/ZTpuZXcgaShlKTtsZXQgcz12b2lkIDA9PT1hP3QubGVuOnQucG9zK2E7Y29uc3Qgcj17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLmJhbGFuY2VzLnB1c2gobi5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1vLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtiYWxhbmNlczpBcnJheS5pc0FycmF5KGU/LmJhbGFuY2VzKT9lLmJhbGFuY2VzLm1hcCgoZT0+bi5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246ZChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgYT17fTtyZXR1cm4gZS5iYWxhbmNlcz9hLmJhbGFuY2VzPWUuYmFsYW5jZXMubWFwKChlPT5lP24udG9KU09OKGUpOnZvaWQgMCkpOmEuYmFsYW5jZXM9W10sdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYoYS5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksYX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgYT17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBhLmJhbGFuY2VzPWUuYmFsYW5jZXM/Lm1hcCgoZT0+bi5mcm9tUGFydGlhbChlKSkpfHxbXSxhLnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsYX0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlKFF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSk7Y29uc3QgUXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdFwiLGVuY29kZToobyxuPXIuY3JlYXRlKCkpPT4oXCJcIiE9PW8uYWRkcmVzcyYmbi51aW50MzIoMTApLnN0cmluZyhvLmFkZHJlc3MpLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIGk/bzpuZXcgaShvKTtsZXQgdD12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcz17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBvPWEudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6cy5hZGRyZXNzPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMucGFnaW5hdGlvbj1lLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gc30sZnJvbUpTT046bz0+KHthZGRyZXNzOmQoby5hZGRyZXNzKT9TdHJpbmcoby5hZGRyZXNzKTpcIlwiLHBhZ2luYXRpb246ZChvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09by5hZGRyZXNzJiYobi5hZGRyZXNzPW8uYWRkcmVzcyksdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5hZGRyZXNzPW8uYWRkcmVzcz8/XCJcIixuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdChRdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdCk7Y29uc3QgUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlXCIsZW5jb2RlKGUsYT1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLmJhbGFuY2VzKW4uZW5jb2RlKG8sYS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLGEudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGF9LGRlY29kZShlLGEpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGk/ZTpuZXcgaShlKTtsZXQgcz12b2lkIDA9PT1hP3QubGVuOnQucG9zK2E7Y29uc3Qgcj17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLmJhbGFuY2VzLnB1c2gobi5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1vLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtiYWxhbmNlczpBcnJheS5pc0FycmF5KGU/LmJhbGFuY2VzKT9lLmJhbGFuY2VzLm1hcCgoZT0+bi5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246ZChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgYT17fTtyZXR1cm4gZS5iYWxhbmNlcz9hLmJhbGFuY2VzPWUuYmFsYW5jZXMubWFwKChlPT5lP24udG9KU09OKGUpOnZvaWQgMCkpOmEuYmFsYW5jZXM9W10sdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYoYS5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksYX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgYT17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBhLmJhbGFuY2VzPWUuYmFsYW5jZXM/Lm1hcCgoZT0+bi5mcm9tUGFydGlhbChlKSkpfHxbXSxhLnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsYX0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlKFF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXNwb25zZSk7Y29uc3QgUXVlcnlTcGVuZGFibGVCYWxhbmNlQnlEZW5vbVJlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVxdWVzdFwiLGVuY29kZTooZSxvPXIuY3JlYXRlKCkpPT4oXCJcIiE9PWUuYWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmFkZHJlc3MpLFwiXCIhPT1lLmRlbm9tJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuZGVub20pLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIGk/ZTpuZXcgaShlKTtsZXQgYT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgdD17YWRkcmVzczpcIlwiLGRlbm9tOlwiXCJ9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTp0LmFkZHJlc3M9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6dC5kZW5vbT1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHthZGRyZXNzOmQoZS5hZGRyZXNzKT9TdHJpbmcoZS5hZGRyZXNzKTpcIlwiLGRlbm9tOmQoZS5kZW5vbSk/U3RyaW5nKGUuZGVub20pOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5hZGRyZXNzJiYoby5hZGRyZXNzPWUuYWRkcmVzcyksdm9pZCAwIT09ZS5kZW5vbSYmKG8uZGVub209ZS5kZW5vbSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17YWRkcmVzczpcIlwiLGRlbm9tOlwiXCJ9O3JldHVybiBvLmFkZHJlc3M9ZS5hZGRyZXNzPz9cIlwiLG8uZGVub209ZS5kZW5vbT8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlTcGVuZGFibGVCYWxhbmNlQnlEZW5vbVJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlTcGVuZGFibGVCYWxhbmNlQnlEZW5vbVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTcGVuZGFibGVCYWxhbmNlQnlEZW5vbVJlcXVlc3RcIix2YWx1ZTpRdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXF1ZXN0KFF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXF1ZXN0KTtjb25zdCBRdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuYmFsYW5jZSYmbi5lbmNvZGUoZS5iYWxhbmNlLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIGk/ZTpuZXcgaShlKTtsZXQgdD12b2lkIDA9PT1vP2EubGVuOmEucG9zK287Y29uc3Qgcz17YmFsYW5jZTp2b2lkIDB9O2Zvcig7YS5wb3M8dDspe2NvbnN0IGU9YS51aW50MzIoKTtpZihlPj4+Mz09MSlzLmJhbGFuY2U9bi5kZWNvZGUoYSxhLnVpbnQzMigpKTtlbHNlIGEuc2tpcFR5cGUoNyZlKX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHtiYWxhbmNlOmQoZS5iYWxhbmNlKT9uLmZyb21KU09OKGUuYmFsYW5jZSk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYmFsYW5jZSYmKG8uYmFsYW5jZT1lLmJhbGFuY2U/bi50b0pTT04oZS5iYWxhbmNlKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2JhbGFuY2U6dm9pZCAwfTtyZXR1cm4gby5iYWxhbmNlPXZvaWQgMCE9PWUuYmFsYW5jZSYmbnVsbCE9PWUuYmFsYW5jZT9uLmZyb21QYXJ0aWFsKGUuYmFsYW5jZSk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlTcGVuZGFibGVCYWxhbmNlQnlEZW5vbVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXNwb25zZVwiLHZhbHVlOlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXNwb25zZShRdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlUb3RhbFN1cHBseVJlcXVlc3RcIixlbmNvZGU6KG8sbj1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIGk/bzpuZXcgaShvKTtsZXQgdD12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcz17cGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7YS5wb3M8dDspe2NvbnN0IG89YS51aW50MzIoKTtpZihvPj4+Mz09MSlzLnBhZ2luYXRpb249ZS5kZWNvZGUoYSxhLnVpbnQzMigpKTtlbHNlIGEuc2tpcFR5cGUoNyZvKX1yZXR1cm4gc30sZnJvbUpTT046bz0+KHtwYWdpbmF0aW9uOmQoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IG49e307cmV0dXJuIHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKG8pe2NvbnN0IG49e3BhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzplPT5RdWVyeVRvdGFsU3VwcGx5UmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVRvdGFsU3VwcGx5UmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVRvdGFsU3VwcGx5UmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QoUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QpO2NvbnN0IFF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZVwiLGVuY29kZShlLGE9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2YgZS5zdXBwbHkpbi5lbmNvZGUobyxhLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24sYS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksYX0sZGVjb2RlKGUsYSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBzPXZvaWQgMD09PWE/dC5sZW46dC5wb3MrYTtjb25zdCByPXtzdXBwbHk6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLnN1cHBseS5wdXNoKG4uZGVjb2RlKHQsdC51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249by5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7c3VwcGx5OkFycmF5LmlzQXJyYXkoZT8uc3VwcGx5KT9lLnN1cHBseS5tYXAoKGU9Pm4uZnJvbUpTT04oZSkpKTpbXSxwYWdpbmF0aW9uOmQoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IGE9e307cmV0dXJuIGUuc3VwcGx5P2Euc3VwcGx5PWUuc3VwcGx5Lm1hcCgoZT0+ZT9uLnRvSlNPTihlKTp2b2lkIDApKTphLnN1cHBseT1bXSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJihhLnBhZ2luYXRpb249ZS5wYWdpbmF0aW9uP28udG9KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwKSxhfSxmcm9tUGFydGlhbChlKXtjb25zdCBhPXtzdXBwbHk6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBhLnN1cHBseT1lLnN1cHBseT8ubWFwKChlPT5uLmZyb21QYXJ0aWFsKGUpKSl8fFtdLGEucGFnaW5hdGlvbj12b2lkIDAhPT1lLnBhZ2luYXRpb24mJm51bGwhPT1lLnBhZ2luYXRpb24/by5mcm9tUGFydGlhbChlLnBhZ2luYXRpb24pOnZvaWQgMCxhfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2VcIix2YWx1ZTpRdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UoUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlKTtjb25zdCBRdWVyeVN1cHBseU9mUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0XCIsZW5jb2RlOihlLG89ci5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZW5vbSYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbm9tKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHQ9e2Rlbm9tOlwiXCJ9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtpZihlPj4+Mz09MSl0LmRlbm9tPW4uc3RyaW5nKCk7ZWxzZSBuLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7ZGVub206ZChlLmRlbm9tKT9TdHJpbmcoZS5kZW5vbSk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbm9tJiYoby5kZW5vbT1lLmRlbm9tKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtkZW5vbTpcIlwifTtyZXR1cm4gby5kZW5vbT1lLmRlbm9tPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVN1cHBseU9mUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVN1cHBseU9mUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVN1cHBseU9mUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlTdXBwbHlPZlJlcXVlc3QoUXVlcnlTdXBwbHlPZlJlcXVlc3QpO2Z1bmN0aW9uIHAoKXtyZXR1cm57YW1vdW50Om4uZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVN1cHBseU9mUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVN1cHBseU9mUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuYW1vdW50JiZuLmVuY29kZShlLmFtb3VudCxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBhPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IHQ9dm9pZCAwPT09bz9hLmxlbjphLnBvcytvO2NvbnN0IHM9cCgpO2Zvcig7YS5wb3M8dDspe2NvbnN0IGU9YS51aW50MzIoKTtpZihlPj4+Mz09MSlzLmFtb3VudD1uLmRlY29kZShhLGEudWludDMyKCkpO2Vsc2UgYS5za2lwVHlwZSg3JmUpfXJldHVybiBzfSxmcm9tSlNPTjplPT4oe2Ftb3VudDpkKGUuYW1vdW50KT9uLmZyb21KU09OKGUuYW1vdW50KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5hbW91bnQmJihvLmFtb3VudD1lLmFtb3VudD9uLnRvSlNPTihlLmFtb3VudCk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXAoKTtyZXR1cm4gby5hbW91bnQ9dm9pZCAwIT09ZS5hbW91bnQmJm51bGwhPT1lLmFtb3VudD9uLmZyb21QYXJ0aWFsKGUuYW1vdW50KTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U3VwcGx5T2ZSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVN1cHBseU9mUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTdXBwbHlPZlJlc3BvbnNlXCIsdmFsdWU6UXVlcnlTdXBwbHlPZlJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlTdXBwbHlPZlJlc3BvbnNlKFF1ZXJ5U3VwcGx5T2ZSZXNwb25zZSk7Y29uc3QgUXVlcnlQYXJhbXNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXF1ZXN0XCIsZW5jb2RlOihlLG89ci5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBhPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCB0PXt9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlQYXJhbXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5UGFyYW1zUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVBhcmFtc1JlcXVlc3RcIix2YWx1ZTpRdWVyeVBhcmFtc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVBhcmFtc1JlcXVlc3QoUXVlcnlQYXJhbXNSZXF1ZXN0KTtmdW5jdGlvbiBjKCl7cmV0dXJue3BhcmFtczphLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUXVlcnlQYXJhbXNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5UGFyYW1zUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUucGFyYW1zJiZhLmVuY29kZShlLnBhcmFtcyxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IHQ9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHM9YygpO2Zvcig7bi5wb3M8dDspe2NvbnN0IGU9bi51aW50MzIoKTtpZihlPj4+Mz09MSlzLnBhcmFtcz1hLmRlY29kZShuLG4udWludDMyKCkpO2Vsc2Ugbi5za2lwVHlwZSg3JmUpfXJldHVybiBzfSxmcm9tSlNPTjplPT4oe3BhcmFtczpkKGUucGFyYW1zKT9hLmZyb21KU09OKGUucGFyYW1zKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5wYXJhbXMmJihvLnBhcmFtcz1lLnBhcmFtcz9hLnRvSlNPTihlLnBhcmFtcyk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWMoKTtyZXR1cm4gby5wYXJhbXM9dm9pZCAwIT09ZS5wYXJhbXMmJm51bGwhPT1lLnBhcmFtcz9hLmZyb21QYXJ0aWFsKGUucGFyYW1zKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5UGFyYW1zUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlQYXJhbXNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVBhcmFtc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlQYXJhbXNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UGFyYW1zUmVzcG9uc2UoUXVlcnlQYXJhbXNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tc01ldGFkYXRhUmVxdWVzdFwiLGVuY29kZToobyxuPXIuY3JlYXRlKCkpPT4odm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24sbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbiksZGVjb2RlKG8sbil7Y29uc3QgYT1vIGluc3RhbmNlb2YgaT9vOm5ldyBpKG8pO2xldCB0PXZvaWQgMD09PW4/YS5sZW46YS5wb3Mrbjtjb25zdCBzPXtwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3Qgbz1hLnVpbnQzMigpO2lmKG8+Pj4zPT0xKXMucGFnaW5hdGlvbj1lLmRlY29kZShhLGEudWludDMyKCkpO2Vsc2UgYS5za2lwVHlwZSg3Jm8pfXJldHVybiBzfSxmcm9tSlNPTjpvPT4oe3BhZ2luYXRpb246ZChvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17cGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbm9tc01ldGFkYXRhUmVxdWVzdChRdWVyeURlbm9tc01ldGFkYXRhUmVxdWVzdCk7Y29uc3QgUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlXCIsZW5jb2RlKGUsbj1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLm1ldGFkYXRhcyl0LmVuY29kZShvLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbixuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxufSxkZWNvZGUoZSxuKXtjb25zdCBhPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IHM9dm9pZCAwPT09bj9hLmxlbjphLnBvcytuO2NvbnN0IHI9e21ldGFkYXRhczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczxzOyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIubWV0YWRhdGFzLnB1c2godC5kZWNvZGUoYSxhLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1vLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHttZXRhZGF0YXM6QXJyYXkuaXNBcnJheShlPy5tZXRhZGF0YXMpP2UubWV0YWRhdGFzLm1hcCgoZT0+dC5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246ZChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gZS5tZXRhZGF0YXM/bi5tZXRhZGF0YXM9ZS5tZXRhZGF0YXMubWFwKChlPT5lP3QudG9KU09OKGUpOnZvaWQgMCkpOm4ubWV0YWRhdGFzPVtdLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG49e21ldGFkYXRhczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIG4ubWV0YWRhdGFzPWUubWV0YWRhdGFzPy5tYXAoKGU9PnQuZnJvbVBhcnRpYWwoZSkpKXx8W10sbi5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzplPT5RdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZShRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0XCIsZW5jb2RlOihlLG89ci5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZW5vbSYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbm9tKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHQ9e2Rlbm9tOlwiXCJ9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtpZihlPj4+Mz09MSl0LmRlbm9tPW4uc3RyaW5nKCk7ZWxzZSBuLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7ZGVub206ZChlLmRlbm9tKT9TdHJpbmcoZS5kZW5vbSk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbm9tJiYoby5kZW5vbT1lLmRlbm9tKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtkZW5vbTpcIlwifTtyZXR1cm4gby5kZW5vbT1lLmRlbm9tPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbU1ldGFkYXRhUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0KFF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QpO2Z1bmN0aW9uIGwoKXtyZXR1cm57bWV0YWRhdGE6dC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUubWV0YWRhdGEmJnQuZW5jb2RlKGUubWV0YWRhdGEsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBhPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBzPWwoKTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7aWYoZT4+PjM9PTEpcy5tZXRhZGF0YT10LmRlY29kZShuLG4udWludDMyKCkpO2Vsc2Ugbi5za2lwVHlwZSg3JmUpfXJldHVybiBzfSxmcm9tSlNPTjplPT4oe21ldGFkYXRhOmQoZS5tZXRhZGF0YSk/dC5mcm9tSlNPTihlLm1ldGFkYXRhKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5tZXRhZGF0YSYmKG8ubWV0YWRhdGE9ZS5tZXRhZGF0YT90LnRvSlNPTihlLm1ldGFkYXRhKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89bCgpO3JldHVybiBvLm1ldGFkYXRhPXZvaWQgMCE9PWUubWV0YWRhdGEmJm51bGwhPT1lLm1ldGFkYXRhP3QuZnJvbVBhcnRpYWwoZS5tZXRhZGF0YSk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UoUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbU93bmVyc1JlcXVlc3RcIixlbmNvZGU6KG8sbj1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1vLmRlbm9tJiZuLnVpbnQzMigxMCkuc3RyaW5nKG8uZGVub20pLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIGk/bzpuZXcgaShvKTtsZXQgdD12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcz17ZGVub206XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3Qgbz1hLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnMuZGVub209YS5zdHJpbmcoKTticmVhaztjYXNlIDI6cy5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmbyl9fXJldHVybiBzfSxmcm9tSlNPTjpvPT4oe2Rlbm9tOmQoby5kZW5vbSk/U3RyaW5nKG8uZGVub20pOlwiXCIscGFnaW5hdGlvbjpkKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBuPXt9O3JldHVybiB2b2lkIDAhPT1vLmRlbm9tJiYobi5kZW5vbT1vLmRlbm9tKSx2b2lkIDAhPT1vLnBhZ2luYXRpb24mJihuLnBhZ2luYXRpb249by5wYWdpbmF0aW9uP2UudG9KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwKSxufSxmcm9tUGFydGlhbChvKXtjb25zdCBuPXtkZW5vbTpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5kZW5vbT1vLmRlbm9tPz9cIlwiLG4ucGFnaW5hdGlvbj12b2lkIDAhPT1vLnBhZ2luYXRpb24mJm51bGwhPT1vLnBhZ2luYXRpb24/ZS5mcm9tUGFydGlhbChvLnBhZ2luYXRpb24pOnZvaWQgMCxufSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlEZW5vbU93bmVyc1JlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZW5vbU93bmVyc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbU93bmVyc1JlcXVlc3RcIix2YWx1ZTpRdWVyeURlbm9tT3duZXJzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0KFF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0KTtmdW5jdGlvbiB1KCl7cmV0dXJue2FkZHJlc3M6XCJcIixiYWxhbmNlOm4uZnJvbVBhcnRpYWwoe30pfX1jb25zdCBEZW5vbU93bmVyPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuRGVub21Pd25lclwiLGVuY29kZTooZSxvPXIuY3JlYXRlKCkpPT4oXCJcIiE9PWUuYWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmFkZHJlc3MpLHZvaWQgMCE9PWUuYmFsYW5jZSYmbi5lbmNvZGUoZS5iYWxhbmNlLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIGk/ZTpuZXcgaShlKTtsZXQgdD12b2lkIDA9PT1vP2EubGVuOmEucG9zK287Y29uc3Qgcz11KCk7Zm9yKDthLnBvczx0Oyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMuYWRkcmVzcz1hLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpzLmJhbGFuY2U9bi5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7YWRkcmVzczpkKGUuYWRkcmVzcyk/U3RyaW5nKGUuYWRkcmVzcyk6XCJcIixiYWxhbmNlOmQoZS5iYWxhbmNlKT9uLmZyb21KU09OKGUuYmFsYW5jZSk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYWRkcmVzcyYmKG8uYWRkcmVzcz1lLmFkZHJlc3MpLHZvaWQgMCE9PWUuYmFsYW5jZSYmKG8uYmFsYW5jZT1lLmJhbGFuY2U/bi50b0pTT04oZS5iYWxhbmNlKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89dSgpO3JldHVybiBvLmFkZHJlc3M9ZS5hZGRyZXNzPz9cIlwiLG8uYmFsYW5jZT12b2lkIDAhPT1lLmJhbGFuY2UmJm51bGwhPT1lLmJhbGFuY2U/bi5mcm9tUGFydGlhbChlLmJhbGFuY2UpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+RGVub21Pd25lci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5EZW5vbU93bmVyLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLkRlbm9tT3duZXJcIix2YWx1ZTpEZW5vbU93bmVyLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRGVub21Pd25lcihEZW5vbU93bmVyKTtjb25zdCBRdWVyeURlbm9tT3duZXJzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tT3duZXJzUmVzcG9uc2VcIixlbmNvZGUoZSxuPXIuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUuZGVub21Pd25lcnMpRGVub21Pd25lci5lbmNvZGUobyxuLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24sbi51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbn0sZGVjb2RlKGUsbil7Y29uc3QgYT1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCB0PXZvaWQgMD09PW4/YS5sZW46YS5wb3Mrbjtjb25zdCBzPXtkZW5vbU93bmVyczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMuZGVub21Pd25lcnMucHVzaChEZW5vbU93bmVyLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDI6cy5wYWdpbmF0aW9uPW8uZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZSl9fXJldHVybiBzfSxmcm9tSlNPTjplPT4oe2Rlbm9tT3duZXJzOkFycmF5LmlzQXJyYXkoZT8uZGVub21Pd25lcnMpP2UuZGVub21Pd25lcnMubWFwKChlPT5EZW5vbU93bmVyLmZyb21KU09OKGUpKSk6W10scGFnaW5hdGlvbjpkKGUucGFnaW5hdGlvbik/by5mcm9tSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBuPXt9O3JldHVybiBlLmRlbm9tT3duZXJzP24uZGVub21Pd25lcnM9ZS5kZW5vbU93bmVycy5tYXAoKGU9PmU/RGVub21Pd25lci50b0pTT04oZSk6dm9pZCAwKSk6bi5kZW5vbU93bmVycz1bXSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJihuLnBhZ2luYXRpb249ZS5wYWdpbmF0aW9uP28udG9KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwKSxufSxmcm9tUGFydGlhbChlKXtjb25zdCBuPXtkZW5vbU93bmVyczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIG4uZGVub21Pd25lcnM9ZS5kZW5vbU93bmVycz8ubWFwKChlPT5EZW5vbU93bmVyLmZyb21QYXJ0aWFsKGUpKSl8fFtdLG4ucGFnaW5hdGlvbj12b2lkIDAhPT1lLnBhZ2luYXRpb24mJm51bGwhPT1lLnBhZ2luYXRpb24/by5mcm9tUGFydGlhbChlLnBhZ2luYXRpb24pOnZvaWQgMCxufSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlEZW5vbU93bmVyc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tT3duZXJzUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbm9tT3duZXJzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbm9tT3duZXJzUmVzcG9uc2UoUXVlcnlEZW5vbU93bmVyc1Jlc3BvbnNlKTtjb25zdCBRdWVyeVNlbmRFbmFibGVkUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U2VuZEVuYWJsZWRSZXF1ZXN0XCIsZW5jb2RlKG8sbj1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgZSBvZiBvLmRlbm9tcyluLnVpbnQzMigxMCkuc3RyaW5nKGUpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbixuLnVpbnQzMig3OTQpLmZvcmsoKSkubGRlbGltKCksbn0sZGVjb2RlKG8sbil7Y29uc3QgYT1vIGluc3RhbmNlb2YgaT9vOm5ldyBpKG8pO2xldCB0PXZvaWQgMD09PW4/YS5sZW46YS5wb3Mrbjtjb25zdCBzPXtkZW5vbXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7YS5wb3M8dDspe2NvbnN0IG89YS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpzLmRlbm9tcy5wdXNoKGEuc3RyaW5nKCkpO2JyZWFrO2Nhc2UgOTk6cy5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmbyl9fXJldHVybiBzfSxmcm9tSlNPTjpvPT4oe2Rlbm9tczpBcnJheS5pc0FycmF5KG8/LmRlbm9tcyk/by5kZW5vbXMubWFwKChlPT5TdHJpbmcoZSkpKTpbXSxwYWdpbmF0aW9uOmQoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IG49e307cmV0dXJuIG8uZGVub21zP24uZGVub21zPW8uZGVub21zLm1hcCgoZT0+ZSkpOm4uZGVub21zPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKG8pe2NvbnN0IG49e2Rlbm9tczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIG4uZGVub21zPW8uZGVub21zPy5tYXAoKGU9PmUpKXx8W10sbi5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzplPT5RdWVyeVNlbmRFbmFibGVkUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVNlbmRFbmFibGVkUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVNlbmRFbmFibGVkUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5U2VuZEVuYWJsZWRSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlTZW5kRW5hYmxlZFJlcXVlc3QoUXVlcnlTZW5kRW5hYmxlZFJlcXVlc3QpO2NvbnN0IFF1ZXJ5U2VuZEVuYWJsZWRSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U2VuZEVuYWJsZWRSZXNwb25zZVwiLGVuY29kZShlLG49ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2YgZS5zZW5kRW5hYmxlZClzLmVuY29kZShvLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbixuLnVpbnQzMig3OTQpLmZvcmsoKSkubGRlbGltKCksbn0sZGVjb2RlKGUsbil7Y29uc3QgYT1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCB0PXZvaWQgMD09PW4/YS5sZW46YS5wb3Mrbjtjb25zdCByPXtzZW5kRW5hYmxlZDpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIuc2VuZEVuYWJsZWQucHVzaChzLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDk5OnIucGFnaW5hdGlvbj1vLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtzZW5kRW5hYmxlZDpBcnJheS5pc0FycmF5KGU/LnNlbmRFbmFibGVkKT9lLnNlbmRFbmFibGVkLm1hcCgoZT0+cy5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246ZChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gZS5zZW5kRW5hYmxlZD9uLnNlbmRFbmFibGVkPWUuc2VuZEVuYWJsZWQubWFwKChlPT5lP3MudG9KU09OKGUpOnZvaWQgMCkpOm4uc2VuZEVuYWJsZWQ9W10sdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj17c2VuZEVuYWJsZWQ6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBuLnNlbmRFbmFibGVkPWUuc2VuZEVuYWJsZWQ/Lm1hcCgoZT0+cy5mcm9tUGFydGlhbChlKSkpfHxbXSxuLnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U2VuZEVuYWJsZWRSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVNlbmRFbmFibGVkUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTZW5kRW5hYmxlZFJlc3BvbnNlXCIsdmFsdWU6UXVlcnlTZW5kRW5hYmxlZFJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlTZW5kRW5hYmxlZFJlc3BvbnNlKFF1ZXJ5U2VuZEVuYWJsZWRSZXNwb25zZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJRdWVyeUJhbGFuY2VSZXF1ZXN0IjpbIlF1ZXJ5QmFsYW5jZVJlcXVlc3QiXSwiUXVlcnlCYWxhbmNlUmVzcG9uc2UiOlsiUXVlcnlCYWxhbmNlUmVzcG9uc2UiXSwiUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QiOlsiUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QiXSwiUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlIjpbIlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSJdLCJRdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdCI6WyJRdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdCJdLCJRdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVzcG9uc2UiOlsiUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlIl0sIlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXF1ZXN0IjpbIlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXF1ZXN0Il0sIlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZUJ5RGVub21SZXNwb25zZSI6WyJRdWVyeVNwZW5kYWJsZUJhbGFuY2VCeURlbm9tUmVzcG9uc2UiXSwiUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QiOlsiUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QiXSwiUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlIjpbIlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZSJdLCJRdWVyeVN1cHBseU9mUmVxdWVzdCI6WyJRdWVyeVN1cHBseU9mUmVxdWVzdCJdLCJRdWVyeVN1cHBseU9mUmVzcG9uc2UiOlsiUXVlcnlTdXBwbHlPZlJlc3BvbnNlIl0sIlF1ZXJ5UGFyYW1zUmVxdWVzdCI6WyJRdWVyeVBhcmFtc1JlcXVlc3QiXSwiUXVlcnlQYXJhbXNSZXNwb25zZSI6WyJRdWVyeVBhcmFtc1Jlc3BvbnNlIl0sIlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0IjpbIlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0Il0sIlF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZSI6WyJRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UiXSwiUXVlcnlEZW5vbU1ldGFkYXRhUmVxdWVzdCI6WyJRdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0Il0sIlF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlIjpbIlF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlIl0sIlF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0IjpbIlF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0Il0sIkRlbm9tT3duZXIiOlsiRGVub21Pd25lciJdLCJRdWVyeURlbm9tT3duZXJzUmVzcG9uc2UiOlsiUXVlcnlEZW5vbU93bmVyc1Jlc3BvbnNlIl0sIlF1ZXJ5U2VuZEVuYWJsZWRSZXF1ZXN0IjpbIlF1ZXJ5U2VuZEVuYWJsZWRSZXF1ZXN0Il0sIlF1ZXJ5U2VuZEVuYWJsZWRSZXNwb25zZSI6WyJRdWVyeVNlbmRFbmFibGVkUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAlanfH/wkAAD8JAAAQgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2JhbmsvdjFiZXRhMS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4vYmFuay5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJNc2dNdWx0aVNlbmQiLCJNc2dNdWx0aVNlbmRSZXNwb25zZSIsIk1zZ1NlbmQiLCJNc2dTZW5kUmVzcG9uc2UiLCJNc2dTZXRTZW5kRW5hYmxlZCIsIk1zZ1NldFNlbmRFbmFibGVkUmVzcG9uc2UiLCJNc2dVcGRhdGVQYXJhbXMiLCJNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyx0LHMsbixyLGEsZDskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJDb2luXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4vYmFuay5qc1wiLCBbW1wiSW5wdXRcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIk91dHB1dFwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiUGFyYW1zXCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXSxbXCJTZW5kRW5hYmxlZFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgTXNnU2VuZD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1NlbmRcIixlbmNvZGUobyx0PWEuY3JlYXRlKCkpe1wiXCIhPT1vLmZyb21BZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKG8uZnJvbUFkZHJlc3MpLFwiXCIhPT1vLnRvQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhvLnRvQWRkcmVzcyk7Zm9yKGNvbnN0IHMgb2Ygby5hbW91bnQpZS5lbmNvZGUocyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKG8sdCl7Y29uc3Qgcz1vIGluc3RhbmNlb2Ygcj9vOm5ldyByKG8pO2xldCBuPXZvaWQgMD09PXQ/cy5sZW46cy5wb3MrdDtjb25zdCBhPXtmcm9tQWRkcmVzczpcIlwiLHRvQWRkcmVzczpcIlwiLGFtb3VudDpbXX07Zm9yKDtzLnBvczxuOyl7Y29uc3Qgbz1zLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmEuZnJvbUFkZHJlc3M9cy5zdHJpbmcoKTticmVhaztjYXNlIDI6YS50b0FkZHJlc3M9cy5zdHJpbmcoKTticmVhaztjYXNlIDM6YS5hbW91bnQucHVzaChlLmRlY29kZShzLHMudWludDMyKCkpKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGF9LGZyb21KU09OOm89Pih7ZnJvbUFkZHJlc3M6ZChvLmZyb21BZGRyZXNzKT9TdHJpbmcoby5mcm9tQWRkcmVzcyk6XCJcIix0b0FkZHJlc3M6ZChvLnRvQWRkcmVzcyk/U3RyaW5nKG8udG9BZGRyZXNzKTpcIlwiLGFtb3VudDpBcnJheS5pc0FycmF5KG8/LmFtb3VudCk/by5hbW91bnQubWFwKChvPT5lLmZyb21KU09OKG8pKSk6W119KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5mcm9tQWRkcmVzcyYmKHQuZnJvbUFkZHJlc3M9by5mcm9tQWRkcmVzcyksdm9pZCAwIT09by50b0FkZHJlc3MmJih0LnRvQWRkcmVzcz1vLnRvQWRkcmVzcyksby5hbW91bnQ/dC5hbW91bnQ9by5hbW91bnQubWFwKChvPT5vP2UudG9KU09OKG8pOnZvaWQgMCkpOnQuYW1vdW50PVtdLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2Zyb21BZGRyZXNzOlwiXCIsdG9BZGRyZXNzOlwiXCIsYW1vdW50OltdfTtyZXR1cm4gdC5mcm9tQWRkcmVzcz1vLmZyb21BZGRyZXNzPz9cIlwiLHQudG9BZGRyZXNzPW8udG9BZGRyZXNzPz9cIlwiLHQuYW1vdW50PW8uYW1vdW50Py5tYXAoKG89PmUuZnJvbVBhcnRpYWwobykpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9Pk1zZ1NlbmQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnU2VuZC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZW5kXCIsdmFsdWU6TXNnU2VuZC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1NlbmQoTXNnU2VuZCk7Y29uc3QgTXNnU2VuZFJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnU2VuZFJlc3BvbnNlXCIsZW5jb2RlOihlLG89YS5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBuPXt9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTt0LnNraXBUeXBlKDcmZSl9cmV0dXJuIG59LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnU2VuZFJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1NlbmRSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZW5kUmVzcG9uc2VcIix2YWx1ZTpNc2dTZW5kUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dTZW5kUmVzcG9uc2UoTXNnU2VuZFJlc3BvbnNlKTtjb25zdCBNc2dNdWx0aVNlbmQ9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dNdWx0aVNlbmRcIixlbmNvZGUoZSxzPWEuY3JlYXRlKCkpe2Zvcihjb25zdCB0IG9mIGUuaW5wdXRzKW8uZW5jb2RlKHQscy51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7Zm9yKGNvbnN0IG8gb2YgZS5vdXRwdXRzKXQuZW5jb2RlKG8scy51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHN9LGRlY29kZShlLHMpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgYT12b2lkIDA9PT1zP24ubGVuOm4ucG9zK3M7Y29uc3QgZD17aW5wdXRzOltdLG91dHB1dHM6W119O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpkLmlucHV0cy5wdXNoKG8uZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpkLm91dHB1dHMucHVzaCh0LmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGR9LGZyb21KU09OOmU9Pih7aW5wdXRzOkFycmF5LmlzQXJyYXkoZT8uaW5wdXRzKT9lLmlucHV0cy5tYXAoKGU9Pm8uZnJvbUpTT04oZSkpKTpbXSxvdXRwdXRzOkFycmF5LmlzQXJyYXkoZT8ub3V0cHV0cyk/ZS5vdXRwdXRzLm1hcCgoZT0+dC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHM9e307cmV0dXJuIGUuaW5wdXRzP3MuaW5wdXRzPWUuaW5wdXRzLm1hcCgoZT0+ZT9vLnRvSlNPTihlKTp2b2lkIDApKTpzLmlucHV0cz1bXSxlLm91dHB1dHM/cy5vdXRwdXRzPWUub3V0cHV0cy5tYXAoKGU9PmU/dC50b0pTT04oZSk6dm9pZCAwKSk6cy5vdXRwdXRzPVtdLHN9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHM9e2lucHV0czpbXSxvdXRwdXRzOltdfTtyZXR1cm4gcy5pbnB1dHM9ZS5pbnB1dHM/Lm1hcCgoZT0+by5mcm9tUGFydGlhbChlKSkpfHxbXSxzLm91dHB1dHM9ZS5vdXRwdXRzPy5tYXAoKGU9PnQuZnJvbVBhcnRpYWwoZSkpKXx8W10sc30sZnJvbVByb3RvTXNnOmU9Pk1zZ011bHRpU2VuZC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dNdWx0aVNlbmQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnTXVsdGlTZW5kXCIsdmFsdWU6TXNnTXVsdGlTZW5kLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnTXVsdGlTZW5kKE1zZ011bHRpU2VuZCk7Y29uc3QgTXNnTXVsdGlTZW5kUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dNdWx0aVNlbmRSZXNwb25zZVwiLGVuY29kZTooZSxvPWEuY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3Qgbj17fTtmb3IoO3QucG9zPHM7KXtjb25zdCBlPXQudWludDMyKCk7dC5za2lwVHlwZSg3JmUpfXJldHVybiBufSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9Pk1zZ011bHRpU2VuZFJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ011bHRpU2VuZFJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ011bHRpU2VuZFJlc3BvbnNlXCIsdmFsdWU6TXNnTXVsdGlTZW5kUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dNdWx0aVNlbmRSZXNwb25zZShNc2dNdWx0aVNlbmRSZXNwb25zZSk7ZnVuY3Rpb24gaSgpe3JldHVybnthdXRob3JpdHk6XCJcIixwYXJhbXM6cy5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IE1zZ1VwZGF0ZVBhcmFtcz17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1VwZGF0ZVBhcmFtc1wiLGVuY29kZTooZSxvPWEuY3JlYXRlKCkpPT4oXCJcIiE9PWUuYXV0aG9yaXR5JiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuYXV0aG9yaXR5KSx2b2lkIDAhPT1lLnBhcmFtcyYmcy5lbmNvZGUoZS5wYXJhbXMsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBhPWkoKTtmb3IoO3QucG9zPG47KXtjb25zdCBlPXQudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5hdXRob3JpdHk9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5wYXJhbXM9cy5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7YXV0aG9yaXR5OmQoZS5hdXRob3JpdHkpP1N0cmluZyhlLmF1dGhvcml0eSk6XCJcIixwYXJhbXM6ZChlLnBhcmFtcyk/cy5mcm9tSlNPTihlLnBhcmFtcyk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYXV0aG9yaXR5JiYoby5hdXRob3JpdHk9ZS5hdXRob3JpdHkpLHZvaWQgMCE9PWUucGFyYW1zJiYoby5wYXJhbXM9ZS5wYXJhbXM/cy50b0pTT04oZS5wYXJhbXMpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1pKCk7cmV0dXJuIG8uYXV0aG9yaXR5PWUuYXV0aG9yaXR5Pz9cIlwiLG8ucGFyYW1zPXZvaWQgMCE9PWUucGFyYW1zJiZudWxsIT09ZS5wYXJhbXM/cy5mcm9tUGFydGlhbChlLnBhcmFtcyk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Nc2dVcGRhdGVQYXJhbXMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVXBkYXRlUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1VwZGF0ZVBhcmFtc1wiLHZhbHVlOk1zZ1VwZGF0ZVBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1VwZGF0ZVBhcmFtcyhNc2dVcGRhdGVQYXJhbXMpO2NvbnN0IE1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1hLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IG49e307Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3Quc2tpcFR5cGUoNyZlKX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dVcGRhdGVQYXJhbXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dVcGRhdGVQYXJhbXNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dVcGRhdGVQYXJhbXNSZXNwb25zZVwiLHZhbHVlOk1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UoTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UpO2NvbnN0IE1zZ1NldFNlbmRFbmFibGVkPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnU2V0U2VuZEVuYWJsZWRcIixlbmNvZGUoZSxvPWEuY3JlYXRlKCkpe1wiXCIhPT1lLmF1dGhvcml0eSYmby51aW50MzIoMTApLnN0cmluZyhlLmF1dGhvcml0eSk7Zm9yKGNvbnN0IHQgb2YgZS5zZW5kRW5hYmxlZCluLmVuY29kZSh0LG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCB0IG9mIGUudXNlRGVmYXVsdEZvcilvLnVpbnQzMigyNikuc3RyaW5nKHQpO3JldHVybiBvfSxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGE9e2F1dGhvcml0eTpcIlwiLHNlbmRFbmFibGVkOltdLHVzZURlZmF1bHRGb3I6W119O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmF1dGhvcml0eT10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnNlbmRFbmFibGVkLnB1c2gobi5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOmEudXNlRGVmYXVsdEZvci5wdXNoKHQuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHthdXRob3JpdHk6ZChlLmF1dGhvcml0eSk/U3RyaW5nKGUuYXV0aG9yaXR5KTpcIlwiLHNlbmRFbmFibGVkOkFycmF5LmlzQXJyYXkoZT8uc2VuZEVuYWJsZWQpP2Uuc2VuZEVuYWJsZWQubWFwKChlPT5uLmZyb21KU09OKGUpKSk6W10sdXNlRGVmYXVsdEZvcjpBcnJheS5pc0FycmF5KGU/LnVzZURlZmF1bHRGb3IpP2UudXNlRGVmYXVsdEZvci5tYXAoKGU9PlN0cmluZyhlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYXV0aG9yaXR5JiYoby5hdXRob3JpdHk9ZS5hdXRob3JpdHkpLGUuc2VuZEVuYWJsZWQ/by5zZW5kRW5hYmxlZD1lLnNlbmRFbmFibGVkLm1hcCgoZT0+ZT9uLnRvSlNPTihlKTp2b2lkIDApKTpvLnNlbmRFbmFibGVkPVtdLGUudXNlRGVmYXVsdEZvcj9vLnVzZURlZmF1bHRGb3I9ZS51c2VEZWZhdWx0Rm9yLm1hcCgoZT0+ZSkpOm8udXNlRGVmYXVsdEZvcj1bXSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXthdXRob3JpdHk6XCJcIixzZW5kRW5hYmxlZDpbXSx1c2VEZWZhdWx0Rm9yOltdfTtyZXR1cm4gby5hdXRob3JpdHk9ZS5hdXRob3JpdHk/P1wiXCIsby5zZW5kRW5hYmxlZD1lLnNlbmRFbmFibGVkPy5tYXAoKGU9Pm4uZnJvbVBhcnRpYWwoZSkpKXx8W10sby51c2VEZWZhdWx0Rm9yPWUudXNlRGVmYXVsdEZvcj8ubWFwKChlPT5lKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5Nc2dTZXRTZW5kRW5hYmxlZC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dTZXRTZW5kRW5hYmxlZC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZXRTZW5kRW5hYmxlZFwiLHZhbHVlOk1zZ1NldFNlbmRFbmFibGVkLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnU2V0U2VuZEVuYWJsZWQoTXNnU2V0U2VuZEVuYWJsZWQpO2NvbnN0IE1zZ1NldFNlbmRFbmFibGVkUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZXRTZW5kRW5hYmxlZFJlc3BvbnNlXCIsZW5jb2RlOihlLG89YS5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBuPXt9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTt0LnNraXBUeXBlKDcmZSl9cmV0dXJuIG59LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnU2V0U2VuZEVuYWJsZWRSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dTZXRTZW5kRW5hYmxlZFJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1NldFNlbmRFbmFibGVkUmVzcG9uc2VcIix2YWx1ZTpNc2dTZXRTZW5kRW5hYmxlZFJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnU2V0U2VuZEVuYWJsZWRSZXNwb25zZShNc2dTZXRTZW5kRW5hYmxlZFJlc3BvbnNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Ik1zZ1NlbmQiOlsiTXNnU2VuZCJdLCJNc2dTZW5kUmVzcG9uc2UiOlsiTXNnU2VuZFJlc3BvbnNlIl0sIk1zZ011bHRpU2VuZCI6WyJNc2dNdWx0aVNlbmQiXSwiTXNnTXVsdGlTZW5kUmVzcG9uc2UiOlsiTXNnTXVsdGlTZW5kUmVzcG9uc2UiXSwiTXNnVXBkYXRlUGFyYW1zIjpbIk1zZ1VwZGF0ZVBhcmFtcyJdLCJNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSI6WyJNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSJdLCJNc2dTZXRTZW5kRW5hYmxlZCI6WyJNc2dTZXRTZW5kRW5hYmxlZCJdLCJNc2dTZXRTZW5kRW5hYmxlZFJlc3BvbnNlIjpbIk1zZ1NldFNlbmRFbmFibGVkUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA3Bo6rS8QAAAvEAAAUAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzeyJpbXBvcnRzIjpbIi4uLy4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJQYWdlUmVxdWVzdCIsIlBhZ2VSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsdCxvLG4saTskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcImVuY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByKCl7cmV0dXJue2tleTpuZXcgVWludDhBcnJheSxvZmZzZXQ6QmlnSW50KDApLGxpbWl0OkJpZ0ludCgwKSxjb3VudFRvdGFsOiExLHJldmVyc2U6ITF9fSAgICAgICBjb25zdCBQYWdlUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS5xdWVyeS52MWJldGExLlBhZ2VSZXF1ZXN0XCIsZW5jb2RlOihlLG89dC5jcmVhdGUoKSk9PigwIT09ZS5rZXkubGVuZ3RoJiZvLnVpbnQzMigxMCkuYnl0ZXMoZS5rZXkpLGUub2Zmc2V0IT09QmlnSW50KDApJiZvLnVpbnQzMigxNikudWludDY0KGUub2Zmc2V0KSxlLmxpbWl0IT09QmlnSW50KDApJiZvLnVpbnQzMigyNCkudWludDY0KGUubGltaXQpLCEwPT09ZS5jb3VudFRvdGFsJiZvLnVpbnQzMigzMikuYm9vbChlLmNvdW50VG90YWwpLCEwPT09ZS5yZXZlcnNlJiZvLnVpbnQzMig0MCkuYm9vbChlLnJldmVyc2UpLG8pLGRlY29kZSh0LG8pe2NvbnN0IG49dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgaT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3Qgcz1yKCk7Zm9yKDtuLnBvczxpOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMua2V5PW4uYnl0ZXMoKTticmVhaztjYXNlIDI6cy5vZmZzZXQ9bi51aW50NjQoKTticmVhaztjYXNlIDM6cy5saW1pdD1uLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNDpzLmNvdW50VG90YWw9bi5ib29sKCk7YnJlYWs7Y2FzZSA1OnMucmV2ZXJzZT1uLmJvb2woKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7a2V5Om8oZS5rZXkpP24oZS5rZXkpOm5ldyBVaW50OEFycmF5LG9mZnNldDpvKGUub2Zmc2V0KT9CaWdJbnQoZS5vZmZzZXQudG9TdHJpbmcoKSk6QmlnSW50KDApLGxpbWl0Om8oZS5saW1pdCk/QmlnSW50KGUubGltaXQudG9TdHJpbmcoKSk6QmlnSW50KDApLGNvdW50VG90YWw6ISFvKGUuY291bnRUb3RhbCkmJkJvb2xlYW4oZS5jb3VudFRvdGFsKSxyZXZlcnNlOiEhbyhlLnJldmVyc2UpJiZCb29sZWFuKGUucmV2ZXJzZSl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5rZXkmJih0LmtleT1pKHZvaWQgMCE9PWUua2V5P2Uua2V5Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5vZmZzZXQmJih0Lm9mZnNldD0oZS5vZmZzZXR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5saW1pdCYmKHQubGltaXQ9KGUubGltaXR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5jb3VudFRvdGFsJiYodC5jb3VudFRvdGFsPWUuY291bnRUb3RhbCksdm9pZCAwIT09ZS5yZXZlcnNlJiYodC5yZXZlcnNlPWUucmV2ZXJzZSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1yKCk7cmV0dXJuIHQua2V5PWUua2V5Pz9uZXcgVWludDhBcnJheSx0Lm9mZnNldD12b2lkIDAhPT1lLm9mZnNldCYmbnVsbCE9PWUub2Zmc2V0P0JpZ0ludChlLm9mZnNldC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5saW1pdD12b2lkIDAhPT1lLmxpbWl0JiZudWxsIT09ZS5saW1pdD9CaWdJbnQoZS5saW1pdC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5jb3VudFRvdGFsPWUuY291bnRUb3RhbD8/ITEsdC5yZXZlcnNlPWUucmV2ZXJzZT8/ITEsdH0sZnJvbVByb3RvTXNnOmU9PlBhZ2VSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlBhZ2VSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS5xdWVyeS52MWJldGExLlBhZ2VSZXF1ZXN0XCIsdmFsdWU6UGFnZVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5QYWdlUmVxdWVzdChQYWdlUmVxdWVzdCk7ZnVuY3Rpb24gcygpe3JldHVybntuZXh0S2V5Om5ldyBVaW50OEFycmF5LHRvdGFsOkJpZ0ludCgwKX19Y29uc3QgUGFnZVJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnF1ZXJ5LnYxYmV0YTEuUGFnZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89dC5jcmVhdGUoKSk9PigwIT09ZS5uZXh0S2V5Lmxlbmd0aCYmby51aW50MzIoMTApLmJ5dGVzKGUubmV4dEtleSksZS50b3RhbCE9PUJpZ0ludCgwKSYmby51aW50MzIoMTYpLnVpbnQ2NChlLnRvdGFsKSxvKSxkZWNvZGUodCxvKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IGk9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHI9cygpO2Zvcig7bi5wb3M8aTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLm5leHRLZXk9bi5ieXRlcygpO2JyZWFrO2Nhc2UgMjpyLnRvdGFsPW4udWludDY0KCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe25leHRLZXk6byhlLm5leHRLZXkpP24oZS5uZXh0S2V5KTpuZXcgVWludDhBcnJheSx0b3RhbDpvKGUudG90YWwpP0JpZ0ludChlLnRvdGFsLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLm5leHRLZXkmJih0Lm5leHRLZXk9aSh2b2lkIDAhPT1lLm5leHRLZXk/ZS5uZXh0S2V5Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS50b3RhbCYmKHQudG90YWw9KGUudG90YWx8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1zKCk7cmV0dXJuIHQubmV4dEtleT1lLm5leHRLZXk/P25ldyBVaW50OEFycmF5LHQudG90YWw9dm9pZCAwIT09ZS50b3RhbCYmbnVsbCE9PWUudG90YWw/QmlnSW50KGUudG90YWwudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzplPT5QYWdlUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UGFnZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS5xdWVyeS52MWJldGExLlBhZ2VSZXNwb25zZVwiLHZhbHVlOlBhZ2VSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlBhZ2VSZXNwb25zZShQYWdlUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUGFnZVJlcXVlc3QiOlsiUGFnZVJlcXVlc3QiXSwiUGFnZVJlc3BvbnNlIjpbIlBhZ2VSZXNwb25zZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABgmM2VNBEAADQRAABEAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyIsIi4uLy4uLy4uL2RlY2ltYWxzLmpzIl0sImV4cG9ydHMiOlsiQ29pbiIsIkRlY0NvaW4iLCJEZWNQcm90byIsIkludFByb3RvIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbyx0LG4sZTskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXSxbXCIuLi8uLi8uLi9kZWNpbWFscy5qc1wiLCBbW1wiRGVjaW1hbFwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBDb2luPXt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnYxYmV0YTEuQ29pblwiLGVuY29kZToobyxuPXQuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVub20mJm4udWludDMyKDEwKS5zdHJpbmcoby5kZW5vbSksXCJcIiE9PW8uYW1vdW50JiZuLnVpbnQzMigxOCkuc3RyaW5nKG8uYW1vdW50KSxuKSxkZWNvZGUodCxuKXtjb25zdCBlPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IHI9dm9pZCAwPT09bj9lLmxlbjplLnBvcytuO2NvbnN0IHM9e2Rlbm9tOlwiXCIsYW1vdW50OlwiXCJ9O2Zvcig7ZS5wb3M8cjspe2NvbnN0IG89ZS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpzLmRlbm9tPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMuYW1vdW50PWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmbyl9fXJldHVybiBzfSxmcm9tSlNPTjpvPT4oe2Rlbm9tOm4oby5kZW5vbSk/U3RyaW5nKG8uZGVub20pOlwiXCIsYW1vdW50Om4oby5hbW91bnQpP1N0cmluZyhvLmFtb3VudCk6XCJcIn0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1vLmRlbm9tJiYodC5kZW5vbT1vLmRlbm9tKSx2b2lkIDAhPT1vLmFtb3VudCYmKHQuYW1vdW50PW8uYW1vdW50KSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXtkZW5vbTpcIlwiLGFtb3VudDpcIlwifTtyZXR1cm4gdC5kZW5vbT1vLmRlbm9tPz9cIlwiLHQuYW1vdW50PW8uYW1vdW50Pz9cIlwiLHR9LGZyb21Qcm90b01zZzpvPT5Db2luLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkNvaW4uZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnYxYmV0YTEuQ29pblwiLHZhbHVlOkNvaW4uZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db2luKENvaW4pO2NvbnN0IERlY0NvaW49e3R5cGVVcmw6XCIvY29zbW9zLmJhc2UudjFiZXRhMS5EZWNDb2luXCIsZW5jb2RlOihvLG49dC5jcmVhdGUoKSk9PihcIlwiIT09by5kZW5vbSYmbi51aW50MzIoMTApLnN0cmluZyhvLmRlbm9tKSxcIlwiIT09by5hbW91bnQmJm4udWludDMyKDE4KS5zdHJpbmcoZS5mcm9tVXNlcklucHV0KG8uYW1vdW50LDE4KS5hdG9taWNzKSxuKSxkZWNvZGUodCxuKXtjb25zdCByPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IHM9dm9pZCAwPT09bj9yLmxlbjpyLnBvcytuO2NvbnN0IGk9e2Rlbm9tOlwiXCIsYW1vdW50OlwiXCJ9O2Zvcig7ci5wb3M8czspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTppLmRlbm9tPXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkuYW1vdW50PWUuZnJvbUF0b21pY3Moci5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGZyb21KU09OOm89Pih7ZGVub206bihvLmRlbm9tKT9TdHJpbmcoby5kZW5vbSk6XCJcIixhbW91bnQ6bihvLmFtb3VudCk/U3RyaW5nKG8uYW1vdW50KTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVub20mJih0LmRlbm9tPW8uZGVub20pLHZvaWQgMCE9PW8uYW1vdW50JiYodC5hbW91bnQ9by5hbW91bnQpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2Rlbm9tOlwiXCIsYW1vdW50OlwiXCJ9O3JldHVybiB0LmRlbm9tPW8uZGVub20/P1wiXCIsdC5hbW91bnQ9by5hbW91bnQ/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm89PkRlY0NvaW4uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+RGVjQ29pbi5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhc2UudjFiZXRhMS5EZWNDb2luXCIsdmFsdWU6RGVjQ29pbi5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkRlY0NvaW4oRGVjQ29pbik7Y29uc3QgSW50UHJvdG89e3R5cGVVcmw6XCIvY29zbW9zLmJhc2UudjFiZXRhMS5JbnRQcm90b1wiLGVuY29kZToobyxuPXQuY3JlYXRlKCkpPT4oXCJcIiE9PW8uaW50JiZuLnVpbnQzMigxMCkuc3RyaW5nKG8uaW50KSxuKSxkZWNvZGUodCxuKXtjb25zdCBlPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IHI9dm9pZCAwPT09bj9lLmxlbjplLnBvcytuO2NvbnN0IHM9e2ludDpcIlwifTtmb3IoO2UucG9zPHI7KXtjb25zdCBvPWUudWludDMyKCk7aWYobz4+PjM9PTEpcy5pbnQ9ZS5zdHJpbmcoKTtlbHNlIGUuc2tpcFR5cGUoNyZvKX1yZXR1cm4gc30sZnJvbUpTT046bz0+KHtpbnQ6bihvLmludCk/U3RyaW5nKG8uaW50KTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uaW50JiYodC5pbnQ9by5pbnQpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2ludDpcIlwifTtyZXR1cm4gdC5pbnQ9by5pbnQ/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm89PkludFByb3RvLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkludFByb3RvLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS52MWJldGExLkludFByb3RvXCIsdmFsdWU6SW50UHJvdG8uZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5JbnRQcm90byhJbnRQcm90byk7Y29uc3QgRGVjUHJvdG89e3R5cGVVcmw6XCIvY29zbW9zLmJhc2UudjFiZXRhMS5EZWNQcm90b1wiLGVuY29kZToobyxuPXQuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVjJiZuLnVpbnQzMigxMCkuc3RyaW5nKGUuZnJvbVVzZXJJbnB1dChvLmRlYywxOCkuYXRvbWljcyksbiksZGVjb2RlKHQsbil7Y29uc3Qgcj10IGluc3RhbmNlb2Ygbz90Om5ldyBvKHQpO2xldCBzPXZvaWQgMD09PW4/ci5sZW46ci5wb3Mrbjtjb25zdCBpPXtkZWM6XCJcIn07Zm9yKDtyLnBvczxzOyl7Y29uc3Qgbz1yLnVpbnQzMigpO2lmKG8+Pj4zPT0xKWkuZGVjPWUuZnJvbUF0b21pY3Moci5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTtlbHNlIHIuc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHtkZWM6bihvLmRlYyk/U3RyaW5nKG8uZGVjKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVjJiYodC5kZWM9by5kZWMpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2RlYzpcIlwifTtyZXR1cm4gdC5kZWM9by5kZWM/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm89PkRlY1Byb3RvLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkRlY1Byb3RvLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS52MWJldGExLkRlY1Byb3RvXCIsdmFsdWU6RGVjUHJvdG8uZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EZWNQcm90byhEZWNQcm90byk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJDb2luIjpbIkNvaW4iXSwiRGVjQ29pbiI6WyJEZWNDb2luIl0sIkludFByb3RvIjpbIkludFByb3RvIl0sIkRlY1Byb3RvIjpbIkRlY1Byb3RvIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEgr7wK+DAAAvgwAAFMAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9jcnlwdG8vbXVsdGlzaWcvdjFiZXRhMS9tdWx0aXNpZy5qc3siaW1wb3J0cyI6WyIuLi8uLi8uLi8uLi9iaW5hcnkuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi8uLi8uLi9qc29uLXNhZmUuanMiLCIuLi8uLi8uLi8uLi9oZWxwZXJzLmpzIl0sImV4cG9ydHMiOlsiQ29tcGFjdEJpdEFycmF5IiwiTXVsdGlTaWduYXR1cmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0LGUscixzLG87JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXSxbXCIuLi8uLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IE11bHRpU2lnbmF0dXJlPXt0eXBlVXJsOlwiL2Nvc21vcy5jcnlwdG8ubXVsdGlzaWcudjFiZXRhMS5NdWx0aVNpZ25hdHVyZVwiLGVuY29kZSh0LHI9ZS5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2YgdC5zaWduYXR1cmVzKXIudWludDMyKDEwKS5ieXRlcyhlKTtyZXR1cm4gcn0sZGVjb2RlKGUscil7Y29uc3Qgcz1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCBvPXZvaWQgMD09PXI/cy5sZW46cy5wb3Mrcjtjb25zdCBpPXtzaWduYXR1cmVzOltdfTtmb3IoO3MucG9zPG87KXtjb25zdCB0PXMudWludDMyKCk7aWYodD4+PjM9PTEpaS5zaWduYXR1cmVzLnB1c2gocy5ieXRlcygpKTtlbHNlIHMuc2tpcFR5cGUoNyZ0KX1yZXR1cm4gaX0sZnJvbUpTT046dD0+KHtzaWduYXR1cmVzOkFycmF5LmlzQXJyYXkodD8uc2lnbmF0dXJlcyk/dC5zaWduYXR1cmVzLm1hcCgodD0+cih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHQuc2lnbmF0dXJlcz9lLnNpZ25hdHVyZXM9dC5zaWduYXR1cmVzLm1hcCgodD0+cyh2b2lkIDAhPT10P3Q6bmV3IFVpbnQ4QXJyYXkpKSk6ZS5zaWduYXR1cmVzPVtdLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e3NpZ25hdHVyZXM6W119O3JldHVybiBlLnNpZ25hdHVyZXM9dC5zaWduYXR1cmVzPy5tYXAoKHQ9PnQpKXx8W10sZX0sZnJvbVByb3RvTXNnOnQ9Pk11bHRpU2lnbmF0dXJlLmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9Pk11bHRpU2lnbmF0dXJlLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9jb3Ntb3MuY3J5cHRvLm11bHRpc2lnLnYxYmV0YTEuTXVsdGlTaWduYXR1cmVcIix2YWx1ZTpNdWx0aVNpZ25hdHVyZS5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLk11bHRpU2lnbmF0dXJlKE11bHRpU2lnbmF0dXJlKTtmdW5jdGlvbiBpKCl7cmV0dXJue2V4dHJhQml0c1N0b3JlZDowLGVsZW1zOm5ldyBVaW50OEFycmF5fX1jb25zdCBDb21wYWN0Qml0QXJyYXk9e3R5cGVVcmw6XCIvY29zbW9zLmNyeXB0by5tdWx0aXNpZy52MWJldGExLkNvbXBhY3RCaXRBcnJheVwiLGVuY29kZToodCxyPWUuY3JlYXRlKCkpPT4oMCE9PXQuZXh0cmFCaXRzU3RvcmVkJiZyLnVpbnQzMig4KS51aW50MzIodC5leHRyYUJpdHNTdG9yZWQpLDAhPT10LmVsZW1zLmxlbmd0aCYmci51aW50MzIoMTgpLmJ5dGVzKHQuZWxlbXMpLHIpLGRlY29kZShlLHIpe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgbz12b2lkIDA9PT1yP3MubGVuOnMucG9zK3I7Y29uc3Qgbj1pKCk7Zm9yKDtzLnBvczxvOyl7Y29uc3QgdD1zLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOm4uZXh0cmFCaXRzU3RvcmVkPXMudWludDMyKCk7YnJlYWs7Y2FzZSAyOm4uZWxlbXM9cy5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3JnQpfX1yZXR1cm4gbn0sZnJvbUpTT046dD0+KHtleHRyYUJpdHNTdG9yZWQ6byh0LmV4dHJhQml0c1N0b3JlZCk/TnVtYmVyKHQuZXh0cmFCaXRzU3RvcmVkKTowLGVsZW1zOm8odC5lbGVtcyk/cih0LmVsZW1zKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT10LmV4dHJhQml0c1N0b3JlZCYmKGUuZXh0cmFCaXRzU3RvcmVkPU1hdGgucm91bmQodC5leHRyYUJpdHNTdG9yZWQpKSx2b2lkIDAhPT10LmVsZW1zJiYoZS5lbGVtcz1zKHZvaWQgMCE9PXQuZWxlbXM/dC5lbGVtczpuZXcgVWludDhBcnJheSkpLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9aSgpO3JldHVybiBlLmV4dHJhQml0c1N0b3JlZD10LmV4dHJhQml0c1N0b3JlZD8/MCxlLmVsZW1zPXQuZWxlbXM/P25ldyBVaW50OEFycmF5LGV9LGZyb21Qcm90b01zZzp0PT5Db21wYWN0Qml0QXJyYXkuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+Q29tcGFjdEJpdEFycmF5LmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9jb3Ntb3MuY3J5cHRvLm11bHRpc2lnLnYxYmV0YTEuQ29tcGFjdEJpdEFycmF5XCIsdmFsdWU6Q29tcGFjdEJpdEFycmF5LmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29tcGFjdEJpdEFycmF5KENvbXBhY3RCaXRBcnJheSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJNdWx0aVNpZ25hdHVyZSI6WyJNdWx0aVNpZ25hdHVyZSJdLCJDb21wYWN0Qml0QXJyYXkiOlsiQ29tcGFjdEJpdEFycmF5Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAR0+hcPTQAAD00AAFQAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9kaXN0cmlidXRpb24uanN7ImltcG9ydHMiOlsiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanMiLCIuLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi9kZWNpbWFscy5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbCIsIkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQiLCJEZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkIiwiRGVsZWdhdG9yU3RhcnRpbmdJbmZvIiwiRmVlUG9vbCIsIlBhcmFtcyIsIlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvbiIsIlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzIiwiVmFsaWRhdG9ySGlzdG9yaWNhbFJld2FyZHMiLCJWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHMiLCJWYWxpZGF0b3JTbGFzaEV2ZW50IiwiVmFsaWRhdG9yU2xhc2hFdmVudHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvLHQsZSxyLGksbjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJEZWNDb2luXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJDb2luXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vZGVjaW1hbHMuanNcIiwgW1tcIkRlY2ltYWxcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBQYXJhbXM9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlBhcmFtc1wiLGVuY29kZToobyx0PXIuY3JlYXRlKCkpPT4oXCJcIiE9PW8uY29tbXVuaXR5VGF4JiZ0LnVpbnQzMigxMCkuc3RyaW5nKGkuZnJvbVVzZXJJbnB1dChvLmNvbW11bml0eVRheCwxOCkuYXRvbWljcyksXCJcIiE9PW8uYmFzZVByb3Bvc2VyUmV3YXJkJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGkuZnJvbVVzZXJJbnB1dChvLmJhc2VQcm9wb3NlclJld2FyZCwxOCkuYXRvbWljcyksXCJcIiE9PW8uYm9udXNQcm9wb3NlclJld2FyZCYmdC51aW50MzIoMjYpLnN0cmluZyhpLmZyb21Vc2VySW5wdXQoby5ib251c1Byb3Bvc2VyUmV3YXJkLDE4KS5hdG9taWNzKSwhMD09PW8ud2l0aGRyYXdBZGRyRW5hYmxlZCYmdC51aW50MzIoMzIpLmJvb2woby53aXRoZHJhd0FkZHJFbmFibGVkKSx0KSxkZWNvZGUobyx0KXtjb25zdCByPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IG49dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IGE9e2NvbW11bml0eVRheDpcIlwiLGJhc2VQcm9wb3NlclJld2FyZDpcIlwiLGJvbnVzUHJvcG9zZXJSZXdhcmQ6XCJcIix3aXRoZHJhd0FkZHJFbmFibGVkOiExfTtmb3IoO3IucG9zPG47KXtjb25zdCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6YS5jb21tdW5pdHlUYXg9aS5mcm9tQXRvbWljcyhyLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2Nhc2UgMjphLmJhc2VQcm9wb3NlclJld2FyZD1pLmZyb21BdG9taWNzKHIuc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEuYm9udXNQcm9wb3NlclJld2FyZD1pLmZyb21BdG9taWNzKHIuc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmEud2l0aGRyYXdBZGRyRW5hYmxlZD1yLmJvb2woKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGF9LGZyb21KU09OOm89Pih7Y29tbXVuaXR5VGF4Om4oby5jb21tdW5pdHlUYXgpP1N0cmluZyhvLmNvbW11bml0eVRheCk6XCJcIixiYXNlUHJvcG9zZXJSZXdhcmQ6bihvLmJhc2VQcm9wb3NlclJld2FyZCk/U3RyaW5nKG8uYmFzZVByb3Bvc2VyUmV3YXJkKTpcIlwiLGJvbnVzUHJvcG9zZXJSZXdhcmQ6bihvLmJvbnVzUHJvcG9zZXJSZXdhcmQpP1N0cmluZyhvLmJvbnVzUHJvcG9zZXJSZXdhcmQpOlwiXCIsd2l0aGRyYXdBZGRyRW5hYmxlZDohIW4oby53aXRoZHJhd0FkZHJFbmFibGVkKSYmQm9vbGVhbihvLndpdGhkcmF3QWRkckVuYWJsZWQpfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uY29tbXVuaXR5VGF4JiYodC5jb21tdW5pdHlUYXg9by5jb21tdW5pdHlUYXgpLHZvaWQgMCE9PW8uYmFzZVByb3Bvc2VyUmV3YXJkJiYodC5iYXNlUHJvcG9zZXJSZXdhcmQ9by5iYXNlUHJvcG9zZXJSZXdhcmQpLHZvaWQgMCE9PW8uYm9udXNQcm9wb3NlclJld2FyZCYmKHQuYm9udXNQcm9wb3NlclJld2FyZD1vLmJvbnVzUHJvcG9zZXJSZXdhcmQpLHZvaWQgMCE9PW8ud2l0aGRyYXdBZGRyRW5hYmxlZCYmKHQud2l0aGRyYXdBZGRyRW5hYmxlZD1vLndpdGhkcmF3QWRkckVuYWJsZWQpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2NvbW11bml0eVRheDpcIlwiLGJhc2VQcm9wb3NlclJld2FyZDpcIlwiLGJvbnVzUHJvcG9zZXJSZXdhcmQ6XCJcIix3aXRoZHJhd0FkZHJFbmFibGVkOiExfTtyZXR1cm4gdC5jb21tdW5pdHlUYXg9by5jb21tdW5pdHlUYXg/P1wiXCIsdC5iYXNlUHJvcG9zZXJSZXdhcmQ9by5iYXNlUHJvcG9zZXJSZXdhcmQ/P1wiXCIsdC5ib251c1Byb3Bvc2VyUmV3YXJkPW8uYm9udXNQcm9wb3NlclJld2FyZD8/XCJcIix0LndpdGhkcmF3QWRkckVuYWJsZWQ9by53aXRoZHJhd0FkZHJFbmFibGVkPz8hMSx0fSxmcm9tUHJvdG9Nc2c6bz0+UGFyYW1zLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlBhcmFtcy5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlBhcmFtc1wiLHZhbHVlOlBhcmFtcy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlBhcmFtcyhQYXJhbXMpO2NvbnN0IFZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkc1wiLGVuY29kZSh0LGU9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IHIgb2YgdC5jdW11bGF0aXZlUmV3YXJkUmF0aW8pby5lbmNvZGUocixlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gMCE9PXQucmVmZXJlbmNlQ291bnQmJmUudWludDMyKDE2KS51aW50MzIodC5yZWZlcmVuY2VDb3VudCksZX0sZGVjb2RlKHQscil7Y29uc3QgaT10IGluc3RhbmNlb2YgZT90Om5ldyBlKHQpO2xldCBuPXZvaWQgMD09PXI/aS5sZW46aS5wb3Mrcjtjb25zdCBhPXtjdW11bGF0aXZlUmV3YXJkUmF0aW86W10scmVmZXJlbmNlQ291bnQ6MH07Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmEuY3VtdWxhdGl2ZVJld2FyZFJhdGlvLnB1c2goby5kZWNvZGUoaSxpLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmEucmVmZXJlbmNlQ291bnQ9aS51aW50MzIoKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7Y3VtdWxhdGl2ZVJld2FyZFJhdGlvOkFycmF5LmlzQXJyYXkodD8uY3VtdWxhdGl2ZVJld2FyZFJhdGlvKT90LmN1bXVsYXRpdmVSZXdhcmRSYXRpby5tYXAoKHQ9Pm8uZnJvbUpTT04odCkpKTpbXSxyZWZlcmVuY2VDb3VudDpuKHQucmVmZXJlbmNlQ291bnQpP051bWJlcih0LnJlZmVyZW5jZUNvdW50KTowfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHQuY3VtdWxhdGl2ZVJld2FyZFJhdGlvP2UuY3VtdWxhdGl2ZVJld2FyZFJhdGlvPXQuY3VtdWxhdGl2ZVJld2FyZFJhdGlvLm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLmN1bXVsYXRpdmVSZXdhcmRSYXRpbz1bXSx2b2lkIDAhPT10LnJlZmVyZW5jZUNvdW50JiYoZS5yZWZlcmVuY2VDb3VudD1NYXRoLnJvdW5kKHQucmVmZXJlbmNlQ291bnQpKSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXtjdW11bGF0aXZlUmV3YXJkUmF0aW86W10scmVmZXJlbmNlQ291bnQ6MH07cmV0dXJuIGUuY3VtdWxhdGl2ZVJld2FyZFJhdGlvPXQuY3VtdWxhdGl2ZVJld2FyZFJhdGlvPy5tYXAoKHQ9Pm8uZnJvbVBhcnRpYWwodCkpKXx8W10sZS5yZWZlcmVuY2VDb3VudD10LnJlZmVyZW5jZUNvdW50Pz8wLGV9LGZyb21Qcm90b01zZzpvPT5WYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5WYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcy5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzXCIsdmFsdWU6VmFsaWRhdG9ySGlzdG9yaWNhbFJld2FyZHMuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcyhWYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcyk7ZnVuY3Rpb24gYSgpe3JldHVybntyZXdhcmRzOltdLHBlcmlvZDpCaWdJbnQoMCl9fWNvbnN0IFZhbGlkYXRvckN1cnJlbnRSZXdhcmRzPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JDdXJyZW50UmV3YXJkc1wiLGVuY29kZSh0LGU9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IHIgb2YgdC5yZXdhcmRzKW8uZW5jb2RlKHIsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHQucGVyaW9kIT09QmlnSW50KDApJiZlLnVpbnQzMigxNikudWludDY0KHQucGVyaW9kKSxlfSxkZWNvZGUodCxyKXtjb25zdCBpPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IG49dm9pZCAwPT09cj9pLmxlbjppLnBvcytyO2NvbnN0IHM9YSgpO2Zvcig7aS5wb3M8bjspe2NvbnN0IHQ9aS51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTpzLnJld2FyZHMucHVzaChvLmRlY29kZShpLGkudWludDMyKCkpKTticmVhaztjYXNlIDI6cy5wZXJpb2Q9aS51aW50NjQoKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZ0KX19cmV0dXJuIHN9LGZyb21KU09OOnQ9Pih7cmV3YXJkczpBcnJheS5pc0FycmF5KHQ/LnJld2FyZHMpP3QucmV3YXJkcy5tYXAoKHQ9Pm8uZnJvbUpTT04odCkpKTpbXSxwZXJpb2Q6bih0LnBlcmlvZCk/QmlnSW50KHQucGVyaW9kLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB0LnJld2FyZHM/ZS5yZXdhcmRzPXQucmV3YXJkcy5tYXAoKHQ9PnQ/by50b0pTT04odCk6dm9pZCAwKSk6ZS5yZXdhcmRzPVtdLHZvaWQgMCE9PXQucGVyaW9kJiYoZS5wZXJpb2Q9KHQucGVyaW9kfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9YSgpO3JldHVybiBlLnJld2FyZHM9dC5yZXdhcmRzPy5tYXAoKHQ9Pm8uZnJvbVBhcnRpYWwodCkpKXx8W10sZS5wZXJpb2Q9dm9pZCAwIT09dC5wZXJpb2QmJm51bGwhPT10LnBlcmlvZD9CaWdJbnQodC5wZXJpb2QudG9TdHJpbmcoKSk6QmlnSW50KDApLGV9LGZyb21Qcm90b01zZzpvPT5WYWxpZGF0b3JDdXJyZW50UmV3YXJkcy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5WYWxpZGF0b3JDdXJyZW50UmV3YXJkcy5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzXCIsdmFsdWU6VmFsaWRhdG9yQ3VycmVudFJld2FyZHMuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JDdXJyZW50UmV3YXJkcyhWYWxpZGF0b3JDdXJyZW50UmV3YXJkcyk7Y29uc3QgVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb25cIixlbmNvZGUodCxlPXIuY3JlYXRlKCkpe2Zvcihjb25zdCByIG9mIHQuY29tbWlzc2lvbilvLmVuY29kZShyLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBlfSxkZWNvZGUodCxyKXtjb25zdCBpPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IG49dm9pZCAwPT09cj9pLmxlbjppLnBvcytyO2NvbnN0IGE9e2NvbW1pc3Npb246W119O2Zvcig7aS5wb3M8bjspe2NvbnN0IHQ9aS51aW50MzIoKTtpZih0Pj4+Mz09MSlhLmNvbW1pc3Npb24ucHVzaChvLmRlY29kZShpLGkudWludDMyKCkpKTtlbHNlIGkuc2tpcFR5cGUoNyZ0KX1yZXR1cm4gYX0sZnJvbUpTT046dD0+KHtjb21taXNzaW9uOkFycmF5LmlzQXJyYXkodD8uY29tbWlzc2lvbik/dC5jb21taXNzaW9uLm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHQuY29tbWlzc2lvbj9lLmNvbW1pc3Npb249dC5jb21taXNzaW9uLm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLmNvbW1pc3Npb249W10sZX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgZT17Y29tbWlzc2lvbjpbXX07cmV0dXJuIGUuY29tbWlzc2lvbj10LmNvbW1pc3Npb24/Lm1hcCgodD0+by5mcm9tUGFydGlhbCh0KSkpfHxbXSxlfSxmcm9tUHJvdG9Nc2c6bz0+VmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvbi5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvblwiLHZhbHVlOlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvbi5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvbihWYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb24pO2NvbnN0IFZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcz17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzXCIsZW5jb2RlKHQsZT1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgciBvZiB0LnJld2FyZHMpby5lbmNvZGUocixlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZX0sZGVjb2RlKHQscil7Y29uc3QgaT10IGluc3RhbmNlb2YgZT90Om5ldyBlKHQpO2xldCBuPXZvaWQgMD09PXI/aS5sZW46aS5wb3Mrcjtjb25zdCBhPXtyZXdhcmRzOltdfTtmb3IoO2kucG9zPG47KXtjb25zdCB0PWkudWludDMyKCk7aWYodD4+PjM9PTEpYS5yZXdhcmRzLnB1c2goby5kZWNvZGUoaSxpLnVpbnQzMigpKSk7ZWxzZSBpLnNraXBUeXBlKDcmdCl9cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7cmV3YXJkczpBcnJheS5pc0FycmF5KHQ/LnJld2FyZHMpP3QucmV3YXJkcy5tYXAoKHQ9Pm8uZnJvbUpTT04odCkpKTpbXX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB0LnJld2FyZHM/ZS5yZXdhcmRzPXQucmV3YXJkcy5tYXAoKHQ9PnQ/by50b0pTT04odCk6dm9pZCAwKSk6ZS5yZXdhcmRzPVtdLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e3Jld2FyZHM6W119O3JldHVybiBlLnJld2FyZHM9dC5yZXdhcmRzPy5tYXAoKHQ9Pm8uZnJvbVBhcnRpYWwodCkpKXx8W10sZX0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5WYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHMuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNcIix2YWx1ZTpWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHMuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHMoVmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzKTtmdW5jdGlvbiBzKCl7cmV0dXJue3ZhbGlkYXRvclBlcmlvZDpCaWdJbnQoMCksZnJhY3Rpb246XCJcIn19Y29uc3QgVmFsaWRhdG9yU2xhc2hFdmVudD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9yU2xhc2hFdmVudFwiLGVuY29kZToobyx0PXIuY3JlYXRlKCkpPT4oby52YWxpZGF0b3JQZXJpb2QhPT1CaWdJbnQoMCkmJnQudWludDMyKDgpLnVpbnQ2NChvLnZhbGlkYXRvclBlcmlvZCksXCJcIiE9PW8uZnJhY3Rpb24mJnQudWludDMyKDE4KS5zdHJpbmcoaS5mcm9tVXNlcklucHV0KG8uZnJhY3Rpb24sMTgpLmF0b21pY3MpLHQpLGRlY29kZShvLHQpe2NvbnN0IHI9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgbj12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3QgYT1zKCk7Zm9yKDtyLnBvczxuOyl7Y29uc3Qgbz1yLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmEudmFsaWRhdG9yUGVyaW9kPXIudWludDY0KCk7YnJlYWs7Y2FzZSAyOmEuZnJhY3Rpb249aS5mcm9tQXRvbWljcyhyLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3JQZXJpb2Q6bihvLnZhbGlkYXRvclBlcmlvZCk/QmlnSW50KG8udmFsaWRhdG9yUGVyaW9kLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxmcmFjdGlvbjpuKG8uZnJhY3Rpb24pP1N0cmluZyhvLmZyYWN0aW9uKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8udmFsaWRhdG9yUGVyaW9kJiYodC52YWxpZGF0b3JQZXJpb2Q9KG8udmFsaWRhdG9yUGVyaW9kfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8uZnJhY3Rpb24mJih0LmZyYWN0aW9uPW8uZnJhY3Rpb24pLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9cygpO3JldHVybiB0LnZhbGlkYXRvclBlcmlvZD12b2lkIDAhPT1vLnZhbGlkYXRvclBlcmlvZCYmbnVsbCE9PW8udmFsaWRhdG9yUGVyaW9kP0JpZ0ludChvLnZhbGlkYXRvclBlcmlvZC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5mcmFjdGlvbj1vLmZyYWN0aW9uPz9cIlwiLHR9LGZyb21Qcm90b01zZzpvPT5WYWxpZGF0b3JTbGFzaEV2ZW50LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvclNsYXNoRXZlbnQuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JTbGFzaEV2ZW50XCIsdmFsdWU6VmFsaWRhdG9yU2xhc2hFdmVudC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvclNsYXNoRXZlbnQoVmFsaWRhdG9yU2xhc2hFdmVudCk7Y29uc3QgVmFsaWRhdG9yU2xhc2hFdmVudHM9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvclNsYXNoRXZlbnRzXCIsZW5jb2RlKG8sdD1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgZSBvZiBvLnZhbGlkYXRvclNsYXNoRXZlbnRzKVZhbGlkYXRvclNsYXNoRXZlbnQuZW5jb2RlKGUsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShvLHQpe2NvbnN0IHI9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgaT12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3Qgbj17dmFsaWRhdG9yU2xhc2hFdmVudHM6W119O2Zvcig7ci5wb3M8aTspe2NvbnN0IG89ci51aW50MzIoKTtpZihvPj4+Mz09MSluLnZhbGlkYXRvclNsYXNoRXZlbnRzLnB1c2goVmFsaWRhdG9yU2xhc2hFdmVudC5kZWNvZGUocixyLnVpbnQzMigpKSk7ZWxzZSByLnNraXBUeXBlKDcmbyl9cmV0dXJuIG59LGZyb21KU09OOm89Pih7dmFsaWRhdG9yU2xhc2hFdmVudHM6QXJyYXkuaXNBcnJheShvPy52YWxpZGF0b3JTbGFzaEV2ZW50cyk/by52YWxpZGF0b3JTbGFzaEV2ZW50cy5tYXAoKG89PlZhbGlkYXRvclNsYXNoRXZlbnQuZnJvbUpTT04obykpKTpbXX0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiBvLnZhbGlkYXRvclNsYXNoRXZlbnRzP3QudmFsaWRhdG9yU2xhc2hFdmVudHM9by52YWxpZGF0b3JTbGFzaEV2ZW50cy5tYXAoKG89Pm8/VmFsaWRhdG9yU2xhc2hFdmVudC50b0pTT04obyk6dm9pZCAwKSk6dC52YWxpZGF0b3JTbGFzaEV2ZW50cz1bXSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXt2YWxpZGF0b3JTbGFzaEV2ZW50czpbXX07cmV0dXJuIHQudmFsaWRhdG9yU2xhc2hFdmVudHM9by52YWxpZGF0b3JTbGFzaEV2ZW50cz8ubWFwKChvPT5WYWxpZGF0b3JTbGFzaEV2ZW50LmZyb21QYXJ0aWFsKG8pKSl8fFtdLHR9LGZyb21Qcm90b01zZzpvPT5WYWxpZGF0b3JTbGFzaEV2ZW50cy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5WYWxpZGF0b3JTbGFzaEV2ZW50cy5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvclNsYXNoRXZlbnRzXCIsdmFsdWU6VmFsaWRhdG9yU2xhc2hFdmVudHMuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JTbGFzaEV2ZW50cyhWYWxpZGF0b3JTbGFzaEV2ZW50cyk7Y29uc3QgRmVlUG9vbD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuRmVlUG9vbFwiLGVuY29kZSh0LGU9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IHIgb2YgdC5jb21tdW5pdHlQb29sKW8uZW5jb2RlKHIsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZSh0LHIpe2NvbnN0IGk9dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgbj12b2lkIDA9PT1yP2kubGVuOmkucG9zK3I7Y29uc3QgYT17Y29tbXVuaXR5UG9vbDpbXX07Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO2lmKHQ+Pj4zPT0xKWEuY29tbXVuaXR5UG9vbC5wdXNoKG8uZGVjb2RlKGksaS51aW50MzIoKSkpO2Vsc2UgaS5za2lwVHlwZSg3JnQpfXJldHVybiBhfSxmcm9tSlNPTjp0PT4oe2NvbW11bml0eVBvb2w6QXJyYXkuaXNBcnJheSh0Py5jb21tdW5pdHlQb29sKT90LmNvbW11bml0eVBvb2wubWFwKCh0PT5vLmZyb21KU09OKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5jb21tdW5pdHlQb29sP2UuY29tbXVuaXR5UG9vbD10LmNvbW11bml0eVBvb2wubWFwKCh0PT50P28udG9KU09OKHQpOnZvaWQgMCkpOmUuY29tbXVuaXR5UG9vbD1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXtjb21tdW5pdHlQb29sOltdfTtyZXR1cm4gZS5jb21tdW5pdHlQb29sPXQuY29tbXVuaXR5UG9vbD8ubWFwKCh0PT5vLmZyb21QYXJ0aWFsKHQpKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5GZWVQb29sLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkZlZVBvb2wuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5GZWVQb29sXCIsdmFsdWU6RmVlUG9vbC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkZlZVBvb2woRmVlUG9vbCk7Y29uc3QgQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWw9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsXCIsZW5jb2RlKG8sZT1yLmNyZWF0ZSgpKXtcIlwiIT09by50aXRsZSYmZS51aW50MzIoMTApLnN0cmluZyhvLnRpdGxlKSxcIlwiIT09by5kZXNjcmlwdGlvbiYmZS51aW50MzIoMTgpLnN0cmluZyhvLmRlc2NyaXB0aW9uKSxcIlwiIT09by5yZWNpcGllbnQmJmUudWludDMyKDI2KS5zdHJpbmcoby5yZWNpcGllbnQpO2Zvcihjb25zdCByIG9mIG8uYW1vdW50KXQuZW5jb2RlKHIsZS51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZShvLHIpe2NvbnN0IGk9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgbj12b2lkIDA9PT1yP2kubGVuOmkucG9zK3I7Y29uc3QgYT17JHR5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsXCIsdGl0bGU6XCJcIixkZXNjcmlwdGlvbjpcIlwiLHJlY2lwaWVudDpcIlwiLGFtb3VudDpbXX07Zm9yKDtpLnBvczxuOyl7Y29uc3Qgbz1pLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmEudGl0bGU9aS5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5kZXNjcmlwdGlvbj1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMzphLnJlY2lwaWVudD1pLnN0cmluZygpO2JyZWFrO2Nhc2UgNDphLmFtb3VudC5wdXNoKHQuZGVjb2RlKGksaS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHt0aXRsZTpuKG8udGl0bGUpP1N0cmluZyhvLnRpdGxlKTpcIlwiLGRlc2NyaXB0aW9uOm4oby5kZXNjcmlwdGlvbik/U3RyaW5nKG8uZGVzY3JpcHRpb24pOlwiXCIscmVjaXBpZW50Om4oby5yZWNpcGllbnQpP1N0cmluZyhvLnJlY2lwaWVudCk6XCJcIixhbW91bnQ6QXJyYXkuaXNBcnJheShvPy5hbW91bnQpP28uYW1vdW50Lm1hcCgobz0+dC5mcm9tSlNPTihvKSkpOltdfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8udGl0bGUmJihlLnRpdGxlPW8udGl0bGUpLHZvaWQgMCE9PW8uZGVzY3JpcHRpb24mJihlLmRlc2NyaXB0aW9uPW8uZGVzY3JpcHRpb24pLHZvaWQgMCE9PW8ucmVjaXBpZW50JiYoZS5yZWNpcGllbnQ9by5yZWNpcGllbnQpLG8uYW1vdW50P2UuYW1vdW50PW8uYW1vdW50Lm1hcCgobz0+bz90LnRvSlNPTihvKTp2b2lkIDApKTplLmFtb3VudD1bXSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXskdHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIscmVjaXBpZW50OlwiXCIsYW1vdW50OltdfTtyZXR1cm4gZS50aXRsZT1vLnRpdGxlPz9cIlwiLGUuZGVzY3JpcHRpb249by5kZXNjcmlwdGlvbj8/XCJcIixlLnJlY2lwaWVudD1vLnJlY2lwaWVudD8/XCJcIixlLmFtb3VudD1vLmFtb3VudD8ubWFwKChvPT50LmZyb21QYXJ0aWFsKG8pKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsXCIsdmFsdWU6Q29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWwuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbChDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbCk7ZnVuY3Rpb24gZCgpe3JldHVybntwcmV2aW91c1BlcmlvZDpCaWdJbnQoMCksc3Rha2U6XCJcIixoZWlnaHQ6QmlnSW50KDApfX1jb25zdCBEZWxlZ2F0b3JTdGFydGluZ0luZm89e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkRlbGVnYXRvclN0YXJ0aW5nSW5mb1wiLGVuY29kZToobyx0PXIuY3JlYXRlKCkpPT4oby5wcmV2aW91c1BlcmlvZCE9PUJpZ0ludCgwKSYmdC51aW50MzIoOCkudWludDY0KG8ucHJldmlvdXNQZXJpb2QpLFwiXCIhPT1vLnN0YWtlJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGkuZnJvbVVzZXJJbnB1dChvLnN0YWtlLDE4KS5hdG9taWNzKSxvLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoMjQpLnVpbnQ2NChvLmhlaWdodCksdCksZGVjb2RlKG8sdCl7Y29uc3Qgcj1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCBuPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBhPWQoKTtmb3IoO3IucG9zPG47KXtjb25zdCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6YS5wcmV2aW91c1BlcmlvZD1yLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMjphLnN0YWtlPWkuZnJvbUF0b21pY3Moci5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDM6YS5oZWlnaHQ9ci51aW50NjQoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGF9LGZyb21KU09OOm89Pih7cHJldmlvdXNQZXJpb2Q6bihvLnByZXZpb3VzUGVyaW9kKT9CaWdJbnQoby5wcmV2aW91c1BlcmlvZC50b1N0cmluZygpKTpCaWdJbnQoMCksc3Rha2U6bihvLnN0YWtlKT9TdHJpbmcoby5zdGFrZSk6XCJcIixoZWlnaHQ6bihvLmhlaWdodCk/QmlnSW50KG8uaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1vLnByZXZpb3VzUGVyaW9kJiYodC5wcmV2aW91c1BlcmlvZD0oby5wcmV2aW91c1BlcmlvZHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1vLnN0YWtlJiYodC5zdGFrZT1vLnN0YWtlKSx2b2lkIDAhPT1vLmhlaWdodCYmKHQuaGVpZ2h0PShvLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PWQoKTtyZXR1cm4gdC5wcmV2aW91c1BlcmlvZD12b2lkIDAhPT1vLnByZXZpb3VzUGVyaW9kJiZudWxsIT09by5wcmV2aW91c1BlcmlvZD9CaWdJbnQoby5wcmV2aW91c1BlcmlvZC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5zdGFrZT1vLnN0YWtlPz9cIlwiLHQuaGVpZ2h0PXZvaWQgMCE9PW8uaGVpZ2h0JiZudWxsIT09by5oZWlnaHQ/QmlnSW50KG8uaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6bz0+RGVsZWdhdG9yU3RhcnRpbmdJbmZvLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkRlbGVnYXRvclN0YXJ0aW5nSW5mby5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkRlbGVnYXRvclN0YXJ0aW5nSW5mb1wiLHZhbHVlOkRlbGVnYXRvclN0YXJ0aW5nSW5mby5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkRlbGVnYXRvclN0YXJ0aW5nSW5mbyhEZWxlZ2F0b3JTdGFydGluZ0luZm8pO2NvbnN0IERlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmQ9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmRcIixlbmNvZGUodCxlPXIuY3JlYXRlKCkpe1wiXCIhPT10LnZhbGlkYXRvckFkZHJlc3MmJmUudWludDMyKDEwKS5zdHJpbmcodC52YWxpZGF0b3JBZGRyZXNzKTtmb3IoY29uc3QgciBvZiB0LnJld2FyZClvLmVuY29kZShyLGUudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBlfSxkZWNvZGUodCxyKXtjb25zdCBpPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IG49dm9pZCAwPT09cj9pLmxlbjppLnBvcytyO2NvbnN0IGE9e3ZhbGlkYXRvckFkZHJlc3M6XCJcIixyZXdhcmQ6W119O2Zvcig7aS5wb3M8bjspe2NvbnN0IHQ9aS51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTphLnZhbGlkYXRvckFkZHJlc3M9aS5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5yZXdhcmQucHVzaChvLmRlY29kZShpLGkudWludDMyKCkpKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7dmFsaWRhdG9yQWRkcmVzczpuKHQudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKHQudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixyZXdhcmQ6QXJyYXkuaXNBcnJheSh0Py5yZXdhcmQpP3QucmV3YXJkLm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PXQudmFsaWRhdG9yQWRkcmVzcyYmKGUudmFsaWRhdG9yQWRkcmVzcz10LnZhbGlkYXRvckFkZHJlc3MpLHQucmV3YXJkP2UucmV3YXJkPXQucmV3YXJkLm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLnJld2FyZD1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXt2YWxpZGF0b3JBZGRyZXNzOlwiXCIscmV3YXJkOltdfTtyZXR1cm4gZS52YWxpZGF0b3JBZGRyZXNzPXQudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixlLnJld2FyZD10LnJld2FyZD8ubWFwKCh0PT5vLmZyb21QYXJ0aWFsKHQpKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5EZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmQuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5EZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkXCIsdmFsdWU6RGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmQoRGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZCk7Y29uc3QgQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdFwiLGVuY29kZToobyx0PXIuY3JlYXRlKCkpPT4oXCJcIiE9PW8udGl0bGUmJnQudWludDMyKDEwKS5zdHJpbmcoby50aXRsZSksXCJcIiE9PW8uZGVzY3JpcHRpb24mJnQudWludDMyKDE4KS5zdHJpbmcoby5kZXNjcmlwdGlvbiksXCJcIiE9PW8ucmVjaXBpZW50JiZ0LnVpbnQzMigyNikuc3RyaW5nKG8ucmVjaXBpZW50KSxcIlwiIT09by5hbW91bnQmJnQudWludDMyKDM0KS5zdHJpbmcoby5hbW91bnQpLFwiXCIhPT1vLmRlcG9zaXQmJnQudWludDMyKDQyKS5zdHJpbmcoby5kZXBvc2l0KSx0KSxkZWNvZGUobyx0KXtjb25zdCByPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IGk9dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IG49eyR0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0XCIsdGl0bGU6XCJcIixkZXNjcmlwdGlvbjpcIlwiLHJlY2lwaWVudDpcIlwiLGFtb3VudDpcIlwiLGRlcG9zaXQ6XCJcIn07Zm9yKDtyLnBvczxpOyl7Y29uc3Qgbz1yLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOm4udGl0bGU9ci5zdHJpbmcoKTticmVhaztjYXNlIDI6bi5kZXNjcmlwdGlvbj1yLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpuLnJlY2lwaWVudD1yLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpuLmFtb3VudD1yLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpuLmRlcG9zaXQ9ci5zdHJpbmcoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZvKX19cmV0dXJuIG59LGZyb21KU09OOm89Pih7dGl0bGU6bihvLnRpdGxlKT9TdHJpbmcoby50aXRsZSk6XCJcIixkZXNjcmlwdGlvbjpuKG8uZGVzY3JpcHRpb24pP1N0cmluZyhvLmRlc2NyaXB0aW9uKTpcIlwiLHJlY2lwaWVudDpuKG8ucmVjaXBpZW50KT9TdHJpbmcoby5yZWNpcGllbnQpOlwiXCIsYW1vdW50Om4oby5hbW91bnQpP1N0cmluZyhvLmFtb3VudCk6XCJcIixkZXBvc2l0Om4oby5kZXBvc2l0KT9TdHJpbmcoby5kZXBvc2l0KTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8udGl0bGUmJih0LnRpdGxlPW8udGl0bGUpLHZvaWQgMCE9PW8uZGVzY3JpcHRpb24mJih0LmRlc2NyaXB0aW9uPW8uZGVzY3JpcHRpb24pLHZvaWQgMCE9PW8ucmVjaXBpZW50JiYodC5yZWNpcGllbnQ9by5yZWNpcGllbnQpLHZvaWQgMCE9PW8uYW1vdW50JiYodC5hbW91bnQ9by5hbW91bnQpLHZvaWQgMCE9PW8uZGVwb3NpdCYmKHQuZGVwb3NpdD1vLmRlcG9zaXQpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9eyR0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0XCIsdGl0bGU6XCJcIixkZXNjcmlwdGlvbjpcIlwiLHJlY2lwaWVudDpcIlwiLGFtb3VudDpcIlwiLGRlcG9zaXQ6XCJcIn07cmV0dXJuIHQudGl0bGU9by50aXRsZT8/XCJcIix0LmRlc2NyaXB0aW9uPW8uZGVzY3JpcHRpb24/P1wiXCIsdC5yZWNpcGllbnQ9by5yZWNpcGllbnQ/P1wiXCIsdC5hbW91bnQ9by5hbW91bnQ/P1wiXCIsdC5kZXBvc2l0PW8uZGVwb3NpdD8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+Q29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdFwiLHZhbHVlOkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0KENvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUGFyYW1zIjpbIlBhcmFtcyJdLCJWYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcyI6WyJWYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcyJdLCJWYWxpZGF0b3JDdXJyZW50UmV3YXJkcyI6WyJWYWxpZGF0b3JDdXJyZW50UmV3YXJkcyJdLCJWYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb24iOlsiVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uIl0sIlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcyI6WyJWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHMiXSwiVmFsaWRhdG9yU2xhc2hFdmVudCI6WyJWYWxpZGF0b3JTbGFzaEV2ZW50Il0sIlZhbGlkYXRvclNsYXNoRXZlbnRzIjpbIlZhbGlkYXRvclNsYXNoRXZlbnRzIl0sIkZlZVBvb2wiOlsiRmVlUG9vbCJdLCJDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbCI6WyJDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbCJdLCJEZWxlZ2F0b3JTdGFydGluZ0luZm8iOlsiRGVsZWdhdG9yU3RhcnRpbmdJbmZvIl0sIkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmQiOlsiRGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZCJdLCJDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0IjpbIkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAEb1JjXVrAAB1awAATQAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3F1ZXJ5LmpzeyJpbXBvcnRzIjpbIi4uLy4uL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzIiwiLi9kaXN0cmlidXRpb24uanMiLCIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiXSwiZXhwb3J0cyI6WyJRdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0IiwiUXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2UiLCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QiLCJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QiLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UiLCJRdWVyeVBhcmFtc1JlcXVlc3QiLCJRdWVyeVBhcmFtc1Jlc3BvbnNlIiwiUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIiwiUXVlcnlWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1Jlc3BvbnNlIiwiUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0IiwiUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZSIsIlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3QiLCJRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyxzLHIsdCxpLGEsZCxuLGwsdTskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzXCIsIFtbXCJQYWdlUmVxdWVzdFwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV0sW1wiUGFnZVJlc3BvbnNlXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4vZGlzdHJpYnV0aW9uLmpzXCIsIFtbXCJQYXJhbXNcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dLFtcIlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1wiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1wiVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXSxbXCJWYWxpZGF0b3JTbGFzaEV2ZW50XCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXSxbXCJEZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJEZWNDb2luXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChsID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXSxbXCIuLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKHUgPSAkaM2PX2EpXV1dXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBRdWVyeVBhcmFtc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5UGFyYW1zUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17fTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7cy5za2lwVHlwZSg3JmUpfXJldHVybiB0fSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9PlF1ZXJ5UGFyYW1zUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVBhcmFtc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVBhcmFtc1JlcXVlc3RcIix2YWx1ZTpRdWVyeVBhcmFtc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVBhcmFtc1JlcXVlc3QoUXVlcnlQYXJhbXNSZXF1ZXN0KTtmdW5jdGlvbiBjKCl7cmV0dXJue3BhcmFtczpzLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUXVlcnlQYXJhbXNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXNwb25zZVwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5wYXJhbXMmJnMuZW5jb2RlKGUucGFyYW1zLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHI9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgdD12b2lkIDA9PT1vP3IubGVuOnIucG9zK287Y29uc3QgaT1jKCk7Zm9yKDtyLnBvczx0Oyl7Y29uc3QgZT1yLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkucGFyYW1zPXMuZGVjb2RlKHIsci51aW50MzIoKSk7ZWxzZSByLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7cGFyYW1zOnUoZS5wYXJhbXMpP3MuZnJvbUpTT04oZS5wYXJhbXMpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLnBhcmFtcyYmKG8ucGFyYW1zPWUucGFyYW1zP3MudG9KU09OKGUucGFyYW1zKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89YygpO3JldHVybiBvLnBhcmFtcz12b2lkIDAhPT1lLnBhcmFtcyYmbnVsbCE9PWUucGFyYW1zP3MuZnJvbVBhcnRpYWwoZS5wYXJhbXMpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlQYXJhbXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVBhcmFtc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5UGFyYW1zUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVBhcmFtc1Jlc3BvbnNlKFF1ZXJ5UGFyYW1zUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1JlcXVlc3RcIixlbmNvZGU6KGUsbz1sLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLnZhbGlkYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHI9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHQ9e3ZhbGlkYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczxyOyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXQudmFsaWRhdG9yQWRkcmVzcz1zLnN0cmluZygpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiB0fSxmcm9tSlNPTjplPT4oe3ZhbGlkYXRvckFkZHJlc3M6dShlLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYoby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcyksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17dmFsaWRhdG9yQWRkcmVzczpcIlwifTtyZXR1cm4gby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVZhbGlkYXRvckRpc3RyaWJ1dGlvbkluZm9SZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvckRpc3RyaWJ1dGlvbkluZm9SZXF1ZXN0KFF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1JlcXVlc3QpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvckRpc3RyaWJ1dGlvbkluZm9SZXNwb25zZVwiLGVuY29kZShlLG89bC5jcmVhdGUoKSl7XCJcIiE9PWUub3BlcmF0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUub3BlcmF0b3JBZGRyZXNzKTtmb3IoY29uc3QgcyBvZiBlLnNlbGZCb25kUmV3YXJkcylkLmVuY29kZShzLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBzIG9mIGUuY29tbWlzc2lvbilkLmVuY29kZShzLG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBvfSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHI9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHQ9e29wZXJhdG9yQWRkcmVzczpcIlwiLHNlbGZCb25kUmV3YXJkczpbXSxjb21taXNzaW9uOltdfTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6dC5vcGVyYXRvckFkZHJlc3M9cy5zdHJpbmcoKTticmVhaztjYXNlIDI6dC5zZWxmQm9uZFJld2FyZHMucHVzaChkLmRlY29kZShzLHMudWludDMyKCkpKTticmVhaztjYXNlIDM6dC5jb21taXNzaW9uLnB1c2goZC5kZWNvZGUocyxzLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmZSl9fXJldHVybiB0fSxmcm9tSlNPTjplPT4oe29wZXJhdG9yQWRkcmVzczp1KGUub3BlcmF0b3JBZGRyZXNzKT9TdHJpbmcoZS5vcGVyYXRvckFkZHJlc3MpOlwiXCIsc2VsZkJvbmRSZXdhcmRzOkFycmF5LmlzQXJyYXkoZT8uc2VsZkJvbmRSZXdhcmRzKT9lLnNlbGZCb25kUmV3YXJkcy5tYXAoKGU9PmQuZnJvbUpTT04oZSkpKTpbXSxjb21taXNzaW9uOkFycmF5LmlzQXJyYXkoZT8uY29tbWlzc2lvbik/ZS5jb21taXNzaW9uLm1hcCgoZT0+ZC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUub3BlcmF0b3JBZGRyZXNzJiYoby5vcGVyYXRvckFkZHJlc3M9ZS5vcGVyYXRvckFkZHJlc3MpLGUuc2VsZkJvbmRSZXdhcmRzP28uc2VsZkJvbmRSZXdhcmRzPWUuc2VsZkJvbmRSZXdhcmRzLm1hcCgoZT0+ZT9kLnRvSlNPTihlKTp2b2lkIDApKTpvLnNlbGZCb25kUmV3YXJkcz1bXSxlLmNvbW1pc3Npb24/by5jb21taXNzaW9uPWUuY29tbWlzc2lvbi5tYXAoKGU9PmU/ZC50b0pTT04oZSk6dm9pZCAwKSk6by5jb21taXNzaW9uPVtdLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e29wZXJhdG9yQWRkcmVzczpcIlwiLHNlbGZCb25kUmV3YXJkczpbXSxjb21taXNzaW9uOltdfTtyZXR1cm4gby5vcGVyYXRvckFkZHJlc3M9ZS5vcGVyYXRvckFkZHJlc3M/P1wiXCIsby5zZWxmQm9uZFJld2FyZHM9ZS5zZWxmQm9uZFJld2FyZHM/Lm1hcCgoZT0+ZC5mcm9tUGFydGlhbChlKSkpfHxbXSxvLmNvbW1pc3Npb249ZS5jb21taXNzaW9uPy5tYXAoKGU9PmQuZnJvbVBhcnRpYWwoZSkpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVZhbGlkYXRvckRpc3RyaWJ1dGlvbkluZm9SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1Jlc3BvbnNlKFF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1Jlc3BvbnNlKTtjb25zdCBRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17dmFsaWRhdG9yQWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpdC52YWxpZGF0b3JBZGRyZXNzPXMuc3RyaW5nKCk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7dmFsaWRhdG9yQWRkcmVzczp1KGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3MmJihvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXt2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1JlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0KFF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdCk7ZnVuY3Rpb24gcCgpe3JldHVybntyZXdhcmRzOnIuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlXCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLnJld2FyZHMmJnIuZW5jb2RlKGUucmV3YXJkcyxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IGk9cCgpO2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtpZihlPj4+Mz09MSlpLnJld2FyZHM9ci5kZWNvZGUocyxzLnVpbnQzMigpKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtyZXdhcmRzOnUoZS5yZXdhcmRzKT9yLmZyb21KU09OKGUucmV3YXJkcyk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUucmV3YXJkcyYmKG8ucmV3YXJkcz1lLnJld2FyZHM/ci50b0pTT04oZS5yZXdhcmRzKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89cCgpO3JldHVybiBvLnJld2FyZHM9dm9pZCAwIT09ZS5yZXdhcmRzJiZudWxsIT09ZS5yZXdhcmRzP3IuZnJvbVBhcnRpYWwoZS5yZXdhcmRzKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZShRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlKTtjb25zdCBRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0XCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9PihcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyksbyksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCB0PXt2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O2Zvcig7cy5wb3M8cjspe2NvbnN0IGU9cy51aW50MzIoKTtpZihlPj4+Mz09MSl0LnZhbGlkYXRvckFkZHJlc3M9cy5zdHJpbmcoKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHt2YWxpZGF0b3JBZGRyZXNzOnUoZS52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e3ZhbGlkYXRvckFkZHJlc3M6XCJcIn07cmV0dXJuIG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlcXVlc3RcIix2YWx1ZTpRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdChRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0KTtmdW5jdGlvbiBtKCl7cmV0dXJue2NvbW1pc3Npb246dC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZVwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5jb21taXNzaW9uJiZ0LmVuY29kZShlLmNvbW1pc3Npb24sby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBpPW0oKTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpaS5jb21taXNzaW9uPXQuZGVjb2RlKHMscy51aW50MzIoKSk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7Y29tbWlzc2lvbjp1KGUuY29tbWlzc2lvbik/dC5mcm9tSlNPTihlLmNvbW1pc3Npb24pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNvbW1pc3Npb24mJihvLmNvbW1pc3Npb249ZS5jb21taXNzaW9uP3QudG9KU09OKGUuY29tbWlzc2lvbik6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPW0oKTtyZXR1cm4gby5jb21taXNzaW9uPXZvaWQgMCE9PWUuY29tbWlzc2lvbiYmbnVsbCE9PWUuY29tbWlzc2lvbj90LmZyb21QYXJ0aWFsKGUuY29tbWlzc2lvbik6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlXCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZShRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZSk7ZnVuY3Rpb24gZygpe3JldHVybnt2YWxpZGF0b3JBZGRyZXNzOlwiXCIsc3RhcnRpbmdIZWlnaHQ6QmlnSW50KDApLGVuZGluZ0hlaWdodDpCaWdJbnQoMCkscGFnaW5hdGlvbjp2b2lkIDB9fWNvbnN0IFF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3RcIixlbmNvZGU6KG8scz1sLmNyZWF0ZSgpKT0+KFwiXCIhPT1vLnZhbGlkYXRvckFkZHJlc3MmJnMudWludDMyKDEwKS5zdHJpbmcoby52YWxpZGF0b3JBZGRyZXNzKSxvLnN0YXJ0aW5nSGVpZ2h0IT09QmlnSW50KDApJiZzLnVpbnQzMigxNikudWludDY0KG8uc3RhcnRpbmdIZWlnaHQpLG8uZW5kaW5nSGVpZ2h0IT09QmlnSW50KDApJiZzLnVpbnQzMigyNCkudWludDY0KG8uZW5kaW5nSGVpZ2h0KSx2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbixzLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSxzKSxkZWNvZGUobyxzKXtjb25zdCByPW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IHQ9dm9pZCAwPT09cz9yLmxlbjpyLnBvcytzO2NvbnN0IGk9ZygpO2Zvcig7ci5wb3M8dDspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTppLnZhbGlkYXRvckFkZHJlc3M9ci5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5zdGFydGluZ0hlaWdodD1yLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMzppLmVuZGluZ0hlaWdodD1yLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNDppLnBhZ2luYXRpb249ZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGZyb21KU09OOm89Pih7dmFsaWRhdG9yQWRkcmVzczp1KG8udmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKG8udmFsaWRhdG9yQWRkcmVzcyk6XCJcIixzdGFydGluZ0hlaWdodDp1KG8uc3RhcnRpbmdIZWlnaHQpP0JpZ0ludChvLnN0YXJ0aW5nSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxlbmRpbmdIZWlnaHQ6dShvLmVuZGluZ0hlaWdodCk/QmlnSW50KG8uZW5kaW5nSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxwYWdpbmF0aW9uOnUoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IHM9e307cmV0dXJuIHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkcmVzcyYmKHMudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PW8uc3RhcnRpbmdIZWlnaHQmJihzLnN0YXJ0aW5nSGVpZ2h0PShvLnN0YXJ0aW5nSGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8uZW5kaW5nSGVpZ2h0JiYocy5lbmRpbmdIZWlnaHQ9KG8uZW5kaW5nSGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKHMucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLHN9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHM9ZygpO3JldHVybiBzLnZhbGlkYXRvckFkZHJlc3M9by52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLHMuc3RhcnRpbmdIZWlnaHQ9dm9pZCAwIT09by5zdGFydGluZ0hlaWdodCYmbnVsbCE9PW8uc3RhcnRpbmdIZWlnaHQ/QmlnSW50KG8uc3RhcnRpbmdIZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHMuZW5kaW5nSGVpZ2h0PXZvaWQgMCE9PW8uZW5kaW5nSGVpZ2h0JiZudWxsIT09by5lbmRpbmdIZWlnaHQ/QmlnSW50KG8uZW5kaW5nSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxzLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsc30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3RcIix2YWx1ZTpRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdChRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXF1ZXN0KTtjb25zdCBRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2VcIixlbmNvZGUoZSxzPWwuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUuc2xhc2hlcylpLmVuY29kZShvLHMudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbixzLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxzfSxkZWNvZGUoZSxzKXtjb25zdCByPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09cz9yLmxlbjpyLnBvcytzO2NvbnN0IGE9e3NsYXNoZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7ci5wb3M8dDspe2NvbnN0IGU9ci51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLnNsYXNoZXMucHVzaChpLmRlY29kZShyLHIudWludDMyKCkpKTticmVhaztjYXNlIDI6YS5wYWdpbmF0aW9uPW8uZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe3NsYXNoZXM6QXJyYXkuaXNBcnJheShlPy5zbGFzaGVzKT9lLnNsYXNoZXMubWFwKChlPT5pLmZyb21KU09OKGUpKSk6W10scGFnaW5hdGlvbjp1KGUucGFnaW5hdGlvbik/by5mcm9tSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBzPXt9O3JldHVybiBlLnNsYXNoZXM/cy5zbGFzaGVzPWUuc2xhc2hlcy5tYXAoKGU9PmU/aS50b0pTT04oZSk6dm9pZCAwKSk6cy5zbGFzaGVzPVtdLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHMucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHN9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHM9e3NsYXNoZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBzLnNsYXNoZXM9ZS5zbGFzaGVzPy5tYXAoKGU9PmkuZnJvbVBhcnRpYWwoZSkpKXx8W10scy5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHN9LGZyb21Qcm90b01zZzplPT5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZShRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0XCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmby51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczxyOyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnQuZGVsZWdhdG9yQWRkcmVzcz1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMjp0LnZhbGlkYXRvckFkZHJlc3M9cy5zdHJpbmcoKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczp1KGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JBZGRyZXNzOnUoZS52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1JlcXVlc3RcIix2YWx1ZTpRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0KFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0KTtjb25zdCBRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZVwiLGVuY29kZShlLG89bC5jcmVhdGUoKSl7Zm9yKGNvbnN0IHMgb2YgZS5yZXdhcmRzKWQuZW5jb2RlKHMsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG99LGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17cmV3YXJkczpbXX07Zm9yKDtzLnBvczxyOyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXQucmV3YXJkcy5wdXNoKGQuZGVjb2RlKHMscy51aW50MzIoKSkpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiB0fSxmcm9tSlNPTjplPT4oe3Jld2FyZHM6QXJyYXkuaXNBcnJheShlPy5yZXdhcmRzKT9lLnJld2FyZHMubWFwKChlPT5kLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gZS5yZXdhcmRzP28ucmV3YXJkcz1lLnJld2FyZHMubWFwKChlPT5lP2QudG9KU09OKGUpOnZvaWQgMCkpOm8ucmV3YXJkcz1bXSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtyZXdhcmRzOltdfTtyZXR1cm4gby5yZXdhcmRzPWUucmV3YXJkcz8ubWFwKChlPT5kLmZyb21QYXJ0aWFsKGUpKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlKFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpdC5kZWxlZ2F0b3JBZGRyZXNzPXMuc3RyaW5nKCk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczp1KGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJihvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QoUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlXCIsZW5jb2RlKGUsbz1sLmNyZWF0ZSgpKXtmb3IoY29uc3QgcyBvZiBlLnJld2FyZHMpYS5lbmNvZGUocyxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtmb3IoY29uc3QgcyBvZiBlLnRvdGFsKWQuZW5jb2RlKHMsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG99LGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17cmV3YXJkczpbXSx0b3RhbDpbXX07Zm9yKDtzLnBvczxyOyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnQucmV3YXJkcy5wdXNoKGEuZGVjb2RlKHMscy51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjp0LnRvdGFsLnB1c2goZC5kZWNvZGUocyxzLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmZSl9fXJldHVybiB0fSxmcm9tSlNPTjplPT4oe3Jld2FyZHM6QXJyYXkuaXNBcnJheShlPy5yZXdhcmRzKT9lLnJld2FyZHMubWFwKChlPT5hLmZyb21KU09OKGUpKSk6W10sdG90YWw6QXJyYXkuaXNBcnJheShlPy50b3RhbCk/ZS50b3RhbC5tYXAoKGU9PmQuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiBlLnJld2FyZHM/by5yZXdhcmRzPWUucmV3YXJkcy5tYXAoKGU9PmU/YS50b0pTT04oZSk6dm9pZCAwKSk6by5yZXdhcmRzPVtdLGUudG90YWw/by50b3RhbD1lLnRvdGFsLm1hcCgoZT0+ZT9kLnRvSlNPTihlKTp2b2lkIDApKTpvLnRvdGFsPVtdLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e3Jld2FyZHM6W10sdG90YWw6W119O3JldHVybiBvLnJld2FyZHM9ZS5yZXdhcmRzPy5tYXAoKGU9PmEuZnJvbVBhcnRpYWwoZSkpKXx8W10sby50b3RhbD1lLnRvdGFsPy5tYXAoKGU9PmQuZnJvbVBhcnRpYWwoZSkpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlKFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlKTtjb25zdCBRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0XCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksbyksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCB0PXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCJ9O2Zvcig7cy5wb3M8cjspe2NvbnN0IGU9cy51aW50MzIoKTtpZihlPj4+Mz09MSl0LmRlbGVnYXRvckFkZHJlc3M9cy5zdHJpbmcoKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyZXNzOnUoZS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2RlbGVnYXRvckFkZHJlc3M6XCJcIn07cmV0dXJuIG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3RcIix2YWx1ZTpRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdChRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0KTtjb25zdCBRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2VcIixlbmNvZGUoZSxvPWwuY3JlYXRlKCkpe2Zvcihjb25zdCBzIG9mIGUudmFsaWRhdG9ycylvLnVpbnQzMigxMCkuc3RyaW5nKHMpO3JldHVybiBvfSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHI9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHQ9e3ZhbGlkYXRvcnM6W119O2Zvcig7cy5wb3M8cjspe2NvbnN0IGU9cy51aW50MzIoKTtpZihlPj4+Mz09MSl0LnZhbGlkYXRvcnMucHVzaChzLnN0cmluZygpKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHt2YWxpZGF0b3JzOkFycmF5LmlzQXJyYXkoZT8udmFsaWRhdG9ycyk/ZS52YWxpZGF0b3JzLm1hcCgoZT0+U3RyaW5nKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gZS52YWxpZGF0b3JzP28udmFsaWRhdG9ycz1lLnZhbGlkYXRvcnMubWFwKChlPT5lKSk6by52YWxpZGF0b3JzPVtdLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e3ZhbGlkYXRvcnM6W119O3JldHVybiBvLnZhbGlkYXRvcnM9ZS52YWxpZGF0b3JzPy5tYXAoKGU9PmUpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlKFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlKTtjb25zdCBRdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpdC5kZWxlZ2F0b3JBZGRyZXNzPXMuc3RyaW5nKCk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczp1KGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJihvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1JlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0KFF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZVwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUud2l0aGRyYXdBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUud2l0aGRyYXdBZGRyZXNzKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHI9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHQ9e3dpdGhkcmF3QWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpdC53aXRoZHJhd0FkZHJlc3M9cy5zdHJpbmcoKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHt3aXRoZHJhd0FkZHJlc3M6dShlLndpdGhkcmF3QWRkcmVzcyk/U3RyaW5nKGUud2l0aGRyYXdBZGRyZXNzKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUud2l0aGRyYXdBZGRyZXNzJiYoby53aXRoZHJhd0FkZHJlc3M9ZS53aXRoZHJhd0FkZHJlc3MpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e3dpdGhkcmF3QWRkcmVzczpcIlwifTtyZXR1cm4gby53aXRoZHJhd0FkZHJlc3M9ZS53aXRoZHJhd0FkZHJlc3M/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZShRdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlKTtjb25zdCBRdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0XCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCB0PXt9O2Zvcig7cy5wb3M8cjspe2NvbnN0IGU9cy51aW50MzIoKTtzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5Q29tbXVuaXR5UG9vbFJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0KFF1ZXJ5Q29tbXVuaXR5UG9vbFJlcXVlc3QpO2NvbnN0IFF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZVwiLGVuY29kZShlLG89bC5jcmVhdGUoKSl7Zm9yKGNvbnN0IHMgb2YgZS5wb29sKWQuZW5jb2RlKHMsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG99LGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgdD17cG9vbDpbXX07Zm9yKDtzLnBvczxyOyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXQucG9vbC5wdXNoKGQuZGVjb2RlKHMscy51aW50MzIoKSkpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiB0fSxmcm9tSlNPTjplPT4oe3Bvb2w6QXJyYXkuaXNBcnJheShlPy5wb29sKT9lLnBvb2wubWFwKChlPT5kLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gZS5wb29sP28ucG9vbD1lLnBvb2wubWFwKChlPT5lP2QudG9KU09OKGUpOnZvaWQgMCkpOm8ucG9vbD1bXSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtwb29sOltdfTtyZXR1cm4gby5wb29sPWUucG9vbD8ubWFwKChlPT5kLmZyb21QYXJ0aWFsKGUpKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5RdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlXCIsdmFsdWU6UXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZShRdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJRdWVyeVBhcmFtc1JlcXVlc3QiOlsiUXVlcnlQYXJhbXNSZXF1ZXN0Il0sIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiOlsiUXVlcnlQYXJhbXNSZXNwb25zZSJdLCJRdWVyeVZhbGlkYXRvckRpc3RyaWJ1dGlvbkluZm9SZXF1ZXN0IjpbIlF1ZXJ5VmFsaWRhdG9yRGlzdHJpYnV0aW9uSW5mb1JlcXVlc3QiXSwiUXVlcnlWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvUmVzcG9uc2UiOlsiUXVlcnlWYWxpZGF0b3JEaXN0cmlidXRpb25JbmZvUmVzcG9uc2UiXSwiUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0IjpbIlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlIjpbIlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVzcG9uc2UiXSwiUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdCI6WyJRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0Il0sIlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIjpbIlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIl0sIlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3QiOlsiUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZSI6WyJRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCI6WyJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlIl0sIlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QiOlsiUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSI6WyJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QiXSwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiXSwiUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlIjpbIlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UiXSwiUXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdCI6WyJRdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0Il0sIlF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlIjpbIlF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJAzp1MoOQAAKDkAAEoAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4vZGlzdHJpYnV0aW9uLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIk1zZ0NvbW11bml0eVBvb2xTcGVuZCIsIk1zZ0NvbW11bml0eVBvb2xTcGVuZFJlc3BvbnNlIiwiTXNnRnVuZENvbW11bml0eVBvb2wiLCJNc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlIiwiTXNnU2V0V2l0aGRyYXdBZGRyZXNzIiwiTXNnU2V0V2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UiLCJNc2dVcGRhdGVQYXJhbXMiLCJNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSIsIk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkIiwiTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZSIsIk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbiIsIk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbyx0LGUscyxyOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi9kaXN0cmlidXRpb24uanNcIiwgW1tcIlBhcmFtc1wiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IE1zZ1NldFdpdGhkcmF3QWRkcmVzcz17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnU2V0V2l0aGRyYXdBZGRyZXNzXCIsZW5jb2RlOihvLHQ9cy5jcmVhdGUoKSk9PihcIlwiIT09by5kZWxlZ2F0b3JBZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKG8uZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PW8ud2l0aGRyYXdBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKG8ud2l0aGRyYXdBZGRyZXNzKSx0KSxkZWNvZGUobyx0KXtjb25zdCBzPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IHI9dm9pZCAwPT09dD9zLmxlbjpzLnBvcyt0O2NvbnN0IGQ9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix3aXRoZHJhd0FkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczxyOyl7Y29uc3Qgbz1zLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmQuZGVsZWdhdG9yQWRkcmVzcz1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpkLndpdGhkcmF3QWRkcmVzcz1zLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHtkZWxlZ2F0b3JBZGRyZXNzOnIoby5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoby5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHdpdGhkcmF3QWRkcmVzczpyKG8ud2l0aGRyYXdBZGRyZXNzKT9TdHJpbmcoby53aXRoZHJhd0FkZHJlc3MpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5kZWxlZ2F0b3JBZGRyZXNzJiYodC5kZWxlZ2F0b3JBZGRyZXNzPW8uZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09by53aXRoZHJhd0FkZHJlc3MmJih0LndpdGhkcmF3QWRkcmVzcz1vLndpdGhkcmF3QWRkcmVzcyksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHdpdGhkcmF3QWRkcmVzczpcIlwifTtyZXR1cm4gdC5kZWxlZ2F0b3JBZGRyZXNzPW8uZGVsZWdhdG9yQWRkcmVzcz8/XCJcIix0LndpdGhkcmF3QWRkcmVzcz1vLndpdGhkcmF3QWRkcmVzcz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+TXNnU2V0V2l0aGRyYXdBZGRyZXNzLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1NldFdpdGhkcmF3QWRkcmVzcy5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1NldFdpdGhkcmF3QWRkcmVzc1wiLHZhbHVlOk1zZ1NldFdpdGhkcmF3QWRkcmVzcy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1NldFdpdGhkcmF3QWRkcmVzcyhNc2dTZXRXaXRoZHJhd0FkZHJlc3MpO2NvbnN0IE1zZ1NldFdpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZVwiLGVuY29kZToobyx0PXMuY3JlYXRlKCkpPT50LGRlY29kZShvLHQpe2NvbnN0IHM9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgcj12b2lkIDA9PT10P3MubGVuOnMucG9zK3Q7Y29uc3QgZD17fTtmb3IoO3MucG9zPHI7KXtjb25zdCBvPXMudWludDMyKCk7cy5za2lwVHlwZSg3Jm8pfXJldHVybiBkfSxmcm9tSlNPTjpvPT4oe30pLHRvSlNPTjpvPT4oe30pLGZyb21QYXJ0aWFsOm89Pih7fSksZnJvbVByb3RvTXNnOm89Pk1zZ1NldFdpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1NldFdpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnU2V0V2l0aGRyYXdBZGRyZXNzUmVzcG9uc2VcIix2YWx1ZTpNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1NldFdpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlKE1zZ1NldFdpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlKTtjb25zdCBNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRcIixlbmNvZGU6KG8sdD1zLmNyZWF0ZSgpKT0+KFwiXCIhPT1vLmRlbGVnYXRvckFkZHJlc3MmJnQudWludDMyKDEwKS5zdHJpbmcoby5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09by52YWxpZGF0b3JBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKG8udmFsaWRhdG9yQWRkcmVzcyksdCksZGVjb2RlKG8sdCl7Y29uc3Qgcz1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCByPXZvaWQgMD09PXQ/cy5sZW46cy5wb3MrdDtjb25zdCBkPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHI7KXtjb25zdCBvPXMudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6ZC5kZWxlZ2F0b3JBZGRyZXNzPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmQudmFsaWRhdG9yQWRkcmVzcz1zLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHtkZWxlZ2F0b3JBZGRyZXNzOnIoby5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoby5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckFkZHJlc3M6cihvLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhvLnZhbGlkYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5kZWxlZ2F0b3JBZGRyZXNzJiYodC5kZWxlZ2F0b3JBZGRyZXNzPW8uZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09by52YWxpZGF0b3JBZGRyZXNzJiYodC52YWxpZGF0b3JBZGRyZXNzPW8udmFsaWRhdG9yQWRkcmVzcyksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIn07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcmVzcz1vLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JBZGRyZXNzPW8udmFsaWRhdG9yQWRkcmVzcz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+TXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmQuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+TXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmQuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFwiLHZhbHVlOk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmQoTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmQpO2NvbnN0IE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2VcIixlbmNvZGUodCxlPXMuY3JlYXRlKCkpe2Zvcihjb25zdCBzIG9mIHQuYW1vdW50KW8uZW5jb2RlKHMsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZSh0LHMpe2NvbnN0IHI9dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgZD12b2lkIDA9PT1zP3IubGVuOnIucG9zK3M7Y29uc3QgaT17YW1vdW50OltdfTtmb3IoO3IucG9zPGQ7KXtjb25zdCB0PXIudWludDMyKCk7aWYodD4+PjM9PTEpaS5hbW91bnQucHVzaChvLmRlY29kZShyLHIudWludDMyKCkpKTtlbHNlIHIuc2tpcFR5cGUoNyZ0KX1yZXR1cm4gaX0sZnJvbUpTT046dD0+KHthbW91bnQ6QXJyYXkuaXNBcnJheSh0Py5hbW91bnQpP3QuYW1vdW50Lm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHQuYW1vdW50P2UuYW1vdW50PXQuYW1vdW50Lm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLmFtb3VudD1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXthbW91bnQ6W119O3JldHVybiBlLmFtb3VudD10LmFtb3VudD8ubWFwKCh0PT5vLmZyb21QYXJ0aWFsKHQpKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5Nc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlXCIsdmFsdWU6TXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UoTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZSk7Y29uc3QgTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25cIixlbmNvZGU6KG8sdD1zLmNyZWF0ZSgpKT0+KFwiXCIhPT1vLnZhbGlkYXRvckFkZHJlc3MmJnQudWludDMyKDEwKS5zdHJpbmcoby52YWxpZGF0b3JBZGRyZXNzKSx0KSxkZWNvZGUobyx0KXtjb25zdCBzPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IHI9dm9pZCAwPT09dD9zLmxlbjpzLnBvcyt0O2NvbnN0IGQ9e3ZhbGlkYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczxyOyl7Y29uc3Qgbz1zLnVpbnQzMigpO2lmKG8+Pj4zPT0xKWQudmFsaWRhdG9yQWRkcmVzcz1zLnN0cmluZygpO2Vsc2Ugcy5za2lwVHlwZSg3Jm8pfXJldHVybiBkfSxmcm9tSlNPTjpvPT4oe3ZhbGlkYXRvckFkZHJlc3M6cihvLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhvLnZhbGlkYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by52YWxpZGF0b3JBZGRyZXNzJiYodC52YWxpZGF0b3JBZGRyZXNzPW8udmFsaWRhdG9yQWRkcmVzcyksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17dmFsaWRhdG9yQWRkcmVzczpcIlwifTtyZXR1cm4gdC52YWxpZGF0b3JBZGRyZXNzPW8udmFsaWRhdG9yQWRkcmVzcz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+TXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbi5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblwiLHZhbHVlOk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbi5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbihNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb24pO2NvbnN0IE1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZVwiLGVuY29kZSh0LGU9cy5jcmVhdGUoKSl7Zm9yKGNvbnN0IHMgb2YgdC5hbW91bnQpby5lbmNvZGUocyxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZX0sZGVjb2RlKHQscyl7Y29uc3Qgcj10IGluc3RhbmNlb2YgZT90Om5ldyBlKHQpO2xldCBkPXZvaWQgMD09PXM/ci5sZW46ci5wb3Mrcztjb25zdCBpPXthbW91bnQ6W119O2Zvcig7ci5wb3M8ZDspe2NvbnN0IHQ9ci51aW50MzIoKTtpZih0Pj4+Mz09MSlpLmFtb3VudC5wdXNoKG8uZGVjb2RlKHIsci51aW50MzIoKSkpO2Vsc2Ugci5za2lwVHlwZSg3JnQpfXJldHVybiBpfSxmcm9tSlNPTjp0PT4oe2Ftb3VudDpBcnJheS5pc0FycmF5KHQ/LmFtb3VudCk/dC5hbW91bnQubWFwKCh0PT5vLmZyb21KU09OKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5hbW91bnQ/ZS5hbW91bnQ9dC5hbW91bnQubWFwKCh0PT50P28udG9KU09OKHQpOnZvaWQgMCkpOmUuYW1vdW50PVtdLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e2Ftb3VudDpbXX07cmV0dXJuIGUuYW1vdW50PXQuYW1vdW50Py5tYXAoKHQ9Pm8uZnJvbVBhcnRpYWwodCkpKXx8W10sZX0sZnJvbVByb3RvTXNnOm89Pk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2VcIix2YWx1ZTpNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlKE1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlKTtjb25zdCBNc2dGdW5kQ29tbXVuaXR5UG9vbD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnRnVuZENvbW11bml0eVBvb2xcIixlbmNvZGUodCxlPXMuY3JlYXRlKCkpe2Zvcihjb25zdCBzIG9mIHQuYW1vdW50KW8uZW5jb2RlKHMsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuXCJcIiE9PXQuZGVwb3NpdG9yJiZlLnVpbnQzMigxOCkuc3RyaW5nKHQuZGVwb3NpdG9yKSxlfSxkZWNvZGUodCxzKXtjb25zdCByPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IGQ9dm9pZCAwPT09cz9yLmxlbjpyLnBvcytzO2NvbnN0IGk9e2Ftb3VudDpbXSxkZXBvc2l0b3I6XCJcIn07Zm9yKDtyLnBvczxkOyl7Y29uc3QgdD1yLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmkuYW1vdW50LnB1c2goby5kZWNvZGUocixyLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmkuZGVwb3NpdG9yPXIuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmdCl9fXJldHVybiBpfSxmcm9tSlNPTjp0PT4oe2Ftb3VudDpBcnJheS5pc0FycmF5KHQ/LmFtb3VudCk/dC5hbW91bnQubWFwKCh0PT5vLmZyb21KU09OKHQpKSk6W10sZGVwb3NpdG9yOnIodC5kZXBvc2l0b3IpP1N0cmluZyh0LmRlcG9zaXRvcik6XCJcIn0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB0LmFtb3VudD9lLmFtb3VudD10LmFtb3VudC5tYXAoKHQ9PnQ/by50b0pTT04odCk6dm9pZCAwKSk6ZS5hbW91bnQ9W10sdm9pZCAwIT09dC5kZXBvc2l0b3ImJihlLmRlcG9zaXRvcj10LmRlcG9zaXRvciksZX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgZT17YW1vdW50OltdLGRlcG9zaXRvcjpcIlwifTtyZXR1cm4gZS5hbW91bnQ9dC5hbW91bnQ/Lm1hcCgodD0+by5mcm9tUGFydGlhbCh0KSkpfHxbXSxlLmRlcG9zaXRvcj10LmRlcG9zaXRvcj8/XCJcIixlfSxmcm9tUHJvdG9Nc2c6bz0+TXNnRnVuZENvbW11bml0eVBvb2wuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+TXNnRnVuZENvbW11bml0eVBvb2wuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dGdW5kQ29tbXVuaXR5UG9vbFwiLHZhbHVlOk1zZ0Z1bmRDb21tdW5pdHlQb29sLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRnVuZENvbW11bml0eVBvb2woTXNnRnVuZENvbW11bml0eVBvb2wpO2NvbnN0IE1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2VcIixlbmNvZGU6KG8sdD1zLmNyZWF0ZSgpKT0+dCxkZWNvZGUobyx0KXtjb25zdCBzPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IHI9dm9pZCAwPT09dD9zLmxlbjpzLnBvcyt0O2NvbnN0IGQ9e307Zm9yKDtzLnBvczxyOyl7Y29uc3Qgbz1zLnVpbnQzMigpO3Muc2tpcFR5cGUoNyZvKX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHt9KSx0b0pTT046bz0+KHt9KSxmcm9tUGFydGlhbDpvPT4oe30pLGZyb21Qcm90b01zZzpvPT5Nc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlXCIsdmFsdWU6TXNnRnVuZENvbW11bml0eVBvb2xSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UoTXNnRnVuZENvbW11bml0eVBvb2xSZXNwb25zZSk7ZnVuY3Rpb24gZCgpe3JldHVybnthdXRob3JpdHk6XCJcIixwYXJhbXM6dC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IE1zZ1VwZGF0ZVBhcmFtcz17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnVXBkYXRlUGFyYW1zXCIsZW5jb2RlOihvLGU9cy5jcmVhdGUoKSk9PihcIlwiIT09by5hdXRob3JpdHkmJmUudWludDMyKDEwKS5zdHJpbmcoby5hdXRob3JpdHkpLHZvaWQgMCE9PW8ucGFyYW1zJiZ0LmVuY29kZShvLnBhcmFtcyxlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxzKXtjb25zdCByPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IGk9dm9pZCAwPT09cz9yLmxlbjpyLnBvcytzO2NvbnN0IGE9ZCgpO2Zvcig7ci5wb3M8aTspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTphLmF1dGhvcml0eT1yLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnBhcmFtcz10LmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHthdXRob3JpdHk6cihvLmF1dGhvcml0eSk/U3RyaW5nKG8uYXV0aG9yaXR5KTpcIlwiLHBhcmFtczpyKG8ucGFyYW1zKT90LmZyb21KU09OKG8ucGFyYW1zKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5hdXRob3JpdHkmJihlLmF1dGhvcml0eT1vLmF1dGhvcml0eSksdm9pZCAwIT09by5wYXJhbXMmJihlLnBhcmFtcz1vLnBhcmFtcz90LnRvSlNPTihvLnBhcmFtcyk6dm9pZCAwKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPWQoKTtyZXR1cm4gZS5hdXRob3JpdHk9by5hdXRob3JpdHk/P1wiXCIsZS5wYXJhbXM9dm9pZCAwIT09by5wYXJhbXMmJm51bGwhPT1vLnBhcmFtcz90LmZyb21QYXJ0aWFsKG8ucGFyYW1zKTp2b2lkIDAsZX0sZnJvbVByb3RvTXNnOm89Pk1zZ1VwZGF0ZVBhcmFtcy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dVcGRhdGVQYXJhbXMuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dVcGRhdGVQYXJhbXNcIix2YWx1ZTpNc2dVcGRhdGVQYXJhbXMuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVcGRhdGVQYXJhbXMoTXNnVXBkYXRlUGFyYW1zKTtjb25zdCBNc2dVcGRhdGVQYXJhbXNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2VcIixlbmNvZGU6KG8sdD1zLmNyZWF0ZSgpKT0+dCxkZWNvZGUobyx0KXtjb25zdCBzPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IHI9dm9pZCAwPT09dD9zLmxlbjpzLnBvcyt0O2NvbnN0IGQ9e307Zm9yKDtzLnBvczxyOyl7Y29uc3Qgbz1zLnVpbnQzMigpO3Muc2tpcFR5cGUoNyZvKX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHt9KSx0b0pTT046bz0+KHt9KSxmcm9tUGFydGlhbDpvPT4oe30pLGZyb21Qcm90b01zZzpvPT5Nc2dVcGRhdGVQYXJhbXNSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dVcGRhdGVQYXJhbXNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlXCIsdmFsdWU6TXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVcGRhdGVQYXJhbXNSZXNwb25zZShNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSk7Y29uc3QgTXNnQ29tbXVuaXR5UG9vbFNwZW5kPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dDb21tdW5pdHlQb29sU3BlbmRcIixlbmNvZGUodCxlPXMuY3JlYXRlKCkpe1wiXCIhPT10LmF1dGhvcml0eSYmZS51aW50MzIoMTApLnN0cmluZyh0LmF1dGhvcml0eSksXCJcIiE9PXQucmVjaXBpZW50JiZlLnVpbnQzMigxOCkuc3RyaW5nKHQucmVjaXBpZW50KTtmb3IoY29uc3QgcyBvZiB0LmFtb3VudClvLmVuY29kZShzLGUudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBlfSxkZWNvZGUodCxzKXtjb25zdCByPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IGQ9dm9pZCAwPT09cz9yLmxlbjpyLnBvcytzO2NvbnN0IGk9e2F1dGhvcml0eTpcIlwiLHJlY2lwaWVudDpcIlwiLGFtb3VudDpbXX07Zm9yKDtyLnBvczxkOyl7Y29uc3QgdD1yLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmkuYXV0aG9yaXR5PXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucmVjaXBpZW50PXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmkuYW1vdW50LnB1c2goby5kZWNvZGUocixyLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmdCl9fXJldHVybiBpfSxmcm9tSlNPTjp0PT4oe2F1dGhvcml0eTpyKHQuYXV0aG9yaXR5KT9TdHJpbmcodC5hdXRob3JpdHkpOlwiXCIscmVjaXBpZW50OnIodC5yZWNpcGllbnQpP1N0cmluZyh0LnJlY2lwaWVudCk6XCJcIixhbW91bnQ6QXJyYXkuaXNBcnJheSh0Py5hbW91bnQpP3QuYW1vdW50Lm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PXQuYXV0aG9yaXR5JiYoZS5hdXRob3JpdHk9dC5hdXRob3JpdHkpLHZvaWQgMCE9PXQucmVjaXBpZW50JiYoZS5yZWNpcGllbnQ9dC5yZWNpcGllbnQpLHQuYW1vdW50P2UuYW1vdW50PXQuYW1vdW50Lm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLmFtb3VudD1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXthdXRob3JpdHk6XCJcIixyZWNpcGllbnQ6XCJcIixhbW91bnQ6W119O3JldHVybiBlLmF1dGhvcml0eT10LmF1dGhvcml0eT8/XCJcIixlLnJlY2lwaWVudD10LnJlY2lwaWVudD8/XCJcIixlLmFtb3VudD10LmFtb3VudD8ubWFwKCh0PT5vLmZyb21QYXJ0aWFsKHQpKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5Nc2dDb21tdW5pdHlQb29sU3BlbmQuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+TXNnQ29tbXVuaXR5UG9vbFNwZW5kLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnQ29tbXVuaXR5UG9vbFNwZW5kXCIsdmFsdWU6TXNnQ29tbXVuaXR5UG9vbFNwZW5kLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ29tbXVuaXR5UG9vbFNwZW5kKE1zZ0NvbW11bml0eVBvb2xTcGVuZCk7Y29uc3QgTXNnQ29tbXVuaXR5UG9vbFNwZW5kUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ0NvbW11bml0eVBvb2xTcGVuZFJlc3BvbnNlXCIsZW5jb2RlOihvLHQ9cy5jcmVhdGUoKSk9PnQsZGVjb2RlKG8sdCl7Y29uc3Qgcz1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCByPXZvaWQgMD09PXQ/cy5sZW46cy5wb3MrdDtjb25zdCBkPXt9O2Zvcig7cy5wb3M8cjspe2NvbnN0IG89cy51aW50MzIoKTtzLnNraXBUeXBlKDcmbyl9cmV0dXJuIGR9LGZyb21KU09OOm89Pih7fSksdG9KU09OOm89Pih7fSksZnJvbVBhcnRpYWw6bz0+KHt9KSxmcm9tUHJvdG9Nc2c6bz0+TXNnQ29tbXVuaXR5UG9vbFNwZW5kUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+TXNnQ29tbXVuaXR5UG9vbFNwZW5kUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dDb21tdW5pdHlQb29sU3BlbmRSZXNwb25zZVwiLHZhbHVlOk1zZ0NvbW11bml0eVBvb2xTcGVuZFJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ29tbXVuaXR5UG9vbFNwZW5kUmVzcG9uc2UoTXNnQ29tbXVuaXR5UG9vbFNwZW5kUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTXNnU2V0V2l0aGRyYXdBZGRyZXNzIjpbIk1zZ1NldFdpdGhkcmF3QWRkcmVzcyJdLCJNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSI6WyJNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSJdLCJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZCI6WyJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZCJdLCJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlIjpbIk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UiXSwiTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uIjpbIk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbiJdLCJNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZSI6WyJNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZSJdLCJNc2dGdW5kQ29tbXVuaXR5UG9vbCI6WyJNc2dGdW5kQ29tbXVuaXR5UG9vbCJdLCJNc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlIjpbIk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UiXSwiTXNnVXBkYXRlUGFyYW1zIjpbIk1zZ1VwZGF0ZVBhcmFtcyJdLCJNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSI6WyJNc2dVcGRhdGVQYXJhbXNSZXNwb25zZSJdLCJNc2dDb21tdW5pdHlQb29sU3BlbmQiOlsiTXNnQ29tbXVuaXR5UG9vbFNwZW5kIl0sIk1zZ0NvbW11bml0eVBvb2xTcGVuZFJlc3BvbnNlIjpbIk1zZ0NvbW11bml0eVBvb2xTcGVuZFJlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALgMUtJ2nQAAdp0AAEgAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvcXVlcnkuanN7ImltcG9ydHMiOlsiLi4vLi4vYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanMiLCIuL3N0YWtpbmcuanMiLCIuLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlIiwiUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QiLCJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UiLCJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2UiLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0IiwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiLCJRdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdCIsIlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXNwb25zZSIsIlF1ZXJ5UGFyYW1zUmVxdWVzdCIsIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiLCJRdWVyeVBvb2xSZXF1ZXN0IiwiUXVlcnlQb29sUmVzcG9uc2UiLCJRdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0IiwiUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UiLCJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0IiwiUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UiLCJRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSIsIlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2UiLCJRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZSIsIlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QiLCJRdWVyeVZhbGlkYXRvcnNSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG8sZSx0LG4sYSxpLHIsZCxzLGwsZyxwOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanNcIiwgW1tcIlBhZ2VSZXF1ZXN0XCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJQYWdlUmVzcG9uc2VcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi9zdGFraW5nLmpzXCIsIFtbXCJWYWxpZGF0b3JcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dLFtcIkRlbGVnYXRpb25SZXNwb25zZVwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiVW5ib25kaW5nRGVsZWdhdGlvblwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV0sW1wiUmVkZWxlZ2F0aW9uUmVzcG9uc2VcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dLFtcIkhpc3RvcmljYWxJbmZvXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXSxbXCJQb29sXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXSxbXCJQYXJhbXNcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChsID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKGcgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKHAgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvcnNSZXF1ZXN0XCIsZW5jb2RlOihlLHQ9Zy5jcmVhdGUoKSk9PihcIlwiIT09ZS5zdGF0dXMmJnQudWludDMyKDEwKS5zdHJpbmcoZS5zdGF0dXMpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIGw/ZTpuZXcgbChlKTtsZXQgYT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3QgaT17c3RhdHVzOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLnN0YXR1cz1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7c3RhdHVzOnAoZS5zdGF0dXMpP1N0cmluZyhlLnN0YXR1cyk6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuc3RhdHVzJiYodC5zdGF0dXM9ZS5zdGF0dXMpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3N0YXR1czpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gdC5zdGF0dXM9ZS5zdGF0dXM/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvcnNSZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JzUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvcnNSZXF1ZXN0KFF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JzUmVzcG9uc2VcIixlbmNvZGUobyxuPWcuY3JlYXRlKCkpe2Zvcihjb25zdCBlIG9mIG8udmFsaWRhdG9ycyl0LmVuY29kZShlLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbixuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxufSxkZWNvZGUobyxuKXtjb25zdCBhPW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGk9dm9pZCAwPT09bj9hLmxlbjphLnBvcytuO2NvbnN0IHI9e3ZhbGlkYXRvcnM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7YS5wb3M8aTspe2NvbnN0IG89YS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLnZhbGlkYXRvcnMucHVzaCh0LmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDI6ci5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe3ZhbGlkYXRvcnM6QXJyYXkuaXNBcnJheShvPy52YWxpZGF0b3JzKT9vLnZhbGlkYXRvcnMubWFwKChvPT50LmZyb21KU09OKG8pKSk6W10scGFnaW5hdGlvbjpwKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBuPXt9O3JldHVybiBvLnZhbGlkYXRvcnM/bi52YWxpZGF0b3JzPW8udmFsaWRhdG9ycy5tYXAoKG89Pm8/dC50b0pTT04obyk6dm9pZCAwKSk6bi52YWxpZGF0b3JzPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKG8pe2NvbnN0IG49e3ZhbGlkYXRvcnM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBuLnZhbGlkYXRvcnM9by52YWxpZGF0b3JzPy5tYXAoKG89PnQuZnJvbVBhcnRpYWwobykpKXx8W10sbi5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvcnNSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVZhbGlkYXRvcnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvcnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JzUmVzcG9uc2UoUXVlcnlWYWxpZGF0b3JzUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdFwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4oXCJcIiE9PW8udmFsaWRhdG9yQWRkciYmZS51aW50MzIoMTApLnN0cmluZyhvLnZhbGlkYXRvckFkZHIpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT17dmFsaWRhdG9yQWRkcjpcIlwifTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7aWYobz4+PjM9PTEpYS52YWxpZGF0b3JBZGRyPXQuc3RyaW5nKCk7ZWxzZSB0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7dmFsaWRhdG9yQWRkcjpwKG8udmFsaWRhdG9yQWRkcik/U3RyaW5nKG8udmFsaWRhdG9yQWRkcik6XCJcIn0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLnZhbGlkYXRvckFkZHImJihlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXt2YWxpZGF0b3JBZGRyOlwiXCJ9O3JldHVybiBlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyPz9cIlwiLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvclJlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlWYWxpZGF0b3JSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdChRdWVyeVZhbGlkYXRvclJlcXVlc3QpO2Z1bmN0aW9uIHUoKXtyZXR1cm57dmFsaWRhdG9yOnQuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVZhbGlkYXRvclJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JSZXNwb25zZVwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4odm9pZCAwIT09by52YWxpZGF0b3ImJnQuZW5jb2RlKG8udmFsaWRhdG9yLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IG49byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgYT12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3QgaT11KCk7Zm9yKDtuLnBvczxhOyl7Y29uc3Qgbz1uLnVpbnQzMigpO2lmKG8+Pj4zPT0xKWkudmFsaWRhdG9yPXQuZGVjb2RlKG4sbi51aW50MzIoKSk7ZWxzZSBuLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGZyb21KU09OOm89Pih7dmFsaWRhdG9yOnAoby52YWxpZGF0b3IpP3QuZnJvbUpTT04oby52YWxpZGF0b3IpOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLnZhbGlkYXRvciYmKGUudmFsaWRhdG9yPW8udmFsaWRhdG9yP3QudG9KU09OKG8udmFsaWRhdG9yKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9dSgpO3JldHVybiBlLnZhbGlkYXRvcj12b2lkIDAhPT1vLnZhbGlkYXRvciYmbnVsbCE9PW8udmFsaWRhdG9yP3QuZnJvbVBhcnRpYWwoby52YWxpZGF0b3IpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlWYWxpZGF0b3JSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JSZXNwb25zZShRdWVyeVZhbGlkYXRvclJlc3BvbnNlKTtjb25zdCBRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0XCIsZW5jb2RlOihlLHQ9Zy5jcmVhdGUoKSk9PihcIlwiIT09ZS52YWxpZGF0b3JBZGRyJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgbD9lOm5ldyBsKGUpO2xldCBhPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCBpPXt2YWxpZGF0b3JBZGRyOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLnZhbGlkYXRvckFkZHI9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5wYWdpbmF0aW9uPW8uZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3ZhbGlkYXRvckFkZHI6cChlLnZhbGlkYXRvckFkZHIpP1N0cmluZyhlLnZhbGlkYXRvckFkZHIpOlwiXCIscGFnaW5hdGlvbjpwKGUucGFnaW5hdGlvbik/by5mcm9tSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHImJih0LnZhbGlkYXRvckFkZHI9ZS52YWxpZGF0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJih0LnBhZ2luYXRpb249ZS5wYWdpbmF0aW9uP28udG9KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXt2YWxpZGF0b3JBZGRyOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LnZhbGlkYXRvckFkZHI9ZS52YWxpZGF0b3JBZGRyPz9cIlwiLHQucGFnaW5hdGlvbj12b2lkIDAhPT1lLnBhZ2luYXRpb24mJm51bGwhPT1lLnBhZ2luYXRpb24/by5mcm9tUGFydGlhbChlLnBhZ2luYXRpb24pOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3RcIix2YWx1ZTpRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0KFF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0KTtjb25zdCBRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVzcG9uc2VcIixlbmNvZGUobyx0PWcuY3JlYXRlKCkpe2Zvcihjb25zdCBlIG9mIG8uZGVsZWdhdGlvblJlc3BvbnNlcyluLmVuY29kZShlLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxkZWNvZGUobyx0KXtjb25zdCBhPW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGk9dm9pZCAwPT09dD9hLmxlbjphLnBvcyt0O2NvbnN0IHI9e2RlbGVnYXRpb25SZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7YS5wb3M8aTspe2NvbnN0IG89YS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLmRlbGVnYXRpb25SZXNwb25zZXMucHVzaChuLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDI6ci5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe2RlbGVnYXRpb25SZXNwb25zZXM6QXJyYXkuaXNBcnJheShvPy5kZWxlZ2F0aW9uUmVzcG9uc2VzKT9vLmRlbGVnYXRpb25SZXNwb25zZXMubWFwKChvPT5uLmZyb21KU09OKG8pKSk6W10scGFnaW5hdGlvbjpwKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiBvLmRlbGVnYXRpb25SZXNwb25zZXM/dC5kZWxlZ2F0aW9uUmVzcG9uc2VzPW8uZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAoKG89Pm8/bi50b0pTT04obyk6dm9pZCAwKSk6dC5kZWxlZ2F0aW9uUmVzcG9uc2VzPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2RlbGVnYXRpb25SZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LmRlbGVnYXRpb25SZXNwb25zZXM9by5kZWxlZ2F0aW9uUmVzcG9uc2VzPy5tYXAoKG89Pm4uZnJvbVBhcnRpYWwobykpKXx8W10sdC5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZShRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3RcIixlbmNvZGU6KGUsdD1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLnZhbGlkYXRvckFkZHImJnQudWludDMyKDEwKS5zdHJpbmcoZS52YWxpZGF0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBuPWUgaW5zdGFuY2VvZiBsP2U6bmV3IGwoZSk7bGV0IGE9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IGk9e3ZhbGlkYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkudmFsaWRhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dmFsaWRhdG9yQWRkcjpwKGUudmFsaWRhdG9yQWRkcik/U3RyaW5nKGUudmFsaWRhdG9yQWRkcik6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkciYmKHQudmFsaWRhdG9yQWRkcj1lLnZhbGlkYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3ZhbGlkYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQudmFsaWRhdG9yQWRkcj1lLnZhbGlkYXRvckFkZHI/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QoUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZVwiLGVuY29kZShvLHQ9Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby51bmJvbmRpbmdSZXNwb25zZXMpYS5lbmNvZGUoZSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sZGVjb2RlKG8sdCl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBpPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCByPXt1bmJvbmRpbmdSZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7bi5wb3M8aTspe2NvbnN0IG89bi51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLnVuYm9uZGluZ1Jlc3BvbnNlcy5wdXNoKGEuZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7dW5ib25kaW5nUmVzcG9uc2VzOkFycmF5LmlzQXJyYXkobz8udW5ib25kaW5nUmVzcG9uc2VzKT9vLnVuYm9uZGluZ1Jlc3BvbnNlcy5tYXAoKG89PmEuZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8udW5ib25kaW5nUmVzcG9uc2VzP3QudW5ib25kaW5nUmVzcG9uc2VzPW8udW5ib25kaW5nUmVzcG9uc2VzLm1hcCgobz0+bz9hLnRvSlNPTihvKTp2b2lkIDApKTp0LnVuYm9uZGluZ1Jlc3BvbnNlcz1bXSx2b2lkIDAhPT1vLnBhZ2luYXRpb24mJih0LnBhZ2luYXRpb249by5wYWdpbmF0aW9uP2UudG9KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXt1bmJvbmRpbmdSZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LnVuYm9uZGluZ1Jlc3BvbnNlcz1vLnVuYm9uZGluZ1Jlc3BvbnNlcz8ubWFwKChvPT5hLmZyb21QYXJ0aWFsKG8pKSl8fFtdLHQucGFnaW5hdGlvbj12b2lkIDAhPT1vLnBhZ2luYXRpb24mJm51bGwhPT1vLnBhZ2luYXRpb24/ZS5mcm9tUGFydGlhbChvLnBhZ2luYXRpb24pOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UoUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlKTtjb25zdCBRdWVyeURlbGVnYXRpb25SZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdFwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVsZWdhdG9yQWRkciYmZS51aW50MzIoMTApLnN0cmluZyhvLmRlbGVnYXRvckFkZHIpLFwiXCIhPT1vLnZhbGlkYXRvckFkZHImJmUudWludDMyKDE4KS5zdHJpbmcoby52YWxpZGF0b3JBZGRyKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9e2RlbGVnYXRvckFkZHI6XCJcIix2YWxpZGF0b3JBZGRyOlwiXCJ9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTphLmRlbGVnYXRvckFkZHI9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6YS52YWxpZGF0b3JBZGRyPXQuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe2RlbGVnYXRvckFkZHI6cChvLmRlbGVnYXRvckFkZHIpP1N0cmluZyhvLmRlbGVnYXRvckFkZHIpOlwiXCIsdmFsaWRhdG9yQWRkcjpwKG8udmFsaWRhdG9yQWRkcik/U3RyaW5nKG8udmFsaWRhdG9yQWRkcik6XCJcIn0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLmRlbGVnYXRvckFkZHImJihlLmRlbGVnYXRvckFkZHI9by5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1vLnZhbGlkYXRvckFkZHImJihlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXtkZWxlZ2F0b3JBZGRyOlwiXCIsdmFsaWRhdG9yQWRkcjpcIlwifTtyZXR1cm4gZS5kZWxlZ2F0b3JBZGRyPW8uZGVsZWdhdG9yQWRkcj8/XCJcIixlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyPz9cIlwiLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRpb25SZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRpb25SZXF1ZXN0KFF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QpO2NvbnN0IFF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2VcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PW8uZGVsZWdhdGlvblJlc3BvbnNlJiZuLmVuY29kZShvLmRlbGVnYXRpb25SZXNwb25zZSxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGE9dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9e2RlbGVnYXRpb25SZXNwb25zZTp2b2lkIDB9O2Zvcig7dC5wb3M8YTspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlpLmRlbGVnYXRpb25SZXNwb25zZT1uLmRlY29kZSh0LHQudWludDMyKCkpO2Vsc2UgdC5za2lwVHlwZSg3Jm8pfXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe2RlbGVnYXRpb25SZXNwb25zZTpwKG8uZGVsZWdhdGlvblJlc3BvbnNlKT9uLmZyb21KU09OKG8uZGVsZWdhdGlvblJlc3BvbnNlKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5kZWxlZ2F0aW9uUmVzcG9uc2UmJihlLmRlbGVnYXRpb25SZXNwb25zZT1vLmRlbGVnYXRpb25SZXNwb25zZT9uLnRvSlNPTihvLmRlbGVnYXRpb25SZXNwb25zZSk6dm9pZCAwKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXtkZWxlZ2F0aW9uUmVzcG9uc2U6dm9pZCAwfTtyZXR1cm4gZS5kZWxlZ2F0aW9uUmVzcG9uc2U9dm9pZCAwIT09by5kZWxlZ2F0aW9uUmVzcG9uc2UmJm51bGwhPT1vLmRlbGVnYXRpb25SZXNwb25zZT9uLmZyb21QYXJ0aWFsKG8uZGVsZWdhdGlvblJlc3BvbnNlKTp2b2lkIDAsZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRpb25SZXNwb25zZShRdWVyeURlbGVnYXRpb25SZXNwb25zZSk7Y29uc3QgUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3RcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1vLmRlbGVnYXRvckFkZHImJmUudWludDMyKDEwKS5zdHJpbmcoby5kZWxlZ2F0b3JBZGRyKSxcIlwiIT09by52YWxpZGF0b3JBZGRyJiZlLnVpbnQzMigxOCkuc3RyaW5nKG8udmFsaWRhdG9yQWRkciksZSksZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBhPXtkZWxlZ2F0b3JBZGRyOlwiXCIsdmFsaWRhdG9yQWRkcjpcIlwifTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6YS5kZWxlZ2F0b3JBZGRyPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEudmFsaWRhdG9yQWRkcj10LnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHtkZWxlZ2F0b3JBZGRyOnAoby5kZWxlZ2F0b3JBZGRyKT9TdHJpbmcoby5kZWxlZ2F0b3JBZGRyKTpcIlwiLHZhbGlkYXRvckFkZHI6cChvLnZhbGlkYXRvckFkZHIpP1N0cmluZyhvLnZhbGlkYXRvckFkZHIpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5kZWxlZ2F0b3JBZGRyJiYoZS5kZWxlZ2F0b3JBZGRyPW8uZGVsZWdhdG9yQWRkciksdm9pZCAwIT09by52YWxpZGF0b3JBZGRyJiYoZS52YWxpZGF0b3JBZGRyPW8udmFsaWRhdG9yQWRkciksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT17ZGVsZWdhdG9yQWRkcjpcIlwiLHZhbGlkYXRvckFkZHI6XCJcIn07cmV0dXJuIGUuZGVsZWdhdG9yQWRkcj1vLmRlbGVnYXRvckFkZHI/P1wiXCIsZS52YWxpZGF0b3JBZGRyPW8udmFsaWRhdG9yQWRkcj8/XCJcIixlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3RcIix2YWx1ZTpRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdChRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0KTtmdW5jdGlvbiBjKCl7cmV0dXJue3VuYm9uZDphLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZVwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4odm9pZCAwIT09by51bmJvbmQmJmEuZW5jb2RlKG8udW5ib25kLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgaT1jKCk7Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO2lmKG8+Pj4zPT0xKWkudW5ib25kPWEuZGVjb2RlKHQsdC51aW50MzIoKSk7ZWxzZSB0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGZyb21KU09OOm89Pih7dW5ib25kOnAoby51bmJvbmQpP2EuZnJvbUpTT04oby51bmJvbmQpOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLnVuYm9uZCYmKGUudW5ib25kPW8udW5ib25kP2EudG9KU09OKG8udW5ib25kKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9YygpO3JldHVybiBlLnVuYm9uZD12b2lkIDAhPT1vLnVuYm9uZCYmbnVsbCE9PW8udW5ib25kP2EuZnJvbVBhcnRpYWwoby51bmJvbmQpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlKFF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlKTtjb25zdCBRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0XCIsZW5jb2RlOihlLHQ9Zy5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgbD9lOm5ldyBsKGUpO2xldCBhPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCBpPXtkZWxlZ2F0b3JBZGRyOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLmRlbGVnYXRvckFkZHI9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5wYWdpbmF0aW9uPW8uZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHI6cChlLmRlbGVnYXRvckFkZHIpP1N0cmluZyhlLmRlbGVnYXRvckFkZHIpOlwiXCIscGFnaW5hdGlvbjpwKGUucGFnaW5hdGlvbik/by5mcm9tSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHImJih0LmRlbGVnYXRvckFkZHI9ZS5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJih0LnBhZ2luYXRpb249ZS5wYWdpbmF0aW9uP28udG9KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtkZWxlZ2F0b3JBZGRyOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LmRlbGVnYXRvckFkZHI9ZS5kZWxlZ2F0b3JBZGRyPz9cIlwiLHQucGFnaW5hdGlvbj12b2lkIDAhPT1lLnBhZ2luYXRpb24mJm51bGwhPT1lLnBhZ2luYXRpb24/by5mcm9tUGFydGlhbChlLnBhZ2luYXRpb24pOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3RcIix2YWx1ZTpRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0KFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0KTtjb25zdCBRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2VcIixlbmNvZGUobyx0PWcuY3JlYXRlKCkpe2Zvcihjb25zdCBlIG9mIG8uZGVsZWdhdGlvblJlc3BvbnNlcyluLmVuY29kZShlLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxkZWNvZGUobyx0KXtjb25zdCBhPW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGk9dm9pZCAwPT09dD9hLmxlbjphLnBvcyt0O2NvbnN0IHI9e2RlbGVnYXRpb25SZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7YS5wb3M8aTspe2NvbnN0IG89YS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLmRlbGVnYXRpb25SZXNwb25zZXMucHVzaChuLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDI6ci5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe2RlbGVnYXRpb25SZXNwb25zZXM6QXJyYXkuaXNBcnJheShvPy5kZWxlZ2F0aW9uUmVzcG9uc2VzKT9vLmRlbGVnYXRpb25SZXNwb25zZXMubWFwKChvPT5uLmZyb21KU09OKG8pKSk6W10scGFnaW5hdGlvbjpwKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiBvLmRlbGVnYXRpb25SZXNwb25zZXM/dC5kZWxlZ2F0aW9uUmVzcG9uc2VzPW8uZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAoKG89Pm8/bi50b0pTT04obyk6dm9pZCAwKSk6dC5kZWxlZ2F0aW9uUmVzcG9uc2VzPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2RlbGVnYXRpb25SZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LmRlbGVnYXRpb25SZXNwb25zZXM9by5kZWxlZ2F0aW9uUmVzcG9uc2VzPy5tYXAoKG89Pm4uZnJvbVBhcnRpYWwobykpKXx8W10sdC5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZShRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3RcIixlbmNvZGU6KGUsdD1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHImJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBuPWUgaW5zdGFuY2VvZiBsP2U6bmV3IGwoZSk7bGV0IGE9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IGk9e2RlbGVnYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcjpwKGUuZGVsZWdhdG9yQWRkcik/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcik6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkciYmKHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHI/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QoUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZVwiLGVuY29kZShvLHQ9Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby51bmJvbmRpbmdSZXNwb25zZXMpYS5lbmNvZGUoZSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sZGVjb2RlKG8sdCl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBpPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCByPXt1bmJvbmRpbmdSZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7bi5wb3M8aTspe2NvbnN0IG89bi51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLnVuYm9uZGluZ1Jlc3BvbnNlcy5wdXNoKGEuZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7dW5ib25kaW5nUmVzcG9uc2VzOkFycmF5LmlzQXJyYXkobz8udW5ib25kaW5nUmVzcG9uc2VzKT9vLnVuYm9uZGluZ1Jlc3BvbnNlcy5tYXAoKG89PmEuZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8udW5ib25kaW5nUmVzcG9uc2VzP3QudW5ib25kaW5nUmVzcG9uc2VzPW8udW5ib25kaW5nUmVzcG9uc2VzLm1hcCgobz0+bz9hLnRvSlNPTihvKTp2b2lkIDApKTp0LnVuYm9uZGluZ1Jlc3BvbnNlcz1bXSx2b2lkIDAhPT1vLnBhZ2luYXRpb24mJih0LnBhZ2luYXRpb249by5wYWdpbmF0aW9uP2UudG9KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXt1bmJvbmRpbmdSZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LnVuYm9uZGluZ1Jlc3BvbnNlcz1vLnVuYm9uZGluZ1Jlc3BvbnNlcz8ubWFwKChvPT5hLmZyb21QYXJ0aWFsKG8pKSl8fFtdLHQucGFnaW5hdGlvbj12b2lkIDAhPT1vLnBhZ2luYXRpb24mJm51bGwhPT1vLnBhZ2luYXRpb24/ZS5mcm9tUGFydGlhbChvLnBhZ2luYXRpb24pOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UoUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlKTtjb25zdCBRdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdFwiLGVuY29kZTooZSx0PWcuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkciYmdC51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHIpLFwiXCIhPT1lLnNyY1ZhbGlkYXRvckFkZHImJnQudWludDMyKDE4KS5zdHJpbmcoZS5zcmNWYWxpZGF0b3JBZGRyKSxcIlwiIT09ZS5kc3RWYWxpZGF0b3JBZGRyJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUuZHN0VmFsaWRhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgbD9lOm5ldyBsKGUpO2xldCBhPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCBpPXtkZWxlZ2F0b3JBZGRyOlwiXCIsc3JjVmFsaWRhdG9yQWRkcjpcIlwiLGRzdFZhbGlkYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnNyY1ZhbGlkYXRvckFkZHI9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6aS5kc3RWYWxpZGF0b3JBZGRyPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmkucGFnaW5hdGlvbj1vLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyOnAoZS5kZWxlZ2F0b3JBZGRyKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyKTpcIlwiLHNyY1ZhbGlkYXRvckFkZHI6cChlLnNyY1ZhbGlkYXRvckFkZHIpP1N0cmluZyhlLnNyY1ZhbGlkYXRvckFkZHIpOlwiXCIsZHN0VmFsaWRhdG9yQWRkcjpwKGUuZHN0VmFsaWRhdG9yQWRkcik/U3RyaW5nKGUuZHN0VmFsaWRhdG9yQWRkcik6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkciYmKHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PWUuc3JjVmFsaWRhdG9yQWRkciYmKHQuc3JjVmFsaWRhdG9yQWRkcj1lLnNyY1ZhbGlkYXRvckFkZHIpLHZvaWQgMCE9PWUuZHN0VmFsaWRhdG9yQWRkciYmKHQuZHN0VmFsaWRhdG9yQWRkcj1lLmRzdFZhbGlkYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHI6XCJcIixzcmNWYWxpZGF0b3JBZGRyOlwiXCIsZHN0VmFsaWRhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gdC5kZWxlZ2F0b3JBZGRyPWUuZGVsZWdhdG9yQWRkcj8/XCJcIix0LnNyY1ZhbGlkYXRvckFkZHI9ZS5zcmNWYWxpZGF0b3JBZGRyPz9cIlwiLHQuZHN0VmFsaWRhdG9yQWRkcj1lLmRzdFZhbGlkYXRvckFkZHI/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0KFF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2VcIixlbmNvZGUobyx0PWcuY3JlYXRlKCkpe2Zvcihjb25zdCBlIG9mIG8ucmVkZWxlZ2F0aW9uUmVzcG9uc2VzKWkuZW5jb2RlKGUsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGRlY29kZShvLHQpe2NvbnN0IG49byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgYT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3Qgcj17cmVkZWxlZ2F0aW9uUmVzcG9uc2VzOltdLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO24ucG9zPGE7KXtjb25zdCBvPW4udWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6ci5yZWRlbGVnYXRpb25SZXNwb25zZXMucHVzaChpLmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztjYXNlIDI6ci5wYWdpbmF0aW9uPWUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe3JlZGVsZWdhdGlvblJlc3BvbnNlczpBcnJheS5pc0FycmF5KG8/LnJlZGVsZWdhdGlvblJlc3BvbnNlcyk/by5yZWRlbGVnYXRpb25SZXNwb25zZXMubWFwKChvPT5pLmZyb21KU09OKG8pKSk6W10scGFnaW5hdGlvbjpwKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiBvLnJlZGVsZWdhdGlvblJlc3BvbnNlcz90LnJlZGVsZWdhdGlvblJlc3BvbnNlcz1vLnJlZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAoKG89Pm8/aS50b0pTT04obyk6dm9pZCAwKSk6dC5yZWRlbGVnYXRpb25SZXNwb25zZXM9W10sdm9pZCAwIT09by5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17cmVkZWxlZ2F0aW9uUmVzcG9uc2VzOltdLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gdC5yZWRlbGVnYXRpb25SZXNwb25zZXM9by5yZWRlbGVnYXRpb25SZXNwb25zZXM/Lm1hcCgobz0+aS5mcm9tUGFydGlhbChvKSkpfHxbXSx0LnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZShRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3RcIixlbmNvZGU6KGUsdD1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHImJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBuPWUgaW5zdGFuY2VvZiBsP2U6bmV3IGwoZSk7bGV0IGE9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IGk9e2RlbGVnYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcjpwKGUuZGVsZWdhdG9yQWRkcik/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcik6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkciYmKHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHI/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0KFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2VcIixlbmNvZGUobyxuPWcuY3JlYXRlKCkpe2Zvcihjb25zdCBlIG9mIG8udmFsaWRhdG9ycyl0LmVuY29kZShlLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbixuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxufSxkZWNvZGUobyxuKXtjb25zdCBhPW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGk9dm9pZCAwPT09bj9hLmxlbjphLnBvcytuO2NvbnN0IHI9e3ZhbGlkYXRvcnM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7YS5wb3M8aTspe2NvbnN0IG89YS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLnZhbGlkYXRvcnMucHVzaCh0LmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDI6ci5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe3ZhbGlkYXRvcnM6QXJyYXkuaXNBcnJheShvPy52YWxpZGF0b3JzKT9vLnZhbGlkYXRvcnMubWFwKChvPT50LmZyb21KU09OKG8pKSk6W10scGFnaW5hdGlvbjpwKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBuPXt9O3JldHVybiBvLnZhbGlkYXRvcnM/bi52YWxpZGF0b3JzPW8udmFsaWRhdG9ycy5tYXAoKG89Pm8/dC50b0pTT04obyk6dm9pZCAwKSk6bi52YWxpZGF0b3JzPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKG8pe2NvbnN0IG49e3ZhbGlkYXRvcnM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBuLnZhbGlkYXRvcnM9by52YWxpZGF0b3JzPy5tYXAoKG89PnQuZnJvbVBhcnRpYWwobykpKXx8W10sbi5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UoUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdFwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVsZWdhdG9yQWRkciYmZS51aW50MzIoMTApLnN0cmluZyhvLmRlbGVnYXRvckFkZHIpLFwiXCIhPT1vLnZhbGlkYXRvckFkZHImJmUudWludDMyKDE4KS5zdHJpbmcoby52YWxpZGF0b3JBZGRyKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9e2RlbGVnYXRvckFkZHI6XCJcIix2YWxpZGF0b3JBZGRyOlwiXCJ9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTphLmRlbGVnYXRvckFkZHI9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6YS52YWxpZGF0b3JBZGRyPXQuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe2RlbGVnYXRvckFkZHI6cChvLmRlbGVnYXRvckFkZHIpP1N0cmluZyhvLmRlbGVnYXRvckFkZHIpOlwiXCIsdmFsaWRhdG9yQWRkcjpwKG8udmFsaWRhdG9yQWRkcik/U3RyaW5nKG8udmFsaWRhdG9yQWRkcik6XCJcIn0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLmRlbGVnYXRvckFkZHImJihlLmRlbGVnYXRvckFkZHI9by5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1vLnZhbGlkYXRvckFkZHImJihlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXtkZWxlZ2F0b3JBZGRyOlwiXCIsdmFsaWRhdG9yQWRkcjpcIlwifTtyZXR1cm4gZS5kZWxlZ2F0b3JBZGRyPW8uZGVsZWdhdG9yQWRkcj8/XCJcIixlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyPz9cIlwiLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvclJlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdChRdWVyeURlbGVnYXRvclZhbGlkYXRvclJlcXVlc3QpO2Z1bmN0aW9uIHYoKXtyZXR1cm57dmFsaWRhdG9yOnQuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXNwb25zZVwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4odm9pZCAwIT09by52YWxpZGF0b3ImJnQuZW5jb2RlKG8udmFsaWRhdG9yLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IG49byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgYT12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3QgaT12KCk7Zm9yKDtuLnBvczxhOyl7Y29uc3Qgbz1uLnVpbnQzMigpO2lmKG8+Pj4zPT0xKWkudmFsaWRhdG9yPXQuZGVjb2RlKG4sbi51aW50MzIoKSk7ZWxzZSBuLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGZyb21KU09OOm89Pih7dmFsaWRhdG9yOnAoby52YWxpZGF0b3IpP3QuZnJvbUpTT04oby52YWxpZGF0b3IpOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLnZhbGlkYXRvciYmKGUudmFsaWRhdG9yPW8udmFsaWRhdG9yP3QudG9KU09OKG8udmFsaWRhdG9yKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9digpO3JldHVybiBlLnZhbGlkYXRvcj12b2lkIDAhPT1vLnZhbGlkYXRvciYmbnVsbCE9PW8udmFsaWRhdG9yP3QuZnJvbVBhcnRpYWwoby52YWxpZGF0b3IpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXNwb25zZShRdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlKTtmdW5jdGlvbiBmKCl7cmV0dXJue2hlaWdodDpCaWdJbnQoMCl9fWNvbnN0IFF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3RcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+KG8uaGVpZ2h0IT09QmlnSW50KDApJiZlLnVpbnQzMig4KS5pbnQ2NChvLmhlaWdodCksZSksZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBhPWYoKTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7aWYobz4+PjM9PTEpYS5oZWlnaHQ9dC5pbnQ2NCgpO2Vsc2UgdC5za2lwVHlwZSg3Jm8pfXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe2hlaWdodDpwKG8uaGVpZ2h0KT9CaWdJbnQoby5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uaGVpZ2h0JiYoZS5oZWlnaHQ9KG8uaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9ZigpO3JldHVybiBlLmhlaWdodD12b2lkIDAhPT1vLmhlaWdodCYmbnVsbCE9PW8uaGVpZ2h0P0JpZ0ludChvLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0XCIsdmFsdWU6UXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdChRdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdCk7Y29uc3QgUXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlXCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLmhpc3QmJnIuZW5jb2RlKG8uaGlzdCxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9e2hpc3Q6dm9pZCAwfTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7aWYobz4+PjM9PTEpYS5oaXN0PXIuZGVjb2RlKHQsdC51aW50MzIoKSk7ZWxzZSB0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7aGlzdDpwKG8uaGlzdCk/ci5mcm9tSlNPTihvLmhpc3QpOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLmhpc3QmJihlLmhpc3Q9by5oaXN0P3IudG9KU09OKG8uaGlzdCk6dm9pZCAwKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXtoaXN0OnZvaWQgMH07cmV0dXJuIGUuaGlzdD12b2lkIDAhPT1vLmhpc3QmJm51bGwhPT1vLmhpc3Q/ci5mcm9tUGFydGlhbChvLmhpc3QpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2VcIix2YWx1ZTpRdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2UoUXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlKTtjb25zdCBRdWVyeVBvb2xSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlQb29sUmVxdWVzdFwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT5lLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT17fTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7dC5za2lwVHlwZSg3Jm8pfXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe30pLHRvSlNPTjpvPT4oe30pLGZyb21QYXJ0aWFsOm89Pih7fSksZnJvbVByb3RvTXNnOm89PlF1ZXJ5UG9vbFJlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlQb29sUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVBvb2xSZXF1ZXN0XCIsdmFsdWU6UXVlcnlQb29sUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UG9vbFJlcXVlc3QoUXVlcnlQb29sUmVxdWVzdCk7ZnVuY3Rpb24gbSgpe3JldHVybntwb29sOmQuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVBvb2xSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UG9vbFJlc3BvbnNlXCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLnBvb2wmJmQuZW5jb2RlKG8ucG9vbCxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9bSgpO2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlhLnBvb2w9ZC5kZWNvZGUodCx0LnVpbnQzMigpKTtlbHNlIHQuc2tpcFR5cGUoNyZvKX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHtwb29sOnAoby5wb29sKT9kLmZyb21KU09OKG8ucG9vbCk6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8ucG9vbCYmKGUucG9vbD1vLnBvb2w/ZC50b0pTT04oby5wb29sKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9bSgpO3JldHVybiBlLnBvb2w9dm9pZCAwIT09by5wb29sJiZudWxsIT09by5wb29sP2QuZnJvbVBhcnRpYWwoby5wb29sKTp2b2lkIDAsZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5UG9vbFJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5UG9vbFJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UG9vbFJlc3BvbnNlXCIsdmFsdWU6UXVlcnlQb29sUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVBvb2xSZXNwb25zZShRdWVyeVBvb2xSZXNwb25zZSk7Y29uc3QgUXVlcnlQYXJhbXNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXF1ZXN0XCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9PmUsZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBhPXt9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTt0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7fSksdG9KU09OOm89Pih7fSksZnJvbVBhcnRpYWw6bz0+KHt9KSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlQYXJhbXNSZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5UGFyYW1zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVBhcmFtc1JlcXVlc3RcIix2YWx1ZTpRdWVyeVBhcmFtc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVBhcmFtc1JlcXVlc3QoUXVlcnlQYXJhbXNSZXF1ZXN0KTtmdW5jdGlvbiB5KCl7cmV0dXJue3BhcmFtczpzLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUXVlcnlQYXJhbXNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UGFyYW1zUmVzcG9uc2VcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PW8ucGFyYW1zJiZzLmVuY29kZShvLnBhcmFtcyxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9eSgpO2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlhLnBhcmFtcz1zLmRlY29kZSh0LHQudWludDMyKCkpO2Vsc2UgdC5za2lwVHlwZSg3Jm8pfXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe3BhcmFtczpwKG8ucGFyYW1zKT9zLmZyb21KU09OKG8ucGFyYW1zKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5wYXJhbXMmJihlLnBhcmFtcz1vLnBhcmFtcz9zLnRvSlNPTihvLnBhcmFtcyk6dm9pZCAwKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXkoKTtyZXR1cm4gZS5wYXJhbXM9dm9pZCAwIT09by5wYXJhbXMmJm51bGwhPT1vLnBhcmFtcz9zLmZyb21QYXJ0aWFsKG8ucGFyYW1zKTp2b2lkIDAsZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5UGFyYW1zUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlQYXJhbXNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVBhcmFtc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlQYXJhbXNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UGFyYW1zUmVzcG9uc2UoUXVlcnlQYXJhbXNSZXNwb25zZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJRdWVyeVZhbGlkYXRvcnNSZXF1ZXN0IjpbIlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QiXSwiUXVlcnlWYWxpZGF0b3JzUmVzcG9uc2UiOlsiUXVlcnlWYWxpZGF0b3JzUmVzcG9uc2UiXSwiUXVlcnlWYWxpZGF0b3JSZXF1ZXN0IjpbIlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvclJlc3BvbnNlIjpbIlF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2UiXSwiUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3QiOlsiUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3QiXSwiUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlIjpbIlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSJdLCJRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCI6WyJRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UiOlsiUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlIl0sIlF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QiOlsiUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRpb25SZXNwb25zZSI6WyJRdWVyeURlbGVnYXRpb25SZXNwb25zZSJdLCJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0IjpbIlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QiXSwiUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UiOlsiUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UiXSwiUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QiOlsiUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QiXSwiUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlIjpbIlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCI6WyJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlIl0sIlF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QiOlsiUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdCJdLCJRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZSI6WyJRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QiXSwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiXSwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlIjpbIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2UiXSwiUXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3QiOlsiUXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3QiXSwiUXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlIjpbIlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXNwb25zZSJdLCJRdWVyeVBvb2xSZXF1ZXN0IjpbIlF1ZXJ5UG9vbFJlcXVlc3QiXSwiUXVlcnlQb29sUmVzcG9uc2UiOlsiUXVlcnlQb29sUmVzcG9uc2UiXSwiUXVlcnlQYXJhbXNSZXF1ZXN0IjpbIlF1ZXJ5UGFyYW1zUmVxdWVzdCJdLCJRdWVyeVBhcmFtc1Jlc3BvbnNlIjpbIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA6slM0hisAAAYrAAASgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nLmpzeyJpbXBvcnRzIjpbIi4uLy4uLy4uL3RlbmRlcm1pbnQvdHlwZXMvdHlwZXMuanMiLCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzIiwiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qcyIsIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi4vLi4vLi4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyIsIi4uLy4uLy4uL2RlY2ltYWxzLmpzIl0sImV4cG9ydHMiOlsiQm9uZFN0YXR1cyIsIkJvbmRTdGF0dXNTREtUeXBlIiwiQ29tbWlzc2lvbiIsIkNvbW1pc3Npb25SYXRlcyIsIkNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlciIsIkRWUGFpciIsIkRWUGFpcnMiLCJEVlZUcmlwbGV0IiwiRFZWVHJpcGxldHMiLCJEZWxlZ2F0aW9uIiwiRGVsZWdhdGlvblJlc3BvbnNlIiwiRGVzY3JpcHRpb24iLCJIaXN0b3JpY2FsSW5mbyIsIkluZnJhY3Rpb24iLCJJbmZyYWN0aW9uU0RLVHlwZSIsIlBhcmFtcyIsIlBvb2wiLCJSZWRlbGVnYXRpb24iLCJSZWRlbGVnYXRpb25FbnRyeSIsIlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UiLCJSZWRlbGVnYXRpb25SZXNwb25zZSIsIlVuYm9uZGluZ0RlbGVnYXRpb24iLCJVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkiLCJWYWxBZGRyZXNzZXMiLCJWYWxpZGF0b3IiLCJWYWxpZGF0b3JVcGRhdGVzIiwiYm9uZFN0YXR1c0Zyb21KU09OIiwiYm9uZFN0YXR1c1RvSlNPTiIsImluZnJhY3Rpb25Gcm9tSlNPTiIsImluZnJhY3Rpb25Ub0pTT04iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHQsbyxuLGkscyxyLGEsZCxsLGMsZzskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uL3RlbmRlcm1pbnQvdHlwZXMvdHlwZXMuanNcIiwgW1tcIkhlYWRlclwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzXCIsIFtbXCJUaW1lc3RhbXBcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc1wiLCBbW1wiQW55XCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qc1wiLCBbW1wiRHVyYXRpb25cIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzXCIsIFtbXCJWYWxpZGF0b3JVcGRhdGVcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKGQgPSAkaM2PX2EpXV0sW1wiZnJvbUpzb25UaW1lc3RhbXBcIixbJGjNj19hID0+IChsID0gJGjNj19hKV1dLFtcImZyb21UaW1lc3RhbXBcIixbJGjNj19hID0+IChjID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXSxbXCIuLi8uLi8uLi9kZWNpbWFscy5qc1wiLCBbW1wiRGVjaW1hbFwiLFskaM2PX2EgPT4gKGcgPSAkaM2PX2EpXV1dXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShib25kU3RhdHVzRnJvbUpTT04sJ25hbWUnLHt2YWx1ZTpcImJvbmRTdGF0dXNGcm9tSlNPTlwifSk7JGjNj19vbmNlLmJvbmRTdGF0dXNGcm9tSlNPTihib25kU3RhdHVzRnJvbUpTT04pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShib25kU3RhdHVzVG9KU09OLCduYW1lJyx7dmFsdWU6XCJib25kU3RhdHVzVG9KU09OXCJ9KTskaM2PX29uY2UuYm9uZFN0YXR1c1RvSlNPTihib25kU3RhdHVzVG9KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5mcmFjdGlvbkZyb21KU09OLCduYW1lJyx7dmFsdWU6XCJpbmZyYWN0aW9uRnJvbUpTT05cIn0pOyRozY9fb25jZS5pbmZyYWN0aW9uRnJvbUpTT04oaW5mcmFjdGlvbkZyb21KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5mcmFjdGlvblRvSlNPTiwnbmFtZScse3ZhbHVlOlwiaW5mcmFjdGlvblRvSlNPTlwifSk7JGjNj19vbmNlLmluZnJhY3Rpb25Ub0pTT04oaW5mcmFjdGlvblRvSlNPTik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjzY9fQm9uZFN0YXR1czskaM2PX2xpdmUuQm9uZFN0YXR1cygkY82PX0JvbmRTdGF0dXMpOyFmdW5jdGlvbihlKXtlW2UuQk9ORF9TVEFUVVNfVU5TUEVDSUZJRUQ9MF09XCJCT05EX1NUQVRVU19VTlNQRUNJRklFRFwiLGVbZS5CT05EX1NUQVRVU19VTkJPTkRFRD0xXT1cIkJPTkRfU1RBVFVTX1VOQk9OREVEXCIsZVtlLkJPTkRfU1RBVFVTX1VOQk9ORElORz0yXT1cIkJPTkRfU1RBVFVTX1VOQk9ORElOR1wiLGVbZS5CT05EX1NUQVRVU19CT05ERUQ9M109XCJCT05EX1NUQVRVU19CT05ERURcIixlW2UuVU5SRUNPR05JWkVEPS0xXT1cIlVOUkVDT0dOSVpFRFwifShCb25kU3RhdHVzfHwoQm9uZFN0YXR1cz17fSkpO2NvbnN0IEJvbmRTdGF0dXNTREtUeXBlPUJvbmRTdGF0dXM7JGjNj19vbmNlLkJvbmRTdGF0dXNTREtUeXBlKEJvbmRTdGF0dXNTREtUeXBlKTtmdW5jdGlvbiBib25kU3RhdHVzRnJvbUpTT04oZSl7c3dpdGNoKGUpe2Nhc2UgMDpjYXNlXCJCT05EX1NUQVRVU19VTlNQRUNJRklFRFwiOnJldHVybiBCb25kU3RhdHVzLkJPTkRfU1RBVFVTX1VOU1BFQ0lGSUVEO2Nhc2UgMTpjYXNlXCJCT05EX1NUQVRVU19VTkJPTkRFRFwiOnJldHVybiBCb25kU3RhdHVzLkJPTkRfU1RBVFVTX1VOQk9OREVEO2Nhc2UgMjpjYXNlXCJCT05EX1NUQVRVU19VTkJPTkRJTkdcIjpyZXR1cm4gQm9uZFN0YXR1cy5CT05EX1NUQVRVU19VTkJPTkRJTkc7Y2FzZSAzOmNhc2VcIkJPTkRfU1RBVFVTX0JPTkRFRFwiOnJldHVybiBCb25kU3RhdHVzLkJPTkRfU1RBVFVTX0JPTkRFRDtkZWZhdWx0OnJldHVybiBCb25kU3RhdHVzLlVOUkVDT0dOSVpFRH19ZnVuY3Rpb24gYm9uZFN0YXR1c1RvSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSBCb25kU3RhdHVzLkJPTkRfU1RBVFVTX1VOU1BFQ0lGSUVEOnJldHVyblwiQk9ORF9TVEFUVVNfVU5TUEVDSUZJRURcIjtjYXNlIEJvbmRTdGF0dXMuQk9ORF9TVEFUVVNfVU5CT05ERUQ6cmV0dXJuXCJCT05EX1NUQVRVU19VTkJPTkRFRFwiO2Nhc2UgQm9uZFN0YXR1cy5CT05EX1NUQVRVU19VTkJPTkRJTkc6cmV0dXJuXCJCT05EX1NUQVRVU19VTkJPTkRJTkdcIjtjYXNlIEJvbmRTdGF0dXMuQk9ORF9TVEFUVVNfQk9OREVEOnJldHVyblwiQk9ORF9TVEFUVVNfQk9OREVEXCI7Y2FzZSBCb25kU3RhdHVzLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fXZhciAkY82PX0luZnJhY3Rpb247JGjNj19saXZlLkluZnJhY3Rpb24oJGPNj19JbmZyYWN0aW9uKTshZnVuY3Rpb24oZSl7ZVtlLklORlJBQ1RJT05fVU5TUEVDSUZJRUQ9MF09XCJJTkZSQUNUSU9OX1VOU1BFQ0lGSUVEXCIsZVtlLklORlJBQ1RJT05fRE9VQkxFX1NJR049MV09XCJJTkZSQUNUSU9OX0RPVUJMRV9TSUdOXCIsZVtlLklORlJBQ1RJT05fRE9XTlRJTUU9Ml09XCJJTkZSQUNUSU9OX0RPV05USU1FXCIsZVtlLlVOUkVDT0dOSVpFRD0tMV09XCJVTlJFQ09HTklaRURcIn0oSW5mcmFjdGlvbnx8KEluZnJhY3Rpb249e30pKTtjb25zdCBJbmZyYWN0aW9uU0RLVHlwZT1JbmZyYWN0aW9uOyRozY9fb25jZS5JbmZyYWN0aW9uU0RLVHlwZShJbmZyYWN0aW9uU0RLVHlwZSk7ZnVuY3Rpb24gaW5mcmFjdGlvbkZyb21KU09OKGUpe3N3aXRjaChlKXtjYXNlIDA6Y2FzZVwiSU5GUkFDVElPTl9VTlNQRUNJRklFRFwiOnJldHVybiBJbmZyYWN0aW9uLklORlJBQ1RJT05fVU5TUEVDSUZJRUQ7Y2FzZSAxOmNhc2VcIklORlJBQ1RJT05fRE9VQkxFX1NJR05cIjpyZXR1cm4gSW5mcmFjdGlvbi5JTkZSQUNUSU9OX0RPVUJMRV9TSUdOO2Nhc2UgMjpjYXNlXCJJTkZSQUNUSU9OX0RPV05USU1FXCI6cmV0dXJuIEluZnJhY3Rpb24uSU5GUkFDVElPTl9ET1dOVElNRTtkZWZhdWx0OnJldHVybiBJbmZyYWN0aW9uLlVOUkVDT0dOSVpFRH19ZnVuY3Rpb24gaW5mcmFjdGlvblRvSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSBJbmZyYWN0aW9uLklORlJBQ1RJT05fVU5TUEVDSUZJRUQ6cmV0dXJuXCJJTkZSQUNUSU9OX1VOU1BFQ0lGSUVEXCI7Y2FzZSBJbmZyYWN0aW9uLklORlJBQ1RJT05fRE9VQkxFX1NJR046cmV0dXJuXCJJTkZSQUNUSU9OX0RPVUJMRV9TSUdOXCI7Y2FzZSBJbmZyYWN0aW9uLklORlJBQ1RJT05fRE9XTlRJTUU6cmV0dXJuXCJJTkZSQUNUSU9OX0RPV05USU1FXCI7Y2FzZSBJbmZyYWN0aW9uLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fWZ1bmN0aW9uIHUoKXtyZXR1cm57aGVhZGVyOmUuZnJvbVBhcnRpYWwoe30pLHZhbHNldDpbXX19Y29uc3QgSGlzdG9yaWNhbEluZm89e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5IaXN0b3JpY2FsSW5mb1wiLGVuY29kZSh0LG89YS5jcmVhdGUoKSl7dm9pZCAwIT09dC5oZWFkZXImJmUuZW5jb2RlKHQuaGVhZGVyLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBlIG9mIHQudmFsc2V0KVZhbGlkYXRvci5lbmNvZGUoZSxvLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gb30sZGVjb2RlKHQsbyl7Y29uc3Qgbj10IGluc3RhbmNlb2Ygcj90Om5ldyByKHQpO2xldCBpPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBzPXUoKTtmb3IoO24ucG9zPGk7KXtjb25zdCB0PW4udWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6cy5oZWFkZXI9ZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDI6cy52YWxzZXQucHVzaChWYWxpZGF0b3IuZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JnQpfX1yZXR1cm4gc30sZnJvbUpTT046dD0+KHtoZWFkZXI6ZCh0LmhlYWRlcik/ZS5mcm9tSlNPTih0LmhlYWRlcik6dm9pZCAwLHZhbHNldDpBcnJheS5pc0FycmF5KHQ/LnZhbHNldCk/dC52YWxzZXQubWFwKChlPT5WYWxpZGF0b3IuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTih0KXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT10LmhlYWRlciYmKG8uaGVhZGVyPXQuaGVhZGVyP2UudG9KU09OKHQuaGVhZGVyKTp2b2lkIDApLHQudmFsc2V0P28udmFsc2V0PXQudmFsc2V0Lm1hcCgoZT0+ZT9WYWxpZGF0b3IudG9KU09OKGUpOnZvaWQgMCkpOm8udmFsc2V0PVtdLG99LGZyb21QYXJ0aWFsKHQpe2NvbnN0IG89dSgpO3JldHVybiBvLmhlYWRlcj12b2lkIDAhPT10LmhlYWRlciYmbnVsbCE9PXQuaGVhZGVyP2UuZnJvbVBhcnRpYWwodC5oZWFkZXIpOnZvaWQgMCxvLnZhbHNldD10LnZhbHNldD8ubWFwKChlPT5WYWxpZGF0b3IuZnJvbVBhcnRpYWwoZSkpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9Pkhpc3RvcmljYWxJbmZvLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pkhpc3RvcmljYWxJbmZvLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkhpc3RvcmljYWxJbmZvXCIsdmFsdWU6SGlzdG9yaWNhbEluZm8uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5IaXN0b3JpY2FsSW5mbyhIaXN0b3JpY2FsSW5mbyk7Y29uc3QgQ29tbWlzc2lvblJhdGVzPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuQ29tbWlzc2lvblJhdGVzXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PihcIlwiIT09ZS5yYXRlJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGcuZnJvbVVzZXJJbnB1dChlLnJhdGUsMTgpLmF0b21pY3MpLFwiXCIhPT1lLm1heFJhdGUmJnQudWludDMyKDE4KS5zdHJpbmcoZy5mcm9tVXNlcklucHV0KGUubWF4UmF0ZSwxOCkuYXRvbWljcyksXCJcIiE9PWUubWF4Q2hhbmdlUmF0ZSYmdC51aW50MzIoMjYpLnN0cmluZyhnLmZyb21Vc2VySW5wdXQoZS5tYXhDaGFuZ2VSYXRlLDE4KS5hdG9taWNzKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e3JhdGU6XCJcIixtYXhSYXRlOlwiXCIsbWF4Q2hhbmdlUmF0ZTpcIlwifTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5yYXRlPWcuZnJvbUF0b21pY3Moby5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDI6aS5tYXhSYXRlPWcuZnJvbUF0b21pY3Moby5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDM6aS5tYXhDaGFuZ2VSYXRlPWcuZnJvbUF0b21pY3Moby5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7cmF0ZTpkKGUucmF0ZSk/U3RyaW5nKGUucmF0ZSk6XCJcIixtYXhSYXRlOmQoZS5tYXhSYXRlKT9TdHJpbmcoZS5tYXhSYXRlKTpcIlwiLG1heENoYW5nZVJhdGU6ZChlLm1heENoYW5nZVJhdGUpP1N0cmluZyhlLm1heENoYW5nZVJhdGUpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5yYXRlJiYodC5yYXRlPWUucmF0ZSksdm9pZCAwIT09ZS5tYXhSYXRlJiYodC5tYXhSYXRlPWUubWF4UmF0ZSksdm9pZCAwIT09ZS5tYXhDaGFuZ2VSYXRlJiYodC5tYXhDaGFuZ2VSYXRlPWUubWF4Q2hhbmdlUmF0ZSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17cmF0ZTpcIlwiLG1heFJhdGU6XCJcIixtYXhDaGFuZ2VSYXRlOlwiXCJ9O3JldHVybiB0LnJhdGU9ZS5yYXRlPz9cIlwiLHQubWF4UmF0ZT1lLm1heFJhdGU/P1wiXCIsdC5tYXhDaGFuZ2VSYXRlPWUubWF4Q2hhbmdlUmF0ZT8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+Q29tbWlzc2lvblJhdGVzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkNvbW1pc3Npb25SYXRlcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Db21taXNzaW9uUmF0ZXNcIix2YWx1ZTpDb21taXNzaW9uUmF0ZXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db21taXNzaW9uUmF0ZXMoQ29tbWlzc2lvblJhdGVzKTtmdW5jdGlvbiBtKCl7cmV0dXJue2NvbW1pc3Npb25SYXRlczpDb21taXNzaW9uUmF0ZXMuZnJvbVBhcnRpYWwoe30pLHVwZGF0ZVRpbWU6dC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IENvbW1pc3Npb249e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Db21taXNzaW9uXCIsZW5jb2RlOihlLG89YS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLmNvbW1pc3Npb25SYXRlcyYmQ29tbWlzc2lvblJhdGVzLmVuY29kZShlLmNvbW1pc3Npb25SYXRlcyxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLnVwZGF0ZVRpbWUmJnQuZW5jb2RlKGUudXBkYXRlVGltZSxvLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IGk9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHM9bSgpO2Zvcig7bi5wb3M8aTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpzLmNvbW1pc3Npb25SYXRlcz1Db21taXNzaW9uUmF0ZXMuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnMudXBkYXRlVGltZT10LmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHtjb21taXNzaW9uUmF0ZXM6ZChlLmNvbW1pc3Npb25SYXRlcyk/Q29tbWlzc2lvblJhdGVzLmZyb21KU09OKGUuY29tbWlzc2lvblJhdGVzKTp2b2lkIDAsdXBkYXRlVGltZTpkKGUudXBkYXRlVGltZSk/bChlLnVwZGF0ZVRpbWUpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmNvbW1pc3Npb25SYXRlcyYmKHQuY29tbWlzc2lvblJhdGVzPWUuY29tbWlzc2lvblJhdGVzP0NvbW1pc3Npb25SYXRlcy50b0pTT04oZS5jb21taXNzaW9uUmF0ZXMpOnZvaWQgMCksdm9pZCAwIT09ZS51cGRhdGVUaW1lJiYodC51cGRhdGVUaW1lPWMoZS51cGRhdGVUaW1lKS50b0lTT1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCBvPW0oKTtyZXR1cm4gby5jb21taXNzaW9uUmF0ZXM9dm9pZCAwIT09ZS5jb21taXNzaW9uUmF0ZXMmJm51bGwhPT1lLmNvbW1pc3Npb25SYXRlcz9Db21taXNzaW9uUmF0ZXMuZnJvbVBhcnRpYWwoZS5jb21taXNzaW9uUmF0ZXMpOnZvaWQgMCxvLnVwZGF0ZVRpbWU9dm9pZCAwIT09ZS51cGRhdGVUaW1lJiZudWxsIT09ZS51cGRhdGVUaW1lP3QuZnJvbVBhcnRpYWwoZS51cGRhdGVUaW1lKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PkNvbW1pc3Npb24uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Q29tbWlzc2lvbi5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Db21taXNzaW9uXCIsdmFsdWU6Q29tbWlzc2lvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvbW1pc3Npb24oQ29tbWlzc2lvbik7Y29uc3QgRGVzY3JpcHRpb249e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EZXNjcmlwdGlvblwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oXCJcIiE9PWUubW9uaWtlciYmdC51aW50MzIoMTApLnN0cmluZyhlLm1vbmlrZXIpLFwiXCIhPT1lLmlkZW50aXR5JiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuaWRlbnRpdHkpLFwiXCIhPT1lLndlYnNpdGUmJnQudWludDMyKDI2KS5zdHJpbmcoZS53ZWJzaXRlKSxcIlwiIT09ZS5zZWN1cml0eUNvbnRhY3QmJnQudWludDMyKDM0KS5zdHJpbmcoZS5zZWN1cml0eUNvbnRhY3QpLFwiXCIhPT1lLmRldGFpbHMmJnQudWludDMyKDQyKS5zdHJpbmcoZS5kZXRhaWxzKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e21vbmlrZXI6XCJcIixpZGVudGl0eTpcIlwiLHdlYnNpdGU6XCJcIixzZWN1cml0eUNvbnRhY3Q6XCJcIixkZXRhaWxzOlwiXCJ9O2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLm1vbmlrZXI9by5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5pZGVudGl0eT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLndlYnNpdGU9by5zdHJpbmcoKTticmVhaztjYXNlIDQ6aS5zZWN1cml0eUNvbnRhY3Q9by5zdHJpbmcoKTticmVhaztjYXNlIDU6aS5kZXRhaWxzPW8uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe21vbmlrZXI6ZChlLm1vbmlrZXIpP1N0cmluZyhlLm1vbmlrZXIpOlwiXCIsaWRlbnRpdHk6ZChlLmlkZW50aXR5KT9TdHJpbmcoZS5pZGVudGl0eSk6XCJcIix3ZWJzaXRlOmQoZS53ZWJzaXRlKT9TdHJpbmcoZS53ZWJzaXRlKTpcIlwiLHNlY3VyaXR5Q29udGFjdDpkKGUuc2VjdXJpdHlDb250YWN0KT9TdHJpbmcoZS5zZWN1cml0eUNvbnRhY3QpOlwiXCIsZGV0YWlsczpkKGUuZGV0YWlscyk/U3RyaW5nKGUuZGV0YWlscyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLm1vbmlrZXImJih0Lm1vbmlrZXI9ZS5tb25pa2VyKSx2b2lkIDAhPT1lLmlkZW50aXR5JiYodC5pZGVudGl0eT1lLmlkZW50aXR5KSx2b2lkIDAhPT1lLndlYnNpdGUmJih0LndlYnNpdGU9ZS53ZWJzaXRlKSx2b2lkIDAhPT1lLnNlY3VyaXR5Q29udGFjdCYmKHQuc2VjdXJpdHlDb250YWN0PWUuc2VjdXJpdHlDb250YWN0KSx2b2lkIDAhPT1lLmRldGFpbHMmJih0LmRldGFpbHM9ZS5kZXRhaWxzKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXttb25pa2VyOlwiXCIsaWRlbnRpdHk6XCJcIix3ZWJzaXRlOlwiXCIsc2VjdXJpdHlDb250YWN0OlwiXCIsZGV0YWlsczpcIlwifTtyZXR1cm4gdC5tb25pa2VyPWUubW9uaWtlcj8/XCJcIix0LmlkZW50aXR5PWUuaWRlbnRpdHk/P1wiXCIsdC53ZWJzaXRlPWUud2Vic2l0ZT8/XCJcIix0LnNlY3VyaXR5Q29udGFjdD1lLnNlY3VyaXR5Q29udGFjdD8/XCJcIix0LmRldGFpbHM9ZS5kZXRhaWxzPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5EZXNjcmlwdGlvbi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5EZXNjcmlwdGlvbi5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EZXNjcmlwdGlvblwiLHZhbHVlOkRlc2NyaXB0aW9uLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRGVzY3JpcHRpb24oRGVzY3JpcHRpb24pO2Z1bmN0aW9uIHAoKXtyZXR1cm57b3BlcmF0b3JBZGRyZXNzOlwiXCIsY29uc2Vuc3VzUHVia2V5OnZvaWQgMCxqYWlsZWQ6ITEsc3RhdHVzOjAsdG9rZW5zOlwiXCIsZGVsZWdhdG9yU2hhcmVzOlwiXCIsZGVzY3JpcHRpb246RGVzY3JpcHRpb24uZnJvbVBhcnRpYWwoe30pLHVuYm9uZGluZ0hlaWdodDpCaWdJbnQoMCksdW5ib25kaW5nVGltZTp0LmZyb21QYXJ0aWFsKHt9KSxjb21taXNzaW9uOkNvbW1pc3Npb24uZnJvbVBhcnRpYWwoe30pLG1pblNlbGZEZWxlZ2F0aW9uOlwiXCIsdW5ib25kaW5nT25Ib2xkUmVmQ291bnQ6QmlnSW50KDApLHVuYm9uZGluZ0lkczpbXX19Y29uc3QgVmFsaWRhdG9yPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuVmFsaWRhdG9yXCIsZW5jb2RlKGUsbj1hLmNyZWF0ZSgpKXtcIlwiIT09ZS5vcGVyYXRvckFkZHJlc3MmJm4udWludDMyKDEwKS5zdHJpbmcoZS5vcGVyYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuY29uc2Vuc3VzUHVia2V5JiZvLmVuY29kZShlLmNvbnNlbnN1c1B1YmtleSxuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSwhMD09PWUuamFpbGVkJiZuLnVpbnQzMigyNCkuYm9vbChlLmphaWxlZCksMCE9PWUuc3RhdHVzJiZuLnVpbnQzMigzMikuaW50MzIoZS5zdGF0dXMpLFwiXCIhPT1lLnRva2VucyYmbi51aW50MzIoNDIpLnN0cmluZyhlLnRva2VucyksXCJcIiE9PWUuZGVsZWdhdG9yU2hhcmVzJiZuLnVpbnQzMig1MCkuc3RyaW5nKGcuZnJvbVVzZXJJbnB1dChlLmRlbGVnYXRvclNoYXJlcywxOCkuYXRvbWljcyksdm9pZCAwIT09ZS5kZXNjcmlwdGlvbiYmRGVzY3JpcHRpb24uZW5jb2RlKGUuZGVzY3JpcHRpb24sbi51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCksZS51bmJvbmRpbmdIZWlnaHQhPT1CaWdJbnQoMCkmJm4udWludDMyKDY0KS5pbnQ2NChlLnVuYm9uZGluZ0hlaWdodCksdm9pZCAwIT09ZS51bmJvbmRpbmdUaW1lJiZ0LmVuY29kZShlLnVuYm9uZGluZ1RpbWUsbi51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS5jb21taXNzaW9uJiZDb21taXNzaW9uLmVuY29kZShlLmNvbW1pc3Npb24sbi51aW50MzIoODIpLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PWUubWluU2VsZkRlbGVnYXRpb24mJm4udWludDMyKDkwKS5zdHJpbmcoZS5taW5TZWxmRGVsZWdhdGlvbiksZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudCE9PUJpZ0ludCgwKSYmbi51aW50MzIoOTYpLmludDY0KGUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQpLG4udWludDMyKDEwNikuZm9yaygpO2Zvcihjb25zdCB0IG9mIGUudW5ib25kaW5nSWRzKW4udWludDY0KHQpO3JldHVybiBuLmxkZWxpbSgpLG59LGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgaT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3Qgcz1wKCk7Zm9yKDtuLnBvczxpOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMub3BlcmF0b3JBZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMuY29uc2Vuc3VzUHVia2V5PUNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlcihuKTticmVhaztjYXNlIDM6cy5qYWlsZWQ9bi5ib29sKCk7YnJlYWs7Y2FzZSA0OnMuc3RhdHVzPW4uaW50MzIoKTticmVhaztjYXNlIDU6cy50b2tlbnM9bi5zdHJpbmcoKTticmVhaztjYXNlIDY6cy5kZWxlZ2F0b3JTaGFyZXM9Zy5mcm9tQXRvbWljcyhuLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2Nhc2UgNzpzLmRlc2NyaXB0aW9uPURlc2NyaXB0aW9uLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgODpzLnVuYm9uZGluZ0hlaWdodD1uLmludDY0KCk7YnJlYWs7Y2FzZSA5OnMudW5ib25kaW5nVGltZT10LmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMTA6cy5jb21taXNzaW9uPUNvbW1pc3Npb24uZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMTpzLm1pblNlbGZEZWxlZ2F0aW9uPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMjpzLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50PW4uaW50NjQoKTticmVhaztjYXNlIDEzOmlmKDI9PSg3JmUpKXtjb25zdCBlPW4udWludDMyKCkrbi5wb3M7Zm9yKDtuLnBvczxlOylzLnVuYm9uZGluZ0lkcy5wdXNoKG4udWludDY0KCkpfWVsc2Ugcy51bmJvbmRpbmdJZHMucHVzaChuLnVpbnQ2NCgpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7b3BlcmF0b3JBZGRyZXNzOmQoZS5vcGVyYXRvckFkZHJlc3MpP1N0cmluZyhlLm9wZXJhdG9yQWRkcmVzcyk6XCJcIixjb25zZW5zdXNQdWJrZXk6ZChlLmNvbnNlbnN1c1B1YmtleSk/by5mcm9tSlNPTihlLmNvbnNlbnN1c1B1YmtleSk6dm9pZCAwLGphaWxlZDohIWQoZS5qYWlsZWQpJiZCb29sZWFuKGUuamFpbGVkKSxzdGF0dXM6ZChlLnN0YXR1cyk/Ym9uZFN0YXR1c0Zyb21KU09OKGUuc3RhdHVzKTotMSx0b2tlbnM6ZChlLnRva2Vucyk/U3RyaW5nKGUudG9rZW5zKTpcIlwiLGRlbGVnYXRvclNoYXJlczpkKGUuZGVsZWdhdG9yU2hhcmVzKT9TdHJpbmcoZS5kZWxlZ2F0b3JTaGFyZXMpOlwiXCIsZGVzY3JpcHRpb246ZChlLmRlc2NyaXB0aW9uKT9EZXNjcmlwdGlvbi5mcm9tSlNPTihlLmRlc2NyaXB0aW9uKTp2b2lkIDAsdW5ib25kaW5nSGVpZ2h0OmQoZS51bmJvbmRpbmdIZWlnaHQpP0JpZ0ludChlLnVuYm9uZGluZ0hlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdW5ib25kaW5nVGltZTpkKGUudW5ib25kaW5nVGltZSk/bChlLnVuYm9uZGluZ1RpbWUpOnZvaWQgMCxjb21taXNzaW9uOmQoZS5jb21taXNzaW9uKT9Db21taXNzaW9uLmZyb21KU09OKGUuY29tbWlzc2lvbik6dm9pZCAwLG1pblNlbGZEZWxlZ2F0aW9uOmQoZS5taW5TZWxmRGVsZWdhdGlvbik/U3RyaW5nKGUubWluU2VsZkRlbGVnYXRpb24pOlwiXCIsdW5ib25kaW5nT25Ib2xkUmVmQ291bnQ6ZChlLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50KT9CaWdJbnQoZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudC50b1N0cmluZygpKTpCaWdJbnQoMCksdW5ib25kaW5nSWRzOkFycmF5LmlzQXJyYXkoZT8udW5ib25kaW5nSWRzKT9lLnVuYm9uZGluZ0lkcy5tYXAoKGU9PkJpZ0ludChlLnRvU3RyaW5nKCkpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5vcGVyYXRvckFkZHJlc3MmJih0Lm9wZXJhdG9yQWRkcmVzcz1lLm9wZXJhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5jb25zZW5zdXNQdWJrZXkmJih0LmNvbnNlbnN1c1B1YmtleT1lLmNvbnNlbnN1c1B1YmtleT9vLnRvSlNPTihlLmNvbnNlbnN1c1B1YmtleSk6dm9pZCAwKSx2b2lkIDAhPT1lLmphaWxlZCYmKHQuamFpbGVkPWUuamFpbGVkKSx2b2lkIDAhPT1lLnN0YXR1cyYmKHQuc3RhdHVzPWJvbmRTdGF0dXNUb0pTT04oZS5zdGF0dXMpKSx2b2lkIDAhPT1lLnRva2VucyYmKHQudG9rZW5zPWUudG9rZW5zKSx2b2lkIDAhPT1lLmRlbGVnYXRvclNoYXJlcyYmKHQuZGVsZWdhdG9yU2hhcmVzPWUuZGVsZWdhdG9yU2hhcmVzKSx2b2lkIDAhPT1lLmRlc2NyaXB0aW9uJiYodC5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uP0Rlc2NyaXB0aW9uLnRvSlNPTihlLmRlc2NyaXB0aW9uKTp2b2lkIDApLHZvaWQgMCE9PWUudW5ib25kaW5nSGVpZ2h0JiYodC51bmJvbmRpbmdIZWlnaHQ9KGUudW5ib25kaW5nSGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUudW5ib25kaW5nVGltZSYmKHQudW5ib25kaW5nVGltZT1jKGUudW5ib25kaW5nVGltZSkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS5jb21taXNzaW9uJiYodC5jb21taXNzaW9uPWUuY29tbWlzc2lvbj9Db21taXNzaW9uLnRvSlNPTihlLmNvbW1pc3Npb24pOnZvaWQgMCksdm9pZCAwIT09ZS5taW5TZWxmRGVsZWdhdGlvbiYmKHQubWluU2VsZkRlbGVnYXRpb249ZS5taW5TZWxmRGVsZWdhdGlvbiksdm9pZCAwIT09ZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudCYmKHQudW5ib25kaW5nT25Ib2xkUmVmQ291bnQ9KGUudW5ib25kaW5nT25Ib2xkUmVmQ291bnR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksZS51bmJvbmRpbmdJZHM/dC51bmJvbmRpbmdJZHM9ZS51bmJvbmRpbmdJZHMubWFwKChlPT4oZXx8QmlnSW50KDApKS50b1N0cmluZygpKSk6dC51bmJvbmRpbmdJZHM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj1wKCk7cmV0dXJuIG4ub3BlcmF0b3JBZGRyZXNzPWUub3BlcmF0b3JBZGRyZXNzPz9cIlwiLG4uY29uc2Vuc3VzUHVia2V5PXZvaWQgMCE9PWUuY29uc2Vuc3VzUHVia2V5JiZudWxsIT09ZS5jb25zZW5zdXNQdWJrZXk/by5mcm9tUGFydGlhbChlLmNvbnNlbnN1c1B1YmtleSk6dm9pZCAwLG4uamFpbGVkPWUuamFpbGVkPz8hMSxuLnN0YXR1cz1lLnN0YXR1cz8/MCxuLnRva2Vucz1lLnRva2Vucz8/XCJcIixuLmRlbGVnYXRvclNoYXJlcz1lLmRlbGVnYXRvclNoYXJlcz8/XCJcIixuLmRlc2NyaXB0aW9uPXZvaWQgMCE9PWUuZGVzY3JpcHRpb24mJm51bGwhPT1lLmRlc2NyaXB0aW9uP0Rlc2NyaXB0aW9uLmZyb21QYXJ0aWFsKGUuZGVzY3JpcHRpb24pOnZvaWQgMCxuLnVuYm9uZGluZ0hlaWdodD12b2lkIDAhPT1lLnVuYm9uZGluZ0hlaWdodCYmbnVsbCE9PWUudW5ib25kaW5nSGVpZ2h0P0JpZ0ludChlLnVuYm9uZGluZ0hlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksbi51bmJvbmRpbmdUaW1lPXZvaWQgMCE9PWUudW5ib25kaW5nVGltZSYmbnVsbCE9PWUudW5ib25kaW5nVGltZT90LmZyb21QYXJ0aWFsKGUudW5ib25kaW5nVGltZSk6dm9pZCAwLG4uY29tbWlzc2lvbj12b2lkIDAhPT1lLmNvbW1pc3Npb24mJm51bGwhPT1lLmNvbW1pc3Npb24/Q29tbWlzc2lvbi5mcm9tUGFydGlhbChlLmNvbW1pc3Npb24pOnZvaWQgMCxuLm1pblNlbGZEZWxlZ2F0aW9uPWUubWluU2VsZkRlbGVnYXRpb24/P1wiXCIsbi51bmJvbmRpbmdPbkhvbGRSZWZDb3VudD12b2lkIDAhPT1lLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50JiZudWxsIT09ZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudD9CaWdJbnQoZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudC50b1N0cmluZygpKTpCaWdJbnQoMCksbi51bmJvbmRpbmdJZHM9ZS51bmJvbmRpbmdJZHM/Lm1hcCgoZT0+QmlnSW50KGUudG9TdHJpbmcoKSkpKXx8W10sbn0sZnJvbVByb3RvTXNnOmU9PlZhbGlkYXRvci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5WYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuVmFsaWRhdG9yXCIsdmFsdWU6VmFsaWRhdG9yLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yKFZhbGlkYXRvcik7Y29uc3QgVmFsQWRkcmVzc2VzPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuVmFsQWRkcmVzc2VzXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLmFkZHJlc3Nlcyl0LnVpbnQzMigxMCkuc3RyaW5nKG8pO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e2FkZHJlc3NlczpbXX07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkuYWRkcmVzc2VzLnB1c2goby5zdHJpbmcoKSk7ZWxzZSBvLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7YWRkcmVzc2VzOkFycmF5LmlzQXJyYXkoZT8uYWRkcmVzc2VzKT9lLmFkZHJlc3Nlcy5tYXAoKGU9PlN0cmluZyhlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIGUuYWRkcmVzc2VzP3QuYWRkcmVzc2VzPWUuYWRkcmVzc2VzLm1hcCgoZT0+ZSkpOnQuYWRkcmVzc2VzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2FkZHJlc3NlczpbXX07cmV0dXJuIHQuYWRkcmVzc2VzPWUuYWRkcmVzc2VzPy5tYXAoKGU9PmUpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PlZhbEFkZHJlc3Nlcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5WYWxBZGRyZXNzZXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuVmFsQWRkcmVzc2VzXCIsdmFsdWU6VmFsQWRkcmVzc2VzLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsQWRkcmVzc2VzKFZhbEFkZHJlc3Nlcyk7Y29uc3QgRFZQYWlyPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRFZQYWlyXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnZhbGlkYXRvckFkZHJlc3M9by5zdHJpbmcoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczpkKGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JBZGRyZXNzOmQoZS52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKHQudmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiB0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLHQudmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PkRWUGFpci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5EVlBhaXIuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRFZQYWlyXCIsdmFsdWU6RFZQYWlyLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRFZQYWlyKERWUGFpcik7Y29uc3QgRFZQYWlycz17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRWUGFpcnNcIixlbmNvZGUoZSx0PWEuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUucGFpcnMpRFZQYWlyLmVuY29kZShvLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e3BhaXJzOltdfTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7aWYoZT4+PjM9PTEpaS5wYWlycy5wdXNoKERWUGFpci5kZWNvZGUobyxvLnVpbnQzMigpKSk7ZWxzZSBvLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7cGFpcnM6QXJyYXkuaXNBcnJheShlPy5wYWlycyk/ZS5wYWlycy5tYXAoKGU9PkRWUGFpci5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIGUucGFpcnM/dC5wYWlycz1lLnBhaXJzLm1hcCgoZT0+ZT9EVlBhaXIudG9KU09OKGUpOnZvaWQgMCkpOnQucGFpcnM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17cGFpcnM6W119O3JldHVybiB0LnBhaXJzPWUucGFpcnM/Lm1hcCgoZT0+RFZQYWlyLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5EVlBhaXJzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRWUGFpcnMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRFZQYWlyc1wiLHZhbHVlOkRWUGFpcnMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EVlBhaXJzKERWUGFpcnMpO2NvbnN0IERWVlRyaXBsZXQ9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EVlZUcmlwbGV0XCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yU3JjQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvclNyY0FkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvckRzdEFkZHJlc3MmJnQudWludDMyKDI2KS5zdHJpbmcoZS52YWxpZGF0b3JEc3RBZGRyZXNzKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOlwiXCIsdmFsaWRhdG9yRHN0QWRkcmVzczpcIlwifTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZWxlZ2F0b3JBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkudmFsaWRhdG9yU3JjQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLnZhbGlkYXRvckRzdEFkZHJlc3M9by5zdHJpbmcoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczpkKGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOmQoZS52YWxpZGF0b3JTcmNBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JTcmNBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckRzdEFkZHJlc3M6ZChlLnZhbGlkYXRvckRzdEFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckRzdEFkZHJlc3MpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYodC5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JTcmNBZGRyZXNzJiYodC52YWxpZGF0b3JTcmNBZGRyZXNzPWUudmFsaWRhdG9yU3JjQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JEc3RBZGRyZXNzJiYodC52YWxpZGF0b3JEc3RBZGRyZXNzPWUudmFsaWRhdG9yRHN0QWRkcmVzcyksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvclNyY0FkZHJlc3M6XCJcIix2YWxpZGF0b3JEc3RBZGRyZXNzOlwiXCJ9O3JldHVybiB0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLHQudmFsaWRhdG9yU3JjQWRkcmVzcz1lLnZhbGlkYXRvclNyY0FkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JEc3RBZGRyZXNzPWUudmFsaWRhdG9yRHN0QWRkcmVzcz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+RFZWVHJpcGxldC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5EVlZUcmlwbGV0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRWVlRyaXBsZXRcIix2YWx1ZTpEVlZUcmlwbGV0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRFZWVHJpcGxldChEVlZUcmlwbGV0KTtjb25zdCBEVlZUcmlwbGV0cz17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRWVlRyaXBsZXRzXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnRyaXBsZXRzKURWVlRyaXBsZXQuZW5jb2RlKG8sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17dHJpcGxldHM6W119O2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtpZihlPj4+Mz09MSlpLnRyaXBsZXRzLnB1c2goRFZWVHJpcGxldC5kZWNvZGUobyxvLnVpbnQzMigpKSk7ZWxzZSBvLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dHJpcGxldHM6QXJyYXkuaXNBcnJheShlPy50cmlwbGV0cyk/ZS50cmlwbGV0cy5tYXAoKGU9PkRWVlRyaXBsZXQuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLnRyaXBsZXRzP3QudHJpcGxldHM9ZS50cmlwbGV0cy5tYXAoKGU9PmU/RFZWVHJpcGxldC50b0pTT04oZSk6dm9pZCAwKSk6dC50cmlwbGV0cz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXt0cmlwbGV0czpbXX07cmV0dXJuIHQudHJpcGxldHM9ZS50cmlwbGV0cz8ubWFwKChlPT5EVlZUcmlwbGV0LmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5EVlZUcmlwbGV0cy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5EVlZUcmlwbGV0cy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EVlZUcmlwbGV0c1wiLHZhbHVlOkRWVlRyaXBsZXRzLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRFZWVHJpcGxldHMoRFZWVHJpcGxldHMpO2NvbnN0IERlbGVnYXRpb249e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EZWxlZ2F0aW9uXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLFwiXCIhPT1lLnNoYXJlcyYmdC51aW50MzIoMjYpLnN0cmluZyhnLmZyb21Vc2VySW5wdXQoZS5zaGFyZXMsMTgpLmF0b21pY3MpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIixzaGFyZXM6XCJcIn07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnZhbGlkYXRvckFkZHJlc3M9by5zdHJpbmcoKTticmVhaztjYXNlIDM6aS5zaGFyZXM9Zy5mcm9tQXRvbWljcyhvLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyZXNzOmQoZS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckFkZHJlc3M6ZChlLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpOlwiXCIsc2hhcmVzOmQoZS5zaGFyZXMpP1N0cmluZyhlLnNoYXJlcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJih0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3MmJih0LnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLnNoYXJlcyYmKHQuc2hhcmVzPWUuc2hhcmVzKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwiLHNoYXJlczpcIlwifTtyZXR1cm4gdC5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIix0LnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLHQuc2hhcmVzPWUuc2hhcmVzPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5EZWxlZ2F0aW9uLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRlbGVnYXRpb24uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRGVsZWdhdGlvblwiLHZhbHVlOkRlbGVnYXRpb24uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EZWxlZ2F0aW9uKERlbGVnYXRpb24pO2NvbnN0IFVuYm9uZGluZ0RlbGVnYXRpb249e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5VbmJvbmRpbmdEZWxlZ2F0aW9uXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpO2Zvcihjb25zdCBvIG9mIGUuZW50cmllcylVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkuZW5jb2RlKG8sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIixlbnRyaWVzOltdfTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZWxlZ2F0b3JBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkudmFsaWRhdG9yQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLmVudHJpZXMucHVzaChVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkuZGVjb2RlKG8sby51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyZXNzOmQoZS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckFkZHJlc3M6ZChlLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpOlwiXCIsZW50cmllczpBcnJheS5pc0FycmF5KGU/LmVudHJpZXMpP2UuZW50cmllcy5tYXAoKGU9PlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKHQudmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLGUuZW50cmllcz90LmVudHJpZXM9ZS5lbnRyaWVzLm1hcCgoZT0+ZT9VbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkudG9KU09OKGUpOnZvaWQgMCkpOnQuZW50cmllcz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwiLGVudHJpZXM6W119O3JldHVybiB0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLHQudmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsdC5lbnRyaWVzPWUuZW50cmllcz8ubWFwKChlPT5VbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PlVuYm9uZGluZ0RlbGVnYXRpb24uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VW5ib25kaW5nRGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5VbmJvbmRpbmdEZWxlZ2F0aW9uXCIsdmFsdWU6VW5ib25kaW5nRGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlVuYm9uZGluZ0RlbGVnYXRpb24oVW5ib25kaW5nRGVsZWdhdGlvbik7ZnVuY3Rpb24gZigpe3JldHVybntjcmVhdGlvbkhlaWdodDpCaWdJbnQoMCksY29tcGxldGlvblRpbWU6dC5mcm9tUGFydGlhbCh7fSksaW5pdGlhbEJhbGFuY2U6XCJcIixiYWxhbmNlOlwiXCIsdW5ib25kaW5nSWQ6QmlnSW50KDApLHVuYm9uZGluZ09uSG9sZFJlZkNvdW50OkJpZ0ludCgwKX19Y29uc3QgVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5XCIsZW5jb2RlOihlLG89YS5jcmVhdGUoKSk9PihlLmNyZWF0aW9uSGVpZ2h0IT09QmlnSW50KDApJiZvLnVpbnQzMig4KS5pbnQ2NChlLmNyZWF0aW9uSGVpZ2h0KSx2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiZ0LmVuY29kZShlLmNvbXBsZXRpb25UaW1lLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLFwiXCIhPT1lLmluaXRpYWxCYWxhbmNlJiZvLnVpbnQzMigyNikuc3RyaW5nKGUuaW5pdGlhbEJhbGFuY2UpLFwiXCIhPT1lLmJhbGFuY2UmJm8udWludDMyKDM0KS5zdHJpbmcoZS5iYWxhbmNlKSxlLnVuYm9uZGluZ0lkIT09QmlnSW50KDApJiZvLnVpbnQzMig0MCkudWludDY0KGUudW5ib25kaW5nSWQpLGUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQhPT1CaWdJbnQoMCkmJm8udWludDMyKDQ4KS5pbnQ2NChlLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50KSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IGk9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHM9ZigpO2Zvcig7bi5wb3M8aTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpzLmNyZWF0aW9uSGVpZ2h0PW4uaW50NjQoKTticmVhaztjYXNlIDI6cy5jb21wbGV0aW9uVGltZT10LmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMzpzLmluaXRpYWxCYWxhbmNlPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OnMuYmFsYW5jZT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpzLnVuYm9uZGluZ0lkPW4udWludDY0KCk7YnJlYWs7Y2FzZSA2OnMudW5ib25kaW5nT25Ib2xkUmVmQ291bnQ9bi5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHtjcmVhdGlvbkhlaWdodDpkKGUuY3JlYXRpb25IZWlnaHQpP0JpZ0ludChlLmNyZWF0aW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxjb21wbGV0aW9uVGltZTpkKGUuY29tcGxldGlvblRpbWUpP2woZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwLGluaXRpYWxCYWxhbmNlOmQoZS5pbml0aWFsQmFsYW5jZSk/U3RyaW5nKGUuaW5pdGlhbEJhbGFuY2UpOlwiXCIsYmFsYW5jZTpkKGUuYmFsYW5jZSk/U3RyaW5nKGUuYmFsYW5jZSk6XCJcIix1bmJvbmRpbmdJZDpkKGUudW5ib25kaW5nSWQpP0JpZ0ludChlLnVuYm9uZGluZ0lkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx1bmJvbmRpbmdPbkhvbGRSZWZDb3VudDpkKGUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQpP0JpZ0ludChlLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmNyZWF0aW9uSGVpZ2h0JiYodC5jcmVhdGlvbkhlaWdodD0oZS5jcmVhdGlvbkhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiYodC5jb21wbGV0aW9uVGltZT1jKGUuY29tcGxldGlvblRpbWUpLnRvSVNPU3RyaW5nKCkpLHZvaWQgMCE9PWUuaW5pdGlhbEJhbGFuY2UmJih0LmluaXRpYWxCYWxhbmNlPWUuaW5pdGlhbEJhbGFuY2UpLHZvaWQgMCE9PWUuYmFsYW5jZSYmKHQuYmFsYW5jZT1lLmJhbGFuY2UpLHZvaWQgMCE9PWUudW5ib25kaW5nSWQmJih0LnVuYm9uZGluZ0lkPShlLnVuYm9uZGluZ0lkfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQmJih0LnVuYm9uZGluZ09uSG9sZFJlZkNvdW50PShlLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89ZigpO3JldHVybiBvLmNyZWF0aW9uSGVpZ2h0PXZvaWQgMCE9PWUuY3JlYXRpb25IZWlnaHQmJm51bGwhPT1lLmNyZWF0aW9uSGVpZ2h0P0JpZ0ludChlLmNyZWF0aW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmNvbXBsZXRpb25UaW1lPXZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJm51bGwhPT1lLmNvbXBsZXRpb25UaW1lP3QuZnJvbVBhcnRpYWwoZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwLG8uaW5pdGlhbEJhbGFuY2U9ZS5pbml0aWFsQmFsYW5jZT8/XCJcIixvLmJhbGFuY2U9ZS5iYWxhbmNlPz9cIlwiLG8udW5ib25kaW5nSWQ9dm9pZCAwIT09ZS51bmJvbmRpbmdJZCYmbnVsbCE9PWUudW5ib25kaW5nSWQ/QmlnSW50KGUudW5ib25kaW5nSWQudG9TdHJpbmcoKSk6QmlnSW50KDApLG8udW5ib25kaW5nT25Ib2xkUmVmQ291bnQ9dm9pZCAwIT09ZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudCYmbnVsbCE9PWUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQ/QmlnSW50KGUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQudG9TdHJpbmcoKSk6QmlnSW50KDApLG99LGZyb21Qcm90b01zZzplPT5VbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeVwiLHZhbHVlOlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeShVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkpO2Z1bmN0aW9uIGIoKXtyZXR1cm57Y3JlYXRpb25IZWlnaHQ6QmlnSW50KDApLGNvbXBsZXRpb25UaW1lOnQuZnJvbVBhcnRpYWwoe30pLGluaXRpYWxCYWxhbmNlOlwiXCIsc2hhcmVzRHN0OlwiXCIsdW5ib25kaW5nSWQ6QmlnSW50KDApLHVuYm9uZGluZ09uSG9sZFJlZkNvdW50OkJpZ0ludCgwKX19Y29uc3QgUmVkZWxlZ2F0aW9uRW50cnk9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5SZWRlbGVnYXRpb25FbnRyeVwiLGVuY29kZTooZSxvPWEuY3JlYXRlKCkpPT4oZS5jcmVhdGlvbkhlaWdodCE9PUJpZ0ludCgwKSYmby51aW50MzIoOCkuaW50NjQoZS5jcmVhdGlvbkhlaWdodCksdm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmdC5lbmNvZGUoZS5jb21wbGV0aW9uVGltZSxvLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxcIlwiIT09ZS5pbml0aWFsQmFsYW5jZSYmby51aW50MzIoMjYpLnN0cmluZyhlLmluaXRpYWxCYWxhbmNlKSxcIlwiIT09ZS5zaGFyZXNEc3QmJm8udWludDMyKDM0KS5zdHJpbmcoZy5mcm9tVXNlcklucHV0KGUuc2hhcmVzRHN0LDE4KS5hdG9taWNzKSxlLnVuYm9uZGluZ0lkIT09QmlnSW50KDApJiZvLnVpbnQzMig0MCkudWludDY0KGUudW5ib25kaW5nSWQpLGUudW5ib25kaW5nT25Ib2xkUmVmQ291bnQhPT1CaWdJbnQoMCkmJm8udWludDMyKDQ4KS5pbnQ2NChlLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50KSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IGk9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHM9YigpO2Zvcig7bi5wb3M8aTspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpzLmNyZWF0aW9uSGVpZ2h0PW4uaW50NjQoKTticmVhaztjYXNlIDI6cy5jb21wbGV0aW9uVGltZT10LmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMzpzLmluaXRpYWxCYWxhbmNlPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OnMuc2hhcmVzRHN0PWcuZnJvbUF0b21pY3Mobi5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDU6cy51bmJvbmRpbmdJZD1uLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNjpzLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50PW4uaW50NjQoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7Y3JlYXRpb25IZWlnaHQ6ZChlLmNyZWF0aW9uSGVpZ2h0KT9CaWdJbnQoZS5jcmVhdGlvbkhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksY29tcGxldGlvblRpbWU6ZChlLmNvbXBsZXRpb25UaW1lKT9sKGUuY29tcGxldGlvblRpbWUpOnZvaWQgMCxpbml0aWFsQmFsYW5jZTpkKGUuaW5pdGlhbEJhbGFuY2UpP1N0cmluZyhlLmluaXRpYWxCYWxhbmNlKTpcIlwiLHNoYXJlc0RzdDpkKGUuc2hhcmVzRHN0KT9TdHJpbmcoZS5zaGFyZXNEc3QpOlwiXCIsdW5ib25kaW5nSWQ6ZChlLnVuYm9uZGluZ0lkKT9CaWdJbnQoZS51bmJvbmRpbmdJZC50b1N0cmluZygpKTpCaWdJbnQoMCksdW5ib25kaW5nT25Ib2xkUmVmQ291bnQ6ZChlLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50KT9CaWdJbnQoZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudC50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5jcmVhdGlvbkhlaWdodCYmKHQuY3JlYXRpb25IZWlnaHQ9KGUuY3JlYXRpb25IZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmKHQuY29tcGxldGlvblRpbWU9YyhlLmNvbXBsZXRpb25UaW1lKS50b0lTT1N0cmluZygpKSx2b2lkIDAhPT1lLmluaXRpYWxCYWxhbmNlJiYodC5pbml0aWFsQmFsYW5jZT1lLmluaXRpYWxCYWxhbmNlKSx2b2lkIDAhPT1lLnNoYXJlc0RzdCYmKHQuc2hhcmVzRHN0PWUuc2hhcmVzRHN0KSx2b2lkIDAhPT1lLnVuYm9uZGluZ0lkJiYodC51bmJvbmRpbmdJZD0oZS51bmJvbmRpbmdJZHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50JiYodC51bmJvbmRpbmdPbkhvbGRSZWZDb3VudD0oZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudHx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWIoKTtyZXR1cm4gby5jcmVhdGlvbkhlaWdodD12b2lkIDAhPT1lLmNyZWF0aW9uSGVpZ2h0JiZudWxsIT09ZS5jcmVhdGlvbkhlaWdodD9CaWdJbnQoZS5jcmVhdGlvbkhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksby5jb21wbGV0aW9uVGltZT12b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiZudWxsIT09ZS5jb21wbGV0aW9uVGltZT90LmZyb21QYXJ0aWFsKGUuY29tcGxldGlvblRpbWUpOnZvaWQgMCxvLmluaXRpYWxCYWxhbmNlPWUuaW5pdGlhbEJhbGFuY2U/P1wiXCIsby5zaGFyZXNEc3Q9ZS5zaGFyZXNEc3Q/P1wiXCIsby51bmJvbmRpbmdJZD12b2lkIDAhPT1lLnVuYm9uZGluZ0lkJiZudWxsIT09ZS51bmJvbmRpbmdJZD9CaWdJbnQoZS51bmJvbmRpbmdJZC50b1N0cmluZygpKTpCaWdJbnQoMCksby51bmJvbmRpbmdPbkhvbGRSZWZDb3VudD12b2lkIDAhPT1lLnVuYm9uZGluZ09uSG9sZFJlZkNvdW50JiZudWxsIT09ZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudD9CaWdJbnQoZS51bmJvbmRpbmdPbkhvbGRSZWZDb3VudC50b1N0cmluZygpKTpCaWdJbnQoMCksb30sZnJvbVByb3RvTXNnOmU9PlJlZGVsZWdhdGlvbkVudHJ5LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlZGVsZWdhdGlvbkVudHJ5LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlJlZGVsZWdhdGlvbkVudHJ5XCIsdmFsdWU6UmVkZWxlZ2F0aW9uRW50cnkuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZWRlbGVnYXRpb25FbnRyeShSZWRlbGVnYXRpb25FbnRyeSk7Y29uc3QgUmVkZWxlZ2F0aW9uPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUmVkZWxlZ2F0aW9uXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yU3JjQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvclNyY0FkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvckRzdEFkZHJlc3MmJnQudWludDMyKDI2KS5zdHJpbmcoZS52YWxpZGF0b3JEc3RBZGRyZXNzKTtmb3IoY29uc3QgbyBvZiBlLmVudHJpZXMpUmVkZWxlZ2F0aW9uRW50cnkuZW5jb2RlKG8sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvclNyY0FkZHJlc3M6XCJcIix2YWxpZGF0b3JEc3RBZGRyZXNzOlwiXCIsZW50cmllczpbXX07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnZhbGlkYXRvclNyY0FkZHJlc3M9by5zdHJpbmcoKTticmVhaztjYXNlIDM6aS52YWxpZGF0b3JEc3RBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmkuZW50cmllcy5wdXNoKFJlZGVsZWdhdGlvbkVudHJ5LmRlY29kZShvLG8udWludDMyKCkpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczpkKGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOmQoZS52YWxpZGF0b3JTcmNBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JTcmNBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckRzdEFkZHJlc3M6ZChlLnZhbGlkYXRvckRzdEFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckRzdEFkZHJlc3MpOlwiXCIsZW50cmllczpBcnJheS5pc0FycmF5KGU/LmVudHJpZXMpP2UuZW50cmllcy5tYXAoKGU9PlJlZGVsZWdhdGlvbkVudHJ5LmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYodC5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JTcmNBZGRyZXNzJiYodC52YWxpZGF0b3JTcmNBZGRyZXNzPWUudmFsaWRhdG9yU3JjQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JEc3RBZGRyZXNzJiYodC52YWxpZGF0b3JEc3RBZGRyZXNzPWUudmFsaWRhdG9yRHN0QWRkcmVzcyksZS5lbnRyaWVzP3QuZW50cmllcz1lLmVudHJpZXMubWFwKChlPT5lP1JlZGVsZWdhdGlvbkVudHJ5LnRvSlNPTihlKTp2b2lkIDApKTp0LmVudHJpZXM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvclNyY0FkZHJlc3M6XCJcIix2YWxpZGF0b3JEc3RBZGRyZXNzOlwiXCIsZW50cmllczpbXX07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JTcmNBZGRyZXNzPWUudmFsaWRhdG9yU3JjQWRkcmVzcz8/XCJcIix0LnZhbGlkYXRvckRzdEFkZHJlc3M9ZS52YWxpZGF0b3JEc3RBZGRyZXNzPz9cIlwiLHQuZW50cmllcz1lLmVudHJpZXM/Lm1hcCgoZT0+UmVkZWxlZ2F0aW9uRW50cnkuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PlJlZGVsZWdhdGlvbi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZWRlbGVnYXRpb24uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUmVkZWxlZ2F0aW9uXCIsdmFsdWU6UmVkZWxlZ2F0aW9uLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVkZWxlZ2F0aW9uKFJlZGVsZWdhdGlvbik7ZnVuY3Rpb24gdigpe3JldHVybnt1bmJvbmRpbmdUaW1lOm4uZnJvbVBhcnRpYWwoe30pLG1heFZhbGlkYXRvcnM6MCxtYXhFbnRyaWVzOjAsaGlzdG9yaWNhbEVudHJpZXM6MCxib25kRGVub206XCJcIixtaW5Db21taXNzaW9uUmF0ZTpcIlwifX1jb25zdCBQYXJhbXM9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5QYXJhbXNcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUudW5ib25kaW5nVGltZSYmbi5lbmNvZGUoZS51bmJvbmRpbmdUaW1lLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLDAhPT1lLm1heFZhbGlkYXRvcnMmJnQudWludDMyKDE2KS51aW50MzIoZS5tYXhWYWxpZGF0b3JzKSwwIT09ZS5tYXhFbnRyaWVzJiZ0LnVpbnQzMigyNCkudWludDMyKGUubWF4RW50cmllcyksMCE9PWUuaGlzdG9yaWNhbEVudHJpZXMmJnQudWludDMyKDMyKS51aW50MzIoZS5oaXN0b3JpY2FsRW50cmllcyksXCJcIiE9PWUuYm9uZERlbm9tJiZ0LnVpbnQzMig0Mikuc3RyaW5nKGUuYm9uZERlbm9tKSxcIlwiIT09ZS5taW5Db21taXNzaW9uUmF0ZSYmdC51aW50MzIoNTApLnN0cmluZyhnLmZyb21Vc2VySW5wdXQoZS5taW5Db21taXNzaW9uUmF0ZSwxOCkuYXRvbWljcyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBzPXYoKTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6cy51bmJvbmRpbmdUaW1lPW4uZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnMubWF4VmFsaWRhdG9ycz1vLnVpbnQzMigpO2JyZWFrO2Nhc2UgMzpzLm1heEVudHJpZXM9by51aW50MzIoKTticmVhaztjYXNlIDQ6cy5oaXN0b3JpY2FsRW50cmllcz1vLnVpbnQzMigpO2JyZWFrO2Nhc2UgNTpzLmJvbmREZW5vbT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpzLm1pbkNvbW1pc3Npb25SYXRlPWcuZnJvbUF0b21pY3Moby5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7dW5ib25kaW5nVGltZTpkKGUudW5ib25kaW5nVGltZSk/bi5mcm9tSlNPTihlLnVuYm9uZGluZ1RpbWUpOnZvaWQgMCxtYXhWYWxpZGF0b3JzOmQoZS5tYXhWYWxpZGF0b3JzKT9OdW1iZXIoZS5tYXhWYWxpZGF0b3JzKTowLG1heEVudHJpZXM6ZChlLm1heEVudHJpZXMpP051bWJlcihlLm1heEVudHJpZXMpOjAsaGlzdG9yaWNhbEVudHJpZXM6ZChlLmhpc3RvcmljYWxFbnRyaWVzKT9OdW1iZXIoZS5oaXN0b3JpY2FsRW50cmllcyk6MCxib25kRGVub206ZChlLmJvbmREZW5vbSk/U3RyaW5nKGUuYm9uZERlbm9tKTpcIlwiLG1pbkNvbW1pc3Npb25SYXRlOmQoZS5taW5Db21taXNzaW9uUmF0ZSk/U3RyaW5nKGUubWluQ29tbWlzc2lvblJhdGUpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS51bmJvbmRpbmdUaW1lJiYodC51bmJvbmRpbmdUaW1lPWUudW5ib25kaW5nVGltZT9uLnRvSlNPTihlLnVuYm9uZGluZ1RpbWUpOnZvaWQgMCksdm9pZCAwIT09ZS5tYXhWYWxpZGF0b3JzJiYodC5tYXhWYWxpZGF0b3JzPU1hdGgucm91bmQoZS5tYXhWYWxpZGF0b3JzKSksdm9pZCAwIT09ZS5tYXhFbnRyaWVzJiYodC5tYXhFbnRyaWVzPU1hdGgucm91bmQoZS5tYXhFbnRyaWVzKSksdm9pZCAwIT09ZS5oaXN0b3JpY2FsRW50cmllcyYmKHQuaGlzdG9yaWNhbEVudHJpZXM9TWF0aC5yb3VuZChlLmhpc3RvcmljYWxFbnRyaWVzKSksdm9pZCAwIT09ZS5ib25kRGVub20mJih0LmJvbmREZW5vbT1lLmJvbmREZW5vbSksdm9pZCAwIT09ZS5taW5Db21taXNzaW9uUmF0ZSYmKHQubWluQ29tbWlzc2lvblJhdGU9ZS5taW5Db21taXNzaW9uUmF0ZSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD12KCk7cmV0dXJuIHQudW5ib25kaW5nVGltZT12b2lkIDAhPT1lLnVuYm9uZGluZ1RpbWUmJm51bGwhPT1lLnVuYm9uZGluZ1RpbWU/bi5mcm9tUGFydGlhbChlLnVuYm9uZGluZ1RpbWUpOnZvaWQgMCx0Lm1heFZhbGlkYXRvcnM9ZS5tYXhWYWxpZGF0b3JzPz8wLHQubWF4RW50cmllcz1lLm1heEVudHJpZXM/PzAsdC5oaXN0b3JpY2FsRW50cmllcz1lLmhpc3RvcmljYWxFbnRyaWVzPz8wLHQuYm9uZERlbm9tPWUuYm9uZERlbm9tPz9cIlwiLHQubWluQ29tbWlzc2lvblJhdGU9ZS5taW5Db21taXNzaW9uUmF0ZT8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+UGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5QYXJhbXNcIix2YWx1ZTpQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5QYXJhbXMoUGFyYW1zKTtmdW5jdGlvbiBTKCl7cmV0dXJue2RlbGVnYXRpb246RGVsZWdhdGlvbi5mcm9tUGFydGlhbCh7fSksYmFsYW5jZTppLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgRGVsZWdhdGlvblJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRGVsZWdhdGlvblJlc3BvbnNlXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLmRlbGVnYXRpb24mJkRlbGVnYXRpb24uZW5jb2RlKGUuZGVsZWdhdGlvbix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLmJhbGFuY2UmJmkuZW5jb2RlKGUuYmFsYW5jZSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IHM9UygpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpzLmRlbGVnYXRpb249RGVsZWdhdGlvbi5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDI6cy5iYWxhbmNlPWkuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBzfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRpb246ZChlLmRlbGVnYXRpb24pP0RlbGVnYXRpb24uZnJvbUpTT04oZS5kZWxlZ2F0aW9uKTp2b2lkIDAsYmFsYW5jZTpkKGUuYmFsYW5jZSk/aS5mcm9tSlNPTihlLmJhbGFuY2UpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRpb24mJih0LmRlbGVnYXRpb249ZS5kZWxlZ2F0aW9uP0RlbGVnYXRpb24udG9KU09OKGUuZGVsZWdhdGlvbik6dm9pZCAwKSx2b2lkIDAhPT1lLmJhbGFuY2UmJih0LmJhbGFuY2U9ZS5iYWxhbmNlP2kudG9KU09OKGUuYmFsYW5jZSk6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PVMoKTtyZXR1cm4gdC5kZWxlZ2F0aW9uPXZvaWQgMCE9PWUuZGVsZWdhdGlvbiYmbnVsbCE9PWUuZGVsZWdhdGlvbj9EZWxlZ2F0aW9uLmZyb21QYXJ0aWFsKGUuZGVsZWdhdGlvbik6dm9pZCAwLHQuYmFsYW5jZT12b2lkIDAhPT1lLmJhbGFuY2UmJm51bGwhPT1lLmJhbGFuY2U/aS5mcm9tUGFydGlhbChlLmJhbGFuY2UpOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6ZT0+RGVsZWdhdGlvblJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EZWxlZ2F0aW9uUmVzcG9uc2VcIix2YWx1ZTpEZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EZWxlZ2F0aW9uUmVzcG9uc2UoRGVsZWdhdGlvblJlc3BvbnNlKTtmdW5jdGlvbiBBKCl7cmV0dXJue3JlZGVsZWdhdGlvbkVudHJ5OlJlZGVsZWdhdGlvbkVudHJ5LmZyb21QYXJ0aWFsKHt9KSxiYWxhbmNlOlwiXCJ9fWNvbnN0IFJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5SZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLnJlZGVsZWdhdGlvbkVudHJ5JiZSZWRlbGVnYXRpb25FbnRyeS5lbmNvZGUoZS5yZWRlbGVnYXRpb25FbnRyeSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxcIlwiIT09ZS5iYWxhbmNlJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUuYmFsYW5jZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPUEoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5yZWRlbGVnYXRpb25FbnRyeT1SZWRlbGVnYXRpb25FbnRyeS5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDQ6aS5iYWxhbmNlPW8uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3JlZGVsZWdhdGlvbkVudHJ5OmQoZS5yZWRlbGVnYXRpb25FbnRyeSk/UmVkZWxlZ2F0aW9uRW50cnkuZnJvbUpTT04oZS5yZWRlbGVnYXRpb25FbnRyeSk6dm9pZCAwLGJhbGFuY2U6ZChlLmJhbGFuY2UpP1N0cmluZyhlLmJhbGFuY2UpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5yZWRlbGVnYXRpb25FbnRyeSYmKHQucmVkZWxlZ2F0aW9uRW50cnk9ZS5yZWRlbGVnYXRpb25FbnRyeT9SZWRlbGVnYXRpb25FbnRyeS50b0pTT04oZS5yZWRlbGVnYXRpb25FbnRyeSk6dm9pZCAwKSx2b2lkIDAhPT1lLmJhbGFuY2UmJih0LmJhbGFuY2U9ZS5iYWxhbmNlKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PUEoKTtyZXR1cm4gdC5yZWRlbGVnYXRpb25FbnRyeT12b2lkIDAhPT1lLnJlZGVsZWdhdGlvbkVudHJ5JiZudWxsIT09ZS5yZWRlbGVnYXRpb25FbnRyeT9SZWRlbGVnYXRpb25FbnRyeS5mcm9tUGFydGlhbChlLnJlZGVsZWdhdGlvbkVudHJ5KTp2b2lkIDAsdC5iYWxhbmNlPWUuYmFsYW5jZT8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+UmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2VcIix2YWx1ZTpSZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZShSZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlKTtmdW5jdGlvbiBEKCl7cmV0dXJue3JlZGVsZWdhdGlvbjpSZWRlbGVnYXRpb24uZnJvbVBhcnRpYWwoe30pLGVudHJpZXM6W119fWNvbnN0IFJlZGVsZWdhdGlvblJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUmVkZWxlZ2F0aW9uUmVzcG9uc2VcIixlbmNvZGUoZSx0PWEuY3JlYXRlKCkpe3ZvaWQgMCE9PWUucmVkZWxlZ2F0aW9uJiZSZWRlbGVnYXRpb24uZW5jb2RlKGUucmVkZWxlZ2F0aW9uLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBvIG9mIGUuZW50cmllcylSZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLmVuY29kZShvLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9RCgpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLnJlZGVsZWdhdGlvbj1SZWRlbGVnYXRpb24uZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmkuZW50cmllcy5wdXNoKFJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UuZGVjb2RlKG8sby51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtyZWRlbGVnYXRpb246ZChlLnJlZGVsZWdhdGlvbik/UmVkZWxlZ2F0aW9uLmZyb21KU09OKGUucmVkZWxlZ2F0aW9uKTp2b2lkIDAsZW50cmllczpBcnJheS5pc0FycmF5KGU/LmVudHJpZXMpP2UuZW50cmllcy5tYXAoKGU9PlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnJlZGVsZWdhdGlvbiYmKHQucmVkZWxlZ2F0aW9uPWUucmVkZWxlZ2F0aW9uP1JlZGVsZWdhdGlvbi50b0pTT04oZS5yZWRlbGVnYXRpb24pOnZvaWQgMCksZS5lbnRyaWVzP3QuZW50cmllcz1lLmVudHJpZXMubWFwKChlPT5lP1JlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UudG9KU09OKGUpOnZvaWQgMCkpOnQuZW50cmllcz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PUQoKTtyZXR1cm4gdC5yZWRlbGVnYXRpb249dm9pZCAwIT09ZS5yZWRlbGVnYXRpb24mJm51bGwhPT1lLnJlZGVsZWdhdGlvbj9SZWRlbGVnYXRpb24uZnJvbVBhcnRpYWwoZS5yZWRlbGVnYXRpb24pOnZvaWQgMCx0LmVudHJpZXM9ZS5lbnRyaWVzPy5tYXAoKGU9PlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PlJlZGVsZWdhdGlvblJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlZGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlJlZGVsZWdhdGlvblJlc3BvbnNlXCIsdmFsdWU6UmVkZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZWRlbGVnYXRpb25SZXNwb25zZShSZWRlbGVnYXRpb25SZXNwb25zZSk7Y29uc3QgUG9vbD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlBvb2xcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLm5vdEJvbmRlZFRva2VucyYmdC51aW50MzIoMTApLnN0cmluZyhlLm5vdEJvbmRlZFRva2VucyksXCJcIiE9PWUuYm9uZGVkVG9rZW5zJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuYm9uZGVkVG9rZW5zKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e25vdEJvbmRlZFRva2VuczpcIlwiLGJvbmRlZFRva2VuczpcIlwifTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5ub3RCb25kZWRUb2tlbnM9by5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5ib25kZWRUb2tlbnM9by5zdHJpbmcoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7bm90Qm9uZGVkVG9rZW5zOmQoZS5ub3RCb25kZWRUb2tlbnMpP1N0cmluZyhlLm5vdEJvbmRlZFRva2Vucyk6XCJcIixib25kZWRUb2tlbnM6ZChlLmJvbmRlZFRva2Vucyk/U3RyaW5nKGUuYm9uZGVkVG9rZW5zKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUubm90Qm9uZGVkVG9rZW5zJiYodC5ub3RCb25kZWRUb2tlbnM9ZS5ub3RCb25kZWRUb2tlbnMpLHZvaWQgMCE9PWUuYm9uZGVkVG9rZW5zJiYodC5ib25kZWRUb2tlbnM9ZS5ib25kZWRUb2tlbnMpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e25vdEJvbmRlZFRva2VuczpcIlwiLGJvbmRlZFRva2VuczpcIlwifTtyZXR1cm4gdC5ub3RCb25kZWRUb2tlbnM9ZS5ub3RCb25kZWRUb2tlbnM/P1wiXCIsdC5ib25kZWRUb2tlbnM9ZS5ib25kZWRUb2tlbnM/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PlBvb2wuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UG9vbC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Qb29sXCIsdmFsdWU6UG9vbC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlBvb2woUG9vbCk7Y29uc3QgVmFsaWRhdG9yVXBkYXRlcz17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlZhbGlkYXRvclVwZGF0ZXNcIixlbmNvZGUoZSx0PWEuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUudXBkYXRlcylzLmVuY29kZShvLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e3VwZGF0ZXM6W119O2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtpZihlPj4+Mz09MSlpLnVwZGF0ZXMucHVzaChzLmRlY29kZShvLG8udWludDMyKCkpKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHt1cGRhdGVzOkFycmF5LmlzQXJyYXkoZT8udXBkYXRlcyk/ZS51cGRhdGVzLm1hcCgoZT0+cy5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIGUudXBkYXRlcz90LnVwZGF0ZXM9ZS51cGRhdGVzLm1hcCgoZT0+ZT9zLnRvSlNPTihlKTp2b2lkIDApKTp0LnVwZGF0ZXM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17dXBkYXRlczpbXX07cmV0dXJuIHQudXBkYXRlcz1lLnVwZGF0ZXM/Lm1hcCgoZT0+cy5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+VmFsaWRhdG9yVXBkYXRlcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5WYWxpZGF0b3JVcGRhdGVzLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlZhbGlkYXRvclVwZGF0ZXNcIix2YWx1ZTpWYWxpZGF0b3JVcGRhdGVzLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yVXBkYXRlcyhWYWxpZGF0b3JVcGRhdGVzKTtjb25zdCBDb3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXI9ZT0+e2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKSxuPW8uZGVjb2RlKHQsdC51aW50MzIoKSk7cmV0dXJuIG4udHlwZVVybCxufTskaM2PX29uY2UuQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyKENvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2Rlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6eyJCb25kU3RhdHVzIjpbIkJvbmRTdGF0dXMiLHRydWVdLCJJbmZyYWN0aW9uIjpbIkluZnJhY3Rpb24iLHRydWVdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkJvbmRTdGF0dXNTREtUeXBlIjpbIkJvbmRTdGF0dXNTREtUeXBlIl0sImJvbmRTdGF0dXNGcm9tSlNPTiI6WyJib25kU3RhdHVzRnJvbUpTT04iXSwiYm9uZFN0YXR1c1RvSlNPTiI6WyJib25kU3RhdHVzVG9KU09OIl0sIkluZnJhY3Rpb25TREtUeXBlIjpbIkluZnJhY3Rpb25TREtUeXBlIl0sImluZnJhY3Rpb25Gcm9tSlNPTiI6WyJpbmZyYWN0aW9uRnJvbUpTT04iXSwiaW5mcmFjdGlvblRvSlNPTiI6WyJpbmZyYWN0aW9uVG9KU09OIl0sIkhpc3RvcmljYWxJbmZvIjpbIkhpc3RvcmljYWxJbmZvIl0sIkNvbW1pc3Npb25SYXRlcyI6WyJDb21taXNzaW9uUmF0ZXMiXSwiQ29tbWlzc2lvbiI6WyJDb21taXNzaW9uIl0sIkRlc2NyaXB0aW9uIjpbIkRlc2NyaXB0aW9uIl0sIlZhbGlkYXRvciI6WyJWYWxpZGF0b3IiXSwiVmFsQWRkcmVzc2VzIjpbIlZhbEFkZHJlc3NlcyJdLCJEVlBhaXIiOlsiRFZQYWlyIl0sIkRWUGFpcnMiOlsiRFZQYWlycyJdLCJEVlZUcmlwbGV0IjpbIkRWVlRyaXBsZXQiXSwiRFZWVHJpcGxldHMiOlsiRFZWVHJpcGxldHMiXSwiRGVsZWdhdGlvbiI6WyJEZWxlZ2F0aW9uIl0sIlVuYm9uZGluZ0RlbGVnYXRpb24iOlsiVW5ib25kaW5nRGVsZWdhdGlvbiJdLCJVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkiOlsiVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5Il0sIlJlZGVsZWdhdGlvbkVudHJ5IjpbIlJlZGVsZWdhdGlvbkVudHJ5Il0sIlJlZGVsZWdhdGlvbiI6WyJSZWRlbGVnYXRpb24iXSwiUGFyYW1zIjpbIlBhcmFtcyJdLCJEZWxlZ2F0aW9uUmVzcG9uc2UiOlsiRGVsZWdhdGlvblJlc3BvbnNlIl0sIlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UiOlsiUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZSJdLCJSZWRlbGVnYXRpb25SZXNwb25zZSI6WyJSZWRlbGVnYXRpb25SZXNwb25zZSJdLCJQb29sIjpbIlBvb2wiXSwiVmFsaWRhdG9yVXBkYXRlcyI6WyJWYWxpZGF0b3JVcGRhdGVzIl0sIkNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlciI6WyJDb3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAALp7OYh5WAAAeVgAARQAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qc3siaW1wb3J0cyI6WyIuL3N0YWtpbmcuanMiLCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55LmpzIiwiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanMiLCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyIsIi4uLy4uLy4uL2RlY2ltYWxzLmpzIl0sImV4cG9ydHMiOlsiQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyIiwiTXNnQmVnaW5SZWRlbGVnYXRlIiwiTXNnQmVnaW5SZWRlbGVnYXRlUmVzcG9uc2UiLCJNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uIiwiTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlIiwiTXNnQ3JlYXRlVmFsaWRhdG9yIiwiTXNnQ3JlYXRlVmFsaWRhdG9yUmVzcG9uc2UiLCJNc2dEZWxlZ2F0ZSIsIk1zZ0RlbGVnYXRlUmVzcG9uc2UiLCJNc2dFZGl0VmFsaWRhdG9yIiwiTXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlIiwiTXNnVW5kZWxlZ2F0ZSIsIk1zZ1VuZGVsZWdhdGVSZXNwb25zZSIsIk1zZ1VwZGF0ZVBhcmFtcyIsIk1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxvLHQscyxyLGksYSxkLG4sbCxjLGc7JGjNj19pbXBvcnRzKFtbXCIuL3N0YWtpbmcuanNcIiwgW1tcIkRlc2NyaXB0aW9uXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJDb21taXNzaW9uUmF0ZXNcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIlBhcmFtc1wiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55LmpzXCIsIFtbXCJBbnlcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qc1wiLCBbW1wiVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChkID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcImZyb21Kc29uVGltZXN0YW1wXCIsWyRozY9fYSA9PiAobCA9ICRozY9fYSldXSxbXCJmcm9tVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoYyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV0sW1wiLi4vLi4vLi4vZGVjaW1hbHMuanNcIiwgW1tcIkRlY2ltYWxcIixbJGjNj19hID0+IChnID0gJGjNj19hKV1dXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtKCl7cmV0dXJue2Rlc2NyaXB0aW9uOmUuZnJvbVBhcnRpYWwoe30pLGNvbW1pc3Npb246by5mcm9tUGFydGlhbCh7fSksbWluU2VsZkRlbGVnYXRpb246XCJcIixkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwiLHB1YmtleTp2b2lkIDAsdmFsdWU6ci5mcm9tUGFydGlhbCh7fSl9fSAgICAgICBjb25zdCBNc2dDcmVhdGVWYWxpZGF0b3I9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dDcmVhdGVWYWxpZGF0b3JcIixlbmNvZGU6KHQsaT1kLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PXQuZGVzY3JpcHRpb24mJmUuZW5jb2RlKHQuZGVzY3JpcHRpb24saS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09dC5jb21taXNzaW9uJiZvLmVuY29kZSh0LmNvbW1pc3Npb24saS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PXQubWluU2VsZkRlbGVnYXRpb24mJmkudWludDMyKDI2KS5zdHJpbmcodC5taW5TZWxmRGVsZWdhdGlvbiksXCJcIiE9PXQuZGVsZWdhdG9yQWRkcmVzcyYmaS51aW50MzIoMzQpLnN0cmluZyh0LmRlbGVnYXRvckFkZHJlc3MpLFwiXCIhPT10LnZhbGlkYXRvckFkZHJlc3MmJmkudWludDMyKDQyKS5zdHJpbmcodC52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT10LnB1YmtleSYmcy5lbmNvZGUodC5wdWJrZXksaS51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09dC52YWx1ZSYmci5lbmNvZGUodC52YWx1ZSxpLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKSxpKSxkZWNvZGUodCxzKXtjb25zdCBpPXQgaW5zdGFuY2VvZiBhP3Q6bmV3IGEodCk7bGV0IGQ9dm9pZCAwPT09cz9pLmxlbjppLnBvcytzO2NvbnN0IG49bSgpO2Zvcig7aS5wb3M8ZDspe2NvbnN0IHQ9aS51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTpuLmRlc2NyaXB0aW9uPWUuZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm4uY29tbWlzc2lvbj1vLmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpuLm1pblNlbGZEZWxlZ2F0aW9uPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om4uZGVsZWdhdG9yQWRkcmVzcz1pLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpuLnZhbGlkYXRvckFkZHJlc3M9aS5zdHJpbmcoKTticmVhaztjYXNlIDY6bi5wdWJrZXk9Q29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyKGkpO2JyZWFrO2Nhc2UgNzpuLnZhbHVlPXIuZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmdCl9fXJldHVybiBufSxmcm9tSlNPTjp0PT4oe2Rlc2NyaXB0aW9uOm4odC5kZXNjcmlwdGlvbik/ZS5mcm9tSlNPTih0LmRlc2NyaXB0aW9uKTp2b2lkIDAsY29tbWlzc2lvbjpuKHQuY29tbWlzc2lvbik/by5mcm9tSlNPTih0LmNvbW1pc3Npb24pOnZvaWQgMCxtaW5TZWxmRGVsZWdhdGlvbjpuKHQubWluU2VsZkRlbGVnYXRpb24pP1N0cmluZyh0Lm1pblNlbGZEZWxlZ2F0aW9uKTpcIlwiLGRlbGVnYXRvckFkZHJlc3M6bih0LmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyh0LmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpuKHQudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKHQudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixwdWJrZXk6bih0LnB1YmtleSk/cy5mcm9tSlNPTih0LnB1YmtleSk6dm9pZCAwLHZhbHVlOm4odC52YWx1ZSk/ci5mcm9tSlNPTih0LnZhbHVlKTp2b2lkIDB9KSx0b0pTT04odCl7Y29uc3QgaT17fTtyZXR1cm4gdm9pZCAwIT09dC5kZXNjcmlwdGlvbiYmKGkuZGVzY3JpcHRpb249dC5kZXNjcmlwdGlvbj9lLnRvSlNPTih0LmRlc2NyaXB0aW9uKTp2b2lkIDApLHZvaWQgMCE9PXQuY29tbWlzc2lvbiYmKGkuY29tbWlzc2lvbj10LmNvbW1pc3Npb24/by50b0pTT04odC5jb21taXNzaW9uKTp2b2lkIDApLHZvaWQgMCE9PXQubWluU2VsZkRlbGVnYXRpb24mJihpLm1pblNlbGZEZWxlZ2F0aW9uPXQubWluU2VsZkRlbGVnYXRpb24pLHZvaWQgMCE9PXQuZGVsZWdhdG9yQWRkcmVzcyYmKGkuZGVsZWdhdG9yQWRkcmVzcz10LmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PXQudmFsaWRhdG9yQWRkcmVzcyYmKGkudmFsaWRhdG9yQWRkcmVzcz10LnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PXQucHVia2V5JiYoaS5wdWJrZXk9dC5wdWJrZXk/cy50b0pTT04odC5wdWJrZXkpOnZvaWQgMCksdm9pZCAwIT09dC52YWx1ZSYmKGkudmFsdWU9dC52YWx1ZT9yLnRvSlNPTih0LnZhbHVlKTp2b2lkIDApLGl9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGk9bSgpO3JldHVybiBpLmRlc2NyaXB0aW9uPXZvaWQgMCE9PXQuZGVzY3JpcHRpb24mJm51bGwhPT10LmRlc2NyaXB0aW9uP2UuZnJvbVBhcnRpYWwodC5kZXNjcmlwdGlvbik6dm9pZCAwLGkuY29tbWlzc2lvbj12b2lkIDAhPT10LmNvbW1pc3Npb24mJm51bGwhPT10LmNvbW1pc3Npb24/by5mcm9tUGFydGlhbCh0LmNvbW1pc3Npb24pOnZvaWQgMCxpLm1pblNlbGZEZWxlZ2F0aW9uPXQubWluU2VsZkRlbGVnYXRpb24/P1wiXCIsaS5kZWxlZ2F0b3JBZGRyZXNzPXQuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixpLnZhbGlkYXRvckFkZHJlc3M9dC52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLGkucHVia2V5PXZvaWQgMCE9PXQucHVia2V5JiZudWxsIT09dC5wdWJrZXk/cy5mcm9tUGFydGlhbCh0LnB1YmtleSk6dm9pZCAwLGkudmFsdWU9dm9pZCAwIT09dC52YWx1ZSYmbnVsbCE9PXQudmFsdWU/ci5mcm9tUGFydGlhbCh0LnZhbHVlKTp2b2lkIDAsaX0sZnJvbVByb3RvTXNnOmU9Pk1zZ0NyZWF0ZVZhbGlkYXRvci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDcmVhdGVWYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQ3JlYXRlVmFsaWRhdG9yXCIsdmFsdWU6TXNnQ3JlYXRlVmFsaWRhdG9yLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ3JlYXRlVmFsaWRhdG9yKE1zZ0NyZWF0ZVZhbGlkYXRvcik7Y29uc3QgTXNnQ3JlYXRlVmFsaWRhdG9yUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dDcmVhdGVWYWxpZGF0b3JSZXNwb25zZVwiLGVuY29kZTooZSxvPWQuY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3Qgcj17fTtmb3IoO3QucG9zPHM7KXtjb25zdCBlPXQudWludDMyKCk7dC5za2lwVHlwZSg3JmUpfXJldHVybiByfSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9Pk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlXCIsdmFsdWU6TXNnQ3JlYXRlVmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDcmVhdGVWYWxpZGF0b3JSZXNwb25zZShNc2dDcmVhdGVWYWxpZGF0b3JSZXNwb25zZSk7ZnVuY3Rpb24gdSgpe3JldHVybntkZXNjcmlwdGlvbjplLmZyb21QYXJ0aWFsKHt9KSx2YWxpZGF0b3JBZGRyZXNzOlwiXCIsY29tbWlzc2lvblJhdGU6XCJcIixtaW5TZWxmRGVsZWdhdGlvbjpcIlwifX1jb25zdCBNc2dFZGl0VmFsaWRhdG9yPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnRWRpdFZhbGlkYXRvclwiLGVuY29kZToobyx0PWQuY3JlYXRlKCkpPT4odm9pZCAwIT09by5kZXNjcmlwdGlvbiYmZS5lbmNvZGUoby5kZXNjcmlwdGlvbix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxcIlwiIT09by52YWxpZGF0b3JBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKG8udmFsaWRhdG9yQWRkcmVzcyksXCJcIiE9PW8uY29tbWlzc2lvblJhdGUmJnQudWludDMyKDI2KS5zdHJpbmcoZy5mcm9tVXNlcklucHV0KG8uY29tbWlzc2lvblJhdGUsMTgpLmF0b21pY3MpLFwiXCIhPT1vLm1pblNlbGZEZWxlZ2F0aW9uJiZ0LnVpbnQzMigzNCkuc3RyaW5nKG8ubWluU2VsZkRlbGVnYXRpb24pLHQpLGRlY29kZShvLHQpe2NvbnN0IHM9byBpbnN0YW5jZW9mIGE/bzpuZXcgYShvKTtsZXQgcj12b2lkIDA9PT10P3MubGVuOnMucG9zK3Q7Y29uc3QgaT11KCk7Zm9yKDtzLnBvczxyOyl7Y29uc3Qgbz1zLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkuZGVzY3JpcHRpb249ZS5kZWNvZGUocyxzLnVpbnQzMigpKTticmVhaztjYXNlIDI6aS52YWxpZGF0b3JBZGRyZXNzPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmkuY29tbWlzc2lvblJhdGU9Zy5mcm9tQXRvbWljcyhzLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2Nhc2UgNDppLm1pblNlbGZEZWxlZ2F0aW9uPXMuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmbyl9fXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe2Rlc2NyaXB0aW9uOm4oby5kZXNjcmlwdGlvbik/ZS5mcm9tSlNPTihvLmRlc2NyaXB0aW9uKTp2b2lkIDAsdmFsaWRhdG9yQWRkcmVzczpuKG8udmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKG8udmFsaWRhdG9yQWRkcmVzcyk6XCJcIixjb21taXNzaW9uUmF0ZTpuKG8uY29tbWlzc2lvblJhdGUpP1N0cmluZyhvLmNvbW1pc3Npb25SYXRlKTpcIlwiLG1pblNlbGZEZWxlZ2F0aW9uOm4oby5taW5TZWxmRGVsZWdhdGlvbik/U3RyaW5nKG8ubWluU2VsZkRlbGVnYXRpb24pOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5kZXNjcmlwdGlvbiYmKHQuZGVzY3JpcHRpb249by5kZXNjcmlwdGlvbj9lLnRvSlNPTihvLmRlc2NyaXB0aW9uKTp2b2lkIDApLHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkcmVzcyYmKHQudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PW8uY29tbWlzc2lvblJhdGUmJih0LmNvbW1pc3Npb25SYXRlPW8uY29tbWlzc2lvblJhdGUpLHZvaWQgMCE9PW8ubWluU2VsZkRlbGVnYXRpb24mJih0Lm1pblNlbGZEZWxlZ2F0aW9uPW8ubWluU2VsZkRlbGVnYXRpb24pLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9dSgpO3JldHVybiB0LmRlc2NyaXB0aW9uPXZvaWQgMCE9PW8uZGVzY3JpcHRpb24mJm51bGwhPT1vLmRlc2NyaXB0aW9uP2UuZnJvbVBhcnRpYWwoby5kZXNjcmlwdGlvbik6dm9pZCAwLHQudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsdC5jb21taXNzaW9uUmF0ZT1vLmNvbW1pc3Npb25SYXRlPz9cIlwiLHQubWluU2VsZkRlbGVnYXRpb249by5taW5TZWxmRGVsZWdhdGlvbj8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+TXNnRWRpdFZhbGlkYXRvci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dFZGl0VmFsaWRhdG9yLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0VkaXRWYWxpZGF0b3JcIix2YWx1ZTpNc2dFZGl0VmFsaWRhdG9yLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRWRpdFZhbGlkYXRvcihNc2dFZGl0VmFsaWRhdG9yKTtjb25zdCBNc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IHI9e307Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3Quc2tpcFR5cGUoNyZlKX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0VkaXRWYWxpZGF0b3JSZXNwb25zZVwiLHZhbHVlOk1zZ0VkaXRWYWxpZGF0b3JSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0VkaXRWYWxpZGF0b3JSZXNwb25zZShNc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2UpO2Z1bmN0aW9uIHYoKXtyZXR1cm57ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIixhbW91bnQ6ci5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IE1zZ0RlbGVnYXRlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnRGVsZWdhdGVcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJnIuZW5jb2RlKGUuYW1vdW50LG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3QgaT12KCk7Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnZhbGlkYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDM6aS5hbW91bnQ9ci5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczpuKGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JBZGRyZXNzOm4oZS52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKTpcIlwiLGFtb3VudDpuKGUuYW1vdW50KT9yLmZyb21KU09OKGUuYW1vdW50KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYoby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYoby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJihvLmFtb3VudD1lLmFtb3VudD9yLnRvSlNPTihlLmFtb3VudCk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXYoKTtyZXR1cm4gby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLG8uYW1vdW50PXZvaWQgMCE9PWUuYW1vdW50JiZudWxsIT09ZS5hbW91bnQ/ci5mcm9tUGFydGlhbChlLmFtb3VudCk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Nc2dEZWxlZ2F0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dEZWxlZ2F0ZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dEZWxlZ2F0ZVwiLHZhbHVlOk1zZ0RlbGVnYXRlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVsZWdhdGUoTXNnRGVsZWdhdGUpO2NvbnN0IE1zZ0RlbGVnYXRlUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dEZWxlZ2F0ZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCByPXt9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTt0LnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnRGVsZWdhdGVSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dEZWxlZ2F0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0RlbGVnYXRlUmVzcG9uc2VcIix2YWx1ZTpNc2dEZWxlZ2F0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVsZWdhdGVSZXNwb25zZShNc2dEZWxlZ2F0ZVJlc3BvbnNlKTtmdW5jdGlvbiBwKCl7cmV0dXJue2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOlwiXCIsdmFsaWRhdG9yRHN0QWRkcmVzczpcIlwiLGFtb3VudDpyLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgTXNnQmVnaW5SZWRlbGVnYXRlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQmVnaW5SZWRlbGVnYXRlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yU3JjQWRkcmVzcyYmby51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvclNyY0FkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvckRzdEFkZHJlc3MmJm8udWludDMyKDI2KS5zdHJpbmcoZS52YWxpZGF0b3JEc3RBZGRyZXNzKSx2b2lkIDAhPT1lLmFtb3VudCYmci5lbmNvZGUoZS5hbW91bnQsby51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBpPXAoKTtmb3IoO3QucG9zPHM7KXtjb25zdCBlPXQudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZWxlZ2F0b3JBZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkudmFsaWRhdG9yU3JjQWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLnZhbGlkYXRvckRzdEFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDQ6aS5hbW91bnQ9ci5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczpuKGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOm4oZS52YWxpZGF0b3JTcmNBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JTcmNBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckRzdEFkZHJlc3M6bihlLnZhbGlkYXRvckRzdEFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckRzdEFkZHJlc3MpOlwiXCIsYW1vdW50Om4oZS5hbW91bnQpP3IuZnJvbUpTT04oZS5hbW91bnQpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJihvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvclNyY0FkZHJlc3MmJihvLnZhbGlkYXRvclNyY0FkZHJlc3M9ZS52YWxpZGF0b3JTcmNBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvckRzdEFkZHJlc3MmJihvLnZhbGlkYXRvckRzdEFkZHJlc3M9ZS52YWxpZGF0b3JEc3RBZGRyZXNzKSx2b2lkIDAhPT1lLmFtb3VudCYmKG8uYW1vdW50PWUuYW1vdW50P3IudG9KU09OKGUuYW1vdW50KTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89cCgpO3JldHVybiBvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLG8udmFsaWRhdG9yU3JjQWRkcmVzcz1lLnZhbGlkYXRvclNyY0FkZHJlc3M/P1wiXCIsby52YWxpZGF0b3JEc3RBZGRyZXNzPWUudmFsaWRhdG9yRHN0QWRkcmVzcz8/XCJcIixvLmFtb3VudD12b2lkIDAhPT1lLmFtb3VudCYmbnVsbCE9PWUuYW1vdW50P3IuZnJvbVBhcnRpYWwoZS5hbW91bnQpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQmVnaW5SZWRlbGVnYXRlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0JlZ2luUmVkZWxlZ2F0ZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dCZWdpblJlZGVsZWdhdGVcIix2YWx1ZTpNc2dCZWdpblJlZGVsZWdhdGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dCZWdpblJlZGVsZWdhdGUoTXNnQmVnaW5SZWRlbGVnYXRlKTtmdW5jdGlvbiBmKCl7cmV0dXJue2NvbXBsZXRpb25UaW1lOmkuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBNc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiZpLmVuY29kZShlLmNvbXBsZXRpb25UaW1lLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3Qgcj1mKCk7Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO2lmKGU+Pj4zPT0xKXIuY29tcGxldGlvblRpbWU9aS5kZWNvZGUodCx0LnVpbnQzMigpKTtlbHNlIHQuc2tpcFR5cGUoNyZlKX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtjb21wbGV0aW9uVGltZTpuKGUuY29tcGxldGlvblRpbWUpP2woZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJihvLmNvbXBsZXRpb25UaW1lPWMoZS5jb21wbGV0aW9uVGltZSkudG9JU09TdHJpbmcoKSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1mKCk7cmV0dXJuIG8uY29tcGxldGlvblRpbWU9dm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmbnVsbCE9PWUuY29tcGxldGlvblRpbWU/aS5mcm9tUGFydGlhbChlLmNvbXBsZXRpb25UaW1lKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlXCIsdmFsdWU6TXNnQmVnaW5SZWRlbGVnYXRlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZShNc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZSk7ZnVuY3Rpb24gQSgpe3JldHVybntkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwiLGFtb3VudDpyLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgTXNnVW5kZWxlZ2F0ZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ1VuZGVsZWdhdGVcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJnIuZW5jb2RlKGUuYW1vdW50LG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3QgaT1BKCk7Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnZhbGlkYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDM6aS5hbW91bnQ9ci5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczpuKGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JBZGRyZXNzOm4oZS52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKTpcIlwiLGFtb3VudDpuKGUuYW1vdW50KT9yLmZyb21KU09OKGUuYW1vdW50KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYoby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYoby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJihvLmFtb3VudD1lLmFtb3VudD9yLnRvSlNPTihlLmFtb3VudCk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPUEoKTtyZXR1cm4gby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLG8uYW1vdW50PXZvaWQgMCE9PWUuYW1vdW50JiZudWxsIT09ZS5hbW91bnQ/ci5mcm9tUGFydGlhbChlLmFtb3VudCk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Nc2dVbmRlbGVnYXRlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1VuZGVsZWdhdGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnVW5kZWxlZ2F0ZVwiLHZhbHVlOk1zZ1VuZGVsZWdhdGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVbmRlbGVnYXRlKE1zZ1VuZGVsZWdhdGUpO2Z1bmN0aW9uIE0oKXtyZXR1cm57Y29tcGxldGlvblRpbWU6aS5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IE1zZ1VuZGVsZWdhdGVSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ1VuZGVsZWdhdGVSZXNwb25zZVwiLGVuY29kZTooZSxvPWQuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmaS5lbmNvZGUoZS5jb21wbGV0aW9uVGltZSxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IHI9TSgpO2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTtpZihlPj4+Mz09MSlyLmNvbXBsZXRpb25UaW1lPWkuZGVjb2RlKHQsdC51aW50MzIoKSk7ZWxzZSB0LnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7Y29tcGxldGlvblRpbWU6bihlLmNvbXBsZXRpb25UaW1lKT9sKGUuY29tcGxldGlvblRpbWUpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiYoby5jb21wbGV0aW9uVGltZT1jKGUuY29tcGxldGlvblRpbWUpLnRvSVNPU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89TSgpO3JldHVybiBvLmNvbXBsZXRpb25UaW1lPXZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJm51bGwhPT1lLmNvbXBsZXRpb25UaW1lP2kuZnJvbVBhcnRpYWwoZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Nc2dVbmRlbGVnYXRlUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVW5kZWxlZ2F0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ1VuZGVsZWdhdGVSZXNwb25zZVwiLHZhbHVlOk1zZ1VuZGVsZWdhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1VuZGVsZWdhdGVSZXNwb25zZShNc2dVbmRlbGVnYXRlUmVzcG9uc2UpO2Z1bmN0aW9uIFMoKXtyZXR1cm57ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIixhbW91bnQ6ci5mcm9tUGFydGlhbCh7fSksY3JlYXRpb25IZWlnaHQ6QmlnSW50KDApfX1jb25zdCBNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblwiLGVuY29kZTooZSxvPWQuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvckFkZHJlc3MmJm8udWludDMyKDE4KS5zdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLmFtb3VudCYmci5lbmNvZGUoZS5hbW91bnQsby51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksZS5jcmVhdGlvbkhlaWdodCE9PUJpZ0ludCgwKSYmby51aW50MzIoMzIpLmludDY0KGUuY3JlYXRpb25IZWlnaHQpLG8pLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3QgaT1TKCk7Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnZhbGlkYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDM6aS5hbW91bnQ9ci5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDQ6aS5jcmVhdGlvbkhlaWdodD10LmludDY0KCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6bihlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpuKGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixhbW91bnQ6bihlLmFtb3VudCk/ci5mcm9tSlNPTihlLmFtb3VudCk6dm9pZCAwLGNyZWF0aW9uSGVpZ2h0Om4oZS5jcmVhdGlvbkhlaWdodCk/QmlnSW50KGUuY3JlYXRpb25IZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuYW1vdW50JiYoby5hbW91bnQ9ZS5hbW91bnQ/ci50b0pTT04oZS5hbW91bnQpOnZvaWQgMCksdm9pZCAwIT09ZS5jcmVhdGlvbkhlaWdodCYmKG8uY3JlYXRpb25IZWlnaHQ9KGUuY3JlYXRpb25IZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1TKCk7cmV0dXJuIG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixvLmFtb3VudD12b2lkIDAhPT1lLmFtb3VudCYmbnVsbCE9PWUuYW1vdW50P3IuZnJvbVBhcnRpYWwoZS5hbW91bnQpOnZvaWQgMCxvLmNyZWF0aW9uSGVpZ2h0PXZvaWQgMCE9PWUuY3JlYXRpb25IZWlnaHQmJm51bGwhPT1lLmNyZWF0aW9uSGVpZ2h0P0JpZ0ludChlLmNyZWF0aW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25cIix2YWx1ZTpNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbihNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uKTtjb25zdCBNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IHI9e307Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3Quc2tpcFR5cGUoNyZlKX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZVwiLHZhbHVlOk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZShNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UpO2Z1bmN0aW9uIGsoKXtyZXR1cm57YXV0aG9yaXR5OlwiXCIscGFyYW1zOnQuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBNc2dVcGRhdGVQYXJhbXM9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dVcGRhdGVQYXJhbXNcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmF1dGhvcml0eSYmby51aW50MzIoMTApLnN0cmluZyhlLmF1dGhvcml0eSksdm9pZCAwIT09ZS5wYXJhbXMmJnQuZW5jb2RlKGUucGFyYW1zLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcj12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgaT1rKCk7Zm9yKDtzLnBvczxyOyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuYXV0aG9yaXR5PXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFyYW1zPXQuZGVjb2RlKHMscy51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2F1dGhvcml0eTpuKGUuYXV0aG9yaXR5KT9TdHJpbmcoZS5hdXRob3JpdHkpOlwiXCIscGFyYW1zOm4oZS5wYXJhbXMpP3QuZnJvbUpTT04oZS5wYXJhbXMpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmF1dGhvcml0eSYmKG8uYXV0aG9yaXR5PWUuYXV0aG9yaXR5KSx2b2lkIDAhPT1lLnBhcmFtcyYmKG8ucGFyYW1zPWUucGFyYW1zP3QudG9KU09OKGUucGFyYW1zKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89aygpO3JldHVybiBvLmF1dGhvcml0eT1lLmF1dGhvcml0eT8/XCJcIixvLnBhcmFtcz12b2lkIDAhPT1lLnBhcmFtcyYmbnVsbCE9PWUucGFyYW1zP3QuZnJvbVBhcnRpYWwoZS5wYXJhbXMpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVXBkYXRlUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1VwZGF0ZVBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dVcGRhdGVQYXJhbXNcIix2YWx1ZTpNc2dVcGRhdGVQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVcGRhdGVQYXJhbXMoTXNnVXBkYXRlUGFyYW1zKTtjb25zdCBNc2dVcGRhdGVQYXJhbXNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCByPXt9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTt0LnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2VcIix2YWx1ZTpNc2dVcGRhdGVQYXJhbXNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlKE1zZ1VwZGF0ZVBhcmFtc1Jlc3BvbnNlKTtjb25zdCBDb3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXI9ZT0+e2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKSx0PXMuZGVjb2RlKG8sby51aW50MzIoKSk7cmV0dXJuIHQudHlwZVVybCx0fTskaM2PX29uY2UuQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyKENvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2Rlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJNc2dDcmVhdGVWYWxpZGF0b3IiOlsiTXNnQ3JlYXRlVmFsaWRhdG9yIl0sIk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlIjpbIk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlIl0sIk1zZ0VkaXRWYWxpZGF0b3IiOlsiTXNnRWRpdFZhbGlkYXRvciJdLCJNc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2UiOlsiTXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlIl0sIk1zZ0RlbGVnYXRlIjpbIk1zZ0RlbGVnYXRlIl0sIk1zZ0RlbGVnYXRlUmVzcG9uc2UiOlsiTXNnRGVsZWdhdGVSZXNwb25zZSJdLCJNc2dCZWdpblJlZGVsZWdhdGUiOlsiTXNnQmVnaW5SZWRlbGVnYXRlIl0sIk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlIjpbIk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlIl0sIk1zZ1VuZGVsZWdhdGUiOlsiTXNnVW5kZWxlZ2F0ZSJdLCJNc2dVbmRlbGVnYXRlUmVzcG9uc2UiOlsiTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlIl0sIk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb24iOlsiTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbiJdLCJNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UiOlsiTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlIl0sIk1zZ1VwZGF0ZVBhcmFtcyI6WyJNc2dVcGRhdGVQYXJhbXMiXSwiTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UiOlsiTXNnVXBkYXRlUGFyYW1zUmVzcG9uc2UiXSwiQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyIjpbIkNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADEY1JK7yoAAO8qAABNAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvdHgvc2lnbmluZy92MWJldGExL3NpZ25pbmcuanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vY3J5cHRvL211bHRpc2lnL3YxYmV0YTEvbXVsdGlzaWcuanMiLCIuLi8uLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55LmpzIiwiLi4vLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzIiwiLi4vLi4vLi4vLi4vaGVscGVycy5qcyIsIkBlbmRvL2Jhc2U2NCJdLCJleHBvcnRzIjpbIlNpZ25Nb2RlIiwiU2lnbk1vZGVTREtUeXBlIiwiU2lnbmF0dXJlRGVzY3JpcHRvciIsIlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YSIsIlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aSIsIlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUiLCJTaWduYXR1cmVEZXNjcmlwdG9ycyIsInNpZ25Nb2RlRnJvbUpTT04iLCJzaWduTW9kZVRvSlNPTiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsdCxpLHIsbyxuLGE7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi9jcnlwdG8vbXVsdGlzaWcvdjFiZXRhMS9tdWx0aXNpZy5qc1wiLCBbW1wiQ29tcGFjdEJpdEFycmF5XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV0sW1wiLi4vLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcImVuY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV1dXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzaWduTW9kZUZyb21KU09OLCduYW1lJyx7dmFsdWU6XCJzaWduTW9kZUZyb21KU09OXCJ9KTskaM2PX29uY2Uuc2lnbk1vZGVGcm9tSlNPTihzaWduTW9kZUZyb21KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc2lnbk1vZGVUb0pTT04sJ25hbWUnLHt2YWx1ZTpcInNpZ25Nb2RlVG9KU09OXCJ9KTskaM2PX29uY2Uuc2lnbk1vZGVUb0pTT04oc2lnbk1vZGVUb0pTT04pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGPNj19TaWduTW9kZTskaM2PX2xpdmUuU2lnbk1vZGUoJGPNj19TaWduTW9kZSk7IWZ1bmN0aW9uKGUpe2VbZS5TSUdOX01PREVfVU5TUEVDSUZJRUQ9MF09XCJTSUdOX01PREVfVU5TUEVDSUZJRURcIixlW2UuU0lHTl9NT0RFX0RJUkVDVD0xXT1cIlNJR05fTU9ERV9ESVJFQ1RcIixlW2UuU0lHTl9NT0RFX1RFWFRVQUw9Ml09XCJTSUdOX01PREVfVEVYVFVBTFwiLGVbZS5TSUdOX01PREVfRElSRUNUX0FVWD0zXT1cIlNJR05fTU9ERV9ESVJFQ1RfQVVYXCIsZVtlLlNJR05fTU9ERV9MRUdBQ1lfQU1JTk9fSlNPTj0xMjddPVwiU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OXCIsZVtlLlNJR05fTU9ERV9FSVBfMTkxPTE5MV09XCJTSUdOX01PREVfRUlQXzE5MVwiLGVbZS5VTlJFQ09HTklaRUQ9LTFdPVwiVU5SRUNPR05JWkVEXCJ9KFNpZ25Nb2RlfHwoU2lnbk1vZGU9e30pKTtjb25zdCBTaWduTW9kZVNES1R5cGU9U2lnbk1vZGU7JGjNj19vbmNlLlNpZ25Nb2RlU0RLVHlwZShTaWduTW9kZVNES1R5cGUpO2Z1bmN0aW9uIHNpZ25Nb2RlRnJvbUpTT04oZSl7c3dpdGNoKGUpe2Nhc2UgMDpjYXNlXCJTSUdOX01PREVfVU5TUEVDSUZJRURcIjpyZXR1cm4gU2lnbk1vZGUuU0lHTl9NT0RFX1VOU1BFQ0lGSUVEO2Nhc2UgMTpjYXNlXCJTSUdOX01PREVfRElSRUNUXCI6cmV0dXJuIFNpZ25Nb2RlLlNJR05fTU9ERV9ESVJFQ1Q7Y2FzZSAyOmNhc2VcIlNJR05fTU9ERV9URVhUVUFMXCI6cmV0dXJuIFNpZ25Nb2RlLlNJR05fTU9ERV9URVhUVUFMO2Nhc2UgMzpjYXNlXCJTSUdOX01PREVfRElSRUNUX0FVWFwiOnJldHVybiBTaWduTW9kZS5TSUdOX01PREVfRElSRUNUX0FVWDtjYXNlIDEyNzpjYXNlXCJTSUdOX01PREVfTEVHQUNZX0FNSU5PX0pTT05cIjpyZXR1cm4gU2lnbk1vZGUuU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OO2Nhc2UgMTkxOmNhc2VcIlNJR05fTU9ERV9FSVBfMTkxXCI6cmV0dXJuIFNpZ25Nb2RlLlNJR05fTU9ERV9FSVBfMTkxO2RlZmF1bHQ6cmV0dXJuIFNpZ25Nb2RlLlVOUkVDT0dOSVpFRH19ZnVuY3Rpb24gc2lnbk1vZGVUb0pTT04oZSl7c3dpdGNoKGUpe2Nhc2UgU2lnbk1vZGUuU0lHTl9NT0RFX1VOU1BFQ0lGSUVEOnJldHVyblwiU0lHTl9NT0RFX1VOU1BFQ0lGSUVEXCI7Y2FzZSBTaWduTW9kZS5TSUdOX01PREVfRElSRUNUOnJldHVyblwiU0lHTl9NT0RFX0RJUkVDVFwiO2Nhc2UgU2lnbk1vZGUuU0lHTl9NT0RFX1RFWFRVQUw6cmV0dXJuXCJTSUdOX01PREVfVEVYVFVBTFwiO2Nhc2UgU2lnbk1vZGUuU0lHTl9NT0RFX0RJUkVDVF9BVVg6cmV0dXJuXCJTSUdOX01PREVfRElSRUNUX0FVWFwiO2Nhc2UgU2lnbk1vZGUuU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OOnJldHVyblwiU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OXCI7Y2FzZSBTaWduTW9kZS5TSUdOX01PREVfRUlQXzE5MTpyZXR1cm5cIlNJR05fTU9ERV9FSVBfMTkxXCI7Y2FzZSBTaWduTW9kZS5VTlJFQ09HTklaRUQ6ZGVmYXVsdDpyZXR1cm5cIlVOUkVDT0dOSVpFRFwifX1jb25zdCBTaWduYXR1cmVEZXNjcmlwdG9ycz17dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLlNpZ25hdHVyZURlc2NyaXB0b3JzXCIsZW5jb2RlKGUsdD1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgaSBvZiBlLnNpZ25hdHVyZXMpU2lnbmF0dXJlRGVzY3JpcHRvci5lbmNvZGUoaSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgcj1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBvPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBuPXtzaWduYXR1cmVzOltdfTtmb3IoO3IucG9zPG87KXtjb25zdCBlPXIudWludDMyKCk7aWYoZT4+PjM9PTEpbi5zaWduYXR1cmVzLnB1c2goU2lnbmF0dXJlRGVzY3JpcHRvci5kZWNvZGUocixyLnVpbnQzMigpKSk7ZWxzZSByLnNraXBUeXBlKDcmZSl9cmV0dXJuIG59LGZyb21KU09OOmU9Pih7c2lnbmF0dXJlczpBcnJheS5pc0FycmF5KGU/LnNpZ25hdHVyZXMpP2Uuc2lnbmF0dXJlcy5tYXAoKGU9PlNpZ25hdHVyZURlc2NyaXB0b3IuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLnNpZ25hdHVyZXM/dC5zaWduYXR1cmVzPWUuc2lnbmF0dXJlcy5tYXAoKGU9PmU/U2lnbmF0dXJlRGVzY3JpcHRvci50b0pTT04oZSk6dm9pZCAwKSk6dC5zaWduYXR1cmVzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3NpZ25hdHVyZXM6W119O3JldHVybiB0LnNpZ25hdHVyZXM9ZS5zaWduYXR1cmVzPy5tYXAoKGU9PlNpZ25hdHVyZURlc2NyaXB0b3IuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PlNpZ25hdHVyZURlc2NyaXB0b3JzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlNpZ25hdHVyZURlc2NyaXB0b3JzLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLlNpZ25hdHVyZURlc2NyaXB0b3JzXCIsdmFsdWU6U2lnbmF0dXJlRGVzY3JpcHRvcnMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5TaWduYXR1cmVEZXNjcmlwdG9ycyhTaWduYXR1cmVEZXNjcmlwdG9ycyk7ZnVuY3Rpb24gcygpe3JldHVybntwdWJsaWNLZXk6dm9pZCAwLGRhdGE6dm9pZCAwLHNlcXVlbmNlOkJpZ0ludCgwKX19Y29uc3QgU2lnbmF0dXJlRGVzY3JpcHRvcj17dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLlNpZ25hdHVyZURlc2NyaXB0b3JcIixlbmNvZGU6KGUsaT1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUucHVibGljS2V5JiZ0LmVuY29kZShlLnB1YmxpY0tleSxpLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLmRhdGEmJlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5lbmNvZGUoZS5kYXRhLGkudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUuc2VxdWVuY2UhPT1CaWdJbnQoMCkmJmkudWludDMyKDI0KS51aW50NjQoZS5zZXF1ZW5jZSksaSksZGVjb2RlKGUscil7Y29uc3Qgbz1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBuPXZvaWQgMD09PXI/by5sZW46by5wb3Mrcjtjb25zdCBhPXMoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5wdWJsaWNLZXk9dC5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDI6YS5kYXRhPVNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDM6YS5zZXF1ZW5jZT1vLnVpbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtwdWJsaWNLZXk6byhlLnB1YmxpY0tleSk/dC5mcm9tSlNPTihlLnB1YmxpY0tleSk6dm9pZCAwLGRhdGE6byhlLmRhdGEpP1NpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5mcm9tSlNPTihlLmRhdGEpOnZvaWQgMCxzZXF1ZW5jZTpvKGUuc2VxdWVuY2UpP0JpZ0ludChlLnNlcXVlbmNlLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCBpPXt9O3JldHVybiB2b2lkIDAhPT1lLnB1YmxpY0tleSYmKGkucHVibGljS2V5PWUucHVibGljS2V5P3QudG9KU09OKGUucHVibGljS2V5KTp2b2lkIDApLHZvaWQgMCE9PWUuZGF0YSYmKGkuZGF0YT1lLmRhdGE/U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLnRvSlNPTihlLmRhdGEpOnZvaWQgMCksdm9pZCAwIT09ZS5zZXF1ZW5jZSYmKGkuc2VxdWVuY2U9KGUuc2VxdWVuY2V8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksaX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgaT1zKCk7cmV0dXJuIGkucHVibGljS2V5PXZvaWQgMCE9PWUucHVibGljS2V5JiZudWxsIT09ZS5wdWJsaWNLZXk/dC5mcm9tUGFydGlhbChlLnB1YmxpY0tleSk6dm9pZCAwLGkuZGF0YT12b2lkIDAhPT1lLmRhdGEmJm51bGwhPT1lLmRhdGE/U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLmZyb21QYXJ0aWFsKGUuZGF0YSk6dm9pZCAwLGkuc2VxdWVuY2U9dm9pZCAwIT09ZS5zZXF1ZW5jZSYmbnVsbCE9PWUuc2VxdWVuY2U/QmlnSW50KGUuc2VxdWVuY2UudG9TdHJpbmcoKSk6QmlnSW50KDApLGl9LGZyb21Qcm90b01zZzplPT5TaWduYXR1cmVEZXNjcmlwdG9yLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlNpZ25hdHVyZURlc2NyaXB0b3IuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy50eC5zaWduaW5nLnYxYmV0YTEuU2lnbmF0dXJlRGVzY3JpcHRvclwiLHZhbHVlOlNpZ25hdHVyZURlc2NyaXB0b3IuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5TaWduYXR1cmVEZXNjcmlwdG9yKFNpZ25hdHVyZURlc2NyaXB0b3IpO2NvbnN0IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YT17dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLkRhdGFcIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuc2luZ2xlJiZTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlLmVuY29kZShlLnNpbmdsZSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLm11bHRpJiZTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfTXVsdGkuZW5jb2RlKGUubXVsdGksdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgcj1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBvPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBuPXtzaW5nbGU6dm9pZCAwLG11bHRpOnZvaWQgMH07Zm9yKDtyLnBvczxvOyl7Y29uc3QgZT1yLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4uc2luZ2xlPVNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm4ubXVsdGk9U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHtzaW5nbGU6byhlLnNpbmdsZSk/U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZS5mcm9tSlNPTihlLnNpbmdsZSk6dm9pZCAwLG11bHRpOm8oZS5tdWx0aSk/U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLmZyb21KU09OKGUubXVsdGkpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnNpbmdsZSYmKHQuc2luZ2xlPWUuc2luZ2xlP1NpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUudG9KU09OKGUuc2luZ2xlKTp2b2lkIDApLHZvaWQgMCE9PWUubXVsdGkmJih0Lm11bHRpPWUubXVsdGk/U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLnRvSlNPTihlLm11bHRpKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3NpbmdsZTp2b2lkIDAsbXVsdGk6dm9pZCAwfTtyZXR1cm4gdC5zaW5nbGU9dm9pZCAwIT09ZS5zaW5nbGUmJm51bGwhPT1lLnNpbmdsZT9TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlLmZyb21QYXJ0aWFsKGUuc2luZ2xlKTp2b2lkIDAsdC5tdWx0aT12b2lkIDAhPT1lLm11bHRpJiZudWxsIT09ZS5tdWx0aT9TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfTXVsdGkuZnJvbVBhcnRpYWwoZS5tdWx0aSk6dm9pZCAwLHR9LGZyb21Qcm90b01zZzplPT5TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLkRhdGFcIix2YWx1ZTpTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEoU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhKTtmdW5jdGlvbiB1KCl7cmV0dXJue21vZGU6MCxzaWduYXR1cmU6bmV3IFVpbnQ4QXJyYXl9fWNvbnN0IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGU9e3R5cGVVcmw6XCIvY29zbW9zLnR4LnNpZ25pbmcudjFiZXRhMS5TaW5nbGVcIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KDAhPT1lLm1vZGUmJnQudWludDMyKDgpLmludDMyKGUubW9kZSksMCE9PWUuc2lnbmF0dXJlLmxlbmd0aCYmdC51aW50MzIoMTgpLmJ5dGVzKGUuc2lnbmF0dXJlKSx0KSxkZWNvZGUoZSx0KXtjb25zdCByPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IG89dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IG49dSgpO2Zvcig7ci5wb3M8bzspe2NvbnN0IGU9ci51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpuLm1vZGU9ci5pbnQzMigpO2JyZWFrO2Nhc2UgMjpuLnNpZ25hdHVyZT1yLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe21vZGU6byhlLm1vZGUpP3NpZ25Nb2RlRnJvbUpTT04oZS5tb2RlKTotMSxzaWduYXR1cmU6byhlLnNpZ25hdHVyZSk/bihlLnNpZ25hdHVyZSk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5tb2RlJiYodC5tb2RlPXNpZ25Nb2RlVG9KU09OKGUubW9kZSkpLHZvaWQgMCE9PWUuc2lnbmF0dXJlJiYodC5zaWduYXR1cmU9YSh2b2lkIDAhPT1lLnNpZ25hdHVyZT9lLnNpZ25hdHVyZTpuZXcgVWludDhBcnJheSkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9dSgpO3JldHVybiB0Lm1vZGU9ZS5tb2RlPz8wLHQuc2lnbmF0dXJlPWUuc2lnbmF0dXJlPz9uZXcgVWludDhBcnJheSx0fSxmcm9tUHJvdG9Nc2c6ZT0+U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLlNpbmdsZVwiLHZhbHVlOlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlKFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUpO2NvbnN0IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aT17dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLk11bHRpXCIsZW5jb2RlKHQsaT1yLmNyZWF0ZSgpKXt2b2lkIDAhPT10LmJpdGFycmF5JiZlLmVuY29kZSh0LmJpdGFycmF5LGkudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBlIG9mIHQuc2lnbmF0dXJlcylTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZW5jb2RlKGUsaS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGl9LGRlY29kZSh0LHIpe2NvbnN0IG89dCBpbnN0YW5jZW9mIGk/dDpuZXcgaSh0KTtsZXQgbj12b2lkIDA9PT1yP28ubGVuOm8ucG9zK3I7Y29uc3QgYT17Yml0YXJyYXk6dm9pZCAwLHNpZ25hdHVyZXM6W119O2Zvcig7by5wb3M8bjspe2NvbnN0IHQ9by51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTphLmJpdGFycmF5PWUuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmEuc2lnbmF0dXJlcy5wdXNoKFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmdCl9fXJldHVybiBhfSxmcm9tSlNPTjp0PT4oe2JpdGFycmF5Om8odC5iaXRhcnJheSk/ZS5mcm9tSlNPTih0LmJpdGFycmF5KTp2b2lkIDAsc2lnbmF0dXJlczpBcnJheS5pc0FycmF5KHQ/LnNpZ25hdHVyZXMpP3Quc2lnbmF0dXJlcy5tYXAoKGU9PlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGk9e307cmV0dXJuIHZvaWQgMCE9PXQuYml0YXJyYXkmJihpLmJpdGFycmF5PXQuYml0YXJyYXk/ZS50b0pTT04odC5iaXRhcnJheSk6dm9pZCAwKSx0LnNpZ25hdHVyZXM/aS5zaWduYXR1cmVzPXQuc2lnbmF0dXJlcy5tYXAoKGU9PmU/U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLnRvSlNPTihlKTp2b2lkIDApKTppLnNpZ25hdHVyZXM9W10saX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgaT17Yml0YXJyYXk6dm9pZCAwLHNpZ25hdHVyZXM6W119O3JldHVybiBpLmJpdGFycmF5PXZvaWQgMCE9PXQuYml0YXJyYXkmJm51bGwhPT10LmJpdGFycmF5P2UuZnJvbVBhcnRpYWwodC5iaXRhcnJheSk6dm9pZCAwLGkuc2lnbmF0dXJlcz10LnNpZ25hdHVyZXM/Lm1hcCgoZT0+U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLmZyb21QYXJ0aWFsKGUpKSl8fFtdLGl9LGZyb21Qcm90b01zZzplPT5TaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfTXVsdGkuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudHguc2lnbmluZy52MWJldGExLk11bHRpXCIsdmFsdWU6U2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpKFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6eyJTaWduTW9kZSI6WyJTaWduTW9kZSIsdHJ1ZV19LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU2lnbk1vZGVTREtUeXBlIjpbIlNpZ25Nb2RlU0RLVHlwZSJdLCJzaWduTW9kZUZyb21KU09OIjpbInNpZ25Nb2RlRnJvbUpTT04iXSwic2lnbk1vZGVUb0pTT04iOlsic2lnbk1vZGVUb0pTT04iXSwiU2lnbmF0dXJlRGVzY3JpcHRvcnMiOlsiU2lnbmF0dXJlRGVzY3JpcHRvcnMiXSwiU2lnbmF0dXJlRGVzY3JpcHRvciI6WyJTaWduYXR1cmVEZXNjcmlwdG9yIl0sIlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YSI6WyJTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEiXSwiU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZSI6WyJTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlIl0sIlNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aSI6WyJTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfTXVsdGkiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA2QSmM4tZAACLWQAAQAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3R4L3YxYmV0YTEvdHguanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uL3NpZ25pbmcvdjFiZXRhMS9zaWduaW5nLmpzIiwiLi4vLi4vY3J5cHRvL211bHRpc2lnL3YxYmV0YTEvbXVsdGlzaWcuanMiLCIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJBdXRoSW5mbyIsIkF1eFNpZ25lckRhdGEiLCJGZWUiLCJNb2RlSW5mbyIsIk1vZGVJbmZvX011bHRpIiwiTW9kZUluZm9fU2luZ2xlIiwiU2lnbkRvYyIsIlNpZ25Eb2NEaXJlY3RBdXgiLCJTaWduZXJJbmZvIiwiVGlwIiwiVHgiLCJUeEJvZHkiLCJUeFJhdyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG8sZSx0LG4saSxyLHMsYSxkLGMsdTskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi9zaWduaW5nL3YxYmV0YTEvc2lnbmluZy5qc1wiLCBbW1wiU2lnbk1vZGVcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcInNpZ25Nb2RlRnJvbUpTT05cIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dLFtcInNpZ25Nb2RlVG9KU09OXCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2NyeXB0by9tdWx0aXNpZy92MWJldGExL211bHRpc2lnLmpzXCIsIFtbXCJDb21wYWN0Qml0QXJyYXlcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKGQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGMgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAodSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBUeD17dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5UeFwiLGVuY29kZShvLGU9YS5jcmVhdGUoKSl7dm9pZCAwIT09by5ib2R5JiZUeEJvZHkuZW5jb2RlKG8uYm9keSxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1vLmF1dGhJbmZvJiZBdXRoSW5mby5lbmNvZGUoby5hdXRoSW5mbyxlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtmb3IoY29uc3QgdCBvZiBvLnNpZ25hdHVyZXMpZS51aW50MzIoMjYpLmJ5dGVzKHQpO3JldHVybiBlfSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9e2JvZHk6dm9pZCAwLGF1dGhJbmZvOnZvaWQgMCxzaWduYXR1cmVzOltdfTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5ib2R5PVR4Qm9keS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDI6aS5hdXRoSW5mbz1BdXRoSW5mby5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDM6aS5zaWduYXR1cmVzLnB1c2godC5ieXRlcygpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGZyb21KU09OOm89Pih7Ym9keTpkKG8uYm9keSk/VHhCb2R5LmZyb21KU09OKG8uYm9keSk6dm9pZCAwLGF1dGhJbmZvOmQoby5hdXRoSW5mbyk/QXV0aEluZm8uZnJvbUpTT04oby5hdXRoSW5mbyk6dm9pZCAwLHNpZ25hdHVyZXM6QXJyYXkuaXNBcnJheShvPy5zaWduYXR1cmVzKT9vLnNpZ25hdHVyZXMubWFwKChvPT5jKG8pKSk6W119KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5ib2R5JiYoZS5ib2R5PW8uYm9keT9UeEJvZHkudG9KU09OKG8uYm9keSk6dm9pZCAwKSx2b2lkIDAhPT1vLmF1dGhJbmZvJiYoZS5hdXRoSW5mbz1vLmF1dGhJbmZvP0F1dGhJbmZvLnRvSlNPTihvLmF1dGhJbmZvKTp2b2lkIDApLG8uc2lnbmF0dXJlcz9lLnNpZ25hdHVyZXM9by5zaWduYXR1cmVzLm1hcCgobz0+dSh2b2lkIDAhPT1vP286bmV3IFVpbnQ4QXJyYXkpKSk6ZS5zaWduYXR1cmVzPVtdLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2JvZHk6dm9pZCAwLGF1dGhJbmZvOnZvaWQgMCxzaWduYXR1cmVzOltdfTtyZXR1cm4gZS5ib2R5PXZvaWQgMCE9PW8uYm9keSYmbnVsbCE9PW8uYm9keT9UeEJvZHkuZnJvbVBhcnRpYWwoby5ib2R5KTp2b2lkIDAsZS5hdXRoSW5mbz12b2lkIDAhPT1vLmF1dGhJbmZvJiZudWxsIT09by5hdXRoSW5mbz9BdXRoSW5mby5mcm9tUGFydGlhbChvLmF1dGhJbmZvKTp2b2lkIDAsZS5zaWduYXR1cmVzPW8uc2lnbmF0dXJlcz8ubWFwKChvPT5vKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5UeC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5UeC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuVHhcIix2YWx1ZTpUeC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlR4KFR4KTtmdW5jdGlvbiBtKCl7cmV0dXJue2JvZHlCeXRlczpuZXcgVWludDhBcnJheSxhdXRoSW5mb0J5dGVzOm5ldyBVaW50OEFycmF5LHNpZ25hdHVyZXM6W119fWNvbnN0IFR4UmF3PXt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLlR4UmF3XCIsZW5jb2RlKG8sZT1hLmNyZWF0ZSgpKXswIT09by5ib2R5Qnl0ZXMubGVuZ3RoJiZlLnVpbnQzMigxMCkuYnl0ZXMoby5ib2R5Qnl0ZXMpLDAhPT1vLmF1dGhJbmZvQnl0ZXMubGVuZ3RoJiZlLnVpbnQzMigxOCkuYnl0ZXMoby5hdXRoSW5mb0J5dGVzKTtmb3IoY29uc3QgdCBvZiBvLnNpZ25hdHVyZXMpZS51aW50MzIoMjYpLmJ5dGVzKHQpO3JldHVybiBlfSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9bSgpO2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTppLmJvZHlCeXRlcz10LmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmkuYXV0aEluZm9CeXRlcz10LmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmkuc2lnbmF0dXJlcy5wdXNoKHQuYnl0ZXMoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe2JvZHlCeXRlczpkKG8uYm9keUJ5dGVzKT9jKG8uYm9keUJ5dGVzKTpuZXcgVWludDhBcnJheSxhdXRoSW5mb0J5dGVzOmQoby5hdXRoSW5mb0J5dGVzKT9jKG8uYXV0aEluZm9CeXRlcyk6bmV3IFVpbnQ4QXJyYXksc2lnbmF0dXJlczpBcnJheS5pc0FycmF5KG8/LnNpZ25hdHVyZXMpP28uc2lnbmF0dXJlcy5tYXAoKG89PmMobykpKTpbXX0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLmJvZHlCeXRlcyYmKGUuYm9keUJ5dGVzPXUodm9pZCAwIT09by5ib2R5Qnl0ZXM/by5ib2R5Qnl0ZXM6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1vLmF1dGhJbmZvQnl0ZXMmJihlLmF1dGhJbmZvQnl0ZXM9dSh2b2lkIDAhPT1vLmF1dGhJbmZvQnl0ZXM/by5hdXRoSW5mb0J5dGVzOm5ldyBVaW50OEFycmF5KSksby5zaWduYXR1cmVzP2Uuc2lnbmF0dXJlcz1vLnNpZ25hdHVyZXMubWFwKChvPT51KHZvaWQgMCE9PW8/bzpuZXcgVWludDhBcnJheSkpKTplLnNpZ25hdHVyZXM9W10sZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT1tKCk7cmV0dXJuIGUuYm9keUJ5dGVzPW8uYm9keUJ5dGVzPz9uZXcgVWludDhBcnJheSxlLmF1dGhJbmZvQnl0ZXM9by5hdXRoSW5mb0J5dGVzPz9uZXcgVWludDhBcnJheSxlLnNpZ25hdHVyZXM9by5zaWduYXR1cmVzPy5tYXAoKG89Pm8pKXx8W10sZX0sZnJvbVByb3RvTXNnOm89PlR4UmF3LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlR4UmF3LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5UeFJhd1wiLHZhbHVlOlR4UmF3LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuVHhSYXcoVHhSYXcpO2Z1bmN0aW9uIGYoKXtyZXR1cm57Ym9keUJ5dGVzOm5ldyBVaW50OEFycmF5LGF1dGhJbmZvQnl0ZXM6bmV3IFVpbnQ4QXJyYXksY2hhaW5JZDpcIlwiLGFjY291bnROdW1iZXI6QmlnSW50KDApfX1jb25zdCBTaWduRG9jPXt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLlNpZ25Eb2NcIixlbmNvZGU6KG8sZT1hLmNyZWF0ZSgpKT0+KDAhPT1vLmJvZHlCeXRlcy5sZW5ndGgmJmUudWludDMyKDEwKS5ieXRlcyhvLmJvZHlCeXRlcyksMCE9PW8uYXV0aEluZm9CeXRlcy5sZW5ndGgmJmUudWludDMyKDE4KS5ieXRlcyhvLmF1dGhJbmZvQnl0ZXMpLFwiXCIhPT1vLmNoYWluSWQmJmUudWludDMyKDI2KS5zdHJpbmcoby5jaGFpbklkKSxvLmFjY291bnROdW1iZXIhPT1CaWdJbnQoMCkmJmUudWludDMyKDMyKS51aW50NjQoby5hY2NvdW50TnVtYmVyKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9ZigpO2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTppLmJvZHlCeXRlcz10LmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmkuYXV0aEluZm9CeXRlcz10LmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmkuY2hhaW5JZD10LnN0cmluZygpO2JyZWFrO2Nhc2UgNDppLmFjY291bnROdW1iZXI9dC51aW50NjQoKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGZyb21KU09OOm89Pih7Ym9keUJ5dGVzOmQoby5ib2R5Qnl0ZXMpP2Moby5ib2R5Qnl0ZXMpOm5ldyBVaW50OEFycmF5LGF1dGhJbmZvQnl0ZXM6ZChvLmF1dGhJbmZvQnl0ZXMpP2Moby5hdXRoSW5mb0J5dGVzKTpuZXcgVWludDhBcnJheSxjaGFpbklkOmQoby5jaGFpbklkKT9TdHJpbmcoby5jaGFpbklkKTpcIlwiLGFjY291bnROdW1iZXI6ZChvLmFjY291bnROdW1iZXIpP0JpZ0ludChvLmFjY291bnROdW1iZXIudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uYm9keUJ5dGVzJiYoZS5ib2R5Qnl0ZXM9dSh2b2lkIDAhPT1vLmJvZHlCeXRlcz9vLmJvZHlCeXRlczpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PW8uYXV0aEluZm9CeXRlcyYmKGUuYXV0aEluZm9CeXRlcz11KHZvaWQgMCE9PW8uYXV0aEluZm9CeXRlcz9vLmF1dGhJbmZvQnl0ZXM6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1vLmNoYWluSWQmJihlLmNoYWluSWQ9by5jaGFpbklkKSx2b2lkIDAhPT1vLmFjY291bnROdW1iZXImJihlLmFjY291bnROdW1iZXI9KG8uYWNjb3VudE51bWJlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPWYoKTtyZXR1cm4gZS5ib2R5Qnl0ZXM9by5ib2R5Qnl0ZXM/P25ldyBVaW50OEFycmF5LGUuYXV0aEluZm9CeXRlcz1vLmF1dGhJbmZvQnl0ZXM/P25ldyBVaW50OEFycmF5LGUuY2hhaW5JZD1vLmNoYWluSWQ/P1wiXCIsZS5hY2NvdW50TnVtYmVyPXZvaWQgMCE9PW8uYWNjb3VudE51bWJlciYmbnVsbCE9PW8uYWNjb3VudE51bWJlcj9CaWdJbnQoby5hY2NvdW50TnVtYmVyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxlfSxmcm9tUHJvdG9Nc2c6bz0+U2lnbkRvYy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5TaWduRG9jLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5TaWduRG9jXCIsdmFsdWU6U2lnbkRvYy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlNpZ25Eb2MoU2lnbkRvYyk7ZnVuY3Rpb24gbCgpe3JldHVybntib2R5Qnl0ZXM6bmV3IFVpbnQ4QXJyYXkscHVibGljS2V5OnZvaWQgMCxjaGFpbklkOlwiXCIsYWNjb3VudE51bWJlcjpCaWdJbnQoMCksc2VxdWVuY2U6QmlnSW50KDApLHRpcDp2b2lkIDB9fWNvbnN0IFNpZ25Eb2NEaXJlY3RBdXg9e3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuU2lnbkRvY0RpcmVjdEF1eFwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oMCE9PWUuYm9keUJ5dGVzLmxlbmd0aCYmdC51aW50MzIoMTApLmJ5dGVzKGUuYm9keUJ5dGVzKSx2b2lkIDAhPT1lLnB1YmxpY0tleSYmby5lbmNvZGUoZS5wdWJsaWNLZXksdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PWUuY2hhaW5JZCYmdC51aW50MzIoMjYpLnN0cmluZyhlLmNoYWluSWQpLGUuYWNjb3VudE51bWJlciE9PUJpZ0ludCgwKSYmdC51aW50MzIoMzIpLnVpbnQ2NChlLmFjY291bnROdW1iZXIpLGUuc2VxdWVuY2UhPT1CaWdJbnQoMCkmJnQudWludDMyKDQwKS51aW50NjQoZS5zZXF1ZW5jZSksdm9pZCAwIT09ZS50aXAmJlRpcC5lbmNvZGUoZS50aXAsdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCByPWwoKTtmb3IoO24ucG9zPGk7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5ib2R5Qnl0ZXM9bi5ieXRlcygpO2JyZWFrO2Nhc2UgMjpyLnB1YmxpY0tleT1vLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMzpyLmNoYWluSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDQ6ci5hY2NvdW50TnVtYmVyPW4udWludDY0KCk7YnJlYWs7Y2FzZSA1OnIuc2VxdWVuY2U9bi51aW50NjQoKTticmVhaztjYXNlIDY6ci50aXA9VGlwLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtib2R5Qnl0ZXM6ZChlLmJvZHlCeXRlcyk/YyhlLmJvZHlCeXRlcyk6bmV3IFVpbnQ4QXJyYXkscHVibGljS2V5OmQoZS5wdWJsaWNLZXkpP28uZnJvbUpTT04oZS5wdWJsaWNLZXkpOnZvaWQgMCxjaGFpbklkOmQoZS5jaGFpbklkKT9TdHJpbmcoZS5jaGFpbklkKTpcIlwiLGFjY291bnROdW1iZXI6ZChlLmFjY291bnROdW1iZXIpP0JpZ0ludChlLmFjY291bnROdW1iZXIudG9TdHJpbmcoKSk6QmlnSW50KDApLHNlcXVlbmNlOmQoZS5zZXF1ZW5jZSk/QmlnSW50KGUuc2VxdWVuY2UudG9TdHJpbmcoKSk6QmlnSW50KDApLHRpcDpkKGUudGlwKT9UaXAuZnJvbUpTT04oZS50aXApOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmJvZHlCeXRlcyYmKHQuYm9keUJ5dGVzPXUodm9pZCAwIT09ZS5ib2R5Qnl0ZXM/ZS5ib2R5Qnl0ZXM6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnB1YmxpY0tleSYmKHQucHVibGljS2V5PWUucHVibGljS2V5P28udG9KU09OKGUucHVibGljS2V5KTp2b2lkIDApLHZvaWQgMCE9PWUuY2hhaW5JZCYmKHQuY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUuYWNjb3VudE51bWJlciYmKHQuYWNjb3VudE51bWJlcj0oZS5hY2NvdW50TnVtYmVyfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUuc2VxdWVuY2UmJih0LnNlcXVlbmNlPShlLnNlcXVlbmNlfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUudGlwJiYodC50aXA9ZS50aXA/VGlwLnRvSlNPTihlLnRpcCk6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWwoKTtyZXR1cm4gdC5ib2R5Qnl0ZXM9ZS5ib2R5Qnl0ZXM/P25ldyBVaW50OEFycmF5LHQucHVibGljS2V5PXZvaWQgMCE9PWUucHVibGljS2V5JiZudWxsIT09ZS5wdWJsaWNLZXk/by5mcm9tUGFydGlhbChlLnB1YmxpY0tleSk6dm9pZCAwLHQuY2hhaW5JZD1lLmNoYWluSWQ/P1wiXCIsdC5hY2NvdW50TnVtYmVyPXZvaWQgMCE9PWUuYWNjb3VudE51bWJlciYmbnVsbCE9PWUuYWNjb3VudE51bWJlcj9CaWdJbnQoZS5hY2NvdW50TnVtYmVyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LnNlcXVlbmNlPXZvaWQgMCE9PWUuc2VxdWVuY2UmJm51bGwhPT1lLnNlcXVlbmNlP0JpZ0ludChlLnNlcXVlbmNlLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LnRpcD12b2lkIDAhPT1lLnRpcCYmbnVsbCE9PWUudGlwP1RpcC5mcm9tUGFydGlhbChlLnRpcCk6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5TaWduRG9jRGlyZWN0QXV4LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlNpZ25Eb2NEaXJlY3RBdXguZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLlNpZ25Eb2NEaXJlY3RBdXhcIix2YWx1ZTpTaWduRG9jRGlyZWN0QXV4LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuU2lnbkRvY0RpcmVjdEF1eChTaWduRG9jRGlyZWN0QXV4KTtmdW5jdGlvbiBnKCl7cmV0dXJue21lc3NhZ2VzOltdLG1lbW86XCJcIix0aW1lb3V0SGVpZ2h0OkJpZ0ludCgwKSxleHRlbnNpb25PcHRpb25zOltdLG5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9uczpbXX19Y29uc3QgVHhCb2R5PXt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLlR4Qm9keVwiLGVuY29kZShlLHQ9YS5jcmVhdGUoKSl7Zm9yKGNvbnN0IG4gb2YgZS5tZXNzYWdlcylvLmVuY29kZShuLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1wiXCIhPT1lLm1lbW8mJnQudWludDMyKDE4KS5zdHJpbmcoZS5tZW1vKSxlLnRpbWVvdXRIZWlnaHQhPT1CaWdJbnQoMCkmJnQudWludDMyKDI0KS51aW50NjQoZS50aW1lb3V0SGVpZ2h0KTtmb3IoY29uc3QgbiBvZiBlLmV4dGVuc2lvbk9wdGlvbnMpby5lbmNvZGUobix0LnVpbnQzMig4MTg2KS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBuIG9mIGUubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zKW8uZW5jb2RlKG4sdC51aW50MzIoMTYzNzgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3Qgcj1nKCk7Zm9yKDtuLnBvczxpOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIubWVzc2FnZXMucHVzaChvLmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztjYXNlIDI6ci5tZW1vPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOnIudGltZW91dEhlaWdodD1uLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMTAyMzpyLmV4dGVuc2lvbk9wdGlvbnMucHVzaChvLmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztjYXNlIDIwNDc6ci5ub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnMucHVzaChvLmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7bWVzc2FnZXM6QXJyYXkuaXNBcnJheShlPy5tZXNzYWdlcyk/ZS5tZXNzYWdlcy5tYXAoKGU9Pm8uZnJvbUpTT04oZSkpKTpbXSxtZW1vOmQoZS5tZW1vKT9TdHJpbmcoZS5tZW1vKTpcIlwiLHRpbWVvdXRIZWlnaHQ6ZChlLnRpbWVvdXRIZWlnaHQpP0JpZ0ludChlLnRpbWVvdXRIZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLGV4dGVuc2lvbk9wdGlvbnM6QXJyYXkuaXNBcnJheShlPy5leHRlbnNpb25PcHRpb25zKT9lLmV4dGVuc2lvbk9wdGlvbnMubWFwKChlPT5vLmZyb21KU09OKGUpKSk6W10sbm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zOkFycmF5LmlzQXJyYXkoZT8ubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zKT9lLm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucy5tYXAoKGU9Pm8uZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLm1lc3NhZ2VzP3QubWVzc2FnZXM9ZS5tZXNzYWdlcy5tYXAoKGU9PmU/by50b0pTT04oZSk6dm9pZCAwKSk6dC5tZXNzYWdlcz1bXSx2b2lkIDAhPT1lLm1lbW8mJih0Lm1lbW89ZS5tZW1vKSx2b2lkIDAhPT1lLnRpbWVvdXRIZWlnaHQmJih0LnRpbWVvdXRIZWlnaHQ9KGUudGltZW91dEhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSxlLmV4dGVuc2lvbk9wdGlvbnM/dC5leHRlbnNpb25PcHRpb25zPWUuZXh0ZW5zaW9uT3B0aW9ucy5tYXAoKGU9PmU/by50b0pTT04oZSk6dm9pZCAwKSk6dC5leHRlbnNpb25PcHRpb25zPVtdLGUubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zP3Qubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zPWUubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zLm1hcCgoZT0+ZT9vLnRvSlNPTihlKTp2b2lkIDApKTp0Lm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWcoKTtyZXR1cm4gdC5tZXNzYWdlcz1lLm1lc3NhZ2VzPy5tYXAoKGU9Pm8uZnJvbVBhcnRpYWwoZSkpKXx8W10sdC5tZW1vPWUubWVtbz8/XCJcIix0LnRpbWVvdXRIZWlnaHQ9dm9pZCAwIT09ZS50aW1lb3V0SGVpZ2h0JiZudWxsIT09ZS50aW1lb3V0SGVpZ2h0P0JpZ0ludChlLnRpbWVvdXRIZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQuZXh0ZW5zaW9uT3B0aW9ucz1lLmV4dGVuc2lvbk9wdGlvbnM/Lm1hcCgoZT0+by5mcm9tUGFydGlhbChlKSkpfHxbXSx0Lm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucz1lLm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucz8ubWFwKChlPT5vLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzpvPT5UeEJvZHkuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+VHhCb2R5LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5UeEJvZHlcIix2YWx1ZTpUeEJvZHkuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5UeEJvZHkoVHhCb2R5KTtjb25zdCBBdXRoSW5mbz17dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5BdXRoSW5mb1wiLGVuY29kZShvLGU9YS5jcmVhdGUoKSl7Zm9yKGNvbnN0IHQgb2Ygby5zaWduZXJJbmZvcylTaWduZXJJbmZvLmVuY29kZSh0LGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLmZlZSYmRmVlLmVuY29kZShvLmZlZSxlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1vLnRpcCYmVGlwLmVuY29kZShvLnRpcCxlLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxlfSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9e3NpZ25lckluZm9zOltdLGZlZTp2b2lkIDAsdGlwOnZvaWQgMH07Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkuc2lnbmVySW5mb3MucHVzaChTaWduZXJJbmZvLmRlY29kZSh0LHQudWludDMyKCkpKTticmVhaztjYXNlIDI6aS5mZWU9RmVlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMzppLnRpcD1UaXAuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe3NpZ25lckluZm9zOkFycmF5LmlzQXJyYXkobz8uc2lnbmVySW5mb3MpP28uc2lnbmVySW5mb3MubWFwKChvPT5TaWduZXJJbmZvLmZyb21KU09OKG8pKSk6W10sZmVlOmQoby5mZWUpP0ZlZS5mcm9tSlNPTihvLmZlZSk6dm9pZCAwLHRpcDpkKG8udGlwKT9UaXAuZnJvbUpTT04oby50aXApOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiBvLnNpZ25lckluZm9zP2Uuc2lnbmVySW5mb3M9by5zaWduZXJJbmZvcy5tYXAoKG89Pm8/U2lnbmVySW5mby50b0pTT04obyk6dm9pZCAwKSk6ZS5zaWduZXJJbmZvcz1bXSx2b2lkIDAhPT1vLmZlZSYmKGUuZmVlPW8uZmVlP0ZlZS50b0pTT04oby5mZWUpOnZvaWQgMCksdm9pZCAwIT09by50aXAmJihlLnRpcD1vLnRpcD9UaXAudG9KU09OKG8udGlwKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e3NpZ25lckluZm9zOltdLGZlZTp2b2lkIDAsdGlwOnZvaWQgMH07cmV0dXJuIGUuc2lnbmVySW5mb3M9by5zaWduZXJJbmZvcz8ubWFwKChvPT5TaWduZXJJbmZvLmZyb21QYXJ0aWFsKG8pKSl8fFtdLGUuZmVlPXZvaWQgMCE9PW8uZmVlJiZudWxsIT09by5mZWU/RmVlLmZyb21QYXJ0aWFsKG8uZmVlKTp2b2lkIDAsZS50aXA9dm9pZCAwIT09by50aXAmJm51bGwhPT1vLnRpcD9UaXAuZnJvbVBhcnRpYWwoby50aXApOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+QXV0aEluZm8uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+QXV0aEluZm8uZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLkF1dGhJbmZvXCIsdmFsdWU6QXV0aEluZm8uZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5BdXRoSW5mbyhBdXRoSW5mbyk7ZnVuY3Rpb24geSgpe3JldHVybntwdWJsaWNLZXk6dm9pZCAwLG1vZGVJbmZvOnZvaWQgMCxzZXF1ZW5jZTpCaWdJbnQoMCl9fWNvbnN0IFNpZ25lckluZm89e3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuU2lnbmVySW5mb1wiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5wdWJsaWNLZXkmJm8uZW5jb2RlKGUucHVibGljS2V5LHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUubW9kZUluZm8mJk1vZGVJbmZvLmVuY29kZShlLm1vZGVJbmZvLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUuc2VxdWVuY2UhPT1CaWdJbnQoMCkmJnQudWludDMyKDI0KS51aW50NjQoZS5zZXF1ZW5jZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCByPXkoKTtmb3IoO24ucG9zPGk7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5wdWJsaWNLZXk9by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDI6ci5tb2RlSW5mbz1Nb2RlSW5mby5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDM6ci5zZXF1ZW5jZT1uLnVpbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtwdWJsaWNLZXk6ZChlLnB1YmxpY0tleSk/by5mcm9tSlNPTihlLnB1YmxpY0tleSk6dm9pZCAwLG1vZGVJbmZvOmQoZS5tb2RlSW5mbyk/TW9kZUluZm8uZnJvbUpTT04oZS5tb2RlSW5mbyk6dm9pZCAwLHNlcXVlbmNlOmQoZS5zZXF1ZW5jZSk/QmlnSW50KGUuc2VxdWVuY2UudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUucHVibGljS2V5JiYodC5wdWJsaWNLZXk9ZS5wdWJsaWNLZXk/by50b0pTT04oZS5wdWJsaWNLZXkpOnZvaWQgMCksdm9pZCAwIT09ZS5tb2RlSW5mbyYmKHQubW9kZUluZm89ZS5tb2RlSW5mbz9Nb2RlSW5mby50b0pTT04oZS5tb2RlSW5mbyk6dm9pZCAwKSx2b2lkIDAhPT1lLnNlcXVlbmNlJiYodC5zZXF1ZW5jZT0oZS5zZXF1ZW5jZXx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXkoKTtyZXR1cm4gdC5wdWJsaWNLZXk9dm9pZCAwIT09ZS5wdWJsaWNLZXkmJm51bGwhPT1lLnB1YmxpY0tleT9vLmZyb21QYXJ0aWFsKGUucHVibGljS2V5KTp2b2lkIDAsdC5tb2RlSW5mbz12b2lkIDAhPT1lLm1vZGVJbmZvJiZudWxsIT09ZS5tb2RlSW5mbz9Nb2RlSW5mby5mcm9tUGFydGlhbChlLm1vZGVJbmZvKTp2b2lkIDAsdC5zZXF1ZW5jZT12b2lkIDAhPT1lLnNlcXVlbmNlJiZudWxsIT09ZS5zZXF1ZW5jZT9CaWdJbnQoZS5zZXF1ZW5jZS50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOm89PlNpZ25lckluZm8uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+U2lnbmVySW5mby5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuU2lnbmVySW5mb1wiLHZhbHVlOlNpZ25lckluZm8uZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5TaWduZXJJbmZvKFNpZ25lckluZm8pO2NvbnN0IE1vZGVJbmZvPXt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLk1vZGVJbmZvXCIsZW5jb2RlOihvLGU9YS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLnNpbmdsZSYmTW9kZUluZm9fU2luZ2xlLmVuY29kZShvLnNpbmdsZSxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1vLm11bHRpJiZNb2RlSW5mb19NdWx0aS5lbmNvZGUoby5tdWx0aSxlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9e3NpbmdsZTp2b2lkIDAsbXVsdGk6dm9pZCAwfTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5zaW5nbGU9TW9kZUluZm9fU2luZ2xlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMjppLm11bHRpPU1vZGVJbmZvX011bHRpLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHtzaW5nbGU6ZChvLnNpbmdsZSk/TW9kZUluZm9fU2luZ2xlLmZyb21KU09OKG8uc2luZ2xlKTp2b2lkIDAsbXVsdGk6ZChvLm11bHRpKT9Nb2RlSW5mb19NdWx0aS5mcm9tSlNPTihvLm11bHRpKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5zaW5nbGUmJihlLnNpbmdsZT1vLnNpbmdsZT9Nb2RlSW5mb19TaW5nbGUudG9KU09OKG8uc2luZ2xlKTp2b2lkIDApLHZvaWQgMCE9PW8ubXVsdGkmJihlLm11bHRpPW8ubXVsdGk/TW9kZUluZm9fTXVsdGkudG9KU09OKG8ubXVsdGkpOnZvaWQgMCksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT17c2luZ2xlOnZvaWQgMCxtdWx0aTp2b2lkIDB9O3JldHVybiBlLnNpbmdsZT12b2lkIDAhPT1vLnNpbmdsZSYmbnVsbCE9PW8uc2luZ2xlP01vZGVJbmZvX1NpbmdsZS5mcm9tUGFydGlhbChvLnNpbmdsZSk6dm9pZCAwLGUubXVsdGk9dm9pZCAwIT09by5tdWx0aSYmbnVsbCE9PW8ubXVsdGk/TW9kZUluZm9fTXVsdGkuZnJvbVBhcnRpYWwoby5tdWx0aSk6dm9pZCAwLGV9LGZyb21Qcm90b01zZzpvPT5Nb2RlSW5mby5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nb2RlSW5mby5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuTW9kZUluZm9cIix2YWx1ZTpNb2RlSW5mby5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1vZGVJbmZvKE1vZGVJbmZvKTtjb25zdCBNb2RlSW5mb19TaW5nbGU9e3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuU2luZ2xlXCIsZW5jb2RlOihvLGU9YS5jcmVhdGUoKSk9PigwIT09by5tb2RlJiZlLnVpbnQzMig4KS5pbnQzMihvLm1vZGUpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIHM/bzpuZXcgcyhvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgaT17bW9kZTowfTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7aWYobz4+PjM9PTEpaS5tb2RlPXQuaW50MzIoKTtlbHNlIHQuc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHttb2RlOmQoby5tb2RlKT90KG8ubW9kZSk6LTF9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5tb2RlJiYoZS5tb2RlPW4oby5tb2RlKSksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT17bW9kZTowfTtyZXR1cm4gZS5tb2RlPW8ubW9kZT8/MCxlfSxmcm9tUHJvdG9Nc2c6bz0+TW9kZUluZm9fU2luZ2xlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1vZGVJbmZvX1NpbmdsZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuU2luZ2xlXCIsdmFsdWU6TW9kZUluZm9fU2luZ2xlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTW9kZUluZm9fU2luZ2xlKE1vZGVJbmZvX1NpbmdsZSk7Y29uc3QgTW9kZUluZm9fTXVsdGk9e3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuTXVsdGlcIixlbmNvZGUobyxlPWEuY3JlYXRlKCkpe3ZvaWQgMCE9PW8uYml0YXJyYXkmJmkuZW5jb2RlKG8uYml0YXJyYXksZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7Zm9yKGNvbnN0IHQgb2Ygby5tb2RlSW5mb3MpTW9kZUluZm8uZW5jb2RlKHQsZS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIHM/bzpuZXcgcyhvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3Qgcj17Yml0YXJyYXk6dm9pZCAwLG1vZGVJbmZvczpbXX07Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIuYml0YXJyYXk9aS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDI6ci5tb2RlSW5mb3MucHVzaChNb2RlSW5mby5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe2JpdGFycmF5OmQoby5iaXRhcnJheSk/aS5mcm9tSlNPTihvLmJpdGFycmF5KTp2b2lkIDAsbW9kZUluZm9zOkFycmF5LmlzQXJyYXkobz8ubW9kZUluZm9zKT9vLm1vZGVJbmZvcy5tYXAoKG89Pk1vZGVJbmZvLmZyb21KU09OKG8pKSk6W119KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5iaXRhcnJheSYmKGUuYml0YXJyYXk9by5iaXRhcnJheT9pLnRvSlNPTihvLmJpdGFycmF5KTp2b2lkIDApLG8ubW9kZUluZm9zP2UubW9kZUluZm9zPW8ubW9kZUluZm9zLm1hcCgobz0+bz9Nb2RlSW5mby50b0pTT04obyk6dm9pZCAwKSk6ZS5tb2RlSW5mb3M9W10sZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT17Yml0YXJyYXk6dm9pZCAwLG1vZGVJbmZvczpbXX07cmV0dXJuIGUuYml0YXJyYXk9dm9pZCAwIT09by5iaXRhcnJheSYmbnVsbCE9PW8uYml0YXJyYXk/aS5mcm9tUGFydGlhbChvLmJpdGFycmF5KTp2b2lkIDAsZS5tb2RlSW5mb3M9by5tb2RlSW5mb3M/Lm1hcCgobz0+TW9kZUluZm8uZnJvbVBhcnRpYWwobykpKXx8W10sZX0sZnJvbVByb3RvTXNnOm89Pk1vZGVJbmZvX011bHRpLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1vZGVJbmZvX011bHRpLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5NdWx0aVwiLHZhbHVlOk1vZGVJbmZvX011bHRpLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTW9kZUluZm9fTXVsdGkoTW9kZUluZm9fTXVsdGkpO2Z1bmN0aW9uIHAoKXtyZXR1cm57YW1vdW50OltdLGdhc0xpbWl0OkJpZ0ludCgwKSxwYXllcjpcIlwiLGdyYW50ZXI6XCJcIn19Y29uc3QgRmVlPXt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLkZlZVwiLGVuY29kZShvLGU9YS5jcmVhdGUoKSl7Zm9yKGNvbnN0IHQgb2Ygby5hbW91bnQpci5lbmNvZGUodCxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gby5nYXNMaW1pdCE9PUJpZ0ludCgwKSYmZS51aW50MzIoMTYpLnVpbnQ2NChvLmdhc0xpbWl0KSxcIlwiIT09by5wYXllciYmZS51aW50MzIoMjYpLnN0cmluZyhvLnBheWVyKSxcIlwiIT09by5ncmFudGVyJiZlLnVpbnQzMigzNCkuc3RyaW5nKG8uZ3JhbnRlciksZX0sZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2Ygcz9vOm5ldyBzKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBpPXAoKTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5hbW91bnQucHVzaChyLmRlY29kZSh0LHQudWludDMyKCkpKTticmVhaztjYXNlIDI6aS5nYXNMaW1pdD10LnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMzppLnBheWVyPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmkuZ3JhbnRlcj10LnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHthbW91bnQ6QXJyYXkuaXNBcnJheShvPy5hbW91bnQpP28uYW1vdW50Lm1hcCgobz0+ci5mcm9tSlNPTihvKSkpOltdLGdhc0xpbWl0OmQoby5nYXNMaW1pdCk/QmlnSW50KG8uZ2FzTGltaXQudG9TdHJpbmcoKSk6QmlnSW50KDApLHBheWVyOmQoby5wYXllcik/U3RyaW5nKG8ucGF5ZXIpOlwiXCIsZ3JhbnRlcjpkKG8uZ3JhbnRlcik/U3RyaW5nKG8uZ3JhbnRlcik6XCJcIn0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiBvLmFtb3VudD9lLmFtb3VudD1vLmFtb3VudC5tYXAoKG89Pm8/ci50b0pTT04obyk6dm9pZCAwKSk6ZS5hbW91bnQ9W10sdm9pZCAwIT09by5nYXNMaW1pdCYmKGUuZ2FzTGltaXQ9KG8uZ2FzTGltaXR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09by5wYXllciYmKGUucGF5ZXI9by5wYXllciksdm9pZCAwIT09by5ncmFudGVyJiYoZS5ncmFudGVyPW8uZ3JhbnRlciksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT1wKCk7cmV0dXJuIGUuYW1vdW50PW8uYW1vdW50Py5tYXAoKG89PnIuZnJvbVBhcnRpYWwobykpKXx8W10sZS5nYXNMaW1pdD12b2lkIDAhPT1vLmdhc0xpbWl0JiZudWxsIT09by5nYXNMaW1pdD9CaWdJbnQoby5nYXNMaW1pdC50b1N0cmluZygpKTpCaWdJbnQoMCksZS5wYXllcj1vLnBheWVyPz9cIlwiLGUuZ3JhbnRlcj1vLmdyYW50ZXI/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89PkZlZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5GZWUuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLkZlZVwiLHZhbHVlOkZlZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkZlZShGZWUpO2NvbnN0IFRpcD17dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5UaXBcIixlbmNvZGUobyxlPWEuY3JlYXRlKCkpe2Zvcihjb25zdCB0IG9mIG8uYW1vdW50KXIuZW5jb2RlKHQsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuXCJcIiE9PW8udGlwcGVyJiZlLnVpbnQzMigxOCkuc3RyaW5nKG8udGlwcGVyKSxlfSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9e2Ftb3VudDpbXSx0aXBwZXI6XCJcIn07Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkuYW1vdW50LnB1c2goci5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmkudGlwcGVyPXQuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe2Ftb3VudDpBcnJheS5pc0FycmF5KG8/LmFtb3VudCk/by5hbW91bnQubWFwKChvPT5yLmZyb21KU09OKG8pKSk6W10sdGlwcGVyOmQoby50aXBwZXIpP1N0cmluZyhvLnRpcHBlcik6XCJcIn0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiBvLmFtb3VudD9lLmFtb3VudD1vLmFtb3VudC5tYXAoKG89Pm8/ci50b0pTT04obyk6dm9pZCAwKSk6ZS5hbW91bnQ9W10sdm9pZCAwIT09by50aXBwZXImJihlLnRpcHBlcj1vLnRpcHBlciksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT17YW1vdW50OltdLHRpcHBlcjpcIlwifTtyZXR1cm4gZS5hbW91bnQ9by5hbW91bnQ/Lm1hcCgobz0+ci5mcm9tUGFydGlhbChvKSkpfHxbXSxlLnRpcHBlcj1vLnRpcHBlcj8/XCJcIixlfSxmcm9tUHJvdG9Nc2c6bz0+VGlwLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlRpcC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnR4LnYxYmV0YTEuVGlwXCIsdmFsdWU6VGlwLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuVGlwKFRpcCk7ZnVuY3Rpb24gYigpe3JldHVybnthZGRyZXNzOlwiXCIsc2lnbkRvYzp2b2lkIDAsbW9kZTowLHNpZzpuZXcgVWludDhBcnJheX19Y29uc3QgQXV4U2lnbmVyRGF0YT17dHlwZVVybDpcIi9jb3Ntb3MudHgudjFiZXRhMS5BdXhTaWduZXJEYXRhXCIsZW5jb2RlOihvLGU9YS5jcmVhdGUoKSk9PihcIlwiIT09by5hZGRyZXNzJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8uYWRkcmVzcyksdm9pZCAwIT09by5zaWduRG9jJiZTaWduRG9jRGlyZWN0QXV4LmVuY29kZShvLnNpZ25Eb2MsZS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksMCE9PW8ubW9kZSYmZS51aW50MzIoMjQpLmludDMyKG8ubW9kZSksMCE9PW8uc2lnLmxlbmd0aCYmZS51aW50MzIoMzQpLmJ5dGVzKG8uc2lnKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGk9YigpO2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTppLmFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5zaWduRG9jPVNpZ25Eb2NEaXJlY3RBdXguZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmkubW9kZT10LmludDMyKCk7YnJlYWs7Y2FzZSA0Omkuc2lnPXQuYnl0ZXMoKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGZyb21KU09OOm89Pih7YWRkcmVzczpkKG8uYWRkcmVzcyk/U3RyaW5nKG8uYWRkcmVzcyk6XCJcIixzaWduRG9jOmQoby5zaWduRG9jKT9TaWduRG9jRGlyZWN0QXV4LmZyb21KU09OKG8uc2lnbkRvYyk6dm9pZCAwLG1vZGU6ZChvLm1vZGUpP3Qoby5tb2RlKTotMSxzaWc6ZChvLnNpZyk/YyhvLnNpZyk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5hZGRyZXNzJiYoZS5hZGRyZXNzPW8uYWRkcmVzcyksdm9pZCAwIT09by5zaWduRG9jJiYoZS5zaWduRG9jPW8uc2lnbkRvYz9TaWduRG9jRGlyZWN0QXV4LnRvSlNPTihvLnNpZ25Eb2MpOnZvaWQgMCksdm9pZCAwIT09by5tb2RlJiYoZS5tb2RlPW4oby5tb2RlKSksdm9pZCAwIT09by5zaWcmJihlLnNpZz11KHZvaWQgMCE9PW8uc2lnP28uc2lnOm5ldyBVaW50OEFycmF5KSksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT1iKCk7cmV0dXJuIGUuYWRkcmVzcz1vLmFkZHJlc3M/P1wiXCIsZS5zaWduRG9jPXZvaWQgMCE9PW8uc2lnbkRvYyYmbnVsbCE9PW8uc2lnbkRvYz9TaWduRG9jRGlyZWN0QXV4LmZyb21QYXJ0aWFsKG8uc2lnbkRvYyk6dm9pZCAwLGUubW9kZT1vLm1vZGU/PzAsZS5zaWc9by5zaWc/P25ldyBVaW50OEFycmF5LGV9LGZyb21Qcm90b01zZzpvPT5BdXhTaWduZXJEYXRhLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkF1eFNpZ25lckRhdGEuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy50eC52MWJldGExLkF1eFNpZ25lckRhdGFcIix2YWx1ZTpBdXhTaWduZXJEYXRhLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuQXV4U2lnbmVyRGF0YShBdXhTaWduZXJEYXRhKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlR4IjpbIlR4Il0sIlR4UmF3IjpbIlR4UmF3Il0sIlNpZ25Eb2MiOlsiU2lnbkRvYyJdLCJTaWduRG9jRGlyZWN0QXV4IjpbIlNpZ25Eb2NEaXJlY3RBdXgiXSwiVHhCb2R5IjpbIlR4Qm9keSJdLCJBdXRoSW5mbyI6WyJBdXRoSW5mbyJdLCJTaWduZXJJbmZvIjpbIlNpZ25lckluZm8iXSwiTW9kZUluZm8iOlsiTW9kZUluZm8iXSwiTW9kZUluZm9fU2luZ2xlIjpbIk1vZGVJbmZvX1NpbmdsZSJdLCJNb2RlSW5mb19NdWx0aSI6WyJNb2RlSW5mb19NdWx0aSJdLCJGZWUiOlsiRmVlIl0sIlRpcCI6WyJUaXAiXSwiQXV4U2lnbmVyRGF0YSI6WyJBdXhTaWduZXJEYXRhIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABYIltkTHQAAEx0AAEoAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy91cGdyYWRlL3YxYmV0YTEvdXBncmFkZS5qc3siaW1wb3J0cyI6WyIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzIiwiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJDYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCIsIk1vZHVsZVZlcnNpb24iLCJQbGFuIiwiU29mdHdhcmVVcGdyYWRlUHJvcG9zYWwiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHQsbyxpLG4scixhOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qc1wiLCBbW1wiVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJmcm9tSnNvblRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1wiZnJvbVRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHMoKXtyZXR1cm57bmFtZTpcIlwiLHRpbWU6ZS5mcm9tUGFydGlhbCh7fSksaGVpZ2h0OkJpZ0ludCgwKSxpbmZvOlwiXCIsdXBncmFkZWRDbGllbnRTdGF0ZTp2b2lkIDB9fSAgICAgICBjb25zdCBQbGFuPXt0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuUGxhblwiLGVuY29kZToobyxuPWkuY3JlYXRlKCkpPT4oXCJcIiE9PW8ubmFtZSYmbi51aW50MzIoMTApLnN0cmluZyhvLm5hbWUpLHZvaWQgMCE9PW8udGltZSYmZS5lbmNvZGUoby50aW1lLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG8uaGVpZ2h0IT09QmlnSW50KDApJiZuLnVpbnQzMigyNCkuaW50NjQoby5oZWlnaHQpLFwiXCIhPT1vLmluZm8mJm4udWludDMyKDM0KS5zdHJpbmcoby5pbmZvKSx2b2lkIDAhPT1vLnVwZ3JhZGVkQ2xpZW50U3RhdGUmJnQuZW5jb2RlKG8udXBncmFkZWRDbGllbnRTdGF0ZSxuLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSxuKSxkZWNvZGUoaSxuKXtjb25zdCByPWkgaW5zdGFuY2VvZiBvP2k6bmV3IG8oaSk7bGV0IGE9dm9pZCAwPT09bj9yLmxlbjpyLnBvcytuO2NvbnN0IGQ9cygpO2Zvcig7ci5wb3M8YTspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpkLm5hbWU9ci5zdHJpbmcoKTticmVhaztjYXNlIDI6ZC50aW1lPWUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmQuaGVpZ2h0PXIuaW50NjQoKTticmVhaztjYXNlIDQ6ZC5pbmZvPXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OmQudXBncmFkZWRDbGllbnRTdGF0ZT10LmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gZH0sZnJvbUpTT046ZT0+KHtuYW1lOm4oZS5uYW1lKT9TdHJpbmcoZS5uYW1lKTpcIlwiLHRpbWU6bihlLnRpbWUpP3IoZS50aW1lKTp2b2lkIDAsaGVpZ2h0Om4oZS5oZWlnaHQpP0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksaW5mbzpuKGUuaW5mbyk/U3RyaW5nKGUuaW5mbyk6XCJcIix1cGdyYWRlZENsaWVudFN0YXRlOm4oZS51cGdyYWRlZENsaWVudFN0YXRlKT90LmZyb21KU09OKGUudXBncmFkZWRDbGllbnRTdGF0ZSk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUubmFtZSYmKG8ubmFtZT1lLm5hbWUpLHZvaWQgMCE9PWUudGltZSYmKG8udGltZT1hKGUudGltZSkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS5oZWlnaHQmJihvLmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5pbmZvJiYoby5pbmZvPWUuaW5mbyksdm9pZCAwIT09ZS51cGdyYWRlZENsaWVudFN0YXRlJiYoby51cGdyYWRlZENsaWVudFN0YXRlPWUudXBncmFkZWRDbGllbnRTdGF0ZT90LnRvSlNPTihlLnVwZ3JhZGVkQ2xpZW50U3RhdGUpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwobyl7Y29uc3QgaT1zKCk7cmV0dXJuIGkubmFtZT1vLm5hbWU/P1wiXCIsaS50aW1lPXZvaWQgMCE9PW8udGltZSYmbnVsbCE9PW8udGltZT9lLmZyb21QYXJ0aWFsKG8udGltZSk6dm9pZCAwLGkuaGVpZ2h0PXZvaWQgMCE9PW8uaGVpZ2h0JiZudWxsIT09by5oZWlnaHQ/QmlnSW50KG8uaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxpLmluZm89by5pbmZvPz9cIlwiLGkudXBncmFkZWRDbGllbnRTdGF0ZT12b2lkIDAhPT1vLnVwZ3JhZGVkQ2xpZW50U3RhdGUmJm51bGwhPT1vLnVwZ3JhZGVkQ2xpZW50U3RhdGU/dC5mcm9tUGFydGlhbChvLnVwZ3JhZGVkQ2xpZW50U3RhdGUpOnZvaWQgMCxpfSxmcm9tUHJvdG9Nc2c6ZT0+UGxhbi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QbGFuLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLlBsYW5cIix2YWx1ZTpQbGFuLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGxhbihQbGFuKTtmdW5jdGlvbiBkKCl7cmV0dXJueyR0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuU29mdHdhcmVVcGdyYWRlUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIscGxhbjpQbGFuLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgU29mdHdhcmVVcGdyYWRlUHJvcG9zYWw9e3R5cGVVcmw6XCIvY29zbW9zLnVwZ3JhZGUudjFiZXRhMS5Tb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbFwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oXCJcIiE9PWUudGl0bGUmJnQudWludDMyKDEwKS5zdHJpbmcoZS50aXRsZSksXCJcIiE9PWUuZGVzY3JpcHRpb24mJnQudWludDMyKDE4KS5zdHJpbmcoZS5kZXNjcmlwdGlvbiksdm9pZCAwIT09ZS5wbGFuJiZQbGFuLmVuY29kZShlLnBsYW4sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3QgaT1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBuPXZvaWQgMD09PXQ/aS5sZW46aS5wb3MrdDtjb25zdCByPWQoKTtmb3IoO2kucG9zPG47KXtjb25zdCBlPWkudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci50aXRsZT1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmRlc2NyaXB0aW9uPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOnIucGxhbj1QbGFuLmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHt0aXRsZTpuKGUudGl0bGUpP1N0cmluZyhlLnRpdGxlKTpcIlwiLGRlc2NyaXB0aW9uOm4oZS5kZXNjcmlwdGlvbik/U3RyaW5nKGUuZGVzY3JpcHRpb24pOlwiXCIscGxhbjpuKGUucGxhbik/UGxhbi5mcm9tSlNPTihlLnBsYW4pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnRpdGxlJiYodC50aXRsZT1lLnRpdGxlKSx2b2lkIDAhPT1lLmRlc2NyaXB0aW9uJiYodC5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uKSx2b2lkIDAhPT1lLnBsYW4mJih0LnBsYW49ZS5wbGFuP1BsYW4udG9KU09OKGUucGxhbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWQoKTtyZXR1cm4gdC50aXRsZT1lLnRpdGxlPz9cIlwiLHQuZGVzY3JpcHRpb249ZS5kZXNjcmlwdGlvbj8/XCJcIix0LnBsYW49dm9pZCAwIT09ZS5wbGFuJiZudWxsIT09ZS5wbGFuP1BsYW4uZnJvbVBhcnRpYWwoZS5wbGFuKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOmU9PlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsXCIsdmFsdWU6U29mdHdhcmVVcGdyYWRlUHJvcG9zYWwuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Tb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbChTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCk7Y29uc3QgQ2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWw9e3R5cGVVcmw6XCIvY29zbW9zLnVwZ3JhZGUudjFiZXRhMS5DYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbFwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oXCJcIiE9PWUudGl0bGUmJnQudWludDMyKDEwKS5zdHJpbmcoZS50aXRsZSksXCJcIiE9PWUuZGVzY3JpcHRpb24mJnQudWludDMyKDE4KS5zdHJpbmcoZS5kZXNjcmlwdGlvbiksdCksZGVjb2RlKGUsdCl7Y29uc3QgaT1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBuPXZvaWQgMD09PXQ/aS5sZW46aS5wb3MrdDtjb25zdCByPXskdHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsXCIsdGl0bGU6XCJcIixkZXNjcmlwdGlvbjpcIlwifTtmb3IoO2kucG9zPG47KXtjb25zdCBlPWkudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci50aXRsZT1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmRlc2NyaXB0aW9uPWkuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe3RpdGxlOm4oZS50aXRsZSk/U3RyaW5nKGUudGl0bGUpOlwiXCIsZGVzY3JpcHRpb246bihlLmRlc2NyaXB0aW9uKT9TdHJpbmcoZS5kZXNjcmlwdGlvbik6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnRpdGxlJiYodC50aXRsZT1lLnRpdGxlKSx2b2lkIDAhPT1lLmRlc2NyaXB0aW9uJiYodC5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXskdHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsXCIsdGl0bGU6XCJcIixkZXNjcmlwdGlvbjpcIlwifTtyZXR1cm4gdC50aXRsZT1lLnRpdGxlPz9cIlwiLHQuZGVzY3JpcHRpb249ZS5kZXNjcmlwdGlvbj8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+Q2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWwuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Q2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWwuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuQ2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWxcIix2YWx1ZTpDYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsKENhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsKTtmdW5jdGlvbiBsKCl7cmV0dXJue25hbWU6XCJcIix2ZXJzaW9uOkJpZ0ludCgwKX19Y29uc3QgTW9kdWxlVmVyc2lvbj17dHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLk1vZHVsZVZlcnNpb25cIixlbmNvZGU6KGUsdD1pLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLm5hbWUmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxlLnZlcnNpb24hPT1CaWdJbnQoMCkmJnQudWludDMyKDE2KS51aW50NjQoZS52ZXJzaW9uKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBpPWUgaW5zdGFuY2VvZiBvP2U6bmV3IG8oZSk7bGV0IG49dm9pZCAwPT09dD9pLmxlbjppLnBvcyt0O2NvbnN0IHI9bCgpO2Zvcig7aS5wb3M8bjspe2NvbnN0IGU9aS51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLm5hbWU9aS5zdHJpbmcoKTticmVhaztjYXNlIDI6ci52ZXJzaW9uPWkudWludDY0KCk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe25hbWU6bihlLm5hbWUpP1N0cmluZyhlLm5hbWUpOlwiXCIsdmVyc2lvbjpuKGUudmVyc2lvbik/QmlnSW50KGUudmVyc2lvbi50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5uYW1lJiYodC5uYW1lPWUubmFtZSksdm9pZCAwIT09ZS52ZXJzaW9uJiYodC52ZXJzaW9uPShlLnZlcnNpb258fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1sKCk7cmV0dXJuIHQubmFtZT1lLm5hbWU/P1wiXCIsdC52ZXJzaW9uPXZvaWQgMCE9PWUudmVyc2lvbiYmbnVsbCE9PWUudmVyc2lvbj9CaWdJbnQoZS52ZXJzaW9uLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+TW9kdWxlVmVyc2lvbi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nb2R1bGVWZXJzaW9uLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLk1vZHVsZVZlcnNpb25cIix2YWx1ZTpNb2R1bGVWZXJzaW9uLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTW9kdWxlVmVyc2lvbihNb2R1bGVWZXJzaW9uKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlBsYW4iOlsiUGxhbiJdLCJTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCI6WyJTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCJdLCJDYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCI6WyJDYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCJdLCJNb2R1bGVWZXJzaW9uIjpbIk1vZHVsZVZlcnNpb24iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA/YHK0scHAADHBwAANAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vZGVjaW1hbHMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIkRlY2ltYWwiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7ICAgICAgIGNsYXNzIERlY2ltYWx7c3RhdGljIGZyb21Vc2VySW5wdXQodCxpKXtEZWNpbWFsLnZlcmlmeUZyYWN0aW9uYWxEaWdpdHMoaSk7Y29uc3Qgcj10Lm1hdGNoKC9bXjAtOS5dLyk7aWYocil0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyIGF0IHBvc2l0aW9uICR7ci5pbmRleCsxfWApO2xldCBhLGU7aWYoXCJcIj09PXQpYT1cIjBcIixlPVwiXCI7ZWxzZSBpZigtMT09PXQuc2VhcmNoKC9cXC4vKSlhPXQsZT1cIlwiO2Vsc2V7Y29uc3QgaT10LnNwbGl0KFwiLlwiKTtzd2l0Y2goaS5sZW5ndGgpe2Nhc2UgMDpjYXNlIDE6dGhyb3cgbmV3IEVycm9yKFwiRmV3ZXIgdGhhbiB0d28gZWxlbWVudHMgaW4gc3BsaXQgcmVzdWx0LiBUaGlzIG11c3Qgbm90IGhhcHBlbiBoZXJlLlwiKTtjYXNlIDI6aWYoIWlbMV0pdGhyb3cgbmV3IEVycm9yKFwiRnJhY3Rpb25hbCBwYXJ0IG1pc3NpbmdcIik7YT1pWzBdLGU9aVsxXS5yZXBsYWNlKC8wKyQvLFwiXCIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiTW9yZSB0aGFuIG9uZSBzZXBhcmF0b3IgZm91bmRcIil9fWlmKGUubGVuZ3RoPmkpdGhyb3cgbmV3IEVycm9yKFwiR290IG1vcmUgZnJhY3Rpb25hbCBkaWdpdHMgdGhhbiBzdXBwb3J0ZWRcIik7Y29uc3Qgbj1gJHthfSR7ZS5wYWRFbmQoaSxcIjBcIil9YDtyZXR1cm4gbmV3IERlY2ltYWwobixpKX1zdGF0aWMgZnJvbUF0b21pY3ModCxpKXtyZXR1cm4gRGVjaW1hbC52ZXJpZnlGcmFjdGlvbmFsRGlnaXRzKGkpLG5ldyBEZWNpbWFsKHQsaSl9c3RhdGljIHZlcmlmeUZyYWN0aW9uYWxEaWdpdHModCl7aWYoIU51bWJlci5pc0ludGVnZXIodCkpdGhyb3cgbmV3IEVycm9yKFwiRnJhY3Rpb25hbCBkaWdpdHMgaXMgbm90IGFuIGludGVnZXJcIik7aWYodDwwKXRocm93IG5ldyBFcnJvcihcIkZyYWN0aW9uYWwgZGlnaXRzIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO2lmKHQ+MzApdGhyb3cgbmV3IEVycm9yKFwiRnJhY3Rpb25hbCBkaWdpdHMgbXVzdCBub3QgZXhjZWVkIDMwXCIpfWdldCBhdG9taWNzKCl7cmV0dXJuIHRoaXMuZGF0YS5hdG9taWNzLnRvU3RyaW5nKCl9Z2V0IGZyYWN0aW9uYWxEaWdpdHMoKXtyZXR1cm4gdGhpcy5kYXRhLmZyYWN0aW9uYWxEaWdpdHN9ZGF0YTtjb25zdHJ1Y3Rvcih0LGkpe2lmKCF0Lm1hdGNoKC9eWzAtOV0rJC8pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nIGZvcm1hdC4gT25seSBub24tbmVnYXRpdmUgaW50ZWdlcnMgaW4gZGVjaW1hbCByZXByZXNlbnRhdGlvbiBzdXBwb3J0ZWQuXCIpO3RoaXMuZGF0YT17YXRvbWljczpCaWdJbnQodCksZnJhY3Rpb25hbERpZ2l0czppfX10b1N0cmluZygpe2NvbnN0IHQ9QmlnSW50KDEwKSoqQmlnSW50KHRoaXMuZGF0YS5mcmFjdGlvbmFsRGlnaXRzKSxpPXRoaXMuZGF0YS5hdG9taWNzL3Qscj10aGlzLmRhdGEuYXRvbWljcyV0O2lmKDBuPT09cilyZXR1cm4gaS50b1N0cmluZygpO3tjb25zdCB0PXIudG9TdHJpbmcoKS5wYWRTdGFydCh0aGlzLmRhdGEuZnJhY3Rpb25hbERpZ2l0cyxcIjBcIikucmVwbGFjZSgvMCskLyxcIlwiKTtyZXR1cm5gJHtpLnRvU3RyaW5nKCl9LiR7dH1gfX19JGjNj19vbmNlLkRlY2ltYWwoRGVjaW1hbCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJEZWNpbWFsIjpbIkRlY2ltYWwiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAGCqxYtQHAADUBwAAPwAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc3siaW1wb3J0cyI6WyIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiQW55Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxyLG8sdCxuOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGwoKXtyZXR1cm57JHR5cGVVcmw6XCIvZ29vZ2xlLnByb3RvYnVmLkFueVwiLHR5cGVVcmw6XCJcIix2YWx1ZTpuZXcgVWludDhBcnJheX19ICAgICAgIGNvbnN0IEFueT17dHlwZVVybDpcIi9nb29nbGUucHJvdG9idWYuQW55XCIsZW5jb2RlOihlLG89ci5jcmVhdGUoKSk9PihcIlwiIT09ZS50eXBlVXJsJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUudHlwZVVybCksMCE9PWUudmFsdWUubGVuZ3RoJiZvLnVpbnQzMigxOCkuYnl0ZXMoZS52YWx1ZSksbyksZGVjb2RlKHIsbyl7Y29uc3QgdD1yIGluc3RhbmNlb2YgZT9yOm5ldyBlKHIpO2xldCBuPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBhPWwoKTtmb3IoO3QucG9zPG47KXtjb25zdCBlPXQudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS50eXBlVXJsPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEudmFsdWU9dC5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt0eXBlVXJsOm8oZS50eXBlVXJsKT9TdHJpbmcoZS50eXBlVXJsKTpcIlwiLHZhbHVlOm8oZS52YWx1ZSk/dChlLnZhbHVlKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTihlKXtjb25zdCByPXt9O3JldHVybiB2b2lkIDAhPT1lLnR5cGVVcmwmJihyLnR5cGVVcmw9ZS50eXBlVXJsKSx2b2lkIDAhPT1lLnZhbHVlJiYoci52YWx1ZT1uKHZvaWQgMCE9PWUudmFsdWU/ZS52YWx1ZTpuZXcgVWludDhBcnJheSkpLHJ9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHI9bCgpO3JldHVybiByLnR5cGVVcmw9ZS50eXBlVXJsPz9cIlwiLHIudmFsdWU9ZS52YWx1ZT8/bmV3IFVpbnQ4QXJyYXkscn0sZnJvbVByb3RvTXNnOmU9PkFueS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5BbnkuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2dvb2dsZS5wcm90b2J1Zi5BbnlcIix2YWx1ZTpBbnkuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5BbnkoQW55KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkFueSI6WyJBbnkiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAgW1m/TsHAAA7BwAARAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJEdXJhdGlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG4sbyxzOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHQoKXtyZXR1cm57c2Vjb25kczpCaWdJbnQoMCksbmFub3M6MH19ICAgICAgIGNvbnN0IER1cmF0aW9uPXt0eXBlVXJsOlwiL2dvb2dsZS5wcm90b2J1Zi5EdXJhdGlvblwiLGVuY29kZToobixzPW8uY3JlYXRlKCkpPT4obi5zZWNvbmRzIT09QmlnSW50KDApJiZzLnVpbnQzMig4KS5pbnQ2NChuLnNlY29uZHMpLDAhPT1uLm5hbm9zJiZzLnVpbnQzMigxNikuaW50MzIobi5uYW5vcykscyksZGVjb2RlKG8scyl7Y29uc3QgZT1vIGluc3RhbmNlb2Ygbj9vOm5ldyBuKG8pO2xldCByPXZvaWQgMD09PXM/ZS5sZW46ZS5wb3Mrcztjb25zdCBpPXQoKTtmb3IoO2UucG9zPHI7KXtjb25zdCBuPWUudWludDMyKCk7c3dpdGNoKG4+Pj4zKXtjYXNlIDE6aS5zZWNvbmRzPWUuaW50NjQoKTticmVhaztjYXNlIDI6aS5uYW5vcz1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmbil9fXJldHVybiBpfSxmcm9tSlNPTjpuPT4oe3NlY29uZHM6cyhuLnNlY29uZHMpP0JpZ0ludChuLnNlY29uZHMudG9TdHJpbmcoKSk6QmlnSW50KDApLG5hbm9zOnMobi5uYW5vcyk/TnVtYmVyKG4ubmFub3MpOjB9KSx0b0pTT04obil7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09bi5zZWNvbmRzJiYoby5zZWNvbmRzPShuLnNlY29uZHN8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09bi5uYW5vcyYmKG8ubmFub3M9TWF0aC5yb3VuZChuLm5hbm9zKSksb30sZnJvbVBhcnRpYWwobil7Y29uc3Qgbz10KCk7cmV0dXJuIG8uc2Vjb25kcz12b2lkIDAhPT1uLnNlY29uZHMmJm51bGwhPT1uLnNlY29uZHM/QmlnSW50KG4uc2Vjb25kcy50b1N0cmluZygpKTpCaWdJbnQoMCksby5uYW5vcz1uLm5hbm9zPz8wLG99LGZyb21Qcm90b01zZzpuPT5EdXJhdGlvbi5kZWNvZGUobi52YWx1ZSksdG9Qcm90bzpuPT5EdXJhdGlvbi5lbmNvZGUobikuZmluaXNoKCksdG9Qcm90b01zZzpuPT4oe3R5cGVVcmw6XCIvZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uXCIsdmFsdWU6RHVyYXRpb24uZW5jb2RlKG4pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EdXJhdGlvbihEdXJhdGlvbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJEdXJhdGlvbiI6WyJEdXJhdGlvbiJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADUvwUzRgcAAEYHAABFAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJUaW1lc3RhbXAiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBuLG8sczskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB0KCl7cmV0dXJue3NlY29uZHM6QmlnSW50KDApLG5hbm9zOjB9fSAgICAgICBjb25zdCBUaW1lc3RhbXA9e3R5cGVVcmw6XCIvZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFwiLGVuY29kZToobixzPW8uY3JlYXRlKCkpPT4obi5zZWNvbmRzIT09QmlnSW50KDApJiZzLnVpbnQzMig4KS5pbnQ2NChuLnNlY29uZHMpLDAhPT1uLm5hbm9zJiZzLnVpbnQzMigxNikuaW50MzIobi5uYW5vcykscyksZGVjb2RlKG8scyl7Y29uc3QgZT1vIGluc3RhbmNlb2Ygbj9vOm5ldyBuKG8pO2xldCBpPXZvaWQgMD09PXM/ZS5sZW46ZS5wb3Mrcztjb25zdCByPXQoKTtmb3IoO2UucG9zPGk7KXtjb25zdCBuPWUudWludDMyKCk7c3dpdGNoKG4+Pj4zKXtjYXNlIDE6ci5zZWNvbmRzPWUuaW50NjQoKTticmVhaztjYXNlIDI6ci5uYW5vcz1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmbil9fXJldHVybiByfSxmcm9tSlNPTjpuPT4oe3NlY29uZHM6cyhuLnNlY29uZHMpP0JpZ0ludChuLnNlY29uZHMudG9TdHJpbmcoKSk6QmlnSW50KDApLG5hbm9zOnMobi5uYW5vcyk/TnVtYmVyKG4ubmFub3MpOjB9KSx0b0pTT04obil7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09bi5zZWNvbmRzJiYoby5zZWNvbmRzPShuLnNlY29uZHN8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09bi5uYW5vcyYmKG8ubmFub3M9TWF0aC5yb3VuZChuLm5hbm9zKSksb30sZnJvbVBhcnRpYWwobil7Y29uc3Qgbz10KCk7cmV0dXJuIG8uc2Vjb25kcz12b2lkIDAhPT1uLnNlY29uZHMmJm51bGwhPT1uLnNlY29uZHM/QmlnSW50KG4uc2Vjb25kcy50b1N0cmluZygpKTpCaWdJbnQoMCksby5uYW5vcz1uLm5hbm9zPz8wLG99LGZyb21Qcm90b01zZzpuPT5UaW1lc3RhbXAuZGVjb2RlKG4udmFsdWUpLHRvUHJvdG86bj0+VGltZXN0YW1wLmVuY29kZShuKS5maW5pc2goKSx0b1Byb3RvTXNnOm49Pih7dHlwZVVybDpcIi9nb29nbGUucHJvdG9idWYuVGltZXN0YW1wXCIsdmFsdWU6VGltZXN0YW1wLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuVGltZXN0YW1wKFRpbWVzdGFtcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJUaW1lc3RhbXAiOlsiVGltZXN0YW1wIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHitznaTDAAAkwwAADMAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2hlbHBlcnMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImZyb21EdXJhdGlvbiIsImZyb21Kc29uVGltZXN0YW1wIiwiZnJvbVRpbWVzdGFtcCIsImlzT2JqZWN0IiwiaXNScGMiLCJpc1NldCIsIm9taXREZWZhdWx0Iiwic2V0UGFnaW5hdGlvblBhcmFtcyIsInRvRHVyYXRpb24iLCJ0b1RpbWVzdGFtcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtPYmplY3QuZGVmaW5lUHJvcGVydHkob21pdERlZmF1bHQsJ25hbWUnLHt2YWx1ZTpcIm9taXREZWZhdWx0XCJ9KTskaM2PX29uY2Uub21pdERlZmF1bHQob21pdERlZmF1bHQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0b0R1cmF0aW9uLCduYW1lJyx7dmFsdWU6XCJ0b0R1cmF0aW9uXCJ9KTskaM2PX29uY2UudG9EdXJhdGlvbih0b0R1cmF0aW9uKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZnJvbUR1cmF0aW9uLCduYW1lJyx7dmFsdWU6XCJmcm9tRHVyYXRpb25cIn0pOyRozY9fb25jZS5mcm9tRHVyYXRpb24oZnJvbUR1cmF0aW9uKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXNTZXQsJ25hbWUnLHt2YWx1ZTpcImlzU2V0XCJ9KTskaM2PX29uY2UuaXNTZXQoaXNTZXQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpc09iamVjdCwnbmFtZScse3ZhbHVlOlwiaXNPYmplY3RcIn0pOyRozY9fb25jZS5pc09iamVjdChpc09iamVjdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlzUnBjLCduYW1lJyx7dmFsdWU6XCJpc1JwY1wifSk7JGjNj19vbmNlLmlzUnBjKGlzUnBjKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodG9UaW1lc3RhbXAsJ25hbWUnLHt2YWx1ZTpcInRvVGltZXN0YW1wXCJ9KTskaM2PX29uY2UudG9UaW1lc3RhbXAodG9UaW1lc3RhbXApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShmcm9tVGltZXN0YW1wLCduYW1lJyx7dmFsdWU6XCJmcm9tVGltZXN0YW1wXCJ9KTskaM2PX29uY2UuZnJvbVRpbWVzdGFtcChmcm9tVGltZXN0YW1wKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZnJvbUpzb25UaW1lc3RhbXAsJ25hbWUnLHt2YWx1ZTpcImZyb21Kc29uVGltZXN0YW1wXCJ9KTskaM2PX29uY2UuZnJvbUpzb25UaW1lc3RhbXAoZnJvbUpzb25UaW1lc3RhbXApOyAgICAgICBmdW5jdGlvbiBvbWl0RGVmYXVsdCh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5cIlwiPT09dD92b2lkIDA6dDtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gMD09PXQ/dm9pZCAwOnQ7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXJldHVybiExPT09dD92b2lkIDA6dDtpZihcImJpZ2ludFwiPT10eXBlb2YgdClyZXR1cm4gdD09PUJpZ0ludCgwKT92b2lkIDA6dDt0aHJvdyBuZXcgRXJyb3IoXCJHb3QgdW5zdXBwb3J0ZWQgdHlwZSBcIit0eXBlb2YgdCl9ICAgICAgIGZ1bmN0aW9uIHRvRHVyYXRpb24odCl7cmV0dXJue3NlY29uZHM6QmlnSW50KE1hdGguZmxvb3IocGFyc2VJbnQodCkvMWU5KSksbmFub3M6cGFyc2VJbnQodCklMWU5fX0gICAgICAgZnVuY3Rpb24gZnJvbUR1cmF0aW9uKHQpe3JldHVybigxZTkqcGFyc2VJbnQodC5zZWNvbmRzLnRvU3RyaW5nKCkpK3QubmFub3MpLnRvU3RyaW5nKCl9ICAgICAgIGZ1bmN0aW9uIGlzU2V0KHQpe3JldHVybiBudWxsIT10fSAgICAgICBmdW5jdGlvbiBpc09iamVjdCh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ICAgICAgIGNvbnN0IHNldFBhZ2luYXRpb25QYXJhbXM9KHQsbik9Pm4/KHZvaWQgMCE9PW4/LmNvdW50VG90YWwmJih0LnBhcmFtc1tcInBhZ2luYXRpb24uY291bnRfdG90YWxcIl09bi5jb3VudFRvdGFsKSx2b2lkIDAhPT1uPy5rZXkmJih0LnBhcmFtc1tcInBhZ2luYXRpb24ua2V5XCJdPUJ1ZmZlci5mcm9tKG4ua2V5KS50b1N0cmluZyhcImJhc2U2NFwiKSksdm9pZCAwIT09bj8ubGltaXQmJih0LnBhcmFtc1tcInBhZ2luYXRpb24ubGltaXRcIl09bi5saW1pdC50b1N0cmluZygpKSx2b2lkIDAhPT1uPy5vZmZzZXQmJih0LnBhcmFtc1tcInBhZ2luYXRpb24ub2Zmc2V0XCJdPW4ub2Zmc2V0LnRvU3RyaW5nKCkpLHZvaWQgMCE9PW4/LnJldmVyc2UmJih0LnBhcmFtc1tcInBhZ2luYXRpb24ucmV2ZXJzZVwiXT1uLnJldmVyc2UpLHQpOnQ7JGjNj19vbmNlLnNldFBhZ2luYXRpb25QYXJhbXMoc2V0UGFnaW5hdGlvblBhcmFtcyk7ZnVuY3Rpb24gaXNScGModCl7cmV0dXJuIG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVxdWVzdH1mdW5jdGlvbiB0b1RpbWVzdGFtcCh0KXt2YXIgbjtyZXR1cm57c2Vjb25kczoobj10LmdldFRpbWUoKS8xZTMsQmlnSW50KE1hdGgudHJ1bmMobikpKSxuYW5vczp0LmdldFRpbWUoKSUxZTMqMWU2fX1mdW5jdGlvbiBmcm9tVGltZXN0YW1wKHQpe2xldCBuPTFlMypOdW1iZXIodC5zZWNvbmRzKTtyZXR1cm4gbis9dC5uYW5vcy8xZTYsbmV3IERhdGUobil9ZnVuY3Rpb24gZnJvbUpzb25UaW1lc3RhbXAodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlP3RvVGltZXN0YW1wKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0P3RvVGltZXN0YW1wKG5ldyBEYXRlKHQpKTp7c2Vjb25kczppc1NldCgobj10KS5zZWNvbmRzKT9CaWdJbnQobi5zZWNvbmRzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxuYW5vczppc1NldChuLm5hbm9zKT9OdW1iZXIobi5uYW5vcyk6MH07dmFyIG59XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJvbWl0RGVmYXVsdCI6WyJvbWl0RGVmYXVsdCJdLCJ0b0R1cmF0aW9uIjpbInRvRHVyYXRpb24iXSwiZnJvbUR1cmF0aW9uIjpbImZyb21EdXJhdGlvbiJdLCJpc1NldCI6WyJpc1NldCJdLCJpc09iamVjdCI6WyJpc09iamVjdCJdLCJzZXRQYWdpbmF0aW9uUGFyYW1zIjpbInNldFBhZ2luYXRpb25QYXJhbXMiXSwiaXNScGMiOlsiaXNScGMiXSwidG9UaW1lc3RhbXAiOlsidG9UaW1lc3RhbXAiXSwiZnJvbVRpbWVzdGFtcCI6WyJmcm9tVGltZXN0YW1wIl0sImZyb21Kc29uVGltZXN0YW1wIjpbImZyb21Kc29uVGltZXN0YW1wIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAACjMwAnuEQAA7hEAAFoAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvaW50ZXJjaGFpbl9hY2NvdW50cy92MS9wYWNrZXQuanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uLy4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJDb3Ntb3NUeCIsIkludGVyY2hhaW5BY2NvdW50UGFja2V0RGF0YSIsIlR5cGUiLCJUeXBlU0RLVHlwZSIsInR5cGVGcm9tSlNPTiIsInR5cGVUb0pTT04iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHQsbyxhLHMsbjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlRnJvbUpTT04sJ25hbWUnLHt2YWx1ZTpcInR5cGVGcm9tSlNPTlwifSk7JGjNj19vbmNlLnR5cGVGcm9tSlNPTih0eXBlRnJvbUpTT04pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlVG9KU09OLCduYW1lJyx7dmFsdWU6XCJ0eXBlVG9KU09OXCJ9KTskaM2PX29uY2UudHlwZVRvSlNPTih0eXBlVG9KU09OKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGPNj19UeXBlOyRozY9fbGl2ZS5UeXBlKCRjzY9fVHlwZSk7IWZ1bmN0aW9uKGUpe2VbZS5UWVBFX1VOU1BFQ0lGSUVEPTBdPVwiVFlQRV9VTlNQRUNJRklFRFwiLGVbZS5UWVBFX0VYRUNVVEVfVFg9MV09XCJUWVBFX0VYRUNVVEVfVFhcIixlW2UuVU5SRUNPR05JWkVEPS0xXT1cIlVOUkVDT0dOSVpFRFwifShUeXBlfHwoVHlwZT17fSkpO2NvbnN0IFR5cGVTREtUeXBlPVR5cGU7JGjNj19vbmNlLlR5cGVTREtUeXBlKFR5cGVTREtUeXBlKTtmdW5jdGlvbiB0eXBlRnJvbUpTT04oZSl7c3dpdGNoKGUpe2Nhc2UgMDpjYXNlXCJUWVBFX1VOU1BFQ0lGSUVEXCI6cmV0dXJuIFR5cGUuVFlQRV9VTlNQRUNJRklFRDtjYXNlIDE6Y2FzZVwiVFlQRV9FWEVDVVRFX1RYXCI6cmV0dXJuIFR5cGUuVFlQRV9FWEVDVVRFX1RYO2RlZmF1bHQ6cmV0dXJuIFR5cGUuVU5SRUNPR05JWkVEfX1mdW5jdGlvbiB0eXBlVG9KU09OKGUpe3N3aXRjaChlKXtjYXNlIFR5cGUuVFlQRV9VTlNQRUNJRklFRDpyZXR1cm5cIlRZUEVfVU5TUEVDSUZJRURcIjtjYXNlIFR5cGUuVFlQRV9FWEVDVVRFX1RYOnJldHVyblwiVFlQRV9FWEVDVVRFX1RYXCI7Y2FzZSBUeXBlLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fWZ1bmN0aW9uIHIoKXtyZXR1cm57dHlwZTowLGRhdGE6bmV3IFVpbnQ4QXJyYXksbWVtbzpcIlwifX1jb25zdCBJbnRlcmNoYWluQWNjb3VudFBhY2tldERhdGE9e3R5cGVVcmw6XCIvaWJjLmFwcGxpY2F0aW9ucy5pbnRlcmNoYWluX2FjY291bnRzLnYxLkludGVyY2hhaW5BY2NvdW50UGFja2V0RGF0YVwiLGVuY29kZTooZSx0PW8uY3JlYXRlKCkpPT4oMCE9PWUudHlwZSYmdC51aW50MzIoOCkuaW50MzIoZS50eXBlKSwwIT09ZS5kYXRhLmxlbmd0aCYmdC51aW50MzIoMTgpLmJ5dGVzKGUuZGF0YSksXCJcIiE9PWUubWVtbyYmdC51aW50MzIoMjYpLnN0cmluZyhlLm1lbW8pLHQpLGRlY29kZShlLG8pe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcz12b2lkIDA9PT1vP2EubGVuOmEucG9zK287Y29uc3Qgbj1yKCk7Zm9yKDthLnBvczxzOyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4udHlwZT1hLmludDMyKCk7YnJlYWs7Y2FzZSAyOm4uZGF0YT1hLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOm4ubWVtbz1hLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHt0eXBlOmEoZS50eXBlKT90eXBlRnJvbUpTT04oZS50eXBlKTotMSxkYXRhOmEoZS5kYXRhKT9zKGUuZGF0YSk6bmV3IFVpbnQ4QXJyYXksbWVtbzphKGUubWVtbyk/U3RyaW5nKGUubWVtbyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnR5cGUmJih0LnR5cGU9dHlwZVRvSlNPTihlLnR5cGUpKSx2b2lkIDAhPT1lLmRhdGEmJih0LmRhdGE9bih2b2lkIDAhPT1lLmRhdGE/ZS5kYXRhOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5tZW1vJiYodC5tZW1vPWUubWVtbyksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1yKCk7cmV0dXJuIHQudHlwZT1lLnR5cGU/PzAsdC5kYXRhPWUuZGF0YT8/bmV3IFVpbnQ4QXJyYXksdC5tZW1vPWUubWVtbz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+SW50ZXJjaGFpbkFjY291bnRQYWNrZXREYXRhLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkludGVyY2hhaW5BY2NvdW50UGFja2V0RGF0YS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvaWJjLmFwcGxpY2F0aW9ucy5pbnRlcmNoYWluX2FjY291bnRzLnYxLkludGVyY2hhaW5BY2NvdW50UGFja2V0RGF0YVwiLHZhbHVlOkludGVyY2hhaW5BY2NvdW50UGFja2V0RGF0YS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkludGVyY2hhaW5BY2NvdW50UGFja2V0RGF0YShJbnRlcmNoYWluQWNjb3VudFBhY2tldERhdGEpO2NvbnN0IENvc21vc1R4PXt0eXBlVXJsOlwiL2liYy5hcHBsaWNhdGlvbnMuaW50ZXJjaGFpbl9hY2NvdW50cy52MS5Db3Ntb3NUeFwiLGVuY29kZSh0LGE9by5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2YgdC5tZXNzYWdlcyllLmVuY29kZShvLGEudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBhfSxkZWNvZGUobyxhKXtjb25zdCBzPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IG49dm9pZCAwPT09YT9zLmxlbjpzLnBvcythO2NvbnN0IHI9e21lc3NhZ2VzOltdfTtmb3IoO3MucG9zPG47KXtjb25zdCB0PXMudWludDMyKCk7aWYodD4+PjM9PTEpci5tZXNzYWdlcy5wdXNoKGUuZGVjb2RlKHMscy51aW50MzIoKSkpO2Vsc2Ugcy5za2lwVHlwZSg3JnQpfXJldHVybiByfSxmcm9tSlNPTjp0PT4oe21lc3NhZ2VzOkFycmF5LmlzQXJyYXkodD8ubWVzc2FnZXMpP3QubWVzc2FnZXMubWFwKCh0PT5lLmZyb21KU09OKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3Qgbz17fTtyZXR1cm4gdC5tZXNzYWdlcz9vLm1lc3NhZ2VzPXQubWVzc2FnZXMubWFwKCh0PT50P2UudG9KU09OKHQpOnZvaWQgMCkpOm8ubWVzc2FnZXM9W10sb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz17bWVzc2FnZXM6W119O3JldHVybiBvLm1lc3NhZ2VzPXQubWVzc2FnZXM/Lm1hcCgodD0+ZS5mcm9tUGFydGlhbCh0KSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6ZT0+Q29zbW9zVHguZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Q29zbW9zVHguZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2liYy5hcHBsaWNhdGlvbnMuaW50ZXJjaGFpbl9hY2NvdW50cy52MS5Db3Ntb3NUeFwiLHZhbHVlOkNvc21vc1R4LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29zbW9zVHgoQ29zbW9zVHgpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiVHlwZSI6WyJUeXBlIix0cnVlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJUeXBlU0RLVHlwZSI6WyJUeXBlU0RLVHlwZSJdLCJ0eXBlRnJvbUpTT04iOlsidHlwZUZyb21KU09OIl0sInR5cGVUb0pTT04iOlsidHlwZVRvSlNPTiJdLCJJbnRlcmNoYWluQWNjb3VudFBhY2tldERhdGEiOlsiSW50ZXJjaGFpbkFjY291bnRQYWNrZXREYXRhIl0sIkNvc21vc1R4IjpbIkNvc21vc1R4Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAG1BO89BFAAAQRQAAEsAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvdHJhbnNmZXIvdjEvdHguanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vLi4vY29zbW9zL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi4vLi4vLi4vY29yZS9jbGllbnQvdjEvY2xpZW50LmpzIiwiLi4vLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIk1zZ1RyYW5zZmVyIiwiTXNnVHJhbnNmZXJSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsdCxvLHIsbjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uLy4uL2Nvc21vcy9iYXNlL3YxYmV0YTEvY29pbi5qc1wiLCBbW1wiQ29pblwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9jb3JlL2NsaWVudC92MS9jbGllbnQuanNcIiwgW1tcIkhlaWdodFwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpKCl7cmV0dXJue3NvdXJjZVBvcnQ6XCJcIixzb3VyY2VDaGFubmVsOlwiXCIsdG9rZW46ZS5mcm9tUGFydGlhbCh7fSksc2VuZGVyOlwiXCIscmVjZWl2ZXI6XCJcIix0aW1lb3V0SGVpZ2h0OnQuZnJvbVBhcnRpYWwoe30pLHRpbWVvdXRUaW1lc3RhbXA6QmlnSW50KDApLG1lbW86XCJcIn19ICAgICAgIGNvbnN0IE1zZ1RyYW5zZmVyPXt0eXBlVXJsOlwiL2liYy5hcHBsaWNhdGlvbnMudHJhbnNmZXIudjEuTXNnVHJhbnNmZXJcIixlbmNvZGU6KG8sbj1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1vLnNvdXJjZVBvcnQmJm4udWludDMyKDEwKS5zdHJpbmcoby5zb3VyY2VQb3J0KSxcIlwiIT09by5zb3VyY2VDaGFubmVsJiZuLnVpbnQzMigxOCkuc3RyaW5nKG8uc291cmNlQ2hhbm5lbCksdm9pZCAwIT09by50b2tlbiYmZS5lbmNvZGUoby50b2tlbixuLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxcIlwiIT09by5zZW5kZXImJm4udWludDMyKDM0KS5zdHJpbmcoby5zZW5kZXIpLFwiXCIhPT1vLnJlY2VpdmVyJiZuLnVpbnQzMig0Mikuc3RyaW5nKG8ucmVjZWl2ZXIpLHZvaWQgMCE9PW8udGltZW91dEhlaWdodCYmdC5lbmNvZGUoby50aW1lb3V0SGVpZ2h0LG4udWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpLG8udGltZW91dFRpbWVzdGFtcCE9PUJpZ0ludCgwKSYmbi51aW50MzIoNTYpLnVpbnQ2NChvLnRpbWVvdXRUaW1lc3RhbXApLFwiXCIhPT1vLm1lbW8mJm4udWludDMyKDY2KS5zdHJpbmcoby5tZW1vKSxuKSxkZWNvZGUocixuKXtjb25zdCBzPXIgaW5zdGFuY2VvZiBvP3I6bmV3IG8ocik7bGV0IG09dm9pZCAwPT09bj9zLmxlbjpzLnBvcytuO2NvbnN0IGM9aSgpO2Zvcig7cy5wb3M8bTspe2NvbnN0IG89cy51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpjLnNvdXJjZVBvcnQ9cy5zdHJpbmcoKTticmVhaztjYXNlIDI6Yy5zb3VyY2VDaGFubmVsPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmMudG9rZW49ZS5kZWNvZGUocyxzLnVpbnQzMigpKTticmVhaztjYXNlIDQ6Yy5zZW5kZXI9cy5zdHJpbmcoKTticmVhaztjYXNlIDU6Yy5yZWNlaXZlcj1zLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpjLnRpbWVvdXRIZWlnaHQ9dC5kZWNvZGUocyxzLnVpbnQzMigpKTticmVhaztjYXNlIDc6Yy50aW1lb3V0VGltZXN0YW1wPXMudWludDY0KCk7YnJlYWs7Y2FzZSA4OmMubWVtbz1zLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gY30sZnJvbUpTT046bz0+KHtzb3VyY2VQb3J0Om4oby5zb3VyY2VQb3J0KT9TdHJpbmcoby5zb3VyY2VQb3J0KTpcIlwiLHNvdXJjZUNoYW5uZWw6bihvLnNvdXJjZUNoYW5uZWwpP1N0cmluZyhvLnNvdXJjZUNoYW5uZWwpOlwiXCIsdG9rZW46bihvLnRva2VuKT9lLmZyb21KU09OKG8udG9rZW4pOnZvaWQgMCxzZW5kZXI6bihvLnNlbmRlcik/U3RyaW5nKG8uc2VuZGVyKTpcIlwiLHJlY2VpdmVyOm4oby5yZWNlaXZlcik/U3RyaW5nKG8ucmVjZWl2ZXIpOlwiXCIsdGltZW91dEhlaWdodDpuKG8udGltZW91dEhlaWdodCk/dC5mcm9tSlNPTihvLnRpbWVvdXRIZWlnaHQpOnZvaWQgMCx0aW1lb3V0VGltZXN0YW1wOm4oby50aW1lb3V0VGltZXN0YW1wKT9CaWdJbnQoby50aW1lb3V0VGltZXN0YW1wLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxtZW1vOm4oby5tZW1vKT9TdHJpbmcoby5tZW1vKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHI9e307cmV0dXJuIHZvaWQgMCE9PW8uc291cmNlUG9ydCYmKHIuc291cmNlUG9ydD1vLnNvdXJjZVBvcnQpLHZvaWQgMCE9PW8uc291cmNlQ2hhbm5lbCYmKHIuc291cmNlQ2hhbm5lbD1vLnNvdXJjZUNoYW5uZWwpLHZvaWQgMCE9PW8udG9rZW4mJihyLnRva2VuPW8udG9rZW4/ZS50b0pTT04oby50b2tlbik6dm9pZCAwKSx2b2lkIDAhPT1vLnNlbmRlciYmKHIuc2VuZGVyPW8uc2VuZGVyKSx2b2lkIDAhPT1vLnJlY2VpdmVyJiYoci5yZWNlaXZlcj1vLnJlY2VpdmVyKSx2b2lkIDAhPT1vLnRpbWVvdXRIZWlnaHQmJihyLnRpbWVvdXRIZWlnaHQ9by50aW1lb3V0SGVpZ2h0P3QudG9KU09OKG8udGltZW91dEhlaWdodCk6dm9pZCAwKSx2b2lkIDAhPT1vLnRpbWVvdXRUaW1lc3RhbXAmJihyLnRpbWVvdXRUaW1lc3RhbXA9KG8udGltZW91dFRpbWVzdGFtcHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1vLm1lbW8mJihyLm1lbW89by5tZW1vKSxyfSxmcm9tUGFydGlhbChvKXtjb25zdCByPWkoKTtyZXR1cm4gci5zb3VyY2VQb3J0PW8uc291cmNlUG9ydD8/XCJcIixyLnNvdXJjZUNoYW5uZWw9by5zb3VyY2VDaGFubmVsPz9cIlwiLHIudG9rZW49dm9pZCAwIT09by50b2tlbiYmbnVsbCE9PW8udG9rZW4/ZS5mcm9tUGFydGlhbChvLnRva2VuKTp2b2lkIDAsci5zZW5kZXI9by5zZW5kZXI/P1wiXCIsci5yZWNlaXZlcj1vLnJlY2VpdmVyPz9cIlwiLHIudGltZW91dEhlaWdodD12b2lkIDAhPT1vLnRpbWVvdXRIZWlnaHQmJm51bGwhPT1vLnRpbWVvdXRIZWlnaHQ/dC5mcm9tUGFydGlhbChvLnRpbWVvdXRIZWlnaHQpOnZvaWQgMCxyLnRpbWVvdXRUaW1lc3RhbXA9dm9pZCAwIT09by50aW1lb3V0VGltZXN0YW1wJiZudWxsIT09by50aW1lb3V0VGltZXN0YW1wP0JpZ0ludChvLnRpbWVvdXRUaW1lc3RhbXAudG9TdHJpbmcoKSk6QmlnSW50KDApLHIubWVtbz1vLm1lbW8/P1wiXCIscn0sZnJvbVByb3RvTXNnOmU9Pk1zZ1RyYW5zZmVyLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1RyYW5zZmVyLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9pYmMuYXBwbGljYXRpb25zLnRyYW5zZmVyLnYxLk1zZ1RyYW5zZmVyXCIsdmFsdWU6TXNnVHJhbnNmZXIuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dUcmFuc2ZlcihNc2dUcmFuc2Zlcik7ZnVuY3Rpb24gcygpe3JldHVybntzZXF1ZW5jZTpCaWdJbnQoMCl9fWNvbnN0IE1zZ1RyYW5zZmVyUmVzcG9uc2U9e3R5cGVVcmw6XCIvaWJjLmFwcGxpY2F0aW9ucy50cmFuc2Zlci52MS5Nc2dUcmFuc2ZlclJlc3BvbnNlXCIsZW5jb2RlOihlLHQ9ci5jcmVhdGUoKSk9PihlLnNlcXVlbmNlIT09QmlnSW50KDApJiZ0LnVpbnQzMig4KS51aW50NjQoZS5zZXF1ZW5jZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgcj1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBuPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBpPXMoKTtmb3IoO3IucG9zPG47KXtjb25zdCBlPXIudWludDMyKCk7aWYoZT4+PjM9PTEpaS5zZXF1ZW5jZT1yLnVpbnQ2NCgpO2Vsc2Ugci5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3NlcXVlbmNlOm4oZS5zZXF1ZW5jZSk/QmlnSW50KGUuc2VxdWVuY2UudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuc2VxdWVuY2UmJih0LnNlcXVlbmNlPShlLnNlcXVlbmNlfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9cygpO3JldHVybiB0LnNlcXVlbmNlPXZvaWQgMCE9PWUuc2VxdWVuY2UmJm51bGwhPT1lLnNlcXVlbmNlP0JpZ0ludChlLnNlcXVlbmNlLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVHJhbnNmZXJSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dUcmFuc2ZlclJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9pYmMuYXBwbGljYXRpb25zLnRyYW5zZmVyLnYxLk1zZ1RyYW5zZmVyUmVzcG9uc2VcIix2YWx1ZTpNc2dUcmFuc2ZlclJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVHJhbnNmZXJSZXNwb25zZShNc2dUcmFuc2ZlclJlc3BvbnNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Ik1zZ1RyYW5zZmVyIjpbIk1zZ1RyYW5zZmVyIl0sIk1zZ1RyYW5zZmVyUmVzcG9uc2UiOlsiTXNnVHJhbnNmZXJSZXNwb25zZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD0kzM6bi4AAG4uAABFAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9pYmMvY29yZS9jbGllbnQvdjEvY2xpZW50LmpzeyJpbXBvcnRzIjpbIi4uLy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MvdXBncmFkZS92MWJldGExL3VwZ3JhZGUuanMiLCIuLi8uLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiQ2xpZW50Q29uc2Vuc3VzU3RhdGVzIiwiQ2xpZW50VXBkYXRlUHJvcG9zYWwiLCJDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQiLCJIZWlnaHQiLCJJZGVudGlmaWVkQ2xpZW50U3RhdGUiLCJQYXJhbXMiLCJVcGdyYWRlUHJvcG9zYWwiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0LGUsaSxuLG87JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55LmpzXCIsIFtbXCJBbnlcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vY29zbW9zL3VwZ3JhZGUvdjFiZXRhMS91cGdyYWRlLmpzXCIsIFtbXCJQbGFuXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWRlbnRpZmllZENsaWVudFN0YXRlPXt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5JZGVudGlmaWVkQ2xpZW50U3RhdGVcIixlbmNvZGU6KGUsaT1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNsaWVudElkJiZpLnVpbnQzMigxMCkuc3RyaW5nKGUuY2xpZW50SWQpLHZvaWQgMCE9PWUuY2xpZW50U3RhdGUmJnQuZW5jb2RlKGUuY2xpZW50U3RhdGUsaS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksaSksZGVjb2RlKGUsbil7Y29uc3Qgbz1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCBzPXZvaWQgMD09PW4/by5sZW46by5wb3Mrbjtjb25zdCByPXtjbGllbnRJZDpcIlwiLGNsaWVudFN0YXRlOnZvaWQgMH07Zm9yKDtvLnBvczxzOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIuY2xpZW50SWQ9by5zdHJpbmcoKTticmVhaztjYXNlIDI6ci5jbGllbnRTdGF0ZT10LmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtjbGllbnRJZDpvKGUuY2xpZW50SWQpP1N0cmluZyhlLmNsaWVudElkKTpcIlwiLGNsaWVudFN0YXRlOm8oZS5jbGllbnRTdGF0ZSk/dC5mcm9tSlNPTihlLmNsaWVudFN0YXRlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgaT17fTtyZXR1cm4gdm9pZCAwIT09ZS5jbGllbnRJZCYmKGkuY2xpZW50SWQ9ZS5jbGllbnRJZCksdm9pZCAwIT09ZS5jbGllbnRTdGF0ZSYmKGkuY2xpZW50U3RhdGU9ZS5jbGllbnRTdGF0ZT90LnRvSlNPTihlLmNsaWVudFN0YXRlKTp2b2lkIDApLGl9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IGk9e2NsaWVudElkOlwiXCIsY2xpZW50U3RhdGU6dm9pZCAwfTtyZXR1cm4gaS5jbGllbnRJZD1lLmNsaWVudElkPz9cIlwiLGkuY2xpZW50U3RhdGU9dm9pZCAwIT09ZS5jbGllbnRTdGF0ZSYmbnVsbCE9PWUuY2xpZW50U3RhdGU/dC5mcm9tUGFydGlhbChlLmNsaWVudFN0YXRlKTp2b2lkIDAsaX0sZnJvbVByb3RvTXNnOnQ9PklkZW50aWZpZWRDbGllbnRTdGF0ZS5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5JZGVudGlmaWVkQ2xpZW50U3RhdGUuZW5jb2RlKHQpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6dD0+KHt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5JZGVudGlmaWVkQ2xpZW50U3RhdGVcIix2YWx1ZTpJZGVudGlmaWVkQ2xpZW50U3RhdGUuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5JZGVudGlmaWVkQ2xpZW50U3RhdGUoSWRlbnRpZmllZENsaWVudFN0YXRlKTtmdW5jdGlvbiBzKCl7cmV0dXJue2hlaWdodDpIZWlnaHQuZnJvbVBhcnRpYWwoe30pLGNvbnNlbnN1c1N0YXRlOnZvaWQgMH19Y29uc3QgQ29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0PXt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5Db25zZW5zdXNTdGF0ZVdpdGhIZWlnaHRcIixlbmNvZGU6KGUsaT1uLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuaGVpZ2h0JiZIZWlnaHQuZW5jb2RlKGUuaGVpZ2h0LGkudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUuY29uc2Vuc3VzU3RhdGUmJnQuZW5jb2RlKGUuY29uc2Vuc3VzU3RhdGUsaS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksaSksZGVjb2RlKGUsbil7Y29uc3Qgbz1lIGluc3RhbmNlb2YgaT9lOm5ldyBpKGUpO2xldCByPXZvaWQgMD09PW4/by5sZW46by5wb3Mrbjtjb25zdCBsPXMoKTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bC5oZWlnaHQ9SGVpZ2h0LmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjpsLmNvbnNlbnN1c1N0YXRlPXQuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBsfSxmcm9tSlNPTjplPT4oe2hlaWdodDpvKGUuaGVpZ2h0KT9IZWlnaHQuZnJvbUpTT04oZS5oZWlnaHQpOnZvaWQgMCxjb25zZW5zdXNTdGF0ZTpvKGUuY29uc2Vuc3VzU3RhdGUpP3QuZnJvbUpTT04oZS5jb25zZW5zdXNTdGF0ZSk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IGk9e307cmV0dXJuIHZvaWQgMCE9PWUuaGVpZ2h0JiYoaS5oZWlnaHQ9ZS5oZWlnaHQ/SGVpZ2h0LnRvSlNPTihlLmhlaWdodCk6dm9pZCAwKSx2b2lkIDAhPT1lLmNvbnNlbnN1c1N0YXRlJiYoaS5jb25zZW5zdXNTdGF0ZT1lLmNvbnNlbnN1c1N0YXRlP3QudG9KU09OKGUuY29uc2Vuc3VzU3RhdGUpOnZvaWQgMCksaX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgaT1zKCk7cmV0dXJuIGkuaGVpZ2h0PXZvaWQgMCE9PWUuaGVpZ2h0JiZudWxsIT09ZS5oZWlnaHQ/SGVpZ2h0LmZyb21QYXJ0aWFsKGUuaGVpZ2h0KTp2b2lkIDAsaS5jb25zZW5zdXNTdGF0ZT12b2lkIDAhPT1lLmNvbnNlbnN1c1N0YXRlJiZudWxsIT09ZS5jb25zZW5zdXNTdGF0ZT90LmZyb21QYXJ0aWFsKGUuY29uc2Vuc3VzU3RhdGUpOnZvaWQgMCxpfSxmcm9tUHJvdG9Nc2c6dD0+Q29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9PkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodC5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodFwiLHZhbHVlOkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodC5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodChDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQpO2NvbnN0IENsaWVudENvbnNlbnN1c1N0YXRlcz17dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ2xpZW50Q29uc2Vuc3VzU3RhdGVzXCIsZW5jb2RlKHQsZT1uLmNyZWF0ZSgpKXtcIlwiIT09dC5jbGllbnRJZCYmZS51aW50MzIoMTApLnN0cmluZyh0LmNsaWVudElkKTtmb3IoY29uc3QgaSBvZiB0LmNvbnNlbnN1c1N0YXRlcylDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQuZW5jb2RlKGksZS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZSh0LGUpe2NvbnN0IG49dCBpbnN0YW5jZW9mIGk/dDpuZXcgaSh0KTtsZXQgbz12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3Qgcz17Y2xpZW50SWQ6XCJcIixjb25zZW5zdXNTdGF0ZXM6W119O2Zvcig7bi5wb3M8bzspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTpzLmNsaWVudElkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMuY29uc2Vuc3VzU3RhdGVzLnB1c2goQ29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIHN9LGZyb21KU09OOnQ9Pih7Y2xpZW50SWQ6byh0LmNsaWVudElkKT9TdHJpbmcodC5jbGllbnRJZCk6XCJcIixjb25zZW5zdXNTdGF0ZXM6QXJyYXkuaXNBcnJheSh0Py5jb25zZW5zdXNTdGF0ZXMpP3QuY29uc2Vuc3VzU3RhdGVzLm1hcCgodD0+Q29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LmZyb21KU09OKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09dC5jbGllbnRJZCYmKGUuY2xpZW50SWQ9dC5jbGllbnRJZCksdC5jb25zZW5zdXNTdGF0ZXM/ZS5jb25zZW5zdXNTdGF0ZXM9dC5jb25zZW5zdXNTdGF0ZXMubWFwKCh0PT50P0NvbnNlbnN1c1N0YXRlV2l0aEhlaWdodC50b0pTT04odCk6dm9pZCAwKSk6ZS5jb25zZW5zdXNTdGF0ZXM9W10sZX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgZT17Y2xpZW50SWQ6XCJcIixjb25zZW5zdXNTdGF0ZXM6W119O3JldHVybiBlLmNsaWVudElkPXQuY2xpZW50SWQ/P1wiXCIsZS5jb25zZW5zdXNTdGF0ZXM9dC5jb25zZW5zdXNTdGF0ZXM/Lm1hcCgodD0+Q29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LmZyb21QYXJ0aWFsKHQpKSl8fFtdLGV9LGZyb21Qcm90b01zZzp0PT5DbGllbnRDb25zZW5zdXNTdGF0ZXMuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+Q2xpZW50Q29uc2Vuc3VzU3RhdGVzLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ2xpZW50Q29uc2Vuc3VzU3RhdGVzXCIsdmFsdWU6Q2xpZW50Q29uc2Vuc3VzU3RhdGVzLmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuQ2xpZW50Q29uc2Vuc3VzU3RhdGVzKENsaWVudENvbnNlbnN1c1N0YXRlcyk7Y29uc3QgQ2xpZW50VXBkYXRlUHJvcG9zYWw9e3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLkNsaWVudFVwZGF0ZVByb3Bvc2FsXCIsZW5jb2RlOih0LGU9bi5jcmVhdGUoKSk9PihcIlwiIT09dC50aXRsZSYmZS51aW50MzIoMTApLnN0cmluZyh0LnRpdGxlKSxcIlwiIT09dC5kZXNjcmlwdGlvbiYmZS51aW50MzIoMTgpLnN0cmluZyh0LmRlc2NyaXB0aW9uKSxcIlwiIT09dC5zdWJqZWN0Q2xpZW50SWQmJmUudWludDMyKDI2KS5zdHJpbmcodC5zdWJqZWN0Q2xpZW50SWQpLFwiXCIhPT10LnN1YnN0aXR1dGVDbGllbnRJZCYmZS51aW50MzIoMzQpLnN0cmluZyh0LnN1YnN0aXR1dGVDbGllbnRJZCksZSksZGVjb2RlKHQsZSl7Y29uc3Qgbj10IGluc3RhbmNlb2YgaT90Om5ldyBpKHQpO2xldCBvPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBzPXskdHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ2xpZW50VXBkYXRlUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIsc3ViamVjdENsaWVudElkOlwiXCIsc3Vic3RpdHV0ZUNsaWVudElkOlwiXCJ9O2Zvcig7bi5wb3M8bzspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTpzLnRpdGxlPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMuZGVzY3JpcHRpb249bi5zdHJpbmcoKTticmVhaztjYXNlIDM6cy5zdWJqZWN0Q2xpZW50SWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDQ6cy5zdWJzdGl0dXRlQ2xpZW50SWQ9bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIHN9LGZyb21KU09OOnQ9Pih7dGl0bGU6byh0LnRpdGxlKT9TdHJpbmcodC50aXRsZSk6XCJcIixkZXNjcmlwdGlvbjpvKHQuZGVzY3JpcHRpb24pP1N0cmluZyh0LmRlc2NyaXB0aW9uKTpcIlwiLHN1YmplY3RDbGllbnRJZDpvKHQuc3ViamVjdENsaWVudElkKT9TdHJpbmcodC5zdWJqZWN0Q2xpZW50SWQpOlwiXCIsc3Vic3RpdHV0ZUNsaWVudElkOm8odC5zdWJzdGl0dXRlQ2xpZW50SWQpP1N0cmluZyh0LnN1YnN0aXR1dGVDbGllbnRJZCk6XCJcIn0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT10LnRpdGxlJiYoZS50aXRsZT10LnRpdGxlKSx2b2lkIDAhPT10LmRlc2NyaXB0aW9uJiYoZS5kZXNjcmlwdGlvbj10LmRlc2NyaXB0aW9uKSx2b2lkIDAhPT10LnN1YmplY3RDbGllbnRJZCYmKGUuc3ViamVjdENsaWVudElkPXQuc3ViamVjdENsaWVudElkKSx2b2lkIDAhPT10LnN1YnN0aXR1dGVDbGllbnRJZCYmKGUuc3Vic3RpdHV0ZUNsaWVudElkPXQuc3Vic3RpdHV0ZUNsaWVudElkKSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXskdHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ2xpZW50VXBkYXRlUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIsc3ViamVjdENsaWVudElkOlwiXCIsc3Vic3RpdHV0ZUNsaWVudElkOlwiXCJ9O3JldHVybiBlLnRpdGxlPXQudGl0bGU/P1wiXCIsZS5kZXNjcmlwdGlvbj10LmRlc2NyaXB0aW9uPz9cIlwiLGUuc3ViamVjdENsaWVudElkPXQuc3ViamVjdENsaWVudElkPz9cIlwiLGUuc3Vic3RpdHV0ZUNsaWVudElkPXQuc3Vic3RpdHV0ZUNsaWVudElkPz9cIlwiLGV9LGZyb21Qcm90b01zZzp0PT5DbGllbnRVcGRhdGVQcm9wb3NhbC5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5DbGllbnRVcGRhdGVQcm9wb3NhbC5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLkNsaWVudFVwZGF0ZVByb3Bvc2FsXCIsdmFsdWU6Q2xpZW50VXBkYXRlUHJvcG9zYWwuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5DbGllbnRVcGRhdGVQcm9wb3NhbChDbGllbnRVcGRhdGVQcm9wb3NhbCk7ZnVuY3Rpb24gcigpe3JldHVybnskdHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuVXBncmFkZVByb3Bvc2FsXCIsdGl0bGU6XCJcIixkZXNjcmlwdGlvbjpcIlwiLHBsYW46ZS5mcm9tUGFydGlhbCh7fSksdXBncmFkZWRDbGllbnRTdGF0ZTp2b2lkIDB9fWNvbnN0IFVwZ3JhZGVQcm9wb3NhbD17dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuVXBncmFkZVByb3Bvc2FsXCIsZW5jb2RlOihpLG89bi5jcmVhdGUoKSk9PihcIlwiIT09aS50aXRsZSYmby51aW50MzIoMTApLnN0cmluZyhpLnRpdGxlKSxcIlwiIT09aS5kZXNjcmlwdGlvbiYmby51aW50MzIoMTgpLnN0cmluZyhpLmRlc2NyaXB0aW9uKSx2b2lkIDAhPT1pLnBsYW4mJmUuZW5jb2RlKGkucGxhbixvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1pLnVwZ3JhZGVkQ2xpZW50U3RhdGUmJnQuZW5jb2RlKGkudXBncmFkZWRDbGllbnRTdGF0ZSxvLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUobixvKXtjb25zdCBzPW4gaW5zdGFuY2VvZiBpP246bmV3IGkobik7bGV0IGw9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IGM9cigpO2Zvcig7cy5wb3M8bDspe2NvbnN0IGk9cy51aW50MzIoKTtzd2l0Y2goaT4+PjMpe2Nhc2UgMTpjLnRpdGxlPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmMuZGVzY3JpcHRpb249cy5zdHJpbmcoKTticmVhaztjYXNlIDM6Yy5wbGFuPWUuZGVjb2RlKHMscy51aW50MzIoKSk7YnJlYWs7Y2FzZSA0OmMudXBncmFkZWRDbGllbnRTdGF0ZT10LmRlY29kZShzLHMudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3JmkpfX1yZXR1cm4gY30sZnJvbUpTT046aT0+KHt0aXRsZTpvKGkudGl0bGUpP1N0cmluZyhpLnRpdGxlKTpcIlwiLGRlc2NyaXB0aW9uOm8oaS5kZXNjcmlwdGlvbik/U3RyaW5nKGkuZGVzY3JpcHRpb24pOlwiXCIscGxhbjpvKGkucGxhbik/ZS5mcm9tSlNPTihpLnBsYW4pOnZvaWQgMCx1cGdyYWRlZENsaWVudFN0YXRlOm8oaS51cGdyYWRlZENsaWVudFN0YXRlKT90LmZyb21KU09OKGkudXBncmFkZWRDbGllbnRTdGF0ZSk6dm9pZCAwfSksdG9KU09OKGkpe2NvbnN0IG49e307cmV0dXJuIHZvaWQgMCE9PWkudGl0bGUmJihuLnRpdGxlPWkudGl0bGUpLHZvaWQgMCE9PWkuZGVzY3JpcHRpb24mJihuLmRlc2NyaXB0aW9uPWkuZGVzY3JpcHRpb24pLHZvaWQgMCE9PWkucGxhbiYmKG4ucGxhbj1pLnBsYW4/ZS50b0pTT04oaS5wbGFuKTp2b2lkIDApLHZvaWQgMCE9PWkudXBncmFkZWRDbGllbnRTdGF0ZSYmKG4udXBncmFkZWRDbGllbnRTdGF0ZT1pLnVwZ3JhZGVkQ2xpZW50U3RhdGU/dC50b0pTT04oaS51cGdyYWRlZENsaWVudFN0YXRlKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKGkpe2NvbnN0IG49cigpO3JldHVybiBuLnRpdGxlPWkudGl0bGU/P1wiXCIsbi5kZXNjcmlwdGlvbj1pLmRlc2NyaXB0aW9uPz9cIlwiLG4ucGxhbj12b2lkIDAhPT1pLnBsYW4mJm51bGwhPT1pLnBsYW4/ZS5mcm9tUGFydGlhbChpLnBsYW4pOnZvaWQgMCxuLnVwZ3JhZGVkQ2xpZW50U3RhdGU9dm9pZCAwIT09aS51cGdyYWRlZENsaWVudFN0YXRlJiZudWxsIT09aS51cGdyYWRlZENsaWVudFN0YXRlP3QuZnJvbVBhcnRpYWwoaS51cGdyYWRlZENsaWVudFN0YXRlKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOnQ9PlVwZ3JhZGVQcm9wb3NhbC5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5VcGdyYWRlUHJvcG9zYWwuZW5jb2RlKHQpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6dD0+KHt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5VcGdyYWRlUHJvcG9zYWxcIix2YWx1ZTpVcGdyYWRlUHJvcG9zYWwuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5VcGdyYWRlUHJvcG9zYWwoVXBncmFkZVByb3Bvc2FsKTtmdW5jdGlvbiBsKCl7cmV0dXJue3JldmlzaW9uTnVtYmVyOkJpZ0ludCgwKSxyZXZpc2lvbkhlaWdodDpCaWdJbnQoMCl9fWNvbnN0IEhlaWdodD17dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuSGVpZ2h0XCIsZW5jb2RlOih0LGU9bi5jcmVhdGUoKSk9Pih0LnJldmlzaW9uTnVtYmVyIT09QmlnSW50KDApJiZlLnVpbnQzMig4KS51aW50NjQodC5yZXZpc2lvbk51bWJlciksdC5yZXZpc2lvbkhlaWdodCE9PUJpZ0ludCgwKSYmZS51aW50MzIoMTYpLnVpbnQ2NCh0LnJldmlzaW9uSGVpZ2h0KSxlKSxkZWNvZGUodCxlKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkodCk7bGV0IG89dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IHM9bCgpO2Zvcig7bi5wb3M8bzspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTpzLnJldmlzaW9uTnVtYmVyPW4udWludDY0KCk7YnJlYWs7Y2FzZSAyOnMucmV2aXNpb25IZWlnaHQ9bi51aW50NjQoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIHN9LGZyb21KU09OOnQ9Pih7cmV2aXNpb25OdW1iZXI6byh0LnJldmlzaW9uTnVtYmVyKT9CaWdJbnQodC5yZXZpc2lvbk51bWJlci50b1N0cmluZygpKTpCaWdJbnQoMCkscmV2aXNpb25IZWlnaHQ6byh0LnJldmlzaW9uSGVpZ2h0KT9CaWdJbnQodC5yZXZpc2lvbkhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09dC5yZXZpc2lvbk51bWJlciYmKGUucmV2aXNpb25OdW1iZXI9KHQucmV2aXNpb25OdW1iZXJ8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09dC5yZXZpc2lvbkhlaWdodCYmKGUucmV2aXNpb25IZWlnaHQ9KHQucmV2aXNpb25IZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksZX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgZT1sKCk7cmV0dXJuIGUucmV2aXNpb25OdW1iZXI9dm9pZCAwIT09dC5yZXZpc2lvbk51bWJlciYmbnVsbCE9PXQucmV2aXNpb25OdW1iZXI/QmlnSW50KHQucmV2aXNpb25OdW1iZXIudG9TdHJpbmcoKSk6QmlnSW50KDApLGUucmV2aXNpb25IZWlnaHQ9dm9pZCAwIT09dC5yZXZpc2lvbkhlaWdodCYmbnVsbCE9PXQucmV2aXNpb25IZWlnaHQ/QmlnSW50KHQucmV2aXNpb25IZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLGV9LGZyb21Qcm90b01zZzp0PT5IZWlnaHQuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+SGVpZ2h0LmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuSGVpZ2h0XCIsdmFsdWU6SGVpZ2h0LmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuSGVpZ2h0KEhlaWdodCk7Y29uc3QgUGFyYW1zPXt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5QYXJhbXNcIixlbmNvZGUodCxlPW4uY3JlYXRlKCkpe2Zvcihjb25zdCBpIG9mIHQuYWxsb3dlZENsaWVudHMpZS51aW50MzIoMTApLnN0cmluZyhpKTtyZXR1cm4gZX0sZGVjb2RlKHQsZSl7Y29uc3Qgbj10IGluc3RhbmNlb2YgaT90Om5ldyBpKHQpO2xldCBvPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBzPXthbGxvd2VkQ2xpZW50czpbXX07Zm9yKDtuLnBvczxvOyl7Y29uc3QgdD1uLnVpbnQzMigpO2lmKHQ+Pj4zPT0xKXMuYWxsb3dlZENsaWVudHMucHVzaChuLnN0cmluZygpKTtlbHNlIG4uc2tpcFR5cGUoNyZ0KX1yZXR1cm4gc30sZnJvbUpTT046dD0+KHthbGxvd2VkQ2xpZW50czpBcnJheS5pc0FycmF5KHQ/LmFsbG93ZWRDbGllbnRzKT90LmFsbG93ZWRDbGllbnRzLm1hcCgodD0+U3RyaW5nKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5hbGxvd2VkQ2xpZW50cz9lLmFsbG93ZWRDbGllbnRzPXQuYWxsb3dlZENsaWVudHMubWFwKCh0PT50KSk6ZS5hbGxvd2VkQ2xpZW50cz1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXthbGxvd2VkQ2xpZW50czpbXX07cmV0dXJuIGUuYWxsb3dlZENsaWVudHM9dC5hbGxvd2VkQ2xpZW50cz8ubWFwKCh0PT50KSl8fFtdLGV9LGZyb21Qcm90b01zZzp0PT5QYXJhbXMuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+UGFyYW1zLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuUGFyYW1zXCIsdmFsdWU6UGFyYW1zLmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFyYW1zKFBhcmFtcyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJJZGVudGlmaWVkQ2xpZW50U3RhdGUiOlsiSWRlbnRpZmllZENsaWVudFN0YXRlIl0sIkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodCI6WyJDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQiXSwiQ2xpZW50Q29uc2Vuc3VzU3RhdGVzIjpbIkNsaWVudENvbnNlbnN1c1N0YXRlcyJdLCJDbGllbnRVcGRhdGVQcm9wb3NhbCI6WyJDbGllbnRVcGRhdGVQcm9wb3NhbCJdLCJVcGdyYWRlUHJvcG9zYWwiOlsiVXBncmFkZVByb3Bvc2FsIl0sIkhlaWdodCI6WyJIZWlnaHQiXSwiUGFyYW1zIjpbIlBhcmFtcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAH2IVofRQAAH0UAAA5AAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9pY3EvdjEvcGFja2V0LmpzeyJpbXBvcnRzIjpbIi4uLy4uL3RlbmRlcm1pbnQvYWJjaS90eXBlcy5qcyIsIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJDb3Ntb3NRdWVyeSIsIkNvc21vc1Jlc3BvbnNlIiwiSW50ZXJjaGFpblF1ZXJ5UGFja2V0QWNrIiwiSW50ZXJjaGFpblF1ZXJ5UGFja2V0RGF0YSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyx0LHIscyxuLGE7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanNcIiwgW1tcIlJlcXVlc3RRdWVyeVwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV0sW1wiUmVzcG9uc2VRdWVyeVwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYygpe3JldHVybntkYXRhOm5ldyBVaW50OEFycmF5LG1lbW86XCJcIn19ICAgICAgIGNvbnN0IEludGVyY2hhaW5RdWVyeVBhY2tldERhdGE9e3R5cGVVcmw6XCIvaWNxLnYxLkludGVyY2hhaW5RdWVyeVBhY2tldERhdGFcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KDAhPT1lLmRhdGEubGVuZ3RoJiZvLnVpbnQzMigxMCkuYnl0ZXMoZS5kYXRhKSxcIlwiIT09ZS5tZW1vJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUubWVtbyksbyksZGVjb2RlKGUsbyl7Y29uc3Qgcj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCBzPXZvaWQgMD09PW8/ci5sZW46ci5wb3Mrbztjb25zdCBuPWMoKTtmb3IoO3IucG9zPHM7KXtjb25zdCBlPXIudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5kYXRhPXIuYnl0ZXMoKTticmVhaztjYXNlIDI6bi5tZW1vPXIuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe2RhdGE6cyhlLmRhdGEpP24oZS5kYXRhKTpuZXcgVWludDhBcnJheSxtZW1vOnMoZS5tZW1vKT9TdHJpbmcoZS5tZW1vKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGF0YSYmKG8uZGF0YT1hKHZvaWQgMCE9PWUuZGF0YT9lLmRhdGE6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLm1lbW8mJihvLm1lbW89ZS5tZW1vKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWMoKTtyZXR1cm4gby5kYXRhPWUuZGF0YT8/bmV3IFVpbnQ4QXJyYXksby5tZW1vPWUubWVtbz8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+SW50ZXJjaGFpblF1ZXJ5UGFja2V0RGF0YS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5JbnRlcmNoYWluUXVlcnlQYWNrZXREYXRhLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9pY3EudjEuSW50ZXJjaGFpblF1ZXJ5UGFja2V0RGF0YVwiLHZhbHVlOkludGVyY2hhaW5RdWVyeVBhY2tldERhdGEuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5JbnRlcmNoYWluUXVlcnlQYWNrZXREYXRhKEludGVyY2hhaW5RdWVyeVBhY2tldERhdGEpO2Z1bmN0aW9uIGkoKXtyZXR1cm57ZGF0YTpuZXcgVWludDhBcnJheX19Y29uc3QgSW50ZXJjaGFpblF1ZXJ5UGFja2V0QWNrPXt0eXBlVXJsOlwiL2ljcS52MS5JbnRlcmNoYWluUXVlcnlQYWNrZXRBY2tcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KDAhPT1lLmRhdGEubGVuZ3RoJiZvLnVpbnQzMigxMCkuYnl0ZXMoZS5kYXRhKSxvKSxkZWNvZGUoZSxvKXtjb25zdCByPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHM9dm9pZCAwPT09bz9yLmxlbjpyLnBvcytvO2NvbnN0IG49aSgpO2Zvcig7ci5wb3M8czspe2NvbnN0IGU9ci51aW50MzIoKTtpZihlPj4+Mz09MSluLmRhdGE9ci5ieXRlcygpO2Vsc2Ugci5za2lwVHlwZSg3JmUpfXJldHVybiBufSxmcm9tSlNPTjplPT4oe2RhdGE6cyhlLmRhdGEpP24oZS5kYXRhKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRhdGEmJihvLmRhdGE9YSh2b2lkIDAhPT1lLmRhdGE/ZS5kYXRhOm5ldyBVaW50OEFycmF5KSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1pKCk7cmV0dXJuIG8uZGF0YT1lLmRhdGE/P25ldyBVaW50OEFycmF5LG99LGZyb21Qcm90b01zZzplPT5JbnRlcmNoYWluUXVlcnlQYWNrZXRBY2suZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+SW50ZXJjaGFpblF1ZXJ5UGFja2V0QWNrLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9pY3EudjEuSW50ZXJjaGFpblF1ZXJ5UGFja2V0QWNrXCIsdmFsdWU6SW50ZXJjaGFpblF1ZXJ5UGFja2V0QWNrLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuSW50ZXJjaGFpblF1ZXJ5UGFja2V0QWNrKEludGVyY2hhaW5RdWVyeVBhY2tldEFjayk7Y29uc3QgQ29zbW9zUXVlcnk9e3R5cGVVcmw6XCIvaWNxLnYxLkNvc21vc1F1ZXJ5XCIsZW5jb2RlKG8sdD1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgciBvZiBvLnJlcXVlc3RzKWUuZW5jb2RlKHIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShvLHIpe2NvbnN0IHM9byBpbnN0YW5jZW9mIHQ/bzpuZXcgdChvKTtsZXQgbj12b2lkIDA9PT1yP3MubGVuOnMucG9zK3I7Y29uc3QgYT17cmVxdWVzdHM6W119O2Zvcig7cy5wb3M8bjspe2NvbnN0IG89cy51aW50MzIoKTtpZihvPj4+Mz09MSlhLnJlcXVlc3RzLnB1c2goZS5kZWNvZGUocyxzLnVpbnQzMigpKSk7ZWxzZSBzLnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7cmVxdWVzdHM6QXJyYXkuaXNBcnJheShvPy5yZXF1ZXN0cyk/by5yZXF1ZXN0cy5tYXAoKG89PmUuZnJvbUpTT04obykpKTpbXX0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiBvLnJlcXVlc3RzP3QucmVxdWVzdHM9by5yZXF1ZXN0cy5tYXAoKG89Pm8/ZS50b0pTT04obyk6dm9pZCAwKSk6dC5yZXF1ZXN0cz1bXSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXtyZXF1ZXN0czpbXX07cmV0dXJuIHQucmVxdWVzdHM9by5yZXF1ZXN0cz8ubWFwKChvPT5lLmZyb21QYXJ0aWFsKG8pKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5Db3Ntb3NRdWVyeS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Db3Ntb3NRdWVyeS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvaWNxLnYxLkNvc21vc1F1ZXJ5XCIsdmFsdWU6Q29zbW9zUXVlcnkuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db3Ntb3NRdWVyeShDb3Ntb3NRdWVyeSk7Y29uc3QgQ29zbW9zUmVzcG9uc2U9e3R5cGVVcmw6XCIvaWNxLnYxLkNvc21vc1Jlc3BvbnNlXCIsZW5jb2RlKGUsdD1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgciBvZiBlLnJlc3BvbnNlcylvLmVuY29kZShyLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSxyKXtjb25zdCBzPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IG49dm9pZCAwPT09cj9zLmxlbjpzLnBvcytyO2NvbnN0IGE9e3Jlc3BvbnNlczpbXX07Zm9yKDtzLnBvczxuOyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWEucmVzcG9uc2VzLnB1c2goby5kZWNvZGUocyxzLnVpbnQzMigpKSk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7cmVzcG9uc2VzOkFycmF5LmlzQXJyYXkoZT8ucmVzcG9uc2VzKT9lLnJlc3BvbnNlcy5tYXAoKGU9Pm8uZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLnJlc3BvbnNlcz90LnJlc3BvbnNlcz1lLnJlc3BvbnNlcy5tYXAoKGU9PmU/by50b0pTT04oZSk6dm9pZCAwKSk6dC5yZXNwb25zZXM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17cmVzcG9uc2VzOltdfTtyZXR1cm4gdC5yZXNwb25zZXM9ZS5yZXNwb25zZXM/Lm1hcCgoZT0+by5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+Q29zbW9zUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Q29zbW9zUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2ljcS52MS5Db3Ntb3NSZXNwb25zZVwiLHZhbHVlOkNvc21vc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29zbW9zUmVzcG9uc2UoQ29zbW9zUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiSW50ZXJjaGFpblF1ZXJ5UGFja2V0RGF0YSI6WyJJbnRlcmNoYWluUXVlcnlQYWNrZXREYXRhIl0sIkludGVyY2hhaW5RdWVyeVBhY2tldEFjayI6WyJJbnRlcmNoYWluUXVlcnlQYWNrZXRBY2siXSwiQ29zbW9zUXVlcnkiOlsiQ29zbW9zUXVlcnkiXSwiQ29zbW9zUmVzcG9uc2UiOlsiQ29zbW9zUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAANQAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vanNvbi1zYWZlLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALtMQjuZigAAmYoAAEEAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvYWJjaS90eXBlcy5qc3siaW1wb3J0cyI6WyIuLi90eXBlcy90eXBlcy5qcyIsIi4uL2NyeXB0by9wcm9vZi5qcyIsIi4uL3R5cGVzL3BhcmFtcy5qcyIsIi4uL2NyeXB0by9rZXlzLmpzIiwiLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qcyIsIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJDaGVja1R4VHlwZSIsIkNoZWNrVHhUeXBlU0RLVHlwZSIsIkV2ZW50IiwiRXZlbnRBdHRyaWJ1dGUiLCJFdmlkZW5jZSIsIkV2aWRlbmNlVHlwZSIsIkV2aWRlbmNlVHlwZVNES1R5cGUiLCJMYXN0Q29tbWl0SW5mbyIsIlJlcXVlc3RCZWdpbkJsb2NrIiwiUmVxdWVzdENoZWNrVHgiLCJSZXF1ZXN0Q29tbWl0IiwiUmVxdWVzdERlbGl2ZXJUeCIsIlJlcXVlc3RFbmRCbG9jayIsIlJlcXVlc3RRdWVyeSIsIlJlc3BvbnNlQmVnaW5CbG9jayIsIlJlc3BvbnNlQ2hlY2tUeCIsIlJlc3BvbnNlQ29tbWl0IiwiUmVzcG9uc2VEZWxpdmVyVHgiLCJSZXNwb25zZUVuZEJsb2NrIiwiUmVzcG9uc2VRdWVyeSIsIlR4UmVzdWx0IiwiVmFsaWRhdG9yIiwiVmFsaWRhdG9yVXBkYXRlIiwiVm90ZUluZm8iLCJjaGVja1R4VHlwZUZyb21KU09OIiwiY2hlY2tUeFR5cGVUb0pTT04iLCJldmlkZW5jZVR5cGVGcm9tSlNPTiIsImV2aWRlbmNlVHlwZVRvSlNPTiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsdCxvLG4saSxyLGEscyxkLGMsbCx1OyRozY9faW1wb3J0cyhbW1wiLi4vdHlwZXMvdHlwZXMuanNcIiwgW1tcIkhlYWRlclwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi9jcnlwdG8vcHJvb2YuanNcIiwgW1tcIlByb29mT3BzXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVzL3BhcmFtcy5qc1wiLCBbW1wiQ29uc2Vuc3VzUGFyYW1zXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uL2NyeXB0by9rZXlzLmpzXCIsIFtbXCJQdWJsaWNLZXlcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qc1wiLCBbW1wiVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dLFtcImZyb21Kc29uVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXSxbXCJmcm9tVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoYyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobCA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+ICh1ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGVja1R4VHlwZUZyb21KU09OLCduYW1lJyx7dmFsdWU6XCJjaGVja1R4VHlwZUZyb21KU09OXCJ9KTskaM2PX29uY2UuY2hlY2tUeFR5cGVGcm9tSlNPTihjaGVja1R4VHlwZUZyb21KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hlY2tUeFR5cGVUb0pTT04sJ25hbWUnLHt2YWx1ZTpcImNoZWNrVHhUeXBlVG9KU09OXCJ9KTskaM2PX29uY2UuY2hlY2tUeFR5cGVUb0pTT04oY2hlY2tUeFR5cGVUb0pTT04pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShldmlkZW5jZVR5cGVGcm9tSlNPTiwnbmFtZScse3ZhbHVlOlwiZXZpZGVuY2VUeXBlRnJvbUpTT05cIn0pOyRozY9fb25jZS5ldmlkZW5jZVR5cGVGcm9tSlNPTihldmlkZW5jZVR5cGVGcm9tSlNPTik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV2aWRlbmNlVHlwZVRvSlNPTiwnbmFtZScse3ZhbHVlOlwiZXZpZGVuY2VUeXBlVG9KU09OXCJ9KTskaM2PX29uY2UuZXZpZGVuY2VUeXBlVG9KU09OKGV2aWRlbmNlVHlwZVRvSlNPTik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGPNj19DaGVja1R4VHlwZTskaM2PX2xpdmUuQ2hlY2tUeFR5cGUoJGPNj19DaGVja1R4VHlwZSk7IWZ1bmN0aW9uKGUpe2VbZS5ORVc9MF09XCJORVdcIixlW2UuUkVDSEVDSz0xXT1cIlJFQ0hFQ0tcIixlW2UuVU5SRUNPR05JWkVEPS0xXT1cIlVOUkVDT0dOSVpFRFwifShDaGVja1R4VHlwZXx8KENoZWNrVHhUeXBlPXt9KSk7Y29uc3QgQ2hlY2tUeFR5cGVTREtUeXBlPUNoZWNrVHhUeXBlOyRozY9fb25jZS5DaGVja1R4VHlwZVNES1R5cGUoQ2hlY2tUeFR5cGVTREtUeXBlKTtmdW5jdGlvbiBjaGVja1R4VHlwZUZyb21KU09OKGUpe3N3aXRjaChlKXtjYXNlIDA6Y2FzZVwiTkVXXCI6cmV0dXJuIENoZWNrVHhUeXBlLk5FVztjYXNlIDE6Y2FzZVwiUkVDSEVDS1wiOnJldHVybiBDaGVja1R4VHlwZS5SRUNIRUNLO2RlZmF1bHQ6cmV0dXJuIENoZWNrVHhUeXBlLlVOUkVDT0dOSVpFRH19ZnVuY3Rpb24gY2hlY2tUeFR5cGVUb0pTT04oZSl7c3dpdGNoKGUpe2Nhc2UgQ2hlY2tUeFR5cGUuTkVXOnJldHVyblwiTkVXXCI7Y2FzZSBDaGVja1R4VHlwZS5SRUNIRUNLOnJldHVyblwiUkVDSEVDS1wiO2Nhc2UgQ2hlY2tUeFR5cGUuVU5SRUNPR05JWkVEOmRlZmF1bHQ6cmV0dXJuXCJVTlJFQ09HTklaRURcIn19dmFyICRjzY9fRXZpZGVuY2VUeXBlOyRozY9fbGl2ZS5FdmlkZW5jZVR5cGUoJGPNj19FdmlkZW5jZVR5cGUpOyFmdW5jdGlvbihlKXtlW2UuVU5LTk9XTj0wXT1cIlVOS05PV05cIixlW2UuRFVQTElDQVRFX1ZPVEU9MV09XCJEVVBMSUNBVEVfVk9URVwiLGVbZS5MSUdIVF9DTElFTlRfQVRUQUNLPTJdPVwiTElHSFRfQ0xJRU5UX0FUVEFDS1wiLGVbZS5VTlJFQ09HTklaRUQ9LTFdPVwiVU5SRUNPR05JWkVEXCJ9KEV2aWRlbmNlVHlwZXx8KEV2aWRlbmNlVHlwZT17fSkpO2NvbnN0IEV2aWRlbmNlVHlwZVNES1R5cGU9RXZpZGVuY2VUeXBlOyRozY9fb25jZS5FdmlkZW5jZVR5cGVTREtUeXBlKEV2aWRlbmNlVHlwZVNES1R5cGUpO2Z1bmN0aW9uIGV2aWRlbmNlVHlwZUZyb21KU09OKGUpe3N3aXRjaChlKXtjYXNlIDA6Y2FzZVwiVU5LTk9XTlwiOnJldHVybiBFdmlkZW5jZVR5cGUuVU5LTk9XTjtjYXNlIDE6Y2FzZVwiRFVQTElDQVRFX1ZPVEVcIjpyZXR1cm4gRXZpZGVuY2VUeXBlLkRVUExJQ0FURV9WT1RFO2Nhc2UgMjpjYXNlXCJMSUdIVF9DTElFTlRfQVRUQUNLXCI6cmV0dXJuIEV2aWRlbmNlVHlwZS5MSUdIVF9DTElFTlRfQVRUQUNLO2RlZmF1bHQ6cmV0dXJuIEV2aWRlbmNlVHlwZS5VTlJFQ09HTklaRUR9fWZ1bmN0aW9uIGV2aWRlbmNlVHlwZVRvSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSBFdmlkZW5jZVR5cGUuVU5LTk9XTjpyZXR1cm5cIlVOS05PV05cIjtjYXNlIEV2aWRlbmNlVHlwZS5EVVBMSUNBVEVfVk9URTpyZXR1cm5cIkRVUExJQ0FURV9WT1RFXCI7Y2FzZSBFdmlkZW5jZVR5cGUuTElHSFRfQ0xJRU5UX0FUVEFDSzpyZXR1cm5cIkxJR0hUX0NMSUVOVF9BVFRBQ0tcIjtjYXNlIEV2aWRlbmNlVHlwZS5VTlJFQ09HTklaRUQ6ZGVmYXVsdDpyZXR1cm5cIlVOUkVDT0dOSVpFRFwifX1mdW5jdGlvbiBwKCl7cmV0dXJue2RhdGE6bmV3IFVpbnQ4QXJyYXkscGF0aDpcIlwiLGhlaWdodDpCaWdJbnQoMCkscHJvdmU6ITF9fWNvbnN0IFJlcXVlc3RRdWVyeT17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdFF1ZXJ5XCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PigwIT09ZS5kYXRhLmxlbmd0aCYmdC51aW50MzIoMTApLmJ5dGVzKGUuZGF0YSksXCJcIiE9PWUucGF0aCYmdC51aW50MzIoMTgpLnN0cmluZyhlLnBhdGgpLGUuaGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMigyNCkuaW50NjQoZS5oZWlnaHQpLCEwPT09ZS5wcm92ZSYmdC51aW50MzIoMzIpLmJvb2woZS5wcm92ZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXAoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kYXRhPW8uYnl0ZXMoKTticmVhaztjYXNlIDI6aS5wYXRoPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmkuaGVpZ2h0PW8uaW50NjQoKTticmVhaztjYXNlIDQ6aS5wcm92ZT1vLmJvb2woKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGF0YTpzKGUuZGF0YSk/bChlLmRhdGEpOm5ldyBVaW50OEFycmF5LHBhdGg6cyhlLnBhdGgpP1N0cmluZyhlLnBhdGgpOlwiXCIsaGVpZ2h0OnMoZS5oZWlnaHQpP0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCkscHJvdmU6ISFzKGUucHJvdmUpJiZCb29sZWFuKGUucHJvdmUpfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGF0YSYmKHQuZGF0YT11KHZvaWQgMCE9PWUuZGF0YT9lLmRhdGE6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnBhdGgmJih0LnBhdGg9ZS5wYXRoKSx2b2lkIDAhPT1lLmhlaWdodCYmKHQuaGVpZ2h0PShlLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLnByb3ZlJiYodC5wcm92ZT1lLnByb3ZlKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXAoKTtyZXR1cm4gdC5kYXRhPWUuZGF0YT8/bmV3IFVpbnQ4QXJyYXksdC5wYXRoPWUucGF0aD8/XCJcIix0LmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5wcm92ZT1lLnByb3ZlPz8hMSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UmVxdWVzdFF1ZXJ5LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlcXVlc3RRdWVyeS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlcXVlc3RRdWVyeVwiLHZhbHVlOlJlcXVlc3RRdWVyeS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlcXVlc3RRdWVyeShSZXF1ZXN0UXVlcnkpO2Z1bmN0aW9uIGcoKXtyZXR1cm57aGFzaDpuZXcgVWludDhBcnJheSxoZWFkZXI6ZS5mcm9tUGFydGlhbCh7fSksbGFzdENvbW1pdEluZm86TGFzdENvbW1pdEluZm8uZnJvbVBhcnRpYWwoe30pLGJ5emFudGluZVZhbGlkYXRvcnM6W119fWNvbnN0IFJlcXVlc3RCZWdpbkJsb2NrPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0QmVnaW5CbG9ja1wiLGVuY29kZSh0LG89YS5jcmVhdGUoKSl7MCE9PXQuaGFzaC5sZW5ndGgmJm8udWludDMyKDEwKS5ieXRlcyh0Lmhhc2gpLHZvaWQgMCE9PXQuaGVhZGVyJiZlLmVuY29kZSh0LmhlYWRlcixvLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT10Lmxhc3RDb21taXRJbmZvJiZMYXN0Q29tbWl0SW5mby5lbmNvZGUodC5sYXN0Q29tbWl0SW5mbyxvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtmb3IoY29uc3QgZSBvZiB0LmJ5emFudGluZVZhbGlkYXRvcnMpRXZpZGVuY2UuZW5jb2RlKGUsby51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG99LGRlY29kZSh0LG8pe2NvbnN0IG49dCBpbnN0YW5jZW9mIHI/dDpuZXcgcih0KTtsZXQgaT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT1nKCk7Zm9yKDtuLnBvczxpOyl7Y29uc3QgdD1uLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmEuaGFzaD1uLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmEuaGVhZGVyPWUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmEubGFzdENvbW1pdEluZm89TGFzdENvbW1pdEluZm8uZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSA0OmEuYnl6YW50aW5lVmFsaWRhdG9ycy5wdXNoKEV2aWRlbmNlLmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7aGFzaDpzKHQuaGFzaCk/bCh0Lmhhc2gpOm5ldyBVaW50OEFycmF5LGhlYWRlcjpzKHQuaGVhZGVyKT9lLmZyb21KU09OKHQuaGVhZGVyKTp2b2lkIDAsbGFzdENvbW1pdEluZm86cyh0Lmxhc3RDb21taXRJbmZvKT9MYXN0Q29tbWl0SW5mby5mcm9tSlNPTih0Lmxhc3RDb21taXRJbmZvKTp2b2lkIDAsYnl6YW50aW5lVmFsaWRhdG9yczpBcnJheS5pc0FycmF5KHQ/LmJ5emFudGluZVZhbGlkYXRvcnMpP3QuYnl6YW50aW5lVmFsaWRhdG9ycy5tYXAoKGU9PkV2aWRlbmNlLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04odCl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09dC5oYXNoJiYoby5oYXNoPXUodm9pZCAwIT09dC5oYXNoP3QuaGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PXQuaGVhZGVyJiYoby5oZWFkZXI9dC5oZWFkZXI/ZS50b0pTT04odC5oZWFkZXIpOnZvaWQgMCksdm9pZCAwIT09dC5sYXN0Q29tbWl0SW5mbyYmKG8ubGFzdENvbW1pdEluZm89dC5sYXN0Q29tbWl0SW5mbz9MYXN0Q29tbWl0SW5mby50b0pTT04odC5sYXN0Q29tbWl0SW5mbyk6dm9pZCAwKSx0LmJ5emFudGluZVZhbGlkYXRvcnM/by5ieXphbnRpbmVWYWxpZGF0b3JzPXQuYnl6YW50aW5lVmFsaWRhdG9ycy5tYXAoKGU9PmU/RXZpZGVuY2UudG9KU09OKGUpOnZvaWQgMCkpOm8uYnl6YW50aW5lVmFsaWRhdG9ycz1bXSxvfSxmcm9tUGFydGlhbCh0KXtjb25zdCBvPWcoKTtyZXR1cm4gby5oYXNoPXQuaGFzaD8/bmV3IFVpbnQ4QXJyYXksby5oZWFkZXI9dm9pZCAwIT09dC5oZWFkZXImJm51bGwhPT10LmhlYWRlcj9lLmZyb21QYXJ0aWFsKHQuaGVhZGVyKTp2b2lkIDAsby5sYXN0Q29tbWl0SW5mbz12b2lkIDAhPT10Lmxhc3RDb21taXRJbmZvJiZudWxsIT09dC5sYXN0Q29tbWl0SW5mbz9MYXN0Q29tbWl0SW5mby5mcm9tUGFydGlhbCh0Lmxhc3RDb21taXRJbmZvKTp2b2lkIDAsby5ieXphbnRpbmVWYWxpZGF0b3JzPXQuYnl6YW50aW5lVmFsaWRhdG9ycz8ubWFwKChlPT5FdmlkZW5jZS5mcm9tUGFydGlhbChlKSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6ZT0+UmVxdWVzdEJlZ2luQmxvY2suZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVxdWVzdEJlZ2luQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0QmVnaW5CbG9ja1wiLHZhbHVlOlJlcXVlc3RCZWdpbkJsb2NrLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVxdWVzdEJlZ2luQmxvY2soUmVxdWVzdEJlZ2luQmxvY2spO2Z1bmN0aW9uIHYoKXtyZXR1cm57dHg6bmV3IFVpbnQ4QXJyYXksdHlwZTowfX1jb25zdCBSZXF1ZXN0Q2hlY2tUeD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdENoZWNrVHhcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KDAhPT1lLnR4Lmxlbmd0aCYmdC51aW50MzIoMTApLmJ5dGVzKGUudHgpLDAhPT1lLnR5cGUmJnQudWludDMyKDE2KS5pbnQzMihlLnR5cGUpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT12KCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkudHg9by5ieXRlcygpO2JyZWFrO2Nhc2UgMjppLnR5cGU9by5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHt0eDpzKGUudHgpP2woZS50eCk6bmV3IFVpbnQ4QXJyYXksdHlwZTpzKGUudHlwZSk/Y2hlY2tUeFR5cGVGcm9tSlNPTihlLnR5cGUpOi0xfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudHgmJih0LnR4PXUodm9pZCAwIT09ZS50eD9lLnR4Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS50eXBlJiYodC50eXBlPWNoZWNrVHhUeXBlVG9KU09OKGUudHlwZSkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9digpO3JldHVybiB0LnR4PWUudHg/P25ldyBVaW50OEFycmF5LHQudHlwZT1lLnR5cGU/PzAsdH0sZnJvbVByb3RvTXNnOmU9PlJlcXVlc3RDaGVja1R4LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlcXVlc3RDaGVja1R4LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdENoZWNrVHhcIix2YWx1ZTpSZXF1ZXN0Q2hlY2tUeC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlcXVlc3RDaGVja1R4KFJlcXVlc3RDaGVja1R4KTtmdW5jdGlvbiBmKCl7cmV0dXJue3R4Om5ldyBVaW50OEFycmF5fX1jb25zdCBSZXF1ZXN0RGVsaXZlclR4PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0RGVsaXZlclR4XCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PigwIT09ZS50eC5sZW5ndGgmJnQudWludDMyKDEwKS5ieXRlcyhlLnR4KSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9ZigpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtpZihlPj4+Mz09MSlpLnR4PW8uYnl0ZXMoKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHt0eDpzKGUudHgpP2woZS50eCk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS50eCYmKHQudHg9dSh2b2lkIDAhPT1lLnR4P2UudHg6bmV3IFVpbnQ4QXJyYXkpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWYoKTtyZXR1cm4gdC50eD1lLnR4Pz9uZXcgVWludDhBcnJheSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UmVxdWVzdERlbGl2ZXJUeC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXF1ZXN0RGVsaXZlclR4LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdERlbGl2ZXJUeFwiLHZhbHVlOlJlcXVlc3REZWxpdmVyVHguZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXF1ZXN0RGVsaXZlclR4KFJlcXVlc3REZWxpdmVyVHgpO2Z1bmN0aW9uIGgoKXtyZXR1cm57aGVpZ2h0OkJpZ0ludCgwKX19Y29uc3QgUmVxdWVzdEVuZEJsb2NrPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0RW5kQmxvY2tcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KGUuaGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMig4KS5pbnQ2NChlLmhlaWdodCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPWgoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7aWYoZT4+PjM9PTEpaS5oZWlnaHQ9by5pbnQ2NCgpO2Vsc2Ugby5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2hlaWdodDpzKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuaGVpZ2h0JiYodC5oZWlnaHQ9KGUuaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9aCgpO3JldHVybiB0LmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PlJlcXVlc3RFbmRCbG9jay5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXF1ZXN0RW5kQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0RW5kQmxvY2tcIix2YWx1ZTpSZXF1ZXN0RW5kQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXF1ZXN0RW5kQmxvY2soUmVxdWVzdEVuZEJsb2NrKTtjb25zdCBSZXF1ZXN0Q29tbWl0PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0Q29tbWl0XCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PnQsZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXt9O2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtvLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+UmVxdWVzdENvbW1pdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXF1ZXN0Q29tbWl0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdENvbW1pdFwiLHZhbHVlOlJlcXVlc3RDb21taXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXF1ZXN0Q29tbWl0KFJlcXVlc3RDb21taXQpO2Z1bmN0aW9uIG0oKXtyZXR1cm57Y29kZTowLGxvZzpcIlwiLGluZm86XCJcIixpbmRleDpCaWdJbnQoMCksa2V5Om5ldyBVaW50OEFycmF5LHZhbHVlOm5ldyBVaW50OEFycmF5LHByb29mT3BzOnZvaWQgMCxoZWlnaHQ6QmlnSW50KDApLGNvZGVzcGFjZTpcIlwifX1jb25zdCBSZXNwb25zZVF1ZXJ5PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZVF1ZXJ5XCIsZW5jb2RlOihlLG89YS5jcmVhdGUoKSk9PigwIT09ZS5jb2RlJiZvLnVpbnQzMig4KS51aW50MzIoZS5jb2RlKSxcIlwiIT09ZS5sb2cmJm8udWludDMyKDI2KS5zdHJpbmcoZS5sb2cpLFwiXCIhPT1lLmluZm8mJm8udWludDMyKDM0KS5zdHJpbmcoZS5pbmZvKSxlLmluZGV4IT09QmlnSW50KDApJiZvLnVpbnQzMig0MCkuaW50NjQoZS5pbmRleCksMCE9PWUua2V5Lmxlbmd0aCYmby51aW50MzIoNTApLmJ5dGVzKGUua2V5KSwwIT09ZS52YWx1ZS5sZW5ndGgmJm8udWludDMyKDU4KS5ieXRlcyhlLnZhbHVlKSx2b2lkIDAhPT1lLnByb29mT3BzJiZ0LmVuY29kZShlLnByb29mT3BzLG8udWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLGUuaGVpZ2h0IT09QmlnSW50KDApJiZvLnVpbnQzMig3MikuaW50NjQoZS5oZWlnaHQpLFwiXCIhPT1lLmNvZGVzcGFjZSYmby51aW50MzIoODIpLnN0cmluZyhlLmNvZGVzcGFjZSksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBpPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPW0oKTtmb3IoO24ucG9zPGk7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5jb2RlPW4udWludDMyKCk7YnJlYWs7Y2FzZSAzOmEubG9nPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmEuaW5mbz1uLnN0cmluZygpO2JyZWFrO2Nhc2UgNTphLmluZGV4PW4uaW50NjQoKTticmVhaztjYXNlIDY6YS5rZXk9bi5ieXRlcygpO2JyZWFrO2Nhc2UgNzphLnZhbHVlPW4uYnl0ZXMoKTticmVhaztjYXNlIDg6YS5wcm9vZk9wcz10LmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgOTphLmhlaWdodD1uLmludDY0KCk7YnJlYWs7Y2FzZSAxMDphLmNvZGVzcGFjZT1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtjb2RlOnMoZS5jb2RlKT9OdW1iZXIoZS5jb2RlKTowLGxvZzpzKGUubG9nKT9TdHJpbmcoZS5sb2cpOlwiXCIsaW5mbzpzKGUuaW5mbyk/U3RyaW5nKGUuaW5mbyk6XCJcIixpbmRleDpzKGUuaW5kZXgpP0JpZ0ludChlLmluZGV4LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxrZXk6cyhlLmtleSk/bChlLmtleSk6bmV3IFVpbnQ4QXJyYXksdmFsdWU6cyhlLnZhbHVlKT9sKGUudmFsdWUpOm5ldyBVaW50OEFycmF5LHByb29mT3BzOnMoZS5wcm9vZk9wcyk/dC5mcm9tSlNPTihlLnByb29mT3BzKTp2b2lkIDAsaGVpZ2h0OnMoZS5oZWlnaHQpP0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksY29kZXNwYWNlOnMoZS5jb2Rlc3BhY2UpP1N0cmluZyhlLmNvZGVzcGFjZSk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNvZGUmJihvLmNvZGU9TWF0aC5yb3VuZChlLmNvZGUpKSx2b2lkIDAhPT1lLmxvZyYmKG8ubG9nPWUubG9nKSx2b2lkIDAhPT1lLmluZm8mJihvLmluZm89ZS5pbmZvKSx2b2lkIDAhPT1lLmluZGV4JiYoby5pbmRleD0oZS5pbmRleHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmtleSYmKG8ua2V5PXUodm9pZCAwIT09ZS5rZXk/ZS5rZXk6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnZhbHVlJiYoby52YWx1ZT11KHZvaWQgMCE9PWUudmFsdWU/ZS52YWx1ZTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUucHJvb2ZPcHMmJihvLnByb29mT3BzPWUucHJvb2ZPcHM/dC50b0pTT04oZS5wcm9vZk9wcyk6dm9pZCAwKSx2b2lkIDAhPT1lLmhlaWdodCYmKG8uaGVpZ2h0PShlLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmNvZGVzcGFjZSYmKG8uY29kZXNwYWNlPWUuY29kZXNwYWNlKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPW0oKTtyZXR1cm4gby5jb2RlPWUuY29kZT8/MCxvLmxvZz1lLmxvZz8/XCJcIixvLmluZm89ZS5pbmZvPz9cIlwiLG8uaW5kZXg9dm9pZCAwIT09ZS5pbmRleCYmbnVsbCE9PWUuaW5kZXg/QmlnSW50KGUuaW5kZXgudG9TdHJpbmcoKSk6QmlnSW50KDApLG8ua2V5PWUua2V5Pz9uZXcgVWludDhBcnJheSxvLnZhbHVlPWUudmFsdWU/P25ldyBVaW50OEFycmF5LG8ucHJvb2ZPcHM9dm9pZCAwIT09ZS5wcm9vZk9wcyYmbnVsbCE9PWUucHJvb2ZPcHM/dC5mcm9tUGFydGlhbChlLnByb29mT3BzKTp2b2lkIDAsby5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLG8uY29kZXNwYWNlPWUuY29kZXNwYWNlPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5SZXNwb25zZVF1ZXJ5LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlc3BvbnNlUXVlcnkuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZVF1ZXJ5XCIsdmFsdWU6UmVzcG9uc2VRdWVyeS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlc3BvbnNlUXVlcnkoUmVzcG9uc2VRdWVyeSk7Y29uc3QgUmVzcG9uc2VCZWdpbkJsb2NrPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUJlZ2luQmxvY2tcIixlbmNvZGUoZSx0PWEuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUuZXZlbnRzKUV2ZW50LmVuY29kZShvLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e2V2ZW50czpbXX07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkuZXZlbnRzLnB1c2goRXZlbnQuZGVjb2RlKG8sby51aW50MzIoKSkpO2Vsc2Ugby5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2V2ZW50czpBcnJheS5pc0FycmF5KGU/LmV2ZW50cyk/ZS5ldmVudHMubWFwKChlPT5FdmVudC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIGUuZXZlbnRzP3QuZXZlbnRzPWUuZXZlbnRzLm1hcCgoZT0+ZT9FdmVudC50b0pTT04oZSk6dm9pZCAwKSk6dC5ldmVudHM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZXZlbnRzOltdfTtyZXR1cm4gdC5ldmVudHM9ZS5ldmVudHM/Lm1hcCgoZT0+RXZlbnQuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PlJlc3BvbnNlQmVnaW5CbG9jay5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXNwb25zZUJlZ2luQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUJlZ2luQmxvY2tcIix2YWx1ZTpSZXNwb25zZUJlZ2luQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXNwb25zZUJlZ2luQmxvY2soUmVzcG9uc2VCZWdpbkJsb2NrKTtmdW5jdGlvbiB5KCl7cmV0dXJue2NvZGU6MCxkYXRhOm5ldyBVaW50OEFycmF5LGxvZzpcIlwiLGluZm86XCJcIixnYXNXYW50ZWQ6QmlnSW50KDApLGdhc1VzZWQ6QmlnSW50KDApLGV2ZW50czpbXSxjb2Rlc3BhY2U6XCJcIn19Y29uc3QgUmVzcG9uc2VDaGVja1R4PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUNoZWNrVHhcIixlbmNvZGUoZSx0PWEuY3JlYXRlKCkpezAhPT1lLmNvZGUmJnQudWludDMyKDgpLnVpbnQzMihlLmNvZGUpLDAhPT1lLmRhdGEubGVuZ3RoJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS5kYXRhKSxcIlwiIT09ZS5sb2cmJnQudWludDMyKDI2KS5zdHJpbmcoZS5sb2cpLFwiXCIhPT1lLmluZm8mJnQudWludDMyKDM0KS5zdHJpbmcoZS5pbmZvKSxlLmdhc1dhbnRlZCE9PUJpZ0ludCgwKSYmdC51aW50MzIoNDApLmludDY0KGUuZ2FzV2FudGVkKSxlLmdhc1VzZWQhPT1CaWdJbnQoMCkmJnQudWludDMyKDQ4KS5pbnQ2NChlLmdhc1VzZWQpO2Zvcihjb25zdCBvIG9mIGUuZXZlbnRzKUV2ZW50LmVuY29kZShvLHQudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVyblwiXCIhPT1lLmNvZGVzcGFjZSYmdC51aW50MzIoNjYpLnN0cmluZyhlLmNvZGVzcGFjZSksdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXkoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5jb2RlPW8udWludDMyKCk7YnJlYWs7Y2FzZSAyOmkuZGF0YT1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmkubG9nPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmkuaW5mbz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgNTppLmdhc1dhbnRlZD1vLmludDY0KCk7YnJlYWs7Y2FzZSA2OmkuZ2FzVXNlZD1vLmludDY0KCk7YnJlYWs7Y2FzZSA3OmkuZXZlbnRzLnB1c2goRXZlbnQuZGVjb2RlKG8sby51aW50MzIoKSkpO2JyZWFrO2Nhc2UgODppLmNvZGVzcGFjZT1vLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtjb2RlOnMoZS5jb2RlKT9OdW1iZXIoZS5jb2RlKTowLGRhdGE6cyhlLmRhdGEpP2woZS5kYXRhKTpuZXcgVWludDhBcnJheSxsb2c6cyhlLmxvZyk/U3RyaW5nKGUubG9nKTpcIlwiLGluZm86cyhlLmluZm8pP1N0cmluZyhlLmluZm8pOlwiXCIsZ2FzV2FudGVkOnMoZS5nYXNfd2FudGVkKT9CaWdJbnQoZS5nYXNfd2FudGVkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxnYXNVc2VkOnMoZS5nYXNfdXNlZCk/QmlnSW50KGUuZ2FzX3VzZWQudG9TdHJpbmcoKSk6QmlnSW50KDApLGV2ZW50czpBcnJheS5pc0FycmF5KGU/LmV2ZW50cyk/ZS5ldmVudHMubWFwKChlPT5FdmVudC5mcm9tSlNPTihlKSkpOltdLGNvZGVzcGFjZTpzKGUuY29kZXNwYWNlKT9TdHJpbmcoZS5jb2Rlc3BhY2UpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5jb2RlJiYodC5jb2RlPU1hdGgucm91bmQoZS5jb2RlKSksdm9pZCAwIT09ZS5kYXRhJiYodC5kYXRhPXUodm9pZCAwIT09ZS5kYXRhP2UuZGF0YTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUubG9nJiYodC5sb2c9ZS5sb2cpLHZvaWQgMCE9PWUuaW5mbyYmKHQuaW5mbz1lLmluZm8pLHZvaWQgMCE9PWUuZ2FzV2FudGVkJiYodC5nYXNfd2FudGVkPShlLmdhc1dhbnRlZHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmdhc1VzZWQmJih0Lmdhc191c2VkPShlLmdhc1VzZWR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksZS5ldmVudHM/dC5ldmVudHM9ZS5ldmVudHMubWFwKChlPT5lP0V2ZW50LnRvSlNPTihlKTp2b2lkIDApKTp0LmV2ZW50cz1bXSx2b2lkIDAhPT1lLmNvZGVzcGFjZSYmKHQuY29kZXNwYWNlPWUuY29kZXNwYWNlKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXkoKTtyZXR1cm4gdC5jb2RlPWUuY29kZT8/MCx0LmRhdGE9ZS5kYXRhPz9uZXcgVWludDhBcnJheSx0LmxvZz1lLmxvZz8/XCJcIix0LmluZm89ZS5pbmZvPz9cIlwiLHQuZ2FzV2FudGVkPXZvaWQgMCE9PWUuZ2FzV2FudGVkJiZudWxsIT09ZS5nYXNXYW50ZWQ/QmlnSW50KGUuZ2FzV2FudGVkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0Lmdhc1VzZWQ9dm9pZCAwIT09ZS5nYXNVc2VkJiZudWxsIT09ZS5nYXNVc2VkP0JpZ0ludChlLmdhc1VzZWQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQuZXZlbnRzPWUuZXZlbnRzPy5tYXAoKGU9PkV2ZW50LmZyb21QYXJ0aWFsKGUpKSl8fFtdLHQuY29kZXNwYWNlPWUuY29kZXNwYWNlPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5SZXNwb25zZUNoZWNrVHguZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVzcG9uc2VDaGVja1R4LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VDaGVja1R4XCIsdmFsdWU6UmVzcG9uc2VDaGVja1R4LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVzcG9uc2VDaGVja1R4KFJlc3BvbnNlQ2hlY2tUeCk7ZnVuY3Rpb24gYigpe3JldHVybntjb2RlOjAsZGF0YTpuZXcgVWludDhBcnJheSxsb2c6XCJcIixpbmZvOlwiXCIsZ2FzV2FudGVkOkJpZ0ludCgwKSxnYXNVc2VkOkJpZ0ludCgwKSxldmVudHM6W10sY29kZXNwYWNlOlwiXCJ9fWNvbnN0IFJlc3BvbnNlRGVsaXZlclR4PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZURlbGl2ZXJUeFwiLGVuY29kZShlLHQ9YS5jcmVhdGUoKSl7MCE9PWUuY29kZSYmdC51aW50MzIoOCkudWludDMyKGUuY29kZSksMCE9PWUuZGF0YS5sZW5ndGgmJnQudWludDMyKDE4KS5ieXRlcyhlLmRhdGEpLFwiXCIhPT1lLmxvZyYmdC51aW50MzIoMjYpLnN0cmluZyhlLmxvZyksXCJcIiE9PWUuaW5mbyYmdC51aW50MzIoMzQpLnN0cmluZyhlLmluZm8pLGUuZ2FzV2FudGVkIT09QmlnSW50KDApJiZ0LnVpbnQzMig0MCkuaW50NjQoZS5nYXNXYW50ZWQpLGUuZ2FzVXNlZCE9PUJpZ0ludCgwKSYmdC51aW50MzIoNDgpLmludDY0KGUuZ2FzVXNlZCk7Zm9yKGNvbnN0IG8gb2YgZS5ldmVudHMpRXZlbnQuZW5jb2RlKG8sdC51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuXCJcIiE9PWUuY29kZXNwYWNlJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuY29kZXNwYWNlKSx0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9YigpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLmNvZGU9by51aW50MzIoKTticmVhaztjYXNlIDI6aS5kYXRhPW8uYnl0ZXMoKTticmVhaztjYXNlIDM6aS5sb2c9by5zdHJpbmcoKTticmVhaztjYXNlIDQ6aS5pbmZvPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OmkuZ2FzV2FudGVkPW8uaW50NjQoKTticmVhaztjYXNlIDY6aS5nYXNVc2VkPW8uaW50NjQoKTticmVhaztjYXNlIDc6aS5ldmVudHMucHVzaChFdmVudC5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA4OmkuY29kZXNwYWNlPW8uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2NvZGU6cyhlLmNvZGUpP051bWJlcihlLmNvZGUpOjAsZGF0YTpzKGUuZGF0YSk/bChlLmRhdGEpOm5ldyBVaW50OEFycmF5LGxvZzpzKGUubG9nKT9TdHJpbmcoZS5sb2cpOlwiXCIsaW5mbzpzKGUuaW5mbyk/U3RyaW5nKGUuaW5mbyk6XCJcIixnYXNXYW50ZWQ6cyhlLmdhc193YW50ZWQpP0JpZ0ludChlLmdhc193YW50ZWQudG9TdHJpbmcoKSk6QmlnSW50KDApLGdhc1VzZWQ6cyhlLmdhc191c2VkKT9CaWdJbnQoZS5nYXNfdXNlZC50b1N0cmluZygpKTpCaWdJbnQoMCksZXZlbnRzOkFycmF5LmlzQXJyYXkoZT8uZXZlbnRzKT9lLmV2ZW50cy5tYXAoKGU9PkV2ZW50LmZyb21KU09OKGUpKSk6W10sY29kZXNwYWNlOnMoZS5jb2Rlc3BhY2UpP1N0cmluZyhlLmNvZGVzcGFjZSk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmNvZGUmJih0LmNvZGU9TWF0aC5yb3VuZChlLmNvZGUpKSx2b2lkIDAhPT1lLmRhdGEmJih0LmRhdGE9dSh2b2lkIDAhPT1lLmRhdGE/ZS5kYXRhOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5sb2cmJih0LmxvZz1lLmxvZyksdm9pZCAwIT09ZS5pbmZvJiYodC5pbmZvPWUuaW5mbyksdm9pZCAwIT09ZS5nYXNXYW50ZWQmJih0Lmdhc193YW50ZWQ9KGUuZ2FzV2FudGVkfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUuZ2FzVXNlZCYmKHQuZ2FzX3VzZWQ9KGUuZ2FzVXNlZHx8QmlnSW50KDApKS50b1N0cmluZygpKSxlLmV2ZW50cz90LmV2ZW50cz1lLmV2ZW50cy5tYXAoKGU9PmU/RXZlbnQudG9KU09OKGUpOnZvaWQgMCkpOnQuZXZlbnRzPVtdLHZvaWQgMCE9PWUuY29kZXNwYWNlJiYodC5jb2Rlc3BhY2U9ZS5jb2Rlc3BhY2UpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9YigpO3JldHVybiB0LmNvZGU9ZS5jb2RlPz8wLHQuZGF0YT1lLmRhdGE/P25ldyBVaW50OEFycmF5LHQubG9nPWUubG9nPz9cIlwiLHQuaW5mbz1lLmluZm8/P1wiXCIsdC5nYXNXYW50ZWQ9dm9pZCAwIT09ZS5nYXNXYW50ZWQmJm51bGwhPT1lLmdhc1dhbnRlZD9CaWdJbnQoZS5nYXNXYW50ZWQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQuZ2FzVXNlZD12b2lkIDAhPT1lLmdhc1VzZWQmJm51bGwhPT1lLmdhc1VzZWQ/QmlnSW50KGUuZ2FzVXNlZC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5ldmVudHM9ZS5ldmVudHM/Lm1hcCgoZT0+RXZlbnQuZnJvbVBhcnRpYWwoZSkpKXx8W10sdC5jb2Rlc3BhY2U9ZS5jb2Rlc3BhY2U/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PlJlc3BvbnNlRGVsaXZlclR4LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlc3BvbnNlRGVsaXZlclR4LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VEZWxpdmVyVHhcIix2YWx1ZTpSZXNwb25zZURlbGl2ZXJUeC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlc3BvbnNlRGVsaXZlclR4KFJlc3BvbnNlRGVsaXZlclR4KTtjb25zdCBSZXNwb25zZUVuZEJsb2NrPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUVuZEJsb2NrXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnZhbGlkYXRvclVwZGF0ZXMpVmFsaWRhdG9yVXBkYXRlLmVuY29kZShvLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3ZvaWQgMCE9PWUuY29uc2Vuc3VzUGFyYW1VcGRhdGVzJiZvLmVuY29kZShlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtmb3IoY29uc3QgbyBvZiBlLmV2ZW50cylFdmVudC5lbmNvZGUobyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBpPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCBhPXt2YWxpZGF0b3JVcGRhdGVzOltdLGNvbnNlbnN1c1BhcmFtVXBkYXRlczp2b2lkIDAsZXZlbnRzOltdfTtmb3IoO24ucG9zPGk7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS52YWxpZGF0b3JVcGRhdGVzLnB1c2goVmFsaWRhdG9yVXBkYXRlLmRlY29kZShuLG4udWludDMyKCkpKTticmVhaztjYXNlIDI6YS5jb25zZW5zdXNQYXJhbVVwZGF0ZXM9by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDM6YS5ldmVudHMucHVzaChFdmVudC5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe3ZhbGlkYXRvclVwZGF0ZXM6QXJyYXkuaXNBcnJheShlPy52YWxpZGF0b3JVcGRhdGVzKT9lLnZhbGlkYXRvclVwZGF0ZXMubWFwKChlPT5WYWxpZGF0b3JVcGRhdGUuZnJvbUpTT04oZSkpKTpbXSxjb25zZW5zdXNQYXJhbVVwZGF0ZXM6cyhlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyk/by5mcm9tSlNPTihlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyk6dm9pZCAwLGV2ZW50czpBcnJheS5pc0FycmF5KGU/LmV2ZW50cyk/ZS5ldmVudHMubWFwKChlPT5FdmVudC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIGUudmFsaWRhdG9yVXBkYXRlcz90LnZhbGlkYXRvclVwZGF0ZXM9ZS52YWxpZGF0b3JVcGRhdGVzLm1hcCgoZT0+ZT9WYWxpZGF0b3JVcGRhdGUudG9KU09OKGUpOnZvaWQgMCkpOnQudmFsaWRhdG9yVXBkYXRlcz1bXSx2b2lkIDAhPT1lLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyYmKHQuY29uc2Vuc3VzUGFyYW1VcGRhdGVzPWUuY29uc2Vuc3VzUGFyYW1VcGRhdGVzP28udG9KU09OKGUuY29uc2Vuc3VzUGFyYW1VcGRhdGVzKTp2b2lkIDApLGUuZXZlbnRzP3QuZXZlbnRzPWUuZXZlbnRzLm1hcCgoZT0+ZT9FdmVudC50b0pTT04oZSk6dm9pZCAwKSk6dC5ldmVudHM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17dmFsaWRhdG9yVXBkYXRlczpbXSxjb25zZW5zdXNQYXJhbVVwZGF0ZXM6dm9pZCAwLGV2ZW50czpbXX07cmV0dXJuIHQudmFsaWRhdG9yVXBkYXRlcz1lLnZhbGlkYXRvclVwZGF0ZXM/Lm1hcCgoZT0+VmFsaWRhdG9yVXBkYXRlLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHQuY29uc2Vuc3VzUGFyYW1VcGRhdGVzPXZvaWQgMCE9PWUuY29uc2Vuc3VzUGFyYW1VcGRhdGVzJiZudWxsIT09ZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXM/by5mcm9tUGFydGlhbChlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyk6dm9pZCAwLHQuZXZlbnRzPWUuZXZlbnRzPy5tYXAoKGU9PkV2ZW50LmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5SZXNwb25zZUVuZEJsb2NrLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlc3BvbnNlRW5kQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUVuZEJsb2NrXCIsdmFsdWU6UmVzcG9uc2VFbmRCbG9jay5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlc3BvbnNlRW5kQmxvY2soUmVzcG9uc2VFbmRCbG9jayk7ZnVuY3Rpb24gaygpe3JldHVybntkYXRhOm5ldyBVaW50OEFycmF5LHJldGFpbkhlaWdodDpCaWdJbnQoMCl9fWNvbnN0IFJlc3BvbnNlQ29tbWl0PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUNvbW1pdFwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oMCE9PWUuZGF0YS5sZW5ndGgmJnQudWludDMyKDE4KS5ieXRlcyhlLmRhdGEpLGUucmV0YWluSGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMigyNCkuaW50NjQoZS5yZXRhaW5IZWlnaHQpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT1rKCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAyOmkuZGF0YT1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmkucmV0YWluSGVpZ2h0PW8uaW50NjQoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGF0YTpzKGUuZGF0YSk/bChlLmRhdGEpOm5ldyBVaW50OEFycmF5LHJldGFpbkhlaWdodDpzKGUucmV0YWluSGVpZ2h0KT9CaWdJbnQoZS5yZXRhaW5IZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGF0YSYmKHQuZGF0YT11KHZvaWQgMCE9PWUuZGF0YT9lLmRhdGE6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnJldGFpbkhlaWdodCYmKHQucmV0YWluSGVpZ2h0PShlLnJldGFpbkhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWsoKTtyZXR1cm4gdC5kYXRhPWUuZGF0YT8/bmV3IFVpbnQ4QXJyYXksdC5yZXRhaW5IZWlnaHQ9dm9pZCAwIT09ZS5yZXRhaW5IZWlnaHQmJm51bGwhPT1lLnJldGFpbkhlaWdodD9CaWdJbnQoZS5yZXRhaW5IZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzplPT5SZXNwb25zZUNvbW1pdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXNwb25zZUNvbW1pdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlc3BvbnNlQ29tbWl0XCIsdmFsdWU6UmVzcG9uc2VDb21taXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXNwb25zZUNvbW1pdChSZXNwb25zZUNvbW1pdCk7Y29uc3QgTGFzdENvbW1pdEluZm89e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLkxhc3RDb21taXRJbmZvXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXswIT09ZS5yb3VuZCYmdC51aW50MzIoOCkuaW50MzIoZS5yb3VuZCk7Zm9yKGNvbnN0IG8gb2YgZS52b3RlcylWb3RlSW5mby5lbmNvZGUobyx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXtyb3VuZDowLHZvdGVzOltdfTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5yb3VuZD1vLmludDMyKCk7YnJlYWs7Y2FzZSAyOmkudm90ZXMucHVzaChWb3RlSW5mby5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3JvdW5kOnMoZS5yb3VuZCk/TnVtYmVyKGUucm91bmQpOjAsdm90ZXM6QXJyYXkuaXNBcnJheShlPy52b3Rlcyk/ZS52b3Rlcy5tYXAoKGU9PlZvdGVJbmZvLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5yb3VuZCYmKHQucm91bmQ9TWF0aC5yb3VuZChlLnJvdW5kKSksZS52b3Rlcz90LnZvdGVzPWUudm90ZXMubWFwKChlPT5lP1ZvdGVJbmZvLnRvSlNPTihlKTp2b2lkIDApKTp0LnZvdGVzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3JvdW5kOjAsdm90ZXM6W119O3JldHVybiB0LnJvdW5kPWUucm91bmQ/PzAsdC52b3Rlcz1lLnZvdGVzPy5tYXAoKGU9PlZvdGVJbmZvLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5MYXN0Q29tbWl0SW5mby5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5MYXN0Q29tbWl0SW5mby5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLkxhc3RDb21taXRJbmZvXCIsdmFsdWU6TGFzdENvbW1pdEluZm8uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5MYXN0Q29tbWl0SW5mbyhMYXN0Q29tbWl0SW5mbyk7Y29uc3QgRXZlbnQ9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLkV2ZW50XCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtcIlwiIT09ZS50eXBlJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUudHlwZSk7Zm9yKGNvbnN0IG8gb2YgZS5hdHRyaWJ1dGVzKUV2ZW50QXR0cmlidXRlLmVuY29kZShvLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9e3R5cGU6XCJcIixhdHRyaWJ1dGVzOltdfTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS50eXBlPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkuYXR0cmlidXRlcy5wdXNoKEV2ZW50QXR0cmlidXRlLmRlY29kZShvLG8udWludDMyKCkpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dHlwZTpzKGUudHlwZSk/U3RyaW5nKGUudHlwZSk6XCJcIixhdHRyaWJ1dGVzOkFycmF5LmlzQXJyYXkoZT8uYXR0cmlidXRlcyk/ZS5hdHRyaWJ1dGVzLm1hcCgoZT0+RXZlbnRBdHRyaWJ1dGUuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnR5cGUmJih0LnR5cGU9ZS50eXBlKSxlLmF0dHJpYnV0ZXM/dC5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlcy5tYXAoKGU9PmU/RXZlbnRBdHRyaWJ1dGUudG9KU09OKGUpOnZvaWQgMCkpOnQuYXR0cmlidXRlcz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXt0eXBlOlwiXCIsYXR0cmlidXRlczpbXX07cmV0dXJuIHQudHlwZT1lLnR5cGU/P1wiXCIsdC5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlcz8ubWFwKChlPT5FdmVudEF0dHJpYnV0ZS5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+RXZlbnQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RXZlbnQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5FdmVudFwiLHZhbHVlOkV2ZW50LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRXZlbnQoRXZlbnQpO2Z1bmN0aW9uIFUoKXtyZXR1cm57a2V5Om5ldyBVaW50OEFycmF5LHZhbHVlOm5ldyBVaW50OEFycmF5LGluZGV4OiExfX1jb25zdCBFdmVudEF0dHJpYnV0ZT17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuRXZlbnRBdHRyaWJ1dGVcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KDAhPT1lLmtleS5sZW5ndGgmJnQudWludDMyKDEwKS5ieXRlcyhlLmtleSksMCE9PWUudmFsdWUubGVuZ3RoJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS52YWx1ZSksITA9PT1lLmluZGV4JiZ0LnVpbnQzMigyNCkuYm9vbChlLmluZGV4KSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9VSgpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLmtleT1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmkudmFsdWU9by5ieXRlcygpO2JyZWFrO2Nhc2UgMzppLmluZGV4PW8uYm9vbCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtrZXk6cyhlLmtleSk/bChlLmtleSk6bmV3IFVpbnQ4QXJyYXksdmFsdWU6cyhlLnZhbHVlKT9sKGUudmFsdWUpOm5ldyBVaW50OEFycmF5LGluZGV4OiEhcyhlLmluZGV4KSYmQm9vbGVhbihlLmluZGV4KX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmtleSYmKHQua2V5PXUodm9pZCAwIT09ZS5rZXk/ZS5rZXk6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnZhbHVlJiYodC52YWx1ZT11KHZvaWQgMCE9PWUudmFsdWU/ZS52YWx1ZTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUuaW5kZXgmJih0LmluZGV4PWUuaW5kZXgpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9VSgpO3JldHVybiB0LmtleT1lLmtleT8/bmV3IFVpbnQ4QXJyYXksdC52YWx1ZT1lLnZhbHVlPz9uZXcgVWludDhBcnJheSx0LmluZGV4PWUuaW5kZXg/PyExLHR9LGZyb21Qcm90b01zZzplPT5FdmVudEF0dHJpYnV0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5FdmVudEF0dHJpYnV0ZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLkV2ZW50QXR0cmlidXRlXCIsdmFsdWU6RXZlbnRBdHRyaWJ1dGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5FdmVudEF0dHJpYnV0ZShFdmVudEF0dHJpYnV0ZSk7ZnVuY3Rpb24gSSgpe3JldHVybntoZWlnaHQ6QmlnSW50KDApLGluZGV4OjAsdHg6bmV3IFVpbnQ4QXJyYXkscmVzdWx0OlJlc3BvbnNlRGVsaXZlclR4LmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgVHhSZXN1bHQ9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlR4UmVzdWx0XCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PihlLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoOCkuaW50NjQoZS5oZWlnaHQpLDAhPT1lLmluZGV4JiZ0LnVpbnQzMigxNikudWludDMyKGUuaW5kZXgpLDAhPT1lLnR4Lmxlbmd0aCYmdC51aW50MzIoMjYpLmJ5dGVzKGUudHgpLHZvaWQgMCE9PWUucmVzdWx0JiZSZXNwb25zZURlbGl2ZXJUeC5lbmNvZGUoZS5yZXN1bHQsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPUkoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5oZWlnaHQ9by5pbnQ2NCgpO2JyZWFrO2Nhc2UgMjppLmluZGV4PW8udWludDMyKCk7YnJlYWs7Y2FzZSAzOmkudHg9by5ieXRlcygpO2JyZWFrO2Nhc2UgNDppLnJlc3VsdD1SZXNwb25zZURlbGl2ZXJUeC5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7aGVpZ2h0OnMoZS5oZWlnaHQpP0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksaW5kZXg6cyhlLmluZGV4KT9OdW1iZXIoZS5pbmRleCk6MCx0eDpzKGUudHgpP2woZS50eCk6bmV3IFVpbnQ4QXJyYXkscmVzdWx0OnMoZS5yZXN1bHQpP1Jlc3BvbnNlRGVsaXZlclR4LmZyb21KU09OKGUucmVzdWx0KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5oZWlnaHQmJih0LmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5pbmRleCYmKHQuaW5kZXg9TWF0aC5yb3VuZChlLmluZGV4KSksdm9pZCAwIT09ZS50eCYmKHQudHg9dSh2b2lkIDAhPT1lLnR4P2UudHg6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnJlc3VsdCYmKHQucmVzdWx0PWUucmVzdWx0P1Jlc3BvbnNlRGVsaXZlclR4LnRvSlNPTihlLnJlc3VsdCk6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PUkoKTtyZXR1cm4gdC5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQuaW5kZXg9ZS5pbmRleD8/MCx0LnR4PWUudHg/P25ldyBVaW50OEFycmF5LHQucmVzdWx0PXZvaWQgMCE9PWUucmVzdWx0JiZudWxsIT09ZS5yZXN1bHQ/UmVzcG9uc2VEZWxpdmVyVHguZnJvbVBhcnRpYWwoZS5yZXN1bHQpOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6ZT0+VHhSZXN1bHQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VHhSZXN1bHQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5UeFJlc3VsdFwiLHZhbHVlOlR4UmVzdWx0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVHhSZXN1bHQoVHhSZXN1bHQpO2Z1bmN0aW9uIHgoKXtyZXR1cm57YWRkcmVzczpuZXcgVWludDhBcnJheSxwb3dlcjpCaWdJbnQoMCl9fWNvbnN0IFZhbGlkYXRvcj17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuVmFsaWRhdG9yXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PigwIT09ZS5hZGRyZXNzLmxlbmd0aCYmdC51aW50MzIoMTApLmJ5dGVzKGUuYWRkcmVzcyksZS5wb3dlciE9PUJpZ0ludCgwKSYmdC51aW50MzIoMjQpLmludDY0KGUucG93ZXIpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT14KCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuYWRkcmVzcz1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmkucG93ZXI9by5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHthZGRyZXNzOnMoZS5hZGRyZXNzKT9sKGUuYWRkcmVzcyk6bmV3IFVpbnQ4QXJyYXkscG93ZXI6cyhlLnBvd2VyKT9CaWdJbnQoZS5wb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5hZGRyZXNzJiYodC5hZGRyZXNzPXUodm9pZCAwIT09ZS5hZGRyZXNzP2UuYWRkcmVzczpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUucG93ZXImJih0LnBvd2VyPShlLnBvd2VyfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9eCgpO3JldHVybiB0LmFkZHJlc3M9ZS5hZGRyZXNzPz9uZXcgVWludDhBcnJheSx0LnBvd2VyPXZvaWQgMCE9PWUucG93ZXImJm51bGwhPT1lLnBvd2VyP0JpZ0ludChlLnBvd2VyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+VmFsaWRhdG9yLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlZhbGlkYXRvclwiLHZhbHVlOlZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvcihWYWxpZGF0b3IpO2Z1bmN0aW9uIEIoKXtyZXR1cm57cHViS2V5Om4uZnJvbVBhcnRpYWwoe30pLHBvd2VyOkJpZ0ludCgwKX19Y29uc3QgVmFsaWRhdG9yVXBkYXRlPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5WYWxpZGF0b3JVcGRhdGVcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUucHViS2V5JiZuLmVuY29kZShlLnB1YktleSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlLnBvd2VyIT09QmlnSW50KDApJiZ0LnVpbnQzMigxNikuaW50NjQoZS5wb3dlciksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBhPUIoKTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5wdWJLZXk9bi5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDI6YS5wb3dlcj1vLmludDY0KCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe3B1YktleTpzKGUucHViS2V5KT9uLmZyb21KU09OKGUucHViS2V5KTp2b2lkIDAscG93ZXI6cyhlLnBvd2VyKT9CaWdJbnQoZS5wb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5wdWJLZXkmJih0LnB1YktleT1lLnB1YktleT9uLnRvSlNPTihlLnB1YktleSk6dm9pZCAwKSx2b2lkIDAhPT1lLnBvd2VyJiYodC5wb3dlcj0oZS5wb3dlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PUIoKTtyZXR1cm4gdC5wdWJLZXk9dm9pZCAwIT09ZS5wdWJLZXkmJm51bGwhPT1lLnB1YktleT9uLmZyb21QYXJ0aWFsKGUucHViS2V5KTp2b2lkIDAsdC5wb3dlcj12b2lkIDAhPT1lLnBvd2VyJiZudWxsIT09ZS5wb3dlcj9CaWdJbnQoZS5wb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PlZhbGlkYXRvclVwZGF0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5WYWxpZGF0b3JVcGRhdGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5WYWxpZGF0b3JVcGRhdGVcIix2YWx1ZTpWYWxpZGF0b3JVcGRhdGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JVcGRhdGUoVmFsaWRhdG9yVXBkYXRlKTtmdW5jdGlvbiBUKCl7cmV0dXJue3ZhbGlkYXRvcjpWYWxpZGF0b3IuZnJvbVBhcnRpYWwoe30pLHNpZ25lZExhc3RCbG9jazohMX19Y29uc3QgVm90ZUluZm89e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlZvdGVJbmZvXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLnZhbGlkYXRvciYmVmFsaWRhdG9yLmVuY29kZShlLnZhbGlkYXRvcix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSwhMD09PWUuc2lnbmVkTGFzdEJsb2NrJiZ0LnVpbnQzMigxNikuYm9vbChlLnNpZ25lZExhc3RCbG9jayksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPVQoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS52YWxpZGF0b3I9VmFsaWRhdG9yLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjppLnNpZ25lZExhc3RCbG9jaz1vLmJvb2woKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dmFsaWRhdG9yOnMoZS52YWxpZGF0b3IpP1ZhbGlkYXRvci5mcm9tSlNPTihlLnZhbGlkYXRvcik6dm9pZCAwLHNpZ25lZExhc3RCbG9jazohIXMoZS5zaWduZWRMYXN0QmxvY2spJiZCb29sZWFuKGUuc2lnbmVkTGFzdEJsb2NrKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnZhbGlkYXRvciYmKHQudmFsaWRhdG9yPWUudmFsaWRhdG9yP1ZhbGlkYXRvci50b0pTT04oZS52YWxpZGF0b3IpOnZvaWQgMCksdm9pZCAwIT09ZS5zaWduZWRMYXN0QmxvY2smJih0LnNpZ25lZExhc3RCbG9jaz1lLnNpZ25lZExhc3RCbG9jayksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1UKCk7cmV0dXJuIHQudmFsaWRhdG9yPXZvaWQgMCE9PWUudmFsaWRhdG9yJiZudWxsIT09ZS52YWxpZGF0b3I/VmFsaWRhdG9yLmZyb21QYXJ0aWFsKGUudmFsaWRhdG9yKTp2b2lkIDAsdC5zaWduZWRMYXN0QmxvY2s9ZS5zaWduZWRMYXN0QmxvY2s/PyExLHR9LGZyb21Qcm90b01zZzplPT5Wb3RlSW5mby5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Wb3RlSW5mby5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlZvdGVJbmZvXCIsdmFsdWU6Vm90ZUluZm8uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Wb3RlSW5mbyhWb3RlSW5mbyk7ZnVuY3Rpb24gdygpe3JldHVybnt0eXBlOjAsdmFsaWRhdG9yOlZhbGlkYXRvci5mcm9tUGFydGlhbCh7fSksaGVpZ2h0OkJpZ0ludCgwKSx0aW1lOmkuZnJvbVBhcnRpYWwoe30pLHRvdGFsVm90aW5nUG93ZXI6QmlnSW50KDApfX1jb25zdCBFdmlkZW5jZT17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuRXZpZGVuY2VcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KDAhPT1lLnR5cGUmJnQudWludDMyKDgpLmludDMyKGUudHlwZSksdm9pZCAwIT09ZS52YWxpZGF0b3ImJlZhbGlkYXRvci5lbmNvZGUoZS52YWxpZGF0b3IsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksZS5oZWlnaHQhPT1CaWdJbnQoMCkmJnQudWludDMyKDI0KS5pbnQ2NChlLmhlaWdodCksdm9pZCAwIT09ZS50aW1lJiZpLmVuY29kZShlLnRpbWUsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksZS50b3RhbFZvdGluZ1Bvd2VyIT09QmlnSW50KDApJiZ0LnVpbnQzMig0MCkuaW50NjQoZS50b3RhbFZvdGluZ1Bvd2VyKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGE9dygpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLnR5cGU9by5pbnQzMigpO2JyZWFrO2Nhc2UgMjphLnZhbGlkYXRvcj1WYWxpZGF0b3IuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmEuaGVpZ2h0PW8uaW50NjQoKTticmVhaztjYXNlIDQ6YS50aW1lPWkuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSA1OmEudG90YWxWb3RpbmdQb3dlcj1vLmludDY0KCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe3R5cGU6cyhlLnR5cGUpP2V2aWRlbmNlVHlwZUZyb21KU09OKGUudHlwZSk6LTEsdmFsaWRhdG9yOnMoZS52YWxpZGF0b3IpP1ZhbGlkYXRvci5mcm9tSlNPTihlLnZhbGlkYXRvcik6dm9pZCAwLGhlaWdodDpzKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHRpbWU6cyhlLnRpbWUpP2QoZS50aW1lKTp2b2lkIDAsdG90YWxWb3RpbmdQb3dlcjpzKGUudG90YWxWb3RpbmdQb3dlcik/QmlnSW50KGUudG90YWxWb3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS50eXBlJiYodC50eXBlPWV2aWRlbmNlVHlwZVRvSlNPTihlLnR5cGUpKSx2b2lkIDAhPT1lLnZhbGlkYXRvciYmKHQudmFsaWRhdG9yPWUudmFsaWRhdG9yP1ZhbGlkYXRvci50b0pTT04oZS52YWxpZGF0b3IpOnZvaWQgMCksdm9pZCAwIT09ZS5oZWlnaHQmJih0LmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS50aW1lJiYodC50aW1lPWMoZS50aW1lKS50b0lTT1N0cmluZygpKSx2b2lkIDAhPT1lLnRvdGFsVm90aW5nUG93ZXImJih0LnRvdGFsVm90aW5nUG93ZXI9KGUudG90YWxWb3RpbmdQb3dlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXcoKTtyZXR1cm4gdC50eXBlPWUudHlwZT8/MCx0LnZhbGlkYXRvcj12b2lkIDAhPT1lLnZhbGlkYXRvciYmbnVsbCE9PWUudmFsaWRhdG9yP1ZhbGlkYXRvci5mcm9tUGFydGlhbChlLnZhbGlkYXRvcik6dm9pZCAwLHQuaGVpZ2h0PXZvaWQgMCE9PWUuaGVpZ2h0JiZudWxsIT09ZS5oZWlnaHQ/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LnRpbWU9dm9pZCAwIT09ZS50aW1lJiZudWxsIT09ZS50aW1lP2kuZnJvbVBhcnRpYWwoZS50aW1lKTp2b2lkIDAsdC50b3RhbFZvdGluZ1Bvd2VyPXZvaWQgMCE9PWUudG90YWxWb3RpbmdQb3dlciYmbnVsbCE9PWUudG90YWxWb3RpbmdQb3dlcj9CaWdJbnQoZS50b3RhbFZvdGluZ1Bvd2VyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+RXZpZGVuY2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RXZpZGVuY2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5FdmlkZW5jZVwiLHZhbHVlOkV2aWRlbmNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRXZpZGVuY2UoRXZpZGVuY2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiQ2hlY2tUeFR5cGUiOlsiQ2hlY2tUeFR5cGUiLHRydWVdLCJFdmlkZW5jZVR5cGUiOlsiRXZpZGVuY2VUeXBlIix0cnVlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJDaGVja1R4VHlwZVNES1R5cGUiOlsiQ2hlY2tUeFR5cGVTREtUeXBlIl0sImNoZWNrVHhUeXBlRnJvbUpTT04iOlsiY2hlY2tUeFR5cGVGcm9tSlNPTiJdLCJjaGVja1R4VHlwZVRvSlNPTiI6WyJjaGVja1R4VHlwZVRvSlNPTiJdLCJFdmlkZW5jZVR5cGVTREtUeXBlIjpbIkV2aWRlbmNlVHlwZVNES1R5cGUiXSwiZXZpZGVuY2VUeXBlRnJvbUpTT04iOlsiZXZpZGVuY2VUeXBlRnJvbUpTT04iXSwiZXZpZGVuY2VUeXBlVG9KU09OIjpbImV2aWRlbmNlVHlwZVRvSlNPTiJdLCJSZXF1ZXN0UXVlcnkiOlsiUmVxdWVzdFF1ZXJ5Il0sIlJlcXVlc3RCZWdpbkJsb2NrIjpbIlJlcXVlc3RCZWdpbkJsb2NrIl0sIlJlcXVlc3RDaGVja1R4IjpbIlJlcXVlc3RDaGVja1R4Il0sIlJlcXVlc3REZWxpdmVyVHgiOlsiUmVxdWVzdERlbGl2ZXJUeCJdLCJSZXF1ZXN0RW5kQmxvY2siOlsiUmVxdWVzdEVuZEJsb2NrIl0sIlJlcXVlc3RDb21taXQiOlsiUmVxdWVzdENvbW1pdCJdLCJSZXNwb25zZVF1ZXJ5IjpbIlJlc3BvbnNlUXVlcnkiXSwiUmVzcG9uc2VCZWdpbkJsb2NrIjpbIlJlc3BvbnNlQmVnaW5CbG9jayJdLCJSZXNwb25zZUNoZWNrVHgiOlsiUmVzcG9uc2VDaGVja1R4Il0sIlJlc3BvbnNlRGVsaXZlclR4IjpbIlJlc3BvbnNlRGVsaXZlclR4Il0sIlJlc3BvbnNlRW5kQmxvY2siOlsiUmVzcG9uc2VFbmRCbG9jayJdLCJSZXNwb25zZUNvbW1pdCI6WyJSZXNwb25zZUNvbW1pdCJdLCJMYXN0Q29tbWl0SW5mbyI6WyJMYXN0Q29tbWl0SW5mbyJdLCJFdmVudCI6WyJFdmVudCJdLCJFdmVudEF0dHJpYnV0ZSI6WyJFdmVudEF0dHJpYnV0ZSJdLCJUeFJlc3VsdCI6WyJUeFJlc3VsdCJdLCJWYWxpZGF0b3IiOlsiVmFsaWRhdG9yIl0sIlZhbGlkYXRvclVwZGF0ZSI6WyJWYWxpZGF0b3JVcGRhdGUiXSwiVm90ZUluZm8iOlsiVm90ZUluZm8iXSwiRXZpZGVuY2UiOlsiRXZpZGVuY2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAt46x3y8IAAAvCAAAQgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9jcnlwdG8va2V5cy5qc3siaW1wb3J0cyI6WyIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiUHVibGljS2V5Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxvLHMsZCxpOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGQgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBQdWJsaWNLZXk9e3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHVibGljS2V5XCIsZW5jb2RlOihlLHM9by5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLmVkMjU1MTkmJnMudWludDMyKDEwKS5ieXRlcyhlLmVkMjU1MTkpLHZvaWQgMCE9PWUuc2VjcDI1NmsxJiZzLnVpbnQzMigxOCkuYnl0ZXMoZS5zZWNwMjU2azEpLHMpLGRlY29kZShvLHMpe2NvbnN0IGQ9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgaT12b2lkIDA9PT1zP2QubGVuOmQucG9zK3M7Y29uc3QgdD17ZWQyNTUxOTp2b2lkIDAsc2VjcDI1NmsxOnZvaWQgMH07Zm9yKDtkLnBvczxpOyl7Y29uc3QgZT1kLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnQuZWQyNTUxOT1kLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOnQuc2VjcDI1NmsxPWQuYnl0ZXMoKTticmVhaztkZWZhdWx0OmQuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7ZWQyNTUxOTpzKGUuZWQyNTUxOSk/ZChlLmVkMjU1MTkpOnZvaWQgMCxzZWNwMjU2azE6cyhlLnNlY3AyNTZrMSk/ZChlLnNlY3AyNTZrMSk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZWQyNTUxOSYmKG8uZWQyNTUxOT12b2lkIDAhPT1lLmVkMjU1MTk/aShlLmVkMjU1MTkpOnZvaWQgMCksdm9pZCAwIT09ZS5zZWNwMjU2azEmJihvLnNlY3AyNTZrMT12b2lkIDAhPT1lLnNlY3AyNTZrMT9pKGUuc2VjcDI1NmsxKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2VkMjU1MTk6dm9pZCAwLHNlY3AyNTZrMTp2b2lkIDB9O3JldHVybiBvLmVkMjU1MTk9ZS5lZDI1NTE5Pz92b2lkIDAsby5zZWNwMjU2azE9ZS5zZWNwMjU2azE/P3ZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+UHVibGljS2V5LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlB1YmxpY0tleS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHVibGljS2V5XCIsdmFsdWU6UHVibGljS2V5LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUHVibGljS2V5KFB1YmxpY0tleSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQdWJsaWNLZXkiOlsiUHVibGljS2V5Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMDtO39tGwAAbRsAAEMAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvY3J5cHRvL3Byb29mLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJEb21pbm9PcCIsIlByb29mIiwiUHJvb2ZPcCIsIlByb29mT3BzIiwiVmFsdWVPcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHQsbyxlLG4scjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcImVuY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpKCl7cmV0dXJue3RvdGFsOkJpZ0ludCgwKSxpbmRleDpCaWdJbnQoMCksbGVhZkhhc2g6bmV3IFVpbnQ4QXJyYXksYXVudHM6W119fSAgICAgICBjb25zdCBQcm9vZj17dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5Qcm9vZlwiLGVuY29kZSh0LGU9by5jcmVhdGUoKSl7dC50b3RhbCE9PUJpZ0ludCgwKSYmZS51aW50MzIoOCkuaW50NjQodC50b3RhbCksdC5pbmRleCE9PUJpZ0ludCgwKSYmZS51aW50MzIoMTYpLmludDY0KHQuaW5kZXgpLDAhPT10LmxlYWZIYXNoLmxlbmd0aCYmZS51aW50MzIoMjYpLmJ5dGVzKHQubGVhZkhhc2gpO2Zvcihjb25zdCBvIG9mIHQuYXVudHMpZS51aW50MzIoMzQpLmJ5dGVzKG8pO3JldHVybiBlfSxkZWNvZGUobyxlKXtjb25zdCBuPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IHI9dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IGE9aSgpO2Zvcig7bi5wb3M8cjspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTphLnRvdGFsPW4uaW50NjQoKTticmVhaztjYXNlIDI6YS5pbmRleD1uLmludDY0KCk7YnJlYWs7Y2FzZSAzOmEubGVhZkhhc2g9bi5ieXRlcygpO2JyZWFrO2Nhc2UgNDphLmF1bnRzLnB1c2gobi5ieXRlcygpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7dG90YWw6ZSh0LnRvdGFsKT9CaWdJbnQodC50b3RhbC50b1N0cmluZygpKTpCaWdJbnQoMCksaW5kZXg6ZSh0LmluZGV4KT9CaWdJbnQodC5pbmRleC50b1N0cmluZygpKTpCaWdJbnQoMCksbGVhZkhhc2g6ZSh0LmxlYWZIYXNoKT9uKHQubGVhZkhhc2gpOm5ldyBVaW50OEFycmF5LGF1bnRzOkFycmF5LmlzQXJyYXkodD8uYXVudHMpP3QuYXVudHMubWFwKCh0PT5uKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09dC50b3RhbCYmKG8udG90YWw9KHQudG90YWx8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09dC5pbmRleCYmKG8uaW5kZXg9KHQuaW5kZXh8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09dC5sZWFmSGFzaCYmKG8ubGVhZkhhc2g9cih2b2lkIDAhPT10LmxlYWZIYXNoP3QubGVhZkhhc2g6bmV3IFVpbnQ4QXJyYXkpKSx0LmF1bnRzP28uYXVudHM9dC5hdW50cy5tYXAoKHQ9PnIodm9pZCAwIT09dD90Om5ldyBVaW50OEFycmF5KSkpOm8uYXVudHM9W10sb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz1pKCk7cmV0dXJuIG8udG90YWw9dm9pZCAwIT09dC50b3RhbCYmbnVsbCE9PXQudG90YWw/QmlnSW50KHQudG90YWwudG9TdHJpbmcoKSk6QmlnSW50KDApLG8uaW5kZXg9dm9pZCAwIT09dC5pbmRleCYmbnVsbCE9PXQuaW5kZXg/QmlnSW50KHQuaW5kZXgudG9TdHJpbmcoKSk6QmlnSW50KDApLG8ubGVhZkhhc2g9dC5sZWFmSGFzaD8/bmV3IFVpbnQ4QXJyYXksby5hdW50cz10LmF1bnRzPy5tYXAoKHQ9PnQpKXx8W10sb30sZnJvbVByb3RvTXNnOnQ9PlByb29mLmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9PlByb29mLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5Qcm9vZlwiLHZhbHVlOlByb29mLmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuUHJvb2YoUHJvb2YpO2Z1bmN0aW9uIGEoKXtyZXR1cm57a2V5Om5ldyBVaW50OEFycmF5LHByb29mOnZvaWQgMH19Y29uc3QgVmFsdWVPcD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5WYWx1ZU9wXCIsZW5jb2RlOih0LGU9by5jcmVhdGUoKSk9PigwIT09dC5rZXkubGVuZ3RoJiZlLnVpbnQzMigxMCkuYnl0ZXModC5rZXkpLHZvaWQgMCE9PXQucHJvb2YmJlByb29mLmVuY29kZSh0LnByb29mLGUudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IG49byBpbnN0YW5jZW9mIHQ/bzpuZXcgdChvKTtsZXQgcj12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3QgaT1hKCk7Zm9yKDtuLnBvczxyOyl7Y29uc3QgdD1uLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmkua2V5PW4uYnl0ZXMoKTticmVhaztjYXNlIDI6aS5wcm9vZj1Qcm9vZi5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGl9LGZyb21KU09OOnQ9Pih7a2V5OmUodC5rZXkpP24odC5rZXkpOm5ldyBVaW50OEFycmF5LHByb29mOmUodC5wcm9vZik/UHJvb2YuZnJvbUpTT04odC5wcm9vZik6dm9pZCAwfSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQua2V5JiYoby5rZXk9cih2b2lkIDAhPT10LmtleT90LmtleTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PXQucHJvb2YmJihvLnByb29mPXQucHJvb2Y/UHJvb2YudG9KU09OKHQucHJvb2YpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz1hKCk7cmV0dXJuIG8ua2V5PXQua2V5Pz9uZXcgVWludDhBcnJheSxvLnByb29mPXZvaWQgMCE9PXQucHJvb2YmJm51bGwhPT10LnByb29mP1Byb29mLmZyb21QYXJ0aWFsKHQucHJvb2YpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6dD0+VmFsdWVPcC5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5WYWx1ZU9wLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5WYWx1ZU9wXCIsdmFsdWU6VmFsdWVPcC5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbHVlT3AoVmFsdWVPcCk7Y29uc3QgRG9taW5vT3A9e3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uRG9taW5vT3BcIixlbmNvZGU6KHQsZT1vLmNyZWF0ZSgpKT0+KFwiXCIhPT10LmtleSYmZS51aW50MzIoMTApLnN0cmluZyh0LmtleSksXCJcIiE9PXQuaW5wdXQmJmUudWludDMyKDE4KS5zdHJpbmcodC5pbnB1dCksXCJcIiE9PXQub3V0cHV0JiZlLnVpbnQzMigyNikuc3RyaW5nKHQub3V0cHV0KSxlKSxkZWNvZGUobyxlKXtjb25zdCBuPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IHI9dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IGk9e2tleTpcIlwiLGlucHV0OlwiXCIsb3V0cHV0OlwiXCJ9O2Zvcig7bi5wb3M8cjspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTppLmtleT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLmlucHV0PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmkub3V0cHV0PW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmdCl9fXJldHVybiBpfSxmcm9tSlNPTjp0PT4oe2tleTplKHQua2V5KT9TdHJpbmcodC5rZXkpOlwiXCIsaW5wdXQ6ZSh0LmlucHV0KT9TdHJpbmcodC5pbnB1dCk6XCJcIixvdXRwdXQ6ZSh0Lm91dHB1dCk/U3RyaW5nKHQub3V0cHV0KTpcIlwifSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQua2V5JiYoby5rZXk9dC5rZXkpLHZvaWQgMCE9PXQuaW5wdXQmJihvLmlucHV0PXQuaW5wdXQpLHZvaWQgMCE9PXQub3V0cHV0JiYoby5vdXRwdXQ9dC5vdXRwdXQpLG99LGZyb21QYXJ0aWFsKHQpe2NvbnN0IG89e2tleTpcIlwiLGlucHV0OlwiXCIsb3V0cHV0OlwiXCJ9O3JldHVybiBvLmtleT10LmtleT8/XCJcIixvLmlucHV0PXQuaW5wdXQ/P1wiXCIsby5vdXRwdXQ9dC5vdXRwdXQ/P1wiXCIsb30sZnJvbVByb3RvTXNnOnQ9PkRvbWlub09wLmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9PkRvbWlub09wLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5Eb21pbm9PcFwiLHZhbHVlOkRvbWlub09wLmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuRG9taW5vT3AoRG9taW5vT3ApO2Z1bmN0aW9uIHMoKXtyZXR1cm57dHlwZTpcIlwiLGtleTpuZXcgVWludDhBcnJheSxkYXRhOm5ldyBVaW50OEFycmF5fX1jb25zdCBQcm9vZk9wPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuY3J5cHRvLlByb29mT3BcIixlbmNvZGU6KHQsZT1vLmNyZWF0ZSgpKT0+KFwiXCIhPT10LnR5cGUmJmUudWludDMyKDEwKS5zdHJpbmcodC50eXBlKSwwIT09dC5rZXkubGVuZ3RoJiZlLnVpbnQzMigxOCkuYnl0ZXModC5rZXkpLDAhPT10LmRhdGEubGVuZ3RoJiZlLnVpbnQzMigyNikuYnl0ZXModC5kYXRhKSxlKSxkZWNvZGUobyxlKXtjb25zdCBuPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IHI9dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IGk9cygpO2Zvcig7bi5wb3M8cjspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTppLnR5cGU9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5rZXk9bi5ieXRlcygpO2JyZWFrO2Nhc2UgMzppLmRhdGE9bi5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JnQpfX1yZXR1cm4gaX0sZnJvbUpTT046dD0+KHt0eXBlOmUodC50eXBlKT9TdHJpbmcodC50eXBlKTpcIlwiLGtleTplKHQua2V5KT9uKHQua2V5KTpuZXcgVWludDhBcnJheSxkYXRhOmUodC5kYXRhKT9uKHQuZGF0YSk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04odCl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09dC50eXBlJiYoby50eXBlPXQudHlwZSksdm9pZCAwIT09dC5rZXkmJihvLmtleT1yKHZvaWQgMCE9PXQua2V5P3Qua2V5Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09dC5kYXRhJiYoby5kYXRhPXIodm9pZCAwIT09dC5kYXRhP3QuZGF0YTpuZXcgVWludDhBcnJheSkpLG99LGZyb21QYXJ0aWFsKHQpe2NvbnN0IG89cygpO3JldHVybiBvLnR5cGU9dC50eXBlPz9cIlwiLG8ua2V5PXQua2V5Pz9uZXcgVWludDhBcnJheSxvLmRhdGE9dC5kYXRhPz9uZXcgVWludDhBcnJheSxvfSxmcm9tUHJvdG9Nc2c6dD0+UHJvb2ZPcC5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5Qcm9vZk9wLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5Qcm9vZk9wXCIsdmFsdWU6UHJvb2ZPcC5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLlByb29mT3AoUHJvb2ZPcCk7Y29uc3QgUHJvb2ZPcHM9e3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHJvb2ZPcHNcIixlbmNvZGUodCxlPW8uY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIHQub3BzKVByb29mT3AuZW5jb2RlKG8sZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZShvLGUpe2NvbnN0IG49byBpbnN0YW5jZW9mIHQ/bzpuZXcgdChvKTtsZXQgcj12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3QgaT17b3BzOltdfTtmb3IoO24ucG9zPHI7KXtjb25zdCB0PW4udWludDMyKCk7aWYodD4+PjM9PTEpaS5vcHMucHVzaChQcm9vZk9wLmRlY29kZShuLG4udWludDMyKCkpKTtlbHNlIG4uc2tpcFR5cGUoNyZ0KX1yZXR1cm4gaX0sZnJvbUpTT046dD0+KHtvcHM6QXJyYXkuaXNBcnJheSh0Py5vcHMpP3Qub3BzLm1hcCgodD0+UHJvb2ZPcC5mcm9tSlNPTih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHQub3BzP28ub3BzPXQub3BzLm1hcCgodD0+dD9Qcm9vZk9wLnRvSlNPTih0KTp2b2lkIDApKTpvLm9wcz1bXSxvfSxmcm9tUGFydGlhbCh0KXtjb25zdCBvPXtvcHM6W119O3JldHVybiBvLm9wcz10Lm9wcz8ubWFwKCh0PT5Qcm9vZk9wLmZyb21QYXJ0aWFsKHQpKSl8fFtdLG99LGZyb21Qcm90b01zZzp0PT5Qcm9vZk9wcy5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5Qcm9vZk9wcy5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHJvb2ZPcHNcIix2YWx1ZTpQcm9vZk9wcy5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLlByb29mT3BzKFByb29mT3BzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlByb29mIjpbIlByb29mIl0sIlZhbHVlT3AiOlsiVmFsdWVPcCJdLCJEb21pbm9PcCI6WyJEb21pbm9PcCJdLCJQcm9vZk9wIjpbIlByb29mT3AiXSwiUHJvb2ZPcHMiOlsiUHJvb2ZPcHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAi9e714onAACKJwAAQwAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy9wYXJhbXMuanN7ImltcG9ydHMiOlsiLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLmpzIiwiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkJsb2NrUGFyYW1zIiwiQ29uc2Vuc3VzUGFyYW1zIiwiRXZpZGVuY2VQYXJhbXMiLCJIYXNoZWRQYXJhbXMiLCJWYWxpZGF0b3JQYXJhbXMiLCJWZXJzaW9uUGFyYW1zIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxvLHQsYTskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qc1wiLCBbW1wiRHVyYXRpb25cIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBuKCl7cmV0dXJue2Jsb2NrOkJsb2NrUGFyYW1zLmZyb21QYXJ0aWFsKHt9KSxldmlkZW5jZTpFdmlkZW5jZVBhcmFtcy5mcm9tUGFydGlhbCh7fSksdmFsaWRhdG9yOlZhbGlkYXRvclBhcmFtcy5mcm9tUGFydGlhbCh7fSksdmVyc2lvbjpWZXJzaW9uUGFyYW1zLmZyb21QYXJ0aWFsKHt9KX19ICAgICAgIGNvbnN0IENvbnNlbnN1c1BhcmFtcz17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkNvbnNlbnN1c1BhcmFtc1wiLGVuY29kZTooZSxvPXQuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5ibG9jayYmQmxvY2tQYXJhbXMuZW5jb2RlKGUuYmxvY2ssby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS5ldmlkZW5jZSYmRXZpZGVuY2VQYXJhbXMuZW5jb2RlKGUuZXZpZGVuY2Usby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS52YWxpZGF0b3ImJlZhbGlkYXRvclBhcmFtcy5lbmNvZGUoZS52YWxpZGF0b3Isby51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS52ZXJzaW9uJiZWZXJzaW9uUGFyYW1zLmVuY29kZShlLnZlcnNpb24sby51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsdCl7Y29uc3QgYT1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBpPXZvaWQgMD09PXQ/YS5sZW46YS5wb3MrdDtjb25zdCBzPW4oKTtmb3IoO2EucG9zPGk7KXtjb25zdCBlPWEudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6cy5ibG9jaz1CbG9ja1BhcmFtcy5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDI6cy5ldmlkZW5jZT1FdmlkZW5jZVBhcmFtcy5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDM6cy52YWxpZGF0b3I9VmFsaWRhdG9yUGFyYW1zLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpzLnZlcnNpb249VmVyc2lvblBhcmFtcy5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7YmxvY2s6YShlLmJsb2NrKT9CbG9ja1BhcmFtcy5mcm9tSlNPTihlLmJsb2NrKTp2b2lkIDAsZXZpZGVuY2U6YShlLmV2aWRlbmNlKT9FdmlkZW5jZVBhcmFtcy5mcm9tSlNPTihlLmV2aWRlbmNlKTp2b2lkIDAsdmFsaWRhdG9yOmEoZS52YWxpZGF0b3IpP1ZhbGlkYXRvclBhcmFtcy5mcm9tSlNPTihlLnZhbGlkYXRvcik6dm9pZCAwLHZlcnNpb246YShlLnZlcnNpb24pP1ZlcnNpb25QYXJhbXMuZnJvbUpTT04oZS52ZXJzaW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5ibG9jayYmKG8uYmxvY2s9ZS5ibG9jaz9CbG9ja1BhcmFtcy50b0pTT04oZS5ibG9jayk6dm9pZCAwKSx2b2lkIDAhPT1lLmV2aWRlbmNlJiYoby5ldmlkZW5jZT1lLmV2aWRlbmNlP0V2aWRlbmNlUGFyYW1zLnRvSlNPTihlLmV2aWRlbmNlKTp2b2lkIDApLHZvaWQgMCE9PWUudmFsaWRhdG9yJiYoby52YWxpZGF0b3I9ZS52YWxpZGF0b3I/VmFsaWRhdG9yUGFyYW1zLnRvSlNPTihlLnZhbGlkYXRvcik6dm9pZCAwKSx2b2lkIDAhPT1lLnZlcnNpb24mJihvLnZlcnNpb249ZS52ZXJzaW9uP1ZlcnNpb25QYXJhbXMudG9KU09OKGUudmVyc2lvbik6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPW4oKTtyZXR1cm4gby5ibG9jaz12b2lkIDAhPT1lLmJsb2NrJiZudWxsIT09ZS5ibG9jaz9CbG9ja1BhcmFtcy5mcm9tUGFydGlhbChlLmJsb2NrKTp2b2lkIDAsby5ldmlkZW5jZT12b2lkIDAhPT1lLmV2aWRlbmNlJiZudWxsIT09ZS5ldmlkZW5jZT9FdmlkZW5jZVBhcmFtcy5mcm9tUGFydGlhbChlLmV2aWRlbmNlKTp2b2lkIDAsby52YWxpZGF0b3I9dm9pZCAwIT09ZS52YWxpZGF0b3ImJm51bGwhPT1lLnZhbGlkYXRvcj9WYWxpZGF0b3JQYXJhbXMuZnJvbVBhcnRpYWwoZS52YWxpZGF0b3IpOnZvaWQgMCxvLnZlcnNpb249dm9pZCAwIT09ZS52ZXJzaW9uJiZudWxsIT09ZS52ZXJzaW9uP1ZlcnNpb25QYXJhbXMuZnJvbVBhcnRpYWwoZS52ZXJzaW9uKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PkNvbnNlbnN1c1BhcmFtcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Db25zZW5zdXNQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQ29uc2Vuc3VzUGFyYW1zXCIsdmFsdWU6Q29uc2Vuc3VzUGFyYW1zLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29uc2Vuc3VzUGFyYW1zKENvbnNlbnN1c1BhcmFtcyk7ZnVuY3Rpb24gaSgpe3JldHVybnttYXhCeXRlczpCaWdJbnQoMCksbWF4R2FzOkJpZ0ludCgwKSx0aW1lSW90YU1zOkJpZ0ludCgwKX19Y29uc3QgQmxvY2tQYXJhbXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5CbG9ja1BhcmFtc1wiLGVuY29kZTooZSxvPXQuY3JlYXRlKCkpPT4oZS5tYXhCeXRlcyE9PUJpZ0ludCgwKSYmby51aW50MzIoOCkuaW50NjQoZS5tYXhCeXRlcyksZS5tYXhHYXMhPT1CaWdJbnQoMCkmJm8udWludDMyKDE2KS5pbnQ2NChlLm1heEdhcyksZS50aW1lSW90YU1zIT09QmlnSW50KDApJiZvLnVpbnQzMigyNCkuaW50NjQoZS50aW1lSW90YU1zKSxvKSxkZWNvZGUoZSx0KXtjb25zdCBhPWUgaW5zdGFuY2VvZiBvP2U6bmV3IG8oZSk7bGV0IG49dm9pZCAwPT09dD9hLmxlbjphLnBvcyt0O2NvbnN0IHM9aSgpO2Zvcig7YS5wb3M8bjspe2NvbnN0IGU9YS51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpzLm1heEJ5dGVzPWEuaW50NjQoKTticmVhaztjYXNlIDI6cy5tYXhHYXM9YS5pbnQ2NCgpO2JyZWFrO2Nhc2UgMzpzLnRpbWVJb3RhTXM9YS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHttYXhCeXRlczphKGUubWF4Qnl0ZXMpP0JpZ0ludChlLm1heEJ5dGVzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxtYXhHYXM6YShlLm1heEdhcyk/QmlnSW50KGUubWF4R2FzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0aW1lSW90YU1zOmEoZS50aW1lSW90YU1zKT9CaWdJbnQoZS50aW1lSW90YU1zLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLm1heEJ5dGVzJiYoby5tYXhCeXRlcz0oZS5tYXhCeXRlc3x8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLm1heEdhcyYmKG8ubWF4R2FzPShlLm1heEdhc3x8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLnRpbWVJb3RhTXMmJihvLnRpbWVJb3RhTXM9KGUudGltZUlvdGFNc3x8QmlnSW50KDApKS50b1N0cmluZygpKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWkoKTtyZXR1cm4gby5tYXhCeXRlcz12b2lkIDAhPT1lLm1heEJ5dGVzJiZudWxsIT09ZS5tYXhCeXRlcz9CaWdJbnQoZS5tYXhCeXRlcy50b1N0cmluZygpKTpCaWdJbnQoMCksby5tYXhHYXM9dm9pZCAwIT09ZS5tYXhHYXMmJm51bGwhPT1lLm1heEdhcz9CaWdJbnQoZS5tYXhHYXMudG9TdHJpbmcoKSk6QmlnSW50KDApLG8udGltZUlvdGFNcz12b2lkIDAhPT1lLnRpbWVJb3RhTXMmJm51bGwhPT1lLnRpbWVJb3RhTXM/QmlnSW50KGUudGltZUlvdGFNcy50b1N0cmluZygpKTpCaWdJbnQoMCksb30sZnJvbVByb3RvTXNnOmU9PkJsb2NrUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkJsb2NrUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkJsb2NrUGFyYW1zXCIsdmFsdWU6QmxvY2tQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5CbG9ja1BhcmFtcyhCbG9ja1BhcmFtcyk7ZnVuY3Rpb24gcygpe3JldHVybnttYXhBZ2VOdW1CbG9ja3M6QmlnSW50KDApLG1heEFnZUR1cmF0aW9uOmUuZnJvbVBhcnRpYWwoe30pLG1heEJ5dGVzOkJpZ0ludCgwKX19Y29uc3QgRXZpZGVuY2VQYXJhbXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5FdmlkZW5jZVBhcmFtc1wiLGVuY29kZToobyxhPXQuY3JlYXRlKCkpPT4oby5tYXhBZ2VOdW1CbG9ja3MhPT1CaWdJbnQoMCkmJmEudWludDMyKDgpLmludDY0KG8ubWF4QWdlTnVtQmxvY2tzKSx2b2lkIDAhPT1vLm1heEFnZUR1cmF0aW9uJiZlLmVuY29kZShvLm1heEFnZUR1cmF0aW9uLGEudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG8ubWF4Qnl0ZXMhPT1CaWdJbnQoMCkmJmEudWludDMyKDI0KS5pbnQ2NChvLm1heEJ5dGVzKSxhKSxkZWNvZGUodCxhKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IGk9dm9pZCAwPT09YT9uLmxlbjpuLnBvcythO2NvbnN0IHI9cygpO2Zvcig7bi5wb3M8aTspe2NvbnN0IG89bi51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLm1heEFnZU51bUJsb2Nrcz1uLmludDY0KCk7YnJlYWs7Y2FzZSAyOnIubWF4QWdlRHVyYXRpb249ZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDM6ci5tYXhCeXRlcz1uLmludDY0KCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmbyl9fXJldHVybiByfSxmcm9tSlNPTjpvPT4oe21heEFnZU51bUJsb2NrczphKG8ubWF4QWdlTnVtQmxvY2tzKT9CaWdJbnQoby5tYXhBZ2VOdW1CbG9ja3MudG9TdHJpbmcoKSk6QmlnSW50KDApLG1heEFnZUR1cmF0aW9uOmEoby5tYXhBZ2VEdXJhdGlvbik/ZS5mcm9tSlNPTihvLm1heEFnZUR1cmF0aW9uKTp2b2lkIDAsbWF4Qnl0ZXM6YShvLm1heEJ5dGVzKT9CaWdJbnQoby5tYXhCeXRlcy50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5tYXhBZ2VOdW1CbG9ja3MmJih0Lm1heEFnZU51bUJsb2Nrcz0oby5tYXhBZ2VOdW1CbG9ja3N8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09by5tYXhBZ2VEdXJhdGlvbiYmKHQubWF4QWdlRHVyYXRpb249by5tYXhBZ2VEdXJhdGlvbj9lLnRvSlNPTihvLm1heEFnZUR1cmF0aW9uKTp2b2lkIDApLHZvaWQgMCE9PW8ubWF4Qnl0ZXMmJih0Lm1heEJ5dGVzPShvLm1heEJ5dGVzfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9cygpO3JldHVybiB0Lm1heEFnZU51bUJsb2Nrcz12b2lkIDAhPT1vLm1heEFnZU51bUJsb2NrcyYmbnVsbCE9PW8ubWF4QWdlTnVtQmxvY2tzP0JpZ0ludChvLm1heEFnZU51bUJsb2Nrcy50b1N0cmluZygpKTpCaWdJbnQoMCksdC5tYXhBZ2VEdXJhdGlvbj12b2lkIDAhPT1vLm1heEFnZUR1cmF0aW9uJiZudWxsIT09by5tYXhBZ2VEdXJhdGlvbj9lLmZyb21QYXJ0aWFsKG8ubWF4QWdlRHVyYXRpb24pOnZvaWQgMCx0Lm1heEJ5dGVzPXZvaWQgMCE9PW8ubWF4Qnl0ZXMmJm51bGwhPT1vLm1heEJ5dGVzP0JpZ0ludChvLm1heEJ5dGVzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+RXZpZGVuY2VQYXJhbXMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RXZpZGVuY2VQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuRXZpZGVuY2VQYXJhbXNcIix2YWx1ZTpFdmlkZW5jZVBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkV2aWRlbmNlUGFyYW1zKEV2aWRlbmNlUGFyYW1zKTtjb25zdCBWYWxpZGF0b3JQYXJhbXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5WYWxpZGF0b3JQYXJhbXNcIixlbmNvZGUoZSxvPXQuY3JlYXRlKCkpe2Zvcihjb25zdCB0IG9mIGUucHViS2V5VHlwZXMpby51aW50MzIoMTApLnN0cmluZyh0KTtyZXR1cm4gb30sZGVjb2RlKGUsdCl7Y29uc3QgYT1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBuPXZvaWQgMD09PXQ/YS5sZW46YS5wb3MrdDtjb25zdCBpPXtwdWJLZXlUeXBlczpbXX07Zm9yKDthLnBvczxuOyl7Y29uc3QgZT1hLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkucHViS2V5VHlwZXMucHVzaChhLnN0cmluZygpKTtlbHNlIGEuc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtwdWJLZXlUeXBlczpBcnJheS5pc0FycmF5KGU/LnB1YktleVR5cGVzKT9lLnB1YktleVR5cGVzLm1hcCgoZT0+U3RyaW5nKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gZS5wdWJLZXlUeXBlcz9vLnB1YktleVR5cGVzPWUucHViS2V5VHlwZXMubWFwKChlPT5lKSk6by5wdWJLZXlUeXBlcz1bXSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtwdWJLZXlUeXBlczpbXX07cmV0dXJuIG8ucHViS2V5VHlwZXM9ZS5wdWJLZXlUeXBlcz8ubWFwKChlPT5lKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5WYWxpZGF0b3JQYXJhbXMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VmFsaWRhdG9yUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlZhbGlkYXRvclBhcmFtc1wiLHZhbHVlOlZhbGlkYXRvclBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvclBhcmFtcyhWYWxpZGF0b3JQYXJhbXMpO2Z1bmN0aW9uIHIoKXtyZXR1cm57YXBwVmVyc2lvbjpCaWdJbnQoMCl9fWNvbnN0IFZlcnNpb25QYXJhbXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5WZXJzaW9uUGFyYW1zXCIsZW5jb2RlOihlLG89dC5jcmVhdGUoKSk9PihlLmFwcFZlcnNpb24hPT1CaWdJbnQoMCkmJm8udWludDMyKDgpLnVpbnQ2NChlLmFwcFZlcnNpb24pLG8pLGRlY29kZShlLHQpe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIG8/ZTpuZXcgbyhlKTtsZXQgbj12b2lkIDA9PT10P2EubGVuOmEucG9zK3Q7Y29uc3QgaT1yKCk7Zm9yKDthLnBvczxuOyl7Y29uc3QgZT1hLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkuYXBwVmVyc2lvbj1hLnVpbnQ2NCgpO2Vsc2UgYS5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2FwcFZlcnNpb246YShlLmFwcFZlcnNpb24pP0JpZ0ludChlLmFwcFZlcnNpb24udG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYXBwVmVyc2lvbiYmKG8uYXBwVmVyc2lvbj0oZS5hcHBWZXJzaW9ufHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89cigpO3JldHVybiBvLmFwcFZlcnNpb249dm9pZCAwIT09ZS5hcHBWZXJzaW9uJiZudWxsIT09ZS5hcHBWZXJzaW9uP0JpZ0ludChlLmFwcFZlcnNpb24udG9TdHJpbmcoKSk6QmlnSW50KDApLG99LGZyb21Qcm90b01zZzplPT5WZXJzaW9uUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZlcnNpb25QYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVmVyc2lvblBhcmFtc1wiLHZhbHVlOlZlcnNpb25QYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WZXJzaW9uUGFyYW1zKFZlcnNpb25QYXJhbXMpO2Z1bmN0aW9uIG0oKXtyZXR1cm57YmxvY2tNYXhCeXRlczpCaWdJbnQoMCksYmxvY2tNYXhHYXM6QmlnSW50KDApfX1jb25zdCBIYXNoZWRQYXJhbXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5IYXNoZWRQYXJhbXNcIixlbmNvZGU6KGUsbz10LmNyZWF0ZSgpKT0+KGUuYmxvY2tNYXhCeXRlcyE9PUJpZ0ludCgwKSYmby51aW50MzIoOCkuaW50NjQoZS5ibG9ja01heEJ5dGVzKSxlLmJsb2NrTWF4R2FzIT09QmlnSW50KDApJiZvLnVpbnQzMigxNikuaW50NjQoZS5ibG9ja01heEdhcyksbyksZGVjb2RlKGUsdCl7Y29uc3QgYT1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBuPXZvaWQgMD09PXQ/YS5sZW46YS5wb3MrdDtjb25zdCBpPW0oKTtmb3IoO2EucG9zPG47KXtjb25zdCBlPWEudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5ibG9ja01heEJ5dGVzPWEuaW50NjQoKTticmVhaztjYXNlIDI6aS5ibG9ja01heEdhcz1hLmludDY0KCk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2Jsb2NrTWF4Qnl0ZXM6YShlLmJsb2NrTWF4Qnl0ZXMpP0JpZ0ludChlLmJsb2NrTWF4Qnl0ZXMudG9TdHJpbmcoKSk6QmlnSW50KDApLGJsb2NrTWF4R2FzOmEoZS5ibG9ja01heEdhcyk/QmlnSW50KGUuYmxvY2tNYXhHYXMudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYmxvY2tNYXhCeXRlcyYmKG8uYmxvY2tNYXhCeXRlcz0oZS5ibG9ja01heEJ5dGVzfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUuYmxvY2tNYXhHYXMmJihvLmJsb2NrTWF4R2FzPShlLmJsb2NrTWF4R2FzfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89bSgpO3JldHVybiBvLmJsb2NrTWF4Qnl0ZXM9dm9pZCAwIT09ZS5ibG9ja01heEJ5dGVzJiZudWxsIT09ZS5ibG9ja01heEJ5dGVzP0JpZ0ludChlLmJsb2NrTWF4Qnl0ZXMudG9TdHJpbmcoKSk6QmlnSW50KDApLG8uYmxvY2tNYXhHYXM9dm9pZCAwIT09ZS5ibG9ja01heEdhcyYmbnVsbCE9PWUuYmxvY2tNYXhHYXM/QmlnSW50KGUuYmxvY2tNYXhHYXMudG9TdHJpbmcoKSk6QmlnSW50KDApLG99LGZyb21Qcm90b01zZzplPT5IYXNoZWRQYXJhbXMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+SGFzaGVkUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkhhc2hlZFBhcmFtc1wiLHZhbHVlOkhhc2hlZFBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkhhc2hlZFBhcmFtcyhIYXNoZWRQYXJhbXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQ29uc2Vuc3VzUGFyYW1zIjpbIkNvbnNlbnN1c1BhcmFtcyJdLCJCbG9ja1BhcmFtcyI6WyJCbG9ja1BhcmFtcyJdLCJFdmlkZW5jZVBhcmFtcyI6WyJFdmlkZW5jZVBhcmFtcyJdLCJWYWxpZGF0b3JQYXJhbXMiOlsiVmFsaWRhdG9yUGFyYW1zIl0sIlZlcnNpb25QYXJhbXMiOlsiVmVyc2lvblBhcmFtcyJdLCJIYXNoZWRQYXJhbXMiOlsiSGFzaGVkUGFyYW1zIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMPJqPXBdgAAwXYAAEIAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvdHlwZXMuanN7ImltcG9ydHMiOlsiLi4vY3J5cHRvL3Byb29mLmpzIiwiLi4vdmVyc2lvbi90eXBlcy5qcyIsIi4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanMiLCIuL3ZhbGlkYXRvci5qcyIsIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJCbG9ja0lEIiwiQmxvY2tJREZsYWciLCJCbG9ja0lERmxhZ1NES1R5cGUiLCJCbG9ja01ldGEiLCJDb21taXQiLCJDb21taXRTaWciLCJEYXRhIiwiSGVhZGVyIiwiTGlnaHRCbG9jayIsIlBhcnQiLCJQYXJ0U2V0SGVhZGVyIiwiUHJvcG9zYWwiLCJTaWduZWRIZWFkZXIiLCJTaWduZWRNc2dUeXBlIiwiU2lnbmVkTXNnVHlwZVNES1R5cGUiLCJUeFByb29mIiwiVm90ZSIsImJsb2NrSURGbGFnRnJvbUpTT04iLCJibG9ja0lERmxhZ1RvSlNPTiIsInNpZ25lZE1zZ1R5cGVGcm9tSlNPTiIsInNpZ25lZE1zZ1R5cGVUb0pTT04iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHQsbyxyLGEsaSxuLHMsZCxsLGM7JGjNj19pbXBvcnRzKFtbXCIuLi9jcnlwdG8vcHJvb2YuanNcIiwgW1tcIlByb29mXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uL3ZlcnNpb24vdHlwZXMuanNcIiwgW1tcIkNvbnNlbnN1c1wiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzXCIsIFtbXCJUaW1lc3RhbXBcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi92YWxpZGF0b3IuanNcIiwgW1tcIlZhbGlkYXRvclNldFwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJmcm9tSnNvblRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV0sW1wiZnJvbVRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGwgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoYyA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYmxvY2tJREZsYWdGcm9tSlNPTiwnbmFtZScse3ZhbHVlOlwiYmxvY2tJREZsYWdGcm9tSlNPTlwifSk7JGjNj19vbmNlLmJsb2NrSURGbGFnRnJvbUpTT04oYmxvY2tJREZsYWdGcm9tSlNPTik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJsb2NrSURGbGFnVG9KU09OLCduYW1lJyx7dmFsdWU6XCJibG9ja0lERmxhZ1RvSlNPTlwifSk7JGjNj19vbmNlLmJsb2NrSURGbGFnVG9KU09OKGJsb2NrSURGbGFnVG9KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc2lnbmVkTXNnVHlwZUZyb21KU09OLCduYW1lJyx7dmFsdWU6XCJzaWduZWRNc2dUeXBlRnJvbUpTT05cIn0pOyRozY9fb25jZS5zaWduZWRNc2dUeXBlRnJvbUpTT04oc2lnbmVkTXNnVHlwZUZyb21KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc2lnbmVkTXNnVHlwZVRvSlNPTiwnbmFtZScse3ZhbHVlOlwic2lnbmVkTXNnVHlwZVRvSlNPTlwifSk7JGjNj19vbmNlLnNpZ25lZE1zZ1R5cGVUb0pTT04oc2lnbmVkTXNnVHlwZVRvSlNPTik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGPNj19CbG9ja0lERmxhZzskaM2PX2xpdmUuQmxvY2tJREZsYWcoJGPNj19CbG9ja0lERmxhZyk7IWZ1bmN0aW9uKGUpe2VbZS5CTE9DS19JRF9GTEFHX1VOS05PV049MF09XCJCTE9DS19JRF9GTEFHX1VOS05PV05cIixlW2UuQkxPQ0tfSURfRkxBR19BQlNFTlQ9MV09XCJCTE9DS19JRF9GTEFHX0FCU0VOVFwiLGVbZS5CTE9DS19JRF9GTEFHX0NPTU1JVD0yXT1cIkJMT0NLX0lEX0ZMQUdfQ09NTUlUXCIsZVtlLkJMT0NLX0lEX0ZMQUdfTklMPTNdPVwiQkxPQ0tfSURfRkxBR19OSUxcIixlW2UuVU5SRUNPR05JWkVEPS0xXT1cIlVOUkVDT0dOSVpFRFwifShCbG9ja0lERmxhZ3x8KEJsb2NrSURGbGFnPXt9KSk7Y29uc3QgQmxvY2tJREZsYWdTREtUeXBlPUJsb2NrSURGbGFnOyRozY9fb25jZS5CbG9ja0lERmxhZ1NES1R5cGUoQmxvY2tJREZsYWdTREtUeXBlKTtmdW5jdGlvbiBibG9ja0lERmxhZ0Zyb21KU09OKGUpe3N3aXRjaChlKXtjYXNlIDA6Y2FzZVwiQkxPQ0tfSURfRkxBR19VTktOT1dOXCI6cmV0dXJuIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfVU5LTk9XTjtjYXNlIDE6Y2FzZVwiQkxPQ0tfSURfRkxBR19BQlNFTlRcIjpyZXR1cm4gQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19BQlNFTlQ7Y2FzZSAyOmNhc2VcIkJMT0NLX0lEX0ZMQUdfQ09NTUlUXCI6cmV0dXJuIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfQ09NTUlUO2Nhc2UgMzpjYXNlXCJCTE9DS19JRF9GTEFHX05JTFwiOnJldHVybiBCbG9ja0lERmxhZy5CTE9DS19JRF9GTEFHX05JTDtkZWZhdWx0OnJldHVybiBCbG9ja0lERmxhZy5VTlJFQ09HTklaRUR9fWZ1bmN0aW9uIGJsb2NrSURGbGFnVG9KU09OKGUpe3N3aXRjaChlKXtjYXNlIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfVU5LTk9XTjpyZXR1cm5cIkJMT0NLX0lEX0ZMQUdfVU5LTk9XTlwiO2Nhc2UgQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19BQlNFTlQ6cmV0dXJuXCJCTE9DS19JRF9GTEFHX0FCU0VOVFwiO2Nhc2UgQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19DT01NSVQ6cmV0dXJuXCJCTE9DS19JRF9GTEFHX0NPTU1JVFwiO2Nhc2UgQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19OSUw6cmV0dXJuXCJCTE9DS19JRF9GTEFHX05JTFwiO2Nhc2UgQmxvY2tJREZsYWcuVU5SRUNPR05JWkVEOmRlZmF1bHQ6cmV0dXJuXCJVTlJFQ09HTklaRURcIn19dmFyICRjzY9fU2lnbmVkTXNnVHlwZTskaM2PX2xpdmUuU2lnbmVkTXNnVHlwZSgkY82PX1NpZ25lZE1zZ1R5cGUpOyFmdW5jdGlvbihlKXtlW2UuU0lHTkVEX01TR19UWVBFX1VOS05PV049MF09XCJTSUdORURfTVNHX1RZUEVfVU5LTk9XTlwiLGVbZS5TSUdORURfTVNHX1RZUEVfUFJFVk9URT0xXT1cIlNJR05FRF9NU0dfVFlQRV9QUkVWT1RFXCIsZVtlLlNJR05FRF9NU0dfVFlQRV9QUkVDT01NSVQ9Ml09XCJTSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUXCIsZVtlLlNJR05FRF9NU0dfVFlQRV9QUk9QT1NBTD0zMl09XCJTSUdORURfTVNHX1RZUEVfUFJPUE9TQUxcIixlW2UuVU5SRUNPR05JWkVEPS0xXT1cIlVOUkVDT0dOSVpFRFwifShTaWduZWRNc2dUeXBlfHwoU2lnbmVkTXNnVHlwZT17fSkpO2NvbnN0IFNpZ25lZE1zZ1R5cGVTREtUeXBlPVNpZ25lZE1zZ1R5cGU7JGjNj19vbmNlLlNpZ25lZE1zZ1R5cGVTREtUeXBlKFNpZ25lZE1zZ1R5cGVTREtUeXBlKTtmdW5jdGlvbiBzaWduZWRNc2dUeXBlRnJvbUpTT04oZSl7c3dpdGNoKGUpe2Nhc2UgMDpjYXNlXCJTSUdORURfTVNHX1RZUEVfVU5LTk9XTlwiOnJldHVybiBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9VTktOT1dOO2Nhc2UgMTpjYXNlXCJTSUdORURfTVNHX1RZUEVfUFJFVk9URVwiOnJldHVybiBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9QUkVWT1RFO2Nhc2UgMjpjYXNlXCJTSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUXCI6cmV0dXJuIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1BSRUNPTU1JVDtjYXNlIDMyOmNhc2VcIlNJR05FRF9NU0dfVFlQRV9QUk9QT1NBTFwiOnJldHVybiBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9QUk9QT1NBTDtkZWZhdWx0OnJldHVybiBTaWduZWRNc2dUeXBlLlVOUkVDT0dOSVpFRH19ZnVuY3Rpb24gc2lnbmVkTXNnVHlwZVRvSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9VTktOT1dOOnJldHVyblwiU0lHTkVEX01TR19UWVBFX1VOS05PV05cIjtjYXNlIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1BSRVZPVEU6cmV0dXJuXCJTSUdORURfTVNHX1RZUEVfUFJFVk9URVwiO2Nhc2UgU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUOnJldHVyblwiU0lHTkVEX01TR19UWVBFX1BSRUNPTU1JVFwiO2Nhc2UgU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfUFJPUE9TQUw6cmV0dXJuXCJTSUdORURfTVNHX1RZUEVfUFJPUE9TQUxcIjtjYXNlIFNpZ25lZE1zZ1R5cGUuVU5SRUNPR05JWkVEOmRlZmF1bHQ6cmV0dXJuXCJVTlJFQ09HTklaRURcIn19ZnVuY3Rpb24gaCgpe3JldHVybnt0b3RhbDowLGhhc2g6bmV3IFVpbnQ4QXJyYXl9fWNvbnN0IFBhcnRTZXRIZWFkZXI9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5QYXJ0U2V0SGVhZGVyXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PigwIT09ZS50b3RhbCYmdC51aW50MzIoOCkudWludDMyKGUudG90YWwpLDAhPT1lLmhhc2gubGVuZ3RoJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS5oYXNoKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZSk7bGV0IHI9dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9aCgpO2Zvcig7by5wb3M8cjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLnRvdGFsPW8udWludDMyKCk7YnJlYWs7Y2FzZSAyOmkuaGFzaD1vLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3RvdGFsOm4oZS50b3RhbCk/TnVtYmVyKGUudG90YWwpOjAsaGFzaDpuKGUuaGFzaCk/bChlLmhhc2gpOm5ldyBVaW50OEFycmF5fSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudG90YWwmJih0LnRvdGFsPU1hdGgucm91bmQoZS50b3RhbCkpLHZvaWQgMCE9PWUuaGFzaCYmKHQuaGFzaD1jKHZvaWQgMCE9PWUuaGFzaD9lLmhhc2g6bmV3IFVpbnQ4QXJyYXkpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWgoKTtyZXR1cm4gdC50b3RhbD1lLnRvdGFsPz8wLHQuaGFzaD1lLmhhc2g/P25ldyBVaW50OEFycmF5LHR9LGZyb21Qcm90b01zZzplPT5QYXJ0U2V0SGVhZGVyLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlBhcnRTZXRIZWFkZXIuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuUGFydFNldEhlYWRlclwiLHZhbHVlOlBhcnRTZXRIZWFkZXIuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5QYXJ0U2V0SGVhZGVyKFBhcnRTZXRIZWFkZXIpO2Z1bmN0aW9uIHUoKXtyZXR1cm57aW5kZXg6MCxieXRlczpuZXcgVWludDhBcnJheSxwcm9vZjplLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUGFydD17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlBhcnRcIixlbmNvZGU6KHQsbz1pLmNyZWF0ZSgpKT0+KDAhPT10LmluZGV4JiZvLnVpbnQzMig4KS51aW50MzIodC5pbmRleCksMCE9PXQuYnl0ZXMubGVuZ3RoJiZvLnVpbnQzMigxOCkuYnl0ZXModC5ieXRlcyksdm9pZCAwIT09dC5wcm9vZiYmZS5lbmNvZGUodC5wcm9vZixvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUodCxvKXtjb25zdCByPXQgaW5zdGFuY2VvZiBhP3Q6bmV3IGEodCk7bGV0IGk9dm9pZCAwPT09bz9yLmxlbjpyLnBvcytvO2NvbnN0IG49dSgpO2Zvcig7ci5wb3M8aTspe2NvbnN0IHQ9ci51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTpuLmluZGV4PXIudWludDMyKCk7YnJlYWs7Y2FzZSAyOm4uYnl0ZXM9ci5ieXRlcygpO2JyZWFrO2Nhc2UgMzpuLnByb29mPWUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmdCl9fXJldHVybiBufSxmcm9tSlNPTjp0PT4oe2luZGV4Om4odC5pbmRleCk/TnVtYmVyKHQuaW5kZXgpOjAsYnl0ZXM6bih0LmJ5dGVzKT9sKHQuYnl0ZXMpOm5ldyBVaW50OEFycmF5LHByb29mOm4odC5wcm9vZik/ZS5mcm9tSlNPTih0LnByb29mKTp2b2lkIDB9KSx0b0pTT04odCl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09dC5pbmRleCYmKG8uaW5kZXg9TWF0aC5yb3VuZCh0LmluZGV4KSksdm9pZCAwIT09dC5ieXRlcyYmKG8uYnl0ZXM9Yyh2b2lkIDAhPT10LmJ5dGVzP3QuYnl0ZXM6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT10LnByb29mJiYoby5wcm9vZj10LnByb29mP2UudG9KU09OKHQucHJvb2YpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz11KCk7cmV0dXJuIG8uaW5kZXg9dC5pbmRleD8/MCxvLmJ5dGVzPXQuYnl0ZXM/P25ldyBVaW50OEFycmF5LG8ucHJvb2Y9dm9pZCAwIT09dC5wcm9vZiYmbnVsbCE9PXQucHJvb2Y/ZS5mcm9tUGFydGlhbCh0LnByb29mKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlBhcnQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UGFydC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5QYXJ0XCIsdmFsdWU6UGFydC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlBhcnQoUGFydCk7ZnVuY3Rpb24gbSgpe3JldHVybntoYXNoOm5ldyBVaW50OEFycmF5LHBhcnRTZXRIZWFkZXI6UGFydFNldEhlYWRlci5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IEJsb2NrSUQ9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5CbG9ja0lEXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PigwIT09ZS5oYXNoLmxlbmd0aCYmdC51aW50MzIoMTApLmJ5dGVzKGUuaGFzaCksdm9pZCAwIT09ZS5wYXJ0U2V0SGVhZGVyJiZQYXJ0U2V0SGVhZGVyLmVuY29kZShlLnBhcnRTZXRIZWFkZXIsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCByPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPW0oKTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5oYXNoPW8uYnl0ZXMoKTticmVhaztjYXNlIDI6aS5wYXJ0U2V0SGVhZGVyPVBhcnRTZXRIZWFkZXIuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2hhc2g6bihlLmhhc2gpP2woZS5oYXNoKTpuZXcgVWludDhBcnJheSxwYXJ0U2V0SGVhZGVyOm4oZS5wYXJ0U2V0SGVhZGVyKT9QYXJ0U2V0SGVhZGVyLmZyb21KU09OKGUucGFydFNldEhlYWRlcik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuaGFzaCYmKHQuaGFzaD1jKHZvaWQgMCE9PWUuaGFzaD9lLmhhc2g6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnBhcnRTZXRIZWFkZXImJih0LnBhcnRTZXRIZWFkZXI9ZS5wYXJ0U2V0SGVhZGVyP1BhcnRTZXRIZWFkZXIudG9KU09OKGUucGFydFNldEhlYWRlcik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PW0oKTtyZXR1cm4gdC5oYXNoPWUuaGFzaD8/bmV3IFVpbnQ4QXJyYXksdC5wYXJ0U2V0SGVhZGVyPXZvaWQgMCE9PWUucGFydFNldEhlYWRlciYmbnVsbCE9PWUucGFydFNldEhlYWRlcj9QYXJ0U2V0SGVhZGVyLmZyb21QYXJ0aWFsKGUucGFydFNldEhlYWRlcik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzplPT5CbG9ja0lELmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkJsb2NrSUQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQmxvY2tJRFwiLHZhbHVlOkJsb2NrSUQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5CbG9ja0lEKEJsb2NrSUQpO2Z1bmN0aW9uIHAoKXtyZXR1cm57dmVyc2lvbjp0LmZyb21QYXJ0aWFsKHt9KSxjaGFpbklkOlwiXCIsaGVpZ2h0OkJpZ0ludCgwKSx0aW1lOm8uZnJvbVBhcnRpYWwoe30pLGxhc3RCbG9ja0lkOkJsb2NrSUQuZnJvbVBhcnRpYWwoe30pLGxhc3RDb21taXRIYXNoOm5ldyBVaW50OEFycmF5LGRhdGFIYXNoOm5ldyBVaW50OEFycmF5LHZhbGlkYXRvcnNIYXNoOm5ldyBVaW50OEFycmF5LG5leHRWYWxpZGF0b3JzSGFzaDpuZXcgVWludDhBcnJheSxjb25zZW5zdXNIYXNoOm5ldyBVaW50OEFycmF5LGFwcEhhc2g6bmV3IFVpbnQ4QXJyYXksbGFzdFJlc3VsdHNIYXNoOm5ldyBVaW50OEFycmF5LGV2aWRlbmNlSGFzaDpuZXcgVWludDhBcnJheSxwcm9wb3NlckFkZHJlc3M6bmV3IFVpbnQ4QXJyYXl9fWNvbnN0IEhlYWRlcj17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkhlYWRlclwiLGVuY29kZTooZSxyPWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS52ZXJzaW9uJiZ0LmVuY29kZShlLnZlcnNpb24sci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PWUuY2hhaW5JZCYmci51aW50MzIoMTgpLnN0cmluZyhlLmNoYWluSWQpLGUuaGVpZ2h0IT09QmlnSW50KDApJiZyLnVpbnQzMigyNCkuaW50NjQoZS5oZWlnaHQpLHZvaWQgMCE9PWUudGltZSYmby5lbmNvZGUoZS50aW1lLHIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUubGFzdEJsb2NrSWQmJkJsb2NrSUQuZW5jb2RlKGUubGFzdEJsb2NrSWQsci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksMCE9PWUubGFzdENvbW1pdEhhc2gubGVuZ3RoJiZyLnVpbnQzMig1MCkuYnl0ZXMoZS5sYXN0Q29tbWl0SGFzaCksMCE9PWUuZGF0YUhhc2gubGVuZ3RoJiZyLnVpbnQzMig1OCkuYnl0ZXMoZS5kYXRhSGFzaCksMCE9PWUudmFsaWRhdG9yc0hhc2gubGVuZ3RoJiZyLnVpbnQzMig2NikuYnl0ZXMoZS52YWxpZGF0b3JzSGFzaCksMCE9PWUubmV4dFZhbGlkYXRvcnNIYXNoLmxlbmd0aCYmci51aW50MzIoNzQpLmJ5dGVzKGUubmV4dFZhbGlkYXRvcnNIYXNoKSwwIT09ZS5jb25zZW5zdXNIYXNoLmxlbmd0aCYmci51aW50MzIoODIpLmJ5dGVzKGUuY29uc2Vuc3VzSGFzaCksMCE9PWUuYXBwSGFzaC5sZW5ndGgmJnIudWludDMyKDkwKS5ieXRlcyhlLmFwcEhhc2gpLDAhPT1lLmxhc3RSZXN1bHRzSGFzaC5sZW5ndGgmJnIudWludDMyKDk4KS5ieXRlcyhlLmxhc3RSZXN1bHRzSGFzaCksMCE9PWUuZXZpZGVuY2VIYXNoLmxlbmd0aCYmci51aW50MzIoMTA2KS5ieXRlcyhlLmV2aWRlbmNlSGFzaCksMCE9PWUucHJvcG9zZXJBZGRyZXNzLmxlbmd0aCYmci51aW50MzIoMTE0KS5ieXRlcyhlLnByb3Bvc2VyQWRkcmVzcyksciksZGVjb2RlKGUscil7Y29uc3QgaT1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBuPXZvaWQgMD09PXI/aS5sZW46aS5wb3Mrcjtjb25zdCBzPXAoKTtmb3IoO2kucG9zPG47KXtjb25zdCBlPWkudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6cy52ZXJzaW9uPXQuZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnMuY2hhaW5JZD1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpzLmhlaWdodD1pLmludDY0KCk7YnJlYWs7Y2FzZSA0OnMudGltZT1vLmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpzLmxhc3RCbG9ja0lkPUJsb2NrSUQuZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSA2OnMubGFzdENvbW1pdEhhc2g9aS5ieXRlcygpO2JyZWFrO2Nhc2UgNzpzLmRhdGFIYXNoPWkuYnl0ZXMoKTticmVhaztjYXNlIDg6cy52YWxpZGF0b3JzSGFzaD1pLmJ5dGVzKCk7YnJlYWs7Y2FzZSA5OnMubmV4dFZhbGlkYXRvcnNIYXNoPWkuYnl0ZXMoKTticmVhaztjYXNlIDEwOnMuY29uc2Vuc3VzSGFzaD1pLmJ5dGVzKCk7YnJlYWs7Y2FzZSAxMTpzLmFwcEhhc2g9aS5ieXRlcygpO2JyZWFrO2Nhc2UgMTI6cy5sYXN0UmVzdWx0c0hhc2g9aS5ieXRlcygpO2JyZWFrO2Nhc2UgMTM6cy5ldmlkZW5jZUhhc2g9aS5ieXRlcygpO2JyZWFrO2Nhc2UgMTQ6cy5wcm9wb3NlckFkZHJlc3M9aS5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHt2ZXJzaW9uOm4oZS52ZXJzaW9uKT90LmZyb21KU09OKGUudmVyc2lvbik6dm9pZCAwLGNoYWluSWQ6bihlLmNoYWluSWQpP1N0cmluZyhlLmNoYWluSWQpOlwiXCIsaGVpZ2h0Om4oZS5oZWlnaHQpP0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdGltZTpuKGUudGltZSk/cyhlLnRpbWUpOnZvaWQgMCxsYXN0QmxvY2tJZDpuKGUubGFzdEJsb2NrSWQpP0Jsb2NrSUQuZnJvbUpTT04oZS5sYXN0QmxvY2tJZCk6dm9pZCAwLGxhc3RDb21taXRIYXNoOm4oZS5sYXN0Q29tbWl0SGFzaCk/bChlLmxhc3RDb21taXRIYXNoKTpuZXcgVWludDhBcnJheSxkYXRhSGFzaDpuKGUuZGF0YUhhc2gpP2woZS5kYXRhSGFzaCk6bmV3IFVpbnQ4QXJyYXksdmFsaWRhdG9yc0hhc2g6bihlLnZhbGlkYXRvcnNIYXNoKT9sKGUudmFsaWRhdG9yc0hhc2gpOm5ldyBVaW50OEFycmF5LG5leHRWYWxpZGF0b3JzSGFzaDpuKGUubmV4dFZhbGlkYXRvcnNIYXNoKT9sKGUubmV4dFZhbGlkYXRvcnNIYXNoKTpuZXcgVWludDhBcnJheSxjb25zZW5zdXNIYXNoOm4oZS5jb25zZW5zdXNIYXNoKT9sKGUuY29uc2Vuc3VzSGFzaCk6bmV3IFVpbnQ4QXJyYXksYXBwSGFzaDpuKGUuYXBwSGFzaCk/bChlLmFwcEhhc2gpOm5ldyBVaW50OEFycmF5LGxhc3RSZXN1bHRzSGFzaDpuKGUubGFzdFJlc3VsdHNIYXNoKT9sKGUubGFzdFJlc3VsdHNIYXNoKTpuZXcgVWludDhBcnJheSxldmlkZW5jZUhhc2g6bihlLmV2aWRlbmNlSGFzaCk/bChlLmV2aWRlbmNlSGFzaCk6bmV3IFVpbnQ4QXJyYXkscHJvcG9zZXJBZGRyZXNzOm4oZS5wcm9wb3NlckFkZHJlc3MpP2woZS5wcm9wb3NlckFkZHJlc3MpOm5ldyBVaW50OEFycmF5fSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUudmVyc2lvbiYmKG8udmVyc2lvbj1lLnZlcnNpb24/dC50b0pTT04oZS52ZXJzaW9uKTp2b2lkIDApLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUuaGVpZ2h0JiYoby5oZWlnaHQ9KGUuaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUudGltZSYmKG8udGltZT1kKGUudGltZSkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS5sYXN0QmxvY2tJZCYmKG8ubGFzdEJsb2NrSWQ9ZS5sYXN0QmxvY2tJZD9CbG9ja0lELnRvSlNPTihlLmxhc3RCbG9ja0lkKTp2b2lkIDApLHZvaWQgMCE9PWUubGFzdENvbW1pdEhhc2gmJihvLmxhc3RDb21taXRIYXNoPWModm9pZCAwIT09ZS5sYXN0Q29tbWl0SGFzaD9lLmxhc3RDb21taXRIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5kYXRhSGFzaCYmKG8uZGF0YUhhc2g9Yyh2b2lkIDAhPT1lLmRhdGFIYXNoP2UuZGF0YUhhc2g6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnZhbGlkYXRvcnNIYXNoJiYoby52YWxpZGF0b3JzSGFzaD1jKHZvaWQgMCE9PWUudmFsaWRhdG9yc0hhc2g/ZS52YWxpZGF0b3JzSGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUubmV4dFZhbGlkYXRvcnNIYXNoJiYoby5uZXh0VmFsaWRhdG9yc0hhc2g9Yyh2b2lkIDAhPT1lLm5leHRWYWxpZGF0b3JzSGFzaD9lLm5leHRWYWxpZGF0b3JzSGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUuY29uc2Vuc3VzSGFzaCYmKG8uY29uc2Vuc3VzSGFzaD1jKHZvaWQgMCE9PWUuY29uc2Vuc3VzSGFzaD9lLmNvbnNlbnN1c0hhc2g6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLmFwcEhhc2gmJihvLmFwcEhhc2g9Yyh2b2lkIDAhPT1lLmFwcEhhc2g/ZS5hcHBIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5sYXN0UmVzdWx0c0hhc2gmJihvLmxhc3RSZXN1bHRzSGFzaD1jKHZvaWQgMCE9PWUubGFzdFJlc3VsdHNIYXNoP2UubGFzdFJlc3VsdHNIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5ldmlkZW5jZUhhc2gmJihvLmV2aWRlbmNlSGFzaD1jKHZvaWQgMCE9PWUuZXZpZGVuY2VIYXNoP2UuZXZpZGVuY2VIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5wcm9wb3NlckFkZHJlc3MmJihvLnByb3Bvc2VyQWRkcmVzcz1jKHZvaWQgMCE9PWUucHJvcG9zZXJBZGRyZXNzP2UucHJvcG9zZXJBZGRyZXNzOm5ldyBVaW50OEFycmF5KSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgcj1wKCk7cmV0dXJuIHIudmVyc2lvbj12b2lkIDAhPT1lLnZlcnNpb24mJm51bGwhPT1lLnZlcnNpb24/dC5mcm9tUGFydGlhbChlLnZlcnNpb24pOnZvaWQgMCxyLmNoYWluSWQ9ZS5jaGFpbklkPz9cIlwiLHIuaGVpZ2h0PXZvaWQgMCE9PWUuaGVpZ2h0JiZudWxsIT09ZS5oZWlnaHQ/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxyLnRpbWU9dm9pZCAwIT09ZS50aW1lJiZudWxsIT09ZS50aW1lP28uZnJvbVBhcnRpYWwoZS50aW1lKTp2b2lkIDAsci5sYXN0QmxvY2tJZD12b2lkIDAhPT1lLmxhc3RCbG9ja0lkJiZudWxsIT09ZS5sYXN0QmxvY2tJZD9CbG9ja0lELmZyb21QYXJ0aWFsKGUubGFzdEJsb2NrSWQpOnZvaWQgMCxyLmxhc3RDb21taXRIYXNoPWUubGFzdENvbW1pdEhhc2g/P25ldyBVaW50OEFycmF5LHIuZGF0YUhhc2g9ZS5kYXRhSGFzaD8/bmV3IFVpbnQ4QXJyYXksci52YWxpZGF0b3JzSGFzaD1lLnZhbGlkYXRvcnNIYXNoPz9uZXcgVWludDhBcnJheSxyLm5leHRWYWxpZGF0b3JzSGFzaD1lLm5leHRWYWxpZGF0b3JzSGFzaD8/bmV3IFVpbnQ4QXJyYXksci5jb25zZW5zdXNIYXNoPWUuY29uc2Vuc3VzSGFzaD8/bmV3IFVpbnQ4QXJyYXksci5hcHBIYXNoPWUuYXBwSGFzaD8/bmV3IFVpbnQ4QXJyYXksci5sYXN0UmVzdWx0c0hhc2g9ZS5sYXN0UmVzdWx0c0hhc2g/P25ldyBVaW50OEFycmF5LHIuZXZpZGVuY2VIYXNoPWUuZXZpZGVuY2VIYXNoPz9uZXcgVWludDhBcnJheSxyLnByb3Bvc2VyQWRkcmVzcz1lLnByb3Bvc2VyQWRkcmVzcz8/bmV3IFVpbnQ4QXJyYXkscn0sZnJvbVByb3RvTXNnOmU9PkhlYWRlci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5IZWFkZXIuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuSGVhZGVyXCIsdmFsdWU6SGVhZGVyLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuSGVhZGVyKEhlYWRlcik7Y29uc3QgRGF0YT17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkRhdGFcIixlbmNvZGUoZSx0PWkuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUudHhzKXQudWludDMyKDEwKS5ieXRlcyhvKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCByPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXt0eHM6W119O2Zvcig7by5wb3M8cjspe2NvbnN0IGU9by51aW50MzIoKTtpZihlPj4+Mz09MSlpLnR4cy5wdXNoKG8uYnl0ZXMoKSk7ZWxzZSBvLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dHhzOkFycmF5LmlzQXJyYXkoZT8udHhzKT9lLnR4cy5tYXAoKGU9PmwoZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLnR4cz90LnR4cz1lLnR4cy5tYXAoKGU9PmModm9pZCAwIT09ZT9lOm5ldyBVaW50OEFycmF5KSkpOnQudHhzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3R4czpbXX07cmV0dXJuIHQudHhzPWUudHhzPy5tYXAoKGU9PmUpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PkRhdGEuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RGF0YS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5EYXRhXCIsdmFsdWU6RGF0YS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkRhdGEoRGF0YSk7ZnVuY3Rpb24gZygpe3JldHVybnt0eXBlOjAsaGVpZ2h0OkJpZ0ludCgwKSxyb3VuZDowLGJsb2NrSWQ6QmxvY2tJRC5mcm9tUGFydGlhbCh7fSksdGltZXN0YW1wOm8uZnJvbVBhcnRpYWwoe30pLHZhbGlkYXRvckFkZHJlc3M6bmV3IFVpbnQ4QXJyYXksdmFsaWRhdG9ySW5kZXg6MCxzaWduYXR1cmU6bmV3IFVpbnQ4QXJyYXl9fWNvbnN0IFZvdGU9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5Wb3RlXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PigwIT09ZS50eXBlJiZ0LnVpbnQzMig4KS5pbnQzMihlLnR5cGUpLGUuaGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMigxNikuaW50NjQoZS5oZWlnaHQpLDAhPT1lLnJvdW5kJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5yb3VuZCksdm9pZCAwIT09ZS5ibG9ja0lkJiZCbG9ja0lELmVuY29kZShlLmJsb2NrSWQsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS50aW1lc3RhbXAmJm8uZW5jb2RlKGUudGltZXN0YW1wLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLDAhPT1lLnZhbGlkYXRvckFkZHJlc3MubGVuZ3RoJiZ0LnVpbnQzMig1MCkuYnl0ZXMoZS52YWxpZGF0b3JBZGRyZXNzKSwwIT09ZS52YWxpZGF0b3JJbmRleCYmdC51aW50MzIoNTYpLmludDMyKGUudmFsaWRhdG9ySW5kZXgpLDAhPT1lLnNpZ25hdHVyZS5sZW5ndGgmJnQudWludDMyKDY2KS5ieXRlcyhlLnNpZ25hdHVyZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgcj1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBpPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBuPWcoKTtmb3IoO3IucG9zPGk7KXtjb25zdCBlPXIudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi50eXBlPXIuaW50MzIoKTticmVhaztjYXNlIDI6bi5oZWlnaHQ9ci5pbnQ2NCgpO2JyZWFrO2Nhc2UgMzpuLnJvdW5kPXIuaW50MzIoKTticmVhaztjYXNlIDQ6bi5ibG9ja0lkPUJsb2NrSUQuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSA1Om4udGltZXN0YW1wPW8uZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSA2Om4udmFsaWRhdG9yQWRkcmVzcz1yLmJ5dGVzKCk7YnJlYWs7Y2FzZSA3Om4udmFsaWRhdG9ySW5kZXg9ci5pbnQzMigpO2JyZWFrO2Nhc2UgODpuLnNpZ25hdHVyZT1yLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe3R5cGU6bihlLnR5cGUpP3NpZ25lZE1zZ1R5cGVGcm9tSlNPTihlLnR5cGUpOi0xLGhlaWdodDpuKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHJvdW5kOm4oZS5yb3VuZCk/TnVtYmVyKGUucm91bmQpOjAsYmxvY2tJZDpuKGUuYmxvY2tJZCk/QmxvY2tJRC5mcm9tSlNPTihlLmJsb2NrSWQpOnZvaWQgMCx0aW1lc3RhbXA6bihlLnRpbWVzdGFtcCk/cyhlLnRpbWVzdGFtcCk6dm9pZCAwLHZhbGlkYXRvckFkZHJlc3M6bihlLnZhbGlkYXRvckFkZHJlc3MpP2woZS52YWxpZGF0b3JBZGRyZXNzKTpuZXcgVWludDhBcnJheSx2YWxpZGF0b3JJbmRleDpuKGUudmFsaWRhdG9ySW5kZXgpP051bWJlcihlLnZhbGlkYXRvckluZGV4KTowLHNpZ25hdHVyZTpuKGUuc2lnbmF0dXJlKT9sKGUuc2lnbmF0dXJlKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnR5cGUmJih0LnR5cGU9c2lnbmVkTXNnVHlwZVRvSlNPTihlLnR5cGUpKSx2b2lkIDAhPT1lLmhlaWdodCYmKHQuaGVpZ2h0PShlLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLnJvdW5kJiYodC5yb3VuZD1NYXRoLnJvdW5kKGUucm91bmQpKSx2b2lkIDAhPT1lLmJsb2NrSWQmJih0LmJsb2NrSWQ9ZS5ibG9ja0lkP0Jsb2NrSUQudG9KU09OKGUuYmxvY2tJZCk6dm9pZCAwKSx2b2lkIDAhPT1lLnRpbWVzdGFtcCYmKHQudGltZXN0YW1wPWQoZS50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCkpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKHQudmFsaWRhdG9yQWRkcmVzcz1jKHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcz9lLnZhbGlkYXRvckFkZHJlc3M6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnZhbGlkYXRvckluZGV4JiYodC52YWxpZGF0b3JJbmRleD1NYXRoLnJvdW5kKGUudmFsaWRhdG9ySW5kZXgpKSx2b2lkIDAhPT1lLnNpZ25hdHVyZSYmKHQuc2lnbmF0dXJlPWModm9pZCAwIT09ZS5zaWduYXR1cmU/ZS5zaWduYXR1cmU6bmV3IFVpbnQ4QXJyYXkpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWcoKTtyZXR1cm4gdC50eXBlPWUudHlwZT8/MCx0LmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5yb3VuZD1lLnJvdW5kPz8wLHQuYmxvY2tJZD12b2lkIDAhPT1lLmJsb2NrSWQmJm51bGwhPT1lLmJsb2NrSWQ/QmxvY2tJRC5mcm9tUGFydGlhbChlLmJsb2NrSWQpOnZvaWQgMCx0LnRpbWVzdGFtcD12b2lkIDAhPT1lLnRpbWVzdGFtcCYmbnVsbCE9PWUudGltZXN0YW1wP28uZnJvbVBhcnRpYWwoZS50aW1lc3RhbXApOnZvaWQgMCx0LnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9uZXcgVWludDhBcnJheSx0LnZhbGlkYXRvckluZGV4PWUudmFsaWRhdG9ySW5kZXg/PzAsdC5zaWduYXR1cmU9ZS5zaWduYXR1cmU/P25ldyBVaW50OEFycmF5LHR9LGZyb21Qcm90b01zZzplPT5Wb3RlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZvdGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVm90ZVwiLHZhbHVlOlZvdGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Wb3RlKFZvdGUpO2Z1bmN0aW9uIHYoKXtyZXR1cm57aGVpZ2h0OkJpZ0ludCgwKSxyb3VuZDowLGJsb2NrSWQ6QmxvY2tJRC5mcm9tUGFydGlhbCh7fSksc2lnbmF0dXJlczpbXX19Y29uc3QgQ29tbWl0PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQ29tbWl0XCIsZW5jb2RlKGUsdD1pLmNyZWF0ZSgpKXtlLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoOCkuaW50NjQoZS5oZWlnaHQpLDAhPT1lLnJvdW5kJiZ0LnVpbnQzMigxNikuaW50MzIoZS5yb3VuZCksdm9pZCAwIT09ZS5ibG9ja0lkJiZCbG9ja0lELmVuY29kZShlLmJsb2NrSWQsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7Zm9yKGNvbnN0IG8gb2YgZS5zaWduYXR1cmVzKUNvbW1pdFNpZy5lbmNvZGUobyx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCByPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXYoKTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5oZWlnaHQ9by5pbnQ2NCgpO2JyZWFrO2Nhc2UgMjppLnJvdW5kPW8uaW50MzIoKTticmVhaztjYXNlIDM6aS5ibG9ja0lkPUJsb2NrSUQuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSA0Omkuc2lnbmF0dXJlcy5wdXNoKENvbW1pdFNpZy5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2hlaWdodDpuKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHJvdW5kOm4oZS5yb3VuZCk/TnVtYmVyKGUucm91bmQpOjAsYmxvY2tJZDpuKGUuYmxvY2tJZCk/QmxvY2tJRC5mcm9tSlNPTihlLmJsb2NrSWQpOnZvaWQgMCxzaWduYXR1cmVzOkFycmF5LmlzQXJyYXkoZT8uc2lnbmF0dXJlcyk/ZS5zaWduYXR1cmVzLm1hcCgoZT0+Q29tbWl0U2lnLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5oZWlnaHQmJih0LmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5yb3VuZCYmKHQucm91bmQ9TWF0aC5yb3VuZChlLnJvdW5kKSksdm9pZCAwIT09ZS5ibG9ja0lkJiYodC5ibG9ja0lkPWUuYmxvY2tJZD9CbG9ja0lELnRvSlNPTihlLmJsb2NrSWQpOnZvaWQgMCksZS5zaWduYXR1cmVzP3Quc2lnbmF0dXJlcz1lLnNpZ25hdHVyZXMubWFwKChlPT5lP0NvbW1pdFNpZy50b0pTT04oZSk6dm9pZCAwKSk6dC5zaWduYXR1cmVzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9digpO3JldHVybiB0LmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5yb3VuZD1lLnJvdW5kPz8wLHQuYmxvY2tJZD12b2lkIDAhPT1lLmJsb2NrSWQmJm51bGwhPT1lLmJsb2NrSWQ/QmxvY2tJRC5mcm9tUGFydGlhbChlLmJsb2NrSWQpOnZvaWQgMCx0LnNpZ25hdHVyZXM9ZS5zaWduYXR1cmVzPy5tYXAoKGU9PkNvbW1pdFNpZy5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+Q29tbWl0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkNvbW1pdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5Db21taXRcIix2YWx1ZTpDb21taXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db21taXQoQ29tbWl0KTtmdW5jdGlvbiBJKCl7cmV0dXJue2Jsb2NrSWRGbGFnOjAsdmFsaWRhdG9yQWRkcmVzczpuZXcgVWludDhBcnJheSx0aW1lc3RhbXA6by5mcm9tUGFydGlhbCh7fSksc2lnbmF0dXJlOm5ldyBVaW50OEFycmF5fX1jb25zdCBDb21taXRTaWc9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5Db21taXRTaWdcIixlbmNvZGU6KGUsdD1pLmNyZWF0ZSgpKT0+KDAhPT1lLmJsb2NrSWRGbGFnJiZ0LnVpbnQzMig4KS5pbnQzMihlLmJsb2NrSWRGbGFnKSwwIT09ZS52YWxpZGF0b3JBZGRyZXNzLmxlbmd0aCYmdC51aW50MzIoMTgpLmJ5dGVzKGUudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS50aW1lc3RhbXAmJm8uZW5jb2RlKGUudGltZXN0YW1wLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLDAhPT1lLnNpZ25hdHVyZS5sZW5ndGgmJnQudWludDMyKDM0KS5ieXRlcyhlLnNpZ25hdHVyZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgcj1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBpPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBuPUkoKTtmb3IoO3IucG9zPGk7KXtjb25zdCBlPXIudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5ibG9ja0lkRmxhZz1yLmludDMyKCk7YnJlYWs7Y2FzZSAyOm4udmFsaWRhdG9yQWRkcmVzcz1yLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOm4udGltZXN0YW1wPW8uZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSA0Om4uc2lnbmF0dXJlPXIuYnl0ZXMoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZlKX19cmV0dXJuIG59LGZyb21KU09OOmU9Pih7YmxvY2tJZEZsYWc6bihlLmJsb2NrSWRGbGFnKT9ibG9ja0lERmxhZ0Zyb21KU09OKGUuYmxvY2tJZEZsYWcpOi0xLHZhbGlkYXRvckFkZHJlc3M6bihlLnZhbGlkYXRvckFkZHJlc3MpP2woZS52YWxpZGF0b3JBZGRyZXNzKTpuZXcgVWludDhBcnJheSx0aW1lc3RhbXA6bihlLnRpbWVzdGFtcCk/cyhlLnRpbWVzdGFtcCk6dm9pZCAwLHNpZ25hdHVyZTpuKGUuc2lnbmF0dXJlKT9sKGUuc2lnbmF0dXJlKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmJsb2NrSWRGbGFnJiYodC5ibG9ja0lkRmxhZz1ibG9ja0lERmxhZ1RvSlNPTihlLmJsb2NrSWRGbGFnKSksdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYodC52YWxpZGF0b3JBZGRyZXNzPWModm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzP2UudmFsaWRhdG9yQWRkcmVzczpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUudGltZXN0YW1wJiYodC50aW1lc3RhbXA9ZChlLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS5zaWduYXR1cmUmJih0LnNpZ25hdHVyZT1jKHZvaWQgMCE9PWUuc2lnbmF0dXJlP2Uuc2lnbmF0dXJlOm5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1JKCk7cmV0dXJuIHQuYmxvY2tJZEZsYWc9ZS5ibG9ja0lkRmxhZz8/MCx0LnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9uZXcgVWludDhBcnJheSx0LnRpbWVzdGFtcD12b2lkIDAhPT1lLnRpbWVzdGFtcCYmbnVsbCE9PWUudGltZXN0YW1wP28uZnJvbVBhcnRpYWwoZS50aW1lc3RhbXApOnZvaWQgMCx0LnNpZ25hdHVyZT1lLnNpZ25hdHVyZT8/bmV3IFVpbnQ4QXJyYXksdH0sZnJvbVByb3RvTXNnOmU9PkNvbW1pdFNpZy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Db21taXRTaWcuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQ29tbWl0U2lnXCIsdmFsdWU6Q29tbWl0U2lnLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29tbWl0U2lnKENvbW1pdFNpZyk7ZnVuY3Rpb24gaygpe3JldHVybnt0eXBlOjAsaGVpZ2h0OkJpZ0ludCgwKSxyb3VuZDowLHBvbFJvdW5kOjAsYmxvY2tJZDpCbG9ja0lELmZyb21QYXJ0aWFsKHt9KSx0aW1lc3RhbXA6by5mcm9tUGFydGlhbCh7fSksc2lnbmF0dXJlOm5ldyBVaW50OEFycmF5fX1jb25zdCBQcm9wb3NhbD17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlByb3Bvc2FsXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PigwIT09ZS50eXBlJiZ0LnVpbnQzMig4KS5pbnQzMihlLnR5cGUpLGUuaGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMigxNikuaW50NjQoZS5oZWlnaHQpLDAhPT1lLnJvdW5kJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5yb3VuZCksMCE9PWUucG9sUm91bmQmJnQudWludDMyKDMyKS5pbnQzMihlLnBvbFJvdW5kKSx2b2lkIDAhPT1lLmJsb2NrSWQmJkJsb2NrSUQuZW5jb2RlKGUuYmxvY2tJZCx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLnRpbWVzdGFtcCYmby5lbmNvZGUoZS50aW1lc3RhbXAsdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksMCE9PWUuc2lnbmF0dXJlLmxlbmd0aCYmdC51aW50MzIoNTgpLmJ5dGVzKGUuc2lnbmF0dXJlKSx0KSxkZWNvZGUoZSx0KXtjb25zdCByPWUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZSk7bGV0IGk9dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IG49aygpO2Zvcig7ci5wb3M8aTspe2NvbnN0IGU9ci51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpuLnR5cGU9ci5pbnQzMigpO2JyZWFrO2Nhc2UgMjpuLmhlaWdodD1yLmludDY0KCk7YnJlYWs7Y2FzZSAzOm4ucm91bmQ9ci5pbnQzMigpO2JyZWFrO2Nhc2UgNDpuLnBvbFJvdW5kPXIuaW50MzIoKTticmVhaztjYXNlIDU6bi5ibG9ja0lkPUJsb2NrSUQuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSA2Om4udGltZXN0YW1wPW8uZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSA3Om4uc2lnbmF0dXJlPXIuYnl0ZXMoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZlKX19cmV0dXJuIG59LGZyb21KU09OOmU9Pih7dHlwZTpuKGUudHlwZSk/c2lnbmVkTXNnVHlwZUZyb21KU09OKGUudHlwZSk6LTEsaGVpZ2h0Om4oZS5oZWlnaHQpP0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCkscm91bmQ6bihlLnJvdW5kKT9OdW1iZXIoZS5yb3VuZCk6MCxwb2xSb3VuZDpuKGUucG9sUm91bmQpP051bWJlcihlLnBvbFJvdW5kKTowLGJsb2NrSWQ6bihlLmJsb2NrSWQpP0Jsb2NrSUQuZnJvbUpTT04oZS5ibG9ja0lkKTp2b2lkIDAsdGltZXN0YW1wOm4oZS50aW1lc3RhbXApP3MoZS50aW1lc3RhbXApOnZvaWQgMCxzaWduYXR1cmU6bihlLnNpZ25hdHVyZSk/bChlLnNpZ25hdHVyZSk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS50eXBlJiYodC50eXBlPXNpZ25lZE1zZ1R5cGVUb0pTT04oZS50eXBlKSksdm9pZCAwIT09ZS5oZWlnaHQmJih0LmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5yb3VuZCYmKHQucm91bmQ9TWF0aC5yb3VuZChlLnJvdW5kKSksdm9pZCAwIT09ZS5wb2xSb3VuZCYmKHQucG9sUm91bmQ9TWF0aC5yb3VuZChlLnBvbFJvdW5kKSksdm9pZCAwIT09ZS5ibG9ja0lkJiYodC5ibG9ja0lkPWUuYmxvY2tJZD9CbG9ja0lELnRvSlNPTihlLmJsb2NrSWQpOnZvaWQgMCksdm9pZCAwIT09ZS50aW1lc3RhbXAmJih0LnRpbWVzdGFtcD1kKGUudGltZXN0YW1wKS50b0lTT1N0cmluZygpKSx2b2lkIDAhPT1lLnNpZ25hdHVyZSYmKHQuc2lnbmF0dXJlPWModm9pZCAwIT09ZS5zaWduYXR1cmU/ZS5zaWduYXR1cmU6bmV3IFVpbnQ4QXJyYXkpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWsoKTtyZXR1cm4gdC50eXBlPWUudHlwZT8/MCx0LmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5yb3VuZD1lLnJvdW5kPz8wLHQucG9sUm91bmQ9ZS5wb2xSb3VuZD8/MCx0LmJsb2NrSWQ9dm9pZCAwIT09ZS5ibG9ja0lkJiZudWxsIT09ZS5ibG9ja0lkP0Jsb2NrSUQuZnJvbVBhcnRpYWwoZS5ibG9ja0lkKTp2b2lkIDAsdC50aW1lc3RhbXA9dm9pZCAwIT09ZS50aW1lc3RhbXAmJm51bGwhPT1lLnRpbWVzdGFtcD9vLmZyb21QYXJ0aWFsKGUudGltZXN0YW1wKTp2b2lkIDAsdC5zaWduYXR1cmU9ZS5zaWduYXR1cmU/P25ldyBVaW50OEFycmF5LHR9LGZyb21Qcm90b01zZzplPT5Qcm9wb3NhbC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Qcm9wb3NhbC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5Qcm9wb3NhbFwiLHZhbHVlOlByb3Bvc2FsLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUHJvcG9zYWwoUHJvcG9zYWwpO2NvbnN0IFNpZ25lZEhlYWRlcj17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlNpZ25lZEhlYWRlclwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5oZWFkZXImJkhlYWRlci5lbmNvZGUoZS5oZWFkZXIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS5jb21taXQmJkNvbW1pdC5lbmNvZGUoZS5jb21taXQsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCByPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXtoZWFkZXI6dm9pZCAwLGNvbW1pdDp2b2lkIDB9O2Zvcig7by5wb3M8cjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLmhlYWRlcj1IZWFkZXIuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmkuY29tbWl0PUNvbW1pdC5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7aGVhZGVyOm4oZS5oZWFkZXIpP0hlYWRlci5mcm9tSlNPTihlLmhlYWRlcik6dm9pZCAwLGNvbW1pdDpuKGUuY29tbWl0KT9Db21taXQuZnJvbUpTT04oZS5jb21taXQpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmhlYWRlciYmKHQuaGVhZGVyPWUuaGVhZGVyP0hlYWRlci50b0pTT04oZS5oZWFkZXIpOnZvaWQgMCksdm9pZCAwIT09ZS5jb21taXQmJih0LmNvbW1pdD1lLmNvbW1pdD9Db21taXQudG9KU09OKGUuY29tbWl0KTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2hlYWRlcjp2b2lkIDAsY29tbWl0OnZvaWQgMH07cmV0dXJuIHQuaGVhZGVyPXZvaWQgMCE9PWUuaGVhZGVyJiZudWxsIT09ZS5oZWFkZXI/SGVhZGVyLmZyb21QYXJ0aWFsKGUuaGVhZGVyKTp2b2lkIDAsdC5jb21taXQ9dm9pZCAwIT09ZS5jb21taXQmJm51bGwhPT1lLmNvbW1pdD9Db21taXQuZnJvbVBhcnRpYWwoZS5jb21taXQpOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6ZT0+U2lnbmVkSGVhZGVyLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlNpZ25lZEhlYWRlci5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5TaWduZWRIZWFkZXJcIix2YWx1ZTpTaWduZWRIZWFkZXIuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5TaWduZWRIZWFkZXIoU2lnbmVkSGVhZGVyKTtjb25zdCBMaWdodEJsb2NrPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuTGlnaHRCbG9ja1wiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5zaWduZWRIZWFkZXImJlNpZ25lZEhlYWRlci5lbmNvZGUoZS5zaWduZWRIZWFkZXIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS52YWxpZGF0b3JTZXQmJnIuZW5jb2RlKGUudmFsaWRhdG9yU2V0LHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgaT12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3Qgbj17c2lnbmVkSGVhZGVyOnZvaWQgMCx2YWxpZGF0b3JTZXQ6dm9pZCAwfTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5zaWduZWRIZWFkZXI9U2lnbmVkSGVhZGVyLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjpuLnZhbGlkYXRvclNldD1yLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHtzaWduZWRIZWFkZXI6bihlLnNpZ25lZEhlYWRlcik/U2lnbmVkSGVhZGVyLmZyb21KU09OKGUuc2lnbmVkSGVhZGVyKTp2b2lkIDAsdmFsaWRhdG9yU2V0Om4oZS52YWxpZGF0b3JTZXQpP3IuZnJvbUpTT04oZS52YWxpZGF0b3JTZXQpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnNpZ25lZEhlYWRlciYmKHQuc2lnbmVkSGVhZGVyPWUuc2lnbmVkSGVhZGVyP1NpZ25lZEhlYWRlci50b0pTT04oZS5zaWduZWRIZWFkZXIpOnZvaWQgMCksdm9pZCAwIT09ZS52YWxpZGF0b3JTZXQmJih0LnZhbGlkYXRvclNldD1lLnZhbGlkYXRvclNldD9yLnRvSlNPTihlLnZhbGlkYXRvclNldCk6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtzaWduZWRIZWFkZXI6dm9pZCAwLHZhbGlkYXRvclNldDp2b2lkIDB9O3JldHVybiB0LnNpZ25lZEhlYWRlcj12b2lkIDAhPT1lLnNpZ25lZEhlYWRlciYmbnVsbCE9PWUuc2lnbmVkSGVhZGVyP1NpZ25lZEhlYWRlci5mcm9tUGFydGlhbChlLnNpZ25lZEhlYWRlcik6dm9pZCAwLHQudmFsaWRhdG9yU2V0PXZvaWQgMCE9PWUudmFsaWRhdG9yU2V0JiZudWxsIT09ZS52YWxpZGF0b3JTZXQ/ci5mcm9tUGFydGlhbChlLnZhbGlkYXRvclNldCk6dm9pZCAwLHR9LGZyb21Qcm90b01zZzplPT5MaWdodEJsb2NrLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkxpZ2h0QmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuTGlnaHRCbG9ja1wiLHZhbHVlOkxpZ2h0QmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5MaWdodEJsb2NrKExpZ2h0QmxvY2spO2Z1bmN0aW9uIHkoKXtyZXR1cm57YmxvY2tJZDpCbG9ja0lELmZyb21QYXJ0aWFsKHt9KSxibG9ja1NpemU6QmlnSW50KDApLGhlYWRlcjpIZWFkZXIuZnJvbVBhcnRpYWwoe30pLG51bVR4czpCaWdJbnQoMCl9fWNvbnN0IEJsb2NrTWV0YT17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkJsb2NrTWV0YVwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5ibG9ja0lkJiZCbG9ja0lELmVuY29kZShlLmJsb2NrSWQsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZS5ibG9ja1NpemUhPT1CaWdJbnQoMCkmJnQudWludDMyKDE2KS5pbnQ2NChlLmJsb2NrU2l6ZSksdm9pZCAwIT09ZS5oZWFkZXImJkhlYWRlci5lbmNvZGUoZS5oZWFkZXIsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksZS5udW1UeHMhPT1CaWdJbnQoMCkmJnQudWludDMyKDMyKS5pbnQ2NChlLm51bVR4cyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCByPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXkoKTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5ibG9ja0lkPUJsb2NrSUQuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmkuYmxvY2tTaXplPW8uaW50NjQoKTticmVhaztjYXNlIDM6aS5oZWFkZXI9SGVhZGVyLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgNDppLm51bVR4cz1vLmludDY0KCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2Jsb2NrSWQ6bihlLmJsb2NrSWQpP0Jsb2NrSUQuZnJvbUpTT04oZS5ibG9ja0lkKTp2b2lkIDAsYmxvY2tTaXplOm4oZS5ibG9ja1NpemUpP0JpZ0ludChlLmJsb2NrU2l6ZS50b1N0cmluZygpKTpCaWdJbnQoMCksaGVhZGVyOm4oZS5oZWFkZXIpP0hlYWRlci5mcm9tSlNPTihlLmhlYWRlcik6dm9pZCAwLG51bVR4czpuKGUubnVtVHhzKT9CaWdJbnQoZS5udW1UeHMudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuYmxvY2tJZCYmKHQuYmxvY2tJZD1lLmJsb2NrSWQ/QmxvY2tJRC50b0pTT04oZS5ibG9ja0lkKTp2b2lkIDApLHZvaWQgMCE9PWUuYmxvY2tTaXplJiYodC5ibG9ja1NpemU9KGUuYmxvY2tTaXplfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUuaGVhZGVyJiYodC5oZWFkZXI9ZS5oZWFkZXI/SGVhZGVyLnRvSlNPTihlLmhlYWRlcik6dm9pZCAwKSx2b2lkIDAhPT1lLm51bVR4cyYmKHQubnVtVHhzPShlLm51bVR4c3x8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXkoKTtyZXR1cm4gdC5ibG9ja0lkPXZvaWQgMCE9PWUuYmxvY2tJZCYmbnVsbCE9PWUuYmxvY2tJZD9CbG9ja0lELmZyb21QYXJ0aWFsKGUuYmxvY2tJZCk6dm9pZCAwLHQuYmxvY2tTaXplPXZvaWQgMCE9PWUuYmxvY2tTaXplJiZudWxsIT09ZS5ibG9ja1NpemU/QmlnSW50KGUuYmxvY2tTaXplLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmhlYWRlcj12b2lkIDAhPT1lLmhlYWRlciYmbnVsbCE9PWUuaGVhZGVyP0hlYWRlci5mcm9tUGFydGlhbChlLmhlYWRlcik6dm9pZCAwLHQubnVtVHhzPXZvaWQgMCE9PWUubnVtVHhzJiZudWxsIT09ZS5udW1UeHM/QmlnSW50KGUubnVtVHhzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+QmxvY2tNZXRhLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkJsb2NrTWV0YS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5CbG9ja01ldGFcIix2YWx1ZTpCbG9ja01ldGEuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5CbG9ja01ldGEoQmxvY2tNZXRhKTtmdW5jdGlvbiBTKCl7cmV0dXJue3Jvb3RIYXNoOm5ldyBVaW50OEFycmF5LGRhdGE6bmV3IFVpbnQ4QXJyYXkscHJvb2Y6dm9pZCAwfX1jb25zdCBUeFByb29mPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVHhQcm9vZlwiLGVuY29kZToodCxvPWkuY3JlYXRlKCkpPT4oMCE9PXQucm9vdEhhc2gubGVuZ3RoJiZvLnVpbnQzMigxMCkuYnl0ZXModC5yb290SGFzaCksMCE9PXQuZGF0YS5sZW5ndGgmJm8udWludDMyKDE4KS5ieXRlcyh0LmRhdGEpLHZvaWQgMCE9PXQucHJvb2YmJmUuZW5jb2RlKHQucHJvb2Ysby51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKHQsbyl7Y29uc3Qgcj10IGluc3RhbmNlb2YgYT90Om5ldyBhKHQpO2xldCBpPXZvaWQgMD09PW8/ci5sZW46ci5wb3Mrbztjb25zdCBuPVMoKTtmb3IoO3IucG9zPGk7KXtjb25zdCB0PXIudWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6bi5yb290SGFzaD1yLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOm4uZGF0YT1yLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOm4ucHJvb2Y9ZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZ0KX19cmV0dXJuIG59LGZyb21KU09OOnQ9Pih7cm9vdEhhc2g6bih0LnJvb3RIYXNoKT9sKHQucm9vdEhhc2gpOm5ldyBVaW50OEFycmF5LGRhdGE6bih0LmRhdGEpP2wodC5kYXRhKTpuZXcgVWludDhBcnJheSxwcm9vZjpuKHQucHJvb2YpP2UuZnJvbUpTT04odC5wcm9vZik6dm9pZCAwfSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQucm9vdEhhc2gmJihvLnJvb3RIYXNoPWModm9pZCAwIT09dC5yb290SGFzaD90LnJvb3RIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09dC5kYXRhJiYoby5kYXRhPWModm9pZCAwIT09dC5kYXRhP3QuZGF0YTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PXQucHJvb2YmJihvLnByb29mPXQucHJvb2Y/ZS50b0pTT04odC5wcm9vZik6dm9pZCAwKSxvfSxmcm9tUGFydGlhbCh0KXtjb25zdCBvPVMoKTtyZXR1cm4gby5yb290SGFzaD10LnJvb3RIYXNoPz9uZXcgVWludDhBcnJheSxvLmRhdGE9dC5kYXRhPz9uZXcgVWludDhBcnJheSxvLnByb29mPXZvaWQgMCE9PXQucHJvb2YmJm51bGwhPT10LnByb29mP2UuZnJvbVBhcnRpYWwodC5wcm9vZik6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5UeFByb29mLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlR4UHJvb2YuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVHhQcm9vZlwiLHZhbHVlOlR4UHJvb2YuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5UeFByb29mKFR4UHJvb2YpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiQmxvY2tJREZsYWciOlsiQmxvY2tJREZsYWciLHRydWVdLCJTaWduZWRNc2dUeXBlIjpbIlNpZ25lZE1zZ1R5cGUiLHRydWVdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkJsb2NrSURGbGFnU0RLVHlwZSI6WyJCbG9ja0lERmxhZ1NES1R5cGUiXSwiYmxvY2tJREZsYWdGcm9tSlNPTiI6WyJibG9ja0lERmxhZ0Zyb21KU09OIl0sImJsb2NrSURGbGFnVG9KU09OIjpbImJsb2NrSURGbGFnVG9KU09OIl0sIlNpZ25lZE1zZ1R5cGVTREtUeXBlIjpbIlNpZ25lZE1zZ1R5cGVTREtUeXBlIl0sInNpZ25lZE1zZ1R5cGVGcm9tSlNPTiI6WyJzaWduZWRNc2dUeXBlRnJvbUpTT04iXSwic2lnbmVkTXNnVHlwZVRvSlNPTiI6WyJzaWduZWRNc2dUeXBlVG9KU09OIl0sIlBhcnRTZXRIZWFkZXIiOlsiUGFydFNldEhlYWRlciJdLCJQYXJ0IjpbIlBhcnQiXSwiQmxvY2tJRCI6WyJCbG9ja0lEIl0sIkhlYWRlciI6WyJIZWFkZXIiXSwiRGF0YSI6WyJEYXRhIl0sIlZvdGUiOlsiVm90ZSJdLCJDb21taXQiOlsiQ29tbWl0Il0sIkNvbW1pdFNpZyI6WyJDb21taXRTaWciXSwiUHJvcG9zYWwiOlsiUHJvcG9zYWwiXSwiU2lnbmVkSGVhZGVyIjpbIlNpZ25lZEhlYWRlciJdLCJMaWdodEJsb2NrIjpbIkxpZ2h0QmxvY2siXSwiQmxvY2tNZXRhIjpbIkJsb2NrTWV0YSJdLCJUeFByb29mIjpbIlR4UHJvb2YiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAoaN2GdkYAADZGAAARgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy92YWxpZGF0b3IuanN7ImltcG9ydHMiOlsiLi4vY3J5cHRvL2tleXMuanMiLCIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vanNvbi1zYWZlLmpzIiwiQGVuZG8vYmFzZTY0Il0sImV4cG9ydHMiOlsiU2ltcGxlVmFsaWRhdG9yIiwiVmFsaWRhdG9yIiwiVmFsaWRhdG9yU2V0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbyx0LHIsZSxpLG47JGjNj19pbXBvcnRzKFtbXCIuLi9jcnlwdG8va2V5cy5qc1wiLCBbW1wiUHVibGljS2V5XCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYSgpe3JldHVybnt2YWxpZGF0b3JzOltdLHByb3Bvc2VyOnZvaWQgMCx0b3RhbFZvdGluZ1Bvd2VyOkJpZ0ludCgwKX19ICAgICAgIGNvbnN0IFZhbGlkYXRvclNldD17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlZhbGlkYXRvclNldFwiLGVuY29kZShvLHQ9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IHIgb2Ygby52YWxpZGF0b3JzKVZhbGlkYXRvci5lbmNvZGUocix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09by5wcm9wb3NlciYmVmFsaWRhdG9yLmVuY29kZShvLnByb3Bvc2VyLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG8udG90YWxWb3RpbmdQb3dlciE9PUJpZ0ludCgwKSYmdC51aW50MzIoMjQpLmludDY0KG8udG90YWxWb3RpbmdQb3dlciksdH0sZGVjb2RlKG8scil7Y29uc3QgZT1vIGluc3RhbmNlb2YgdD9vOm5ldyB0KG8pO2xldCBpPXZvaWQgMD09PXI/ZS5sZW46ZS5wb3Mrcjtjb25zdCBuPWEoKTtmb3IoO2UucG9zPGk7KXtjb25zdCBvPWUudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6bi52YWxpZGF0b3JzLnB1c2goVmFsaWRhdG9yLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDI6bi5wcm9wb3Nlcj1WYWxpZGF0b3IuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOm4udG90YWxWb3RpbmdQb3dlcj1lLmludDY0KCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmbyl9fXJldHVybiBufSxmcm9tSlNPTjpvPT4oe3ZhbGlkYXRvcnM6QXJyYXkuaXNBcnJheShvPy52YWxpZGF0b3JzKT9vLnZhbGlkYXRvcnMubWFwKChvPT5WYWxpZGF0b3IuZnJvbUpTT04obykpKTpbXSxwcm9wb3NlcjplKG8ucHJvcG9zZXIpP1ZhbGlkYXRvci5mcm9tSlNPTihvLnByb3Bvc2VyKTp2b2lkIDAsdG90YWxWb3RpbmdQb3dlcjplKG8udG90YWxWb3RpbmdQb3dlcik/QmlnSW50KG8udG90YWxWb3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gby52YWxpZGF0b3JzP3QudmFsaWRhdG9ycz1vLnZhbGlkYXRvcnMubWFwKChvPT5vP1ZhbGlkYXRvci50b0pTT04obyk6dm9pZCAwKSk6dC52YWxpZGF0b3JzPVtdLHZvaWQgMCE9PW8ucHJvcG9zZXImJih0LnByb3Bvc2VyPW8ucHJvcG9zZXI/VmFsaWRhdG9yLnRvSlNPTihvLnByb3Bvc2VyKTp2b2lkIDApLHZvaWQgMCE9PW8udG90YWxWb3RpbmdQb3dlciYmKHQudG90YWxWb3RpbmdQb3dlcj0oby50b3RhbFZvdGluZ1Bvd2VyfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9YSgpO3JldHVybiB0LnZhbGlkYXRvcnM9by52YWxpZGF0b3JzPy5tYXAoKG89PlZhbGlkYXRvci5mcm9tUGFydGlhbChvKSkpfHxbXSx0LnByb3Bvc2VyPXZvaWQgMCE9PW8ucHJvcG9zZXImJm51bGwhPT1vLnByb3Bvc2VyP1ZhbGlkYXRvci5mcm9tUGFydGlhbChvLnByb3Bvc2VyKTp2b2lkIDAsdC50b3RhbFZvdGluZ1Bvd2VyPXZvaWQgMCE9PW8udG90YWxWb3RpbmdQb3dlciYmbnVsbCE9PW8udG90YWxWb3RpbmdQb3dlcj9CaWdJbnQoby50b3RhbFZvdGluZ1Bvd2VyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6bz0+VmFsaWRhdG9yU2V0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvclNldC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5WYWxpZGF0b3JTZXRcIix2YWx1ZTpWYWxpZGF0b3JTZXQuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JTZXQoVmFsaWRhdG9yU2V0KTtmdW5jdGlvbiBkKCl7cmV0dXJue2FkZHJlc3M6bmV3IFVpbnQ4QXJyYXkscHViS2V5Om8uZnJvbVBhcnRpYWwoe30pLHZvdGluZ1Bvd2VyOkJpZ0ludCgwKSxwcm9wb3NlclByaW9yaXR5OkJpZ0ludCgwKX19Y29uc3QgVmFsaWRhdG9yPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVmFsaWRhdG9yXCIsZW5jb2RlOih0LGU9ci5jcmVhdGUoKSk9PigwIT09dC5hZGRyZXNzLmxlbmd0aCYmZS51aW50MzIoMTApLmJ5dGVzKHQuYWRkcmVzcyksdm9pZCAwIT09dC5wdWJLZXkmJm8uZW5jb2RlKHQucHViS2V5LGUudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQudm90aW5nUG93ZXIhPT1CaWdJbnQoMCkmJmUudWludDMyKDI0KS5pbnQ2NCh0LnZvdGluZ1Bvd2VyKSx0LnByb3Bvc2VyUHJpb3JpdHkhPT1CaWdJbnQoMCkmJmUudWludDMyKDMyKS5pbnQ2NCh0LnByb3Bvc2VyUHJpb3JpdHkpLGUpLGRlY29kZShyLGUpe2NvbnN0IGk9ciBpbnN0YW5jZW9mIHQ/cjpuZXcgdChyKTtsZXQgbj12b2lkIDA9PT1lP2kubGVuOmkucG9zK2U7Y29uc3QgYT1kKCk7Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmEuYWRkcmVzcz1pLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmEucHViS2V5PW8uZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmEudm90aW5nUG93ZXI9aS5pbnQ2NCgpO2JyZWFrO2Nhc2UgNDphLnByb3Bvc2VyUHJpb3JpdHk9aS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JnQpfX1yZXR1cm4gYX0sZnJvbUpTT046dD0+KHthZGRyZXNzOmUodC5hZGRyZXNzKT9pKHQuYWRkcmVzcyk6bmV3IFVpbnQ4QXJyYXkscHViS2V5OmUodC5wdWJLZXkpP28uZnJvbUpTT04odC5wdWJLZXkpOnZvaWQgMCx2b3RpbmdQb3dlcjplKHQudm90aW5nUG93ZXIpP0JpZ0ludCh0LnZvdGluZ1Bvd2VyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxwcm9wb3NlclByaW9yaXR5OmUodC5wcm9wb3NlclByaW9yaXR5KT9CaWdJbnQodC5wcm9wb3NlclByaW9yaXR5LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTih0KXtjb25zdCByPXt9O3JldHVybiB2b2lkIDAhPT10LmFkZHJlc3MmJihyLmFkZHJlc3M9bih2b2lkIDAhPT10LmFkZHJlc3M/dC5hZGRyZXNzOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09dC5wdWJLZXkmJihyLnB1YktleT10LnB1YktleT9vLnRvSlNPTih0LnB1YktleSk6dm9pZCAwKSx2b2lkIDAhPT10LnZvdGluZ1Bvd2VyJiYoci52b3RpbmdQb3dlcj0odC52b3RpbmdQb3dlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT10LnByb3Bvc2VyUHJpb3JpdHkmJihyLnByb3Bvc2VyUHJpb3JpdHk9KHQucHJvcG9zZXJQcmlvcml0eXx8QmlnSW50KDApKS50b1N0cmluZygpKSxyfSxmcm9tUGFydGlhbCh0KXtjb25zdCByPWQoKTtyZXR1cm4gci5hZGRyZXNzPXQuYWRkcmVzcz8/bmV3IFVpbnQ4QXJyYXksci5wdWJLZXk9dm9pZCAwIT09dC5wdWJLZXkmJm51bGwhPT10LnB1YktleT9vLmZyb21QYXJ0aWFsKHQucHViS2V5KTp2b2lkIDAsci52b3RpbmdQb3dlcj12b2lkIDAhPT10LnZvdGluZ1Bvd2VyJiZudWxsIT09dC52b3RpbmdQb3dlcj9CaWdJbnQodC52b3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCksci5wcm9wb3NlclByaW9yaXR5PXZvaWQgMCE9PXQucHJvcG9zZXJQcmlvcml0eSYmbnVsbCE9PXQucHJvcG9zZXJQcmlvcml0eT9CaWdJbnQodC5wcm9wb3NlclByaW9yaXR5LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxyfSxmcm9tUHJvdG9Nc2c6bz0+VmFsaWRhdG9yLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvci5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5WYWxpZGF0b3JcIix2YWx1ZTpWYWxpZGF0b3IuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3IoVmFsaWRhdG9yKTtmdW5jdGlvbiBzKCl7cmV0dXJue3B1YktleTp2b2lkIDAsdm90aW5nUG93ZXI6QmlnSW50KDApfX1jb25zdCBTaW1wbGVWYWxpZGF0b3I9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5TaW1wbGVWYWxpZGF0b3JcIixlbmNvZGU6KHQsZT1yLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PXQucHViS2V5JiZvLmVuY29kZSh0LnB1YktleSxlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx0LnZvdGluZ1Bvd2VyIT09QmlnSW50KDApJiZlLnVpbnQzMigxNikuaW50NjQodC52b3RpbmdQb3dlciksZSksZGVjb2RlKHIsZSl7Y29uc3QgaT1yIGluc3RhbmNlb2YgdD9yOm5ldyB0KHIpO2xldCBuPXZvaWQgMD09PWU/aS5sZW46aS5wb3MrZTtjb25zdCBhPXMoKTtmb3IoO2kucG9zPG47KXtjb25zdCB0PWkudWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6YS5wdWJLZXk9by5kZWNvZGUoaSxpLnVpbnQzMigpKTticmVhaztjYXNlIDI6YS52b3RpbmdQb3dlcj1pLmludDY0KCk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmdCl9fXJldHVybiBhfSxmcm9tSlNPTjp0PT4oe3B1YktleTplKHQucHViS2V5KT9vLmZyb21KU09OKHQucHViS2V5KTp2b2lkIDAsdm90aW5nUG93ZXI6ZSh0LnZvdGluZ1Bvd2VyKT9CaWdJbnQodC52b3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04odCl7Y29uc3Qgcj17fTtyZXR1cm4gdm9pZCAwIT09dC5wdWJLZXkmJihyLnB1YktleT10LnB1YktleT9vLnRvSlNPTih0LnB1YktleSk6dm9pZCAwKSx2b2lkIDAhPT10LnZvdGluZ1Bvd2VyJiYoci52b3RpbmdQb3dlcj0odC52b3RpbmdQb3dlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSxyfSxmcm9tUGFydGlhbCh0KXtjb25zdCByPXMoKTtyZXR1cm4gci5wdWJLZXk9dm9pZCAwIT09dC5wdWJLZXkmJm51bGwhPT10LnB1YktleT9vLmZyb21QYXJ0aWFsKHQucHViS2V5KTp2b2lkIDAsci52b3RpbmdQb3dlcj12b2lkIDAhPT10LnZvdGluZ1Bvd2VyJiZudWxsIT09dC52b3RpbmdQb3dlcj9CaWdJbnQodC52b3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCkscn0sZnJvbVByb3RvTXNnOm89PlNpbXBsZVZhbGlkYXRvci5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5TaW1wbGVWYWxpZGF0b3IuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuU2ltcGxlVmFsaWRhdG9yXCIsdmFsdWU6U2ltcGxlVmFsaWRhdG9yLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuU2ltcGxlVmFsaWRhdG9yKFNpbXBsZVZhbGlkYXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJWYWxpZGF0b3JTZXQiOlsiVmFsaWRhdG9yU2V0Il0sIlZhbGlkYXRvciI6WyJWYWxpZGF0b3IiXSwiU2ltcGxlVmFsaWRhdG9yIjpbIlNpbXBsZVZhbGlkYXRvciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAA2nmbywsAAMsLAABEAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L3ZlcnNpb24vdHlwZXMuanN7ImltcG9ydHMiOlsiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkFwcCIsIkNvbnNlbnN1cyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG8sdCxuOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHIoKXtyZXR1cm57cHJvdG9jb2w6QmlnSW50KDApLHNvZnR3YXJlOlwiXCJ9fSAgICAgICBjb25zdCBBcHA9e3R5cGVVcmw6XCIvdGVuZGVybWludC52ZXJzaW9uLkFwcFwiLGVuY29kZToobyxuPXQuY3JlYXRlKCkpPT4oby5wcm90b2NvbCE9PUJpZ0ludCgwKSYmbi51aW50MzIoOCkudWludDY0KG8ucHJvdG9jb2wpLFwiXCIhPT1vLnNvZnR3YXJlJiZuLnVpbnQzMigxOCkuc3RyaW5nKG8uc29mdHdhcmUpLG4pLGRlY29kZSh0LG4pe2NvbnN0IGU9dCBpbnN0YW5jZW9mIG8/dDpuZXcgbyh0KTtsZXQgaT12b2lkIDA9PT1uP2UubGVuOmUucG9zK247Y29uc3Qgcz1yKCk7Zm9yKDtlLnBvczxpOyl7Y29uc3Qgbz1lLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnMucHJvdG9jb2w9ZS51aW50NjQoKTticmVhaztjYXNlIDI6cy5zb2Z0d2FyZT1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gc30sZnJvbUpTT046bz0+KHtwcm90b2NvbDpuKG8ucHJvdG9jb2wpP0JpZ0ludChvLnByb3RvY29sLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxzb2Z0d2FyZTpuKG8uc29mdHdhcmUpP1N0cmluZyhvLnNvZnR3YXJlKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8ucHJvdG9jb2wmJih0LnByb3RvY29sPShvLnByb3RvY29sfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8uc29mdHdhcmUmJih0LnNvZnR3YXJlPW8uc29mdHdhcmUpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9cigpO3JldHVybiB0LnByb3RvY29sPXZvaWQgMCE9PW8ucHJvdG9jb2wmJm51bGwhPT1vLnByb3RvY29sP0JpZ0ludChvLnByb3RvY29sLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LnNvZnR3YXJlPW8uc29mdHdhcmU/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm89PkFwcC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5BcHAuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudmVyc2lvbi5BcHBcIix2YWx1ZTpBcHAuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5BcHAoQXBwKTtmdW5jdGlvbiBlKCl7cmV0dXJue2Jsb2NrOkJpZ0ludCgwKSxhcHA6QmlnSW50KDApfX1jb25zdCBDb25zZW5zdXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC52ZXJzaW9uLkNvbnNlbnN1c1wiLGVuY29kZToobyxuPXQuY3JlYXRlKCkpPT4oby5ibG9jayE9PUJpZ0ludCgwKSYmbi51aW50MzIoOCkudWludDY0KG8uYmxvY2spLG8uYXBwIT09QmlnSW50KDApJiZuLnVpbnQzMigxNikudWludDY0KG8uYXBwKSxuKSxkZWNvZGUodCxuKXtjb25zdCByPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IGk9dm9pZCAwPT09bj9yLmxlbjpyLnBvcytuO2NvbnN0IHM9ZSgpO2Zvcig7ci5wb3M8aTspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpzLmJsb2NrPXIudWludDY0KCk7YnJlYWs7Y2FzZSAyOnMuYXBwPXIudWludDY0KCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmbyl9fXJldHVybiBzfSxmcm9tSlNPTjpvPT4oe2Jsb2NrOm4oby5ibG9jayk/QmlnSW50KG8uYmxvY2sudG9TdHJpbmcoKSk6QmlnSW50KDApLGFwcDpuKG8uYXBwKT9CaWdJbnQoby5hcHAudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uYmxvY2smJih0LmJsb2NrPShvLmJsb2NrfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8uYXBwJiYodC5hcHA9KG8uYXBwfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9ZSgpO3JldHVybiB0LmJsb2NrPXZvaWQgMCE9PW8uYmxvY2smJm51bGwhPT1vLmJsb2NrP0JpZ0ludChvLmJsb2NrLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmFwcD12b2lkIDAhPT1vLmFwcCYmbnVsbCE9PW8uYXBwP0JpZ0ludChvLmFwcC50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOm89PkNvbnNlbnN1cy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Db25zZW5zdXMuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudmVyc2lvbi5Db25zZW5zdXNcIix2YWx1ZTpDb25zZW5zdXMuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db25zZW5zdXMoQ29uc2Vuc3VzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkFwcCI6WyJBcHAiXSwiQ29uc2Vuc3VzIjpbIkNvbnNlbnN1cyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABbnrV9+AYAAPgGAAAwAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi91dGY4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJ1dGY4TGVuZ3RoIiwidXRmOFJlYWQiLCJ1dGY4V3JpdGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHV0ZjhMZW5ndGgsJ25hbWUnLHt2YWx1ZTpcInV0ZjhMZW5ndGhcIn0pOyRozY9fb25jZS51dGY4TGVuZ3RoKHV0ZjhMZW5ndGgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1dGY4UmVhZCwnbmFtZScse3ZhbHVlOlwidXRmOFJlYWRcIn0pOyRozY9fb25jZS51dGY4UmVhZCh1dGY4UmVhZCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHV0ZjhXcml0ZSwnbmFtZScse3ZhbHVlOlwidXRmOFdyaXRlXCJ9KTskaM2PX29uY2UudXRmOFdyaXRlKHV0ZjhXcml0ZSk7ICAgICAgIGZ1bmN0aW9uIHV0ZjhMZW5ndGgodCl7bGV0IHI9MCxlPTA7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDsrK28pZT10LmNoYXJDb2RlQXQobyksZTwxMjg/cis9MTplPDIwNDg/cis9Mjo1NTI5Nj09KDY0NTEyJmUpJiY1NjMyMD09KDY0NTEyJnQuY2hhckNvZGVBdChvKzEpKT8oKytvLHIrPTQpOnIrPTM7cmV0dXJuIHJ9ICAgICAgIGZ1bmN0aW9uIHV0ZjhSZWFkKHQscixlKXtpZihlLXI8MSlyZXR1cm5cIlwiO2NvbnN0IG89W107bGV0IG4sZj1bXSxoPTA7Zm9yKDtyPGU7KW49dFtyKytdLG48MTI4P29baCsrXT1uOm4+MTkxJiZuPDIyND9vW2grK109KDMxJm4pPDw2fDYzJnRbcisrXTpuPjIzOSYmbjwzNjU/KG49KCg3Jm4pPDwxOHwoNjMmdFtyKytdKTw8MTJ8KDYzJnRbcisrXSk8PDZ8NjMmdFtyKytdKS02NTUzNixvW2grK109NTUyOTYrKG4+PjEwKSxvW2grK109NTYzMjArKDEwMjMmbikpOm9baCsrXT0oMTUmbik8PDEyfCg2MyZ0W3IrK10pPDw2fDYzJnRbcisrXSxoPjgxOTEmJigoZnx8KGY9W10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubykpLGg9MCk7cmV0dXJuIGY/KGgmJmYucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm8uc2xpY2UoMCxoKSkpLGYuam9pbihcIlwiKSk6U3RyaW5nLmZyb21DaGFyQ29kZSguLi5vLnNsaWNlKDAsaCkpfSAgICAgICBmdW5jdGlvbiB1dGY4V3JpdGUodCxyLGUpe2NvbnN0IG89ZTtsZXQgbixmO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKW49dC5jaGFyQ29kZUF0KG8pLG48MTI4P3JbZSsrXT1uOm48MjA0OD8ocltlKytdPW4+PjZ8MTkyLHJbZSsrXT02MyZufDEyOCk6NTUyOTY9PSg2NDUxMiZuKSYmNTYzMjA9PSg2NDUxMiYoZj10LmNoYXJDb2RlQXQobysxKSkpPyhuPTY1NTM2KygoMTAyMyZuKTw8MTApKygxMDIzJmYpLCsrbyxyW2UrK109bj4+MTh8MjQwLHJbZSsrXT1uPj4xMiY2M3wxMjgscltlKytdPW4+PjYmNjN8MTI4LHJbZSsrXT02MyZufDEyOCk6KHJbZSsrXT1uPj4xMnwyMjQscltlKytdPW4+PjYmNjN8MTI4LHJbZSsrXT02MyZufDEyOCk7cmV0dXJuIGUtb31cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InV0ZjhMZW5ndGgiOlsidXRmOExlbmd0aCJdLCJ1dGY4UmVhZCI6WyJ1dGY4UmVhZCJdLCJ1dGY4V3JpdGUiOlsidXRmOFdyaXRlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAOufxPX8FgAA/BYAADIAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3ZhcmludC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiaW50NjRGcm9tU3RyaW5nIiwiaW50NjRMZW5ndGgiLCJpbnQ2NFRvU3RyaW5nIiwicmVhZEludDMyIiwicmVhZFVJbnQzMiIsInVJbnQ2NFRvU3RyaW5nIiwidmFyaW50MzJyZWFkIiwidmFyaW50MzJ3cml0ZSIsInZhcmludDY0cmVhZCIsInZhcmludDY0d3JpdGUiLCJ3cml0ZUJ5dGUiLCJ3cml0ZUZpeGVkMzIiLCJ3cml0ZVZhcmludDMyIiwid3JpdGVWYXJpbnQ2NCIsInp6RGVjb2RlIiwienpFbmNvZGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHZhcmludDY0cmVhZCwnbmFtZScse3ZhbHVlOlwidmFyaW50NjRyZWFkXCJ9KTskaM2PX29uY2UudmFyaW50NjRyZWFkKHZhcmludDY0cmVhZCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHZhcmludDY0d3JpdGUsJ25hbWUnLHt2YWx1ZTpcInZhcmludDY0d3JpdGVcIn0pOyRozY9fb25jZS52YXJpbnQ2NHdyaXRlKHZhcmludDY0d3JpdGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnQ2NEZyb21TdHJpbmcsJ25hbWUnLHt2YWx1ZTpcImludDY0RnJvbVN0cmluZ1wifSk7JGjNj19vbmNlLmludDY0RnJvbVN0cmluZyhpbnQ2NEZyb21TdHJpbmcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnQ2NFRvU3RyaW5nLCduYW1lJyx7dmFsdWU6XCJpbnQ2NFRvU3RyaW5nXCJ9KTskaM2PX29uY2UuaW50NjRUb1N0cmluZyhpbnQ2NFRvU3RyaW5nKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodUludDY0VG9TdHJpbmcsJ25hbWUnLHt2YWx1ZTpcInVJbnQ2NFRvU3RyaW5nXCJ9KTskaM2PX29uY2UudUludDY0VG9TdHJpbmcodUludDY0VG9TdHJpbmcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YXJpbnQzMndyaXRlLCduYW1lJyx7dmFsdWU6XCJ2YXJpbnQzMndyaXRlXCJ9KTskaM2PX29uY2UudmFyaW50MzJ3cml0ZSh2YXJpbnQzMndyaXRlKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodmFyaW50MzJyZWFkLCduYW1lJyx7dmFsdWU6XCJ2YXJpbnQzMnJlYWRcIn0pOyRozY9fb25jZS52YXJpbnQzMnJlYWQodmFyaW50MzJyZWFkKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoenpFbmNvZGUsJ25hbWUnLHt2YWx1ZTpcInp6RW5jb2RlXCJ9KTskaM2PX29uY2UuenpFbmNvZGUoenpFbmNvZGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh6ekRlY29kZSwnbmFtZScse3ZhbHVlOlwienpEZWNvZGVcIn0pOyRozY9fb25jZS56ekRlY29kZSh6ekRlY29kZSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHJlYWRVSW50MzIsJ25hbWUnLHt2YWx1ZTpcInJlYWRVSW50MzJcIn0pOyRozY9fb25jZS5yZWFkVUludDMyKHJlYWRVSW50MzIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWFkSW50MzIsJ25hbWUnLHt2YWx1ZTpcInJlYWRJbnQzMlwifSk7JGjNj19vbmNlLnJlYWRJbnQzMihyZWFkSW50MzIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3cml0ZVZhcmludDMyLCduYW1lJyx7dmFsdWU6XCJ3cml0ZVZhcmludDMyXCJ9KTskaM2PX29uY2Uud3JpdGVWYXJpbnQzMih3cml0ZVZhcmludDMyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JpdGVWYXJpbnQ2NCwnbmFtZScse3ZhbHVlOlwid3JpdGVWYXJpbnQ2NFwifSk7JGjNj19vbmNlLndyaXRlVmFyaW50NjQod3JpdGVWYXJpbnQ2NCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGludDY0TGVuZ3RoLCduYW1lJyx7dmFsdWU6XCJpbnQ2NExlbmd0aFwifSk7JGjNj19vbmNlLmludDY0TGVuZ3RoKGludDY0TGVuZ3RoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JpdGVGaXhlZDMyLCduYW1lJyx7dmFsdWU6XCJ3cml0ZUZpeGVkMzJcIn0pOyRozY9fb25jZS53cml0ZUZpeGVkMzIod3JpdGVGaXhlZDMyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JpdGVCeXRlLCduYW1lJyx7dmFsdWU6XCJ3cml0ZUJ5dGVcIn0pOyRozY9fb25jZS53cml0ZUJ5dGUod3JpdGVCeXRlKTsgICAgICAgZnVuY3Rpb24gdmFyaW50NjRyZWFkKCl7bGV0IHQ9MCxyPTA7Zm9yKGxldCBuPTA7bjwyODtuKz03KXtsZXQgbz10aGlzLmJ1Zlt0aGlzLnBvcysrXTtpZih0fD0oMTI3Jm8pPDxuLCEoMTI4Jm8pKXJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLFt0LHJdfWxldCBuPXRoaXMuYnVmW3RoaXMucG9zKytdO2lmKHR8PSgxNSZuKTw8Mjgscj0oMTEyJm4pPj40LCEoMTI4Jm4pKXJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLFt0LHJdO2ZvcihsZXQgbj0zO248PTMxO24rPTcpe2xldCBvPXRoaXMuYnVmW3RoaXMucG9zKytdO2lmKHJ8PSgxMjcmbyk8PG4sISgxMjgmbykpcmV0dXJuIHRoaXMuYXNzZXJ0Qm91bmRzKCksW3Qscl19dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2YXJpbnRcIil9ICAgICAgIGZ1bmN0aW9uIHZhcmludDY0d3JpdGUodCxyLG4pe2ZvcihsZXQgbz0wO288Mjg7bys9Nyl7Y29uc3QgaT10Pj4+byxlPSEoaT4+Pjc9PTAmJjA9PXIpLHM9MjU1JihlPzEyOHxpOmkpO2lmKG4ucHVzaChzKSwhZSlyZXR1cm59Y29uc3Qgbz10Pj4+MjgmMTV8KDcmcik8PDQsaT0hIShyPj4zKTtpZihuLnB1c2goMjU1JihpPzEyOHxvOm8pKSxpKXtmb3IobGV0IHQ9Mzt0PDMxO3QrPTcpe2NvbnN0IG89cj4+PnQsaT0hKG8+Pj43PT0wKSxlPTI1NSYoaT8xMjh8bzpvKTtpZihuLnB1c2goZSksIWkpcmV0dXJufW4ucHVzaChyPj4+MzEmMSl9fWNvbnN0IHQ9NDI5NDk2NzI5NjsgICAgICAgZnVuY3Rpb24gaW50NjRGcm9tU3RyaW5nKG8pe2NvbnN0IGk9XCItXCI9PT1vWzBdO2kmJihvPW8uc2xpY2UoMSkpO2NvbnN0IGU9MWU2O2xldCBzPTAsdT0wO2Z1bmN0aW9uIGYocixuKXtjb25zdCBpPU51bWJlcihvLnNsaWNlKHIsbikpO3UqPWUscz1zKmUraSxzPj10JiYodSs9cy90fDAscyU9dCl9cmV0dXJuIGYoLTI0LC0xOCksZigtMTgsLTEyKSxmKC0xMiwtNiksZigtNiksaT9uKHMsdSk6cihzLHUpfSAgICAgICBmdW5jdGlvbiBpbnQ2NFRvU3RyaW5nKHQsbyl7bGV0IGk9cih0LG8pO2NvbnN0IGU9MjE0NzQ4MzY0OCZpLmhpO2UmJihpPW4oaS5sbyxpLmhpKSk7Y29uc3Qgcz11SW50NjRUb1N0cmluZyhpLmxvLGkuaGkpO3JldHVybiBlP1wiLVwiK3M6c30gICAgICAgZnVuY3Rpb24gdUludDY0VG9TdHJpbmcocixuKXtpZigoe2xvOnIsaGk6bn09ZnVuY3Rpb24odCxyKXtyZXR1cm57bG86dD4+PjAsaGk6cj4+PjB9fShyLG4pKSxuPD0yMDk3MTUxKXJldHVybiBTdHJpbmcodCpuK3IpO2NvbnN0IGk9MTY3NzcyMTUmKHI+Pj4yNHxuPDw4KSxlPW4+PjE2JjY1NTM1O2xldCBzPSgxNjc3NzIxNSZyKSs2Nzc3MjE2KmkrNjcxMDY1NiplLHU9aSs4MTQ3NDk3KmUsZj0yKmU7Y29uc3QgaD0xZTc7cmV0dXJuIHM+PWgmJih1Kz1NYXRoLmZsb29yKHMvaCkscyU9aCksdT49aCYmKGYrPU1hdGguZmxvb3IodS9oKSx1JT1oKSxmLnRvU3RyaW5nKCkrbyh1KStvKHMpfWZ1bmN0aW9uIHIodCxyKXtyZXR1cm57bG86MHx0LGhpOjB8cn19ZnVuY3Rpb24gbih0LG4pe3JldHVybiBuPX5uLHQ/dD0xK350Om4rPTEscih0LG4pfWNvbnN0IG89dD0+e2NvbnN0IHI9U3RyaW5nKHQpO3JldHVyblwiMDAwMDAwMFwiLnNsaWNlKHIubGVuZ3RoKStyfTsgICAgICAgZnVuY3Rpb24gdmFyaW50MzJ3cml0ZSh0LHIpe2lmKHQ+PTApe2Zvcig7dD4xMjc7KXIucHVzaCgxMjcmdHwxMjgpLHQ+Pj49NztyLnB1c2godCl9ZWxzZXtmb3IobGV0IG49MDtuPDk7bisrKXIucHVzaCgxMjcmdHwxMjgpLHQ+Pj03O3IucHVzaCgxKX19ICAgICAgIGZ1bmN0aW9uIHZhcmludDMycmVhZCgpe2xldCB0PXRoaXMuYnVmW3RoaXMucG9zKytdLHI9MTI3JnQ7aWYoISgxMjgmdCkpcmV0dXJuIHRoaXMuYXNzZXJ0Qm91bmRzKCkscjtpZih0PXRoaXMuYnVmW3RoaXMucG9zKytdLHJ8PSgxMjcmdCk8PDcsISgxMjgmdCkpcmV0dXJuIHRoaXMuYXNzZXJ0Qm91bmRzKCkscjtpZih0PXRoaXMuYnVmW3RoaXMucG9zKytdLHJ8PSgxMjcmdCk8PDE0LCEoMTI4JnQpKXJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLHI7aWYodD10aGlzLmJ1Zlt0aGlzLnBvcysrXSxyfD0oMTI3JnQpPDwyMSwhKDEyOCZ0KSlyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSxyO3Q9dGhpcy5idWZbdGhpcy5wb3MrK10scnw9KDE1JnQpPDwyODtmb3IobGV0IHI9NTsxMjgmdCYmcjwxMDtyKyspdD10aGlzLmJ1Zlt0aGlzLnBvcysrXTtpZigxMjgmdCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHZhcmludFwiKTtyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSxyPj4+MH0gICAgICAgZnVuY3Rpb24genpFbmNvZGUodCxyKXtsZXQgbj1yPj4zMTtyZXR1cm4gcj0oKHI8PDF8dD4+PjMxKV5uKT4+PjAsW3Q9KHQ8PDFebik+Pj4wLHJdfSAgICAgICBmdW5jdGlvbiB6ekRlY29kZSh0LHIpe2xldCBuPS0oMSZ0KTtyZXR1cm5bdD0oKHQ+Pj4xfHI8PDMxKV5uKT4+PjAscj0ocj4+PjFebik+Pj4wXX0gICAgICAgZnVuY3Rpb24gcmVhZFVJbnQzMih0LHIpe3JldHVybih0W3JdfHRbcisxXTw8OHx0W3IrMl08PDE2KSsxNjc3NzIxNip0W3IrM119ICAgICAgIGZ1bmN0aW9uIHJlYWRJbnQzMih0LHIpe3JldHVybih0W3JdfHRbcisxXTw8OHx0W3IrMl08PDE2KSsodFtyKzNdPDwyNCl9ICAgICAgIGZ1bmN0aW9uIHdyaXRlVmFyaW50MzIodCxyLG4pe2Zvcig7dD4xMjc7KXJbbisrXT0xMjcmdHwxMjgsdD4+Pj03O3Jbbl09dH0gICAgICAgZnVuY3Rpb24gd3JpdGVWYXJpbnQ2NCh0LHIsbil7Zm9yKDt0LmhpOylyW24rK109MTI3JnQubG98MTI4LHQubG89KHQubG8+Pj43fHQuaGk8PDI1KT4+PjAsdC5oaT4+Pj03O2Zvcig7dC5sbz4xMjc7KXJbbisrXT0xMjcmdC5sb3wxMjgsdC5sbz10LmxvPj4+NztyW24rK109dC5sb30gICAgICAgZnVuY3Rpb24gaW50NjRMZW5ndGgodCxyKXtsZXQgbj0odD4+PjI4fHI8PDQpPj4+MCxvPXI+Pj4yNDtyZXR1cm4gMD09PW8/MD09PW4/dDwxNjM4ND90PDEyOD8xOjI6dDwyMDk3MTUyPzM6NDpuPDE2Mzg0P248MTI4PzU6NjpuPDIwOTcxNTI/Nzo4Om88MTI4Pzk6MTB9ICAgICAgIGZ1bmN0aW9uIHdyaXRlRml4ZWQzMih0LHIsbil7cltuXT0yNTUmdCxyW24rMV09dD4+PjgmMjU1LHJbbisyXT10Pj4+MTYmMjU1LHJbbiszXT10Pj4+MjR9ICAgICAgIGZ1bmN0aW9uIHdyaXRlQnl0ZSh0LHIsbil7cltuXT0yNTUmdH1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InZhcmludDY0cmVhZCI6WyJ2YXJpbnQ2NHJlYWQiXSwidmFyaW50NjR3cml0ZSI6WyJ2YXJpbnQ2NHdyaXRlIl0sImludDY0RnJvbVN0cmluZyI6WyJpbnQ2NEZyb21TdHJpbmciXSwiaW50NjRUb1N0cmluZyI6WyJpbnQ2NFRvU3RyaW5nIl0sInVJbnQ2NFRvU3RyaW5nIjpbInVJbnQ2NFRvU3RyaW5nIl0sInZhcmludDMyd3JpdGUiOlsidmFyaW50MzJ3cml0ZSJdLCJ2YXJpbnQzMnJlYWQiOlsidmFyaW50MzJyZWFkIl0sInp6RW5jb2RlIjpbInp6RW5jb2RlIl0sInp6RGVjb2RlIjpbInp6RGVjb2RlIl0sInJlYWRVSW50MzIiOlsicmVhZFVJbnQzMiJdLCJyZWFkSW50MzIiOlsicmVhZEludDMyIl0sIndyaXRlVmFyaW50MzIiOlsid3JpdGVWYXJpbnQzMiJdLCJ3cml0ZVZhcmludDY0IjpbIndyaXRlVmFyaW50NjQiXSwiaW50NjRMZW5ndGgiOlsiaW50NjRMZW5ndGgiXSwid3JpdGVGaXhlZDMyIjpbIndyaXRlRml4ZWQzMiJdLCJ3cml0ZUJ5dGUiOlsid3JpdGVCeXRlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAADZR7RP8BAAA/AQAACsAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9oZWxwZXJzLmpzeyJpbXBvcnRzIjpbIi4vY29kZWdlbi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanMiXSwiZXhwb3J0cyI6WyJ0b1JlcXVlc3RRdWVyeUpzb24iLCJ0eXBlVXJsVG9HcnBjUGF0aCIsInR5cGVkSnNvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGU7JGjNj19pbXBvcnRzKFtbXCIuL2NvZGVnZW4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzXCIsIFtbXCJSZXF1ZXN0UXVlcnlcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZWRKc29uPShlLHQpPT4oe1wiQHR5cGVcIjplLC4uLnR9KTskaM2PX29uY2UudHlwZWRKc29uKHR5cGVkSnNvbik7Y29uc3QgdD0vXlxcLyg/PHNlcnZpY2VOYW1lPlxcdysoPzpcXC5cXHcrKSopXFwuUXVlcnkoPzxtZXRob2ROYW1lPlxcdyspUmVxdWVzdCQvO2NvbnN0IHR5cGVVcmxUb0dycGNQYXRoPWU9Pntjb25zdCByPWUubWF0Y2godCk7aWYoIXJ8fCFyLmdyb3Vwcyl0aHJvdyBUeXBlRXJyb3IoYEludmFsaWQgdHlwZVVybDogJHtlfS4gTXVzdCBiZSBhIFF1ZXJ5IFJlcXVlc3QuYCk7Y29uc3R7c2VydmljZU5hbWU6byxtZXRob2ROYW1lOnN9PXIuZ3JvdXBzO3JldHVybmAvJHtvfS5RdWVyeS8ke3N9YH07JGjNj19vbmNlLnR5cGVVcmxUb0dycGNQYXRoKHR5cGVVcmxUb0dycGNQYXRoKTtjb25zdCB0b1JlcXVlc3RRdWVyeUpzb249KHQscj17fSk9PmUudG9KU09OKGUuZnJvbVBhcnRpYWwoe3BhdGg6dHlwZVVybFRvR3JwY1BhdGgodC50eXBlVXJsKSxkYXRhOnQudmFsdWUsLi4ucn0pKTskaM2PX29uY2UudG9SZXF1ZXN0UXVlcnlKc29uKHRvUmVxdWVzdFF1ZXJ5SnNvbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0eXBlZEpzb24iOlsidHlwZWRKc29uIl0sInR5cGVVcmxUb0dycGNQYXRoIjpbInR5cGVVcmxUb0dycGNQYXRoIl0sInRvUmVxdWVzdFF1ZXJ5SnNvbiI6WyJ0b1JlcXVlc3RRdWVyeUpzb24iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAEo8MJ90BAADdAQAAKQAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vY29kZWdlbi9qc29uLXNhZmUuanMiLCIuL2hlbHBlcnMuanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL2NvZGVnZW4vanNvbi1zYWZlLmpzIiwiLi9oZWxwZXJzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vY29kZWdlbi9qc29uLXNhZmUuanNcIiwgW11dLFtcIi4vaGVscGVycy5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABDcFklox8AAKMfAAAmAAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL2Ftb3VudE1hdGguanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vbWFyc2hhbCIsIkBhZ29yaWMvc3RvcmUiLCIuL21hdGhIZWxwZXJzL25hdE1hdGhIZWxwZXJzLmpzIiwiLi9tYXRoSGVscGVycy9zZXRNYXRoSGVscGVycy5qcyIsIi4vbWF0aEhlbHBlcnMvY29weVNldE1hdGhIZWxwZXJzLmpzIiwiLi9tYXRoSGVscGVycy9jb3B5QmFnTWF0aEhlbHBlcnMuanMiXSwiZXhwb3J0cyI6WyJBbW91bnRNYXRoIiwiQXNzZXRLaW5kIiwiYXNzZXJ0QXNzZXRLaW5kIiwiYXNzZXJ0VmFsdWVHZXRIZWxwZXJzIiwiZ2V0QXNzZXRLaW5kIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsLHBhc3NTdHlsZU9mLGFzc2VydFJlbW90YWJsZSxhc3NlcnRSZWNvcmQsTSxtYXRjaGVzLG5hdE1hdGhIZWxwZXJzLHNldE1hdGhIZWxwZXJzLGNvcHlTZXRNYXRoSGVscGVycyxjb3B5QmFnTWF0aEhlbHBlcnM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXSxbXCJhc3NlcnRSZW1vdGFibGVcIixbJGjNj19hID0+IChhc3NlcnRSZW1vdGFibGUgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UmVjb3JkXCIsWyRozY9fYSA9PiAoYXNzZXJ0UmVjb3JkID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wibWF0Y2hlc1wiLFskaM2PX2EgPT4gKG1hdGNoZXMgPSAkaM2PX2EpXV1dXSxbXCIuL21hdGhIZWxwZXJzL25hdE1hdGhIZWxwZXJzLmpzXCIsIFtbXCJuYXRNYXRoSGVscGVyc1wiLFskaM2PX2EgPT4gKG5hdE1hdGhIZWxwZXJzID0gJGjNj19hKV1dXV0sW1wiLi9tYXRoSGVscGVycy9zZXRNYXRoSGVscGVycy5qc1wiLCBbW1wic2V0TWF0aEhlbHBlcnNcIixbJGjNj19hID0+IChzZXRNYXRoSGVscGVycyA9ICRozY9fYSldXV1dLFtcIi4vbWF0aEhlbHBlcnMvY29weVNldE1hdGhIZWxwZXJzLmpzXCIsIFtbXCJjb3B5U2V0TWF0aEhlbHBlcnNcIixbJGjNj19hID0+IChjb3B5U2V0TWF0aEhlbHBlcnMgPSAkaM2PX2EpXV1dXSxbXCIuL21hdGhIZWxwZXJzL2NvcHlCYWdNYXRoSGVscGVycy5qc1wiLCBbW1wiY29weUJhZ01hdGhIZWxwZXJzXCIsWyRozY9fYSA9PiAoY29weUJhZ01hdGhIZWxwZXJzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IEFzc2V0S2luZCA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIE5BVDogJ25hdCcsXG4gIFNFVDogJ3NldCcsXG4gIENPUFlfU0VUOiAnY29weVNldCcsXG4gIENPUFlfQkFHOiAnY29weUJhZycsXG59KTskaM2PX29uY2UuQXNzZXRLaW5kKEFzc2V0S2luZCk7XG5oYXJkZW4oQXNzZXRLaW5kKTtcbmNvbnN0IGFzc2V0S2luZE5hbWVzID0gaGFyZGVuKE9iamVjdC52YWx1ZXMoQXNzZXRLaW5kKS5zb3J0KCkpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGFzc2VydEFzc2V0S2luZCA9IGFsbGVnZWRBSyA9PiB7XG4gIGFzc2V0S2luZE5hbWVzLmluY2x1ZGVzKGFsbGVnZWRBSykgfHxcbiAgICBGYWlsYFRoZSBhc3NldEtpbmQgJHthbGxlZ2VkQUt9IG11c3QgYmUgb25lIG9mICR7cShhc3NldEtpbmROYW1lcyl9YDtcbn07JGjNj19vbmNlLmFzc2VydEFzc2V0S2luZChhc3NlcnRBc3NldEtpbmQpO1xuaGFyZGVuKGFzc2VydEFzc2V0S2luZCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCBoZWxwZXJzID0ge1xuICBuYXQ6IG5hdE1hdGhIZWxwZXJzLFxuICBzZXQ6IHNldE1hdGhIZWxwZXJzLFxuICBjb3B5U2V0OiBjb3B5U2V0TWF0aEhlbHBlcnMsXG4gIGNvcHlCYWc6IGNvcHlCYWdNYXRoSGVscGVycyxcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBhc3NlcnRWYWx1ZUdldEFzc2V0S2luZCA9IHZhbHVlID0+IHtcbiAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YodmFsdWUpO1xuICBpZiAocGFzc1N0eWxlID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiAnbmF0JztcbiAgfVxuICBpZiAocGFzc1N0eWxlID09PSAnY29weUFycmF5Jykge1xuICAgIHJldHVybiAnc2V0JztcbiAgfVxuICBpZiAobWF0Y2hlcyh2YWx1ZSwgTS5zZXQoKSkpIHtcbiAgICByZXR1cm4gJ2NvcHlTZXQnO1xuICB9XG4gIGlmIChtYXRjaGVzKHZhbHVlLCBNLmJhZygpKSkge1xuICAgIHJldHVybiAnY29weUJhZyc7XG4gIH1cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgdGhyb3cgRmFpbGB2YWx1ZSAke3ZhbHVlfSBtdXN0IGJlIGEgYmlnaW50LCBjb3B5U2V0LCBjb3B5QmFnLCBvciBhbiBhcnJheSwgbm90ICR7cShcbiAgICBwYXNzU3R5bGUsXG4gICl9YDtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydFZhbHVlR2V0SGVscGVycyA9IHZhbHVlID0+XG4gIC8vXG4gIGhlbHBlcnNbYXNzZXJ0VmFsdWVHZXRBc3NldEtpbmQodmFsdWUpXTtcblxuLypcblxuICovJGjNj19vbmNlLmFzc2VydFZhbHVlR2V0SGVscGVycyhhc3NlcnRWYWx1ZUdldEhlbHBlcnMpO1xuY29uc3Qgb3B0aW9uYWxCcmFuZENoZWNrID0gKGFsbGVnZWRCcmFuZCwgYnJhbmQpID0+IHtcbiAgaWYgKGJyYW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRSZW1vdGFibGUoYnJhbmQsICdicmFuZCcpO1xuICAgIGFsbGVnZWRCcmFuZCA9PT0gYnJhbmQgfHxcbiAgICAgIEZhaWxgYW1vdW50J3MgYnJhbmQgJHtxKGFsbGVnZWRCcmFuZCl9IGRpZCBub3QgbWF0Y2ggZXhwZWN0ZWQgYnJhbmQgJHtxKFxuICAgICAgICBicmFuZCxcbiAgICAgICl9YDtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrTFJBbmRHZXRIZWxwZXJzID0gKGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50LCBicmFuZCA9IHVuZGVmaW5lZCkgPT4ge1xuICBhc3NlcnRSZWNvcmQobGVmdEFtb3VudCwgJ2xlZnRBbW91bnQnKTtcbiAgYXNzZXJ0UmVjb3JkKHJpZ2h0QW1vdW50LCAncmlnaHRBbW91bnQnKTtcbiAgY29uc3QgeyB2YWx1ZTogbGVmdFZhbHVlLCBicmFuZDogbGVmdEJyYW5kIH0gPSBsZWZ0QW1vdW50O1xuICBjb25zdCB7IHZhbHVlOiByaWdodFZhbHVlLCBicmFuZDogcmlnaHRCcmFuZCB9ID0gcmlnaHRBbW91bnQ7XG4gIGFzc2VydFJlbW90YWJsZShsZWZ0QnJhbmQsICdsZWZ0QnJhbmQnKTtcbiAgYXNzZXJ0UmVtb3RhYmxlKHJpZ2h0QnJhbmQsICdyaWdodEJyYW5kJyk7XG4gIG9wdGlvbmFsQnJhbmRDaGVjayhsZWZ0QnJhbmQsIGJyYW5kKTtcbiAgb3B0aW9uYWxCcmFuZENoZWNrKHJpZ2h0QnJhbmQsIGJyYW5kKTtcbiAgbGVmdEJyYW5kID09PSByaWdodEJyYW5kIHx8XG4gICAgRmFpbGBCcmFuZHMgaW4gbGVmdCAke3EobGVmdEJyYW5kKX0gYW5kIHJpZ2h0ICR7cShcbiAgICAgIHJpZ2h0QnJhbmQsXG4gICAgKX0gc2hvdWxkIG1hdGNoIGJ1dCBkbyBub3RgO1xuICBjb25zdCBsZWZ0SGVscGVycyA9IGFzc2VydFZhbHVlR2V0SGVscGVycyhsZWZ0VmFsdWUpO1xuICBjb25zdCByaWdodEhlbHBlcnMgPSBhc3NlcnRWYWx1ZUdldEhlbHBlcnMocmlnaHRWYWx1ZSk7XG4gIGxlZnRIZWxwZXJzID09PSByaWdodEhlbHBlcnMgfHxcbiAgICBGYWlsYFRoZSBsZWZ0ICR7bGVmdEFtb3VudH0gYW5kIHJpZ2h0IGFtb3VudCAke3JpZ2h0QW1vdW50fSBoYWQgZGlmZmVyZW50IGFzc2V0S2luZHNgO1xuICByZXR1cm4gbGVmdEhlbHBlcnM7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgY29lcmNlTFIgPSAoaCwgbGVmdEFtb3VudCwgcmlnaHRBbW91bnQpID0+IHtcbiAgLy9cbiAgcmV0dXJuIFtoLmRvQ29lcmNlKGxlZnRBbW91bnQudmFsdWUpLCBoLmRvQ29lcmNlKHJpZ2h0QW1vdW50LnZhbHVlKV07XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgaXNHVEUgPSAobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IGggPSBjaGVja0xSQW5kR2V0SGVscGVycyhsZWZ0QW1vdW50LCByaWdodEFtb3VudCwgYnJhbmQpO1xuICByZXR1cm4gaC5kb0lzR1RFKC4uLmNvZXJjZUxSKGgsIGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50KSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgQW1vdW50TWF0aCA9IHtcbiAgLy9cbiAgLy9cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgbWFrZTogKGJyYW5kLCBhbGxlZ2VkVmFsdWUpID0+IHtcbiAgICBhc3NlcnRSZW1vdGFibGUoYnJhbmQsICdicmFuZCcpO1xuICAgIGNvbnN0IGggPSBhc3NlcnRWYWx1ZUdldEhlbHBlcnMoYWxsZWdlZFZhbHVlKTtcbiAgICBjb25zdCB2YWx1ZSA9IGguZG9Db2VyY2UoYWxsZWdlZFZhbHVlKTtcbiAgICAvL1xuICAgIHJldHVybiBoYXJkZW4oeyBicmFuZCwgdmFsdWUgfSk7XG4gIH0sXG4gIC8qXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvZXJjZTogKGJyYW5kLCBhbGxlZ2VkQW1vdW50KSA9PiB7XG4gICAgYXNzZXJ0UmVtb3RhYmxlKGJyYW5kLCAnYnJhbmQnKTtcbiAgICBhc3NlcnRSZWNvcmQoYWxsZWdlZEFtb3VudCwgJ2Ftb3VudCcpO1xuICAgIGNvbnN0IHsgYnJhbmQ6IGFsbGVnZWRCcmFuZCwgdmFsdWU6IGFsbGVnZWRWYWx1ZSB9ID0gYWxsZWdlZEFtb3VudDtcbiAgICBicmFuZCA9PT0gYWxsZWdlZEJyYW5kIHx8XG4gICAgICBGYWlsYFRoZSBicmFuZCBpbiB0aGUgYWxsZWdlZEFtb3VudCAke2FsbGVnZWRBbW91bnR9IGluICdjb2VyY2UnIGRpZG4ndCBtYXRjaCB0aGUgc3BlY2lmaWVkIGJyYW5kICR7YnJhbmR9LmA7XG4gICAgLy9cbiAgICAvL1xuICAgIHJldHVybiBBbW91bnRNYXRoLm1ha2UoYnJhbmQsIGFsbGVnZWRWYWx1ZSk7XG4gIH0sXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBnZXRWYWx1ZTogKGJyYW5kLCBhbW91bnQpID0+IEFtb3VudE1hdGguY29lcmNlKGJyYW5kLCBhbW91bnQpLnZhbHVlLFxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBtYWtlRW1wdHk6IChicmFuZCwgYXNzZXRLaW5kID0gLyogICAgICAgICAgICAgICAgKi8gKCduYXQnKSkgPT4ge1xuICAgIGFzc2VydFJlbW90YWJsZShicmFuZCwgJ2JyYW5kJyk7XG4gICAgYXNzZXJ0QXNzZXRLaW5kKGFzc2V0S2luZCk7XG4gICAgY29uc3QgdmFsdWUgPSBoZWxwZXJzW2Fzc2V0S2luZF0uZG9NYWtlRW1wdHkoKTtcbiAgICAvL1xuICAgIHJldHVybiBoYXJkZW4oeyBicmFuZCwgdmFsdWUgfSk7XG4gIH0sXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBtYWtlRW1wdHlGcm9tQW1vdW50OiBhbW91bnQgPT4ge1xuICAgIGFzc2VydFJlY29yZChhbW91bnQsICdhbW91bnQnKTtcbiAgICBjb25zdCB7IGJyYW5kLCB2YWx1ZSB9ID0gYW1vdW50O1xuICAgIGNvbnN0IGFzc2V0S2luZCA9IGFzc2VydFZhbHVlR2V0QXNzZXRLaW5kKHZhbHVlKTtcbiAgICAvL1xuICAgIHJldHVybiBBbW91bnRNYXRoLm1ha2VFbXB0eShicmFuZCwgYXNzZXRLaW5kKTtcbiAgfSxcbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBpc0VtcHR5OiAoYW1vdW50LCBicmFuZCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGFzc2VydFJlY29yZChhbW91bnQsICdhbW91bnQnKTtcbiAgICBjb25zdCB7IGJyYW5kOiBhbGxlZ2VkQnJhbmQsIHZhbHVlIH0gPSBhbW91bnQ7XG4gICAgYXNzZXJ0UmVtb3RhYmxlKGFsbGVnZWRCcmFuZCwgJ2JyYW5kJyk7XG4gICAgb3B0aW9uYWxCcmFuZENoZWNrKGFsbGVnZWRCcmFuZCwgYnJhbmQpO1xuICAgIGNvbnN0IGggPSBhc3NlcnRWYWx1ZUdldEhlbHBlcnModmFsdWUpO1xuICAgIHJldHVybiBoLmRvSXNFbXB0eShoLmRvQ29lcmNlKHZhbHVlKSk7XG4gIH0sXG4gIGlzR1RFLFxuICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGlzRXF1YWw6IChsZWZ0QW1vdW50LCByaWdodEFtb3VudCwgYnJhbmQgPSB1bmRlZmluZWQpID0+IHtcbiAgICBjb25zdCBoID0gY2hlY2tMUkFuZEdldEhlbHBlcnMobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kKTtcbiAgICByZXR1cm4gaC5kb0lzRXF1YWwoLi4uY29lcmNlTFIoaCwgbGVmdEFtb3VudCwgcmlnaHRBbW91bnQpKTtcbiAgfSxcbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBhZGQ6IChsZWZ0QW1vdW50LCByaWdodEFtb3VudCwgYnJhbmQgPSB1bmRlZmluZWQpID0+IHtcbiAgICBjb25zdCBoID0gY2hlY2tMUkFuZEdldEhlbHBlcnMobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kKTtcbiAgICBjb25zdCB2YWx1ZSA9IGguZG9BZGQoLi4uY29lcmNlTFIoaCwgbGVmdEFtb3VudCwgcmlnaHRBbW91bnQpKTtcbiAgICByZXR1cm4gaGFyZGVuKHsgYnJhbmQ6IGxlZnRBbW91bnQuYnJhbmQsIHZhbHVlIH0pO1xuICB9LFxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgc3VidHJhY3Q6IChsZWZ0QW1vdW50LCByaWdodEFtb3VudCwgYnJhbmQgPSB1bmRlZmluZWQpID0+IHtcbiAgICBjb25zdCBoID0gY2hlY2tMUkFuZEdldEhlbHBlcnMobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kKTtcbiAgICBjb25zdCB2YWx1ZSA9IGguZG9TdWJ0cmFjdCguLi5jb2VyY2VMUihoLCBsZWZ0QW1vdW50LCByaWdodEFtb3VudCkpO1xuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih7IGJyYW5kOiBsZWZ0QW1vdW50LmJyYW5kLCB2YWx1ZSB9KTtcbiAgfSxcbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgbWluOiAoeCwgeSwgYnJhbmQgPSB1bmRlZmluZWQpID0+XG4gICAgLy9cbiAgICBpc0dURSh4LCB5LCBicmFuZClcbiAgICAgID8geVxuICAgICAgOiBpc0dURSh5LCB4LCBicmFuZClcbiAgICAgICAgPyB4XG4gICAgICAgIDogRmFpbGAke3h9IGFuZCAke3l9IGFyZSBpbmNvbXBhcmFibGVgLFxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBtYXg6ICh4LCB5LCBicmFuZCA9IHVuZGVmaW5lZCkgPT5cbiAgICAvL1xuICAgIGlzR1RFKHgsIHksIGJyYW5kKVxuICAgICAgPyB4XG4gICAgICA6IGlzR1RFKHksIHgpXG4gICAgICAgID8geVxuICAgICAgICA6IEZhaWxgJHt4fSBhbmQgJHt5fSBhcmUgaW5jb21wYXJhYmxlYCxcbn07JGjNj19vbmNlLkFtb3VudE1hdGgoQW1vdW50TWF0aCk7XG5oYXJkZW4oQW1vdW50TWF0aCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgZ2V0QXNzZXRLaW5kID0gYW1vdW50ID0+IHtcbiAgYXNzZXJ0UmVjb3JkKGFtb3VudCwgJ2Ftb3VudCcpO1xuICBjb25zdCB7IHZhbHVlIH0gPSBhbW91bnQ7XG4gIHJldHVybiBhc3NlcnRWYWx1ZUdldEFzc2V0S2luZCh2YWx1ZSk7XG59OyRozY9fb25jZS5nZXRBc3NldEtpbmQoZ2V0QXNzZXRLaW5kKTtcbmhhcmRlbihnZXRBc3NldEtpbmQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQXNzZXRLaW5kIjpbIkFzc2V0S2luZCJdLCJhc3NlcnRBc3NldEtpbmQiOlsiYXNzZXJ0QXNzZXRLaW5kIl0sImFzc2VydFZhbHVlR2V0SGVscGVycyI6WyJhc3NlcnRWYWx1ZUdldEhlbHBlcnMiXSwiQW1vdW50TWF0aCI6WyJBbW91bnRNYXRoIl0sImdldEFzc2V0S2luZCI6WyJnZXRBc3NldEtpbmQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAExpaUjEEAAAxBAAAJwAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9hbW91bnRTdG9yZS5qc3siaW1wb3J0cyI6WyIuL2Ftb3VudE1hdGguanMiXSwiZXhwb3J0cyI6WyJtYWtlQW1vdW50U3RvcmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRNYXRoOyRozY9faW1wb3J0cyhbW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUFtb3VudFN0b3JlID0gKHN0YXRlLCBrZXkpID0+IHtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgZ2V0QW1vdW50OiAoKSA9PiBzdGF0ZVtrZXldLFxuICAgIGluY3JlbWVudDogZGVsdGEgPT4ge1xuICAgICAgc3RhdGVba2V5XSA9IEFtb3VudE1hdGguYWRkKHN0YXRlW2tleV0sIGRlbHRhKTtcbiAgICB9LFxuICAgIGRlY3JlbWVudDogZGVsdGEgPT4ge1xuICAgICAgaWYgKEFtb3VudE1hdGguaXNHVEUoc3RhdGVba2V5XSwgZGVsdGEpKSB7XG4gICAgICAgIHN0YXRlW2tleV0gPSBBbW91bnRNYXRoLnN1YnRyYWN0KHN0YXRlW2tleV0sIGRlbHRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlQW1vdW50U3RvcmUobWFrZUFtb3VudFN0b3JlKTtcbmhhcmRlbihtYWtlQW1vdW50U3RvcmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUFtb3VudFN0b3JlIjpbIm1ha2VBbW91bnRTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC4O4ykBwYAAAcGAAAnAAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL2Rpc3BsYXlJbmZvLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiLCIuL3R5cGVHdWFyZHMuanMiXSwiZXhwb3J0cyI6WyJjb2VyY2VEaXNwbGF5SW5mbyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsbXVzdE1hdGNoLERpc3BsYXlJbmZvU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJEaXNwbGF5SW5mb1NoYXBlXCIsWyRozY9fYSA9PiAoRGlzcGxheUluZm9TaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY29lcmNlRGlzcGxheUluZm8gPSAoYWxsZWdlZERpc3BsYXlJbmZvLCBhc3NldEtpbmQpID0+IHtcbiAgbXVzdE1hdGNoKGFsbGVnZWREaXNwbGF5SW5mbywgRGlzcGxheUluZm9TaGFwZSwgJ2Rpc3BsYXlJbmZvJyk7XG5cbiAgaWYgKGFsbGVnZWREaXNwbGF5SW5mby5hc3NldEtpbmQgIT09IHVuZGVmaW5lZCkge1xuICAgIGFsbGVnZWREaXNwbGF5SW5mby5hc3NldEtpbmQgPT09IGFzc2V0S2luZCB8fFxuICAgICAgRmFpbGBkaXNwbGF5SW5mby5hc3NldEtpbmQgd2FzIHByZXNlbnQgKCR7YWxsZWdlZERpc3BsYXlJbmZvLmFzc2V0S2luZH0pIGFuZCBkaWQgbm90IG1hdGNoIHRoZSBhc3NldEtpbmQgYXJndW1lbnQgKCR7YXNzZXRLaW5kfSlgO1xuICB9XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gaGFyZGVuKHsgLi4uYWxsZWdlZERpc3BsYXlJbmZvLCBhc3NldEtpbmQgfSk7XG5cbiAgaWYgKGRpc3BsYXlJbmZvLmRlY2ltYWxQbGFjZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKGRpc3BsYXlJbmZvLmRlY2ltYWxQbGFjZXMpIHx8XG4gICAgICBGYWlsYGRlY2ltYWxQbGFjZXMgJHtkaXNwbGF5SW5mby5kZWNpbWFsUGxhY2VzfSBpcyBub3QgYSBzYWZlIGludGVnZXJgO1xuICB9XG5cbiAgcmV0dXJuIGRpc3BsYXlJbmZvO1xufTskaM2PX29uY2UuY29lcmNlRGlzcGxheUluZm8oY29lcmNlRGlzcGxheUluZm8pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiY29lcmNlRGlzcGxheUluZm8iOlsiY29lcmNlRGlzcGxheUluZm8iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA819NA00CAABNAgAAIQAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2Ftb3VudE1hdGguanMiLCIuL2lzc3VlcktpdC5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL2Ftb3VudE1hdGguanMiLCIuL2lzc3VlcktpdC5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtdXSxbXCIuL2lzc3VlcktpdC5qc1wiLCBbXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtdXSxbXCIuL3R5cGVzLWluZGV4LmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJ1k6WEdGAAAHRgAACUAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvaXNzdWVyS2l0LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy96b25lL2R1cmFibGUuanMiLCIuL2Ftb3VudE1hdGguanMiLCIuL2Rpc3BsYXlJbmZvLmpzIiwiLi9wYXltZW50TGVkZ2VyLmpzIl0sImV4cG9ydHMiOlsiaGFzSXNzdWVyIiwibWFrZUR1cmFibGVJc3N1ZXJLaXQiLCJtYWtlSXNzdWVyS2l0IiwicHJlcGFyZUlzc3VlcktpdCIsInVwZ3JhZGVJc3N1ZXJLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnQsRmFpbCxhc3NlcnRQYXR0ZXJuLG1ha2VTY2FsYXJCaWdNYXBTdG9yZSxtYWtlRHVyYWJsZVpvbmUsQXNzZXRLaW5kLGFzc2VydEFzc2V0S2luZCxjb2VyY2VEaXNwbGF5SW5mbyxwcmVwYXJlUGF5bWVudExlZGdlcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiYXNzZXJ0XCIsWyRozY9fYSA9PiAoYXNzZXJ0ID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiYXNzZXJ0UGF0dGVyblwiLFskaM2PX2EgPT4gKGFzc2VydFBhdHRlcm4gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3ZhdC1kYXRhXCIsIFtbXCJtYWtlU2NhbGFyQmlnTWFwU3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyQmlnTWFwU3RvcmUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3pvbmUvZHVyYWJsZS5qc1wiLCBbW1wibWFrZUR1cmFibGVab25lXCIsWyRozY9fYSA9PiAobWFrZUR1cmFibGVab25lID0gJGjNj19hKV1dXV0sW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBc3NldEtpbmRcIixbJGjNj19hID0+IChBc3NldEtpbmQgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0QXNzZXRLaW5kXCIsWyRozY9fYSA9PiAoYXNzZXJ0QXNzZXRLaW5kID0gJGjNj19hKV1dXV0sW1wiLi9kaXNwbGF5SW5mby5qc1wiLCBbW1wiY29lcmNlRGlzcGxheUluZm9cIixbJGjNj19hID0+IChjb2VyY2VEaXNwbGF5SW5mbyA9ICRozY9fYSldXV1dLFtcIi4vcGF5bWVudExlZGdlci5qc1wiLCBbW1wicHJlcGFyZVBheW1lbnRMZWRnZXJcIixbJGjNj19hID0+IChwcmVwYXJlUGF5bWVudExlZGdlciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBzZXR1cElzc3VlcktpdCA9IChcbiAgeyBuYW1lLCBhc3NldEtpbmQsIGRpc3BsYXlJbmZvLCBlbGVtZW50U2hhcGUgfSxcbiAgaXNzdWVyWm9uZSxcbiAgcmVjb3ZlcnlTZXRzU3RhdGUsXG4gIG9wdFNodXRkb3duV2l0aEZhaWx1cmUgPSB1bmRlZmluZWQsXG4pID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihuYW1lLCAnc3RyaW5nJyk7XG4gIGFzc2VydEFzc2V0S2luZChhc3NldEtpbmQpO1xuXG4gIC8vXG4gIGNvbnN0IGNsZWFuRGlzcGxheUluZm8gPSBjb2VyY2VEaXNwbGF5SW5mbyhkaXNwbGF5SW5mbywgYXNzZXRLaW5kKTtcbiAgaWYgKG9wdFNodXRkb3duV2l0aEZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydC50eXBlb2Yob3B0U2h1dGRvd25XaXRoRmFpbHVyZSwgJ2Z1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAoZWxlbWVudFNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRQYXR0ZXJuKGVsZW1lbnRTaGFwZSk7XG4gIH1cblxuICAvL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8vXG4gIGNvbnN0IHsgaXNzdWVyLCBtaW50LCBicmFuZCwgbWludFJlY292ZXJ5UHVyc2UgfSA9IHByZXBhcmVQYXltZW50TGVkZ2VyKFxuICAgIGlzc3VlclpvbmUsXG4gICAgbmFtZSxcbiAgICBhc3NldEtpbmQsXG4gICAgY2xlYW5EaXNwbGF5SW5mbyxcbiAgICBlbGVtZW50U2hhcGUsXG4gICAgcmVjb3ZlcnlTZXRzU3RhdGUsXG4gICAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSxcbiAgKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBicmFuZCxcbiAgICBpc3N1ZXIsXG4gICAgbWludCxcbiAgICBtaW50UmVjb3ZlcnlQdXJzZSxcbiAgICBkaXNwbGF5SW5mbzogY2xlYW5EaXNwbGF5SW5mbyxcbiAgfSk7XG59O1xuaGFyZGVuKHNldHVwSXNzdWVyS2l0KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgSU5TVEFOQ0VfS0VZID0gJ2lzc3Vlcic7XG4vKlxuXG5cblxuICovXG5jb25zdCBSRUNPVkVSWV9TRVRTX1NUQVRFID0gJ3JlY292ZXJ5U2V0c1N0YXRlJztcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHVwZ3JhZGVJc3N1ZXJLaXQgPSAoXG4gIGlzc3VlckJhZ2dhZ2UsXG4gIG9wdFNodXRkb3duV2l0aEZhaWx1cmUgPSB1bmRlZmluZWQsXG4gIHJlY292ZXJ5U2V0c09wdGlvbiA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBpc3N1ZXJSZWNvcmQgPSBpc3N1ZXJCYWdnYWdlLmdldChJTlNUQU5DRV9LRVkpO1xuICBjb25zdCBpc3N1ZXJab25lID0gbWFrZUR1cmFibGVab25lKGlzc3VlckJhZ2dhZ2UpO1xuICBjb25zdCBvbGRSZWNvdmVyeVNldHNTdGF0ZSA9IGlzc3VlckJhZ2dhZ2UuaGFzKFJFQ09WRVJZX1NFVFNfU1RBVEUpXG4gICAgPyBpc3N1ZXJCYWdnYWdlLmdldChSRUNPVkVSWV9TRVRTX1NUQVRFKVxuICAgIDogJ2hhc1JlY292ZXJ5U2V0cyc7XG4gIGlmIChcbiAgICBvbGRSZWNvdmVyeVNldHNTdGF0ZSA9PT0gJ25vUmVjb3ZlcnlTZXRzJyAmJlxuICAgIHJlY292ZXJ5U2V0c09wdGlvbiA9PT0gJ2hhc1JlY292ZXJ5U2V0cydcbiAgKSB7XG4gICAgRmFpbGBDYW5ub3QgKHlldD8pIHVwZ3JhZGUgZnJvbSAnbm9SZWNvdmVyeVNldHMnIHRvICdoYXNSZWNvdmVyeVNldHMnYDtcbiAgfVxuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCByZWNvdmVyeVNldHNTdGF0ZSA9IHJlY292ZXJ5U2V0c09wdGlvbiB8fCBvbGRSZWNvdmVyeVNldHNTdGF0ZTtcbiAgcmV0dXJuIHNldHVwSXNzdWVyS2l0KFxuICAgIGlzc3VlclJlY29yZCxcbiAgICBpc3N1ZXJab25lLFxuICAgIHJlY292ZXJ5U2V0c1N0YXRlLFxuICAgIG9wdFNodXRkb3duV2l0aEZhaWx1cmUsXG4gICk7XG59OyRozY9fb25jZS51cGdyYWRlSXNzdWVyS2l0KHVwZ3JhZGVJc3N1ZXJLaXQpO1xuaGFyZGVuKHVwZ3JhZGVJc3N1ZXJLaXQpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaGFzSXNzdWVyID0gYmFnZ2FnZSA9PiBiYWdnYWdlLmhhcyhJTlNUQU5DRV9LRVkpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuaGFzSXNzdWVyKGhhc0lzc3Vlcik7XG4gICAgICAgY29uc3QgbWFrZUR1cmFibGVJc3N1ZXJLaXQgPSAoXG4gIGlzc3VlckJhZ2dhZ2UsXG4gIG5hbWUsXG4gIC8vXG4gIGFzc2V0S2luZCA9IEFzc2V0S2luZC5OQVQsXG4gIGRpc3BsYXlJbmZvID0gaGFyZGVuKHt9KSxcbiAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSA9IHVuZGVmaW5lZCxcbiAgeyBlbGVtZW50U2hhcGUgPSB1bmRlZmluZWQsIHJlY292ZXJ5U2V0c09wdGlvbiA9IHVuZGVmaW5lZCB9ID0ge30sXG4pID0+IHtcbiAgY29uc3QgaXNzdWVyRGF0YSA9IGhhcmRlbih7XG4gICAgbmFtZSxcbiAgICBhc3NldEtpbmQsXG4gICAgZGlzcGxheUluZm8sXG4gICAgZWxlbWVudFNoYXBlLFxuICB9KTtcbiAgaXNzdWVyQmFnZ2FnZS5pbml0KElOU1RBTkNFX0tFWSwgaXNzdWVyRGF0YSk7XG4gIGNvbnN0IGlzc3VlclpvbmUgPSBtYWtlRHVyYWJsZVpvbmUoaXNzdWVyQmFnZ2FnZSk7XG4gIGNvbnN0IHJlY292ZXJ5U2V0c1N0YXRlID0gcmVjb3ZlcnlTZXRzT3B0aW9uIHx8ICdoYXNSZWNvdmVyeVNldHMnO1xuICBpc3N1ZXJCYWdnYWdlLmluaXQoUkVDT1ZFUllfU0VUU19TVEFURSwgcmVjb3ZlcnlTZXRzU3RhdGUpO1xuICByZXR1cm4gc2V0dXBJc3N1ZXJLaXQoXG4gICAgaXNzdWVyRGF0YSxcbiAgICBpc3N1ZXJab25lLFxuICAgIHJlY292ZXJ5U2V0c1N0YXRlLFxuICAgIG9wdFNodXRkb3duV2l0aEZhaWx1cmUsXG4gICk7XG59OyRozY9fb25jZS5tYWtlRHVyYWJsZUlzc3VlcktpdChtYWtlRHVyYWJsZUlzc3VlcktpdCk7XG5oYXJkZW4obWFrZUR1cmFibGVJc3N1ZXJLaXQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlSXNzdWVyS2l0ID0gKFxuICBpc3N1ZXJCYWdnYWdlLFxuICBuYW1lLFxuICAvL1xuICBhc3NldEtpbmQgPSBBc3NldEtpbmQuTkFULFxuICBkaXNwbGF5SW5mbyA9IGhhcmRlbih7fSksXG4gIG9wdFNodXRkb3duV2l0aEZhaWx1cmUgPSB1bmRlZmluZWQsXG4gIC8vXG4gIG9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBpZiAoaGFzSXNzdWVyKGlzc3VlckJhZ2dhZ2UpKSB7XG4gICAgY29uc3QgeyBlbGVtZW50U2hhcGU6IF8gPSB1bmRlZmluZWQsIHJlY292ZXJ5U2V0c09wdGlvbiA9IHVuZGVmaW5lZCB9ID1cbiAgICAgIG9wdGlvbnM7XG4gICAgY29uc3QgaXNzdWVyS2l0ID0gdXBncmFkZUlzc3VlcktpdChcbiAgICAgIGlzc3VlckJhZ2dhZ2UsXG4gICAgICBvcHRTaHV0ZG93bldpdGhGYWlsdXJlLFxuICAgICAgcmVjb3ZlcnlTZXRzT3B0aW9uLFxuICAgICk7XG5cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG5cbiAgICAvL1xuICAgIHJldHVybiBpc3N1ZXJLaXQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaXNzdWVyS2l0ID0gbWFrZUR1cmFibGVJc3N1ZXJLaXQoXG4gICAgICBpc3N1ZXJCYWdnYWdlLFxuICAgICAgbmFtZSxcbiAgICAgIGFzc2V0S2luZCxcbiAgICAgIGRpc3BsYXlJbmZvLFxuICAgICAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSxcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgICAvL1xuICAgIHJldHVybiBpc3N1ZXJLaXQ7XG4gIH1cbn07JGjNj19vbmNlLnByZXBhcmVJc3N1ZXJLaXQocHJlcGFyZUlzc3VlcktpdCk7XG5oYXJkZW4ocHJlcGFyZUlzc3VlcktpdCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUlzc3VlcktpdCA9IChcbiAgbmFtZSxcbiAgLy9cbiAgYXNzZXRLaW5kID0gQXNzZXRLaW5kLk5BVCxcbiAgZGlzcGxheUluZm8gPSBoYXJkZW4oe30pLFxuICBvcHRTaHV0ZG93bldpdGhGYWlsdXJlID0gdW5kZWZpbmVkLFxuICAvL1xuICB7IGVsZW1lbnRTaGFwZSA9IHVuZGVmaW5lZCwgcmVjb3ZlcnlTZXRzT3B0aW9uID0gdW5kZWZpbmVkIH0gPSB7fSxcbikgPT5cbiAgLy9cbiAgbWFrZUR1cmFibGVJc3N1ZXJLaXQoXG4gICAgbWFrZVNjYWxhckJpZ01hcFN0b3JlKCdkcm9wcGVkIGlzc3VlciBraXQnLCB7IGR1cmFibGU6IHRydWUgfSksXG4gICAgbmFtZSxcbiAgICBhc3NldEtpbmQsXG4gICAgZGlzcGxheUluZm8sXG4gICAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSxcbiAgICB7IGVsZW1lbnRTaGFwZSwgcmVjb3ZlcnlTZXRzT3B0aW9uIH0sXG4gICk7JGjNj19vbmNlLm1ha2VJc3N1ZXJLaXQobWFrZUlzc3VlcktpdCk7XG5oYXJkZW4obWFrZUlzc3VlcktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ1cGdyYWRlSXNzdWVyS2l0IjpbInVwZ3JhZGVJc3N1ZXJLaXQiXSwiaGFzSXNzdWVyIjpbImhhc0lzc3VlciJdLCJtYWtlRHVyYWJsZUlzc3VlcktpdCI6WyJtYWtlRHVyYWJsZUlzc3VlcktpdCJdLCJwcmVwYXJlSXNzdWVyS2l0IjpbInByZXBhcmVJc3N1ZXJLaXQiXSwibWFrZUlzc3VlcktpdCI6WyJtYWtlSXNzdWVyS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAADTpUBQSBgAAEgYAADoAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvbWF0aEhlbHBlcnMvY29weUJhZ01hdGhIZWxwZXJzLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvc3RvcmUiXSwiZXhwb3J0cyI6WyJjb3B5QmFnTWF0aEhlbHBlcnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBrZXlFUSxtYWtlQ29weUJhZyxtdXN0TWF0Y2gsTSxnZXRDb3B5QmFnRW50cmllcyxiYWdJc1N1cGVyYmFnLGJhZ1VuaW9uLGJhZ0Rpc2pvaW50U3VidHJhY3Q7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5QmFnXCIsWyRozY9fYSA9PiAobWFrZUNvcHlCYWcgPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcImdldENvcHlCYWdFbnRyaWVzXCIsWyRozY9fYSA9PiAoZ2V0Q29weUJhZ0VudHJpZXMgPSAkaM2PX2EpXV0sW1wiYmFnSXNTdXBlcmJhZ1wiLFskaM2PX2EgPT4gKGJhZ0lzU3VwZXJiYWcgPSAkaM2PX2EpXV0sW1wiYmFnVW5pb25cIixbJGjNj19hID0+IChiYWdVbmlvbiA9ICRozY9fYSldXSxbXCJiYWdEaXNqb2ludFN1YnRyYWN0XCIsWyRozY9fYSA9PiAoYmFnRGlzam9pbnRTdWJ0cmFjdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZW1wdHkgPSBtYWtlQ29weUJhZyhbXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGNvcHlCYWdNYXRoSGVscGVycyA9IGhhcmRlbih7XG4gIGRvQ29lcmNlOiBiYWcgPT4ge1xuICAgIG11c3RNYXRjaChiYWcsIE0uYmFnKCksICdiYWcgb2YgYW1vdW50Jyk7XG4gICAgcmV0dXJuIGJhZztcbiAgfSxcbiAgZG9NYWtlRW1wdHk6ICgpID0+IGVtcHR5LFxuICBkb0lzRW1wdHk6IGJhZyA9PiBnZXRDb3B5QmFnRW50cmllcyhiYWcpLmxlbmd0aCA9PT0gMCxcbiAgZG9Jc0dURTogYmFnSXNTdXBlcmJhZyxcbiAgZG9Jc0VxdWFsOiBrZXlFUSxcbiAgZG9BZGQ6IGJhZ1VuaW9uLFxuICBkb1N1YnRyYWN0OiBiYWdEaXNqb2ludFN1YnRyYWN0LFxufSk7JGjNj19vbmNlLmNvcHlCYWdNYXRoSGVscGVycyhjb3B5QmFnTWF0aEhlbHBlcnMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiY29weUJhZ01hdGhIZWxwZXJzIjpbImNvcHlCYWdNYXRoSGVscGVycyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAChmPGE0AUAANAFAAA6AAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL2NvcHlTZXRNYXRoSGVscGVycy5qc3siaW1wb3J0cyI6WyJAYWdvcmljL3N0b3JlIl0sImV4cG9ydHMiOlsiY29weVNldE1hdGhIZWxwZXJzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQga2V5RVEsbWFrZUNvcHlTZXQsbXVzdE1hdGNoLE0sZ2V0Q29weVNldEtleXMsc2V0SXNTdXBlcnNldCxzZXREaXNqb2ludFVuaW9uLHNldERpc2pvaW50U3VidHJhY3Q7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5U2V0XCIsWyRozY9fYSA9PiAobWFrZUNvcHlTZXQgPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcImdldENvcHlTZXRLZXlzXCIsWyRozY9fYSA9PiAoZ2V0Q29weVNldEtleXMgPSAkaM2PX2EpXV0sW1wic2V0SXNTdXBlcnNldFwiLFskaM2PX2EgPT4gKHNldElzU3VwZXJzZXQgPSAkaM2PX2EpXV0sW1wic2V0RGlzam9pbnRVbmlvblwiLFskaM2PX2EgPT4gKHNldERpc2pvaW50VW5pb24gPSAkaM2PX2EpXV0sW1wic2V0RGlzam9pbnRTdWJ0cmFjdFwiLFskaM2PX2EgPT4gKHNldERpc2pvaW50U3VidHJhY3QgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZW1wdHkgPSBtYWtlQ29weVNldChbXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgY29weVNldE1hdGhIZWxwZXJzID0gaGFyZGVuKHtcbiAgZG9Db2VyY2U6IHNldCA9PiB7XG4gICAgbXVzdE1hdGNoKHNldCwgTS5zZXQoKSwgJ3NldCBvZiBhbW91bnQnKTtcbiAgICByZXR1cm4gc2V0O1xuICB9LFxuICBkb01ha2VFbXB0eTogKCkgPT4gZW1wdHksXG4gIGRvSXNFbXB0eTogc2V0ID0+IGdldENvcHlTZXRLZXlzKHNldCkubGVuZ3RoID09PSAwLFxuICBkb0lzR1RFOiBzZXRJc1N1cGVyc2V0LFxuICBkb0lzRXF1YWw6IGtleUVRLFxuICBkb0FkZDogc2V0RGlzam9pbnRVbmlvbixcbiAgZG9TdWJ0cmFjdDogc2V0RGlzam9pbnRTdWJ0cmFjdCxcbn0pOyRozY9fb25jZS5jb3B5U2V0TWF0aEhlbHBlcnMoY29weVNldE1hdGhIZWxwZXJzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNvcHlTZXRNYXRoSGVscGVycyI6WyJjb3B5U2V0TWF0aEhlbHBlcnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA82r1OrsEAAC7BAAANgAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9tYXRoSGVscGVycy9uYXRNYXRoSGVscGVycy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9uYXQiXSwiZXhwb3J0cyI6WyJuYXRNYXRoSGVscGVycyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsTmF0LGlzTmF0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL25hdFwiLCBbW1wiTmF0XCIsWyRozY9fYSA9PiAoTmF0ID0gJGjNj19hKV1dLFtcImlzTmF0XCIsWyRozY9fYSA9PiAoaXNOYXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgZW1wdHkgPSAwbjtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG5hdE1hdGhIZWxwZXJzID0gaGFyZGVuKHtcbiAgZG9Db2VyY2U6IG5hdCA9PiB7XG4gICAgLy9cbiAgICBhc3NlcnQudHlwZW9mKG5hdCwgJ2JpZ2ludCcpO1xuICAgIGlzTmF0KG5hdCkgfHwgRmFpbGB2YWx1ZSAke25hdH0gbXVzdCBiZSBhIG5hdHVyYWwgbnVtYmVyYDtcbiAgICByZXR1cm4gTmF0KG5hdCk7XG4gIH0sXG4gIGRvTWFrZUVtcHR5OiAoKSA9PiBlbXB0eSxcbiAgZG9Jc0VtcHR5OiBuYXQgPT4gbmF0ID09PSBlbXB0eSxcbiAgZG9Jc0dURTogKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ID49IHJpZ2h0LFxuICBkb0lzRXF1YWw6IChsZWZ0LCByaWdodCkgPT4gbGVmdCA9PT0gcmlnaHQsXG4gIC8vXG4gIGRvQWRkOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKyByaWdodCxcbiAgZG9TdWJ0cmFjdDogKGxlZnQsIHJpZ2h0KSA9PiBOYXQobGVmdCAtIHJpZ2h0KSxcbn0pOyRozY9fb25jZS5uYXRNYXRoSGVscGVycyhuYXRNYXRoSGVscGVycyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJuYXRNYXRoSGVscGVycyI6WyJuYXRNYXRoSGVscGVycyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACB+ofGmAYAAJgGAAA2AAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL3NldE1hdGhIZWxwZXJzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL3N0b3JlIl0sImV4cG9ydHMiOlsic2V0TWF0aEhlbHBlcnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwYXNzU3R5bGVPZixhc3NlcnRLZXksZWxlbWVudHNJc1N1cGVyc2V0LGVsZW1lbnRzRGlzam9pbnRVbmlvbixlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QsY29lcmNlVG9FbGVtZW50cyxlbGVtZW50c0NvbXBhcmU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiYXNzZXJ0S2V5XCIsWyRozY9fYSA9PiAoYXNzZXJ0S2V5ID0gJGjNj19hKV1dLFtcImVsZW1lbnRzSXNTdXBlcnNldFwiLFskaM2PX2EgPT4gKGVsZW1lbnRzSXNTdXBlcnNldCA9ICRozY9fYSldXSxbXCJlbGVtZW50c0Rpc2pvaW50VW5pb25cIixbJGjNj19hID0+IChlbGVtZW50c0Rpc2pvaW50VW5pb24gPSAkaM2PX2EpXV0sW1wiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0XCIsWyRozY9fYSA9PiAoZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0ID0gJGjNj19hKV1dLFtcImNvZXJjZVRvRWxlbWVudHNcIixbJGjNj19hID0+IChjb2VyY2VUb0VsZW1lbnRzID0gJGjNj19hKV1dLFtcImVsZW1lbnRzQ29tcGFyZVwiLFskaM2PX2EgPT4gKGVsZW1lbnRzQ29tcGFyZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8vXG4vL1xuLyogICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGVtcHR5ID0gaGFyZGVuKFtdKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBzZXRNYXRoSGVscGVycyA9IGhhcmRlbih7XG4gIGRvQ29lcmNlOiBsaXN0ID0+IHtcbiAgICBsaXN0ID0gY29lcmNlVG9FbGVtZW50cyhsaXN0KTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGFzc2VydEtleShsaXN0KTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfSxcbiAgZG9NYWtlRW1wdHk6ICgpID0+IGVtcHR5LFxuICBkb0lzRW1wdHk6IGxpc3QgPT4gcGFzc1N0eWxlT2YobGlzdCkgPT09ICdjb3B5QXJyYXknICYmIGxpc3QubGVuZ3RoID09PSAwLFxuICBkb0lzR1RFOiBlbGVtZW50c0lzU3VwZXJzZXQsXG4gIGRvSXNFcXVhbDogKHgsIHkpID0+IGVsZW1lbnRzQ29tcGFyZSh4LCB5KSA9PT0gMCxcbiAgZG9BZGQ6IGVsZW1lbnRzRGlzam9pbnRVbmlvbixcbiAgZG9TdWJ0cmFjdDogZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0LFxufSk7JGjNj19vbmNlLnNldE1hdGhIZWxwZXJzKHNldE1hdGhIZWxwZXJzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InNldE1hdGhIZWxwZXJzIjpbInNldE1hdGhIZWxwZXJzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJ57M0HJAwAAyQMAACMAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvcGF5bWVudC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL3N0b3JlIl0sImV4cG9ydHMiOlsicHJlcGFyZVBheW1lbnRLaW5kIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaW5pdEVtcHR5OyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiaW5pdEVtcHR5XCIsWyRozY9fYSA9PiAoaW5pdEVtcHR5ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vL1xuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVQYXltZW50S2luZCA9IChpc3N1ZXJab25lLCBuYW1lLCBicmFuZCwgUGF5bWVudEkpID0+IHtcbiAgY29uc3QgbWFrZVBheW1lbnQgPSBpc3N1ZXJab25lLmV4b0NsYXNzKFxuICAgIGAke25hbWV9IHBheW1lbnRgLFxuICAgIFBheW1lbnRJLFxuICAgIGluaXRFbXB0eSxcbiAgICB7XG4gICAgICBnZXRBbGxlZ2VkQnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBicmFuZDtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbiAgLy9cbiAgcmV0dXJuIG1ha2VQYXltZW50O1xufTskaM2PX29uY2UucHJlcGFyZVBheW1lbnRLaW5kKHByZXBhcmVQYXltZW50S2luZCk7XG5oYXJkZW4ocHJlcGFyZVBheW1lbnRLaW5kKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVQYXltZW50S2luZCI6WyJwcmVwYXJlUGF5bWVudEtpbmQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAslt9GjAlAAAwJQAAKQAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wYXltZW50TGVkZ2VyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vcGF0dGVybnMiLCIuL2Ftb3VudE1hdGguanMiLCIuL3BheW1lbnQuanMiLCIuL3B1cnNlLmpzIiwiLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZVBheW1lbnRMZWRnZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxLEZhaWwsYW5ub3RhdGVFcnJvcixYLGlzUHJvbWlzZSxtdXN0TWF0Y2gsTSxrZXlFUSxBbW91bnRNYXRoLHByZXBhcmVQYXltZW50S2luZCxwcmVwYXJlUHVyc2VLaW5kLEJyYW5kSSxtYWtlSXNzdWVySW50ZXJmYWNlczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV0sW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wiaXNQcm9taXNlXCIsWyRozY9fYSA9PiAoaXNQcm9taXNlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXSxbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dXV0sW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dLFtcIi4vcGF5bWVudC5qc1wiLCBbW1wicHJlcGFyZVBheW1lbnRLaW5kXCIsWyRozY9fYSA9PiAocHJlcGFyZVBheW1lbnRLaW5kID0gJGjNj19hKV1dXV0sW1wiLi9wdXJzZS5qc1wiLCBbW1wicHJlcGFyZVB1cnNlS2luZFwiLFskaM2PX2EgPT4gKHByZXBhcmVQdXJzZUtpbmQgPSAkaM2PX2EpXV1dXSxbXCIuL3R5cGVHdWFyZHMuanNcIiwgW1tcIkJyYW5kSVwiLFskaM2PX2EgPT4gKEJyYW5kSSA9ICRozY9fYSldXSxbXCJtYWtlSXNzdWVySW50ZXJmYWNlc1wiLFskaM2PX2EgPT4gKG1ha2VJc3N1ZXJJbnRlcmZhY2VzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBhbW91bnRTaGFwZUZyb21FbGVtZW50U2hhcGUgPSAoYnJhbmQsIGFzc2V0S2luZCwgZWxlbWVudFNoYXBlKSA9PiB7XG4gIGxldCB2YWx1ZVNoYXBlO1xuICBzd2l0Y2ggKGFzc2V0S2luZCkge1xuICAgIGNhc2UgJ25hdCc6IHtcbiAgICAgIHZhbHVlU2hhcGUgPSBNLm5hdCgpO1xuICAgICAgZWxlbWVudFNoYXBlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgRmFpbGBGdW5naWJsZSBhc3NldHMgY2Fubm90IGhhdmUgYW4gZWxlbWVudFNoYXBlOiAke3EoZWxlbWVudFNoYXBlKX1gO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ3NldCc6IHtcbiAgICAgIGlmIChlbGVtZW50U2hhcGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZVNoYXBlID0gTS5hcnJheU9mKE0ua2V5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVTaGFwZSA9IE0uYXJyYXlPZihNLmFuZChNLmtleSgpLCBlbGVtZW50U2hhcGUpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgaWYgKGVsZW1lbnRTaGFwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlU2hhcGUgPSBNLnNldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVTaGFwZSA9IE0uc2V0T2YoZWxlbWVudFNoYXBlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdjb3B5QmFnJzoge1xuICAgICAgaWYgKGVsZW1lbnRTaGFwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlU2hhcGUgPSBNLmJhZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVTaGFwZSA9IE0uYmFnT2YoZWxlbWVudFNoYXBlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBGYWlsYHVuZXhwZWN0ZWQgYXNzZXQga2luZCAke3EoYXNzZXRLaW5kKX1gO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFtb3VudFNoYXBlID0gaGFyZGVuKHtcbiAgICBicmFuZCwgLy9cbiAgICB2YWx1ZTogdmFsdWVTaGFwZSxcbiAgfSk7XG4gIHJldHVybiBhbW91bnRTaGFwZTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlUGF5bWVudExlZGdlciA9IChcbiAgaXNzdWVyWm9uZSxcbiAgbmFtZSxcbiAgYXNzZXRLaW5kLFxuICBkaXNwbGF5SW5mbyxcbiAgZWxlbWVudFNoYXBlLFxuICByZWNvdmVyeVNldHNTdGF0ZSxcbiAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICAvL1xuICBjb25zdCBicmFuZCA9IGlzc3VlclpvbmUuZXhvKGAke25hbWV9IGJyYW5kYCwgQnJhbmRJLCB7XG4gICAgaXNNeUlzc3VlcihhbGxlZ2VkSXNzdWVyKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGFsbGVnZWRJc3N1ZXIgPT09IGlzc3VlcjtcbiAgICB9LFxuICAgIGdldEFsbGVnZWROYW1lKCkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcbiAgICAvL1xuICAgIGdldERpc3BsYXlJbmZvKCkge1xuICAgICAgcmV0dXJuIGRpc3BsYXlJbmZvO1xuICAgIH0sXG4gICAgZ2V0QW1vdW50U2hhcGUoKSB7XG4gICAgICByZXR1cm4gYW1vdW50U2hhcGU7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgYW1vdW50U2hhcGUgPSBhbW91bnRTaGFwZUZyb21FbGVtZW50U2hhcGUoXG4gICAgYnJhbmQsXG4gICAgYXNzZXRLaW5kLFxuICAgIGVsZW1lbnRTaGFwZSxcbiAgKTtcblxuICBjb25zdCB7IElzc3VlckksIE1pbnRJLCBQYXltZW50SSwgUHVyc2VJS2l0IH0gPSBtYWtlSXNzdWVySW50ZXJmYWNlcyhcbiAgICBicmFuZCxcbiAgICBhc3NldEtpbmQsXG4gICAgYW1vdW50U2hhcGUsXG4gICk7XG5cbiAgY29uc3QgbWFrZVBheW1lbnQgPSBwcmVwYXJlUGF5bWVudEtpbmQoaXNzdWVyWm9uZSwgbmFtZSwgYnJhbmQsIFBheW1lbnRJKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHNodXRkb3duTGVkZ2VyV2l0aEZhaWx1cmUgPSByZWFzb24gPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAob3B0U2h1dGRvd25XaXRoRmFpbHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvcHRTaHV0ZG93bldpdGhGYWlsdXJlKHJlYXNvbik7XG4gICAgICB9IGNhdGNoIChlcnJJblNodXRkb3duKSB7XG4gICAgICAgIGFubm90YXRlRXJyb3IoZXJySW5TaHV0ZG93biwgWGBDYXVzZWQgYnk6ICR7cmVhc29ufWApO1xuICAgICAgICB0aHJvdyBlcnJJblNodXRkb3duO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyByZWFzb247XG4gIH07XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcGF5bWVudExlZGdlciA9IGlzc3VlclpvbmUud2Vha01hcFN0b3JlKCdwYXltZW50TGVkZ2VyJywge1xuICAgIHZhbHVlU2hhcGU6IGFtb3VudFNoYXBlLFxuICB9KTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHBheW1lbnRSZWNvdmVyeVNldHMgPSBpc3N1ZXJab25lLndlYWtNYXBTdG9yZSgncGF5bWVudFJlY292ZXJ5U2V0cycpO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBpbml0UGF5bWVudCA9IChwYXltZW50LCBhbW91bnQsIG9wdFJlY292ZXJ5U2V0ID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKHJlY292ZXJ5U2V0c1N0YXRlID09PSAnbm9SZWNvdmVyeVNldHMnKSB7XG4gICAgICBvcHRSZWNvdmVyeVNldCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIEZhaWxgd2hlbiByZWNvdmVyU2V0c1N0YXRlID09PSAnbm9SZWNvdmVyeVNldHMnLCBvcHRSZWNvdmVyeVNldCBtdXN0IGJlIGVtcHR5YDtcbiAgICB9XG4gICAgaWYgKG9wdFJlY292ZXJ5U2V0ICE9PSB1bmRlZmluZWQgJiYgIUFtb3VudE1hdGguaXNFbXB0eShhbW91bnQpKSB7XG4gICAgICBvcHRSZWNvdmVyeVNldC5hZGQocGF5bWVudCk7XG4gICAgICBwYXltZW50UmVjb3ZlcnlTZXRzLmluaXQocGF5bWVudCwgb3B0UmVjb3ZlcnlTZXQpO1xuICAgIH1cbiAgICBwYXltZW50TGVkZ2VyLmluaXQocGF5bWVudCwgYW1vdW50KTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkZWxldGVQYXltZW50ID0gcGF5bWVudCA9PiB7XG4gICAgcGF5bWVudExlZGdlci5kZWxldGUocGF5bWVudCk7XG4gICAgaWYgKHBheW1lbnRSZWNvdmVyeVNldHMuaGFzKHBheW1lbnQpKSB7XG4gICAgICBjb25zdCByZWNvdmVyeVNldCA9IHBheW1lbnRSZWNvdmVyeVNldHMuZ2V0KHBheW1lbnQpO1xuICAgICAgcGF5bWVudFJlY292ZXJ5U2V0cy5kZWxldGUocGF5bWVudCk7XG4gICAgICByZWNvdmVyeVNldC5kZWxldGUocGF5bWVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjb2VyY2UgPSBhbGxlZ2VkQW1vdW50ID0+IEFtb3VudE1hdGguY29lcmNlKGJyYW5kLCBhbGxlZ2VkQW1vdW50KTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhc3NlcnRBbW91bnRDb25zaXN0ZW50ID0gKHBheW1lbnRCYWxhbmNlLCBvcHRBbW91bnRTaGFwZSkgPT4ge1xuICAgIGlmIChvcHRBbW91bnRTaGFwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtdXN0TWF0Y2gocGF5bWVudEJhbGFuY2UsIG9wdEFtb3VudFNoYXBlLCAnYW1vdW50Jyk7XG4gICAgfVxuICB9O1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgYXNzZXJ0TGl2ZVBheW1lbnQgPSBwYXltZW50ID0+IHtcbiAgICBwYXltZW50TGVkZ2VyLmhhcyhwYXltZW50KSB8fFxuICAgICAgRmFpbGAke3BheW1lbnR9IHdhcyBub3QgYSBsaXZlIHBheW1lbnQgZm9yIGJyYW5kICR7cShcbiAgICAgICAgYnJhbmQsXG4gICAgICApfS4gSXQgY291bGQgYmUgYSB1c2VkLXVwIHBheW1lbnQsIGEgcGF5bWVudCBmb3IgYW5vdGhlciBicmFuZCwgb3IgaXQgbWlnaHQgbm90IGJlIGEgcGF5bWVudCBhdCBhbGwuYDtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZGVwb3NpdEludGVybmFsID0gKFxuICAgIGJhbGFuY2VTdG9yZSxcbiAgICBzcmNQYXltZW50LFxuICAgIG9wdEFtb3VudFNoYXBlID0gdW5kZWZpbmVkLFxuICApID0+IHtcbiAgICAhaXNQcm9taXNlKHNyY1BheW1lbnQpIHx8XG4gICAgICBhc3NlcnQuZmFpbChcbiAgICAgICAgYGRlcG9zaXQgZG9lcyBub3QgYWNjZXB0IHByb21pc2VzIGFzIGZpcnN0IGFyZ3VtZW50LiBJbnN0ZWFkIG9mIHBhc3NpbmcgdGhlIHByb21pc2UgKGRlcG9zaXQocGF5bWVudFByb21pc2UpKSwgY29uc2lkZXIgdW53cmFwcGluZyB0aGUgcHJvbWlzZSBmaXJzdDogRS53aGVuKHBheW1lbnRQcm9taXNlLCAoYWN0dWFsUGF5bWVudCA9PiBkZXBvc2l0KGFjdHVhbFBheW1lbnQpKWAsXG4gICAgICAgIFR5cGVFcnJvcixcbiAgICAgICk7XG4gICAgYXNzZXJ0TGl2ZVBheW1lbnQoc3JjUGF5bWVudCk7XG4gICAgY29uc3Qgc3JjUGF5bWVudEJhbGFuY2UgPSBwYXltZW50TGVkZ2VyLmdldChzcmNQYXltZW50KTtcbiAgICBhc3NlcnRBbW91bnRDb25zaXN0ZW50KHNyY1BheW1lbnRCYWxhbmNlLCBvcHRBbW91bnRTaGFwZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGRlbGV0ZVBheW1lbnQoc3JjUGF5bWVudCk7XG4gICAgICBiYWxhbmNlU3RvcmUuaW5jcmVtZW50KHNyY1BheW1lbnRCYWxhbmNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNodXRkb3duTGVkZ2VyV2l0aEZhaWx1cmUoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHNyY1BheW1lbnRCYWxhbmNlO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCB3aXRoZHJhd0ludGVybmFsID0gKGJhbGFuY2VTdG9yZSwgYW1vdW50LCByZWNvdmVyeVNldCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGFtb3VudCA9IGNvZXJjZShhbW91bnQpO1xuICAgIGNvbnN0IHBheW1lbnQgPSBtYWtlUGF5bWVudCgpO1xuICAgIC8vXG4gICAgLy9cbiAgICBiYWxhbmNlU3RvcmUuZGVjcmVtZW50KGFtb3VudCkgfHxcbiAgICAgIEZhaWxgV2l0aGRyYXdhbCBvZiAke2Ftb3VudH0gZmFpbGVkIGJlY2F1c2UgdGhlIHB1cnNlIG9ubHkgY29udGFpbmVkICR7YmFsYW5jZVN0b3JlLmdldEFtb3VudCgpfWA7XG4gICAgdHJ5IHtcbiAgICAgIGluaXRQYXltZW50KHBheW1lbnQsIGFtb3VudCwgcmVjb3ZlcnlTZXQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2h1dGRvd25MZWRnZXJXaXRoRmFpbHVyZShlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bWVudDtcbiAgfTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvL1xuICBjb25zdCBtYWtlRW1wdHlQdXJzZSA9IHByZXBhcmVQdXJzZUtpbmQoXG4gICAgaXNzdWVyWm9uZSxcbiAgICBuYW1lLFxuICAgIGFzc2V0S2luZCxcbiAgICBicmFuZCxcbiAgICBQdXJzZUlLaXQsXG4gICAgaGFyZGVuKHtcbiAgICAgIGRlcG9zaXRJbnRlcm5hbCxcbiAgICAgIHdpdGhkcmF3SW50ZXJuYWwsXG4gICAgfSksXG4gICAgcmVjb3ZlcnlTZXRzU3RhdGUsXG4gICAgcGF5bWVudFJlY292ZXJ5U2V0cyxcbiAgKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgKi9cbiAgLy9cbiAgY29uc3QgaXNzdWVyID0gaXNzdWVyWm9uZS5leG8oYCR7bmFtZX0gaXNzdWVyYCwgSXNzdWVySSwge1xuICAgIGdldEJyYW5kKCkge1xuICAgICAgcmV0dXJuIGJyYW5kO1xuICAgIH0sXG4gICAgZ2V0QWxsZWdlZE5hbWUoKSB7XG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9LFxuICAgIGdldEFzc2V0S2luZCgpIHtcbiAgICAgIHJldHVybiBhc3NldEtpbmQ7XG4gICAgfSxcbiAgICBnZXREaXNwbGF5SW5mbygpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5SW5mbztcbiAgICB9LFxuICAgIG1ha2VFbXB0eVB1cnNlKCkge1xuICAgICAgcmV0dXJuIG1ha2VFbXB0eVB1cnNlKCk7XG4gICAgfSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBpc0xpdmUocGF5bWVudCkge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBwYXltZW50TGVkZ2VyLmhhcyhwYXltZW50KTtcbiAgICB9LFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGdldEFtb3VudE9mKHBheW1lbnQpIHtcbiAgICAgIC8vXG4gICAgICBhc3NlcnRMaXZlUGF5bWVudChwYXltZW50KTtcbiAgICAgIHJldHVybiBwYXltZW50TGVkZ2VyLmdldChwYXltZW50KTtcbiAgICB9LFxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIGJ1cm4ocGF5bWVudCwgb3B0QW1vdW50U2hhcGUgPSB1bmRlZmluZWQpIHtcbiAgICAgIC8vXG4gICAgICBhc3NlcnRMaXZlUGF5bWVudChwYXltZW50KTtcbiAgICAgIGNvbnN0IHBheW1lbnRCYWxhbmNlID0gcGF5bWVudExlZGdlci5nZXQocGF5bWVudCk7XG4gICAgICBhc3NlcnRBbW91bnRDb25zaXN0ZW50KHBheW1lbnRCYWxhbmNlLCBvcHRBbW91bnRTaGFwZSk7XG4gICAgICB0cnkge1xuICAgICAgICAvL1xuICAgICAgICBkZWxldGVQYXltZW50KHBheW1lbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNodXRkb3duTGVkZ2VyV2l0aEZhaWx1cmUoZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheW1lbnRCYWxhbmNlO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWludFJlY292ZXJ5UHVyc2UgPSAvKiAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgaXNzdWVyWm9uZS5tYWtlT25jZSgnbWludFJlY292ZXJ5UHVyc2UnLCAoKSA9PiBtYWtlRW1wdHlQdXJzZSgpKVxuICApO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWludCA9IGlzc3VlclpvbmUuZXhvKGAke25hbWV9IG1pbnRgLCBNaW50SSwge1xuICAgIGdldElzc3VlcigpIHtcbiAgICAgIHJldHVybiBpc3N1ZXI7XG4gICAgfSxcbiAgICBtaW50UGF5bWVudChuZXdBbW91bnQpIHtcbiAgICAgIG5ld0Ftb3VudCA9IGNvZXJjZShuZXdBbW91bnQpO1xuICAgICAgbXVzdE1hdGNoKG5ld0Ftb3VudCwgYW1vdW50U2hhcGUsICdtaW50ZWQgYW1vdW50Jyk7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IHJhd1BheW1lbnQgPSBtYWtlUGF5bWVudCgpO1xuICAgICAgaW5pdFBheW1lbnQocmF3UGF5bWVudCwgbmV3QW1vdW50LCB1bmRlZmluZWQpO1xuXG4gICAgICBjb25zdCBtaW50UmVjb3ZlcnlQdXJzZUJlZm9yZSA9IG1pbnRSZWNvdmVyeVB1cnNlLmdldEN1cnJlbnRBbW91bnQoKTtcbiAgICAgIG1pbnRSZWNvdmVyeVB1cnNlLmRlcG9zaXQocmF3UGF5bWVudCwgbmV3QW1vdW50KTtcbiAgICAgIGNvbnN0IHBheW1lbnQgPSBtaW50UmVjb3ZlcnlQdXJzZS53aXRoZHJhdyhuZXdBbW91bnQpO1xuICAgICAgY29uc3QgbWludFJlY292ZXJ5UHVyc2VBZnRlciA9IG1pbnRSZWNvdmVyeVB1cnNlLmdldEN1cnJlbnRBbW91bnQoKTtcbiAgICAgIGFzc2VydChrZXlFUShtaW50UmVjb3ZlcnlQdXJzZUJlZm9yZSwgbWludFJlY292ZXJ5UHVyc2VBZnRlcikpO1xuICAgICAgcmV0dXJuIHBheW1lbnQ7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgaXNzdWVyS2l0ID0gaGFyZGVuKHsgaXNzdWVyLCBtaW50LCBicmFuZCwgbWludFJlY292ZXJ5UHVyc2UgfSk7XG4gIHJldHVybiBpc3N1ZXJLaXQ7XG59OyRozY9fb25jZS5wcmVwYXJlUGF5bWVudExlZGdlcihwcmVwYXJlUGF5bWVudExlZGdlcik7XG5oYXJkZW4ocHJlcGFyZVBheW1lbnRMZWRnZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVBheW1lbnRMZWRnZXIiOlsicHJlcGFyZVBheW1lbnRMZWRnZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAACc2lSAcVAAAHFQAAIQAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wdXJzZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAYWdvcmljL3N0b3JlIiwiLi9hbW91bnRNYXRoLmpzIiwiLi90cmFuc2llbnROb3RpZmllci5qcyIsIi4vYW1vdW50U3RvcmUuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUHVyc2VLaW5kIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxNLG1ha2VDb3B5U2V0LEFtb3VudE1hdGgsbWFrZVRyYW5zaWVudE5vdGlmaWVyS2l0LG1ha2VBbW91bnRTdG9yZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYWtlQ29weVNldFwiLFskaM2PX2EgPT4gKG1ha2VDb3B5U2V0ID0gJGjNj19hKV1dXV0sW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dLFtcIi4vdHJhbnNpZW50Tm90aWZpZXIuanNcIiwgW1tcIm1ha2VUcmFuc2llbnROb3RpZmllcktpdFwiLFskaM2PX2EgPT4gKG1ha2VUcmFuc2llbnROb3RpZmllcktpdCA9ICRozY9fYSldXV1dLFtcIi4vYW1vdW50U3RvcmUuanNcIiwgW1tcIm1ha2VBbW91bnRTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VBbW91bnRTdG9yZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgRU1QVFlfQ09QWV9TRVQgPSBtYWtlQ29weVNldChbXSk7XG5cbi8vXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVQdXJzZUtpbmQgPSAoXG4gIGlzc3VlclpvbmUsXG4gIG5hbWUsXG4gIGFzc2V0S2luZCxcbiAgYnJhbmQsXG4gIFB1cnNlSUtpdCxcbiAgcHVyc2VNZXRob2RzLFxuICByZWNvdmVyeVNldHNTdGF0ZSxcbiAgcGF5bWVudFJlY292ZXJ5U2V0cyxcbikgPT4ge1xuICBjb25zdCBhbW91bnRTaGFwZSA9IGJyYW5kLmdldEFtb3VudFNoYXBlKCk7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgeyBwcm92aWRlTm90aWZpZXIsIHVwZGF0ZTogdXBkYXRlQmFsYW5jZSB9ID0gbWFrZVRyYW5zaWVudE5vdGlmaWVyS2l0KCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWF5YmVSZWNvdmVyeVNldCA9IHN0YXRlID0+IHtcbiAgICBjb25zdCB7IHJlY292ZXJ5U2V0IH0gPSBzdGF0ZTtcbiAgICBpZiAocmVjb3ZlcnlTZXRzU3RhdGUgPT09ICdoYXNSZWNvdmVyeVNldHMnKSB7XG4gICAgICByZXR1cm4gcmVjb3ZlcnlTZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY292ZXJ5U2V0c1N0YXRlID09PSAnbm9SZWNvdmVyeVNldHMnIHx8XG4gICAgICAgIEZhaWxgcmVjb3ZlclNldHNTdGF0ZSBtdXN0IGJlIG5vUmVjb3ZlcnlTZXRzIGlmIGl0IGlzbid0IGhhc1JlY292ZXJTZXRzYDtcbiAgICAgIHBheW1lbnRSZWNvdmVyeVNldHMgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBGYWlsYHBheW1lbnRSZWNvdmVyeVNldHMgbXVzdCBhbHdheXMgYmUgZGVmaW5lZGA7XG4gICAgICByZWNvdmVyeVNldC5nZXRTaXplKCkgPT09IDAgfHxcbiAgICAgICAgRmFpbGBXaXRoIG5vUmVjb3ZlcnlTZXRzLCByZWNvdmVyeVNldCBtdXN0IGJlIGVtcHR5YDtcblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgeyBkZXBvc2l0SW50ZXJuYWwsIHdpdGhkcmF3SW50ZXJuYWwgfSA9IHB1cnNlTWV0aG9kcztcbiAgY29uc3QgbWFrZVB1cnNlS2l0ID0gaXNzdWVyWm9uZS5leG9DbGFzc0tpdChcbiAgICBgJHtuYW1lfSBQdXJzZWAsXG4gICAgUHVyc2VJS2l0LFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRCYWxhbmNlID0gQW1vdW50TWF0aC5tYWtlRW1wdHkoYnJhbmQsIGFzc2V0S2luZCk7XG5cbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCByZWNvdmVyeVNldCA9IGlzc3VlclpvbmUuZGV0YWNoZWQoKS5zZXRTdG9yZSgncmVjb3Zlcnkgc2V0Jyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRCYWxhbmNlLFxuICAgICAgICByZWNvdmVyeVNldCxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICBwdXJzZToge1xuICAgICAgICBkZXBvc2l0KHNyY1BheW1lbnQsIG9wdEFtb3VudFNoYXBlID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyBwdXJzZSB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgY29uc3QgYmFsYW5jZVN0b3JlID0gbWFrZUFtb3VudFN0b3JlKHN0YXRlLCAnY3VycmVudEJhbGFuY2UnKTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHNyY1BheW1lbnRCYWxhbmNlID0gZGVwb3NpdEludGVybmFsKFxuICAgICAgICAgICAgYmFsYW5jZVN0b3JlLFxuICAgICAgICAgICAgc3JjUGF5bWVudCxcbiAgICAgICAgICAgIG9wdEFtb3VudFNoYXBlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlQmFsYW5jZShwdXJzZSwgYmFsYW5jZVN0b3JlLmdldEFtb3VudCgpKTtcbiAgICAgICAgICByZXR1cm4gc3JjUGF5bWVudEJhbGFuY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHdpdGhkcmF3KGFtb3VudCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyBwdXJzZSB9ID0gdGhpcy5mYWNldHM7XG5cbiAgICAgICAgICBjb25zdCBvcHRSZWNvdmVyeVNldCA9IG1heWJlUmVjb3ZlcnlTZXQoc3RhdGUpO1xuICAgICAgICAgIGNvbnN0IGJhbGFuY2VTdG9yZSA9IG1ha2VBbW91bnRTdG9yZShzdGF0ZSwgJ2N1cnJlbnRCYWxhbmNlJyk7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBwYXltZW50ID0gd2l0aGRyYXdJbnRlcm5hbChcbiAgICAgICAgICAgIGJhbGFuY2VTdG9yZSxcbiAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgIG9wdFJlY292ZXJ5U2V0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlQmFsYW5jZShwdXJzZSwgYmFsYW5jZVN0b3JlLmdldEFtb3VudCgpKTtcbiAgICAgICAgICByZXR1cm4gcGF5bWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3VycmVudEFtb3VudCgpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgIGNvbnN0IGJhbGFuY2VTdG9yZSA9IG1ha2VBbW91bnRTdG9yZShzdGF0ZSwgJ2N1cnJlbnRCYWxhbmNlJyk7XG4gICAgICAgICAgcmV0dXJuIGJhbGFuY2VTdG9yZS5nZXRBbW91bnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3VycmVudEFtb3VudE5vdGlmaWVyKCkge1xuICAgICAgICAgIHJldHVybiBwcm92aWRlTm90aWZpZXIodGhpcy5mYWNldHMucHVyc2UpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRBbGxlZ2VkQnJhbmQoKSB7XG4gICAgICAgICAgcmV0dXJuIGJyYW5kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldERlcG9zaXRGYWNldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMuZGVwb3NpdEZhY2V0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFJlY292ZXJ5U2V0KCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3Qgb3B0UmVjb3ZlcnlTZXQgPSBtYXliZVJlY292ZXJ5U2V0KHN0YXRlKTtcbiAgICAgICAgICBpZiAob3B0UmVjb3ZlcnlTZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0NPUFlfU0VUO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3B0UmVjb3ZlcnlTZXQuc25hcHNob3QoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjb3ZlckFsbCgpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgbGV0IGFtb3VudCA9IEFtb3VudE1hdGgubWFrZUVtcHR5KGJyYW5kLCBhc3NldEtpbmQpO1xuICAgICAgICAgIGNvbnN0IG9wdFJlY292ZXJ5U2V0ID0gbWF5YmVSZWNvdmVyeVNldChzdGF0ZSk7XG4gICAgICAgICAgaWYgKG9wdFJlY292ZXJ5U2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhbW91bnQ7IC8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgcGF5bWVudCBvZiBvcHRSZWNvdmVyeVNldC5rZXlzKCkpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBmYWNldHMucHVyc2UuZGVwb3NpdChwYXltZW50KTtcbiAgICAgICAgICAgIGFtb3VudCA9IEFtb3VudE1hdGguYWRkKGFtb3VudCwgZGVsdGEsIGJyYW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3B0UmVjb3ZlcnlTZXQuZ2V0U2l6ZSgpID09PSAwIHx8XG4gICAgICAgICAgICBGYWlsYGludGVybmFsOiBSZW1haW5pbmcgdW5yZWNvdmVyZWQgcGF5bWVudHM6ICR7ZmFjZXRzLnB1cnNlLmdldFJlY292ZXJ5U2V0KCl9YDtcbiAgICAgICAgICByZXR1cm4gYW1vdW50O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGRlcG9zaXRGYWNldDoge1xuICAgICAgICByZWNlaXZlKC4uLmFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMucHVyc2UuZGVwb3NpdCguLi5hcmdzKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzdGF0ZVNoYXBlOiB7XG4gICAgICAgIGN1cnJlbnRCYWxhbmNlOiBhbW91bnRTaGFwZSxcbiAgICAgICAgcmVjb3ZlcnlTZXQ6IE0ucmVtb3RhYmxlKCdyZWNvdmVyeVNldCcpLFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuICByZXR1cm4gKCkgPT4gbWFrZVB1cnNlS2l0KCkucHVyc2U7XG59OyRozY9fb25jZS5wcmVwYXJlUHVyc2VLaW5kKHByZXBhcmVQdXJzZUtpbmQpO1xuaGFyZGVuKHByZXBhcmVQdXJzZUtpbmQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVB1cnNlS2luZCI6WyJwcmVwYXJlUHVyc2VLaW5kIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAIkTInFgLQAAYC0AACEAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvcmF0aW8uanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL25hdCIsIi4vYW1vdW50TWF0aC5qcyIsIi4vc2FmZU1hdGguanMiXSwiZXhwb3J0cyI6WyJhZGRSYXRpb3MiLCJhc3NlcnRJc1JhdGlvIiwiYXNzZXJ0UGFyc2FibGVOdW1iZXIiLCJjZWlsRGl2aWRlQnkiLCJjZWlsTXVsdGlwbHlCeSIsImRpdmlkZUJ5IiwiZmxvb3JEaXZpZGVCeSIsImZsb29yTXVsdGlwbHlCeSIsImludmVydFJhdGlvIiwibWFrZVJhdGlvIiwibWFrZVJhdGlvRnJvbUFtb3VudHMiLCJtdWx0aXBseUJ5IiwibXVsdGlwbHlSYXRpb3MiLCJvbmVNaW51cyIsInBhcnNlUmF0aW8iLCJxdWFudGl6ZSIsInJhdGlvR1RFIiwicmF0aW9Ub051bWJlciIsInJhdGlvc1NhbWUiLCJzdWJ0cmFjdFJhdGlvcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFpbCxhc3NlcnRSZWNvcmQsaXNOYXQsQW1vdW50TWF0aCxuYXRTYWZlTWF0aDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRSZWNvcmRcIixbJGjNj19hID0+IChhc3NlcnRSZWNvcmQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9uYXRcIiwgW1tcImlzTmF0XCIsWyRozY9fYSA9PiAoaXNOYXQgPSAkaM2PX2EpXV1dXSxbXCIuL2Ftb3VudE1hdGguanNcIiwgW1tcIkFtb3VudE1hdGhcIixbJGjNj19hID0+IChBbW91bnRNYXRoID0gJGjNj19hKV1dXV0sW1wiLi9zYWZlTWF0aC5qc1wiLCBbW1wibmF0U2FmZU1hdGhcIixbJGjNj19hID0+IChuYXRTYWZlTWF0aCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgeyBtdWx0aXBseSwgZmxvb3JEaXZpZGUsIGNlaWxEaXZpZGUsIGJhbmtlcnNEaXZpZGUsIGFkZCwgc3VidHJhY3QgfSA9XG4gIG5hdFNhZmVNYXRoO1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbmNvbnN0IFBFUkNFTlQgPSAxMDBuO1xuXG5jb25zdCByYXRpb1Byb3BlcnR5TmFtZXMgPSBbJ251bWVyYXRvcicsICdkZW5vbWluYXRvciddO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0SXNSYXRpbyA9IHJhdGlvID0+IHtcbiAgYXNzZXJ0UmVjb3JkKHJhdGlvLCAncmF0aW8nKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJhdGlvKTtcbiAga2V5cy5sZW5ndGggPT09IDIgfHwgRmFpbGBSYXRpbyAke3JhdGlvfSBtdXN0IGJlIGEgcmVjb3JkIHdpdGggMiBmaWVsZHMuYDtcbiAgZm9yIChjb25zdCBuYW1lIG9mIGtleXMpIHtcbiAgICByYXRpb1Byb3BlcnR5TmFtZXMuaW5jbHVkZXMobmFtZSkgfHxcbiAgICAgIEZhaWxgUGFyYW1ldGVyIG11c3QgYmUgYSBSYXRpbyByZWNvcmQsIGJ1dCAke3JhdGlvfSBoYXMgJHtxKG5hbWUpfWA7XG4gIH1cbiAgY29uc3QgbnVtZXJhdG9yVmFsdWUgPSByYXRpby5udW1lcmF0b3IudmFsdWU7XG4gIGNvbnN0IGRlbm9taW5hdG9yVmFsdWUgPSByYXRpby5kZW5vbWluYXRvci52YWx1ZTtcbiAgaXNOYXQobnVtZXJhdG9yVmFsdWUpIHx8XG4gICAgRmFpbGBUaGUgbnVtZXJhdG9yIHZhbHVlIG11c3QgYmUgYSBOYXRWYWx1ZSwgbm90ICR7bnVtZXJhdG9yVmFsdWV9YDtcbiAgaXNOYXQoZGVub21pbmF0b3JWYWx1ZSkgfHxcbiAgICBGYWlsYFRoZSBkZW5vbWluYXRvciB2YWx1ZSBtdXN0IGJlIGEgTmF0VmFsdWUsIG5vdCAke2Rlbm9taW5hdG9yVmFsdWV9YDtcbn07XG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLmFzc2VydElzUmF0aW8oYXNzZXJ0SXNSYXRpbyk7XG4gICAgICAgY29uc3QgbWFrZVJhdGlvID0gKFxuICBudW1lcmF0b3IsXG4gIG51bWVyYXRvckJyYW5kLFxuICBkZW5vbWluYXRvciA9IFBFUkNFTlQsXG4gIGRlbm9taW5hdG9yQnJhbmQgPSBudW1lcmF0b3JCcmFuZCxcbikgPT4ge1xuICBkZW5vbWluYXRvciA+IDBuIHx8XG4gICAgRmFpbGBObyBpbmZpbml0ZSByYXRpb3MhIERlbm9taW5hdG9yIHdhcyAwICR7cShkZW5vbWluYXRvckJyYW5kKX1gO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIG51bWVyYXRvcjogQW1vdW50TWF0aC5tYWtlKG51bWVyYXRvckJyYW5kLCBudW1lcmF0b3IpLFxuICAgIGRlbm9taW5hdG9yOiBBbW91bnRNYXRoLm1ha2UoZGVub21pbmF0b3JCcmFuZCwgZGVub21pbmF0b3IpLFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZVJhdGlvKG1ha2VSYXRpbyk7XG4gICAgICAgY29uc3QgbWFrZVJhdGlvRnJvbUFtb3VudHMgPSAobnVtZXJhdG9yQW1vdW50LCBkZW5vbWluYXRvckFtb3VudCkgPT4ge1xuICBBbW91bnRNYXRoLmNvZXJjZShudW1lcmF0b3JBbW91bnQuYnJhbmQsIG51bWVyYXRvckFtb3VudCk7XG4gIEFtb3VudE1hdGguY29lcmNlKGRlbm9taW5hdG9yQW1vdW50LmJyYW5kLCBkZW5vbWluYXRvckFtb3VudCk7XG4gIHJldHVybiBtYWtlUmF0aW8oXG4gICAgLy9cbiAgICBudW1lcmF0b3JBbW91bnQudmFsdWUsXG4gICAgbnVtZXJhdG9yQW1vdW50LmJyYW5kLFxuICAgIGRlbm9taW5hdG9yQW1vdW50LnZhbHVlLFxuICAgIGRlbm9taW5hdG9yQW1vdW50LmJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VSYXRpb0Zyb21BbW91bnRzKG1ha2VSYXRpb0Zyb21BbW91bnRzKTtcbmNvbnN0IG11bHRpcGx5SGVscGVyID0gKGFtb3VudCwgcmF0aW8sIGRpdmlkZU9wKSA9PiB7XG4gIEFtb3VudE1hdGguY29lcmNlKGFtb3VudC5icmFuZCwgYW1vdW50KTtcbiAgYXNzZXJ0SXNSYXRpbyhyYXRpbyk7XG4gIGFtb3VudC5icmFuZCA9PT0gcmF0aW8uZGVub21pbmF0b3IuYnJhbmQgfHxcbiAgICBGYWlsYGFtb3VudCdzIGJyYW5kICR7cShhbW91bnQuYnJhbmQpfSBtdXN0IG1hdGNoIHJhdGlvJ3MgZGVub21pbmF0b3IgJHtxKFxuICAgICAgcmF0aW8uZGVub21pbmF0b3IuYnJhbmQsXG4gICAgKX1gO1xuXG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBBbW91bnRNYXRoLm1ha2UoXG4gICAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICAgICBkaXZpZGVPcChcbiAgICAgICAgbXVsdGlwbHkoYW1vdW50LnZhbHVlLCByYXRpby5udW1lcmF0b3IudmFsdWUpLFxuICAgICAgICByYXRpby5kZW5vbWluYXRvci52YWx1ZSxcbiAgICAgICksXG4gICAgKVxuICApO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBmbG9vck11bHRpcGx5QnkgPSAoYW1vdW50LCByYXRpbykgPT4ge1xuICByZXR1cm4gbXVsdGlwbHlIZWxwZXIoYW1vdW50LCByYXRpbywgZmxvb3JEaXZpZGUpO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuZmxvb3JNdWx0aXBseUJ5KGZsb29yTXVsdGlwbHlCeSk7XG4gICAgICAgY29uc3QgY2VpbE11bHRpcGx5QnkgPSAoYW1vdW50LCByYXRpbykgPT4ge1xuICByZXR1cm4gbXVsdGlwbHlIZWxwZXIoYW1vdW50LCByYXRpbywgY2VpbERpdmlkZSk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5jZWlsTXVsdGlwbHlCeShjZWlsTXVsdGlwbHlCeSk7XG4gICAgICAgY29uc3QgbXVsdGlwbHlCeSA9IChhbW91bnQsIHJhdGlvKSA9PiB7XG4gIHJldHVybiBtdWx0aXBseUhlbHBlcihhbW91bnQsIHJhdGlvLCBiYW5rZXJzRGl2aWRlKTtcbn07XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5tdWx0aXBseUJ5KG11bHRpcGx5QnkpO1xuY29uc3QgZGl2aWRlSGVscGVyID0gKGFtb3VudCwgcmF0aW8sIGRpdmlkZU9wKSA9PiB7XG4gIEFtb3VudE1hdGguY29lcmNlKGFtb3VudC5icmFuZCwgYW1vdW50KTtcbiAgYXNzZXJ0SXNSYXRpbyhyYXRpbyk7XG4gIGFtb3VudC5icmFuZCA9PT0gcmF0aW8ubnVtZXJhdG9yLmJyYW5kIHx8XG4gICAgRmFpbGBhbW91bnQncyBicmFuZCAke3EoYW1vdW50LmJyYW5kKX0gbXVzdCBtYXRjaCByYXRpbydzIG51bWVyYXRvciAke3EoXG4gICAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICAgKX1gO1xuXG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBBbW91bnRNYXRoLm1ha2UoXG4gICAgICByYXRpby5kZW5vbWluYXRvci5icmFuZCxcbiAgICAgIGRpdmlkZU9wKFxuICAgICAgICBtdWx0aXBseShhbW91bnQudmFsdWUsIHJhdGlvLmRlbm9taW5hdG9yLnZhbHVlKSxcbiAgICAgICAgcmF0aW8ubnVtZXJhdG9yLnZhbHVlLFxuICAgICAgKSxcbiAgICApXG4gICk7XG59O1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgZmxvb3JEaXZpZGVCeSA9IChhbW91bnQsIHJhdGlvKSA9PiB7XG4gIHJldHVybiBkaXZpZGVIZWxwZXIoYW1vdW50LCByYXRpbywgZmxvb3JEaXZpZGUpO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5mbG9vckRpdmlkZUJ5KGZsb29yRGl2aWRlQnkpO1xuICAgICAgIGNvbnN0IGNlaWxEaXZpZGVCeSA9IChhbW91bnQsIHJhdGlvKSA9PiB7XG4gIHJldHVybiBkaXZpZGVIZWxwZXIoYW1vdW50LCByYXRpbywgY2VpbERpdmlkZSk7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuY2VpbERpdmlkZUJ5KGNlaWxEaXZpZGVCeSk7XG4gICAgICAgY29uc3QgZGl2aWRlQnkgPSAoYW1vdW50LCByYXRpbykgPT4ge1xuICByZXR1cm4gZGl2aWRlSGVscGVyKGFtb3VudCwgcmF0aW8sIGJhbmtlcnNEaXZpZGUpO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuZGl2aWRlQnkoZGl2aWRlQnkpO1xuICAgICAgIGNvbnN0IGludmVydFJhdGlvID0gcmF0aW8gPT4ge1xuICBhc3NlcnRJc1JhdGlvKHJhdGlvKTtcblxuICByZXR1cm4gbWFrZVJhdGlvKFxuICAgIHJhdGlvLmRlbm9taW5hdG9yLnZhbHVlLFxuICAgIHJhdGlvLmRlbm9taW5hdG9yLmJyYW5kLFxuICAgIHJhdGlvLm51bWVyYXRvci52YWx1ZSxcbiAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICk7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmludmVydFJhdGlvKGludmVydFJhdGlvKTtcbiAgICAgICBjb25zdCBhZGRSYXRpb3MgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgYXNzZXJ0SXNSYXRpbyhyaWdodCk7XG4gIGFzc2VydElzUmF0aW8obGVmdCk7XG4gIGxlZnQubnVtZXJhdG9yLmJyYW5kID09PSByaWdodC5udW1lcmF0b3IuYnJhbmQgfHxcbiAgICBGYWlsYG51bWVyYXRvciBicmFuZHMgbXVzdCBtYXRjaDogJHtxKGxlZnQpfSAke3EocmlnaHQpfWA7XG4gIGxlZnQuZGVub21pbmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kIHx8XG4gICAgRmFpbGBkZW5vbWluYXRvciBicmFuZHMgbXVzdCBtYXRjaDogJHtxKGxlZnQpfSAke3EocmlnaHQpfWA7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgcmV0dXJuIG1ha2VSYXRpbyhcbiAgICBhZGQoXG4gICAgICBtdWx0aXBseShsZWZ0Lm51bWVyYXRvci52YWx1ZSwgcmlnaHQuZGVub21pbmF0b3IudmFsdWUpLCAvL1xuICAgICAgbXVsdGlwbHkobGVmdC5kZW5vbWluYXRvci52YWx1ZSwgcmlnaHQubnVtZXJhdG9yLnZhbHVlKSAgLy9cbiAgICApLCAvL1xuICAgIGxlZnQubnVtZXJhdG9yLmJyYW5kLFxuICAgIG11bHRpcGx5KGxlZnQuZGVub21pbmF0b3IudmFsdWUsIHJpZ2h0LmRlbm9taW5hdG9yLnZhbHVlKSwgLy9cbiAgICBsZWZ0LmRlbm9taW5hdG9yLmJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5hZGRSYXRpb3MoYWRkUmF0aW9zKTtcbiAgICAgICBjb25zdCBzdWJ0cmFjdFJhdGlvcyA9IChsZWZ0LCByaWdodCkgPT4ge1xuICBhc3NlcnRJc1JhdGlvKHJpZ2h0KTtcbiAgYXNzZXJ0SXNSYXRpbyhsZWZ0KTtcbiAgbGVmdC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0Lm51bWVyYXRvci5icmFuZCB8fFxuICAgIEZhaWxgbnVtZXJhdG9yIGJyYW5kcyBtdXN0IG1hdGNoOiAke3EobGVmdCl9ICR7cShyaWdodCl9YDtcbiAgbGVmdC5kZW5vbWluYXRvci5icmFuZCA9PT0gcmlnaHQuZGVub21pbmF0b3IuYnJhbmQgfHxcbiAgICBGYWlsYGRlbm9taW5hdG9yIGJyYW5kcyBtdXN0IG1hdGNoOiAke3EobGVmdCl9ICR7cShyaWdodCl9YDtcblxuICByZXR1cm4gbWFrZVJhdGlvKFxuICAgIHN1YnRyYWN0KFxuICAgICAgbXVsdGlwbHkobGVmdC5udW1lcmF0b3IudmFsdWUsIHJpZ2h0LmRlbm9taW5hdG9yLnZhbHVlKSwgLy9cbiAgICAgIG11bHRpcGx5KGxlZnQuZGVub21pbmF0b3IudmFsdWUsIHJpZ2h0Lm51bWVyYXRvci52YWx1ZSkgIC8vXG4gICAgKSwgLy9cbiAgICBsZWZ0Lm51bWVyYXRvci5icmFuZCxcbiAgICBtdWx0aXBseShsZWZ0LmRlbm9taW5hdG9yLnZhbHVlLCByaWdodC5kZW5vbWluYXRvci52YWx1ZSksIC8vXG4gICAgbGVmdC5kZW5vbWluYXRvci5icmFuZCxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2Uuc3VidHJhY3RSYXRpb3Moc3VidHJhY3RSYXRpb3MpO1xuICAgICAgIGNvbnN0IG11bHRpcGx5UmF0aW9zID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gIGFzc2VydElzUmF0aW8ocmlnaHQpO1xuICBhc3NlcnRJc1JhdGlvKGxlZnQpO1xuXG4gIGNvbnN0IGdldFJlbWFpbmluZ0JyYW5kcyA9ICgpID0+IHtcbiAgICAvL1xuICAgIGlmIChyaWdodC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kKSB7XG4gICAgICByZXR1cm4gW2xlZnQubnVtZXJhdG9yLmJyYW5kLCBsZWZ0LmRlbm9taW5hdG9yLmJyYW5kXTtcbiAgICB9XG4gICAgaWYgKHJpZ2h0Lm51bWVyYXRvci5icmFuZCA9PT0gbGVmdC5kZW5vbWluYXRvci5icmFuZCkge1xuICAgICAgcmV0dXJuIFtsZWZ0Lm51bWVyYXRvci5icmFuZCwgcmlnaHQuZGVub21pbmF0b3IuYnJhbmRdO1xuICAgIH1cbiAgICBpZiAobGVmdC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kKSB7XG4gICAgICByZXR1cm4gW3JpZ2h0Lm51bWVyYXRvci5icmFuZCwgbGVmdC5kZW5vbWluYXRvci5icmFuZF07XG4gICAgfVxuICAgIGlmIChsZWZ0Lm51bWVyYXRvci5icmFuZCA9PT0gbGVmdC5kZW5vbWluYXRvci5icmFuZCkge1xuICAgICAgcmV0dXJuIFtyaWdodC5udW1lcmF0b3IuYnJhbmQsIHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kXTtcbiAgICB9XG4gICAgdGhyb3cgRmFpbGBhdCBsZWFzdCBvbmUgYnJhbmQgbXVzdCBjYW5jZWwgb3V0OiAke3EobGVmdCl9ICR7cShyaWdodCl9YDtcbiAgfTtcblxuICBjb25zdCBbbnVtZXJhdG9yQnJhbmQsIGRlbm9taW5hdG9yQnJhbmRdID0gZ2V0UmVtYWluaW5nQnJhbmRzKCk7XG4gIHJldHVybiBtYWtlUmF0aW8oXG4gICAgbXVsdGlwbHkobGVmdC5udW1lcmF0b3IudmFsdWUsIHJpZ2h0Lm51bWVyYXRvci52YWx1ZSksXG4gICAgbnVtZXJhdG9yQnJhbmQsXG4gICAgbXVsdGlwbHkobGVmdC5kZW5vbWluYXRvci52YWx1ZSwgcmlnaHQuZGVub21pbmF0b3IudmFsdWUpLFxuICAgIGRlbm9taW5hdG9yQnJhbmQsXG4gICk7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UubXVsdGlwbHlSYXRpb3MobXVsdGlwbHlSYXRpb3MpO1xuICAgICAgIGNvbnN0IG9uZU1pbnVzID0gcmF0aW8gPT4ge1xuICBhc3NlcnRJc1JhdGlvKHJhdGlvKTtcbiAgcmF0aW8ubnVtZXJhdG9yLmJyYW5kID09PSByYXRpby5kZW5vbWluYXRvci5icmFuZCB8fFxuICAgIEZhaWxgb25lTWludXMgb25seSBzdXBwb3J0cyByYXRpb3Mgd2l0aCBhIHNpbmdsZSBicmFuZCwgYnV0ICR7cmF0aW8ubnVtZXJhdG9yLmJyYW5kfSBkb2Vzbid0IG1hdGNoICR7cmF0aW8uZGVub21pbmF0b3IuYnJhbmR9YDtcbiAgcmF0aW8ubnVtZXJhdG9yLnZhbHVlIDw9IHJhdGlvLmRlbm9taW5hdG9yLnZhbHVlIHx8XG4gICAgRmFpbGBQYXJhbWV0ZXIgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMTogJHtyYXRpby5udW1lcmF0b3IudmFsdWV9LyR7cmF0aW8uZGVub21pbmF0b3IudmFsdWV9YDtcbiAgcmV0dXJuIG1ha2VSYXRpbyhcbiAgICBzdWJ0cmFjdChyYXRpby5kZW5vbWluYXRvci52YWx1ZSwgcmF0aW8ubnVtZXJhdG9yLnZhbHVlKSxcbiAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICAgcmF0aW8uZGVub21pbmF0b3IudmFsdWUsXG4gICAgcmF0aW8ubnVtZXJhdG9yLmJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5vbmVNaW51cyhvbmVNaW51cyk7XG4gICAgICAgY29uc3QgcmF0aW9HVEUgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgaWYgKGxlZnQubnVtZXJhdG9yLmJyYW5kID09PSByaWdodC5udW1lcmF0b3IuYnJhbmQpIHtcbiAgICBsZWZ0LmRlbm9taW5hdG9yLmJyYW5kID09PSByaWdodC5kZW5vbWluYXRvci5icmFuZCB8fFxuICAgICAgRmFpbGBudW1lcmF0b3IgYnJhbmRzIG1hdGNoLCBidXQgZGVub21pbmF0b3IgYnJhbmRzIGRvbid0OiAke3EobGVmdCl9ICR7cShcbiAgICAgICAgcmlnaHQsXG4gICAgICApfWA7XG4gIH0gZWxzZSBpZiAobGVmdC5udW1lcmF0b3IuYnJhbmQgPT09IGxlZnQuZGVub21pbmF0b3IuYnJhbmQpIHtcbiAgICByaWdodC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kIHx8XG4gICAgICBGYWlsYGxlZnRoYW5kIGJyYW5kcyBtYXRjaCwgYnV0IHJpZ2h0aGFuZCBicmFuZHMgZG9uJ3Q6ICR7cShsZWZ0KX0gJHtxKFxuICAgICAgICByaWdodCxcbiAgICAgICl9YDtcbiAgfVxuICByZXR1cm4gbmF0U2FmZU1hdGguaXNHVEUoXG4gICAgbXVsdGlwbHkobGVmdC5udW1lcmF0b3IudmFsdWUsIHJpZ2h0LmRlbm9taW5hdG9yLnZhbHVlKSxcbiAgICBtdWx0aXBseShyaWdodC5udW1lcmF0b3IudmFsdWUsIGxlZnQuZGVub21pbmF0b3IudmFsdWUpLFxuICApO1xufTtcblxuLypcblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5yYXRpb0dURShyYXRpb0dURSk7XG4gICAgICAgY29uc3QgcmF0aW9zU2FtZSA9IChsZWZ0LCByaWdodCkgPT4ge1xuICByZXR1cm4gKFxuICAgIEFtb3VudE1hdGguaXNFcXVhbChsZWZ0Lm51bWVyYXRvciwgcmlnaHQubnVtZXJhdG9yKSAmJlxuICAgIEFtb3VudE1hdGguaXNFcXVhbChsZWZ0LmRlbm9taW5hdG9yLCByaWdodC5kZW5vbWluYXRvcilcbiAgKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5yYXRpb3NTYW1lKHJhdGlvc1NhbWUpO1xuICAgICAgIGNvbnN0IHF1YW50aXplID0gKHJhdGlvLCBuZXdEZW4pID0+IHtcbiAgY29uc3Qgb2xkRGVuID0gcmF0aW8uZGVub21pbmF0b3IudmFsdWU7XG4gIGNvbnN0IG9sZE51bSA9IHJhdGlvLm51bWVyYXRvci52YWx1ZTtcbiAgaWYgKG5ld0RlbiA+IG9sZERlbikge1xuICAgIHJldHVybiByYXRpbztcbiAgfVxuXG4gIGNvbnN0IG5ld051bSA9XG4gICAgbmV3RGVuID09PSBvbGREZW4gPyBvbGROdW0gOiBiYW5rZXJzRGl2aWRlKG9sZE51bSAqIG5ld0Rlbiwgb2xkRGVuKTtcbiAgcmV0dXJuIG1ha2VSYXRpbyhcbiAgICBuZXdOdW0sXG4gICAgcmF0aW8ubnVtZXJhdG9yLmJyYW5kLFxuICAgIG5ld0RlbixcbiAgICByYXRpby5kZW5vbWluYXRvci5icmFuZCxcbiAgKTtcbn07JGjNj19vbmNlLnF1YW50aXplKHF1YW50aXplKTtcblxuY29uc3QgTlVNRVJJQ19SRSA9IC9eKFxcZFxcZCopKD86XFwuKFxcZCopKT8kLztcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcGFyc2VSYXRpbyA9IChcbiAgbnVtZXJpYyxcbiAgbnVtZXJhdG9yQnJhbmQsXG4gIGRlbm9taW5hdG9yQnJhbmQgPSBudW1lcmF0b3JCcmFuZCxcbikgPT4ge1xuICBjb25zdCBtYXRjaCA9IGAke251bWVyaWN9YC5tYXRjaChOVU1FUklDX1JFKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IEZhaWxgSW52YWxpZCBudW1lcmljIGRhdGE6ICR7bnVtZXJpY31gO1xuICB9XG5cbiAgY29uc3QgW18sIHdob2xlLCBwYXJ0ID0gJyddID0gbWF0Y2g7XG4gIHJldHVybiBtYWtlUmF0aW8oXG4gICAgQmlnSW50KGAke3dob2xlfSR7cGFydH1gKSxcbiAgICBudW1lcmF0b3JCcmFuZCxcbiAgICAxMG4gKiogQmlnSW50KHBhcnQubGVuZ3RoKSxcbiAgICBkZW5vbWluYXRvckJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UucGFyc2VSYXRpbyhwYXJzZVJhdGlvKTtcbiAgICAgICBjb25zdCBhc3NlcnRQYXJzYWJsZU51bWJlciA9IHNwZWNpbWVuID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBgJHtzcGVjaW1lbn1gLm1hdGNoKE5VTUVSSUNfUkUpO1xuICBtYXRjaCB8fCBGYWlsYEludmFsaWQgbnVtZXJpYyBkYXRhOiAke3NwZWNpbWVufWA7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0UGFyc2FibGVOdW1iZXIoYXNzZXJ0UGFyc2FibGVOdW1iZXIpO1xuICAgICAgIGNvbnN0IHJhdGlvVG9OdW1iZXIgPSByYXRpbyA9PiB7XG4gIGNvbnN0IG4gPSBOdW1iZXIocmF0aW8ubnVtZXJhdG9yLnZhbHVlKTtcbiAgY29uc3QgZCA9IE51bWJlcihyYXRpby5kZW5vbWluYXRvci52YWx1ZSk7XG4gIHJldHVybiBuIC8gZDtcbn07JGjNj19vbmNlLnJhdGlvVG9OdW1iZXIocmF0aW9Ub051bWJlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhc3NlcnRJc1JhdGlvIjpbImFzc2VydElzUmF0aW8iXSwibWFrZVJhdGlvIjpbIm1ha2VSYXRpbyJdLCJtYWtlUmF0aW9Gcm9tQW1vdW50cyI6WyJtYWtlUmF0aW9Gcm9tQW1vdW50cyJdLCJmbG9vck11bHRpcGx5QnkiOlsiZmxvb3JNdWx0aXBseUJ5Il0sImNlaWxNdWx0aXBseUJ5IjpbImNlaWxNdWx0aXBseUJ5Il0sIm11bHRpcGx5QnkiOlsibXVsdGlwbHlCeSJdLCJmbG9vckRpdmlkZUJ5IjpbImZsb29yRGl2aWRlQnkiXSwiY2VpbERpdmlkZUJ5IjpbImNlaWxEaXZpZGVCeSJdLCJkaXZpZGVCeSI6WyJkaXZpZGVCeSJdLCJpbnZlcnRSYXRpbyI6WyJpbnZlcnRSYXRpbyJdLCJhZGRSYXRpb3MiOlsiYWRkUmF0aW9zIl0sInN1YnRyYWN0UmF0aW9zIjpbInN1YnRyYWN0UmF0aW9zIl0sIm11bHRpcGx5UmF0aW9zIjpbIm11bHRpcGx5UmF0aW9zIl0sIm9uZU1pbnVzIjpbIm9uZU1pbnVzIl0sInJhdGlvR1RFIjpbInJhdGlvR1RFIl0sInJhdGlvc1NhbWUiOlsicmF0aW9zU2FtZSJdLCJxdWFudGl6ZSI6WyJxdWFudGl6ZSJdLCJwYXJzZVJhdGlvIjpbInBhcnNlUmF0aW8iXSwiYXNzZXJ0UGFyc2FibGVOdW1iZXIiOlsiYXNzZXJ0UGFyc2FibGVOdW1iZXIiXSwicmF0aW9Ub051bWJlciI6WyJyYXRpb1RvTnVtYmVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAADW7UdqYBQAAmAUAACQAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvc2FmZU1hdGguanN7ImltcG9ydHMiOlsiQGVuZG8vbmF0Il0sImV4cG9ydHMiOlsibmF0U2FmZU1hdGgiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBOYXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9uYXRcIiwgW1tcIk5hdFwiLFskaM2PX2EgPT4gKE5hdCA9ICRozY9fYSldXV1dXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbmF0U2FmZU1hdGggPSBoYXJkZW4oe1xuICAvKiAgICAgICAgICAgICAgICAqL1xuICAvL1xuICBhZGQ6ICh4LCB5KSA9PiBOYXQoeCkgKyBOYXQoeSksXG4gIC8qICAgICAgICAgICAgICAgICovXG4gIHN1YnRyYWN0OiAoeCwgeSkgPT4gTmF0KE5hdCh4KSAtIE5hdCh5KSksXG4gIC8qICAgICAgICAgICAgICAgICovXG4gIG11bHRpcGx5OiAoeCwgeSkgPT4gTmF0KHgpICogTmF0KHkpLFxuICAvKiAgICAgICAgICAgICAgICAqL1xuICBmbG9vckRpdmlkZTogKHgsIHkpID0+IE5hdCh4KSAvIE5hdCh5KSxcbiAgLyogICAgICAgICAgICAgICAgKi9cbiAgY2VpbERpdmlkZTogKHgsIHkpID0+IHtcbiAgICB5ID0gTmF0KHkpO1xuICAgIHJldHVybiBOYXQoTmF0KHgpICsgeSAtIDFuKSAvIHk7XG4gIH0sXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGJhbmtlcnNEaXZpZGU6IChhLCBiKSA9PiB7XG4gICAgYSA9IE5hdChhKTtcbiAgICBiID0gTmF0KGIpO1xuXG4gICAgY29uc3QgZGl2ID0gYSAvIGI7XG4gICAgY29uc3QgcmVtID0gYSAlIGI7XG4gICAgLy9cbiAgICBpZiAocmVtICogMm4gPiBiKSB7XG4gICAgICByZXR1cm4gZGl2ICsgMW47XG4gICAgfSBlbHNlIGlmIChyZW0gKiAybiA9PT0gYikge1xuICAgICAgLy9cbiAgICAgIGlmIChkaXYgJSAybiA9PT0gMW4pIHJldHVybiBkaXYgKyAxbjtcbiAgICB9XG4gICAgcmV0dXJuIGRpdjtcbiAgfSxcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGlzR1RFOiAoeCwgeSkgPT4gTmF0KHgpID49IE5hdCh5KSxcbn0pOyRozY9fb25jZS5uYXRTYWZlTWF0aChuYXRTYWZlTWF0aCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJuYXRTYWZlTWF0aCI6WyJuYXRTYWZlTWF0aCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABNlMZDMgYAADIGAAAtAAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL3RyYW5zaWVudE5vdGlmaWVyLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvdmF0LWRhdGEiLCJAYWdvcmljL3N0b3JlIiwiQGFnb3JpYy9ub3RpZmllciJdLCJleHBvcnRzIjpbIm1ha2VUcmFuc2llbnROb3RpZmllcktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VTY2FsYXJCaWdXZWFrTWFwU3RvcmUscHJvdmlkZUxhenksbWFrZU5vdGlmaWVyS2l0OyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJCaWdXZWFrTWFwU3RvcmUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJwcm92aWRlTGF6eVwiLFskaM2PX2EgPT4gKHByb3ZpZGVMYXp5ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9ub3RpZmllclwiLCBbW1wibWFrZU5vdGlmaWVyS2l0XCIsWyRozY9fYSA9PiAobWFrZU5vdGlmaWVyS2l0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuLy9cbiAgICAgICBjb25zdCBtYWtlVHJhbnNpZW50Tm90aWZpZXJLaXQgPSAoKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgdHJhbnNpZW50Tm90aWZlcktpdHMgPSBtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlKFxuICAgICd0cmFuc2llbnROb3RpZmVyS2l0cycsXG4gICk7XG5cbiAgY29uc3QgcHJvdmlkZU5vdGlmaWVyS2l0ID0ga2V5ID0+XG4gICAgcHJvdmlkZUxhenkodHJhbnNpZW50Tm90aWZlcktpdHMsIGtleSwgKCkgPT5cbiAgICAgIG1ha2VOb3RpZmllcktpdChrZXkuZ2V0Q3VycmVudEFtb3VudCgpKSxcbiAgICApO1xuXG4gIGNvbnN0IHByb3ZpZGVOb3RpZmllciA9IGtleSA9PiBwcm92aWRlTm90aWZpZXJLaXQoa2V5KS5ub3RpZmllcjtcbiAgY29uc3QgdXBkYXRlID0gKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICBpZiAodHJhbnNpZW50Tm90aWZlcktpdHMuaGFzKGtleSkpIHtcbiAgICAgIGNvbnN0IHsgdXBkYXRlciB9ID0gdHJhbnNpZW50Tm90aWZlcktpdHMuZ2V0KGtleSk7XG4gICAgICB1cGRhdGVyLnVwZGF0ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHsgcHJvdmlkZU5vdGlmaWVyLCB1cGRhdGUgfTtcbn07JGjNj19vbmNlLm1ha2VUcmFuc2llbnROb3RpZmllcktpdChtYWtlVHJhbnNpZW50Tm90aWZpZXJLaXQpO1xuaGFyZGVuKG1ha2VUcmFuc2llbnROb3RpZmllcktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlVHJhbnNpZW50Tm90aWZpZXJLaXQiOlsibWFrZVRyYW5zaWVudE5vdGlmaWVyS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHAbIY50GgAAdBoAACYAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZUd1YXJkcy5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIkFtb3VudFBhdHRlcm5TaGFwZSIsIkFtb3VudFNoYXBlIiwiQXNzZXRLaW5kU2hhcGUiLCJCcmFuZEkiLCJCcmFuZFNoYXBlIiwiRGVwb3NpdEZhY2V0U2hhcGUiLCJEaXNwbGF5SW5mb1NoYXBlIiwiSXNzdWVyS2l0U2hhcGUiLCJJc3N1ZXJTaGFwZSIsIk1BWF9BQlNPTFVURV9ERUNJTUFMX1BMQUNFUyIsIk1pbnRTaGFwZSIsIk5vdGlmaWVyU2hhcGUiLCJQYXltZW50U2hhcGUiLCJQdXJzZVNoYXBlIiwiUmF0aW9TaGFwZSIsImlzQ29weUJhZ1ZhbHVlIiwiaXNDb3B5U2V0VmFsdWUiLCJpc05hdFZhbHVlIiwiaXNTZXRWYWx1ZSIsIm1ha2VJc3N1ZXJJbnRlcmZhY2VzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTSxtYXRjaGVzLGdldEludGVyZmFjZUd1YXJkUGF5bG9hZDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXSxbXCJnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWRcIixbJGjNj19hID0+IChnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cbi8qXG5cblxuXG4gKi9cblxuICAgICAgIGNvbnN0IEJyYW5kU2hhcGUgPSBNLnJlbW90YWJsZSgnQnJhbmQnKTskaM2PX29uY2UuQnJhbmRTaGFwZShCcmFuZFNoYXBlKTtcbiAgICAgICBjb25zdCBJc3N1ZXJTaGFwZSA9IE0ucmVtb3RhYmxlKCdJc3N1ZXInKTskaM2PX29uY2UuSXNzdWVyU2hhcGUoSXNzdWVyU2hhcGUpO1xuICAgICAgIGNvbnN0IFBheW1lbnRTaGFwZSA9IE0ucmVtb3RhYmxlKCdQYXltZW50Jyk7JGjNj19vbmNlLlBheW1lbnRTaGFwZShQYXltZW50U2hhcGUpO1xuICAgICAgIGNvbnN0IFB1cnNlU2hhcGUgPSBNLnJlbW90YWJsZSgnUHVyc2UnKTskaM2PX29uY2UuUHVyc2VTaGFwZShQdXJzZVNoYXBlKTtcbiAgICAgICBjb25zdCBEZXBvc2l0RmFjZXRTaGFwZSA9IE0ucmVtb3RhYmxlKCdEZXBvc2l0RmFjZXQnKTskaM2PX29uY2UuRGVwb3NpdEZhY2V0U2hhcGUoRGVwb3NpdEZhY2V0U2hhcGUpO1xuICAgICAgIGNvbnN0IE5vdGlmaWVyU2hhcGUgPSBNLnJlbW90YWJsZSgnTm90aWZpZXInKTskaM2PX29uY2UuTm90aWZpZXJTaGFwZShOb3RpZmllclNoYXBlKTtcbiAgICAgICBjb25zdCBNaW50U2hhcGUgPSBNLnJlbW90YWJsZSgnTWludCcpO1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuTWludFNoYXBlKE1pbnRTaGFwZSk7XG5jb25zdCBOYXRWYWx1ZVNoYXBlID0gTS5uYXQoKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IENvcHlTZXRWYWx1ZVNoYXBlID0gTS5zZXQoKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IFNldFZhbHVlU2hhcGUgPSBNLmFycmF5T2YoTS5rZXkoKSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IENvcHlCYWdWYWx1ZVNoYXBlID0gTS5iYWcoKTtcblxuY29uc3QgQW1vdW50VmFsdWVTaGFwZSA9IE0ub3IoXG4gIE5hdFZhbHVlU2hhcGUsXG4gIENvcHlTZXRWYWx1ZVNoYXBlLFxuICBTZXRWYWx1ZVNoYXBlLFxuICBDb3B5QmFnVmFsdWVTaGFwZSxcbik7XG5cbiAgICAgICBjb25zdCBBbW91bnRTaGFwZSA9IHsgYnJhbmQ6IEJyYW5kU2hhcGUsIHZhbHVlOiBBbW91bnRWYWx1ZVNoYXBlIH07JGjNj19vbmNlLkFtb3VudFNoYXBlKEFtb3VudFNoYXBlKTtcbmhhcmRlbihBbW91bnRTaGFwZSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBBbW91bnRQYXR0ZXJuU2hhcGUgPSBNLnBhdHRlcm4oKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5BbW91bnRQYXR0ZXJuU2hhcGUoQW1vdW50UGF0dGVyblNoYXBlKTtcbiAgICAgICBjb25zdCBSYXRpb1NoYXBlID0geyBudW1lcmF0b3I6IEFtb3VudFNoYXBlLCBkZW5vbWluYXRvcjogQW1vdW50U2hhcGUgfTskaM2PX29uY2UuUmF0aW9TaGFwZShSYXRpb1NoYXBlKTtcbmhhcmRlbihSYXRpb1NoYXBlKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNOYXRWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIE5hdFZhbHVlU2hhcGUpOyRozY9fb25jZS5pc05hdFZhbHVlKGlzTmF0VmFsdWUpO1xuaGFyZGVuKGlzTmF0VmFsdWUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NvcHlTZXRWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIENvcHlTZXRWYWx1ZVNoYXBlKTskaM2PX29uY2UuaXNDb3B5U2V0VmFsdWUoaXNDb3B5U2V0VmFsdWUpO1xuaGFyZGVuKGlzQ29weVNldFZhbHVlKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNTZXRWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIFNldFZhbHVlU2hhcGUpOyRozY9fb25jZS5pc1NldFZhbHVlKGlzU2V0VmFsdWUpO1xuaGFyZGVuKGlzU2V0VmFsdWUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NvcHlCYWdWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIENvcHlCYWdWYWx1ZVNoYXBlKTskaM2PX29uY2UuaXNDb3B5QmFnVmFsdWUoaXNDb3B5QmFnVmFsdWUpO1xuaGFyZGVuKGlzQ29weUJhZ1ZhbHVlKTtcblxuLy9cbiAgICAgICBjb25zdCBNQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMgPSAxMDA7JGjNj19vbmNlLk1BWF9BQlNPTFVURV9ERUNJTUFMX1BMQUNFUyhNQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMpO1xuXG4gICAgICAgY29uc3QgQXNzZXRLaW5kU2hhcGUgPSBNLm9yKCduYXQnLCAnc2V0JywgJ2NvcHlTZXQnLCAnY29weUJhZycpOyRozY9fb25jZS5Bc3NldEtpbmRTaGFwZShBc3NldEtpbmRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBEaXNwbGF5SW5mb1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge30sXG4gIHtcbiAgICBkZWNpbWFsUGxhY2VzOiBNLmFuZChcbiAgICAgIE0uZ3RlKC1NQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMpLFxuICAgICAgTS5sdGUoTUFYX0FCU09MVVRFX0RFQ0lNQUxfUExBQ0VTKSxcbiAgICApLFxuICAgIGFzc2V0S2luZDogQXNzZXRLaW5kU2hhcGUsXG4gIH0sXG4gIHtcbiAgICAvL1xuICAgIC8vXG4gIH0sXG4pOyRozY9fb25jZS5EaXNwbGF5SW5mb1NoYXBlKERpc3BsYXlJbmZvU2hhcGUpO1xuXG4gICAgICAgY29uc3QgSXNzdWVyS2l0U2hhcGUgPSB7XG4gIGJyYW5kOiBCcmFuZFNoYXBlLFxuICBtaW50OiBNaW50U2hhcGUsXG4gIG1pbnRSZWNvdmVyeVB1cnNlOiBQdXJzZVNoYXBlLFxuICBpc3N1ZXI6IElzc3VlclNoYXBlLFxuICBkaXNwbGF5SW5mbzogRGlzcGxheUluZm9TaGFwZSxcbn07JGjNj19vbmNlLklzc3VlcktpdFNoYXBlKElzc3VlcktpdFNoYXBlKTtcbmhhcmRlbihJc3N1ZXJLaXRTaGFwZSk7XG5cbi8vXG5cbiAgICAgICBjb25zdCBCcmFuZEkgPSBNLmludGVyZmFjZSgnQnJhbmQnLCB7XG4gIGlzTXlJc3N1ZXI6IE0uY2FsbFdoZW4oTS5hd2FpdChJc3N1ZXJTaGFwZSkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICBnZXRBbGxlZ2VkTmFtZTogTS5jYWxsKCkucmV0dXJucyhNLnN0cmluZygpKSxcbiAgZ2V0RGlzcGxheUluZm86IE0uY2FsbCgpLnJldHVybnMoRGlzcGxheUluZm9TaGFwZSksXG4gIGdldEFtb3VudFNoYXBlOiBNLmNhbGwoKS5yZXR1cm5zKE0ucGF0dGVybigpKSxcbn0pO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkJyYW5kSShCcmFuZEkpO1xuICAgICAgIGNvbnN0IG1ha2VJc3N1ZXJJbnRlcmZhY2VzID0gKFxuICBicmFuZFNoYXBlID0gQnJhbmRTaGFwZSxcbiAgYXNzZXRLaW5kU2hhcGUgPSBBc3NldEtpbmRTaGFwZSxcbiAgYW1vdW50U2hhcGUgPSBBbW91bnRTaGFwZSxcbikgPT4ge1xuICBjb25zdCBJc3N1ZXJJID0gTS5pbnRlcmZhY2UoJ0lzc3VlcicsIHtcbiAgICBnZXRCcmFuZDogTS5jYWxsKCkucmV0dXJucyhicmFuZFNoYXBlKSxcbiAgICBnZXRBbGxlZ2VkTmFtZTogTS5jYWxsKCkucmV0dXJucyhNLnN0cmluZygpKSxcbiAgICBnZXRBc3NldEtpbmQ6IE0uY2FsbCgpLnJldHVybnMoYXNzZXRLaW5kU2hhcGUpLFxuICAgIGdldERpc3BsYXlJbmZvOiBNLmNhbGwoKS5yZXR1cm5zKERpc3BsYXlJbmZvU2hhcGUpLFxuICAgIG1ha2VFbXB0eVB1cnNlOiBNLmNhbGwoKS5yZXR1cm5zKFB1cnNlU2hhcGUpLFxuXG4gICAgaXNMaXZlOiBNLmNhbGxXaGVuKE0uYXdhaXQoUGF5bWVudFNoYXBlKSkucmV0dXJucyhNLmJvb2xlYW4oKSksXG4gICAgZ2V0QW1vdW50T2Y6IE0uY2FsbFdoZW4oTS5hd2FpdChQYXltZW50U2hhcGUpKS5yZXR1cm5zKGFtb3VudFNoYXBlKSxcbiAgICBidXJuOiBNLmNhbGxXaGVuKE0uYXdhaXQoUGF5bWVudFNoYXBlKSlcbiAgICAgIC5vcHRpb25hbChBbW91bnRQYXR0ZXJuU2hhcGUpXG4gICAgICAucmV0dXJucyhhbW91bnRTaGFwZSksXG4gIH0pO1xuXG4gIGNvbnN0IE1pbnRJID0gTS5pbnRlcmZhY2UoJ01pbnQnLCB7XG4gICAgZ2V0SXNzdWVyOiBNLmNhbGwoKS5yZXR1cm5zKElzc3VlclNoYXBlKSxcbiAgICBtaW50UGF5bWVudDogTS5jYWxsKGFtb3VudFNoYXBlKS5yZXR1cm5zKFBheW1lbnRTaGFwZSksXG4gIH0pO1xuXG4gIGNvbnN0IFBheW1lbnRJID0gTS5pbnRlcmZhY2UoJ1BheW1lbnQnLCB7XG4gICAgZ2V0QWxsZWdlZEJyYW5kOiBNLmNhbGwoKS5yZXR1cm5zKGJyYW5kU2hhcGUpLFxuICB9KTtcblxuICBjb25zdCBQdXJzZUkgPSBNLmludGVyZmFjZSgnUHVyc2UnLCB7XG4gICAgZ2V0QWxsZWdlZEJyYW5kOiBNLmNhbGwoKS5yZXR1cm5zKGJyYW5kU2hhcGUpLFxuICAgIGdldEN1cnJlbnRBbW91bnQ6IE0uY2FsbCgpLnJldHVybnMoYW1vdW50U2hhcGUpLFxuICAgIGdldEN1cnJlbnRBbW91bnROb3RpZmllcjogTS5jYWxsKCkucmV0dXJucyhOb3RpZmllclNoYXBlKSxcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGRlcG9zaXQ6IE0uY2FsbChQYXltZW50U2hhcGUpXG4gICAgICAub3B0aW9uYWwoQW1vdW50UGF0dGVyblNoYXBlKVxuICAgICAgLnJldHVybnMoYW1vdW50U2hhcGUpLFxuICAgIGdldERlcG9zaXRGYWNldDogTS5jYWxsKCkucmV0dXJucyhEZXBvc2l0RmFjZXRTaGFwZSksXG4gICAgd2l0aGRyYXc6IE0uY2FsbChhbW91bnRTaGFwZSkucmV0dXJucyhQYXltZW50U2hhcGUpLFxuICAgIGdldFJlY292ZXJ5U2V0OiBNLmNhbGwoKS5yZXR1cm5zKE0uc2V0T2YoUGF5bWVudFNoYXBlKSksXG4gICAgcmVjb3ZlckFsbDogTS5jYWxsKCkucmV0dXJucyhhbW91bnRTaGFwZSksXG4gIH0pO1xuXG4gIGNvbnN0IERlcG9zaXRGYWNldEkgPSBNLmludGVyZmFjZSgnRGVwb3NpdEZhY2V0Jywge1xuICAgIHJlY2VpdmU6IGdldEludGVyZmFjZUd1YXJkUGF5bG9hZChQdXJzZUkpLm1ldGhvZEd1YXJkcy5kZXBvc2l0LFxuICB9KTtcblxuICBjb25zdCBQdXJzZUlLaXQgPSB7XG4gICAgcHVyc2U6IFB1cnNlSSxcbiAgICBkZXBvc2l0RmFjZXQ6IERlcG9zaXRGYWNldEksXG4gIH07XG4gIGhhcmRlbihQdXJzZUlLaXQpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIElzc3VlckksXG4gICAgTWludEksXG4gICAgUGF5bWVudEksXG4gICAgUHVyc2VJS2l0LFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VJc3N1ZXJJbnRlcmZhY2VzKG1ha2VJc3N1ZXJJbnRlcmZhY2VzKTtcbmhhcmRlbihtYWtlSXNzdWVySW50ZXJmYWNlcyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJCcmFuZFNoYXBlIjpbIkJyYW5kU2hhcGUiXSwiSXNzdWVyU2hhcGUiOlsiSXNzdWVyU2hhcGUiXSwiUGF5bWVudFNoYXBlIjpbIlBheW1lbnRTaGFwZSJdLCJQdXJzZVNoYXBlIjpbIlB1cnNlU2hhcGUiXSwiRGVwb3NpdEZhY2V0U2hhcGUiOlsiRGVwb3NpdEZhY2V0U2hhcGUiXSwiTm90aWZpZXJTaGFwZSI6WyJOb3RpZmllclNoYXBlIl0sIk1pbnRTaGFwZSI6WyJNaW50U2hhcGUiXSwiQW1vdW50U2hhcGUiOlsiQW1vdW50U2hhcGUiXSwiQW1vdW50UGF0dGVyblNoYXBlIjpbIkFtb3VudFBhdHRlcm5TaGFwZSJdLCJSYXRpb1NoYXBlIjpbIlJhdGlvU2hhcGUiXSwiaXNOYXRWYWx1ZSI6WyJpc05hdFZhbHVlIl0sImlzQ29weVNldFZhbHVlIjpbImlzQ29weVNldFZhbHVlIl0sImlzU2V0VmFsdWUiOlsiaXNTZXRWYWx1ZSJdLCJpc0NvcHlCYWdWYWx1ZSI6WyJpc0NvcHlCYWdWYWx1ZSJdLCJNQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMiOlsiTUFYX0FCU09MVVRFX0RFQ0lNQUxfUExBQ0VTIl0sIkFzc2V0S2luZFNoYXBlIjpbIkFzc2V0S2luZFNoYXBlIl0sIkRpc3BsYXlJbmZvU2hhcGUiOlsiRGlzcGxheUluZm9TaGFwZSJdLCJJc3N1ZXJLaXRTaGFwZSI6WyJJc3N1ZXJLaXRTaGFwZSJdLCJCcmFuZEkiOlsiQnJhbmRJIl0sIm1ha2VJc3N1ZXJJbnRlcmZhY2VzIjpbIm1ha2VJc3N1ZXJJbnRlcmZhY2VzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAACcAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA+4NNsokdAACJHQAAJwAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9jYWxsYmFjay5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJjYWxsRSIsImNhbGxTeW5jIiwiaXNDYWxsYmFjayIsIm1ha2VGdW5jdGlvbkNhbGxiYWNrIiwibWFrZU1ldGhvZENhbGxiYWNrIiwibWFrZVN5bmNGdW5jdGlvbkNhbGxiYWNrIiwibWFrZVN5bmNNZXRob2RDYWxsYmFjayIsInByZXBhcmVBdHRlbnVhdG9yIiwicHJlcGFyZUd1YXJkZWRBdHRlbnVhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxtYWtlRXJyb3IscSxFLGlzT2JqZWN0LGlzUGFzc2FibGVTeW1ib2wsZ2V0SW50ZXJmYWNlTWV0aG9kS2V5czskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV0sW1wiaXNQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKGlzUGFzc2FibGVTeW1ib2wgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiZ2V0SW50ZXJmYWNlTWV0aG9kS2V5c1wiLFskaM2PX2EgPT4gKGdldEludGVyZmFjZU1ldGhvZEtleXMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuXG5jb25zdCB7IG93bktleXM6IHJhd093bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCBvd25LZXlzID1cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIHJhd093bktleXNcbiAgKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGlzUHJvcGVydHlLZXkgPSBrZXkgPT4ge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjYWxsU3luYyA9IChjYWxsYmFjaywgLi4uYXJncykgPT4ge1xuICBjb25zdCB7IHRhcmdldCwgbWV0aG9kTmFtZSwgYm91bmQgfSA9IGNhbGxiYWNrO1xuICBpZiAobWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRhcmdldCguLi5ib3VuZCwgLi4uYXJncyk7XG4gIH1cbiAgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXSguLi5ib3VuZCwgLi4uYXJncyk7XG59OyRozY9fb25jZS5jYWxsU3luYyhjYWxsU3luYyk7XG5oYXJkZW4oY2FsbFN5bmMpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2FsbEUgPSAoY2FsbGJhY2ssIC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgeyB0YXJnZXQsIG1ldGhvZE5hbWUsIGJvdW5kIH0gPSBjYWxsYmFjaztcbiAgaWYgKG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBFKHRhcmdldCkoLi4uYm91bmQsIC4uLmFyZ3MpO1xuICB9XG4gIHJldHVybiBFKHRhcmdldClbbWV0aG9kTmFtZV0oLi4uYm91bmQsIC4uLmFyZ3MpO1xufTskaM2PX29uY2UuY2FsbEUoY2FsbEUpO1xuaGFyZGVuKGNhbGxFKTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlU3luY0Z1bmN0aW9uQ2FsbGJhY2sgPSAodGFyZ2V0LCAuLi5ib3VuZCkgPT4ge1xuICB0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nIHx8XG4gICAgRmFpbGBzeW5jIGZ1bmN0aW9uIGNhbGxiYWNrIHRhcmdldCBtdXN0IGJlIGEgZnVuY3Rpb246ICR7dGFyZ2V0fWA7XG4gIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgY2IgPSBoYXJkZW4oeyB0YXJnZXQsIGJvdW5kLCBpc1N5bmM6IHRydWUgfSk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGNiKTtcbn07JGjNj19vbmNlLm1ha2VTeW5jRnVuY3Rpb25DYWxsYmFjayhtYWtlU3luY0Z1bmN0aW9uQ2FsbGJhY2spO1xuaGFyZGVuKG1ha2VTeW5jRnVuY3Rpb25DYWxsYmFjayk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUZ1bmN0aW9uQ2FsbGJhY2sgPSAodGFyZ2V0LCAuLi5ib3VuZCkgPT4ge1xuICBpc09iamVjdCh0YXJnZXQpIHx8XG4gICAgRmFpbGBmdW5jdGlvbiBjYWxsYmFjayB0YXJnZXQgbXVzdCBiZSBhIGZ1bmN0aW9uIHByZXNlbmNlOiAke3RhcmdldH1gO1xuICAvKiAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNiID0gaGFyZGVuKHsgdGFyZ2V0LCBib3VuZCB9KTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICovIChjYik7XG59OyRozY9fb25jZS5tYWtlRnVuY3Rpb25DYWxsYmFjayhtYWtlRnVuY3Rpb25DYWxsYmFjayk7XG5oYXJkZW4obWFrZUZ1bmN0aW9uQ2FsbGJhY2spO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVN5bmNNZXRob2RDYWxsYmFjayA9ICh0YXJnZXQsIG1ldGhvZE5hbWUsIC4uLmJvdW5kKSA9PiB7XG4gIGlzT2JqZWN0KHRhcmdldCkgfHxcbiAgICBGYWlsYHN5bmMgbWV0aG9kIGNhbGxiYWNrIHRhcmdldCBtdXN0IGJlIGFuIG9iamVjdDogJHt0YXJnZXR9YDtcbiAgdHlwZW9mIG1ldGhvZE5hbWUgPT09ICdzdHJpbmcnIHx8XG4gICAgaXNQYXNzYWJsZVN5bWJvbChtZXRob2ROYW1lKSB8fFxuICAgIEZhaWxgbWV0aG9kIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBvciBwYXNzYWJsZSBzeW1ib2w6ICR7bWV0aG9kTmFtZX1gO1xuICAvKiAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNiID0gaGFyZGVuKHsgdGFyZ2V0LCBtZXRob2ROYW1lLCBib3VuZCwgaXNTeW5jOiB0cnVlIH0pO1xuICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChjYik7XG59OyRozY9fb25jZS5tYWtlU3luY01ldGhvZENhbGxiYWNrKG1ha2VTeW5jTWV0aG9kQ2FsbGJhY2spO1xuaGFyZGVuKG1ha2VTeW5jTWV0aG9kQ2FsbGJhY2spO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU1ldGhvZENhbGxiYWNrID0gKHRhcmdldCwgbWV0aG9kTmFtZSwgLi4uYm91bmQpID0+IHtcbiAgaXNPYmplY3QodGFyZ2V0KSB8fCBGYWlsYG1ldGhvZCBjYWxsYmFjayB0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3Q6ICR7dGFyZ2V0fWA7XG4gIHR5cGVvZiBtZXRob2ROYW1lID09PSAnc3RyaW5nJyB8fFxuICAgIGlzUGFzc2FibGVTeW1ib2wobWV0aG9kTmFtZSkgfHxcbiAgICBGYWlsYG1ldGhvZCBuYW1lIG11c3QgYmUgYSBzdHJpbmcgb3IgcGFzc2FibGUgc3ltYm9sOiAke21ldGhvZE5hbWV9YDtcbiAgLyogICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjYiA9IGhhcmRlbih7IHRhcmdldCwgbWV0aG9kTmFtZSwgYm91bmQgfSk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAqLyAoY2IpO1xufTskaM2PX29uY2UubWFrZU1ldGhvZENhbGxiYWNrKG1ha2VNZXRob2RDYWxsYmFjayk7XG5oYXJkZW4obWFrZU1ldGhvZENhbGxiYWNrKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NhbGxiYWNrID0gY2FsbGJhY2sgPT4ge1xuICBpZiAoIWlzT2JqZWN0KGNhbGxiYWNrKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB7IHRhcmdldCwgbWV0aG9kTmFtZSwgYm91bmQgfSA9IGNhbGxiYWNrO1xuICByZXR1cm4gKFxuICAgIGlzT2JqZWN0KHRhcmdldCkgJiZcbiAgICAobWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0eXBlb2YgbWV0aG9kTmFtZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgIGlzUGFzc2FibGVTeW1ib2wobWV0aG9kTmFtZSkpICYmXG4gICAgQXJyYXkuaXNBcnJheShib3VuZClcbiAgKTtcbn07JGjNj19vbmNlLmlzQ2FsbGJhY2soaXNDYWxsYmFjayk7XG5oYXJkZW4oaXNDYWxsYmFjayk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQXR0ZW51YXRvciA9IChcbiAgem9uZSxcbiAgbWV0aG9kTmFtZXMsXG4gIHsgaW50ZXJmYWNlR3VhcmQsIHRhZyA9ICdBdHRlbnVhdG9yJyB9ID0ge30sXG4pID0+IHtcbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtZXRob2RzID0gLyogICAgICAgICAgICAgICAgICAqLyAoXG4gICAgZnJvbUVudHJpZXMoXG4gICAgICBtZXRob2ROYW1lcy5tYXAoa2V5ID0+IHtcbiAgICAgICAgLy9cbiAgICAgICAgaWYgKCFpc1Byb3BlcnR5S2V5KGtleSkpIHtcbiAgICAgICAgICB0aHJvdyBGYWlsYGtleSAke3Eoa2V5KX0gaXMgbm90IGEgUHJvcGVydHlLZXlgO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbSA9IC8qICAgICAgICAgICAgICAgICAgKi8gKHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgW2tleV0oLi4uYXJncykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IGNiID0gdGhpcy5zdGF0ZS5jYnNba2V5XTtcbiAgICAgICAgICAgIGlmICghY2IpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyID0gbWFrZUVycm9yKGB1bmltcGxlbWVudGVkICR7cSh0YWcpfSBtZXRob2QgJHtxKGtleSl9YCk7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzU3luYykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYi5pc1N5bmMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxTeW5jKGNiLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsRShjYiwgLi4uYXJncyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSlba2V5XTtcbiAgICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICovIChba2V5LCBtXSk7XG4gICAgICB9KSxcbiAgICApXG4gICk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlQXR0ZW51YXRvciA9IHpvbmUuZXhvQ2xhc3MoXG4gICAgdGFnLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICAoe1xuICAgICAgdGFyZ2V0ID0gbnVsbCxcbiAgICAgIGlzU3luYyA9IGZhbHNlLFxuICAgICAgb3ZlcnJpZGVzID0gLyogICAgICAgICAgICAgICAgICAgICovICh7fSksXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgY2JzID0gLyogICAgICAgICAgICAgICAgICAgICovICh7fSk7XG5cbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IG5ldyBTZXQobWV0aG9kTmFtZXMpO1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb3duS2V5cyhvdmVycmlkZXMpKSB7XG4gICAgICAgIHJlbWFpbmluZy5oYXMoa2V5KSB8fFxuICAgICAgICAgIEZhaWxgJHtxKHRhZyl9IG92ZXJyaWRlc1ske3Eoa2V5KX1dIG5vdCBhbGxvd2VkIGJ5IG1ldGhvZE5hbWVzYDtcblxuICAgICAgICByZW1haW5pbmcuZGVsZXRlKGtleSk7XG4gICAgICAgIGNvbnN0IGNiID0gb3ZlcnJpZGVzW2tleV07XG4gICAgICAgIGNiID09IG51bGwgfHxcbiAgICAgICAgICBpc0NhbGxiYWNrKGNiKSB8fFxuICAgICAgICAgIEZhaWxgJHtxKHRhZyl9IG92ZXJyaWRlc1ske3Eoa2V5KX1dIGlzIG5vdCBhIGNhbGxiYWNrOyBnb3QgJHtjYn1gO1xuICAgICAgICBjYnNba2V5XSA9IGNiO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgcmVtYWluaW5nKSB7XG4gICAgICAgIGlmIChpc1N5bmMpIHtcbiAgICAgICAgICBjYnNba2V5XSA9IG1ha2VTeW5jTWV0aG9kQ2FsbGJhY2sodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNic1trZXldID0gbWFrZU1ldGhvZENhbGxiYWNrKHRhcmdldCwga2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGhhcmRlbih7IGNicywgaXNTeW5jIH0pO1xuICAgIH0sXG4gICAgLyogICAgICAgICAgICAgICAgICAqLyAobWV0aG9kcyksXG4gICk7XG4gIHJldHVybiBtYWtlQXR0ZW51YXRvcjtcbn07JGjNj19vbmNlLnByZXBhcmVBdHRlbnVhdG9yKHByZXBhcmVBdHRlbnVhdG9yKTtcbmhhcmRlbihwcmVwYXJlQXR0ZW51YXRvcik7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVHdWFyZGVkQXR0ZW51YXRvciA9ICh6b25lLCBpbnRlcmZhY2VHdWFyZCwgb3B0cyA9IHt9KSA9PiB7XG4gIGNvbnN0IG1ldGhvZE5hbWVzID0gZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyhpbnRlcmZhY2VHdWFyZCk7XG4gIGNvbnN0IG1ha2VBdHRlbnVhdG9yID0gcHJlcGFyZUF0dGVudWF0b3Ioem9uZSwgbWV0aG9kTmFtZXMsIHtcbiAgICAuLi5vcHRzLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICB9KTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG1ha2VBdHRlbnVhdG9yKTtcbn07JGjNj19vbmNlLnByZXBhcmVHdWFyZGVkQXR0ZW51YXRvcihwcmVwYXJlR3VhcmRlZEF0dGVudWF0b3IpO1xuaGFyZGVuKHByZXBhcmVHdWFyZGVkQXR0ZW51YXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJjYWxsU3luYyI6WyJjYWxsU3luYyJdLCJjYWxsRSI6WyJjYWxsRSJdLCJtYWtlU3luY0Z1bmN0aW9uQ2FsbGJhY2siOlsibWFrZVN5bmNGdW5jdGlvbkNhbGxiYWNrIl0sIm1ha2VGdW5jdGlvbkNhbGxiYWNrIjpbIm1ha2VGdW5jdGlvbkNhbGxiYWNrIl0sIm1ha2VTeW5jTWV0aG9kQ2FsbGJhY2siOlsibWFrZVN5bmNNZXRob2RDYWxsYmFjayJdLCJtYWtlTWV0aG9kQ2FsbGJhY2siOlsibWFrZU1ldGhvZENhbGxiYWNrIl0sImlzQ2FsbGJhY2siOlsiaXNDYWxsYmFjayJdLCJwcmVwYXJlQXR0ZW51YXRvciI6WyJwcmVwYXJlQXR0ZW51YXRvciJdLCJwcmVwYXJlR3VhcmRlZEF0dGVudWF0b3IiOlsicHJlcGFyZUd1YXJkZWRBdHRlbnVhdG9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALc+QRg0AwAANAMAACgAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvY2xpLXV0aWxzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJ0b0NMSU9wdGlvbnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB0b0NMSU9wdGlvbnMgPSByZWNvcmQgPT5cbiAgT2JqZWN0LmVudHJpZXMocmVjb3JkKS5mbGF0TWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFtdO1xuICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgcmV0dXJuIFtgLS0ke2tleX1gXTtcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlKSByZXR1cm4gW2AtLW5vLSR7a2V5fWBdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB2YWx1ZS5mbGF0TWFwKHYgPT4gW2AtLSR7a2V5fWAsIHZdKTtcbiAgICB9XG4gICAgcmV0dXJuIFtgLS0ke2tleX1gLCB2YWx1ZV07XG4gIH0pOyRozY9fb25jZS50b0NMSU9wdGlvbnModG9DTElPcHRpb25zKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InRvQ0xJT3B0aW9ucyI6WyJ0b0NMSU9wdGlvbnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAz7Ja43YGAAB2BgAAJQAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9jb25maWcuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIkJyaWRnZUlkIiwiQ29zbW9zSW5pdEtleVRvQnJpZGdlSWQiLCJWQmFua0FjY291bnQiLCJXYWxsZXROYW1lIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG4vL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBCcmlkZ2VJZCA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIEJBTks6ICdiYW5rJyxcbiAgQ09SRTogJ2NvcmUnLFxuICBESUJDOiAnZGliYycsXG4gIFNUT1JBR0U6ICdzdG9yYWdlJyxcbiAgUFJPVklTSU9OOiAncHJvdmlzaW9uJyxcbiAgUFJPVklTSU9OX1NNQVJUX1dBTExFVDogJ3Byb3Zpc2lvbldhbGxldCcsXG4gIFZMT0NBTENIQUlOOiAndmxvY2FsY2hhaW4nLFxuICBWVFJBTlNGRVI6ICd2dHJhbnNmZXInLFxuICBXQUxMRVQ6ICd3YWxsZXQnLFxufSk7JGjNj19vbmNlLkJyaWRnZUlkKEJyaWRnZUlkKTtcbmhhcmRlbihCcmlkZ2VJZCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ29zbW9zSW5pdEtleVRvQnJpZGdlSWQgPSB7XG4gIHZiYW5rUG9ydDogJ2JhbmsnLFxuICB2aWJjUG9ydDogJ2RpYmMnLFxufTskaM2PX29uY2UuQ29zbW9zSW5pdEtleVRvQnJpZGdlSWQoQ29zbW9zSW5pdEtleVRvQnJpZGdlSWQpO1xuaGFyZGVuKENvc21vc0luaXRLZXlUb0JyaWRnZUlkKTtcblxuICAgICAgIGNvbnN0IFdhbGxldE5hbWUgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBkZXBvc2l0RmFjZXQ6ICdkZXBvc2l0RmFjZXQnLFxufSk7JGjNj19vbmNlLldhbGxldE5hbWUoV2FsbGV0TmFtZSk7XG5oYXJkZW4oV2FsbGV0TmFtZSk7XG5cbi8vXG4gICAgICAgY29uc3QgVkJhbmtBY2NvdW50ID0gLyogICAgICAgICAgICAgICAgKi8gKHtcbiAgcmVzZXJ2ZToge1xuICAgIG1vZHVsZTogJ3ZiYW5rL3Jlc2VydmUnLFxuICAgIGFkZHJlc3M6ICdhZ29yaWMxYWUwbG10emxncmNubGE5eGprcGFhcnE1ZDVkZmV6NjNoM251Y2wnLFxuICB9LFxuICBwcm92aXNpb246IHtcbiAgICBtb2R1bGU6ICd2YmFuay9wcm92aXNpb24nLFxuICAgIGFkZHJlc3M6ICdhZ29yaWMxbWVnenl0ZzY1Y3lyZ3pzNmZ2enhncmNxdnd3bDd1Z3B0NjIzNDYnLFxuICB9LFxufSk7JGjNj19vbmNlLlZCYW5rQWNjb3VudChWQmFua0FjY291bnQpO1xuaGFyZGVuKFZCYW5rQWNjb3VudCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJCcmlkZ2VJZCI6WyJCcmlkZ2VJZCJdLCJDb3Ntb3NJbml0S2V5VG9CcmlkZ2VJZCI6WyJDb3Ntb3NJbml0S2V5VG9CcmlkZ2VJZCJdLCJXYWxsZXROYW1lIjpbIldhbGxldE5hbWUiXSwiVkJhbmtBY2NvdW50IjpbIlZCYW5rQWNjb3VudCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC8BYikOwUAADsFAAAkAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2RlYnVnLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJtYWtlVHJhY2VyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG5cbmxldCBkZWJ1Z0luc3RhbmNlID0gMTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlVHJhY2VyID0gKG5hbWUsIGVuYWJsZSA9IHRydWUpID0+IHtcbiAgZGVidWdJbnN0YW5jZSArPSAxO1xuICBsZXQgZGVidWdDb3VudCA9IDE7XG4gIGNvbnN0IGtleSA9IGAtLS0tLSAke25hbWV9LiR7ZGVidWdJbnN0YW5jZX0gYDtcbiAgLy9cbiAgc3dpdGNoIChlbmFibGUpIHtcbiAgICBjYXNlIGZhbHNlOiB7XG4gICAgICBjb25zdCBsb2dEaXNhYmxlZCA9ICguLi5fYXJncykgPT4ge307XG4gICAgICByZXR1cm4gbG9nRGlzYWJsZWQ7XG4gICAgfVxuICAgIGNhc2UgJ3ZlcmJvc2UnOiB7XG4gICAgICBjb25zdCBpbmZvVGljayA9IChvcHRMb2csIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKG9wdExvZy5sb2cpIHtcbiAgICAgICAgICBjb25zb2xlLmluZm8oa2V5LCAoZGVidWdDb3VudCArPSAxKSwgLi4uYXJncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKGtleSwgKGRlYnVnQ291bnQgKz0gMSksIG9wdExvZywgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gaW5mb1RpY2s7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IGRlYnVnVGljayA9IChvcHRMb2csIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKG9wdExvZy5sb2cpIHtcbiAgICAgICAgICBvcHRMb2cubG9nKGtleSwgKGRlYnVnQ291bnQgKz0gMSksIC4uLmFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyhrZXksIChkZWJ1Z0NvdW50ICs9IDEpLCBvcHRMb2csIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRlYnVnVGljaztcbiAgICB9XG4gIH1cbn07JGjNj19vbmNlLm1ha2VUcmFjZXIobWFrZVRyYWNlcik7XG5oYXJkZW4obWFrZVRyYWNlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlVHJhY2VyIjpbIm1ha2VUcmFjZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA+tsENbECAACxAgAAJQAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9lcnJvcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiTm9uTnVsbGlzaCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHE7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgTm9uTnVsbGlzaCA9ICh2YWwsIG9wdERldGFpbHMgPSBgdW5leHBlY3RlZCAke3EodmFsKX1gKSA9PiB7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIC8vXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICBhc3NlcnQuZmFpbChvcHREZXRhaWxzKTtcbn07JGjNj19vbmNlLk5vbk51bGxpc2goTm9uTnVsbGlzaCk7XG5oYXJkZW4oTm9uTnVsbGlzaCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJOb25OdWxsaXNoIjpbIk5vbk51bGxpc2giXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAlK93k6UEAAClBAAAJAAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2NsaS11dGlscy5qcyIsIi4vY29uZmlnLmpzIiwiLi9kZWJ1Zy5qcyIsIi4vZXJyb3JzLmpzIiwiLi9qcy11dGlscy5qcyIsIi4vbWFyc2hhbC5qcyIsIi4vbWV0aG9kLXRvb2xzLmpzIiwiLi9tZXRyaWNzLmpzIiwiLi9uYXR1cmFsLXNvcnQuanMiLCIuL3Nlcy11dGlscy5qcyIsIi4vdG1wRGlyLmpzIiwiLi90eXBlQ2hlY2suanMiLCIuL3R5cGVHdWFyZHMuanMiLCIuL3R5cGVzLWluZGV4LmpzIl0sImV4cG9ydHMiOltudWxsXSwicmVleHBvcnRzIjpbIi4vY2xpLXV0aWxzLmpzIiwiLi9jb25maWcuanMiLCIuL2RlYnVnLmpzIiwiLi9lcnJvcnMuanMiLCIuL2pzLXV0aWxzLmpzIiwiLi9tZXRob2QtdG9vbHMuanMiLCIuL21ldHJpY3MuanMiLCIuL25hdHVyYWwtc29ydC5qcyIsIi4vc2VzLXV0aWxzLmpzIiwiLi90bXBEaXIuanMiLCIuL3R5cGVDaGVjay5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9jbGktdXRpbHMuanNcIiwgW11dLFtcIi4vY29uZmlnLmpzXCIsIFtdXSxbXCIuL2RlYnVnLmpzXCIsIFtdXSxbXCIuL2Vycm9ycy5qc1wiLCBbXV0sW1wiLi9qcy11dGlscy5qc1wiLCBbXV0sW1wiLi9tYXJzaGFsLmpzXCIsIFtdXSxbXCIuL21ldGhvZC10b29scy5qc1wiLCBbXV0sW1wiLi9tZXRyaWNzLmpzXCIsIFtdXSxbXCIuL25hdHVyYWwtc29ydC5qc1wiLCBbXV0sW1wiLi9zZXMtdXRpbHMuanNcIiwgW11dLFtcIi4vdG1wRGlyLmpzXCIsIFtdXSxbXCIuL3R5cGVDaGVjay5qc1wiLCBbXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtdXSxbXCIuL3R5cGVzLWluZGV4LmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9tYXJzaGFsLmpzIjpbWyJwdXJlRGF0YU1hcnNoYWxsZXIiLCJwdXJlRGF0YU1hcnNoYWxsZXIiXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALSGcrAjEwAAIxMAACcAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvanMtdXRpbHMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIlRSVUUiLCJkZWVwQ29weUpzb25hYmxlIiwiZGVlcE1hcE9iamVjdCIsImRlZmluZU5hbWUiLCJmcm9tVHlwZWRFbnRyaWVzIiwibG9nTGV2ZWxzIiwibWFrZU1lYXN1cmVTZWNvbmRzIiwib2JqZWN0TWFwTXV0YWJsZSIsInByb3ZpZGVMYXp5TWFwIiwidHlwZWRFbnRyaWVzIiwidHlwZWRNYXAiLCJ1bnByZWZpeGVkUHJvcGVydGllcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuLy9cbi8qXG5cblxuICovXG5cbmNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IFRSVUUgPSAvKiAgICAgICAgICAgICAgICAqLyAodHJ1ZSk7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuVFJVRShUUlVFKTtcbiAgICAgICBjb25zdCB0eXBlZEVudHJpZXMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgKi8gKE9iamVjdC5lbnRyaWVzKTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UudHlwZWRFbnRyaWVzKHR5cGVkRW50cmllcyk7XG4gICAgICAgY29uc3QgZnJvbVR5cGVkRW50cmllcyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICBPYmplY3QuZnJvbUVudHJpZXNcbik7XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5mcm9tVHlwZWRFbnRyaWVzKGZyb21UeXBlZEVudHJpZXMpO1xuICAgICAgIGNvbnN0IHR5cGVkTWFwID0gLyogICAgICAgICAgICAgICAgICAgKi8gKFxuICBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApXG4pOyRozY9fb25jZS50eXBlZE1hcCh0eXBlZE1hcCk7XG5cbiAgICAgICBjb25zdCBsb2dMZXZlbHMgPSAvKiAgICAgICAgICAgICAgICAqLyAoW1xuICAnZGVidWcnLFxuICAnbG9nJyxcbiAgJ2luZm8nLFxuICAnd2FybicsXG4gICdlcnJvcicsXG5dKTskaM2PX29uY2UubG9nTGV2ZWxzKGxvZ0xldmVscyk7XG5PYmplY3QuZnJlZXplKGxvZ0xldmVscyk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGRlZXBDb3B5SnNvbmFibGUgPSB2YWx1ZSA9PiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlZXBDb3B5SnNvbmFibGUoZGVlcENvcHlKc29uYWJsZSk7XG5jb25zdCBkZWVwTWFwT2JqZWN0SW50ZXJuYWwgPSAodmFsdWUsIG5hbWUsIGNvbnRhaW5lciwgbWFwcGVyKSA9PiB7XG4gIGlmIChjb250YWluZXIgJiYgdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgbWFwcGVkID0gbWFwcGVyKHZhbHVlLCBuYW1lLCBjb250YWluZXIpO1xuICAgIGlmIChtYXBwZWQgIT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8ICF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGxldCB3YXNNYXBwZWQgPSBmYWxzZTtcbiAgY29uc3QgdmFsdWVPYmogPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAodmFsdWUpO1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFwRW50cnkgPSAoW2lubmVyTmFtZSwgaW5uZXJWYWx1ZV0pID0+IHtcbiAgICBjb25zdCBtYXBwZWRJbm5lclZhbHVlID0gZGVlcE1hcE9iamVjdEludGVybmFsKFxuICAgICAgaW5uZXJWYWx1ZSxcbiAgICAgIGlubmVyTmFtZSxcbiAgICAgIHZhbHVlT2JqLFxuICAgICAgbWFwcGVyLFxuICAgICk7XG4gICAgd2FzTWFwcGVkIHx8PSBtYXBwZWRJbm5lclZhbHVlICE9PSBpbm5lclZhbHVlO1xuICAgIHJldHVybiBbaW5uZXJOYW1lLCAvKiAgICAgICAgICAgICAgKi8gKG1hcHBlZElubmVyVmFsdWUpXTtcbiAgfTtcbiAgY29uc3QgbWFwcGVkRW50cmllcyA9IHR5cGVkRW50cmllcyh2YWx1ZU9iaikubWFwKG1hcEVudHJ5KTtcblxuICBpZiAoIXdhc01hcHBlZCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGNvbnN0IG1hcHBlZE9iaiA9IGZyb21UeXBlZEVudHJpZXMobWFwcGVkRW50cmllcyk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgKi8gKG1hcHBlZE9iaik7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGRlZXBNYXBPYmplY3QgPSAob2JqLCBtYXBwZXIpID0+XG4gIC8qICAgICAgICAgICAgICAqLyAoZGVlcE1hcE9iamVjdEludGVybmFsKG9iaiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG1hcHBlcikpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlZXBNYXBPYmplY3QoZGVlcE1hcE9iamVjdCk7XG4gICAgICAgY29uc3QgZGVmaW5lTmFtZSA9IChuYW1lLCBmbikgPT5cbiAgZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywgeyB2YWx1ZTogbmFtZSB9KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZGVmaW5lTmFtZShkZWZpbmVOYW1lKTtcbiAgICAgICBjb25zdCBvYmplY3RNYXBNdXRhYmxlID0gKG9iaiwgbWFwcGVyKSA9PiB7XG4gIGNvbnN0IG9sZEVudHJpZXMgPSB0eXBlZEVudHJpZXMob2JqKTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWFwRW50cnkgPSAoW2ssIHZdKSA9PiBbaywgbWFwcGVyKHYsIGspXTtcbiAgY29uc3QgbmV3RW50cmllcyA9IHR5cGVkTWFwKG9sZEVudHJpZXMsIG1hcEVudHJ5KTtcbiAgY29uc3QgbmV3T2JqID0gZnJvbVR5cGVkRW50cmllcyhuZXdFbnRyaWVzKTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAqLyAobmV3T2JqKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5vYmplY3RNYXBNdXRhYmxlKG9iamVjdE1hcE11dGFibGUpO1xuICAgICAgIGNvbnN0IHByb3ZpZGVMYXp5TWFwID0gKG1hcCwga2V5LCBtYWtlVmFsdWUpID0+IHtcbiAgY29uc3QgZm91bmQgPSBtYXAuZ2V0KGtleSk7XG4gIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkIHx8IG1hcC5oYXMoa2V5KSkge1xuICAgIHJldHVybiAvKiAgICAgICAgICAgICovIChmb3VuZCk7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSBtYWtlVmFsdWUoa2V5KTtcbiAgbWFwLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJvdmlkZUxhenlNYXAocHJvdmlkZUxhenlNYXApO1xuICAgICAgIGNvbnN0IG1ha2VNZWFzdXJlU2Vjb25kcyA9IGN1cnJlbnRUaW1lTWlsbGlzZWMgPT4ge1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgbWVhc3VyZVNlY29uZHMgPSBhc3luYyBmbiA9PiB7XG4gICAgY29uc3QgdDAgPSBjdXJyZW50VGltZU1pbGxpc2VjKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcbiAgICBjb25zdCBkdXJhdGlvbk1pbGxpc2VjID0gY3VycmVudFRpbWVNaWxsaXNlYygpIC0gdDA7XG4gICAgcmV0dXJuIHsgcmVzdWx0LCBkdXJhdGlvbjogZHVyYXRpb25NaWxsaXNlYyAvIDEwMDAgfTtcbiAgfTtcbiAgcmV0dXJuIG1lYXN1cmVTZWNvbmRzO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlTWVhc3VyZVNlY29uZHMobWFrZU1lYXN1cmVTZWNvbmRzKTtcbiAgICAgICBjb25zdCB1bnByZWZpeGVkUHJvcGVydGllcyA9IChvYmosIHByZWZpeCkgPT5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBmcm9tVHlwZWRFbnRyaWVzKFxuICAgICAgdHlwZWRFbnRyaWVzKG9iailcbiAgICAgICAgLmZpbHRlcigoW2tleV0pID0+IGtleS5zdGFydHNXaXRoKHByZWZpeCkpXG4gICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleS5zbGljZShwcmVmaXgubGVuZ3RoKSwgdmFsdWVdKSxcbiAgICApXG4gICk7JGjNj19vbmNlLnVucHJlZml4ZWRQcm9wZXJ0aWVzKHVucHJlZml4ZWRQcm9wZXJ0aWVzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRSVUUiOlsiVFJVRSJdLCJ0eXBlZEVudHJpZXMiOlsidHlwZWRFbnRyaWVzIl0sImZyb21UeXBlZEVudHJpZXMiOlsiZnJvbVR5cGVkRW50cmllcyJdLCJ0eXBlZE1hcCI6WyJ0eXBlZE1hcCJdLCJsb2dMZXZlbHMiOlsibG9nTGV2ZWxzIl0sImRlZXBDb3B5SnNvbmFibGUiOlsiZGVlcENvcHlKc29uYWJsZSJdLCJkZWVwTWFwT2JqZWN0IjpbImRlZXBNYXBPYmplY3QiXSwiZGVmaW5lTmFtZSI6WyJkZWZpbmVOYW1lIl0sIm9iamVjdE1hcE11dGFibGUiOlsib2JqZWN0TWFwTXV0YWJsZSJdLCJwcm92aWRlTGF6eU1hcCI6WyJwcm92aWRlTGF6eU1hcCJdLCJtYWtlTWVhc3VyZVNlY29uZHMiOlsibWFrZU1lYXN1cmVTZWNvbmRzIl0sInVucHJlZml4ZWRQcm9wZXJ0aWVzIjpbInVucHJlZml4ZWRQcm9wZXJ0aWVzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEKFbaLpFwAA6RcAAC8AAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbGliLWNoYWluU3RvcmFnZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvYmFzZS16b25lL2hlYXAuanMiLCIuL2NhbGxiYWNrLmpzIl0sImV4cG9ydHMiOlsiU3RyZWFtQ2VsbFNoYXBlIiwiYXNzZXJ0UGF0aFNlZ21lbnQiLCJpc1N0cmVhbUNlbGwiLCJtYWtlQ2hhaW5TdG9yYWdlUm9vdCIsIm1ha2VTZXJpYWxpemVUb1N0b3JhZ2UiLCJtYWtlU3RvcmFnZU5vZGVDaGlsZCIsInByZXBhcmVDaGFpblN0b3JhZ2VOb2RlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxFLEZhcixNLG1ha2VIZWFwWm9uZSxjYjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lL2hlYXAuanNcIiwgW1tcIm1ha2VIZWFwWm9uZVwiLFskaM2PX2EgPT4gKG1ha2VIZWFwWm9uZSA9ICRozY9fYSldXV1dLFtcIi4vY2FsbGJhY2suanNcIiwgW1tcIipcIixbJGjNj19hID0+IChjYiA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1ha2VDaGFpblN0b3JhZ2VSb290LCduYW1lJyx7dmFsdWU6XCJtYWtlQ2hhaW5TdG9yYWdlUm9vdFwifSk7JGjNj19vbmNlLm1ha2VDaGFpblN0b3JhZ2VSb290KG1ha2VDaGFpblN0b3JhZ2VSb290KTtPYmplY3QuZGVmaW5lUHJvcGVydHkobWFrZVN0b3JhZ2VOb2RlQ2hpbGQsJ25hbWUnLHt2YWx1ZTpcIm1ha2VTdG9yYWdlTm9kZUNoaWxkXCJ9KTskaM2PX29uY2UubWFrZVN0b3JhZ2VOb2RlQ2hpbGQobWFrZVN0b3JhZ2VOb2RlQ2hpbGQpO1xuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IFN0cmVhbUNlbGxTaGFwZSA9IGhhcmRlbih7XG4gIGJsb2NrSGVpZ2h0OiBNLnN0cmluZygpLFxuICB2YWx1ZXM6IE0uYXJyYXkoKSxcbn0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLlN0cmVhbUNlbGxTaGFwZShTdHJlYW1DZWxsU2hhcGUpO1xuXG5jb25zdCBDaGFpblN0b3JhZ2VOb2RlSSA9IE0uaW50ZXJmYWNlKCdTdG9yYWdlTm9kZScsIHtcbiAgc2V0VmFsdWU6IE0uY2FsbFdoZW4oTS5zdHJpbmcoKSkucmV0dXJucygpLFxuICBnZXRQYXRoOiBNLmNhbGwoKS5yZXR1cm5zKE0uc3RyaW5nKCkpLFxuICBnZXRTdG9yZUtleTogTS5jYWxsV2hlbigpLnJldHVybnMoTS5yZWNvcmQoKSksXG4gIG1ha2VDaGlsZE5vZGU6IE0uY2FsbChNLnN0cmluZygpKVxuICAgIC5vcHRpb25hbChNLnNwbGl0UmVjb3JkKHt9LCB7IHNlcXVlbmNlOiBNLmJvb2xlYW4oKSB9LCB7fSkpXG4gICAgLnJldHVybnMoTS5yZW1vdGFibGUoJ1N0b3JhZ2VOb2RlJykpLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc1N0cmVhbUNlbGwgPSBjZWxsID0+XG4gIGNlbGwgJiZcbiAgdHlwZW9mIGNlbGwgPT09ICdvYmplY3QnICYmXG4gIEFycmF5LmlzQXJyYXkoY2VsbC52YWx1ZXMpICYmXG4gIHR5cGVvZiBjZWxsLmJsb2NrSGVpZ2h0ID09PSAnc3RyaW5nJyAmJlxuICAvXjAkfF5bMS05XVswLTldKiQvLnRlc3QoY2VsbC5ibG9ja0hlaWdodCk7JGjNj19vbmNlLmlzU3RyZWFtQ2VsbChpc1N0cmVhbUNlbGwpO1xuaGFyZGVuKGlzU3RyZWFtQ2VsbCk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLy9cbi8vXG4vL1xuLy9cbi8vXG5jb25zdCBwYXRoU2VnbWVudFBhdHRlcm4gPSAvXlthLXpBLVowLTlfLV17MSwxMDB9JC87XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBhc3NlcnRQYXRoU2VnbWVudCA9IG5hbWUgPT4ge1xuICBwYXRoU2VnbWVudFBhdHRlcm4udGVzdChuYW1lKSB8fFxuICAgIEZhaWxgUGF0aCBzZWdtZW50IG5hbWVzIG11c3QgY29uc2lzdCBvZiAxIHRvIDEwMCBjaGFyYWN0ZXJzIGxpbWl0ZWQgdG8gQVNDSUkgYWxwaGFudW1lcmljcywgdW5kZXJzY29yZXMsIGFuZC9vciBkYXNoZXM6ICR7bmFtZX1gO1xufTskaM2PX29uY2UuYXNzZXJ0UGF0aFNlZ21lbnQoYXNzZXJ0UGF0aFNlZ21lbnQpO1xuaGFyZGVuKGFzc2VydFBhdGhTZWdtZW50KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUNoYWluU3RvcmFnZU5vZGUgPSB6b25lID0+IHtcbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlQ2hhaW5TdG9yYWdlTm9kZSA9IHpvbmUuZXhvQ2xhc3MoXG4gICAgJ0NoYWluU3RvcmFnZU5vZGUnLFxuICAgIENoYWluU3RvcmFnZU5vZGVJLFxuICAgIC8qXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgKG1lc3NlbmdlciwgcGF0aCwgeyBzZXF1ZW5jZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgICAgYXNzZXJ0LnR5cGVvZihwYXRoLCAnc3RyaW5nJyk7XG4gICAgICBhc3NlcnQudHlwZW9mKHNlcXVlbmNlLCAnYm9vbGVhbicpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7IHBhdGgsIG1lc3Nlbmdlciwgc2VxdWVuY2UgfSk7XG4gICAgfSxcbiAgICB7XG4gICAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5wYXRoO1xuICAgICAgfSxcbiAgICAgIC8qXG5cblxuICAgICAgICovXG4gICAgICBhc3luYyBnZXRTdG9yZUtleSgpIHtcbiAgICAgICAgY29uc3QgeyBwYXRoLCBtZXNzZW5nZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHJldHVybiBjYi5jYWxsRShtZXNzZW5nZXIsIHtcbiAgICAgICAgICBtZXRob2Q6ICdnZXRTdG9yZUtleScsXG4gICAgICAgICAgYXJnczogW3BhdGhdLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIG1ha2VDaGlsZE5vZGUobmFtZSwgY2hpbGROb2RlT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgc2VxdWVuY2UsIHBhdGgsIG1lc3NlbmdlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgYXNzZXJ0UGF0aFNlZ21lbnQobmFtZSk7XG4gICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7IHNlcXVlbmNlLCAuLi5jaGlsZE5vZGVPcHRpb25zIH07XG4gICAgICAgIHJldHVybiBtYWtlQ2hhaW5TdG9yYWdlTm9kZShcbiAgICAgICAgICBtZXNzZW5nZXIsXG4gICAgICAgICAgYCR7cGF0aH0uJHtuYW1lfWAsXG4gICAgICAgICAgbWVyZ2VkT3B0aW9ucyxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgYXN5bmMgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyBzZXF1ZW5jZSwgcGF0aCwgbWVzc2VuZ2VyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBhc3NlcnQudHlwZW9mKHZhbHVlLCAnc3RyaW5nJyk7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBsZXQgZW50cnk7XG4gICAgICAgIGlmICghc2VxdWVuY2UgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgZW50cnkgPSBbcGF0aF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW50cnkgPSBbcGF0aCwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNiLmNhbGxFKG1lc3Nlbmdlciwge1xuICAgICAgICAgIG1ldGhvZDogc2VxdWVuY2UgPyAnYXBwZW5kJyA6ICdzZXQnLFxuICAgICAgICAgIGFyZ3M6IFtlbnRyeV0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICB9LFxuICApO1xuICByZXR1cm4gbWFrZUNoYWluU3RvcmFnZU5vZGU7XG59OyRozY9fb25jZS5wcmVwYXJlQ2hhaW5TdG9yYWdlTm9kZShwcmVwYXJlQ2hhaW5TdG9yYWdlTm9kZSk7XG5cbmNvbnN0IG1ha2VIZWFwQ2hhaW5TdG9yYWdlTm9kZSA9IHByZXBhcmVDaGFpblN0b3JhZ2VOb2RlKG1ha2VIZWFwWm9uZSgpKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBtYWtlQ2hhaW5TdG9yYWdlUm9vdChcbiAgaGFuZGxlU3RvcmFnZU1lc3NhZ2UsXG4gIHJvb3RQYXRoLFxuICByb290T3B0aW9ucyA9IHt9LFxuKSB7XG4gIGNvbnN0IG1lc3NlbmdlciA9IGNiLm1ha2VGdW5jdGlvbkNhbGxiYWNrKGhhbmRsZVN0b3JhZ2VNZXNzYWdlKTtcblxuICAvL1xuICBjb25zdCByb290Tm9kZSA9IG1ha2VIZWFwQ2hhaW5TdG9yYWdlTm9kZShtZXNzZW5nZXIsIHJvb3RQYXRoLCByb290T3B0aW9ucyk7XG4gIHJldHVybiByb290Tm9kZTtcbn1cblxuLypcblxuXG4gKi9cbmNvbnN0IG1ha2VOdWxsU3RvcmFnZU5vZGUgPSAoKSA9PiB7XG4gIC8vXG4gIHJldHVybiBtYWtlQ2hhaW5TdG9yYWdlUm9vdChcbiAgICBGYXIoJ051bGxNZXNzZW5nZXInLCAoKSA9PiBudWxsKSxcbiAgICAnbnVsbCcsXG4gICk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBhc3luYyBmdW5jdGlvbiBtYWtlU3RvcmFnZU5vZGVDaGlsZChzdG9yYWdlTm9kZVJlZiwgY2hpbGROYW1lKSB7XG4gIGNvbnN0IGV4aXN0aW5nU3RvcmFnZU5vZGUgPSBhd2FpdCBzdG9yYWdlTm9kZVJlZjtcbiAgY29uc3Qgc3RvcmFnZU5vZGUgPSBleGlzdGluZ1N0b3JhZ2VOb2RlIHx8IG1ha2VOdWxsU3RvcmFnZU5vZGUoKTtcbiAgcmV0dXJuIEUoc3RvcmFnZU5vZGUpLm1ha2VDaGlsZE5vZGUoY2hpbGROYW1lKTtcbn1cbmhhcmRlbihtYWtlU3RvcmFnZU5vZGVDaGlsZCk7XG5cbi8vXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVNlcmlhbGl6ZVRvU3RvcmFnZSA9IChzdG9yYWdlTm9kZSwgbWFyc2hhbGxlcikgPT4ge1xuICByZXR1cm4gYXN5bmMgdmFsdWUgPT4ge1xuICAgIGNvbnN0IG1hcnNoYWxsZWQgPSBhd2FpdCBFKG1hcnNoYWxsZXIpLnRvQ2FwRGF0YSh2YWx1ZSk7XG4gICAgY29uc3Qgc2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KG1hcnNoYWxsZWQpO1xuICAgIHJldHVybiBFKHN0b3JhZ2VOb2RlKS5zZXRWYWx1ZShzZXJpYWxpemVkKTtcbiAgfTtcbn07JGjNj19vbmNlLm1ha2VTZXJpYWxpemVUb1N0b3JhZ2UobWFrZVNlcmlhbGl6ZVRvU3RvcmFnZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJTdHJlYW1DZWxsU2hhcGUiOlsiU3RyZWFtQ2VsbFNoYXBlIl0sImlzU3RyZWFtQ2VsbCI6WyJpc1N0cmVhbUNlbGwiXSwiYXNzZXJ0UGF0aFNlZ21lbnQiOlsiYXNzZXJ0UGF0aFNlZ21lbnQiXSwicHJlcGFyZUNoYWluU3RvcmFnZU5vZGUiOlsicHJlcGFyZUNoYWluU3RvcmFnZU5vZGUiXSwibWFrZUNoYWluU3RvcmFnZVJvb3QiOlsibWFrZUNoYWluU3RvcmFnZVJvb3QiXSwibWFrZVN0b3JhZ2VOb2RlQ2hpbGQiOlsibWFrZVN0b3JhZ2VOb2RlQ2hpbGQiXSwibWFrZVNlcmlhbGl6ZVRvU3RvcmFnZSI6WyJtYWtlU2VyaWFsaXplVG9TdG9yYWdlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABAvHn7vEgAA7xIAACYAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbWFyc2hhbC5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcGF0dGVybnMiLCIuL2xpYi1jaGFpblN0b3JhZ2UuanMiXSwiZXhwb3J0cyI6WyJDYXBEYXRhU2hhcGUiLCJhc3NlcnRDYXBEYXRhIiwiYm9hcmRTbG90dGluZ01hcnNoYWxsZXIiLCJtYWtlQm9hcmRSZW1vdGUiLCJtYWtlSGlzdG9yeVJldml2ZXIiLCJwdXJlRGF0YU1hcnNoYWxsZXIiLCJzbG90VG9Cb2FyZFJlbW90ZSIsInVubWFyc2hhbEZyb21Wc3RvcmFnZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsRmFyLG1ha2VNYXJzaGFsLE0saXNTdHJlYW1DZWxsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wibWFrZU1hcnNoYWxcIixbJGjNj19hID0+IChtYWtlTWFyc2hhbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4vbGliLWNoYWluU3RvcmFnZS5qc1wiLCBbW1wiaXNTdHJlYW1DZWxsXCIsWyRozY9fYSA9PiAoaXNTdHJlYW1DZWxsID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cbi8qXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VCb2FyZFJlbW90ZSA9ICh7IGJvYXJkSWQsIGlmYWNlIH0pID0+IHtcbiAgY29uc3Qgbm9uYWxsZWdlZCA9IGlmYWNlID8gaWZhY2UucmVwbGFjZSgvXkFsbGVnZWQ6IC8sICcnKSA6ICcnO1xuICByZXR1cm4gRmFyKGBCb2FyZFJlbW90ZSR7bm9uYWxsZWdlZH1gLCB7IGdldEJvYXJkSWQ6ICgpID0+IGJvYXJkSWQgfSk7XG59O1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5tYWtlQm9hcmRSZW1vdGUobWFrZUJvYXJkUmVtb3RlKTtcbiAgICAgICBjb25zdCBzbG90VG9Cb2FyZFJlbW90ZSA9IChib2FyZElkLCBpZmFjZSkgPT5cbiAgbWFrZUJvYXJkUmVtb3RlKHsgYm9hcmRJZCwgaWZhY2UgfSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2Uuc2xvdFRvQm9hcmRSZW1vdGUoc2xvdFRvQm9hcmRSZW1vdGUpO1xuY29uc3QgYm9hcmRWYWxUb1Nsb3QgPSB2YWwgPT4ge1xuICBpZiAoJ2dldEJvYXJkSWQnIGluIHZhbCkge1xuICAgIHJldHVybiB2YWwuZ2V0Qm9hcmRJZCgpO1xuICB9XG4gIHRocm93IEZhaWxgdW5rbm93biBvYmogaW4gYm9hcmRTbG90dGluZ01hcnNoYWxsZXIudmFsVG9TbG90ICR7dmFsfWA7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYm9hcmRTbG90dGluZ01hcnNoYWxsZXIgPSAoc2xvdFRvVmFsID0gdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBtYWtlTWFyc2hhbChib2FyZFZhbFRvU2xvdCwgc2xvdFRvVmFsLCB7XG4gICAgc2VyaWFsaXplQm9keUZvcm1hdDogJ3NtYWxsY2FwcycsXG4gIH0pO1xufTtcblxuLy9cbi8qXG5cbiAqLyRozY9fb25jZS5ib2FyZFNsb3R0aW5nTWFyc2hhbGxlcihib2FyZFNsb3R0aW5nTWFyc2hhbGxlcik7XG4gICAgICAgY29uc3QgQ2FwRGF0YVNoYXBlID0geyBib2R5OiBNLnN0cmluZygpLCBzbG90czogTS5hcnJheSgpIH07JGjNj19vbmNlLkNhcERhdGFTaGFwZShDYXBEYXRhU2hhcGUpO1xuaGFyZGVuKENhcERhdGFTaGFwZSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydENhcERhdGEgPSBkYXRhID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihkYXRhLCAnb2JqZWN0Jyk7XG4gIGFzc2VydChkYXRhKTtcbiAgdHlwZW9mIGRhdGEuYm9keSA9PT0gJ3N0cmluZycgfHwgRmFpbGBkYXRhIGhhcyBub24tc3RyaW5nIC5ib2R5ICR7ZGF0YS5ib2R5fWA7XG4gIEFycmF5LmlzQXJyYXkoZGF0YS5zbG90cykgfHwgRmFpbGBkYXRhIGhhcyBub24tQXJyYXkgc2xvdHMgJHtkYXRhLnNsb3RzfWA7XG59OyRozY9fb25jZS5hc3NlcnRDYXBEYXRhKGFzc2VydENhcERhdGEpO1xuaGFyZGVuKGFzc2VydENhcERhdGEpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB1bm1hcnNoYWxGcm9tVnN0b3JhZ2UgPSAoZGF0YSwga2V5LCBmcm9tQ2FwRGF0YSwgaW5kZXgpID0+IHtcbiAgY29uc3Qgc2VyaWFsaXplZCA9IGRhdGEuZ2V0KGtleSkgfHwgRmFpbGBubyBkYXRhIGZvciAke2tleX1gO1xuICBhc3NlcnQudHlwZW9mKHNlcmlhbGl6ZWQsICdzdHJpbmcnKTtcbiAgYXNzZXJ0LnR5cGVvZihpbmRleCwgJ251bWJlcicpO1xuXG4gIGNvbnN0IHN0cmVhbUNlbGwgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICBpZiAoIWlzU3RyZWFtQ2VsbChzdHJlYW1DZWxsKSkge1xuICAgIHRocm93IEZhaWxgbm90IGEgU3RyZWFtQ2VsbDogJHtzdHJlYW1DZWxsfWA7XG4gIH1cblxuICBjb25zdCB7IHZhbHVlcyB9ID0gc3RyZWFtQ2VsbDtcbiAgdmFsdWVzLmxlbmd0aCA+IDAgfHwgRmFpbGBubyBTdHJlYW1DZWxsIHZhbHVlczogJHtzdHJlYW1DZWxsfWA7XG5cbiAgY29uc3QgbWFyc2hhbGxlZCA9IHZhbHVlcy5hdChpbmRleCk7XG4gIGFzc2VydC50eXBlb2YobWFyc2hhbGxlZCwgJ3N0cmluZycpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjYXBEYXRhID0gaGFyZGVuKEpTT04ucGFyc2UobWFyc2hhbGxlZCkpO1xuICBhc3NlcnRDYXBEYXRhKGNhcERhdGEpO1xuXG4gIGNvbnN0IHVubWFyc2hhbGxlZCA9IGZyb21DYXBEYXRhKGNhcERhdGEpO1xuICByZXR1cm4gdW5tYXJzaGFsbGVkO1xufTskaM2PX29uY2UudW5tYXJzaGFsRnJvbVZzdG9yYWdlKHVubWFyc2hhbEZyb21Wc3RvcmFnZSk7XG5oYXJkZW4odW5tYXJzaGFsRnJvbVZzdG9yYWdlKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUhpc3RvcnlSZXZpdmVyID0gKGVudHJpZXMsIHNsb3RUb1ZhbCA9IHVuZGVmaW5lZCkgPT4ge1xuICBjb25zdCBib2FyZCA9IGJvYXJkU2xvdHRpbmdNYXJzaGFsbGVyKHNsb3RUb1ZhbCk7XG4gIGNvbnN0IHZzTWFwID0gbmV3IE1hcChlbnRyaWVzKTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGZyb21DYXBEYXRhID0gKC4uLmFyZ3MpID0+XG4gICAgUmVmbGVjdC5hcHBseShib2FyZC5mcm9tQ2FwRGF0YSwgYm9hcmQsIGFyZ3MpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGdldEl0ZW0gPSBrZXkgPT4gdW5tYXJzaGFsRnJvbVZzdG9yYWdlKHZzTWFwLCBrZXksIGZyb21DYXBEYXRhLCAtMSk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgY2hpbGRyZW4gPSBwcmVmaXggPT4ge1xuICAgIHByZWZpeC5lbmRzV2l0aCgnLicpIHx8IEZhaWxgcHJlZml4IG11c3QgZW5kIHdpdGggJy4nYDtcbiAgICByZXR1cm4gaGFyZGVuKFtcbiAgICAgIC4uLm5ldyBTZXQoXG4gICAgICAgIGVudHJpZXNcbiAgICAgICAgICAubWFwKChbaywgX10pID0+IGspXG4gICAgICAgICAgLmZpbHRlcihrID0+IGsuc3RhcnRzV2l0aChwcmVmaXgpKVxuICAgICAgICAgIC5tYXAoayA9PiBrLnNsaWNlKHByZWZpeC5sZW5ndGgpLnNwbGl0KCcuJylbMF0pLFxuICAgICAgKSxcbiAgICBdKTtcbiAgfTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgaGFzID0gayA9PiB2c01hcC5nZXQoaykgIT09IHVuZGVmaW5lZDtcblxuICByZXR1cm4gaGFyZGVuKHsgZ2V0SXRlbSwgY2hpbGRyZW4sIGhhcyB9KTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5tYWtlSGlzdG9yeVJldml2ZXIobWFrZUhpc3RvcnlSZXZpdmVyKTtcbmNvbnN0IHJlamVjdE9DYXAgPSBjYXAgPT4gRmFpbGAke2NhcH0gaXMgbm90IHB1cmUgZGF0YWA7XG4gICAgICAgY29uc3QgcHVyZURhdGFNYXJzaGFsbGVyID0gbWFrZU1hcnNoYWwocmVqZWN0T0NhcCwgcmVqZWN0T0NhcCwge1xuICBzZXJpYWxpemVCb2R5Rm9ybWF0OiAnc21hbGxjYXBzJyxcbn0pOyRozY9fb25jZS5wdXJlRGF0YU1hcnNoYWxsZXIocHVyZURhdGFNYXJzaGFsbGVyKTtcbmhhcmRlbihwdXJlRGF0YU1hcnNoYWxsZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUJvYXJkUmVtb3RlIjpbIm1ha2VCb2FyZFJlbW90ZSJdLCJzbG90VG9Cb2FyZFJlbW90ZSI6WyJzbG90VG9Cb2FyZFJlbW90ZSJdLCJib2FyZFNsb3R0aW5nTWFyc2hhbGxlciI6WyJib2FyZFNsb3R0aW5nTWFyc2hhbGxlciJdLCJDYXBEYXRhU2hhcGUiOlsiQ2FwRGF0YVNoYXBlIl0sImFzc2VydENhcERhdGEiOlsiYXNzZXJ0Q2FwRGF0YSJdLCJ1bm1hcnNoYWxGcm9tVnN0b3JhZ2UiOlsidW5tYXJzaGFsRnJvbVZzdG9yYWdlIl0sIm1ha2VIaXN0b3J5UmV2aXZlciI6WyJtYWtlSGlzdG9yeVJldml2ZXIiXSwicHVyZURhdGFNYXJzaGFsbGVyIjpbInB1cmVEYXRhTWFyc2hhbGxlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABueDuMbQYAAG0GAAArAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL21ldGhvZC10b29scy5qc3siaW1wb3J0cyI6WyJAZW5kby9ldmVudHVhbC1zZW5kL3V0aWxzLmpzIl0sImV4cG9ydHMiOlsiYmluZEFsbE1ldGhvZHMiLCJnZXRNZXRob2ROYW1lcyIsImdldFN0cmluZ01ldGhvZE5hbWVzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcmVhbEdldE1ldGhvZE5hbWVzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qc1wiLCBbW1wiZ2V0TWV0aG9kTmFtZXNcIixbJGjNj19hID0+IChyZWFsR2V0TWV0aG9kTmFtZXMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cbi8qXG5cblxuICovXG5cbmNvbnN0IHsgY3JlYXRlLCBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuY29uc3QgeyBhcHBseSB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldE1ldGhvZE5hbWVzID0gdmFsID0+XG4gIC8qICAgICAgICAgICAgICAqLyAocmVhbEdldE1ldGhvZE5hbWVzKHZhbCkpOyRozY9fb25jZS5nZXRNZXRob2ROYW1lcyhnZXRNZXRob2ROYW1lcyk7XG5oYXJkZW4oZ2V0TWV0aG9kTmFtZXMpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldFN0cmluZ01ldGhvZE5hbWVzID0gdmFsID0+XG4gIC8qICAgICAgICAgICAgICAgICAgICovIChcbiAgICByZWFsR2V0TWV0aG9kTmFtZXModmFsKS5maWx0ZXIobmFtZSA9PiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpXG4gICk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZ2V0U3RyaW5nTWV0aG9kTmFtZXMoZ2V0U3RyaW5nTWV0aG9kTmFtZXMpO1xuICAgICAgIGNvbnN0IGJpbmRBbGxNZXRob2RzID0gb2JqID0+XG4gIGhhcmRlbihcbiAgICBjcmVhdGUoXG4gICAgICBvYmosXG4gICAgICBmcm9tRW50cmllcyhcbiAgICAgICAgcmVhbEdldE1ldGhvZE5hbWVzKG9iaikubWFwKG5hbWUgPT4gW1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6ICgvKiAgICAgICAgICAgICAgICAgICAgKi8gLi4uYXJncykgPT5cbiAgICAgICAgICAgICAgYXBwbHkob2JqW25hbWVdLCBvYmosIGFyZ3MpLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKSxcbiAgICAgICksXG4gICAgKSxcbiAgKTskaM2PX29uY2UuYmluZEFsbE1ldGhvZHMoYmluZEFsbE1ldGhvZHMpO1xuaGFyZGVuKGJpbmRBbGxNZXRob2RzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImdldE1ldGhvZE5hbWVzIjpbImdldE1ldGhvZE5hbWVzIl0sImdldFN0cmluZ01ldGhvZE5hbWVzIjpbImdldFN0cmluZ01ldGhvZE5hbWVzIl0sImJpbmRBbGxNZXRob2RzIjpbImJpbmRBbGxNZXRob2RzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALJ9qtDJNgAAyTYAACYAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbWV0cmljcy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9uYXQiXSwiZXhwb3J0cyI6WyJCTE9DS19ISVNUT0dSQU1fTUVUUklDUyIsIkhJU1RPR1JBTV9NRVRSSUNTIiwiS0VSTkVMX1NUQVRTX01FVFJJQ1MiLCJLRVJORUxfU1RBVFNfU1VNX01FVFJJQ1MiLCJLRVJORUxfU1RBVFNfVVBET1dOX01FVFJJQ1MiLCJRdWV1ZU1ldHJpY0FzcGVjdCIsIm1ha2VRdWV1ZU1ldHJpY3MiLCJtYWtlUXVldWVNZXRyaWNzTWV0YSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsaXNOYXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbmF0XCIsIFtbXCJpc05hdFwiLFskaM2PX2EgPT4gKGlzTmF0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG5jb25zdCBISVNUT0dSQU1fTVNfTEFURU5DWV9CT1VOREFSSUVTID0gW1xuICA1LFxuICAxMCxcbiAgMjUsXG4gIDUwLFxuICAxMDAsXG4gIDI1MCxcbiAgNTAwLFxuICAxMDAwLFxuICAyNTAwLFxuICA1MDAwLFxuICAxMDAwMCxcbiAgSW5maW5pdHksXG5dO1xuY29uc3QgSElTVE9HUkFNX1NFQ09ORFNfTEFURU5DWV9CT1VOREFSSUVTID1cbiAgSElTVE9HUkFNX01TX0xBVEVOQ1lfQk9VTkRBUklFUy5tYXAobXMgPT4gbXMgLyAxMDAwKTtcblxuLy9cbi8vXG4gICAgICAgY29uc3QgSElTVE9HUkFNX01FVFJJQ1MgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBzd2luZ3NldF9jcmFua19wcm9jZXNzaW5nX3RpbWU6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1Byb2Nlc3NpbmcgdGltZSBwZXIgY3JhbmsgKG1zKScsXG4gICAgdW5pdDogJ21zJyxcbiAgICBib3VuZGFyaWVzOiBBcnJheS5vZigxLCAxMSwgMjEsIDMxLCA0MSwgNTEsIDYxLCA3MSwgODEsIDkxLCBJbmZpbml0eSksXG4gIH0sXG4gIHN3aW5nc2V0X2Jsb2NrX3Byb2Nlc3Npbmdfc2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOiAnUHJvY2Vzc2luZyB0aW1lIHBlciBibG9jaycsXG4gICAgdW5pdDogJ3MnLFxuICAgIGJvdW5kYXJpZXM6IEhJU1RPR1JBTV9TRUNPTkRTX0xBVEVOQ1lfQk9VTkRBUklFUyxcbiAgfSxcbiAgc3dpbmdzZXRfdmF0X3N0YXJ0dXA6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1ZhdCBzdGFydHVwIHRpbWUgKG1zKScsXG4gICAgdW5pdDogJ21zJyxcbiAgICBib3VuZGFyaWVzOiBISVNUT0dSQU1fTVNfTEFURU5DWV9CT1VOREFSSUVTLFxuICB9LFxuICBzd2luZ3NldF92YXRfZGVsaXZlcnk6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1ZhdCBkZWxpdmVyeSB0aW1lIChtcyknLFxuICAgIHVuaXQ6ICdtcycsXG4gICAgYm91bmRhcmllczogSElTVE9HUkFNX01TX0xBVEVOQ1lfQk9VTkRBUklFUyxcbiAgfSxcbiAgc3dpbmdzZXRfbWV0ZXJfdXNhZ2U6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1ZhdCBtZXRlciB1c2FnZScsXG4gICAgdW5pdDogJ21zJyxcbiAgICBib3VuZGFyaWVzOiBISVNUT0dSQU1fTVNfTEFURU5DWV9CT1VOREFSSUVTLFxuICB9LFxufSk7JGjNj19vbmNlLkhJU1RPR1JBTV9NRVRSSUNTKEhJU1RPR1JBTV9NRVRSSUNTKTtcblxuY29uc3QgYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjID0ge1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICB1bml0OiAncycsXG4gIGFkdmljZToge1xuICAgIGV4cGxpY2l0QnVja2V0Qm91bmRhcmllczogW1xuICAgICAgMC4xLCAwLjIsIDAuMywgMC40LCAwLjUsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDEwLCAxNSwgMzAsXG4gICAgXSxcbiAgfSxcbn07XG4gICAgICAgY29uc3QgQkxPQ0tfSElTVE9HUkFNX01FVFJJQ1MgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBzd2luZ3NldFJ1blNlY29uZHM6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1Blci1ibG9jayB0aW1lIHNwZW50IGV4ZWN1dGluZyBTd2luZ1NldCcsXG4gICAgLi4uYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjLFxuICB9LFxuICBzd2luZ3NldENoYWluU2F2ZVNlY29uZHM6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1Blci1ibG9jayB0aW1lIHNwZW50IHByb3BhZ2F0aW5nIFN3aW5nU2V0IHN0YXRlIGludG8gY29zbW9zJyxcbiAgICAuLi5ibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MsXG4gIH0sXG4gIHN3aW5nc2V0Q29tbWl0U2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ1Blci1ibG9jayB0aW1lIHNwZW50IGNvbW1pdHRpbmcgU3dpbmdTZXQgc3RhdGUgdG8gaG9zdCBzdG9yYWdlJyxcbiAgICAuLi5ibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MsXG4gIH0sXG4gIGNvc21vc0NvbW1pdFNlY29uZHM6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1Blci1ibG9jayB0aW1lIHNwZW50IGNvbW1pdHRpbmcgY29zbW9zIHN0YXRlJyxcbiAgICAuLi5ibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MsXG4gIH0sXG4gIGZ1bGxDb21taXRTZWNvbmRzOiB7XG4gICAgZGVzY3JpcHRpb246XG4gICAgICAnUGVyLWJsb2NrIHRpbWUgc3BlbnQgY29tbWl0dGluZyBzdGF0ZSwgaW5jbHVzaXZlIG9mIENPTU1JVF9CTE9DSyBwcm9jZXNzaW5nIHBsdXMgdGltZSBzcGVudCBbb3V0c2lkZSBvZiBjb3NtaWMtc3dpbmdzZXRdIGJlZm9yZSBhbmQgYWZ0ZXIgaXQnLFxuICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYyxcbiAgfSxcbiAgaW50ZXJCbG9ja1NlY29uZHM6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RpbWUgc3BlbnQgaWRsZSBiZXR3ZWVuIGJsb2NrcycsXG4gICAgLi4uYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjLFxuICB9LFxuICBhZnRlckNvbW1pdEhhbmdvdmVyU2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ1Blci1ibG9jayB0aW1lIHNwZW50IHdhaXRpbmcgZm9yIHByZXZpb3VzLWJsb2NrIGFmdGVyQ29tbWl0IHdvcmsnLFxuICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYyxcbiAgfSxcbiAgYmxvY2tMYWdTZWNvbmRzOiB7XG4gICAgZGVzY3JpcHRpb246ICdUaGUgZGVsYXkgb2YgZWFjaCBibG9jayBmcm9tIGl0cyBleHBlY3RlZCBiZWdpbiB0aW1lJyxcbiAgICAuLi5ibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MsXG4gICAgLy9cbiAgICBhZHZpY2U6IHtcbiAgICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYy5hZHZpY2UsXG4gICAgICBleHBsaWNpdEJ1Y2tldEJvdW5kYXJpZXM6IC8qICAgICAgICAgICAgICAgICAgICovIChbXG4gICAgICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYy5hZHZpY2UuZXhwbGljaXRCdWNrZXRCb3VuZGFyaWVzLFxuICAgICAgICAuLi5bNjAsIDEyMCwgMTgwLCAyNDAsIDMwMCwgNjAwLCAzNjAwXSxcbiAgICAgIF0pLFxuICAgIH0sXG4gIH0sXG59KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5CTE9DS19ISVNUT0dSQU1fTUVUUklDUyhCTE9DS19ISVNUT0dSQU1fTUVUUklDUyk7XG4gICAgICAgY29uc3QgUXVldWVNZXRyaWNBc3BlY3QgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBMZW5ndGg6ICdsZW5ndGgnLFxuICBJbmNyZW1lbnRDb3VudDogJ2luY3JlbWVudHMnLFxuICBEZWNyZW1lbnRDb3VudDogJ2RlY3JlbWVudHMnLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLlF1ZXVlTWV0cmljQXNwZWN0KFF1ZXVlTWV0cmljQXNwZWN0KTtcbiAgICAgICBjb25zdCBtYWtlUXVldWVNZXRyaWNzTWV0YSA9IChuYW1lUHJlZml4LCBkZXNjUHJlZml4KSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWV0cmljc01ldGEgPSBbXG4gICAgW1F1ZXVlTWV0cmljQXNwZWN0Lkxlbmd0aCwgJ2xlbmd0aCcsICdsZW5ndGgnXSxcbiAgICBbUXVldWVNZXRyaWNBc3BlY3QuSW5jcmVtZW50Q291bnQsICdhZGQnLCAnaW5jcmVtZW50cyddLFxuICAgIFtRdWV1ZU1ldHJpY0FzcGVjdC5EZWNyZW1lbnRDb3VudCwgJ3JlbW92ZScsICdkZWNyZW1lbnRzJ10sXG4gIF07XG4gIGNvbnN0IGVudHJpZXMgPSBtZXRyaWNzTWV0YS5tYXAoKFthc3BlY3QsIG5hbWVTdWZmaXgsIGRlc2NTdWZmaXhdKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGAke25hbWVQcmVmaXh9XyR7bmFtZVN1ZmZpeH1gO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYCR7ZGVzY1ByZWZpeH0gJHtkZXNjU3VmZml4fWA7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJldHVybiBbYXNwZWN0LCB7IG5hbWUsIG9wdGlvbnM6IHsgZGVzY3JpcHRpb24gfSB9XTtcbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZW50cmllcyk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlUXVldWVNZXRyaWNzTWV0YShtYWtlUXVldWVNZXRyaWNzTWV0YSk7XG4gICAgICAgY29uc3QgbWFrZVF1ZXVlTWV0cmljcyA9ICh7XG4gIG90ZWxNZXRlcixcbiAgbmFtZVByZWZpeCxcbiAgZGVzY1ByZWZpeCxcbiAgY29uc29sZSxcbn0pID0+IHtcbiAgY29uc3Qge1xuICAgIFtRdWV1ZU1ldHJpY0FzcGVjdC5MZW5ndGhdOiBsZW5ndGhNZXRhLFxuICAgIFtRdWV1ZU1ldHJpY0FzcGVjdC5JbmNyZW1lbnRDb3VudF06IHVwTWV0YSxcbiAgICBbUXVldWVNZXRyaWNBc3BlY3QuRGVjcmVtZW50Q291bnRdOiBkb3duTWV0YSxcbiAgfSA9IG1ha2VRdWV1ZU1ldHJpY3NNZXRhKG5hbWVQcmVmaXgsIGRlc2NQcmVmaXgpO1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBsZW5ndGhDb3VudGVyID0gb3RlbE1ldGVyLmNyZWF0ZVVwRG93bkNvdW50ZXIoXG4gICAgbGVuZ3RoTWV0YS5uYW1lLFxuICAgIGxlbmd0aE1ldGEub3B0aW9ucyxcbiAgKTtcbiAgLy9cbiAgLy9cbiAgY29uc3QgdXBDb3VudGVyID0gb3RlbE1ldGVyLmNyZWF0ZU9ic2VydmFibGVDb3VudGVyKFxuICAgIHVwTWV0YS5uYW1lLFxuICAgIHVwTWV0YS5vcHRpb25zLFxuICApO1xuICBjb25zdCBkb3duQ291bnRlciA9IG90ZWxNZXRlci5jcmVhdGVPYnNlcnZhYmxlQ291bnRlcihcbiAgICBkb3duTWV0YS5uYW1lLFxuICAgIGRvd25NZXRhLm9wdGlvbnMsXG4gICk7XG4gIGNvbnN0IGluY3JlbWVudHMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG5ldyBNYXAoKSk7XG4gIGNvbnN0IGRlY3JlbWVudHMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG5ldyBNYXAoKSk7XG4gIHVwQ291bnRlci5hZGRDYWxsYmFjayhvYnNlcnZlciA9PiB7XG4gICAgZm9yIChjb25zdCBbcXVldWVOYW1lLCB2YWx1ZV0gb2YgaW5jcmVtZW50cy5lbnRyaWVzKCkpIHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUodmFsdWUsIHsgcXVldWU6IHF1ZXVlTmFtZSB9KTtcbiAgICB9XG4gIH0pO1xuICBkb3duQ291bnRlci5hZGRDYWxsYmFjayhvYnNlcnZlciA9PiB7XG4gICAgZm9yIChjb25zdCBbcXVldWVOYW1lLCB2YWx1ZV0gb2YgZGVjcmVtZW50cy5lbnRyaWVzKCkpIHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUodmFsdWUsIHsgcXVldWU6IHF1ZXVlTmFtZSB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGxldCByZWFkeSA9IGZhbHNlO1xuICBjb25zdCBsZW5ndGhzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChuZXcgTWFwKCkpO1xuICBjb25zdCBudWRnZSA9IChxdWV1ZU5hbWUsIGRlbHRhLCBpbml0ID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWxlbmd0aHMuaGFzKHF1ZXVlTmFtZSkpIHtcbiAgICAgIGlmICghaW5pdCkgY29uc29sZT8ud2FybignVW5rbm93biBxdWV1ZScsIHF1ZXVlTmFtZSk7XG4gICAgICBsZW5ndGhzLnNldChxdWV1ZU5hbWUsIDApO1xuICAgICAgaW5jcmVtZW50cy5zZXQocXVldWVOYW1lLCAwKTtcbiAgICAgIGRlY3JlbWVudHMuc2V0KHF1ZXVlTmFtZSwgMCk7XG4gICAgfVxuICAgIGNvbnN0IG9sZExlbmd0aCA9IGxlbmd0aHMuZ2V0KHF1ZXVlTmFtZSk7XG4gICAgbGVuZ3Rocy5zZXQocXVldWVOYW1lLCBvbGRMZW5ndGggKyBkZWx0YSk7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHsgcXVldWU6IHF1ZXVlTmFtZSB9O1xuICAgIGxlbmd0aENvdW50ZXIuYWRkKGRlbHRhLCBkaW1lbnNpb25zKTtcbiAgICBpZiAoaW5pdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPiAwKSB7XG4gICAgICAvL1xuICAgICAgaW5jcmVtZW50cy5zZXQocXVldWVOYW1lLCAoaW5jcmVtZW50cy5nZXQocXVldWVOYW1lKSB8fCAwKSArIGRlbHRhKTtcbiAgICB9IGVsc2UgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgLy9cbiAgICAgIGRlY3JlbWVudHMuc2V0KHF1ZXVlTmFtZSwgKGRlY3JlbWVudHMuZ2V0KHF1ZXVlTmFtZSkgfHwgMCkgLSBkZWx0YSk7XG4gICAgfVxuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBpbml0TGVuZ3RoczogaW5pdGlhbExlbmd0aHMgPT4ge1xuICAgICAgIXJlYWR5IHx8XG4gICAgICAgIGNvbnNvbGU/Lndhcm4oXG4gICAgICAgICAgYFVuZXhwZWN0ZWQgcmVwZWF0IHF1ZXVlIGxlbmd0aCBpbml0aWFsaXphdGlvbiBmcm9tICR7cShsZW5ndGhzKX0gdG8gJHtxKGluaXRpYWxMZW5ndGhzKX1gXG4gICAgICAgICk7XG4gICAgICBmb3IgKGNvbnN0IFtxdWV1ZU5hbWUsIG5ld0xlbmd0aF0gb2YgT2JqZWN0LmVudHJpZXMoaW5pdGlhbExlbmd0aHMpKSB7XG4gICAgICAgIGlmICghaXNOYXQobmV3TGVuZ3RoKSkge1xuICAgICAgICAgIGNvbnNvbGU/Lndhcm4oYEludmFsaWQgbGVuZ3RoIGZvciBxdWV1ZSAke3EocXVldWVOYW1lKX06YCwgbmV3TGVuZ3RoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBudWRnZShxdWV1ZU5hbWUsIG5ld0xlbmd0aCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVMZW5ndGhzOiBuZXdMZW5ndGhzID0+IHtcbiAgICAgIHJlYWR5IHx8IGNvbnNvbGU/Lndhcm4oJ01pc3NpbmcgaW5pdGlhbCBxdWV1ZSBsZW5ndGhzJyk7XG4gICAgICBmb3IgKGNvbnN0IFtxdWV1ZU5hbWUsIG5ld0xlbmd0aF0gb2YgT2JqZWN0LmVudHJpZXMobmV3TGVuZ3RocykpIHtcbiAgICAgICAgaWYgKCFpc05hdChuZXdMZW5ndGgpKSB7XG4gICAgICAgICAgY29uc29sZT8ud2FybihgSW52YWxpZCBsZW5ndGggZm9yIHF1ZXVlICR7cShxdWV1ZU5hbWUpfTpgLCBuZXdMZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG51ZGdlKHF1ZXVlTmFtZSwgbmV3TGVuZ3RoIC0gKGxlbmd0aHMuZ2V0KHF1ZXVlTmFtZSkgfHwgMCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5jTGVuZ3RoOiAocXVldWVOYW1lLCBkZWx0YSA9IDEpID0+IHtcbiAgICAgIGlmICghaXNOYXQoZGVsdGEpKSB7XG4gICAgICAgIGNvbnNvbGU/Lndhcm4oYEludmFsaWQgaW5jcmVtZW50IGZvciBxdWV1ZSAke3EocXVldWVOYW1lKX06YCwgZGVsdGEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBudWRnZShxdWV1ZU5hbWUsIGRlbHRhKTtcbiAgICB9LFxuICAgIGRlY0xlbmd0aDogKHF1ZXVlTmFtZSwgZGVsdGEgPSAxKSA9PiB7XG4gICAgICBpZiAoIWlzTmF0KGRlbHRhKSkge1xuICAgICAgICBjb25zb2xlPy53YXJuKGBJbnZhbGlkIGRlY3JlbWVudCBmb3IgcXVldWUgJHtxKHF1ZXVlTmFtZSl9OmAsIGRlbHRhKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbnVkZ2UocXVldWVOYW1lLCAtZGVsdGEpO1xuICAgIH0sXG4gIH0pO1xufTtcblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UubWFrZVF1ZXVlTWV0cmljcyhtYWtlUXVldWVNZXRyaWNzKTtcbmNvbnN0IE1ldHJpY1R5cGUgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBDb3VudGVyOiAnY291bnRlcicsXG4gIEdhdWdlOiAnZ2F1Z2UnLFxufSk7XG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgS0VSTkVMX1NUQVRTX1NVTV9NRVRSSUNTID0gW1xuICB7XG4gICAga2V5OiAnc3lzY2FsbHMnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9hbGxfc3lzY2FsbF90b3RhbCcsXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxTZW5kJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfc3lzY2FsbF90b3RhbCcsXG4gICAgc3ViOiB7IGRpbWVuc2lvbjogJ3N5c2NhbGwnLCB2YWx1ZTogJ3NlbmQnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgbWVzc2FnZSBzZW5kIGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsQ2FsbE5vdycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICdjYWxsTm93JyB9LFxuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgbnVtYmVyIG9mIFN3aW5nU2V0IHN5bmNocm9ub3VzIGRldmljZSBrZXJuZWwgY2FsbHMnLFxuICB9LFxuICB7XG4gICAga2V5OiAnc3lzY2FsbFN1YnNjcmliZScsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICdzdWJzY3JpYmUnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgcHJvbWlzZSBzdWJzY3JpcHRpb24ga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxSZXNvbHZlJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfc3lzY2FsbF90b3RhbCcsXG4gICAgc3ViOiB7IGRpbWVuc2lvbjogJ3N5c2NhbGwnLCB2YWx1ZTogJ3Jlc29sdmUnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgcHJvbWlzZSByZXNvbHV0aW9uIGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsRXhpdCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICdleGl0JyB9LFxuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgbnVtYmVyIG9mIFN3aW5nU2V0IHZhdCBleGl0IGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsVmF0c3RvcmVHZXQnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAndmF0c3RvcmVHZXQnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgdmF0c3RvcmUgZ2V0IGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsVmF0c3RvcmVTZXQnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAndmF0c3RvcmVTZXQnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgdmF0c3RvcmUgc2V0IGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsVmF0c3RvcmVHZXROZXh0S2V5JyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfc3lzY2FsbF90b3RhbCcsXG4gICAgc3ViOiB7IGRpbWVuc2lvbjogJ3N5c2NhbGwnLCB2YWx1ZTogJ3ZhdHN0b3JlR2V0TmV4dCcgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCB2YXRzdG9yZSBnZXROZXh0S2V5IGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsVmF0c3RvcmVEZWxldGUnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAndmF0c3RvcmVEZWxldGUnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgdmF0c3RvcmUgZGVsZXRlIGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsRHJvcEltcG9ydHMnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAnZHJvcEltcG9ydHMnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgZHJvcCBpbXBvcnRzIGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdkaXNwYXRjaGVzJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfZGlzcGF0Y2hfdG90YWwnLFxuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgbnVtYmVyIG9mIFN3aW5nU2V0IHZhdCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdkaXNwYXRjaERlbGl2ZXInLFxuICAgIG5hbWU6ICdzd2luZ3NldF9kaXNwYXRjaF9kZWxpdmVyX3RvdGFsJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCB2YXQgbWVzc2FnZSBkZWxpdmVyaWVzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2Rpc3BhdGNoTm90aWZ5JyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfZGlzcGF0Y2hfbm90aWZ5X3RvdGFsJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCB2YXQgcHJvbWlzZSBub3RpZmljYXRpb25zJyxcbiAgfSxcbl07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLktFUk5FTF9TVEFUU19TVU1fTUVUUklDUyhLRVJORUxfU1RBVFNfU1VNX01FVFJJQ1MpO1xuICAgICAgIGNvbnN0IEtFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUyA9IFtcbiAge1xuICAgIGtleTogJ2tlcm5lbE9iamVjdHMnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9rZXJuZWxfb2JqZWN0cycsXG4gICAgZGVzY3JpcHRpb246ICdBY3RpdmUga2VybmVsIG9iamVjdHMnLFxuICB9LFxuICB7XG4gICAga2V5OiAna2VybmVsRGV2aWNlcycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2tlcm5lbF9kZXZpY2VzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0FjdGl2ZSBrZXJuZWwgZGV2aWNlcycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdrZXJuZWxQcm9taXNlcycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2tlcm5lbF9wcm9taXNlcycsXG4gICAgZGVzY3JpcHRpb246ICdBY3RpdmUga2VybmVsIHByb21pc2VzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2twVW5yZXNvbHZlZCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3VucmVzb2x2ZWRfa2VybmVsX3Byb21pc2VzJyxcbiAgICBkZXNjcmlwdGlvbjogJ1VucmVzb2x2ZWQga2VybmVsIHByb21pc2VzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2twRnVsZmlsbGVkJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfZnVsZmlsbGVkX2tlcm5lbF9wcm9taXNlcycsXG4gICAgZGVzY3JpcHRpb246ICdGdWxmaWxsZWQga2VybmVsIHByb21pc2VzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2twUmVqZWN0ZWQnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9yZWplY3RlZF9rZXJuZWxfcHJvbWlzZXMnLFxuICAgIGRlc2NyaXB0aW9uOiAnUmVqZWN0ZWQga2VybmVsIHByb21pc2VzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3J1blF1ZXVlTGVuZ3RoJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfcnVuX3F1ZXVlX2xlbmd0aCcsXG4gICAgY29uc2Vuc3VzOiB0cnVlLFxuICAgIGRlc2NyaXB0aW9uOiAnTGVuZ3RoIG9mIHRoZSBrZXJuZWwgcnVuIHF1ZXVlJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2FjY2VwdGFuY2VRdWV1ZUxlbmd0aCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2FjY2VwdGFuY2VfcXVldWVfbGVuZ3RoJyxcbiAgICBjb25zZW5zdXM6IHRydWUsXG4gICAgZGVzY3JpcHRpb246ICdMZW5ndGggb2YgdGhlIGtlcm5lbCBhY2NlcHRhbmNlIHF1ZXVlJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3Byb21pc2VRdWV1ZXNMZW5ndGgnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9wcm9taXNlX3F1ZXVlc19sZW5ndGgnLFxuICAgIGNvbnNlbnN1czogdHJ1ZSxcbiAgICBkZXNjcmlwdGlvbjogJ0NvbWJpbmVkIGxlbmd0aCBvZiBhbGwga2VybmVsIHByb21pc2UgcXVldWVzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2NsaXN0RW50cmllcycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2NsaXN0X2VudHJpZXMnLFxuICAgIGRlc2NyaXB0aW9uOiAnTnVtYmVyIG9mIGVudHJpZXMgaW4gdGhlIGtlcm5lbCBjLWxpc3QnLFxuICB9LFxuICB7XG4gICAga2V5OiAndmF0cycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3ZhdHMnLFxuICAgIGRlc2NyaXB0aW9uOiAnTnVtYmVyIG9mIGFjdGl2ZSB2YXRzJyxcbiAgfSxcbl07JGjNj19vbmNlLktFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUyhLRVJORUxfU1RBVFNfVVBET1dOX01FVFJJQ1MpO1xuXG5jb25zdCB7IENvdW50ZXIsIEdhdWdlIH0gPSBNZXRyaWNUeXBlO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgS0VSTkVMX1NUQVRTX01FVFJJQ1MgPSBoYXJkZW4oW1xuICAuLi5LRVJORUxfU1RBVFNfU1VNX01FVFJJQ1MubWFwKG0gPT4gKHsgLi4ubSwgbWV0cmljVHlwZTogQ291bnRlciB9KSksXG4gIC4uLktFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUy5tYXAobSA9PiAoeyAuLi5tLCBtZXRyaWNUeXBlOiBHYXVnZSB9KSksXG5dKTtcblxuLy9cbiRozY9fb25jZS5LRVJORUxfU1RBVFNfTUVUUklDUyhLRVJORUxfU1RBVFNfTUVUUklDUyk7Y29uc3Qga2VybmVsU3RhdHNLZXlzPW5ldyBNYXAoKTtcbmZvciAoY29uc3QgeyBrZXkgfSBvZiBLRVJORUxfU1RBVFNfTUVUUklDUykge1xuICBrZXJuZWxTdGF0c0tleXMuc2V0KGtleSwgKGtlcm5lbFN0YXRzS2V5cy5nZXQoa2V5KSB8fCAwKSArIDEpO1xufVxuY29uc3QgZHVwbGljYXRlS2VybmVsU3RhdHNLZXlzID0gWy4uLmtlcm5lbFN0YXRzS2V5cy5lbnRyaWVzKCldLmZsYXRNYXAoXG4gIChba2V5LCB2YWx1ZV0pID0+ICh2YWx1ZSA+IDEgPyBba2V5XSA6IFtdKSxcbik7XG5pZiAoZHVwbGljYXRlS2VybmVsU3RhdHNLZXlzLmxlbmd0aCA+IDApIHtcbiAgY29uc3QgbXNnID0gYER1cGxpY2F0ZSBrZXJuZWwgc3RhdHMga2V5cyAke0pTT04uc3RyaW5naWZ5KGR1cGxpY2F0ZUtlcm5lbFN0YXRzS2V5cyl9YDtcbiAgdGhyb3cgRXJyb3IobXNnKTtcbn1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkhJU1RPR1JBTV9NRVRSSUNTIjpbIkhJU1RPR1JBTV9NRVRSSUNTIl0sIkJMT0NLX0hJU1RPR1JBTV9NRVRSSUNTIjpbIkJMT0NLX0hJU1RPR1JBTV9NRVRSSUNTIl0sIlF1ZXVlTWV0cmljQXNwZWN0IjpbIlF1ZXVlTWV0cmljQXNwZWN0Il0sIm1ha2VRdWV1ZU1ldHJpY3NNZXRhIjpbIm1ha2VRdWV1ZU1ldHJpY3NNZXRhIl0sIm1ha2VRdWV1ZU1ldHJpY3MiOlsibWFrZVF1ZXVlTWV0cmljcyJdLCJLRVJORUxfU1RBVFNfU1VNX01FVFJJQ1MiOlsiS0VSTkVMX1NUQVRTX1NVTV9NRVRSSUNTIl0sIktFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUyI6WyJLRVJORUxfU1RBVFNfVVBET1dOX01FVFJJQ1MiXSwiS0VSTkVMX1NUQVRTX01FVFJJQ1MiOlsiS0VSTkVMX1NUQVRTX01FVFJJQ1MiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA5kesHwQFAAAEBQAAKwAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9uYXR1cmFsLXNvcnQuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIm5hdHVyYWxDb21wYXJlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qXG5cblxuXG4gKi9cbmNvbnN0IGNvbXBhcmVOYXRzID0gKGEsIGIpID0+IHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgZGlmZiA9ICthIC0gK2I7XG4gIGNvbnN0IGZpbml0ZURpZmYgPVxuICAgIChOdW1iZXIuaXNGaW5pdGUoZGlmZikgJiYgZGlmZikgfHxcbiAgICAoYSA9PT0gYiA/IDAgOiBOdW1iZXIoQmlnSW50KGEpIC0gQmlnSW50KGIpKSB8fCBhLmxlbmd0aCAtIGIubGVuZ3RoKTtcblxuICAvL1xuICByZXR1cm4gTWF0aC5zaWduKGZpbml0ZURpZmYpO1xufTtcblxuLy9cbi8vXG4vL1xuY29uc3QgY29tcGFyZVN0cmluZ3MgPSAoYSwgYikgPT4gKGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwKTtcblxuY29uc3QgclByZWZpeGVkRGlnaXRzID0gL14oXFxEKikoXFxkKykoXFxELip8KS9zO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbmF0dXJhbENvbXBhcmUgPSAoYSwgYikgPT4ge1xuICBjb25zdCBbX2EsIGFQcmVmaXgsIGFEaWdpdHMsIGFTdWZmaXhdID0gclByZWZpeGVkRGlnaXRzLmV4ZWMoYSkgfHwgW107XG4gIGlmIChhUHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBbX2IsIGJQcmVmaXgsIGJEaWdpdHMsIGJTdWZmaXhdID0gclByZWZpeGVkRGlnaXRzLmV4ZWMoYikgfHwgW107XG4gICAgaWYgKGJQcmVmaXggPT09IGFQcmVmaXgpIHtcbiAgICAgIHJldHVybiBjb21wYXJlTmF0cyhhRGlnaXRzLCBiRGlnaXRzKSB8fCBjb21wYXJlU3RyaW5ncyhhU3VmZml4LCBiU3VmZml4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbXBhcmVTdHJpbmdzKGEsIGIpO1xufTskaM2PX29uY2UubmF0dXJhbENvbXBhcmUobmF0dXJhbENvbXBhcmUpO1xuaGFyZGVuKG5hdHVyYWxDb21wYXJlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im5hdHVyYWxDb21wYXJlIjpbIm5hdHVyYWxDb21wYXJlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJpCwl7NLAAAzSwAACgAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvc2VzLXV0aWxzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzIiwiQGVuZG8vY29tbW9uL29iamVjdC1tZXRhLW1hcC5qcyIsIkBlbmRvL2NvbW1vbi9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vc3RyZWFtIiwiamVzc2llLmpzIiwiLi9qcy11dGlscy5qcyJdLCJleHBvcnRzIjpbIlByb21pc2VBbGxPckVycm9ycyIsImFnZ3JlZ2F0ZVRyeUZpbmFsbHkiLCJhbGxWYWx1ZXMiLCJhc3NlcnRBbGxEZWZpbmVkIiwiYXR0ZW51YXRlIiwiZGVlcGx5RnVsZmlsbGVkT2JqZWN0IiwiZm9yZXZlciIsImZyb21VbmlxdWVFbnRyaWVzIiwibWFrZUxpbWl0ZWRDb25zb2xlIiwib2JqZWN0TWFwIiwib2JqZWN0TWV0YU1hcCIsInN5bmNocm9uaXplZFRlZSIsInVudGlsVHJ1ZSIsIndoaWxlVHJ1ZSIsIndpdGhEZWZlcnJlZENsZWFudXAiLCJ6aXAiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvYmplY3RNYXAsb2JqZWN0TWV0YU1hcCxmcm9tVW5pcXVlRW50cmllcyxxLEZhaWwsbWFrZUVycm9yLGFubm90YXRlRXJyb3IsWCxkZWVwbHlGdWxmaWxsZWQsaXNPYmplY3QsbWFrZVByb21pc2VLaXQsbWFrZVF1ZXVlLGFzeW5jR2VuZXJhdGUsbG9nTGV2ZWxzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSksJGjNj19saXZlW1wib2JqZWN0TWFwXCJdXV1dXSxbXCJAZW5kby9jb21tb24vb2JqZWN0LW1ldGEtbWFwLmpzXCIsIFtbXCJvYmplY3RNZXRhTWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWV0YU1hcCA9ICRozY9fYSksJGjNj19saXZlW1wib2JqZWN0TWV0YU1hcFwiXV1dXV0sW1wiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanNcIiwgW1tcImZyb21VbmlxdWVFbnRyaWVzXCIsWyRozY9fYSA9PiAoZnJvbVVuaXF1ZUVudHJpZXMgPSAkaM2PX2EpLCRozY9fbGl2ZVtcImZyb21VbmlxdWVFbnRyaWVzXCJdXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcIm1ha2VFcnJvclwiLFskaM2PX2EgPT4gKG1ha2VFcnJvciA9ICRozY9fYSldXSxbXCJhbm5vdGF0ZUVycm9yXCIsWyRozY9fYSA9PiAoYW5ub3RhdGVFcnJvciA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImRlZXBseUZ1bGZpbGxlZFwiLFskaM2PX2EgPT4gKGRlZXBseUZ1bGZpbGxlZCA9ICRozY9fYSldXSxbXCJpc09iamVjdFwiLFskaM2PX2EgPT4gKGlzT2JqZWN0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcIm1ha2VQcm9taXNlS2l0XCIsWyRozY9fYSA9PiAobWFrZVByb21pc2VLaXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9zdHJlYW1cIiwgW1tcIm1ha2VRdWV1ZVwiLFskaM2PX2EgPT4gKG1ha2VRdWV1ZSA9ICRozY9fYSldXV1dLFtcImplc3NpZS5qc1wiLCBbW1wiYXN5bmNHZW5lcmF0ZVwiLFskaM2PX2EgPT4gKGFzeW5jR2VuZXJhdGUgPSAkaM2PX2EpXV1dXSxbXCIuL2pzLXV0aWxzLmpzXCIsIFtbXCJsb2dMZXZlbHNcIixbJGjNj19hID0+IChsb2dMZXZlbHMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmNvbnN0IHsgZnJvbUVudHJpZXMsIGtleXMsIHZhbHVlcyB9ID0gT2JqZWN0O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IG1ha2VMaW1pdGVkQ29uc29sZSA9IG1ha2VMb2dnZXIgPT4ge1xuICBjb25zdCBsaW1pdGVkQ29uc29sZSA9IC8qICAgICAgICAgICAgICAqLyAoXG4gICAgZnJvbUVudHJpZXMobG9nTGV2ZWxzLm1hcChsZXZlbCA9PiBbbGV2ZWwsIG1ha2VMb2dnZXIobGV2ZWwpXSkpXG4gICk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoaGFyZGVuKGxpbWl0ZWRDb25zb2xlKSk7XG59OyRozY9fb25jZS5tYWtlTGltaXRlZENvbnNvbGUobWFrZUxpbWl0ZWRDb25zb2xlKTtcbmhhcmRlbihtYWtlTGltaXRlZENvbnNvbGUpO1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVlcGx5RnVsZmlsbGVkT2JqZWN0ID0gYXN5bmMgb2JqID0+IHtcbiAgaXNPYmplY3Qob2JqKSB8fCBGYWlsYHBhcmFtIG11c3QgYmUgYW4gb2JqZWN0YDtcbiAgcmV0dXJuIGRlZXBseUZ1bGZpbGxlZChvYmopO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5kZWVwbHlGdWxmaWxsZWRPYmplY3QoZGVlcGx5RnVsZmlsbGVkT2JqZWN0KTtcbmNvbnN0IG1ha2VBZ2dyZWdhdGVFcnJvciA9XG4gIHR5cGVvZiBBZ2dyZWdhdGVFcnJvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gKGVycm9ycywgbWVzc2FnZSwgb3B0aW9ucykgPT4gQWdncmVnYXRlRXJyb3IoZXJyb3JzLCBtZXNzYWdlLCBvcHRpb25zKVxuICAgIDogKGVycm9ycywgbWVzc2FnZSwgb3B0aW9ucykgPT4ge1xuICAgICAgICByZXR1cm4gbWFrZUVycm9yKG1lc3NhZ2UgPz8gJ211bHRpcGxlIGVycm9ycycsIHVuZGVmaW5lZCwge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgZXJyb3JzLFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBQcm9taXNlQWxsT3JFcnJvcnMgPSBhc3luYyBpdGVtcyA9PiB7XG4gIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQoaXRlbXMpLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgcmVzdWx0cy5maWx0ZXIoKHsgc3RhdHVzIH0pID0+IHN0YXR1cyA9PT0gJ3JlamVjdGVkJylcbiAgICApLm1hcChyZXN1bHQgPT4gcmVzdWx0LnJlYXNvbik7XG4gICAgaWYgKCFlcnJvcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChyZXN1bHRzKS5tYXAoXG4gICAgICAgIHJlc3VsdCA9PiByZXN1bHQudmFsdWUsXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoZXJyb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhyb3cgZXJyb3JzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBtYWtlQWdncmVnYXRlRXJyb3IoZXJyb3JzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLlByb21pc2VBbGxPckVycm9ycyhQcm9taXNlQWxsT3JFcnJvcnMpO1xuICAgICAgIGNvbnN0IGFnZ3JlZ2F0ZVRyeUZpbmFsbHkgPSBhc3luYyAodHJpZXIsIGZpbmFsaXplcikgPT5cbiAgdHJpZXIoKS50aGVuKFxuICAgIGFzeW5jIHJlc3VsdCA9PiBmaW5hbGl6ZXIoKS50aGVuKCgpID0+IHJlc3VsdCksXG4gICAgYXN5bmMgdHJ5RXJyb3IgPT5cbiAgICAgIGZpbmFsaXplcih0cnlFcnJvcilcbiAgICAgICAgLnRoZW4oXG4gICAgICAgICAgKCkgPT4gdHJ5RXJyb3IsXG4gICAgICAgICAgZmluYWxpemVFcnJvciA9PiBtYWtlQWdncmVnYXRlRXJyb3IoW3RyeUVycm9yLCBmaW5hbGl6ZUVycm9yXSksXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oZXJyb3IgPT4gUHJvbWlzZS5yZWplY3QoZXJyb3IpKSxcbiAgKTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmFnZ3JlZ2F0ZVRyeUZpbmFsbHkoYWdncmVnYXRlVHJ5RmluYWxseSk7XG4gICAgICAgY29uc3Qgd2l0aERlZmVycmVkQ2xlYW51cCA9IGFzeW5jIGZuID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNsZWFudXBzTElGTyA9IFtdO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgYWRkQ2xlYW51cCA9IGNsZWFudXAgPT4ge1xuICAgIGNsZWFudXBzTElGTy51bnNoaWZ0KGNsZWFudXApO1xuICB9O1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBmaW5hbGl6ZXIgPSBhc3luYyBlcnIgPT4ge1xuICAgIC8vXG4gICAgY29uc3QgY2xlYW51cFJlc3VsdHMgPSBjbGVhbnVwc0xJRk8ubWFwKGFzeW5jIGNsZWFudXAgPT4ge1xuICAgICAgYXdhaXQgbnVsbDtcbiAgICAgIHJldHVybiBjbGVhbnVwKGVycik7XG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZUFsbE9yRXJyb3JzKGNsZWFudXBSZXN1bHRzKTtcbiAgfTtcbiAgcmV0dXJuIGFnZ3JlZ2F0ZVRyeUZpbmFsbHkoKCkgPT4gZm4oYWRkQ2xlYW51cCksIGZpbmFsaXplcik7XG59O1xuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2Uud2l0aERlZmVycmVkQ2xlYW51cCh3aXRoRGVmZXJyZWRDbGVhbnVwKTtcbiAgICAgICBjb25zdCBhc3NlcnRBbGxEZWZpbmVkID0gb2JqID0+IHtcbiAgY29uc3QgbWlzc2luZyA9IFtdO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWlzc2luZy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICBGYWlsYG1pc3NpbmcgJHtxKG1pc3NpbmcpfWA7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0QWxsRGVmaW5lZChhc3NlcnRBbGxEZWZpbmVkKTtcbiAgICAgICBjb25zdCBhdHRlbnVhdGUgPSAoc3BlY2ltZW4sIHBlcm1pdCwgdHJhbnNmb3JtID0geCA9PiB4KSA9PiB7XG4gIC8vXG4gIGlmIChwZXJtaXQgPT09IHRydWUgfHwgdHlwZW9mIHBlcm1pdCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xuICB9XG5cbiAgLyogICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcGF0aCA9IFtdO1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgZXh0cmFjdCA9IChzdWJTcGVjaW1lbiwgc3ViUGVybWl0KSA9PiB7XG4gICAgaWYgKHN1YlBlcm1pdCA9PT0gbnVsbCB8fCB0eXBlb2Ygc3ViUGVybWl0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgcGF0aC5sZW5ndGggPT09IDBcbiAgICAgICAgPyBGYWlsYGludmFsaWQgcGVybWl0OiAke3EocGVybWl0KX1gXG4gICAgICAgIDogRmFpbGBpbnZhbGlkIHBlcm1pdCBhdCBwYXRoICR7cShwYXRoKX06ICR7cShzdWJQZXJtaXQpfWA7XG4gICAgfSBlbHNlIGlmIChzdWJTcGVjaW1lbiA9PT0gbnVsbCB8fCB0eXBlb2Ygc3ViU3BlY2ltZW4gIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBwYXRoLmxlbmd0aCA9PT0gMFxuICAgICAgICA/IEZhaWxgc3BlY2ltZW4gbXVzdCBiZSBhbiBvYmplY3QgZm9yIHBlcm1pdCAke3EocGVybWl0KX1gXG4gICAgICAgIDogRmFpbGBzcGVjaW1lbiBhdCBwYXRoICR7cShwYXRoKX0gbXVzdCBiZSBhbiBvYmplY3QgZm9yIHBlcm1pdCAke3Eoc3ViUGVybWl0KX1gO1xuICAgIH1cbiAgICBjb25zdCBwaWNrcyA9IE9iamVjdC5lbnRyaWVzKHN1YlBlcm1pdCkubWFwKChbc3ViS2V5LCBkZWVwUGVybWl0XSkgPT4ge1xuICAgICAgaWYgKCFPYmplY3QuaGFzT3duKHN1YlNwZWNpbWVuLCBzdWJLZXkpKSB7XG4gICAgICAgIHRocm93IEZhaWxgc3BlY2ltZW4gaXMgbWlzc2luZyBwYXRoICR7cShwYXRoLmNvbmNhdChzdWJLZXkpKX1gO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVlcFNwZWNpbWVuID0gUmVmbGVjdC5nZXQoc3ViU3BlY2ltZW4sIHN1YktleSk7XG4gICAgICBpZiAoZGVlcFBlcm1pdCA9PT0gdHJ1ZSB8fCB0eXBlb2YgZGVlcFBlcm1pdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFtzdWJLZXksIGRlZXBTcGVjaW1lbl07XG4gICAgICB9XG4gICAgICBwYXRoLnB1c2goc3ViS2V5KTtcbiAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IGV4dHJhY3QoLyogICAgICAgICAgICAgICovIChkZWVwU3BlY2ltZW4pLCBkZWVwUGVybWl0KTtcbiAgICAgIGNvbnN0IGVudHJ5ID0gW3N1YktleSwgZXh0cmFjdGVkXTtcbiAgICAgIHBhdGgucG9wKCk7XG4gICAgICByZXR1cm4gZW50cnk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShPYmplY3QuZnJvbUVudHJpZXMocGlja3MpLCBzdWJQZXJtaXQpO1xuICB9O1xuXG4gIC8vXG4gIHJldHVybiBleHRyYWN0KHNwZWNpbWVuLCBwZXJtaXQpO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuYXR0ZW51YXRlKGF0dGVudWF0ZSk7XG5jb25zdCBub3REb25lID0gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgYWx3YXlzRG9uZSA9IGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG5cbiAgICAgICBjb25zdCBmb3JldmVyID0gYXN5bmNHZW5lcmF0ZSgoKSA9PiBub3REb25lKTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZm9yZXZlcihmb3JldmVyKTtcbiAgICAgICBjb25zdCB3aGlsZVRydWUgPSBwcm9kdWNlID0+XG4gIGFzeW5jR2VuZXJhdGUoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcHJvZHVjZSgpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiBhbHdheXNEb25lO1xuICAgIH1cbiAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgdmFsdWUsXG4gICAgfSk7XG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS53aGlsZVRydWUod2hpbGVUcnVlKTtcbiAgICAgICBjb25zdCB1bnRpbFRydWUgPSBwcm9kdWNlID0+XG4gIGFzeW5jR2VuZXJhdGUoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcHJvZHVjZSgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICB2YWx1ZSxcbiAgICB9KTtcbiAgfSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS51bnRpbFRydWUodW50aWxUcnVlKTtcbiAgICAgICBjb25zdCB6aXAgPSAoeHMsIHlzKSA9PiBoYXJkZW4oeHMubWFwKCh4LCBpKSA9PiBbeCwgeXNbK2ldXSkpO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLnppcCh6aXApO1xuICAgICAgIGNvbnN0IGFsbFZhbHVlcyA9IGFzeW5jIG9iaiA9PiB7XG4gIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgUHJvbWlzZS5hbGwodmFsdWVzKG9iaikpO1xuICAvL1xuICByZXR1cm4gaGFyZGVuKGZyb21FbnRyaWVzKHppcChrZXlzKG9iaiksIHJlc29sdmVkKSkpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmFsbFZhbHVlcyhhbGxWYWx1ZXMpO1xuICAgICAgIGNvbnN0IHN5bmNocm9uaXplZFRlZSA9IChzb3VyY2VTdHJlYW0sIHJlYWRlckNvdW50KSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBkb25lUmVzdWx0O1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHF1ZXVlcyA9IFtdO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcHVsbE5leHQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocXVldWVzLm1hcChxdWV1ZSA9PiBxdWV1ZS5nZXQoKSkpO1xuICAgIGNvbnN0IHJlamVjdGlvbnMgPSBbXTtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCByZXNvbHZlcnMgPSBbXTtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIGZvciAoY29uc3Qgc2V0dGxlZFJlc3VsdCBvZiByZXF1ZXN0cykge1xuICAgICAgaWYgKHNldHRsZWRSZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgIHJlamVjdGlvbnMucHVzaChzZXR0bGVkUmVzdWx0LnJlYXNvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lIHx8PSAhIXNldHRsZWRSZXN1bHQudmFsdWUuZG9uZTtcbiAgICAgICAgcmVzb2x2ZXJzLnB1c2goc2V0dGxlZFJlc3VsdC52YWx1ZS52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoZG9uZVJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKGRvbmVSZXN1bHQpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbWFrZUVycm9yKFhgVGVlZCBzdHJlYW0gdGhyZXdgKTtcbiAgICAgIGFubm90YXRlRXJyb3IoZXJyb3IsIFhgVGVlZCByZWplY3Rpb25zOiAke3JlamVjdGlvbnN9YCk7XG4gICAgICByZXN1bHQgPVxuICAgICAgICBzb3VyY2VTdHJlYW0udGhyb3c/LihlcnJvcikgfHxcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHNvdXJjZVN0cmVhbS5yZXR1cm4/LigpKS50aGVuKCgpID0+XG4gICAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpLFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAoZG9uZSkge1xuICAgICAgcmVzdWx0ID1cbiAgICAgICAgc291cmNlU3RyZWFtLnJldHVybj8uKCkgfHxcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gc291cmNlU3RyZWFtLm5leHQoKTtcbiAgICB9XG4gICAgcmVzdWx0LnRoZW4oXG4gICAgICByID0+IHtcbiAgICAgICAgaWYgKHIuZG9uZSkge1xuICAgICAgICAgIGRvbmVSZXN1bHQgPSByO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBkb25lUmVzdWx0ID0geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgICB9LFxuICAgICk7XG4gICAgZm9yIChjb25zdCByZXNvbHZlIG9mIHJlc29sdmVycykge1xuICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcHVsbE5leHQoKTtcbiAgfTtcblxuICBjb25zdCByZWFkZXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcmVhZGVyQ291bnQgfSkubWFwKCgpID0+IHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgcXVldWVzLnB1c2gocXVldWUpO1xuXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCByZWFkZXIgPSBoYXJkZW4oe1xuICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHsgcHJvbWlzZSwgcmVzb2x2ZSB9ID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgICAgcXVldWUucHV0KHsgdmFsdWU6IHJlc29sdmUsIGRvbmU6IGZhbHNlIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH0sXG4gICAgICBhc3luYyByZXR1cm4oKSB7XG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB7IHByb21pc2UsIHJlc29sdmUgfSA9IG1ha2VQcm9taXNlS2l0KCk7XG4gICAgICAgIHF1ZXVlLnB1dCh7IHZhbHVlOiByZXNvbHZlLCBkb25lOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH0sXG4gICAgICBhc3luYyB0aHJvdyhyZWFzb24pIHtcbiAgICAgICAgY29uc3QgcmVqZWN0aW9uID0gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgICAgICAgcXVldWUucHV0KHJlamVjdGlvbik7XG4gICAgICAgIHJldHVybiByZWplY3Rpb247XG4gICAgICB9LFxuICAgICAgLy9cbiAgICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiByZWFkZXI7XG4gICAgICB9LFxuICAgICAgLy9cbiAgICAgIGFzeW5jIFtTeW1ib2wuYXN5bmNEaXNwb3NlXSgpIHtcbiAgICAgICAgYXdhaXQgcmVhZGVyLnJldHVybigpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVhZGVyO1xuICB9KTtcblxuICB2b2lkIHB1bGxOZXh0KCk7XG4gIHJldHVybiByZWFkZXJzO1xufTskaM2PX29uY2Uuc3luY2hyb25pemVkVGVlKHN5bmNocm9uaXplZFRlZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6eyJvYmplY3RNYXAiOlsib2JqZWN0TWFwIixmYWxzZV0sIm9iamVjdE1ldGFNYXAiOlsib2JqZWN0TWV0YU1hcCIsZmFsc2VdLCJmcm9tVW5pcXVlRW50cmllcyI6WyJmcm9tVW5pcXVlRW50cmllcyIsZmFsc2VdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VMaW1pdGVkQ29uc29sZSI6WyJtYWtlTGltaXRlZENvbnNvbGUiXSwiZGVlcGx5RnVsZmlsbGVkT2JqZWN0IjpbImRlZXBseUZ1bGZpbGxlZE9iamVjdCJdLCJQcm9taXNlQWxsT3JFcnJvcnMiOlsiUHJvbWlzZUFsbE9yRXJyb3JzIl0sImFnZ3JlZ2F0ZVRyeUZpbmFsbHkiOlsiYWdncmVnYXRlVHJ5RmluYWxseSJdLCJ3aXRoRGVmZXJyZWRDbGVhbnVwIjpbIndpdGhEZWZlcnJlZENsZWFudXAiXSwiYXNzZXJ0QWxsRGVmaW5lZCI6WyJhc3NlcnRBbGxEZWZpbmVkIl0sImF0dGVudWF0ZSI6WyJhdHRlbnVhdGUiXSwiZm9yZXZlciI6WyJmb3JldmVyIl0sIndoaWxlVHJ1ZSI6WyJ3aGlsZVRydWUiXSwidW50aWxUcnVlIjpbInVudGlsVHJ1ZSJdLCJ6aXAiOlsiemlwIl0sImFsbFZhbHVlcyI6WyJhbGxWYWx1ZXMiXSwic3luY2hyb25pemVkVGVlIjpbInN5bmNocm9uaXplZFRlZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACjGhSxwgYAAMIGAAAsAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3Rlc3RpbmctdXRpbHMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImV2ZW50TG9vcEl0ZXJhdGlvbiIsImluc3BlY3RNYXBTdG9yZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuLypcblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZXZlbnRMb29wSXRlcmF0aW9uID0gYXN5bmMgKCkgPT5cbiAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRJbW1lZGlhdGUocmVzb2x2ZSkpOyRozY9fb25jZS5ldmVudExvb3BJdGVyYXRpb24oZXZlbnRMb29wSXRlcmF0aW9uKTtcbmhhcmRlbihldmVudExvb3BJdGVyYXRpb24pO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBzdHJpbmdPclRhZyA9IHZhbHVlID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXTtcbiAgfVxuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn07XG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGluc3BlY3RNYXBTdG9yZSA9IHN0b3JlID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgb2JqID0ge307XG4gIGZvciAoY29uc3Qga2V5IG9mIHN0b3JlLmtleXMoKSkge1xuICAgIGNvbnN0IHZhbHVlID0gc3RvcmUuZ2V0KGtleSk7XG4gICAgY29uc3QgaGFzS2V5cyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ2tleXMnIGluIHZhbHVlO1xuICAgIGNvbnN0IGluZGV4ID0gc3RyaW5nT3JUYWcoa2V5KTtcbiAgICBpZiAoaGFzS2V5cyAmJiAnZ2V0JyBpbiB2YWx1ZSkge1xuICAgICAgb2JqW2luZGV4XSA9IGluc3BlY3RNYXBTdG9yZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChoYXNLZXlzKSB7XG4gICAgICBvYmpbaW5kZXhdID0gQXJyYXkuZnJvbSh2YWx1ZS5rZXlzKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpbaW5kZXhdID1cbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgJiYgU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbHVlXG4gICAgICAgICAgPyB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddXG4gICAgICAgICAgOiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07JGjNj19vbmNlLmluc3BlY3RNYXBTdG9yZShpbnNwZWN0TWFwU3RvcmUpO1xuaGFyZGVuKGluc3BlY3RNYXBTdG9yZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJldmVudExvb3BJdGVyYXRpb24iOlsiZXZlbnRMb29wSXRlcmF0aW9uIl0sImluc3BlY3RNYXBTdG9yZSI6WyJpbnNwZWN0TWFwU3RvcmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAICPKpBcDAAAXAwAAJQAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy90bXBEaXIuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIm1ha2VUZW1wRGlyRmFjdG9yeSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlVGVtcERpckZhY3RvcnkgPSB0bXAgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB0bXBEaXIgPSBwcmVmaXggPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgcmVtb3ZlQ2FsbGJhY2sgfSA9IHRtcC5kaXJTeW5jKHtcbiAgICAgIHByZWZpeCxcbiAgICAgIHVuc2FmZUNsZWFudXA6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIFtuYW1lLCByZW1vdmVDYWxsYmFja107XG4gIH07XG4gIHJldHVybiB0bXBEaXI7XG59OyRozY9fb25jZS5tYWtlVGVtcERpckZhY3RvcnkobWFrZVRlbXBEaXJGYWN0b3J5KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VUZW1wRGlyRmFjdG9yeSI6WyJtYWtlVGVtcERpckZhY3RvcnkiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAsrKL9RsDAAAbAwAAKAAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy90eXBlQ2hlY2suanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJjYXN0IiwibXVzdE1hdGNoIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgdHlwZWxlc3NNdXN0TWF0Y2g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAodHlwZWxlc3NNdXN0TWF0Y2ggPSAkaM2PX2EpXV1dXV0pO1xuXG5cbi8qXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBtdXN0TWF0Y2ggPSB0eXBlbGVzc011c3RNYXRjaDtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLm11c3RNYXRjaChtdXN0TWF0Y2gpO1xuICAgICAgIGNvbnN0IGNhc3QgPSAoc3BlY2ltZW4sIHBhdHQpID0+IHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgbXVzdE1hdGNoKHNwZWNpbWVuLCBwYXR0KTtcbiAgcmV0dXJuIHNwZWNpbWVuO1xufTskaM2PX29uY2UuY2FzdChjYXN0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im11c3RNYXRjaCI6WyJtdXN0TWF0Y2giXSwiY2FzdCI6WyJjYXN0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAA/MwsQ6BAAAOgQAACkAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdHlwZUd1YXJkcy5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIkJyaWRnZUJpZ0ludFNoYXBlIiwiU3RvcmFnZU5vZGVTaGFwZSIsIlVuZ3VhcmRlZEhlbHBlckkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBNOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuICAgICAgIGNvbnN0IFN0b3JhZ2VOb2RlU2hhcGUgPSBNLnJlbW90YWJsZSgnU3RvcmFnZU5vZGUnKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLlN0b3JhZ2VOb2RlU2hhcGUoU3RvcmFnZU5vZGVTaGFwZSk7XG4gICAgICAgY29uc3QgVW5ndWFyZGVkSGVscGVySSA9IE0uaW50ZXJmYWNlKFxuICAnaGVscGVyJyxcbiAge30sXG4gIC8vXG4gIHsgc2xvcHB5OiB0cnVlIH0sXG4pO1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cbiAqLyRozY9fb25jZS5Vbmd1YXJkZWRIZWxwZXJJKFVuZ3VhcmRlZEhlbHBlckkpO1xuICAgICAgIGNvbnN0IEJyaWRnZUJpZ0ludFNoYXBlID0gTS5vcihNLm51bWJlcigpLCBNLnN0cmluZygpKTskaM2PX29uY2UuQnJpZGdlQmlnSW50U2hhcGUoQnJpZGdlQmlnSW50U2hhcGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU3RvcmFnZU5vZGVTaGFwZSI6WyJTdG9yYWdlTm9kZVNoYXBlIl0sIlVuZ3VhcmRlZEhlbHBlckkiOlsiVW5ndWFyZGVkSGVscGVySSJdLCJCcmlkZ2VCaWdJbnRTaGFwZSI6WyJCcmlkZ2VCaWdJbnRTaGFwZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAqAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3R5cGVzLWluZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJJ2vftpBwAAaQcAACoAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdXBncmFkZS1hcGkuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJVcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlIiwiaXNBYmFuZG9uZWRFcnJvciIsImlzVXBncmFkZURpc2Nvbm5lY3Rpb24iLCJtYWtlVXBncmFkZURpc2Nvbm5lY3Rpb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBNLG1hdGNoZXM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wibWF0Y2hlc1wiLFskaM2PX2EgPT4gKG1hdGNoZXMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5jb25zdCB7IGlzRnJvemVuIH0gPSBPYmplY3Q7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbiAgICAgICBjb25zdCBVcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlID0gaGFyZGVuKHtcbiAgbmFtZTogJ3ZhdFVwZ3JhZGVkJyxcbiAgdXBncmFkZU1lc3NhZ2U6IE0uc3RyaW5nKCksXG4gIGluY2FybmF0aW9uTnVtYmVyOiBNLm51bWJlcigpLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuVXBncmFkZURpc2Nvbm5lY3Rpb25TaGFwZShVcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlKTtcbiAgICAgICBjb25zdCBtYWtlVXBncmFkZURpc2Nvbm5lY3Rpb24gPSAodXBncmFkZU1lc3NhZ2UsIHRvSW5jYXJuYXRpb25OdW1iZXIpID0+XG4gIGhhcmRlbih7XG4gICAgbmFtZTogJ3ZhdFVwZ3JhZGVkJyxcbiAgICB1cGdyYWRlTWVzc2FnZSxcbiAgICBpbmNhcm5hdGlvbk51bWJlcjogdG9JbmNhcm5hdGlvbk51bWJlcixcbiAgfSk7JGjNj19vbmNlLm1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbihtYWtlVXBncmFkZURpc2Nvbm5lY3Rpb24pO1xuaGFyZGVuKG1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbik7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzVXBncmFkZURpc2Nvbm5lY3Rpb24gPSByZWFzb24gPT5cbiAgcmVhc29uICE9IG51bGwgJiYgLy9cbiAgaXNGcm96ZW4ocmVhc29uKSAmJlxuICBtYXRjaGVzKHJlYXNvbiwgVXBncmFkZURpc2Nvbm5lY3Rpb25TaGFwZSk7JGjNj19vbmNlLmlzVXBncmFkZURpc2Nvbm5lY3Rpb24oaXNVcGdyYWRlRGlzY29ubmVjdGlvbik7XG5oYXJkZW4oaXNVcGdyYWRlRGlzY29ubmVjdGlvbik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNBYmFuZG9uZWRFcnJvciA9IHJlYXNvbiA9PlxuICByZWFzb24gIT0gbnVsbCAmJiAvL1xuICBpc0Zyb3plbihyZWFzb24pICYmXG4gIG1hdGNoZXMocmVhc29uLCBNLmVycm9yKCkpICYmXG4gIC8vXG4gIC8vXG4gIHJlYXNvbi5tZXNzYWdlID09PSAndmF0IHRlcm1pbmF0ZWQnOyRozY9fb25jZS5pc0FiYW5kb25lZEVycm9yKGlzQWJhbmRvbmVkRXJyb3IpO1xuaGFyZGVuKGlzQWJhbmRvbmVkRXJyb3IpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiVXBncmFkZURpc2Nvbm5lY3Rpb25TaGFwZSI6WyJVcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlIl0sIm1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbiI6WyJtYWtlVXBncmFkZURpc2Nvbm5lY3Rpb24iXSwiaXNVcGdyYWRlRGlzY29ubmVjdGlvbiI6WyJpc1VwZ3JhZGVEaXNjb25uZWN0aW9uIl0sImlzQWJhbmRvbmVkRXJyb3IiOlsiaXNBYmFuZG9uZWRFcnJvciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACpPM2kJgwAACYMAAAjAAAAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvYnl0ZXMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vYmFzZTY0IiwiQGVuZG8vcGFzcy1zdHlsZSJdLCJleHBvcnRzIjpbImJhc2U2NFRvQnl0ZXMiLCJieXRlU291cmNlVG9CYXNlNjQiLCJieXRlc1RvU3RyaW5nIiwiY29lcmNlVG9CeXRlU291cmNlIiwidG9CeXRlcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgsRmFpbCxlbmNvZGVCYXNlNjQsZGVjb2RlQmFzZTY0LGlzT2JqZWN0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoZW5jb2RlQmFzZTY0ID0gJGjNj19hKV1dLFtcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGRlY29kZUJhc2U2NCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV1dXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjb2VyY2VUb0J5dGVTb3VyY2UsJ25hbWUnLHt2YWx1ZTpcImNvZXJjZVRvQnl0ZVNvdXJjZVwifSk7JGjNj19vbmNlLmNvZXJjZVRvQnl0ZVNvdXJjZShjb2VyY2VUb0J5dGVTb3VyY2UpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0b0J5dGVzLCduYW1lJyx7dmFsdWU6XCJ0b0J5dGVzXCJ9KTskaM2PX29uY2UudG9CeXRlcyh0b0J5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYnl0ZXNUb1N0cmluZywnbmFtZScse3ZhbHVlOlwiYnl0ZXNUb1N0cmluZ1wifSk7JGjNj19vbmNlLmJ5dGVzVG9TdHJpbmcoYnl0ZXNUb1N0cmluZyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ5dGVTb3VyY2VUb0Jhc2U2NCwnbmFtZScse3ZhbHVlOlwiYnl0ZVNvdXJjZVRvQmFzZTY0XCJ9KTskaM2PX29uY2UuYnl0ZVNvdXJjZVRvQmFzZTY0KGJ5dGVTb3VyY2VUb0Jhc2U2NCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2U2NFRvQnl0ZXMsJ25hbWUnLHt2YWx1ZTpcImJhc2U2NFRvQnl0ZXNcIn0pOyRozY9fb25jZS5iYXNlNjRUb0J5dGVzKGJhc2U2NFRvQnl0ZXMpO1xuXG5cblxuXG4vKlxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBjb2VyY2VUb0J5dGVTb3VyY2Uoc3BlY2ltZW4pIHtcbiAgaWYgKHR5cGVvZiBzcGVjaW1lbiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3BlY2ltZW47XG4gIH1cblxuICBpc09iamVjdChzcGVjaW1lbikgfHxcbiAgICBhc3NlcnQuZmFpbChYYG5vbi1vYmplY3QgJHtzcGVjaW1lbn0gaXMgbm90IGEgQnl0ZVNvdXJjZWAsIFR5cGVFcnJvcik7XG5cbiAgY29uc3Qgb2JqID0gLyogICAgICAgICAgICAgKi8gKHNwZWNpbWVuKTtcbiAgdHlwZW9mIG9ialtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nIHx8XG4gICAgYXNzZXJ0LmZhaWwoWGBub24taXRlcmFibGUgJHtzcGVjaW1lbn0gaXMgbm90IGEgQnl0ZVNvdXJjZWAsIFR5cGVFcnJvcik7XG5cbiAgLy9cbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgKi8gKHNwZWNpbWVuKTtcbn1cblxuLypcblxuICovXG5jb25zdCBjb2VyY2VUb0J5dGVBcnJheSA9IGNvbnRlbnRzID0+IHtcbiAgaWYgKHR5cGVvZiBjb250ZW50cyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKGNvbnRlbnRzLCBjID0+IHtcbiAgICAgIGNvbnN0IGIgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICBiIDw9IDB4ZmYgfHwgRmFpbGBjaGFyYWN0ZXIgY2Fubm90IGJlIGNvZXJjZWQgdG8gYW4gb2N0ZXQ6ICR7Y31gO1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoY29udGVudHMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgLy9cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICBjb250ZW50cy5idWZmZXIsXG4gICAgICBjb250ZW50cy5ieXRlT2Zmc2V0LFxuICAgICAgY29udGVudHMuYnl0ZUxlbmd0aCxcbiAgICApO1xuICB9XG4gIHJldHVybiBuZXcgVWludDhBcnJheShjb250ZW50cyk7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHRvQnl0ZXMoYnl0ZVNvdXJjZSkge1xuICAvL1xuICAvL1xuICBjb25zdCBidWYgPSBjb2VyY2VUb0J5dGVBcnJheShieXRlU291cmNlKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYnVmKTtcbn1cblxuLypcblxuXG5cblxuICovXG4gICAgICAgZnVuY3Rpb24gYnl0ZXNUb1N0cmluZyhieXRlcykge1xuICByZXR1cm4gYnl0ZXM7XG59XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGJ5dGVTb3VyY2VUb0Jhc2U2NChieXRlU291cmNlKSB7XG4gIGNvbnN0IGJ5dGVzID0gY29lcmNlVG9CeXRlQXJyYXkoYnl0ZVNvdXJjZSk7XG4gIHJldHVybiBlbmNvZGVCYXNlNjQoYnl0ZXMpO1xufVxuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBiYXNlNjRUb0J5dGVzKHN0cmluZykge1xuICByZXR1cm4gdG9CeXRlcyhkZWNvZGVCYXNlNjQoc3RyaW5nKSk7XG59XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJjb2VyY2VUb0J5dGVTb3VyY2UiOlsiY29lcmNlVG9CeXRlU291cmNlIl0sInRvQnl0ZXMiOlsidG9CeXRlcyJdLCJieXRlc1RvU3RyaW5nIjpbImJ5dGVzVG9TdHJpbmciXSwiYnl0ZVNvdXJjZVRvQmFzZTY0IjpbImJ5dGVTb3VyY2VUb0Jhc2U2NCJdLCJiYXNlNjRUb0J5dGVzIjpbImJhc2U2NFRvQnl0ZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA+r+6tQsDAAALAwAAIwAAAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vbmV0d29yay5qcyIsIi4vc2hhcGVzLmpzIiwiLi9yb3V0ZXIuanMiLCIuL211bHRpYWRkci5qcyIsIi4vYnl0ZXMuanMiLCIuL3R5cGVzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZVJvdXRlclByb3RvY29sIiwicHJlcGFyZVJvdXRlclByb3RvY29sIl0sInJlZXhwb3J0cyI6WyIuL2J5dGVzLmpzIiwiLi9tdWx0aWFkZHIuanMiLCIuL25ldHdvcmsuanMiLCIuL3NoYXBlcy5qcyIsIi4vdHlwZXMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9uZXR3b3JrLmpzXCIsIFtdXSxbXCIuL3NoYXBlcy5qc1wiLCBbXV0sW1wiLi9yb3V0ZXIuanNcIiwgW11dLFtcIi4vbXVsdGlhZGRyLmpzXCIsIFtdXSxbXCIuL2J5dGVzLmpzXCIsIFtdXSxbXCIuL3R5cGVzLmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9yb3V0ZXIuanMiOltbInByZXBhcmVSb3V0ZXIiLCJwcmVwYXJlUm91dGVyIl0sWyJwcmVwYXJlUm91dGVyUHJvdG9jb2wiLCJwcmVwYXJlUm91dGVyUHJvdG9jb2wiXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMuFD1ZIBQAASAUAACcAAABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9tdWx0aWFkZHIuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbInBhcnNlIiwidW5wYXJzZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyc2UsJ25hbWUnLHt2YWx1ZTpcInBhcnNlXCJ9KTskaM2PX29uY2UucGFyc2UocGFyc2UpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bnBhcnNlLCduYW1lJyx7dmFsdWU6XCJ1bnBhcnNlXCJ9KTskaM2PX29uY2UudW5wYXJzZSh1bnBhcnNlKTsvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHBhcnNlKG1hKSB7XG4gIGlmICh0eXBlb2YgbWEgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG1hO1xuICB9XG4gIGxldCBzID0gbWE7XG4gIGxldCBtO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgYWNjID0gW107XG4gIC8vXG4gIHdoaWxlICgobSA9IHMubWF0Y2goL15cXC8oW14vXSopKFxcLyhbXi9dKikpPy8pKSkge1xuICAgIHMgPSBzLnNsaWNlKG1bMF0ubGVuZ3RoKTtcbiAgICBpZiAobVsyXSkge1xuICAgICAgYWNjLnB1c2goW21bMV0sIG1bM11dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9cbiAgICAgIGFjYy5wdXNoKFttWzFdXSk7XG4gICAgfVxuICB9XG4gIGlmIChzICE9PSAnJyB8fCBzID09PSBtYSkge1xuICAgIHRocm93IFR5cGVFcnJvcihcbiAgICAgIGBFcnJvciBwYXJzaW5nIE11bHRpYWRkciAke0pTT04uc3RyaW5naWZ5KG1hKX0gYXQgJHtKU09OLnN0cmluZ2lmeShzKX1gLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGFjYztcbn1cblxuLypcblxuXG5cblxuICovXG4gICAgICAgZnVuY3Rpb24gdW5wYXJzZShtYSkge1xuICBpZiAodHlwZW9mIG1hID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBtYTtcbiAgfVxuICBjb25zdCBqb2luZWQgPSBtYS5tYXAoa3YgPT4ga3Yuam9pbignLycpKS5qb2luKCcvJyk7XG4gIHJldHVybiBgLyR7am9pbmVkfWA7XG59XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwYXJzZSI6WyJwYXJzZSJdLCJ1bnBhcnNlIjpbInVucGFyc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAArJDFKPeqAAD3qgAAJQAAAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL25ldHdvcmsuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCIuL2J5dGVzLmpzIiwiLi9zaGFwZXMuanMiXSwiZXhwb3J0cyI6WyJDTE9TRV9SRUFTT05fRklOQUxJWkVSIiwiRU5EUE9JTlRfU0VQQVJBVE9SIiwiY3Jvc3NvdmVyQ29ubmVjdGlvbiIsImdldFByZWZpeGVzIiwicHJlcGFyZUVjaG9Db25uZWN0aW9uS2l0IiwicHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyIiwicHJlcGFyZU5ldHdvcmtQb3dlcnMiLCJwcmVwYXJlTmV0d29ya1Byb3RvY29sIiwicHJlcGFyZVBvcnRBbGxvY2F0b3IiLCJyZXRocm93VW5sZXNzTWlzc2luZyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsRSxNLHRvQnl0ZXMsU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4vYnl0ZXMuanNcIiwgW1tcInRvQnl0ZXNcIixbJGjNj19hID0+ICh0b0J5dGVzID0gJGjNj19hKV1dXV0sW1wiLi9zaGFwZXMuanNcIiwgW1tcIlNoYXBlXCIsWyRozY9fYSA9PiAoU2hhcGUgPSAkaM2PX2EpXV1dXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnZXRQcmVmaXhlcywnbmFtZScse3ZhbHVlOlwiZ2V0UHJlZml4ZXNcIn0pOyRozY9fb25jZS5nZXRQcmVmaXhlcyhnZXRQcmVmaXhlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByZXBhcmVMb29wYmFja1Byb3RvY29sSGFuZGxlciwnbmFtZScse3ZhbHVlOlwicHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyXCJ9KTskaM2PX29uY2UucHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyKHByZXBhcmVMb29wYmFja1Byb3RvY29sSGFuZGxlcik7XG5cblxuXG5cblxuXG5cblxuXG4vL1xuLypcblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHNpbmsgPSAoKSA9PiB7fTtcbmhhcmRlbihzaW5rKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBFTkRQT0lOVF9TRVBBUkFUT1IgPSAnLyc7XG5cbi8vXG4kaM2PX29uY2UuRU5EUE9JTlRfU0VQQVJBVE9SKEVORFBPSU5UX1NFUEFSQVRPUik7Y29uc3QgQ0xPU0VfUkVBU09OX0ZJTkFMSVpFUj0nY2xvc2VkLWJ5LWZpbmFsaXplcic7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5DTE9TRV9SRUFTT05fRklOQUxJWkVSKENMT1NFX1JFQVNPTl9GSU5BTElaRVIpO1xuICAgICAgIGNvbnN0IHJldGhyb3dVbmxlc3NNaXNzaW5nID0gZXJyID0+IHtcbiAgLy9cbiAgLy9cbiAgaWYgKFxuICAgICEoZXJyIGluc3RhbmNlb2YgVHlwZUVycm9yKSB8fFxuICAgICFTdHJpbmcoZXJyLm1lc3NhZ2UpLm1hdGNoKC90YXJnZXQgaGFzIG5vIG1ldGhvZHxpcyBub3QgYSBmdW5jdGlvbiQvKVxuICApIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UucmV0aHJvd1VubGVzc01pc3NpbmcocmV0aHJvd1VubGVzc01pc3NpbmcpO1xuICAgICAgIGZ1bmN0aW9uIGdldFByZWZpeGVzKGFkZHIpIHtcbiAgY29uc3QgcGFydHMgPSBhZGRyLnNwbGl0KEVORFBPSU5UX1NFUEFSQVRPUik7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcmV0ID0gW107XG4gIGZvciAobGV0IGkgPSBwYXJ0cy5sZW5ndGg7IGkgPiAwOyBpIC09IDEpIHtcbiAgICAvL1xuICAgIGNvbnN0IHByZWZpeCA9IHBhcnRzLnNsaWNlKDAsIGkpLmpvaW4oRU5EUE9JTlRfU0VQQVJBVE9SKTtcbiAgICByZXQucHVzaChwcmVmaXgpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8qXG5cblxuICovXG5mdW5jdGlvbiB0aHJvd0lmSW52YWxpZFBvcnROYW1lKHNwZWNpZmllZE5hbWUpIHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgcG9ydE5hbWVSZWdleCA9IG5ldyBSZWdFeHAoJ15bYS16QS1aMC05LixfK1xcXFwtIzw+XFxcXFtcXFxcXV17MiwxMjh9JCcpO1xuICBpZiAoIXBvcnROYW1lUmVnZXgudGVzdChzcGVjaWZpZWROYW1lKSkge1xuICAgIHRocm93IEVycm9yKGBJbnZhbGlkIElCQyBwb3J0IG5hbWU6ICR7c3BlY2lmaWVkTmFtZX1gKTtcbiAgfVxufVxuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbmNvbnN0IHByZXBhcmVIYWxmQ29ubmVjdGlvbiA9ICh6b25lLCB7IHdhdGNoLCBhbGxWb3dzLCBmaW5hbGl6ZXIgfSkgPT4ge1xuICBjb25zdCBtYWtlSGFsZkNvbm5lY3Rpb25LaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICdDb25uZWN0aW9uJyxcbiAgICBTaGFwZS5Db25uZWN0aW9uSSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICh7IGFkZHJzLCBoYW5kbGVycywgY29ubnMsIGN1cnJlbnQsIGwsIHIgfSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWRkcnMsXG4gICAgICAgIGhhbmRsZXJzLFxuICAgICAgICBjb25ucyxcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgbCxcbiAgICAgICAgcixcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGNsb3NlZDogdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgZ2V0TG9jYWxBZGRyZXNzKCkge1xuICAgICAgICAgIGNvbnN0IHsgYWRkcnMsIGwgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgcmV0dXJuIGFkZHJzW2xdO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZW1vdGVBZGRyZXNzKCkge1xuICAgICAgICAgIGNvbnN0IHsgYWRkcnMsIHIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgcmV0dXJuIGFkZHJzW3JdO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIHNlbmQocGFja2V0Qnl0ZXMsIG9wdHMpIHtcbiAgICAgICAgICBjb25zdCB7IGNsb3NlZCwgaGFuZGxlcnMsIHIsIGNvbm5zIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGNsb3NlZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIEUoaGFuZGxlcnNbcl0pLm9uUmVjZWl2ZShcbiAgICAgICAgICAgICAgY29ubnMuZ2V0KHIpLFxuICAgICAgICAgICAgICB0b0J5dGVzKHBhY2tldEJ5dGVzKSxcbiAgICAgICAgICAgICAgaGFuZGxlcnNbcl0sXG4gICAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMub3BlbkNvbm5lY3Rpb25BY2tXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKGlubmVyVm93LCB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgICBjb25zdCB7IGNsb3NlZCwgY3VycmVudCwgY29ubnMsIGwsIHIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoY2xvc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jbG9zZWQgPSAnQ29ubmVjdGlvbiBjbG9zZWQnO1xuXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBsY29ubiA9IGNvbm5zLmdldChsKTtcbiAgICAgICAgICBjb25zdCByY29ubiA9IGNvbm5zLmdldChyKTtcbiAgICAgICAgICBjdXJyZW50LmRlbGV0ZShsY29ubik7XG4gICAgICAgICAgY3VycmVudC5kZWxldGUocmNvbm4pO1xuXG4gICAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIGFsbFZvd3MoW2ZpbmFsaXplci5maW5hbGl6ZShsY29ubiksIGZpbmFsaXplci5maW5hbGl6ZShyY29ubildKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnNpbmtXYXRjaGVyLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2goaW5uZXJWb3csIHRoaXMuZmFjZXRzLnJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcik7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgb3BlbkNvbm5lY3Rpb25BY2tXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKGFjaykge1xuICAgICAgICAgIHJldHVybiB0b0J5dGVzKGFjayB8fCAnJyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyOiB7XG4gICAgICAgIG9uUmVqZWN0ZWQoZSkge1xuICAgICAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nKGUpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHNpbmtXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKF92YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgbWFrZUhhbGZDb25uZWN0aW9uID0gKHsgYWRkcnMsIGhhbmRsZXJzLCBjb25ucywgY3VycmVudCwgbCwgciB9KSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0aW9uIH0gPSBtYWtlSGFsZkNvbm5lY3Rpb25LaXQoe1xuICAgICAgYWRkcnMsXG4gICAgICBoYW5kbGVycyxcbiAgICAgIGNvbm5zLFxuICAgICAgY3VycmVudCxcbiAgICAgIGwsXG4gICAgICByLFxuICAgIH0pO1xuICAgIHJldHVybiBoYXJkZW4oY29ubmVjdGlvbik7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VIYWxmQ29ubmVjdGlvbjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgY3Jvc3NvdmVyQ29ubmVjdGlvbiA9IChcbiAgem9uZSxcbiAgaGFuZGxlcjAsXG4gIGFkZHIwLFxuICBoYW5kbGVyMSxcbiAgYWRkcjEsXG4gIG1ha2VDb25uZWN0aW9uLFxuICBmaW5hbGl6ZXIsXG4gIGN1cnJlbnQgPSB6b25lLmRldGFjaGVkKCkud2Vha1NldFN0b3JlKCdjcm9zc292ZXJDdXJyZW50Q29ubmVjdGlvbnMnKSxcbikgPT4ge1xuICBjb25zdCBkZXRhY2hlZCA9IHpvbmUuZGV0YWNoZWQoKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNvbm5zID0gZGV0YWNoZWQubWFwU3RvcmUoJ2FkZHJUb0Nvbm5lY3Rpb25zJyk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBoYW5kbGVycyA9IGhhcmRlbihbaGFuZGxlcjAsIGhhbmRsZXIxXSk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgYWRkcnMgPSBoYXJkZW4oW2FkZHIwLCBhZGRyMV0pO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZUhhbGZDb25uZWN0aW9uID0gKGwsIHIpID0+IHtcbiAgICBjb25ucy5pbml0KGwsIG1ha2VDb25uZWN0aW9uKHsgYWRkcnMsIGhhbmRsZXJzLCBjb25ucywgY3VycmVudCwgbCwgciB9KSk7XG4gIH07XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBvcGVuSGFsZkNvbm5lY3Rpb24gPSAobCwgcikgPT4ge1xuICAgIGNvbnN0IGxjb25uID0gY29ubnMuZ2V0KGwpO1xuICAgIGN1cnJlbnQuYWRkKGxjb25uKTtcbiAgICBpZiAoIWZpbmFsaXplci5oYXMobGNvbm4pKSB7XG4gICAgICBmaW5hbGl6ZXIuaW5pdENvbm5lY3Rpb24obGNvbm4sIGhhbmRsZXJzW2xdKTtcbiAgICB9XG4gICAgRShoYW5kbGVyc1tsXSlcbiAgICAgIC5vbk9wZW4obGNvbm4sIGFkZHJzW2xdLCBhZGRyc1tyXSwgaGFuZGxlcnNbbF0pXG4gICAgICAuY2F0Y2gocmV0aHJvd1VubGVzc01pc3NpbmcpO1xuICB9O1xuXG4gIG1ha2VIYWxmQ29ubmVjdGlvbigwLCAxKTtcbiAgbWFrZUhhbGZDb25uZWN0aW9uKDEsIDApO1xuXG4gIG9wZW5IYWxmQ29ubmVjdGlvbigwLCAxKTtcbiAgb3BlbkhhbGZDb25uZWN0aW9uKDEsIDApO1xuXG4gIHJldHVybiBbY29ubnMuZ2V0KDApLCBjb25ucy5nZXQoMSldO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5jcm9zc292ZXJDb25uZWN0aW9uKGNyb3Nzb3ZlckNvbm5lY3Rpb24pO1xuY29uc3QgcHJlcGFyZUluYm91bmRBdHRlbXB0ID0gKHpvbmUsIG1ha2VDb25uZWN0aW9uLCB7IHdhdGNoLCBmaW5hbGl6ZXIgfSkgPT4ge1xuICBjb25zdCBtYWtlSW5ib3VuZEF0dGVtcHRLaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICdJbmJvdW5kQXR0ZW1wdCcsXG4gICAgU2hhcGUuSW5ib3VuZEF0dGVtcHRJLFxuICAgIC8qXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgKHtcbiAgICAgIGxvY2FsQWRkcixcbiAgICAgIHJlbW90ZUFkZHIsXG4gICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICBsaXN0ZW5QcmVmaXgsXG4gICAgICBsaXN0ZW5pbmcsXG4gICAgfSkgPT4ge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBsZXQgY29uc3VtbWF0ZWQ7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgY29uc3VtbWF0ZWQsXG4gICAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgICAgbGlzdGVuUHJlZml4LFxuICAgICAgICBsaXN0ZW5pbmcsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgaW5ib3VuZEF0dGVtcHQ6IHtcbiAgICAgICAgZ2V0TG9jYWxBZGRyZXNzKCkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUubG9jYWxBZGRyO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZW1vdGVBZGRyZXNzKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnJlbW90ZUFkZHI7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNsb3NlKCkge1xuICAgICAgICAgIGNvbnN0IHsgY29uc3VtbWF0ZWQsIGxvY2FsQWRkciwgcmVtb3RlQWRkciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmluZywgbGlzdGVuUHJlZml4LCBjdXJyZW50Q29ubmVjdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBpZiAoY29uc3VtbWF0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGNvbnN1bW1hdGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb25zdW1tYXRlZCA9ICdBbHJlYWR5IGNsb3NlZCc7XG5cbiAgICAgICAgICBjb25zdCBbcG9ydCwgbGlzdGVuZXJdID0gbGlzdGVuaW5nLmdldChsaXN0ZW5QcmVmaXgpO1xuXG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IGN1cnJlbnRDb25uZWN0aW9ucy5nZXQocG9ydCk7XG4gICAgICAgICAgY3VycmVudC5kZWxldGUodGhpcy5mYWNldHMuaW5ib3VuZEF0dGVtcHQpO1xuICAgICAgICAgIGZpbmFsaXplci51bnBpbih0aGlzLmZhY2V0cy5pbmJvdW5kQXR0ZW1wdCk7XG5cbiAgICAgICAgICBjb25zdCBpbm5lclZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgRShsaXN0ZW5lcikub25SZWplY3QocG9ydCwgbG9jYWxBZGRyLCByZW1vdGVBZGRyLCBsaXN0ZW5lciksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5zaW5rV2F0Y2hlcixcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKGlubmVyVm93LCB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIpO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBhY2NlcHQoeyBsb2NhbEFkZHJlc3MsIHJlbW90ZUFkZHJlc3MsIGhhbmRsZXI6IHJjaGFuZGxlciB9KSB7XG4gICAgICAgICAgY29uc3QgeyBjb25zdW1tYXRlZCwgbG9jYWxBZGRyLCByZW1vdGVBZGRyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuaW5nLCBsaXN0ZW5QcmVmaXgsIGN1cnJlbnRDb25uZWN0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoY29uc3VtbWF0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGNvbnN1bW1hdGVkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobG9jYWxBZGRyZXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzcyA9IGxvY2FsQWRkcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb25zdW1tYXRlZCA9IGAke2xvY2FsQWRkcmVzc30gQWxyZWFkeSBhY2NlcHRlZGA7XG5cbiAgICAgICAgICBpZiAocmVtb3RlQWRkcmVzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW1vdGVBZGRyZXNzID0gcmVtb3RlQWRkcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBbcG9ydCwgbGlzdGVuZXJdID0gbGlzdGVuaW5nLmdldChsaXN0ZW5QcmVmaXgpO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjdXJyZW50Q29ubmVjdGlvbnMuZ2V0KHBvcnQpO1xuXG4gICAgICAgICAgY3VycmVudC5kZWxldGUodGhpcy5mYWNldHMuaW5ib3VuZEF0dGVtcHQpO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRShsaXN0ZW5lcikub25BY2NlcHQocG9ydCwgbG9jYWxBZGRyZXNzLCByZW1vdGVBZGRyZXNzLCBsaXN0ZW5lciksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5pbmJvdW5kQXR0ZW1wdEFjY2VwdFdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgICAgcmNoYW5kbGVyLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGluYm91bmRBdHRlbXB0QWNjZXB0V2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChsY2hhbmRsZXIsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGNvbnN0IHsgbG9jYWxBZGRyZXNzLCByY2hhbmRsZXIsIHJlbW90ZUFkZHJlc3MsIGN1cnJlbnQgfSA9XG4gICAgICAgICAgICB3YXRjaENvbnRleHQ7XG5cbiAgICAgICAgICByZXR1cm4gY3Jvc3NvdmVyQ29ubmVjdGlvbihcbiAgICAgICAgICAgIHpvbmUsXG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAobGNoYW5kbGVyKSxcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChyY2hhbmRsZXIpLFxuICAgICAgICAgICAgcmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgIG1ha2VDb25uZWN0aW9uLFxuICAgICAgICAgICAgZmluYWxpemVyLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICApWzFdO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjoge1xuICAgICAgICBvblJlamVjdGVkKGUpIHtcbiAgICAgICAgICByZXRocm93VW5sZXNzTWlzc2luZyhlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzaW5rV2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChfdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VJbmJvdW5kQXR0ZW1wdCA9ICh7XG4gICAgbG9jYWxBZGRyLFxuICAgIHJlbW90ZUFkZHIsXG4gICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgIGxpc3RlblByZWZpeCxcbiAgICBsaXN0ZW5pbmcsXG4gIH0pID0+IHtcbiAgICBjb25zdCB7IGluYm91bmRBdHRlbXB0IH0gPSBtYWtlSW5ib3VuZEF0dGVtcHRLaXQoe1xuICAgICAgbG9jYWxBZGRyLFxuICAgICAgcmVtb3RlQWRkcixcbiAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgIGxpc3RlblByZWZpeCxcbiAgICAgIGxpc3RlbmluZyxcbiAgICB9KTtcblxuICAgIHJldHVybiBoYXJkZW4oaW5ib3VuZEF0dGVtcHQpO1xuICB9O1xuXG4gIHJldHVybiBtYWtlSW5ib3VuZEF0dGVtcHQ7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgUmV2b2tlU3RhdGUgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBOT1RfUkVWT0tFRDogMCxcbiAgUkVWT0tJTkc6IDEsXG4gIFJFVk9LRUQ6IDIsXG59KTtcbmhhcmRlbihSZXZva2VTdGF0ZSk7XG5cbi8qXG5cblxuICovXG5jb25zdCBwcmVwYXJlUG9ydCA9ICh6b25lLCBwb3dlcnMpID0+IHtcbiAgY29uc3QgbWFrZUluY2FwYWJsZSA9IHpvbmUuZXhvQ2xhc3MoJ0luY2FwYWJsZScsIHVuZGVmaW5lZCwgKCkgPT4gKHt9KSwge30pO1xuXG4gIGNvbnN0IHsgZmluYWxpemVyLCB3YXRjaCwgYWxsVm93cyB9ID0gcG93ZXJzO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgaW5pdFBvcnQgPSAoe1xuICAgIGxvY2FsQWRkcixcbiAgICBsaXN0ZW5pbmcsXG4gICAgb3BlbkNvbm5lY3Rpb25zLFxuICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICBib3VuZFBvcnRzLFxuICAgIHByb3RvY29sSGFuZGxlcixcbiAgICBwcm90b2NvbEltcGwsXG4gIH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGlzdGVuaW5nLFxuICAgICAgb3BlbkNvbm5lY3Rpb25zLFxuICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgYm91bmRQb3J0cyxcbiAgICAgIGxvY2FsQWRkcixcbiAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgIHByb3RvY29sSW1wbCxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICByZXZva2VkOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBtYWtlUG9ydEtpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoJ1BvcnQnLCBTaGFwZS5Qb3J0SSwgaW5pdFBvcnQsIHtcbiAgICBwb3J0OiB7XG4gICAgICBnZXRMb2NhbEFkZHJlc3MoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmxvY2FsQWRkcjtcbiAgICAgIH0sXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGFzeW5jIGFkZExpc3RlbmVyKGxpc3RlbkhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgeyByZXZva2VkLCBsaXN0ZW5pbmcsIGxvY2FsQWRkciwgcHJvdG9jb2xIYW5kbGVyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICFyZXZva2VkIHx8IEZhaWxgUG9ydCAke3RoaXMuc3RhdGUubG9jYWxBZGRyfSBpcyByZXZva2VkYDtcbiAgICAgICAgbGlzdGVuSGFuZGxlciB8fCBGYWlsYGxpc3RlbkhhbmRsZXIgaXMgbm90IGRlZmluZWRgO1xuXG4gICAgICAgIGlmIChsaXN0ZW5pbmcuaGFzKGxvY2FsQWRkcikpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IFtscG9ydCwgbGhhbmRsZXJdID0gbGlzdGVuaW5nLmdldChsb2NhbEFkZHIpO1xuICAgICAgICAgIGlmIChsaGFuZGxlciA9PT0gbGlzdGVuSGFuZGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsaXN0ZW5pbmcuc2V0KGxvY2FsQWRkciwgW1xuICAgICAgICAgICAgdGhpcy5mYWNldHMucG9ydCxcbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGxpc3RlbkhhbmRsZXIpLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIEUobGhhbmRsZXIpLm9uUmVtb3ZlKGxwb3J0LCBsaGFuZGxlcikuY2F0Y2gocmV0aHJvd1VubGVzc01pc3NpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3RlbmluZy5pbml0KFxuICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgaGFyZGVuKFtcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucG9ydCxcbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAobGlzdGVuSGFuZGxlciksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cblxuICAgICAgICBjb25zdCBpbm5lclZvdyA9IHdhdGNoKFxuICAgICAgICAgIEUocHJvdG9jb2xIYW5kbGVyKS5vbkxpc3RlbihcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnBvcnQsXG4gICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICBsaXN0ZW5IYW5kbGVyLFxuICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICksXG4gICAgICAgICAgdGhpcy5mYWNldHMucG9ydEFkZExpc3RlbmVyV2F0Y2hlcixcbiAgICAgICAgICB7IGxpc3RlbkhhbmRsZXIgfSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHdhdGNoKGlubmVyVm93LCB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIpO1xuICAgICAgfSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgYXN5bmMgcmVtb3ZlTGlzdGVuZXIobGlzdGVuSGFuZGxlcikge1xuICAgICAgICBjb25zdCB7IGxpc3RlbmluZywgbG9jYWxBZGRyLCBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGxpc3RlbmluZy5oYXMobG9jYWxBZGRyKSB8fCBGYWlsYFBvcnQgJHtsb2NhbEFkZHJ9IGlzIG5vdCBsaXN0ZW5pbmdgO1xuICAgICAgICBsaXN0ZW5pbmcuZ2V0KGxvY2FsQWRkcilbMV0gPT09IGxpc3RlbkhhbmRsZXIgfHxcbiAgICAgICAgICBGYWlsYFBvcnQgJHtsb2NhbEFkZHJ9IGhhbmRsZXIgdG8gcmVtb3ZlIGlzIG5vdCBsaXN0ZW5pbmdgO1xuICAgICAgICBsaXN0ZW5pbmcuZGVsZXRlKGxvY2FsQWRkcik7XG5cbiAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICBFKHByb3RvY29sSGFuZGxlcikub25MaXN0ZW5SZW1vdmUoXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5wb3J0LFxuICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgbGlzdGVuSGFuZGxlcixcbiAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICApLFxuICAgICAgICAgIHRoaXMuZmFjZXRzLnBvcnRSZW1vdmVMaXN0ZW5lcldhdGNoZXIsXG4gICAgICAgICAgeyBsaXN0ZW5IYW5kbGVyIH0sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB3YXRjaChpbm5lclZvdywgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyKTtcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgY29ubmVjdChcbiAgICAgICAgcmVtb3RlUG9ydCxcbiAgICAgICAgY29ubmVjdGlvbkhhbmRsZXIgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICBtYWtlSW5jYXBhYmxlKClcbiAgICAgICAgKSxcbiAgICAgICkge1xuICAgICAgICBjb25zdCB7IHJldm9rZWQsIGxvY2FsQWRkciwgcHJvdG9jb2xJbXBsIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICFyZXZva2VkIHx8IEZhaWxgUG9ydCAke2xvY2FsQWRkcn0gaXMgcmV2b2tlZGA7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRzdCA9IGhhcmRlbihyZW1vdGVQb3J0KTtcbiAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgIEUocHJvdG9jb2xJbXBsKS5vdXRib3VuZCh0aGlzLmZhY2V0cy5wb3J0LCBkc3QsIGNvbm5lY3Rpb25IYW5kbGVyKSxcbiAgICAgICAgICB0aGlzLmZhY2V0cy5wb3J0Q29ubmVjdFdhdGNoZXIsXG4gICAgICAgICAgeyBjaGFuZGxlcjogY29ubmVjdGlvbkhhbmRsZXIgfSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyByZXZva2UoKSB7XG4gICAgICAgIGNvbnN0IHsgcmV2b2tlZCwgbG9jYWxBZGRyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCB7IHByb3RvY29sSGFuZGxlciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICByZXZva2VkICE9PSBSZXZva2VTdGF0ZS5SRVZPS0VEIHx8XG4gICAgICAgICAgRmFpbGBQb3J0ICR7bG9jYWxBZGRyfSBpcyBhbHJlYWR5IHJldm9rZWRgO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucmV2b2tlZCA9IFJldm9rZVN0YXRlLlJFVk9LSU5HO1xuICAgICAgICBjb25zdCByZXZva2VWb3cgPSB3YXRjaChcbiAgICAgICAgICBFKHByb3RvY29sSGFuZGxlcikub25SZXZva2UoXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5wb3J0LFxuICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICksXG4gICAgICAgICAgdGhpcy5mYWNldHMucG9ydFJldm9rZVdhdGNoZXIsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHdhdGNoKHJldm9rZVZvdywgdGhpcy5mYWNldHMucG9ydFJldm9rZUNsZWFudXBXYXRjaGVyKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBwb3J0QWRkTGlzdGVuZXJXYXRjaGVyOiB7XG4gICAgICBvbkZ1bGZpbGxlZChfdmFsdWUsIHdhdGNoZXJDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgbGlzdGVuSGFuZGxlciB9ID0gd2F0Y2hlckNvbnRleHQ7XG4gICAgICAgIHJldHVybiBFKGxpc3RlbkhhbmRsZXIpLm9uTGlzdGVuKHRoaXMuZmFjZXRzLnBvcnQsIGxpc3RlbkhhbmRsZXIpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHBvcnRSZW1vdmVMaXN0ZW5lcldhdGNoZXI6IHtcbiAgICAgIG9uRnVsZmlsbGVkKF92YWx1ZSwgd2F0Y2hlckNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBsaXN0ZW5IYW5kbGVyIH0gPSB3YXRjaGVyQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIEUobGlzdGVuSGFuZGxlcikub25SZW1vdmUodGhpcy5mYWNldHMucG9ydCwgbGlzdGVuSGFuZGxlcik7XG4gICAgICB9LFxuICAgIH0sXG4gICAgcG9ydENvbm5lY3RXYXRjaGVyOiB7XG4gICAgICBvbkZ1bGZpbGxlZChjb25uLCB7IGNoYW5kbGVyIH0pIHtcbiAgICAgICAgY29uc3QgeyBvcGVuQ29ubmVjdGlvbnMsIHJldm9rZWQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgaWYgKCFmaW5hbGl6ZXIuaGFzKGNvbm4pKSB7XG4gICAgICAgICAgZmluYWxpemVyLmluaXRDb25uZWN0aW9uKGNvbm4sIGNoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmV2b2tlZCkge1xuICAgICAgICAgIHJldHVybiBmaW5hbGl6ZXIuZmluYWxpemUoY29ubik7XG4gICAgICAgIH1cbiAgICAgICAgb3BlbkNvbm5lY3Rpb25zLmFkZChjb25uKTtcbiAgICAgICAgcmV0dXJuIGNvbm47XG4gICAgICB9LFxuICAgIH0sXG4gICAgcG9ydFJldm9rZVdhdGNoZXI6IHtcbiAgICAgIG9uRnVsZmlsbGVkKF92YWx1ZSkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRDb25uZWN0aW9ucywgbGlzdGVuaW5nLCBsb2NhbEFkZHIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHBvcnQgPSB0aGlzLmZhY2V0cy5wb3J0O1xuXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFsuLi5jdXJyZW50Q29ubmVjdGlvbnMuZ2V0KHBvcnQpLnZhbHVlcygpXTtcblxuICAgICAgICBjb25zdCBwcyA9IFtdO1xuICAgICAgICBwcy5wdXNoKFxuICAgICAgICAgIC4uLnZhbHVlcy5tYXAob2JqID0+XG4gICAgICAgICAgICB3YXRjaChmaW5hbGl6ZXIuZmluYWxpemUob2JqKSwgdGhpcy5mYWNldHMuc2lua1dhdGNoZXIpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGxpc3RlbmluZy5oYXMobG9jYWxBZGRyKSkge1xuICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuaW5nLmdldChsb2NhbEFkZHIpWzFdO1xuICAgICAgICAgIHBzLnB1c2gocG9ydC5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdhdGNoKGFsbFZvd3MocHMpLCB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHNpbmtXYXRjaGVyOiB7XG4gICAgICBvbkZ1bGZpbGxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0sXG4gICAgICBvblJlamVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHBvcnRSZXZva2VDbGVhbnVwV2F0Y2hlcjoge1xuICAgICAgb25GdWxmaWxsZWQoX3ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudENvbm5lY3Rpb25zLCBib3VuZFBvcnRzLCBsb2NhbEFkZHIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXZva2VkID0gUmV2b2tlU3RhdGUuUkVWT0tFRDtcblxuICAgICAgICBjdXJyZW50Q29ubmVjdGlvbnMuZGVsZXRlKHRoaXMuZmFjZXRzLnBvcnQpO1xuICAgICAgICBib3VuZFBvcnRzLmRlbGV0ZShsb2NhbEFkZHIpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjoge1xuICAgICAgb25SZWplY3RlZChlKSB7XG4gICAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nKGUpO1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBtYWtlUG9ydCA9ICh7XG4gICAgbG9jYWxBZGRyLFxuICAgIGxpc3RlbmluZyxcbiAgICBvcGVuQ29ubmVjdGlvbnMsXG4gICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgIGJvdW5kUG9ydHMsXG4gICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgIHByb3RvY29sSW1wbCxcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHsgcG9ydCB9ID0gbWFrZVBvcnRLaXQoe1xuICAgICAgbG9jYWxBZGRyLFxuICAgICAgbGlzdGVuaW5nLFxuICAgICAgb3BlbkNvbm5lY3Rpb25zLFxuICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgYm91bmRQb3J0cyxcbiAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgIHByb3RvY29sSW1wbCxcbiAgICB9KTtcbiAgICByZXR1cm4gaGFyZGVuKHBvcnQpO1xuICB9O1xuXG4gIHJldHVybiBtYWtlUG9ydDtcbn07XG5cbi8qXG5cblxuICovXG5jb25zdCBwcmVwYXJlQmluZGVyID0gKHpvbmUsIHBvd2VycykgPT4ge1xuICBjb25zdCBtYWtlQ29ubmVjdGlvbiA9IHByZXBhcmVIYWxmQ29ubmVjdGlvbih6b25lLCBwb3dlcnMpO1xuXG4gIGNvbnN0IHsgd2F0Y2gsIGZpbmFsaXplciB9ID0gcG93ZXJzO1xuXG4gIGNvbnN0IG1ha2VJbmJvdW5kQXR0ZW1wdCA9IHByZXBhcmVJbmJvdW5kQXR0ZW1wdChcbiAgICB6b25lLFxuICAgIG1ha2VDb25uZWN0aW9uLFxuICAgIHBvd2VycyxcbiAgKTtcblxuICBjb25zdCBtYWtlUG9ydCA9IHByZXBhcmVQb3J0KHpvbmUsIHBvd2Vycyk7XG5cbiAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG5cbiAgY29uc3QgbWFrZUZ1bGxCaW5kZXJLaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICdiaW5kZXInLFxuICAgIHtcbiAgICAgIHByb3RvY29sSW1wbDogU2hhcGUuUHJvdG9jb2xJbXBsSSxcbiAgICAgIGJpbmRlcjogTS5pbnRlcmZhY2UoJ0JpbmRlcicsIHtcbiAgICAgICAgYmluZFBvcnQ6IE0uY2FsbFdoZW4oU2hhcGUuRW5kcG9pbnQpLnJldHVybnMoU2hhcGUuVm93JChTaGFwZS5Qb3J0KSksXG4gICAgICB9KSxcbiAgICAgIGJpbmRlckluYm91bmRJbnN0YW50aWF0ZVdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnQmluZGVySW5ib3VuZEluc3RhbnRpYXRlV2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBiaW5kZXJJbmJvdW5kSW5zdGFudGlhdGVDYXRjaFdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnQmluZGVySW5ib3VuZEluc3RhbnRpYXRlQ2F0Y2hXYXRjaGVyJyxcbiAgICAgICAge1xuICAgICAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgYmluZGVyT3V0Ym91bmRJbnN0YW50aWF0ZVdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnQmluZGVyT3V0Ym91bmRJbnN0YW50aWF0ZVdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgYmluZGVyT3V0Ym91bmRDb25uZWN0V2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAgICdCaW5kZXJPdXRib3VuZENvbm5lY3RXYXRjaGVyJyxcbiAgICAgICAge1xuICAgICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGJpbmRlck91dGJvdW5kQ2F0Y2hXYXRjaGVyOiBNLmludGVyZmFjZSgnQmluZGVyT3V0Ym91bmRDYXRjaFdhdGNoZXInLCB7XG4gICAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIGJpbmRlck91dGJvdW5kSW5ib3VuZFdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnQmluZGVyT3V0Ym91bmRJbmJvdW5kV2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBiaW5kZXJPdXRib3VuZEFjY2VwdFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdCaW5kZXJPdXRib3VuZEFjY2VwdFdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICBiaW5kZXJCaW5kR2VuZXJhdGVQb3J0V2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAgICdCaW5kZXJCaW5kR2VuZXJhdGVQb3J0V2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBiaW5kZXJQb3J0V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ0JpbmRlclBvcnRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgYmluZGVyQmluZFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdCaW5kZXJCaW5kV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1JldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcicsIHtcbiAgICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgLypcblxuXG5cblxuXG4gICAgICovXG4gICAgKHsgY3VycmVudENvbm5lY3Rpb25zLCBib3VuZFBvcnRzLCBsaXN0ZW5pbmcsIHByb3RvY29sSGFuZGxlciB9KSA9PiB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3Qgb3BlbkNvbm5lY3Rpb25zID0gZGV0YWNoZWQuc2V0U3RvcmUoJ29wZW5Db25uZWN0aW9ucycpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICAgIGJvdW5kUG9ydHMsXG4gICAgICAgIGxpc3RlbmluZyxcbiAgICAgICAgcmV2b2tlZDogUmV2b2tlU3RhdGUuTk9UX1JFVk9LRUQsXG4gICAgICAgIG9wZW5Db25uZWN0aW9ucyxcbiAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3RvY29sSW1wbDoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIGluYm91bmQobGlzdGVuQWRkciwgcmVtb3RlQWRkcikge1xuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuaW5nLCBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBjb25zdCBwcmVmaXhlcyA9IGdldFByZWZpeGVzKGxpc3RlbkFkZHIpO1xuICAgICAgICAgIGxldCBsaXN0ZW5QcmVmaXhJbmRleCA9IDA7XG4gICAgICAgICAgbGV0IGxpc3RlblByZWZpeDtcblxuICAgICAgICAgIHdoaWxlIChsaXN0ZW5QcmVmaXhJbmRleCA8IHByZWZpeGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGlzdGVuUHJlZml4ID0gcHJlZml4ZXNbbGlzdGVuUHJlZml4SW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFsaXN0ZW5pbmcuaGFzKGxpc3RlblByZWZpeCkpIHtcbiAgICAgICAgICAgICAgbGlzdGVuUHJlZml4SW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsaXN0ZW5QcmVmaXhJbmRleCA+PSBwcmVmaXhlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBObyBsaXN0ZW5lcnMgZm9yICR7bGlzdGVuQWRkcn1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBbcG9ydF0gPSBsaXN0ZW5pbmcuZ2V0KC8qICAgICAgICAgICAgICAgICAgKi8gKGxpc3RlblByZWZpeCkpO1xuXG4gICAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIEUoXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLm9uSW5zdGFudGlhdGUoXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICovIChwb3J0KSxcbiAgICAgICAgICAgICAgcHJlZml4ZXNbbGlzdGVuUHJlZml4SW5kZXhdLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuYmluZGVySW5ib3VuZEluc3RhbnRpYXRlV2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGlzdGVuQWRkcixcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgbGlzdGVuUHJlZml4SW5kZXgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBpbm5lclZvdyxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlckluYm91bmRJbnN0YW50aWF0ZUNhdGNoV2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGlzdGVuUHJlZml4SW5kZXgsXG4gICAgICAgICAgICAgIGxpc3RlbkFkZHIsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICAgIGxhc3RGYWlsdXJlOiBFcnJvcihgTm8gbGlzdGVuZXJzIGZvciAke2xpc3RlbkFkZHJ9YCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBvdXRib3VuZChwb3J0LCByZW1vdGVBZGRyLCBsY2hhbmRsZXIpIHtcbiAgICAgICAgICBjb25zdCB7IHByb3RvY29sSGFuZGxlciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIGNvbnN0IGxvY2FsQWRkciA9IGF3YWl0IEUocG9ydCkuZ2V0TG9jYWxBZGRyZXNzKCk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IGluc3RhbnRpYXRlSW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIEUoXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLm9uSW5zdGFudGlhdGUocG9ydCwgbG9jYWxBZGRyLCByZW1vdGVBZGRyLCBwcm90b2NvbEhhbmRsZXIpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuYmluZGVyT3V0Ym91bmRJbnN0YW50aWF0ZVdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgaW5zdGFudGlhdGVWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIGluc3RhbnRpYXRlSW5uZXJWb3csXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IGF0dGVtcHRWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIGluc3RhbnRpYXRlVm93LFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuYmluZGVyT3V0Ym91bmRJbmJvdW5kV2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGFjY2VwdGVkVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBhdHRlbXB0Vm93LFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuYmluZGVyT3V0Ym91bmRBY2NlcHRXYXRjaGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBoYW5kbGVyOiBsY2hhbmRsZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2goYWNjZXB0ZWRWb3csIHRoaXMuZmFjZXRzLmJpbmRlck91dGJvdW5kQ2F0Y2hXYXRjaGVyLCB7XG4gICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgIGxjaGFuZGxlcixcbiAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgYmluZFBvcnQobG9jYWxBZGRyKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFjZXRzLmJpbmRlci5iaW5kUG9ydChsb2NhbEFkZHIpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhc3luYyBiaW5kUG9ydChsb2NhbEFkZHIpIHtcbiAgICAgICAgICBjb25zdCB7IHByb3RvY29sSGFuZGxlciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgdW5kZXJzcGVjaWZpZWQgPSBsb2NhbEFkZHIuZW5kc1dpdGgoRU5EUE9JTlRfU0VQQVJBVE9SKTtcblxuICAgICAgICAgIGNvbnN0IGxvY2FsQWRkclZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgRShwcm90b2NvbEhhbmRsZXIpLmdlbmVyYXRlUG9ydElEKGxvY2FsQWRkciwgcHJvdG9jb2xIYW5kbGVyKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlckJpbmRHZW5lcmF0ZVBvcnRXYXRjaGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB1bmRlcnNwZWNpZmllZCxcbiAgICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKGxvY2FsQWRkclZvdywgdGhpcy5mYWNldHMuYmluZGVyQmluZFdhdGNoZXIpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlckluYm91bmRJbnN0YW50aWF0ZVdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQobG9jYWxJbnN0YW5jZSwgd2F0Y2hDb250ZXh0KSB7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5BZGRyLCByZW1vdGVBZGRyLCBwb3J0LCBsaXN0ZW5QcmVmaXhJbmRleCB9ID1cbiAgICAgICAgICAgIHdhdGNoQ29udGV4dDtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmluZywgY3VycmVudENvbm5lY3Rpb25zIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGNvbnN0IHByZWZpeGVzID0gZ2V0UHJlZml4ZXMobGlzdGVuQWRkcik7XG5cbiAgICAgICAgICBjb25zdCBsb2NhbEFkZHIgPSBsb2NhbEluc3RhbmNlXG4gICAgICAgICAgICA/IGAke2xpc3RlbkFkZHJ9LyR7bG9jYWxJbnN0YW5jZX1gXG4gICAgICAgICAgICA6IGxpc3RlbkFkZHI7XG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IGN1cnJlbnRDb25uZWN0aW9ucy5nZXQocG9ydCk7XG4gICAgICAgICAgY29uc3QgaW5ib3VuZEF0dGVtcHQgPSBtYWtlSW5ib3VuZEF0dGVtcHQoe1xuICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgICAgICAgIGxpc3RlblByZWZpeDogcHJlZml4ZXNbbGlzdGVuUHJlZml4SW5kZXhdLFxuICAgICAgICAgICAgbGlzdGVuaW5nLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY3VycmVudC5hZGQoaW5ib3VuZEF0dGVtcHQpO1xuICAgICAgICAgIGZpbmFsaXplci5pbml0Q2xvc2VyKGluYm91bmRBdHRlbXB0KTtcbiAgICAgICAgICByZXR1cm4gaW5ib3VuZEF0dGVtcHQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVySW5ib3VuZEluc3RhbnRpYXRlQ2F0Y2hXYXRjaGVyOiB7XG4gICAgICAgIG9uUmVqZWN0ZWQoZSwgd2F0Y2hDb250ZXh0KSB7XG4gICAgICAgICAgbGV0IHsgbGFzdEZhaWx1cmUsIGxpc3RlblByZWZpeEluZGV4IH0gPSB3YXRjaENvbnRleHQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0aHJvd1VubGVzc01pc3NpbmcoZSk7XG4gICAgICAgICAgfSBjYXRjaCAoaW5uZXJFKSB7XG4gICAgICAgICAgICBsYXN0RmFpbHVyZSA9IGlubmVyRTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IGxpc3RlbkFkZHIsIHJlbW90ZUFkZHIgfSA9IHdhdGNoQ29udGV4dDtcblxuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuaW5nLCBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBjb25zdCBwcmVmaXhlcyA9IGdldFByZWZpeGVzKGxpc3RlbkFkZHIpO1xuXG4gICAgICAgICAgbGV0IGxpc3RlblByZWZpeDtcblxuICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4ICs9IDE7XG5cbiAgICAgICAgICB3aGlsZSAobGlzdGVuUHJlZml4SW5kZXggPCBwcmVmaXhlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpc3RlblByZWZpeCA9IHByZWZpeGVzW2xpc3RlblByZWZpeEluZGV4XTtcbiAgICAgICAgICAgIGlmICghbGlzdGVuaW5nLmhhcyhsaXN0ZW5QcmVmaXgpKSB7XG4gICAgICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4ICs9IDE7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobGlzdGVuUHJlZml4SW5kZXggPj0gcHJlZml4ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBsYXN0RmFpbHVyZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBbcG9ydF0gPSBsaXN0ZW5pbmcuZ2V0KC8qICAgICAgICAgICAgICAgICAqLyAobGlzdGVuUHJlZml4KSk7XG5cbiAgICAgICAgICBjb25zdCBpbm5lclZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgRShcbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgICAgICBwcm90b2NvbEhhbmRsZXJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkub25JbnN0YW50aWF0ZShcbiAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgcHJlZml4ZXNbbGlzdGVuUHJlZml4SW5kZXhdLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuYmluZGVySW5ib3VuZEluc3RhbnRpYXRlV2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGlzdGVuQWRkcixcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgbGlzdGVuUHJlZml4SW5kZXgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBpbm5lclZvdyxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlckluYm91bmRJbnN0YW50aWF0ZUNhdGNoV2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLi4ud2F0Y2hDb250ZXh0LFxuICAgICAgICAgICAgICBsYXN0RmFpbHVyZSxcbiAgICAgICAgICAgICAgbGlzdGVuUHJlZml4SW5kZXgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyT3V0Ym91bmRJbnN0YW50aWF0ZVdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQobG9jYWxJbnN0YW5jZSwgd2F0Y2hDb250ZXh0KSB7XG4gICAgICAgICAgY29uc3QgeyBsb2NhbEFkZHIgfSA9IHdhdGNoQ29udGV4dDtcblxuICAgICAgICAgIHJldHVybiBsb2NhbEluc3RhbmNlID8gYCR7bG9jYWxBZGRyfS8ke2xvY2FsSW5zdGFuY2V9YCA6IGxvY2FsQWRkcjtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiaW5kZXJPdXRib3VuZENvbm5lY3RXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHJjaGFuZGxlcixcbiAgICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IG5lZ290aWF0ZWRSZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBuZWdvdGlhdGVkTG9jYWxBZGRyZXNzLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2F0Y2hDb250ZXh0LFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBsYXN0RmFpbHVyZSxcbiAgICAgICAgICAgIGxjaGFuZGxlcixcbiAgICAgICAgICAgIGxvY2FsQWRkcjogcmVxdWVzdGVkTG9jYWxBZGRyZXNzLFxuICAgICAgICAgICAgcmVtb3RlQWRkcjogcmVxdWVzdGVkUmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgfSA9IHdhdGNoQ29udGV4dDtcblxuICAgICAgICAgIGNvbnN0IHsgY3VycmVudENvbm5lY3Rpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgaWYgKCFyY2hhbmRsZXIpIHtcbiAgICAgICAgICAgIHRocm93IGxhc3RGYWlsdXJlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjdXJyZW50Q29ubmVjdGlvbnMuZ2V0KHBvcnQpO1xuXG4gICAgICAgICAgcmV0dXJuIGNyb3Nzb3ZlckNvbm5lY3Rpb24oXG4gICAgICAgICAgICB6b25lLFxuICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGxjaGFuZGxlciksXG4gICAgICAgICAgICBuZWdvdGlhdGVkTG9jYWxBZGRyZXNzIHx8IHJlcXVlc3RlZExvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChyY2hhbmRsZXIpLFxuICAgICAgICAgICAgbmVnb3RpYXRlZFJlbW90ZUFkZHJlc3MgfHwgcmVxdWVzdGVkUmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgIG1ha2VDb25uZWN0aW9uLFxuICAgICAgICAgICAgZmluYWxpemVyLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICApWzBdO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlck91dGJvdW5kQ2F0Y2hXYXRjaGVyOiB7XG4gICAgICAgIG9uUmVqZWN0ZWQoZSwgd2F0Y2hDb250ZXh0KSB7XG4gICAgICAgICAgbGV0IGxhc3RGYWlsdXJlO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nKGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGlubmVyRSkge1xuICAgICAgICAgICAgbGFzdEZhaWx1cmUgPSBpbm5lckU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgeyBwb3J0LCByZW1vdGVBZGRyLCBsY2hhbmRsZXIsIGxvY2FsQWRkciB9ID0gd2F0Y2hDb250ZXh0O1xuXG4gICAgICAgICAgY29uc3QgeyBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBjb25zdCBjb25uZWN0Vm93ID0gd2F0Y2goXG4gICAgICAgICAgICBFKHByb3RvY29sSGFuZGxlcikub25Db25uZWN0KFxuICAgICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICAgIGxjaGFuZGxlcixcbiAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKGNvbm5lY3RWb3csIHRoaXMuZmFjZXRzLmJpbmRlck91dGJvdW5kQ29ubmVjdFdhdGNoZXIsIHtcbiAgICAgICAgICAgIGxhc3RGYWlsdXJlLFxuICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgIGxjaGFuZGxlcixcbiAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyT3V0Ym91bmRJbmJvdW5kV2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChpbml0aWFsTG9jYWxBZGRyZXNzLCB3YXRjaENvbnRleHQpIHtcbiAgICAgICAgICBjb25zdCB7IHJlbW90ZUFkZHIsIGxvY2FsQWRkciB9ID0gd2F0Y2hDb250ZXh0O1xuXG4gICAgICAgICAgaWYgKGluaXRpYWxMb2NhbEFkZHJlc3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5pdGlhbExvY2FsQWRkcmVzcyA9IGxvY2FsQWRkcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiB0aGlzLmZhY2V0cy5wcm90b2NvbEltcGwuaW5ib3VuZChcbiAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICBpbml0aWFsTG9jYWxBZGRyZXNzLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyT3V0Ym91bmRBY2NlcHRXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKGF0dGVtcHQsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGNvbnN0IHsgaGFuZGxlciB9ID0gd2F0Y2hDb250ZXh0O1xuICAgICAgICAgIHJldHVybiBFKGF0dGVtcHQpLmFjY2VwdCh7IGhhbmRsZXIgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyQmluZEdlbmVyYXRlUG9ydFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQocG9ydElELCB3YXRjaENvbnRleHQpIHtcbiAgICAgICAgICBjb25zdCB7IGxvY2FsQWRkciwgdW5kZXJzcGVjaWZpZWQgfSA9IHdhdGNoQ29udGV4dDtcbiAgICAgICAgICBjb25zdCB7IHByb3RvY29sSGFuZGxlciwgYm91bmRQb3J0cyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIGlmICghdW5kZXJzcGVjaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbEFkZHI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgbmV3QWRkciA9IGAke2xvY2FsQWRkcn0ke3BvcnRJRH1gO1xuICAgICAgICAgIGlmICghYm91bmRQb3J0cy5oYXMobmV3QWRkcikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdBZGRyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBFKHByb3RvY29sSGFuZGxlcikuZ2VuZXJhdGVQb3J0SUQobG9jYWxBZGRyLCBwcm90b2NvbEhhbmRsZXIpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuYmluZGVyQmluZEdlbmVyYXRlUG9ydFdhdGNoZXIsXG4gICAgICAgICAgICB3YXRjaENvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiaW5kZXJQb3J0V2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChfdmFsdWUsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGNvbnN0IHsgcG9ydCwgbG9jYWxBZGRyIH0gPSB3YXRjaENvbnRleHQ7XG4gICAgICAgICAgY29uc3QgeyBib3VuZFBvcnRzLCBjdXJyZW50Q29ubmVjdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBib3VuZFBvcnRzLmluaXQobG9jYWxBZGRyLCBwb3J0KTtcbiAgICAgICAgICBjdXJyZW50Q29ubmVjdGlvbnMuaW5pdChcbiAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICB6b25lLmRldGFjaGVkKCkuc2V0U3RvcmUoJ2Nvbm5lY3Rpb25zJyksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiaW5kZXJCaW5kV2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChsb2NhbEFkZHIpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBib3VuZFBvcnRzLFxuICAgICAgICAgICAgbGlzdGVuaW5nLFxuICAgICAgICAgICAgb3BlbkNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgaWYgKGJvdW5kUG9ydHMuaGFzKGxvY2FsQWRkcikpIHtcbiAgICAgICAgICAgIHJldHVybiBib3VuZFBvcnRzLmdldChsb2NhbEFkZHIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHBvcnQgPSBtYWtlUG9ydCh7XG4gICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICBsaXN0ZW5pbmcsXG4gICAgICAgICAgICBvcGVuQ29ubmVjdGlvbnMsXG4gICAgICAgICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICAgICAgICBib3VuZFBvcnRzLFxuICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICAgcHJvdG9jb2xJbXBsOiB0aGlzLmZhY2V0cy5wcm90b2NvbEltcGwsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBFKHByb3RvY29sSGFuZGxlcikub25CaW5kKHBvcnQsIGxvY2FsQWRkciwgcHJvdG9jb2xIYW5kbGVyKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlclBvcnRXYXRjaGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyOiB7XG4gICAgICAgIG9uUmVqZWN0ZWQoZSkge1xuICAgICAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nKGUpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VCaW5kZXJLaXQgPSAoe1xuICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICBib3VuZFBvcnRzLFxuICAgIGxpc3RlbmluZyxcbiAgICBwcm90b2NvbEhhbmRsZXIsXG4gIH0pID0+IHtcbiAgICBjb25zdCB7IHByb3RvY29sSW1wbCwgYmluZGVyIH0gPSBtYWtlRnVsbEJpbmRlcktpdCh7XG4gICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICBib3VuZFBvcnRzLFxuICAgICAgbGlzdGVuaW5nLFxuICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgIH0pO1xuICAgIHJldHVybiBoYXJkZW4oeyBwcm90b2NvbEltcGwsIGJpbmRlciB9KTtcbiAgfTtcbiAgcmV0dXJuIG1ha2VCaW5kZXJLaXQ7XG59O1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVOZXR3b3JrUHJvdG9jb2wgPSAoem9uZSwgcG93ZXJzKSA9PiB7XG4gIGNvbnN0IG1ha2VCaW5kZXJLaXQgPSBwcmVwYXJlQmluZGVyKHpvbmUsIHBvd2Vycyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBtYWtlTmV0d29ya1Byb3RvY29sID0gcHJvdG9jb2xIYW5kbGVyID0+IHtcbiAgICBjb25zdCBkZXRhY2hlZCA9IHpvbmUuZGV0YWNoZWQoKTtcblxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCBjdXJyZW50Q29ubmVjdGlvbnMgPSBkZXRhY2hlZC5tYXBTdG9yZSgncG9ydFRvQ3VycmVudENvbm5lY3Rpb25zJyk7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgYm91bmRQb3J0cyA9IGRldGFjaGVkLm1hcFN0b3JlKCdhZGRyVG9Qb3J0Jyk7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGxpc3RlbmluZyA9IGRldGFjaGVkLm1hcFN0b3JlKCdsaXN0ZW5pbmcnKTtcblxuICAgIGNvbnN0IHsgYmluZGVyLCBwcm90b2NvbEltcGwgfSA9IG1ha2VCaW5kZXJLaXQoe1xuICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgYm91bmRQb3J0cyxcbiAgICAgIGxpc3RlbmluZyxcbiAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICB9KTtcblxuICAgIC8vXG4gICAgdm9pZCBFKHByb3RvY29sSGFuZGxlcikub25DcmVhdGUocHJvdG9jb2xJbXBsLCBwcm90b2NvbEhhbmRsZXIpO1xuICAgIHJldHVybiBiaW5kZXI7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VOZXR3b3JrUHJvdG9jb2w7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLnByZXBhcmVOZXR3b3JrUHJvdG9jb2wocHJlcGFyZU5ldHdvcmtQcm90b2NvbCk7XG4gICAgICAgY29uc3QgcHJlcGFyZUVjaG9Db25uZWN0aW9uS2l0ID0gem9uZSA9PiB7XG4gIGNvbnN0IG1ha2VFY2hvQ29ubmVjdGlvbktpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ0VjaG9Db25uZWN0aW9uS2l0JyxcbiAgICB7XG4gICAgICBoYW5kbGVyOiBNLmludGVyZmFjZSgnQ29ubmVjdGlvbkhhbmRsZXInLCB7XG4gICAgICAgIG9uUmVjZWl2ZTogTS5jYWxsV2hlbihcbiAgICAgICAgICBTaGFwZS5Db25uZWN0aW9uLFxuICAgICAgICAgIFNoYXBlLkJ5dGVzLFxuICAgICAgICAgIFNoYXBlLkNvbm5lY3Rpb25IYW5kbGVyLFxuICAgICAgICApXG4gICAgICAgICAgLm9wdGlvbmFsKFNoYXBlLk9wdHMpXG4gICAgICAgICAgLnJldHVybnMoU2hhcGUuRGF0YSksXG4gICAgICAgIG9uQ2xvc2U6IE0uY2FsbFdoZW4oU2hhcGUuQ29ubmVjdGlvbilcbiAgICAgICAgICAub3B0aW9uYWwoTS5hbnkoKSwgU2hhcGUuQ29ubmVjdGlvbkhhbmRsZXIpXG4gICAgICAgICAgLnJldHVybnMoTS51bmRlZmluZWQoKSksXG4gICAgICB9KSxcbiAgICAgIGxpc3RlbmVyOiBNLmludGVyZmFjZSgnTGlzdGVuZXInLCB7XG4gICAgICAgIG9uTGlzdGVuOiBNLmNhbGxXaGVuKFNoYXBlLlBvcnQsIFNoYXBlLkxpc3RlbkhhbmRsZXIpLnJldHVybnMoXG4gICAgICAgICAgU2hhcGUuVm93JChNLnVuZGVmaW5lZCgpKSxcbiAgICAgICAgKSxcbiAgICAgICAgb25BY2NlcHQ6IE0uY2FsbFdoZW4oXG4gICAgICAgICAgU2hhcGUuUG9ydCxcbiAgICAgICAgICBTaGFwZS5FbmRwb2ludCxcbiAgICAgICAgICBTaGFwZS5FbmRwb2ludCxcbiAgICAgICAgICBTaGFwZS5MaXN0ZW5IYW5kbGVyLFxuICAgICAgICApLnJldHVybnMoU2hhcGUuVm93JChTaGFwZS5Db25uZWN0aW9uSGFuZGxlcikpLFxuICAgICAgfSksXG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VkOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgaGFuZGxlcjoge1xuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgb25SZWNlaXZlKF9jb25uZWN0aW9uLCBieXRlcywgX2Nvbm5lY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgICAgY29uc3QgeyBjbG9zZWQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihjbG9zZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBvbkNsb3NlKF9jb25uZWN0aW9uLCByZWFzb24sIF9jb25uZWN0aW9uSGFuZGxlcikge1xuICAgICAgICAgIGNvbnN0IHsgY2xvc2VkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoY2xvc2VkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnN0YXRlLmNsb3NlZCA9IHJlYXNvbiB8fCAnQ29ubmVjdGlvbiBjbG9zZWQnO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxpc3RlbmVyOiB7XG4gICAgICAgIGFzeW5jIG9uQWNjZXB0KF9wb3J0LCBfbG9jYWxBZGRyLCBfcmVtb3RlQWRkciwgX2xpc3RlbkhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMuaGFuZGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgb25MaXN0ZW4ocG9ydCwgX2xpc3RlbkhhbmRsZXIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKGBsaXN0ZW5pbmcgb24gZWNobyBwb3J0OiAke3BvcnR9YCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIG1ha2VFY2hvQ29ubmVjdGlvbktpdDtcbn07XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJlcGFyZUVjaG9Db25uZWN0aW9uS2l0KHByZXBhcmVFY2hvQ29ubmVjdGlvbktpdCk7XG4gICAgICAgZnVuY3Rpb24gcHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyKHpvbmUsIHsgd2F0Y2gsIGFsbFZvd3MgfSkge1xuICBjb25zdCBkZXRhY2hlZCA9IHpvbmUuZGV0YWNoZWQoKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgaW5pdEhhbmRsZXIgPSAoaW5zdGFuY2VQcmVmaXggPSAnbm9uY2UvJykgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgbGlzdGVuZXJzID0gZGV0YWNoZWQubWFwU3RvcmUoJ2xvY2FsQWRkcicpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RlbmVycyxcbiAgICAgIHBvcnROb25jZTogMG4sXG4gICAgICBpbnN0YW5jZVByZWZpeCxcbiAgICAgIGluc3RhbmNlTm9uY2U6IDBuLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgbWFrZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnUHJvdG9jb2xIYW5kbGVyJyxcbiAgICBTaGFwZS5Qcm90b2NvbEhhbmRsZXJJLFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGluaXRIYW5kbGVyLFxuICAgIHtcbiAgICAgIHByb3RvY29sSGFuZGxlcjoge1xuICAgICAgICBhc3luYyBvbkNyZWF0ZShfaW1wbCwgX3Byb3RvY29sSGFuZGxlcikge1xuICAgICAgICAgIC8vXG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdlbmVyYXRlUG9ydElEKF9sb2NhbEFkZHIsIF9wcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnBvcnROb25jZSArPSAxbjtcbiAgICAgICAgICByZXR1cm4gYHBvcnQke3RoaXMuc3RhdGUucG9ydE5vbmNlfWA7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIG9uQmluZChfcG9ydCwgX2xvY2FsQWRkciwgX3Byb3RvY29sSGFuZGxlcikge1xuICAgICAgICAgIC8vXG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIG9uQ29ubmVjdChfcG9ydCwgbG9jYWxBZGRyLCByZW1vdGVBZGRyKSB7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5lcnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgY29uc3QgW2xwb3J0LCBsaGFuZGxlcl0gPSBsaXN0ZW5lcnMuZ2V0KHJlbW90ZUFkZHIpO1xuXG4gICAgICAgICAgY29uc3QgYWNjZXB0Vm93ID0gd2F0Y2goXG4gICAgICAgICAgICBFKGxoYW5kbGVyKS5vbkFjY2VwdChscG9ydCwgcmVtb3RlQWRkciwgbG9jYWxBZGRyLCBsaGFuZGxlciksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5wcm90b2NvbEhhbmRsZXJBY2NlcHRXYXRjaGVyLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBpbnN0YW50aWF0ZUlubmVyVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBFKHRoaXMuZmFjZXRzLnByb3RvY29sSGFuZGxlcikub25JbnN0YW50aWF0ZShcbiAgICAgICAgICAgICAgbHBvcnQsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnByb3RvY29sSGFuZGxlckluc3RhbnRpYXRlV2F0Y2hlcixcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgaW5zdGFudGlhdGVWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIGluc3RhbnRpYXRlSW5uZXJWb3csXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBhbGxWb3dzKFthY2NlcHRWb3csIGluc3RhbnRpYXRlVm93XSksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5wcm90b2NvbEhhbmRsZXJDb25uZWN0V2F0Y2hlcixcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBvbkluc3RhbnRpYXRlKF9wb3J0LCBfbG9jYWxBZGRyLCBfcmVtb3RlLCBfcHJvdG9jb2wpIHtcbiAgICAgICAgICBjb25zdCB7IGluc3RhbmNlUHJlZml4IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIHRoaXMuc3RhdGUuaW5zdGFuY2VOb25jZSArPSAxbjtcbiAgICAgICAgICByZXR1cm4gYCR7aW5zdGFuY2VQcmVmaXh9JHt0aGlzLnN0YXRlLmluc3RhbmNlTm9uY2V9YDtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgb25MaXN0ZW4ocG9ydCwgbG9jYWxBZGRyLCBsaXN0ZW5IYW5kbGVyLCBfcHJvdG9jb2xIYW5kbGVyKSB7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5lcnMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXMobG9jYWxBZGRyKSkge1xuICAgICAgICAgICAgY29uc3QgbGhhbmRsZXIgPSBsaXN0ZW5lcnMuZ2V0KGxvY2FsQWRkcilbMV07XG4gICAgICAgICAgICBpZiAobGhhbmRsZXIgIT09IGxpc3RlbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgbGlzdGVuZXJzLnNldChcbiAgICAgICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICAgICAgaGFyZGVuKFtcbiAgICAgICAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuSGFuZGxlclxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmluaXQoXG4gICAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgICAgaGFyZGVuKFtcbiAgICAgICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGxpc3RlbkhhbmRsZXIpLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBvbkxpc3RlblJlbW92ZShwb3J0LCBsb2NhbEFkZHIsIGxpc3RlbkhhbmRsZXIsIF9wcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCBbbHBvcnQsIGxoYW5kbGVyXSA9IGxpc3RlbmVycy5nZXQobG9jYWxBZGRyKTtcbiAgICAgICAgICBscG9ydCA9PT0gcG9ydCB8fCBGYWlsYFBvcnQgZG9lcyBub3QgbWF0Y2ggbGlzdGVuZXIgb24gJHtsb2NhbEFkZHJ9YDtcbiAgICAgICAgICBsaGFuZGxlciA9PT0gbGlzdGVuSGFuZGxlciB8fFxuICAgICAgICAgICAgRmFpbGBMaXN0ZW4gaGFuZGxlciBkb2VzIG5vdCBtYXRjaCBsaXN0ZW5lciBvbiAke2xvY2FsQWRkcn1gO1xuICAgICAgICAgIGxpc3RlbmVycy5kZWxldGUobG9jYWxBZGRyKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgb25SZXZva2UoX3BvcnQsIF9sb2NhbEFkZHIsIF9wcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgICAvL1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHByb3RvY29sSGFuZGxlckFjY2VwdFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQocmNoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHJjaGFuZGxlcjtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcm90b2NvbEhhbmRsZXJDb25uZWN0V2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHRzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbW90ZUluc3RhbmNlOiByZXN1bHRzWzBdLFxuICAgICAgICAgICAgaGFuZGxlcjogcmVzdWx0c1sxXSxcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHByb3RvY29sSGFuZGxlckluc3RhbnRpYXRlV2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChyZW1vdGVJbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiByZW1vdGVJbnN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXI6IHtcbiAgICAgICAgb25SZWplY3RlZChlKSB7XG4gICAgICAgICAgcmV0aHJvd1VubGVzc01pc3NpbmcoZSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1ha2VMb29wYmFja1Byb3RvY29sSGFuZGxlciA9IGluc3RhbmNlUHJlZml4ID0+IHtcbiAgICBjb25zdCB7IHByb3RvY29sSGFuZGxlciB9ID0gbWFrZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyS2l0KGluc3RhbmNlUHJlZml4KTtcbiAgICByZXR1cm4gaGFyZGVuKHByb3RvY29sSGFuZGxlcik7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VMb29wYmFja1Byb3RvY29sSGFuZGxlcjtcbn1cblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVQb3J0QWxsb2NhdG9yID0gKHpvbmUsIHsgd2F0Y2ggfSkgPT5cbiAgem9uZS5leG9DbGFzcyhcbiAgICAnUG9ydEFsbG9jYXRvcicsXG4gICAgTS5pbnRlcmZhY2UoJ1BvcnRBbGxvY2F0b3InLCB7XG4gICAgICBhbGxvY2F0ZUN1c3RvbUlCQ1BvcnQ6IE0uY2FsbFdoZW4oKVxuICAgICAgICAub3B0aW9uYWwoTS5zdHJpbmcoKSlcbiAgICAgICAgLnJldHVybnMoU2hhcGUuVm93JChTaGFwZS5Qb3J0KSksXG4gICAgICBhbGxvY2F0ZUlDQUNvbnRyb2xsZXJQb3J0OiBNLmNhbGxXaGVuKCkucmV0dXJucyhTaGFwZS5Wb3ckKFNoYXBlLlBvcnQpKSxcbiAgICAgIGFsbG9jYXRlSUNRQ29udHJvbGxlclBvcnQ6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlLlZvdyQoU2hhcGUuUG9ydCkpLFxuICAgICAgYWxsb2NhdGVDdXN0b21Mb2NhbFBvcnQ6IE0uY2FsbFdoZW4oKVxuICAgICAgICAub3B0aW9uYWwoTS5zdHJpbmcoKSlcbiAgICAgICAgLnJldHVybnMoU2hhcGUuVm93JChTaGFwZS5Qb3J0KSksXG4gICAgfSksXG4gICAgLypcblxuXG5cbiAgICAgKi9cbiAgICAoeyBwcm90b2NvbCB9KSA9PiAoeyBwcm90b2NvbCwgbGFzdElDQVBvcnROdW06IDBuLCBsYXN0SUNRUG9ydE51bTogMG4gfSksXG4gICAge1xuICAgICAgYXN5bmMgYWxsb2NhdGVDdXN0b21JQkNQb3J0KHNwZWNpZmllZE5hbWUgPSAnJykge1xuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICBsZXQgbG9jYWxBZGRyID0gYC9pYmMtcG9ydC9gO1xuXG4gICAgICAgIGlmIChzcGVjaWZpZWROYW1lKSB7XG4gICAgICAgICAgdGhyb3dJZkludmFsaWRQb3J0TmFtZShzcGVjaWZpZWROYW1lKTtcblxuICAgICAgICAgIGxvY2FsQWRkciA9IGAvaWJjLXBvcnQvY3VzdG9tLSR7c3BlY2lmaWVkTmFtZX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHdhdGNoKEUoc3RhdGUucHJvdG9jb2wpLmJpbmRQb3J0KGxvY2FsQWRkcikpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGFsbG9jYXRlSUNBQ29udHJvbGxlclBvcnQoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgIHN0YXRlLmxhc3RJQ0FQb3J0TnVtICs9IDFuO1xuICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgRShzdGF0ZS5wcm90b2NvbCkuYmluZFBvcnQoXG4gICAgICAgICAgICBgL2liYy1wb3J0L2ljYWNvbnRyb2xsZXItJHtzdGF0ZS5sYXN0SUNBUG9ydE51bX1gLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgYWxsb2NhdGVJQ1FDb250cm9sbGVyUG9ydCgpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgc3RhdGUubGFzdElDUVBvcnROdW0gKz0gMW47XG4gICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICBFKHN0YXRlLnByb3RvY29sKS5iaW5kUG9ydChcbiAgICAgICAgICAgIGAvaWJjLXBvcnQvaWNxY29udHJvbGxlci0ke3N0YXRlLmxhc3RJQ1FQb3J0TnVtfWAsXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBhbGxvY2F0ZUN1c3RvbUxvY2FsUG9ydChzcGVjaWZpZWROYW1lID0gJycpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcblxuICAgICAgICBsZXQgbG9jYWxBZGRyID0gYC9sb2NhbC9gO1xuXG4gICAgICAgIGlmIChzcGVjaWZpZWROYW1lKSB7XG4gICAgICAgICAgdGhyb3dJZkludmFsaWRQb3J0TmFtZShzcGVjaWZpZWROYW1lKTtcblxuICAgICAgICAgIGxvY2FsQWRkciA9IGAvbG9jYWwvY3VzdG9tLSR7c3BlY2lmaWVkTmFtZX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHdhdGNoKEUoc3RhdGUucHJvdG9jb2wpLmJpbmRQb3J0KGxvY2FsQWRkcikpO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5wcmVwYXJlUG9ydEFsbG9jYXRvcihwcmVwYXJlUG9ydEFsbG9jYXRvcik7XG5jb25zdCBwcmVwYXJlRmluYWxpemVyID0gKHpvbmUsIHsgd2F0Y2ggfSkgPT4ge1xuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBvYmpUb0ZpbmFsaXplckluZm8gPSB6b25lLm1hcFN0b3JlKCdvYmpUb0ZpbmFsaXplckluZm8nKTtcbiAgcmV0dXJuIHpvbmUuZXhvKCdOZXR3b3JrRmluYWxpemVyJywgdW5kZWZpbmVkLCB7XG4gICAgaGFzKG9iaikge1xuICAgICAgcmV0dXJuIG9ialRvRmluYWxpemVySW5mby5oYXMob2JqKTtcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICBpbml0Q29ubmVjdGlvbihjb25uLCBoYW5kbGVyKSB7XG4gICAgICBvYmpUb0ZpbmFsaXplckluZm8uaW5pdChjb25uLCBoYXJkZW4oeyBjb25uLCBoYW5kbGVyIH0pKTtcbiAgICB9LFxuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgaW5pdENsb3NlcihjbG9zZXIpIHtcbiAgICAgIG9ialRvRmluYWxpemVySW5mby5pbml0KGNsb3NlciwgaGFyZGVuKHsgY2xvc2VyIH0pKTtcbiAgICB9LFxuICAgIGZpbmFsaXplKG9iaikge1xuICAgICAgaWYgKCFvYmpUb0ZpbmFsaXplckluZm8uaGFzKG9iaikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzcG9zZUluZm8gPSBvYmpUb0ZpbmFsaXplckluZm8uZ2V0KG9iaik7XG4gICAgICBpZiAoJ2Nvbm4nIGluIGRpc3Bvc2VJbmZvKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHsgY29ubiwgaGFuZGxlciB9ID0gZGlzcG9zZUluZm87XG4gICAgICAgIG9ialRvRmluYWxpemVySW5mby5kZWxldGUob2JqKTtcbiAgICAgICAgcmV0dXJuIHdhdGNoKEUoaGFuZGxlcikub25DbG9zZShjb25uLCBDTE9TRV9SRUFTT05fRklOQUxJWkVSLCBoYW5kbGVyKSk7XG4gICAgICB9IGVsc2UgaWYgKCdjbG9zZXInIGluIGRpc3Bvc2VJbmZvKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHsgY2xvc2VyIH0gPSBkaXNwb3NlSW5mbztcbiAgICAgICAgb2JqVG9GaW5hbGl6ZXJJbmZvLmRlbGV0ZShvYmopO1xuICAgICAgICByZXR1cm4gd2F0Y2goRShjbG9zZXIpLmNsb3NlKCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdW5waW4ob2JqKSB7XG4gICAgICBvYmpUb0ZpbmFsaXplckluZm8uZGVsZXRlKG9iaik7XG4gICAgfSxcbiAgfSk7XG59O1xuaGFyZGVuKHByZXBhcmVGaW5hbGl6ZXIpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZU5ldHdvcmtQb3dlcnMgPSAoem9uZSwgdm93VG9vbHMpID0+IHtcbiAgY29uc3QgZmluYWxpemVyID0gcHJlcGFyZUZpbmFsaXplcih6b25lLCB2b3dUb29scyk7XG4gIHJldHVybiBoYXJkZW4oeyAuLi52b3dUb29scywgZmluYWxpemVyIH0pO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLnByZXBhcmVOZXR3b3JrUG93ZXJzKHByZXBhcmVOZXR3b3JrUG93ZXJzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkVORFBPSU5UX1NFUEFSQVRPUiI6WyJFTkRQT0lOVF9TRVBBUkFUT1IiXSwiQ0xPU0VfUkVBU09OX0ZJTkFMSVpFUiI6WyJDTE9TRV9SRUFTT05fRklOQUxJWkVSIl0sInJldGhyb3dVbmxlc3NNaXNzaW5nIjpbInJldGhyb3dVbmxlc3NNaXNzaW5nIl0sImdldFByZWZpeGVzIjpbImdldFByZWZpeGVzIl0sImNyb3Nzb3ZlckNvbm5lY3Rpb24iOlsiY3Jvc3NvdmVyQ29ubmVjdGlvbiJdLCJwcmVwYXJlTmV0d29ya1Byb3RvY29sIjpbInByZXBhcmVOZXR3b3JrUHJvdG9jb2wiXSwicHJlcGFyZUVjaG9Db25uZWN0aW9uS2l0IjpbInByZXBhcmVFY2hvQ29ubmVjdGlvbktpdCJdLCJwcmVwYXJlTG9vcGJhY2tQcm90b2NvbEhhbmRsZXIiOlsicHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyIl0sInByZXBhcmVQb3J0QWxsb2NhdG9yIjpbInByZXBhcmVQb3J0QWxsb2NhdG9yIl0sInByZXBhcmVOZXR3b3JrUG93ZXJzIjpbInByZXBhcmVOZXR3b3JrUG93ZXJzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANrblKP8FAAA/BQAACQAAABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9yb3V0ZXIuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCIuL25ldHdvcmsuanMiLCIuL3NoYXBlcy5qcyJdLCJleHBvcnRzIjpbIlJvdXRlckkiLCJwcmVwYXJlUm91dGVyIiwicHJlcGFyZVJvdXRlclByb3RvY29sIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxkZWZhdWx0RSxNLEVORFBPSU5UX1NFUEFSQVRPUixwcmVwYXJlTmV0d29ya1Byb3RvY29sLFNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKGRlZmF1bHRFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi9uZXR3b3JrLmpzXCIsIFtbXCJFTkRQT0lOVF9TRVBBUkFUT1JcIixbJGjNj19hID0+IChFTkRQT0lOVF9TRVBBUkFUT1IgPSAkaM2PX2EpXV0sW1wicHJlcGFyZU5ldHdvcmtQcm90b2NvbFwiLFskaM2PX2EgPT4gKHByZXBhcmVOZXR3b3JrUHJvdG9jb2wgPSAkaM2PX2EpXV1dXSxbXCIuL3NoYXBlcy5qc1wiLCBbW1wiU2hhcGVcIixbJGjNj19hID0+IChTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbiAgICAgICBjb25zdCBSb3V0ZXJJID0gTS5pbnRlcmZhY2UoJ1JvdXRlcicsIHtcbiAgZ2V0Um91dGVzOiBNLmNhbGwoU2hhcGUuRW5kcG9pbnQpLnJldHVybnMoTS5hcnJheU9mKFtNLnN0cmluZygpLCBNLmFueSgpXSkpLFxuICByZWdpc3RlcjogTS5jYWxsKE0uc3RyaW5nKCksIE0uYW55KCkpLnJldHVybnMoTS51bmRlZmluZWQoKSksXG4gIHVucmVnaXN0ZXI6IE0uY2FsbChNLnN0cmluZygpLCBNLmFueSgpKS5yZXR1cm5zKE0udW5kZWZpbmVkKCkpLFxufSk7XG5cbi8qXG5cblxuICovJGjNj19vbmNlLlJvdXRlckkoUm91dGVySSk7XG4gICAgICAgY29uc3QgcHJlcGFyZVJvdXRlciA9IHpvbmUgPT4ge1xuICBjb25zdCBkZXRhY2hlZCA9IHpvbmUuZGV0YWNoZWQoKTtcblxuICBjb25zdCBtYWtlUm91dGVyID0gem9uZS5leG9DbGFzcyhcbiAgICAnUm91dGVyJyxcbiAgICBSb3V0ZXJJLFxuICAgICgpID0+IHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IHByZWZpeFRvUm91dGUgPSBkZXRhY2hlZC5tYXBTdG9yZSgncHJlZml4Jyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZWZpeFRvUm91dGUsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGdldFJvdXRlcyhhZGRyKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gYWRkci5zcGxpdChFTkRQT0lOVF9TRVBBUkFUT1IpO1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHJldCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gcGFydHMubGVuZ3RoOyBpID4gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBwcmVmaXggPSBwYXJ0cy5zbGljZSgwLCBpKS5qb2luKEVORFBPSU5UX1NFUEFSQVRPUik7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJlZml4VG9Sb3V0ZS5oYXMocHJlZml4KSkge1xuICAgICAgICAgICAgcmV0LnB1c2goW3ByZWZpeCwgdGhpcy5zdGF0ZS5wcmVmaXhUb1JvdXRlLmdldChwcmVmaXgpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgZGVmYXVsdFByZWZpeCA9IHByZWZpeC5zbGljZShcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBwcmVmaXgubGFzdEluZGV4T2YoRU5EUE9JTlRfU0VQQVJBVE9SKSArIDEsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5wcmVmaXhUb1JvdXRlLmhhcyhkZWZhdWx0UHJlZml4KSkge1xuICAgICAgICAgICAgcmV0LnB1c2goW1xuICAgICAgICAgICAgICBkZWZhdWx0UHJlZml4LFxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLnByZWZpeFRvUm91dGUuZ2V0KGRlZmF1bHRQcmVmaXgpLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXJkZW4ocmV0KTtcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgcmVnaXN0ZXIocHJlZml4LCByb3V0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnByZWZpeFRvUm91dGUuaW5pdChwcmVmaXgsIHJvdXRlKTtcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgdW5yZWdpc3RlcihwcmVmaXgsIHJvdXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUucHJlZml4VG9Sb3V0ZS5nZXQocHJlZml4KSA9PT0gcm91dGUgfHxcbiAgICAgICAgICBGYWlsYFJvdXRlciBpcyBub3QgcmVnaXN0ZXJlZCBhdCBwcmVmaXggJHtwcmVmaXh9YDtcbiAgICAgICAgdGhpcy5zdGF0ZS5wcmVmaXhUb1JvdXRlLmRlbGV0ZShwcmVmaXgpO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBtYWtlUm91dGVyO1xufTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLnByZXBhcmVSb3V0ZXIocHJlcGFyZVJvdXRlcik7XG4gICAgICAgY29uc3QgcHJlcGFyZVJvdXRlclByb3RvY29sID0gKHpvbmUsIHBvd2VycywgRSA9IGRlZmF1bHRFKSA9PiB7XG4gIGNvbnN0IGRldGFjaGVkID0gem9uZS5kZXRhY2hlZCgpO1xuXG4gIGNvbnN0IG1ha2VSb3V0ZXIgPSBwcmVwYXJlUm91dGVyKHpvbmUpO1xuICBjb25zdCBtYWtlTmV0d29ya1Byb3RvY29sID0gcHJlcGFyZU5ldHdvcmtQcm90b2NvbCh6b25lLCBwb3dlcnMpO1xuXG4gIGNvbnN0IG1ha2VSb3V0ZXJQcm90b2NvbCA9IHpvbmUuZXhvQ2xhc3MoXG4gICAgJ1JvdXRlclByb3RvY29sJyxcbiAgICBNLmludGVyZmFjZSgnUm91dGVyUHJvdG9jb2wnLCB7XG4gICAgICByZWdpc3RlclByb3RvY29sSGFuZGxlcjogTS5jYWxsKFxuICAgICAgICBNLmFycmF5T2YoTS5zdHJpbmcoKSksXG4gICAgICAgIE0ucmVtb3RhYmxlKCksXG4gICAgICApLnJldHVybnMoKSxcbiAgICAgIHVucmVnaXN0ZXJQcm90b2NvbEhhbmRsZXI6IE0uY2FsbChNLnN0cmluZygpLCBNLnJlbW90YWJsZSgpKS5yZXR1cm5zKCksXG4gICAgICBiaW5kUG9ydDogTS5jYWxsV2hlbihTaGFwZS5FbmRwb2ludCkucmV0dXJucyhTaGFwZS5Wb3ckKFNoYXBlLlBvcnQpKSxcbiAgICB9KSxcbiAgICAoKSA9PiB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCByb3V0ZXIgPSBtYWtlUm91dGVyKCk7XG5cbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBwcm90b2NvbHMgPSBkZXRhY2hlZC5tYXBTdG9yZSgncHJlZml4Jyk7XG5cbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBwcm90b2NvbEhhbmRsZXJzID0gZGV0YWNoZWQubWFwU3RvcmUoJ3ByZWZpeCcpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByb3V0ZXIsXG4gICAgICAgIHByb3RvY29sSGFuZGxlcnMsXG4gICAgICAgIHByb3RvY29scyxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgcmVnaXN0ZXJQcm90b2NvbEhhbmRsZXIocGF0aHMsIHByb3RvY29sSGFuZGxlcikge1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IG1ha2VOZXR3b3JrUHJvdG9jb2wocHJvdG9jb2xIYW5kbGVyKTtcbiAgICAgICAgZm9yIChjb25zdCBwcmVmaXggb2YgcGF0aHMpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnJvdXRlci5yZWdpc3RlcihwcmVmaXgsIHByb3RvY29sKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnByb3RvY29scy5pbml0KHByZWZpeCwgcHJvdG9jb2wpO1xuICAgICAgICAgIHRoaXMuc3RhdGUucHJvdG9jb2xIYW5kbGVycy5pbml0KHByZWZpeCwgcHJvdG9jb2xIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHVucmVnaXN0ZXJQcm90b2NvbEhhbmRsZXIocHJlZml4LCBwcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgcGggPSB0aGlzLnN0YXRlLnByb3RvY29sSGFuZGxlcnMuZ2V0KHByZWZpeCk7XG4gICAgICAgIHBoID09PSBwcm90b2NvbEhhbmRsZXIgfHxcbiAgICAgICAgICBGYWlsYFByb3RvY29sIGhhbmRsZXIgaXMgbm90IHJlZ2lzdGVyZWQgYXQgcHJlZml4ICR7cHJlZml4fWA7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuc3RhdGUucm91dGVyLnVucmVnaXN0ZXIocHJlZml4LCBwaCk7XG4gICAgICAgIHRoaXMuc3RhdGUucHJvdG9jb2xzLmRlbGV0ZShwcmVmaXgpO1xuICAgICAgICB0aGlzLnN0YXRlLnByb3RvY29sSGFuZGxlcnMuZGVsZXRlKHByZWZpeCk7XG4gICAgICB9LFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgYXN5bmMgYmluZFBvcnQobG9jYWxBZGRyKSB7XG4gICAgICAgIGNvbnN0IFtyb3V0ZV0gPSB0aGlzLnN0YXRlLnJvdXRlci5nZXRSb3V0ZXMobG9jYWxBZGRyKTtcbiAgICAgICAgcm91dGUgIT09IHVuZGVmaW5lZCB8fCBGYWlsYE5vIHJlZ2lzdGVyZWQgcm91dGVyIGZvciAke2xvY2FsQWRkcn1gO1xuICAgICAgICByZXR1cm4gRShyb3V0ZVsxXSkuYmluZFBvcnQobG9jYWxBZGRyKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICByZXR1cm4gbWFrZVJvdXRlclByb3RvY29sO1xufTskaM2PX29uY2UucHJlcGFyZVJvdXRlclByb3RvY29sKHByZXBhcmVSb3V0ZXJQcm90b2NvbCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJSb3V0ZXJJIjpbIlJvdXRlckkiXSwicHJlcGFyZVJvdXRlciI6WyJwcmVwYXJlUm91dGVyIl0sInByZXBhcmVSb3V0ZXJQcm90b2NvbCI6WyJwcmVwYXJlUm91dGVyUHJvdG9jb2wiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAXK9vR+QcAADkHAAAJAAAAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL3NoYXBlcy5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIlNlbmRPcHRpb25zU2hhcGUiLCJTaGFwZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE07JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXV0pO1xuXG5cbmNvbnN0IFNoYXBlMSA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIC8qXG5cblxuICAgKi9cbiAgRGF0YTogTS5zdHJpbmcoKSxcbiAgQnl0ZXM6IE0uc3RyaW5nKCksXG4gIEVuZHBvaW50OiBNLnN0cmluZygpLFxuICBWb3c6IE0udGFnZ2VkKFxuICAgICdWb3cnLFxuICAgIGhhcmRlbih7XG4gICAgICB2b3dWMDogTS5yZW1vdGFibGUoJ1Zvd1YwJyksXG4gICAgfSksXG4gICksXG4gIENvbm5lY3Rpb25IYW5kbGVyOiBNLnJlbW90YWJsZSgnQ29ubmVjdGlvbkhhbmRsZXInKSxcbiAgQ29ubmVjdGlvbjogTS5yZW1vdGFibGUoJ0Nvbm5lY3Rpb24nKSxcbiAgSW5ib3VuZEF0dGVtcHQ6IE0ucmVtb3RhYmxlKCdJbmJvdW5kQXR0ZW1wdCcpLFxuICBMaXN0ZW5lcjogTS5yZW1vdGFibGUoJ0xpc3RlbmVyJyksXG4gIExpc3RlbkhhbmRsZXI6IE0ucmVtb3RhYmxlKCdMaXN0ZW5IYW5kbGVyJyksXG4gIFBvcnQ6IE0ucmVtb3RhYmxlKCdQb3J0JyksXG4gIFByb3RvY29sSGFuZGxlcjogTS5yZW1vdGFibGUoJ1Byb3RvY29sSGFuZGxlcicpLFxuICBQcm90b2NvbEltcGw6IE0ucmVtb3RhYmxlKCdQcm90b2NvbEltcGwnKSxcbn0pO1xuXG4gICAgICAgY29uc3QgU2VuZE9wdGlvbnNTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHt9LFxuICB7IHJlbGF0aXZlVGltZW91dE5zOiBNLmJpZ2ludCgpIH0sXG4pOyRozY9fb25jZS5TZW5kT3B0aW9uc1NoYXBlKFNlbmRPcHRpb25zU2hhcGUpO1xuXG5jb25zdCBTaGFwZTIgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICAuLi5TaGFwZTEsXG4gIFZvdyQ6IHNoYXBlID0+IE0ub3Ioc2hhcGUsIFNoYXBlMS5Wb3cpLFxuICBBdHRlbXB0RGVzY3JpcHRpb246IE0uc3BsaXRSZWNvcmQoXG4gICAgeyBoYW5kbGVyOiBTaGFwZTEuQ29ubmVjdGlvbkhhbmRsZXIgfSxcbiAgICB7IHJlbW90ZUFkZHJlc3M6IFNoYXBlMS5FbmRwb2ludCwgbG9jYWxBZGRyZXNzOiBTaGFwZTEuRW5kcG9pbnQgfSxcbiAgKSxcbiAgT3B0czogU2VuZE9wdGlvbnNTaGFwZSxcbn0pO1xuXG4gICAgICAgY29uc3QgU2hhcGUgPSAvKiAgICAgICAgICAgICAgICAqLyBoYXJkZW4oe1xuICAuLi5TaGFwZTIsXG4gIENvbm5lY3Rpb25JOiB7XG4gICAgY29ubmVjdGlvbjogTS5pbnRlcmZhY2UoJ0Nvbm5lY3Rpb24nLCB7XG4gICAgICBzZW5kOiBNLmNhbGxXaGVuKFNoYXBlMi5EYXRhKVxuICAgICAgICAub3B0aW9uYWwoU2hhcGUyLk9wdHMpXG4gICAgICAgIC5yZXR1cm5zKFNoYXBlMi5Wb3ckKFNoYXBlMi5CeXRlcykpLFxuICAgICAgY2xvc2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICAgIGdldExvY2FsQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgICAgZ2V0UmVtb3RlQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgIH0pLFxuICAgIG9wZW5Db25uZWN0aW9uQWNrV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ09wZW5Db25uZWN0aW9uQWNrV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1JldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcicsIHtcbiAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgc2lua1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdTaW5rV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKCksXG4gICAgfSksXG4gIH0sXG4gIEluYm91bmRBdHRlbXB0SToge1xuICAgIGluYm91bmRBdHRlbXB0OiBNLmludGVyZmFjZSgnSW5ib3VuZEF0dGVtcHQnLCB7XG4gICAgICBhY2NlcHQ6IE0uY2FsbFdoZW4oU2hhcGUyLkF0dGVtcHREZXNjcmlwdGlvbikucmV0dXJucyhcbiAgICAgICAgU2hhcGUyLlZvdyQoU2hhcGUyLkNvbm5lY3Rpb24pLFxuICAgICAgKSxcbiAgICAgIGdldExvY2FsQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgICAgZ2V0UmVtb3RlQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgICAgY2xvc2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICB9KSxcbiAgICBpbmJvdW5kQXR0ZW1wdEFjY2VwdFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdJbmJvdW5kQXR0ZW1wdEFjY2VwdFdhdGNoZXInLCB7XG4gICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICB9KSxcbiAgICByZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdSZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXInLCB7XG4gICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHNpbmtXYXRjaGVyOiBNLmludGVyZmFjZSgnU2lua1dhdGNoZXInLCB7XG4gICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucygpLFxuICAgIH0pLFxuICB9LFxuICBQb3J0SToge1xuICAgIHBvcnQ6IE0uaW50ZXJmYWNlKCdQb3J0Jywge1xuICAgICAgZ2V0TG9jYWxBZGRyZXNzOiBNLmNhbGwoKS5yZXR1cm5zKFNoYXBlMi5FbmRwb2ludCksXG4gICAgICBhZGRMaXN0ZW5lcjogTS5jYWxsV2hlbihTaGFwZTIuTGlzdGVuZXIpLnJldHVybnMoXG4gICAgICAgIFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpLFxuICAgICAgKSxcbiAgICAgIGNvbm5lY3Q6IE0uY2FsbFdoZW4oU2hhcGUyLkVuZHBvaW50KVxuICAgICAgICAub3B0aW9uYWwoU2hhcGUyLkNvbm5lY3Rpb25IYW5kbGVyKVxuICAgICAgICAucmV0dXJucyhTaGFwZTIuVm93JChTaGFwZTIuQ29ubmVjdGlvbikpLFxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IE0uY2FsbFdoZW4oU2hhcGUyLkxpc3RlbmVyKS5yZXR1cm5zKFxuICAgICAgICBTaGFwZTIuVm93JChNLnVuZGVmaW5lZCgpKSxcbiAgICAgICksXG4gICAgICByZXZva2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICB9KSxcbiAgICBwb3J0QWRkTGlzdGVuZXJXYXRjaGVyOiBNLmludGVyZmFjZSgnUG9ydEFkZExpc3RlbmVyV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHBvcnRSZW1vdmVMaXN0ZW5lcldhdGNoZXI6IE0uaW50ZXJmYWNlKCdQb3J0UmVtb3ZlTGlzdGVuZXJXYXRjaGVyJywge1xuICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgcG9ydENvbm5lY3RXYXRjaGVyOiBNLmludGVyZmFjZSgnUG9ydENvbm5lY3RXYXRjaGVyJywge1xuICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgcG9ydFJldm9rZVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdQb3J0UmV2b2tlV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHBvcnRSZXZva2VDbGVhbnVwV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1BvcnRSZXZva2VDbGVhbnVwV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1JldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcicsIHtcbiAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgc2lua1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdTaW5rV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKCksXG4gICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICB9LFxuICBQcm90b2NvbEhhbmRsZXJJOiB7XG4gICAgcHJvdG9jb2xIYW5kbGVyOiBNLmludGVyZmFjZSgnUHJvdG9jb2xIYW5kbGVyJywge1xuICAgICAgb25DcmVhdGU6IE0uY2FsbFdoZW4oTS5yZW1vdGFibGUoKSwgU2hhcGUyLlByb3RvY29sSGFuZGxlcikucmV0dXJucyhcbiAgICAgICAgU2hhcGUyLlZvdyQoTS51bmRlZmluZWQoKSksXG4gICAgICApLFxuICAgICAgZ2VuZXJhdGVQb3J0SUQ6IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5FbmRwb2ludCxcbiAgICAgICAgU2hhcGUyLlByb3RvY29sSGFuZGxlcixcbiAgICAgICkucmV0dXJucyhTaGFwZTIuVm93JChNLnN0cmluZygpKSksXG4gICAgICBvbkJpbmQ6IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5Qb3J0LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5Qcm90b2NvbEhhbmRsZXIsXG4gICAgICApLnJldHVybnMoU2hhcGUyLlZvdyQoTS51bmRlZmluZWQoKSkpLFxuICAgICAgb25MaXN0ZW46IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5Qb3J0LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5MaXN0ZW5IYW5kbGVyLFxuICAgICAgICBTaGFwZTIuUHJvdG9jb2xIYW5kbGVyLFxuICAgICAgKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICAgIG9uTGlzdGVuUmVtb3ZlOiBNLmNhbGxXaGVuKFxuICAgICAgICBTaGFwZTIuUG9ydCxcbiAgICAgICAgU2hhcGUyLkVuZHBvaW50LFxuICAgICAgICBTaGFwZTIuTGlzdGVuSGFuZGxlcixcbiAgICAgICAgU2hhcGUyLlByb3RvY29sSGFuZGxlcixcbiAgICAgICkucmV0dXJucyhTaGFwZTIuVm93JChNLnVuZGVmaW5lZCgpKSksXG4gICAgICBvbkluc3RhbnRpYXRlOiBNLmNhbGxXaGVuKFxuICAgICAgICBTaGFwZTIuUG9ydCxcbiAgICAgICAgU2hhcGUyLkVuZHBvaW50LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5Qcm90b2NvbEhhbmRsZXIsXG4gICAgICApLnJldHVybnMoU2hhcGUyLlZvdyQoU2hhcGUyLkVuZHBvaW50KSksXG4gICAgICBvbkNvbm5lY3Q6IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5Qb3J0LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5FbmRwb2ludCxcbiAgICAgICAgU2hhcGUyLkNvbm5lY3Rpb25IYW5kbGVyLFxuICAgICAgICBTaGFwZTIuUHJvdG9jb2xIYW5kbGVyLFxuICAgICAgKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKFNoYXBlMi5BdHRlbXB0RGVzY3JpcHRpb24pKSxcbiAgICAgIG9uUmV2b2tlOiBNLmNhbGxXaGVuKFxuICAgICAgICBTaGFwZTIuUG9ydCxcbiAgICAgICAgU2hhcGUyLkVuZHBvaW50LFxuICAgICAgICBTaGFwZTIuUHJvdG9jb2xIYW5kbGVyLFxuICAgICAgKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICB9KSxcbiAgICBwcm90b2NvbEhhbmRsZXJBY2NlcHRXYXRjaGVyOiBNLmludGVyZmFjZSgnUHJvdG9jb2xIYW5kbGVyQWNjZXB0V2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHByb3RvY29sSGFuZGxlckluc3RhbnRpYXRlV2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAnUHJvdG9jb2xIYW5kbGVySW5zdGFudGlhdGVXYXRjaGVyJyxcbiAgICAgIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9LFxuICAgICksXG4gICAgcHJvdG9jb2xIYW5kbGVyQ29ubmVjdFdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgJ1Byb3RvY29sSGFuZGxlckNvbm5lY3RXYXRjaGVyJyxcbiAgICAgIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9LFxuICAgICksXG4gICAgcmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyOiBNLmludGVyZmFjZSgnUmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyJywge1xuICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICB9KSxcbiAgfSxcblxuICBQcm90b2NvbEltcGxJOiBNLmludGVyZmFjZSgnUHJvdG9jb2xJbXBsJywge1xuICAgIGJpbmRQb3J0OiBNLmNhbGxXaGVuKFNoYXBlMi5FbmRwb2ludCkucmV0dXJucyhTaGFwZTIuVm93JChTaGFwZTIuUG9ydCkpLFxuICAgIGluYm91bmQ6IE0uY2FsbFdoZW4oU2hhcGUyLkVuZHBvaW50LCBTaGFwZTIuRW5kcG9pbnQpLnJldHVybnMoXG4gICAgICBTaGFwZTIuVm93JChTaGFwZTIuSW5ib3VuZEF0dGVtcHQpLFxuICAgICksXG4gICAgb3V0Ym91bmQ6IE0uY2FsbFdoZW4oXG4gICAgICBTaGFwZTIuUG9ydCxcbiAgICAgIFNoYXBlMi5FbmRwb2ludCxcbiAgICAgIFNoYXBlMi5Db25uZWN0aW9uSGFuZGxlcixcbiAgICApLnJldHVybnMoU2hhcGUyLlZvdyQoU2hhcGUyLkNvbm5lY3Rpb24pKSxcbiAgfSksXG59KTskaM2PX29uY2UuU2hhcGUoU2hhcGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU2VuZE9wdGlvbnNTaGFwZSI6WyJTZW5kT3B0aW9uc1NoYXBlIl0sIlNoYXBlIjpbIlNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAACMAAABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADQlkot7wgAAO8IAAAzAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2ZhciIsIi4vc3Vic2NyaWJlLmpzIl0sImV4cG9ydHMiOlsibWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIiLCJvYnNlcnZlSXRlcmF0aW9uIiwib2JzZXJ2ZUl0ZXJhdG9yIiwib2JzZXJ2ZU5vdGlmaWVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRSxzdWJzY3JpYmVMYXRlc3Q7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiLi9zdWJzY3JpYmUuanNcIiwgW1tcInN1YnNjcmliZUxhdGVzdFwiLFskaM2PX2EgPT4gKHN1YnNjcmliZUxhdGVzdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIgPSBzdWJzY3JpYmVMYXRlc3Q7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIobWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIpO1xuICAgICAgIGNvbnN0IG9ic2VydmVJdGVyYXRvciA9IChhc3luY0l0ZXJhdG9yUCwgaXRlcmF0aW9uT2JzZXJ2ZXIpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChhY2ssIG9ic2VydmVyRXJyb3IpID0+IHtcbiAgICBjb25zdCByZWN1ciA9ICgpID0+IHtcbiAgICAgIEUud2hlbihcbiAgICAgICAgRShhc3luY0l0ZXJhdG9yUCkubmV4dCgpLFxuICAgICAgICAoeyB2YWx1ZSwgZG9uZSB9KSA9PiB7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGl0ZXJhdGlvbk9ic2VydmVyLmZpbmlzaCAmJiBpdGVyYXRpb25PYnNlcnZlci5maW5pc2godmFsdWUpO1xuICAgICAgICAgICAgYWNrKHVuZGVmaW5lZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdGlvbk9ic2VydmVyLnVwZGF0ZVN0YXRlICYmXG4gICAgICAgICAgICAgIGl0ZXJhdGlvbk9ic2VydmVyLnVwZGF0ZVN0YXRlKHZhbHVlKTtcbiAgICAgICAgICAgIHJlY3VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZWFzb24gPT4ge1xuICAgICAgICAgIGl0ZXJhdGlvbk9ic2VydmVyLmZhaWwgJiYgaXRlcmF0aW9uT2JzZXJ2ZXIuZmFpbChyZWFzb24pO1xuICAgICAgICAgIGFjayh1bmRlZmluZWQpO1xuICAgICAgICB9LFxuICAgICAgKS5jYXRjaChvYnNlcnZlckVycm9yKTtcbiAgICB9O1xuICAgIHJlY3VyKCk7XG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5vYnNlcnZlSXRlcmF0b3Iob2JzZXJ2ZUl0ZXJhdG9yKTtcbiAgICAgICBjb25zdCBvYnNlcnZlSXRlcmF0aW9uID0gKGFzeW5jSXRlcmFibGVQLCBpdGVyYXRpb25PYnNlcnZlcikgPT4ge1xuICBjb25zdCBpdGVyYXRvclAgPSBFKGFzeW5jSXRlcmFibGVQKVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgcmV0dXJuIG9ic2VydmVJdGVyYXRvcihpdGVyYXRvclAsIGl0ZXJhdGlvbk9ic2VydmVyKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2Uub2JzZXJ2ZUl0ZXJhdGlvbihvYnNlcnZlSXRlcmF0aW9uKTtcbiAgICAgICBjb25zdCBvYnNlcnZlTm90aWZpZXIgPSAobm90aWZpZXJQLCBpdGVyYXRpb25PYnNlcnZlcikgPT5cbiAgb2JzZXJ2ZUl0ZXJhdGlvbihzdWJzY3JpYmVMYXRlc3Qobm90aWZpZXJQKSwgaXRlcmF0aW9uT2JzZXJ2ZXIpOyRozY9fb25jZS5vYnNlcnZlTm90aWZpZXIob2JzZXJ2ZU5vdGlmaWVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VBc3luY0l0ZXJhYmxlRnJvbU5vdGlmaWVyIjpbIm1ha2VBc3luY0l0ZXJhYmxlRnJvbU5vdGlmaWVyIl0sIm9ic2VydmVJdGVyYXRvciI6WyJvYnNlcnZlSXRlcmF0b3IiXSwib2JzZXJ2ZUl0ZXJhdGlvbiI6WyJvYnNlcnZlSXRlcmF0aW9uIl0sIm9ic2VydmVOb3RpZmllciI6WyJvYnNlcnZlTm90aWZpZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwj7tuOsHAADrBwAAJAAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3B1Ymxpc2gta2l0LmpzIiwiLi9zdWJzY3JpYmUuanMiLCIuL25vdGlmaWVyLmpzIiwiLi9zdWJzY3JpYmVyLmpzIiwiLi90b3BpYy5qcyIsIi4vYXN5bmNJdGVyYWJsZUFkYXB0b3IuanMiLCIuL3N0b3Jlc3ViLmpzIiwiLi9zdG9yZWQtbm90aWZpZXIuanMiLCIuL3R5cGVzLWluZGV4LmpzIl0sImV4cG9ydHMiOlsibWFrZU5vdGlmaWVyS2l0IiwibWFrZU5vdGlmaWVyS2l0IiwibWFrZVN1YnNjcmlwdGlvbktpdCIsIm1ha2VTdWJzY3JpcHRpb25LaXQiLCJvYnNlcnZlSXRlcmF0b3IiLCJvYnNlcnZlSXRlcmF0b3IiLCJwcmVwYXJlRHVyYWJsZVB1Ymxpc2hLaXQiLCJwcmVwYXJlRHVyYWJsZVB1Ymxpc2hLaXQiLCJzdWJzY3JpYmVMYXRlc3QiLCJzdWJzY3JpYmVMYXRlc3QiLG51bGxdLCJyZWV4cG9ydHMiOlsiLi9zdG9yZWQtbm90aWZpZXIuanMiLCIuL3N0b3Jlc3ViLmpzIiwiLi90eXBlcy1pbmRleC5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3B1Ymxpc2gta2l0LmpzXCIsIFtdXSxbXCIuL3N1YnNjcmliZS5qc1wiLCBbXV0sW1wiLi9ub3RpZmllci5qc1wiLCBbXV0sW1wiLi9zdWJzY3JpYmVyLmpzXCIsIFtdXSxbXCIuL3RvcGljLmpzXCIsIFtdXSxbXCIuL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzXCIsIFtdXSxbXCIuL3N0b3Jlc3ViLmpzXCIsIFtdXSxbXCIuL3N0b3JlZC1ub3RpZmllci5qc1wiLCBbXV0sW1wiLi90eXBlcy1pbmRleC5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vcHVibGlzaC1raXQuanMiOltbIm1ha2VQdWJsaXNoS2l0IiwibWFrZVB1Ymxpc2hLaXQiXSxbInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCIsInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCJdLFsiRm9ya2FibGVBc3luY0l0ZXJhYmxlSXRlcmF0b3JTaGFwZSIsIkZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yU2hhcGUiXSxbIkl0ZXJhYmxlRWFjaFRvcGljSSIsIkl0ZXJhYmxlRWFjaFRvcGljSSJdLFsiSXRlcmFibGVMYXRlc3RUb3BpY0kiLCJJdGVyYWJsZUxhdGVzdFRvcGljSSJdLFsiU3Vic2NyaWJlclNoYXBlIiwiU3Vic2NyaWJlclNoYXBlIl1dLCIuL3N1YnNjcmliZS5qcyI6W1sic3Vic2NyaWJlRWFjaCIsInN1YnNjcmliZUVhY2giXSxbInN1YnNjcmliZUxhdGVzdCIsInN1YnNjcmliZUxhdGVzdCJdXSwiLi9ub3RpZmllci5qcyI6W1sibWFrZU5vdGlmaWVyIiwibWFrZU5vdGlmaWVyIl0sWyJtYWtlTm90aWZpZXJLaXQiLCJtYWtlTm90aWZpZXJLaXQiXSxbIm1ha2VOb3RpZmllckZyb21Bc3luY0l0ZXJhYmxlIiwibWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUiXSxbIm1ha2VOb3RpZmllckZyb21TdWJzY3JpYmVyIiwibWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIiXV0sIi4vc3Vic2NyaWJlci5qcyI6W1sibWFrZVN1YnNjcmlwdGlvbiIsIm1ha2VTdWJzY3JpcHRpb24iXSxbIm1ha2VTdWJzY3JpcHRpb25LaXQiLCJtYWtlU3Vic2NyaXB0aW9uS2l0Il1dLCIuL3RvcGljLmpzIjpbWyJtYWtlUGlubmVkSGlzdG9yeVRvcGljIiwibWFrZVBpbm5lZEhpc3RvcnlUb3BpYyJdXSwiLi9hc3luY0l0ZXJhYmxlQWRhcHRvci5qcyI6W1sib2JzZXJ2ZU5vdGlmaWVyIiwib2JzZXJ2ZU5vdGlmaWVyIl0sWyJvYnNlcnZlSXRlcmF0b3IiLCJvYnNlcnZlSXRlcmF0b3IiXSxbIm9ic2VydmVJdGVyYXRpb24iLCJvYnNlcnZlSXRlcmF0aW9uIl0sWyJtYWtlQXN5bmNJdGVyYWJsZUZyb21Ob3RpZmllciIsIm1ha2VBc3luY0l0ZXJhYmxlRnJvbU5vdGlmaWVyIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAhvssEJhMAACYTAAAnAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL25vdGlmaWVyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIi4vcHVibGlzaC1raXQuanMiLCIuL3N1YnNjcmliZS5qcyJdLCJleHBvcnRzIjpbIm1ha2VOb3RpZmllciIsIm1ha2VOb3RpZmllckZyb21Bc3luY0l0ZXJhYmxlIiwibWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIiLCJtYWtlTm90aWZpZXJLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnQsRSxGYXIsbWFrZVB1Ymxpc2hLaXQsc3Vic2NyaWJlTGF0ZXN0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJhc3NlcnRcIixbJGjNj19hID0+IChhc3NlcnQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIi4vcHVibGlzaC1raXQuanNcIiwgW1tcIm1ha2VQdWJsaXNoS2l0XCIsWyRozY9fYSA9PiAobWFrZVB1Ymxpc2hLaXQgPSAkaM2PX2EpXV1dXSxbXCIuL3N1YnNjcmliZS5qc1wiLCBbW1wic3Vic2NyaWJlTGF0ZXN0XCIsWyRozY9fYSA9PiAoc3Vic2NyaWJlTGF0ZXN0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VOb3RpZmllciA9IHNoYXJhYmxlSW50ZXJuYWxzUCA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG5vdGlmaWVyID0gRmFyKCdub3RpZmllcicsIHtcbiAgICAuLi5zdWJzY3JpYmVMYXRlc3Qoc2hhcmFibGVJbnRlcm5hbHNQKSxcbiAgICBnZXRVcGRhdGVTaW5jZTogYXN5bmMgdXBkYXRlQ291bnQgPT5cbiAgICAgIEUoc2hhcmFibGVJbnRlcm5hbHNQKS5nZXRVcGRhdGVTaW5jZSh1cGRhdGVDb3VudCksXG5cbiAgICAvKlxuXG5cblxuXG4gICAgICovXG4gICAgZ2V0U2hhcmFibGVOb3RpZmllckludGVybmFsczogYXN5bmMgKCkgPT4gc2hhcmFibGVJbnRlcm5hbHNQLFxuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgZ2V0U3RvcmVLZXk6ICgpID0+IGhhcmRlbih7IG5vdGlmaWVyIH0pLFxuICB9KTtcbiAgcmV0dXJuIG5vdGlmaWVyO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5tYWtlTm90aWZpZXIobWFrZU5vdGlmaWVyKTtcbiAgICAgICBjb25zdCBtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlciA9IHN1YnNjcmliZXIgPT4ge1xuICAvKlxuXG4gICAqL1xuICBjb25zdCBiYXNlTm90aWZpZXIgPSBoYXJkZW4oe1xuICAgIGdldFVwZGF0ZVNpbmNlOiAodXBkYXRlQ291bnQgPSB1bmRlZmluZWQpID0+XG4gICAgICBFKHN1YnNjcmliZXIpLmdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50KSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgbm90aWZpZXIgPSBGYXIoJ25vdGlmaWVyJywge1xuICAgIC4uLm1ha2VOb3RpZmllcihiYXNlTm90aWZpZXIpLFxuICAgIC4uLmJhc2VOb3RpZmllcixcbiAgfSk7XG4gIHJldHVybiBub3RpZmllcjtcbn07JGjNj19vbmNlLm1ha2VOb3RpZmllckZyb21TdWJzY3JpYmVyKG1ha2VOb3RpZmllckZyb21TdWJzY3JpYmVyKTtcbmhhcmRlbihtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlcik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlTm90aWZpZXJLaXQgPSAoLi4uaW5pdGlhbFN0YXRlQXJyKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgeyBwdWJsaXNoZXIsIHN1YnNjcmliZXIgfSA9IG1ha2VQdWJsaXNoS2l0KCk7XG5cbiAgY29uc3Qgbm90aWZpZXIgPSBtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlcihzdWJzY3JpYmVyKTtcblxuICBjb25zdCB1cGRhdGVyID0gRmFyKCd1cGRhdGVyJywge1xuICAgIHVwZGF0ZVN0YXRlOiBzdGF0ZSA9PiBwdWJsaXNoZXIucHVibGlzaChzdGF0ZSksXG4gICAgZmluaXNoOiBjb21wbGV0aW9uID0+IHB1Ymxpc2hlci5maW5pc2goY29tcGxldGlvbiksXG4gICAgZmFpbDogcmVhc29uID0+IHB1Ymxpc2hlci5mYWlsKHJlYXNvbiksXG4gIH0pO1xuXG4gIGFzc2VydChpbml0aWFsU3RhdGVBcnIubGVuZ3RoIDw9IDEsICd0b28gbWFueSBhcmd1bWVudHMnKTtcbiAgaWYgKGluaXRpYWxTdGF0ZUFyci5sZW5ndGggPT09IDEpIHtcbiAgICB1cGRhdGVyLnVwZGF0ZVN0YXRlKGluaXRpYWxTdGF0ZUFyclswXSk7XG4gIH1cblxuICAvL1xuICAvL1xuICByZXR1cm4gaGFyZGVuKHsgbm90aWZpZXIsIHVwZGF0ZXIgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZU5vdGlmaWVyS2l0KG1ha2VOb3RpZmllcktpdCk7XG4gICAgICAgY29uc3QgbWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUgPSBhc3luY0l0ZXJhYmxlUCA9PiB7XG4gIGNvbnN0IGl0ZXJhdG9yUCA9IEUoYXN5bmNJdGVyYWJsZVApW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IG9wdE5leHRQcm9taXNlO1xuICBsZXQgY3VycmVudFVwZGF0ZUNvdW50ID0gMG47XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IGN1cnJlbnRSZXNwb25zZTtcbiAgbGV0IGZpbmFsID0gZmFsc2U7XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgYmFzZU5vdGlmaWVyID0gRmFyKCdiYXNlTm90aWZpZXInLCB7XG4gICAgZ2V0VXBkYXRlU2luY2UodXBkYXRlQ291bnQgPSAtMW4pIHtcbiAgICAgIGlmICh1cGRhdGVDb3VudCA8IGN1cnJlbnRVcGRhdGVDb3VudCkge1xuICAgICAgICBpZiAoY3VycmVudFJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjdXJyZW50UmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZUNvdW50ICE9PSBjdXJyZW50VXBkYXRlQ291bnQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ2dldFVwZGF0ZVNpbmNlIGFyZ3VtZW50IG11c3QgYmUgYSBwcmV2aW91c2x5LWlzc3VlZCB1cGRhdGVDb3VudC4nLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvL1xuICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgIGFzc2VydChjdXJyZW50UmVzcG9uc2UgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3VycmVudFJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmICghb3B0TmV4dFByb21pc2UpIHtcbiAgICAgICAgY29uc3QgbmV4dEl0ZXJSZXN1bHRQID0gRShpdGVyYXRvclApLm5leHQoKTtcbiAgICAgICAgb3B0TmV4dFByb21pc2UgPSBFLndoZW4oXG4gICAgICAgICAgbmV4dEl0ZXJSZXN1bHRQLFxuICAgICAgICAgICh7IGRvbmUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgIGFzc2VydCghZmluYWwpO1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgZmluYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFVwZGF0ZUNvdW50ICs9IDFuO1xuICAgICAgICAgICAgY3VycmVudFJlc3BvbnNlID0gaGFyZGVuKHtcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIHVwZGF0ZUNvdW50OiBkb25lID8gdW5kZWZpbmVkIDogY3VycmVudFVwZGF0ZUNvdW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvcHROZXh0UHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UmVzcG9uc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhc29uID0+IHtcbiAgICAgICAgICAgIGZpbmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIGN1cnJlbnRSZXNwb25zZSA9XG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAobmV4dEl0ZXJSZXN1bHRQKTtcbiAgICAgICAgICAgIG9wdE5leHRQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRSZXNwb25zZTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdE5leHRQcm9taXNlO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG5vdGlmaWVyID0gRmFyKCdub3RpZmllcicsIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLi4ubWFrZU5vdGlmaWVyKGJhc2VOb3RpZmllciksXG4gICAgLi4uYmFzZU5vdGlmaWVyLFxuICB9KTtcbiAgcmV0dXJuIG5vdGlmaWVyO1xufTskaM2PX29uY2UubWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUobWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUpO1xuaGFyZGVuKG1ha2VOb3RpZmllckZyb21Bc3luY0l0ZXJhYmxlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VOb3RpZmllciI6WyJtYWtlTm90aWZpZXIiXSwibWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIiOlsibWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIiXSwibWFrZU5vdGlmaWVyS2l0IjpbIm1ha2VOb3RpZmllcktpdCJdLCJtYWtlTm90aWZpZXJGcm9tQXN5bmNJdGVyYWJsZSI6WyJtYWtlTm90aWZpZXJGcm9tQXN5bmNJdGVyYWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAHrPJ63jIAAN4yAAAqAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3B1Ymxpc2gta2l0LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vcGF0dGVybnMiLCJAYWdvcmljL3ZhdC1kYXRhIl0sImV4cG9ydHMiOlsiRm9ya2FibGVBc3luY0l0ZXJhYmxlSXRlcmF0b3JTaGFwZSIsIkl0ZXJhYmxlRWFjaFRvcGljSSIsIkl0ZXJhYmxlTGF0ZXN0VG9waWNJIiwiUHVibGlzaGVySSIsIlN1YnNjcmliZXJJIiwiU3Vic2NyaWJlclNoYXBlIiwiVXBkYXRlQ291bnRTaGFwZSIsIm1ha2VQdWJsaXNoS2l0IiwicHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0IiwicHVibGlzaEtpdElLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLHEsRSxGYXIsbWFrZVByb21pc2VLaXQsTSxnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQsY2FuQmVEdXJhYmxlLHByZXBhcmVFeG9DbGFzc0tpdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZUd1YXJkUGF5bG9hZFwiLFskaM2PX2EgPT4gKGdldEludGVyZmFjZUd1YXJkUGF5bG9hZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcImNhbkJlRHVyYWJsZVwiLFskaM2PX2EgPT4gKGNhbkJlRHVyYWJsZSA9ICRozY9fYSldXSxbXCJwcmVwYXJlRXhvQ2xhc3NLaXRcIixbJGjNj19hID0+IChwcmVwYXJlRXhvQ2xhc3NLaXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG5jb25zdCBzaW5rID0gKCkgPT4ge307XG5jb25zdCBtYWtlUXVpZXRSZWplY3Rpb24gPSByZWFzb24gPT4ge1xuICBjb25zdCByZWplY3Rpb24gPSBoYXJkZW4oUHJvbWlzZS5yZWplY3QocmVhc29uKSk7XG4gIHZvaWQgRS53aGVuKHJlamVjdGlvbiwgc2luaywgc2luayk7XG4gIHJldHVybiByZWplY3Rpb247XG59O1xuY29uc3QgdG9vRmFyUmVqZWN0aW9uID0gbWFrZVF1aWV0UmVqZWN0aW9uKFxuICBoYXJkZW4oRXJyb3IoJ0Nhbm5vdCByZWFkIHBhc3QgZW5kIG9mIGl0ZXJhdGlvbi4nKSksXG4pO1xuXG4gICAgICAgY29uc3QgUHVibGlzaGVySSA9IE0uaW50ZXJmYWNlKCdQdWJsaXNoZXInLCB7XG4gIHB1Ymxpc2g6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKCksXG4gIGZpbmlzaDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoKSxcbiAgZmFpbDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoKSxcbn0pO1xuXG4vL1xuJGjNj19vbmNlLlB1Ymxpc2hlckkoUHVibGlzaGVySSk7Y29uc3QgVXBkYXRlQ291bnRTaGFwZT1NLm9yKE0uYmlnaW50KCksTS5udW1iZXIoKSk7JGjNj19vbmNlLlVwZGF0ZUNvdW50U2hhcGUoVXBkYXRlQ291bnRTaGFwZSk7XG4gICAgICAgY29uc3QgU3Vic2NyaWJlckkgPSBNLmludGVyZmFjZSgnU3Vic2NyaWJlcicsIHtcbiAgc3Vic2NyaWJlQWZ0ZXI6IE0uY2FsbCgpLm9wdGlvbmFsKE0uYmlnaW50KCkpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBnZXRVcGRhdGVTaW5jZTogTS5jYWxsKCkub3B0aW9uYWwoVXBkYXRlQ291bnRTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG59KTskaM2PX29uY2UuU3Vic2NyaWJlckkoU3Vic2NyaWJlckkpO1xuICAgICAgIGNvbnN0IHB1Ymxpc2hLaXRJS2l0ID0gaGFyZGVuKHtcbiAgcHVibGlzaGVyOiBQdWJsaXNoZXJJLFxuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVySSxcbn0pOyRozY9fb25jZS5wdWJsaXNoS2l0SUtpdChwdWJsaXNoS2l0SUtpdCk7XG5cbiAgICAgICBjb25zdCBGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvclNoYXBlID0gTS5pbnRlcmZhY2UoXG4gICdGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvcicsXG4gIHtcbiAgICBmb3JrOiBNLmNhbGwoKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06IE0uY2FsbCgpLnJldHVybnMoTS5hbnkoKSksIC8vXG4gICAgbmV4dDogTS5jYWxsV2hlbigpLnJldHVybnMoTS5hbnkoKSksXG4gIH0sXG4pOyRozY9fb25jZS5Gb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvclNoYXBlKEZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yU2hhcGUpO1xuXG4gICAgICAgY29uc3QgSXRlcmFibGVFYWNoVG9waWNJID0gTS5pbnRlcmZhY2UoJ0l0ZXJhYmxlRWFjaFRvcGljJywge1xuICBzdWJzY3JpYmVBZnRlcjpcbiAgICBnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoU3Vic2NyaWJlckkpLm1ldGhvZEd1YXJkcy5zdWJzY3JpYmVBZnRlcixcbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogTS5jYWxsKCkucmV0dXJucyhcbiAgICBNLnJlbW90YWJsZSgnRm9ya2FibGVBc3luY0l0ZXJhYmxlSXRlcmF0b3InKSxcbiAgKSxcbn0pOyRozY9fb25jZS5JdGVyYWJsZUVhY2hUb3BpY0koSXRlcmFibGVFYWNoVG9waWNJKTtcblxuICAgICAgIGNvbnN0IEl0ZXJhYmxlTGF0ZXN0VG9waWNJID0gTS5pbnRlcmZhY2UoJ0l0ZXJhYmxlTGF0ZXN0VG9waWMnLCB7XG4gIGdldFVwZGF0ZVNpbmNlOlxuICAgIGdldEludGVyZmFjZUd1YXJkUGF5bG9hZChTdWJzY3JpYmVySSkubWV0aG9kR3VhcmRzLmdldFVwZGF0ZVNpbmNlLFxuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiBNLmNhbGwoKS5yZXR1cm5zKFxuICAgIE0ucmVtb3RhYmxlKCdGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvcicpLFxuICApLFxufSk7XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5JdGVyYWJsZUxhdGVzdFRvcGljSShJdGVyYWJsZUxhdGVzdFRvcGljSSk7XG5jb25zdCB3ZWFrTWVtb2l6ZVVuYXJ5ID0gZm4gPT4ge1xuICBjb25zdCBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4gIHJldHVybiBhcmcgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IG9hcmcgPSBhcmc7XG4gICAgaWYgKGNhY2hlLmhhcyhvYXJnKSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChvYXJnKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZm4oYXJnKTtcbiAgICBjYWNoZS5zZXQob2FyZywgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgbWFrZVVwZGF0ZVJlY29yZEZyb21QdWJsaWNhdGlvblJlY29yZCA9IHJlY29yZCA9PiB7XG4gIGNvbnN0IHtcbiAgICBoZWFkOiB7IHZhbHVlLCBkb25lIH0sXG4gICAgcHVibGlzaENvdW50LFxuICB9ID0gcmVjb3JkO1xuICBpZiAoZG9uZSkge1xuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih7IHZhbHVlLCB1cGRhdGVDb3VudDogdW5kZWZpbmVkIH0pO1xuICB9XG4gIHJldHVybiBoYXJkZW4oeyB2YWx1ZSwgdXBkYXRlQ291bnQ6IHB1Ymxpc2hDb3VudCB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlUHVibGlzaEtpdCA9ICgpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IHRhaWxQO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IHRhaWxSO1xuICAoeyBwcm9taXNlOiB0YWlsUCwgcmVzb2x2ZTogdGFpbFIgfSA9IG1ha2VQcm9taXNlS2l0KCkpO1xuXG4gIGxldCBjdXJyZW50UHVibGlzaENvdW50ID0gMG47XG4gIGxldCBjdXJyZW50UCA9IHRhaWxQO1xuICBjb25zdCBhZHZhbmNlQ3VycmVudCA9IChkb25lLCB2YWx1ZSwgcmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHRhaWxSID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgdXBkYXRlIHN0YXRlIGFmdGVyIHRlcm1pbmF0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRQdWJsaXNoQ291bnQgKz0gMW47XG4gICAgY3VycmVudFAgPSB0YWlsUDtcbiAgICBjb25zdCByZXNvbHZlQ3VycmVudCA9IHRhaWxSO1xuXG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIHRhaWxQID0gdG9vRmFyUmVqZWN0aW9uO1xuICAgICAgdGFpbFIgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICh7IHByb21pc2U6IHRhaWxQLCByZXNvbHZlOiB0YWlsUiB9ID0gbWFrZVByb21pc2VLaXQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHJlamVjdGlvbikge1xuICAgICAgcmVzb2x2ZUN1cnJlbnQocmVqZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZUN1cnJlbnQoXG4gICAgICAgIGhhcmRlbih7XG4gICAgICAgICAgaGVhZDogeyB2YWx1ZSwgZG9uZSB9LFxuICAgICAgICAgIHB1Ymxpc2hDb3VudDogY3VycmVudFB1Ymxpc2hDb3VudCxcbiAgICAgICAgICB0YWlsOiB0YWlsUCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBtYWtlTWVtb2l6ZWRVcGRhdGVSZWNvcmQgPSB3ZWFrTWVtb2l6ZVVuYXJ5KFxuICAgIG1ha2VVcGRhdGVSZWNvcmRGcm9tUHVibGljYXRpb25SZWNvcmQsXG4gICk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBzdWJzY3JpYmVyID0gRmFyKCdTdWJzY3JpYmVyJywge1xuICAgIHN1YnNjcmliZUFmdGVyOiAocHVibGlzaENvdW50ID0gLTFuKSA9PiB7XG4gICAgICBhc3NlcnQudHlwZW9mKHB1Ymxpc2hDb3VudCwgJ2JpZ2ludCcpO1xuICAgICAgaWYgKHB1Ymxpc2hDb3VudCA9PT0gY3VycmVudFB1Ymxpc2hDb3VudCkge1xuICAgICAgICByZXR1cm4gdGFpbFA7XG4gICAgICB9IGVsc2UgaWYgKHB1Ymxpc2hDb3VudCA8IGN1cnJlbnRQdWJsaXNoQ291bnQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ3N1YnNjcmliZUFmdGVyIGFyZ3VtZW50IG11c3QgYmUgYSBwcmV2aW91c2x5LWlzc3VlZCBwdWJsaXNoQ291bnQuJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFVwZGF0ZVNpbmNlOiB1cGRhdGVDb3VudCA9PiB7XG4gICAgICBpZiAodXBkYXRlQ291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5zdWJzY3JpYmVBZnRlcigpLnRoZW4obWFrZU1lbW9pemVkVXBkYXRlUmVjb3JkKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50ID0gQmlnSW50KHVwZGF0ZUNvdW50KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHN1YnNjcmliZXJcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAuc3Vic2NyaWJlQWZ0ZXIodXBkYXRlQ291bnQpXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC50aGVuKCgpID0+IHN1YnNjcmliZXIuZ2V0VXBkYXRlU2luY2UoKSlcbiAgICAgICk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHB1Ymxpc2hlciA9IEZhcignUHVibGlzaGVyJywge1xuICAgIHB1Ymxpc2g6IHZhbHVlID0+IHtcbiAgICAgIGFkdmFuY2VDdXJyZW50KGZhbHNlLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBmaW5pc2g6IGZpbmFsVmFsdWUgPT4ge1xuICAgICAgYWR2YW5jZUN1cnJlbnQodHJ1ZSwgZmluYWxWYWx1ZSk7XG4gICAgfSxcbiAgICBmYWlsOiByZWFzb24gPT4ge1xuICAgICAgYWR2YW5jZUN1cnJlbnQodHJ1ZSwgdW5kZWZpbmVkLCBtYWtlUXVpZXRSZWplY3Rpb24ocmVhc29uKSk7XG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBoYXJkZW4oeyBwdWJsaXNoZXIsIHN1YnNjcmliZXIgfSk7XG59OyRozY9fb25jZS5tYWtlUHVibGlzaEtpdChtYWtlUHVibGlzaEtpdCk7XG5oYXJkZW4obWFrZVB1Ymxpc2hLaXQpO1xuXG5jb25zdCBEdXJhYmxlUHVibGlzaEtpdFN0YXRlU2hhcGUgPSBoYXJkZW4oe1xuICB2YWx1ZUR1cmFiaWxpdHk6IE0uYW55KCksXG4gIHB1Ymxpc2hDb3VudDogTS5hbnkoKSxcbiAgc3RhdHVzOiBNLmFueSgpLFxuICBoYXNWYWx1ZTogTS5hbnkoKSxcbiAgdmFsdWU6IE0uYW55KCksXG59KTtcblxuLy9cblxuLypcblxuXG5cbiAqL1xuY29uc3QgaW5pdER1cmFibGVQdWJsaXNoS2l0U3RhdGUgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgdmFsdWVEdXJhYmlsaXR5ID0gJ21hbmRhdG9yeScgfSA9IG9wdGlvbnM7XG4gIGFzc2VydC5lcXVhbCh2YWx1ZUR1cmFiaWxpdHksICdtYW5kYXRvcnknKTtcbiAgcmV0dXJuIHtcbiAgICAvL1xuICAgIHZhbHVlRHVyYWJpbGl0eSxcblxuICAgIC8vXG4gICAgcHVibGlzaENvdW50OiAwbixcbiAgICBzdGF0dXM6ICdsaXZlJywgLy9cblxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGhhc1ZhbHVlOiBmYWxzZSxcbiAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICB9O1xufTtcblxuLy9cbi8vXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qXG5cblxuICovXG5jb25zdCBnZXRFcGhlbWVyYWxLZXkgPSBmYWNldHMgPT4gZmFjZXRzLnB1Ymxpc2hlcjtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBkdXJhYmxlUHVibGlzaEtpdEVwaGVtZXJhbERhdGEgPSBuZXcgV2Vha01hcCgpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgcHJvdmlkZUN1cnJlbnRQID0gKHN0YXRlLCBmYWNldHMsIHRhaWwpID0+IHtcbiAgY29uc3QgZXBoZW1lcmFsS2V5ID0gZ2V0RXBoZW1lcmFsS2V5KGZhY2V0cyk7XG4gIGNvbnN0IGZvdW5kRGF0YSA9IGR1cmFibGVQdWJsaXNoS2l0RXBoZW1lcmFsRGF0YS5nZXQoZXBoZW1lcmFsS2V5KTtcbiAgY29uc3QgY3VycmVudFAgPSBmb3VuZERhdGEgJiYgZm91bmREYXRhLmN1cnJlbnRQO1xuICBpZiAoY3VycmVudFApIHtcbiAgICByZXR1cm4gY3VycmVudFA7XG4gIH1cblxuICBjb25zdCB7IHB1Ymxpc2hDb3VudCwgc3RhdHVzLCBoYXNWYWx1ZSwgdmFsdWUgfSA9IHN0YXRlO1xuICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgYXNzZXJ0KHN0YXR1cyA9PT0gJ2xpdmUnKTtcbiAgICByZXR1cm4gdGFpbDtcbiAgfVxuICBpZiAoc3RhdHVzID09PSAnbGl2ZScgfHwgc3RhdHVzID09PSAnZmluaXNoZWQnKSB7XG4gICAgY29uc3QgY2VsbCA9IGhhcmRlbih7XG4gICAgICBoZWFkOiB7IHZhbHVlLCBkb25lOiBzdGF0dXMgIT09ICdsaXZlJyB9LFxuICAgICAgcHVibGlzaENvdW50LFxuICAgICAgdGFpbCxcbiAgICB9KTtcbiAgICByZXR1cm4gRS5yZXNvbHZlKGNlbGwpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICByZXR1cm4gbWFrZVF1aWV0UmVqZWN0aW9uKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBGYWlsYEludmFsaWQgZHVyYWJsZSBwcm9taXNlIGtpdCBzdGF0dXM6ICR7cShzdGF0dXMpfWA7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBwcm92aWRlRHVyYWJsZVB1Ymxpc2hLaXRFcGhlbWVyYWxEYXRhID0gKHN0YXRlLCBmYWNldHMpID0+IHtcbiAgY29uc3QgZXBoZW1lcmFsS2V5ID0gZ2V0RXBoZW1lcmFsS2V5KGZhY2V0cyk7XG4gIGNvbnN0IGZvdW5kRGF0YSA9IGR1cmFibGVQdWJsaXNoS2l0RXBoZW1lcmFsRGF0YS5nZXQoZXBoZW1lcmFsS2V5KTtcbiAgaWYgKGZvdW5kRGF0YSkge1xuICAgIHJldHVybiBmb3VuZERhdGE7XG4gIH1cblxuICBjb25zdCB7IHN0YXR1cyB9ID0gc3RhdGU7XG4gIGxldCB0YWlsUDtcbiAgbGV0IHRhaWxSO1xuICBpZiAoc3RhdHVzID09PSAnbGl2ZScpIHtcbiAgICAoeyBwcm9taXNlOiB0YWlsUCwgcmVzb2x2ZTogdGFpbFIgfSA9IG1ha2VQcm9taXNlS2l0KCkpO1xuICAgIHZvaWQgRS53aGVuKHRhaWxQLCBzaW5rLCBzaW5rKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdmaW5pc2hlZCcgfHwgc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgIHRhaWxQID0gdG9vRmFyUmVqZWN0aW9uO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEZhaWxgSW52YWxpZCBkdXJhYmxlIHByb21pc2Uga2l0IHN0YXR1czogJHtxKHN0YXR1cyl9YDtcbiAgfVxuICAvL1xuICBjb25zdCBvYmogPSBoYXJkZW4oeyBjdXJyZW50UDogdW5kZWZpbmVkLCB0YWlsUCwgdGFpbFIgfSk7XG4gIGR1cmFibGVQdWJsaXNoS2l0RXBoZW1lcmFsRGF0YS5zZXQoZXBoZW1lcmFsS2V5LCBvYmopO1xuICByZXR1cm4gb2JqO1xufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGFkdmFuY2VEdXJhYmxlUHVibGlzaEtpdCA9IChjb250ZXh0LCB2YWx1ZSwgdGFyZ2V0U3RhdHVzID0gJ2xpdmUnKSA9PiB7XG4gIGNvbnN0IHsgc3RhdGUsIGZhY2V0cyB9ID0gY29udGV4dDtcbiAgY29uc3QgeyB2YWx1ZUR1cmFiaWxpdHksIHN0YXR1cyB9ID0gc3RhdGU7XG4gIGlmIChzdGF0dXMgIT09ICdsaXZlJykge1xuICAgIHRocm93IEVycm9yKCdDYW5ub3QgdXBkYXRlIHN0YXRlIGFmdGVyIHRlcm1pbmF0aW9uLicpO1xuICB9XG4gIGNvbnN0IGRvbmUgPSB0YXJnZXRTdGF0dXMgIT09ICdsaXZlJztcbiAgaWYgKGRvbmUgfHwgdmFsdWVEdXJhYmlsaXR5ID09PSAnbWFuZGF0b3J5Jykge1xuICAgIGNhbkJlRHVyYWJsZSh2YWx1ZSkgfHwgRmFpbGBDYW5ub3QgYWNjZXB0IG5vbi1kdXJhYmxlIHZhbHVlOiAke3ZhbHVlfWA7XG4gIH1cbiAgY29uc3QgeyB0YWlsUDogb2xkVGFpbFAsIHRhaWxSOiByZXNvbHZlT2xkVGFpbCB9ID1cbiAgICBwcm92aWRlRHVyYWJsZVB1Ymxpc2hLaXRFcGhlbWVyYWxEYXRhKHN0YXRlLCBmYWNldHMpO1xuICBhc3NlcnQudHlwZW9mKHJlc29sdmVPbGRUYWlsLCAnZnVuY3Rpb24nKTtcblxuICBjb25zdCBwdWJsaXNoQ291bnQgPSBzdGF0ZS5wdWJsaXNoQ291bnQgKyAxbjtcbiAgc3RhdGUucHVibGlzaENvdW50ID0gcHVibGlzaENvdW50O1xuXG4gIGxldCB0YWlsUDtcbiAgbGV0IHRhaWxSO1xuICBpZiAoZG9uZSkge1xuICAgIHN0YXRlLnN0YXR1cyA9IHRhcmdldFN0YXR1cztcbiAgICB0YWlsUCA9IHRvb0ZhclJlamVjdGlvbjtcbiAgICB0YWlsUiA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICAoeyBwcm9taXNlOiB0YWlsUCwgcmVzb2x2ZTogdGFpbFIgfSA9IG1ha2VQcm9taXNlS2l0KCkpO1xuICAgIHZvaWQgRS53aGVuKHRhaWxQLCBzaW5rLCBzaW5rKTtcbiAgfVxuXG4gIGxldCBjdXJyZW50UDtcbiAgaWYgKHRhcmdldFN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICBzdGF0ZS5oYXNWYWx1ZSA9IHRydWU7XG4gICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICBjb25zdCByZWplY3Rpb24gPSBtYWtlUXVpZXRSZWplY3Rpb24odmFsdWUpO1xuICAgIHJlc29sdmVPbGRUYWlsKHJlamVjdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy9cbiAgICAvL1xuICAgIGlmIChkb25lIHx8ICh2YWx1ZUR1cmFiaWxpdHkgIT09ICdpZ25vcmVkJyAmJiBjYW5CZUR1cmFibGUodmFsdWUpKSkge1xuICAgICAgc3RhdGUuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgLy9cbiAgICAgIGN1cnJlbnRQID0gb2xkVGFpbFA7XG4gICAgfVxuXG4gICAgcmVzb2x2ZU9sZFRhaWwoXG4gICAgICBoYXJkZW4oe1xuICAgICAgICBoZWFkOiB7IHZhbHVlLCBkb25lIH0sXG4gICAgICAgIHB1Ymxpc2hDb3VudCxcbiAgICAgICAgdGFpbDogdGFpbFAsXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgZHVyYWJsZVB1Ymxpc2hLaXRFcGhlbWVyYWxEYXRhLnNldChcbiAgICBnZXRFcGhlbWVyYWxLZXkoZmFjZXRzKSxcbiAgICBoYXJkZW4oeyBjdXJyZW50UCwgdGFpbFAsIHRhaWxSIH0pLFxuICApO1xufTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCA9IChiYWdnYWdlLCBraW5kTmFtZSkgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBtYWtlTWVtb2l6ZWRVcGRhdGVSZWNvcmQgPSBtYWtlVXBkYXRlUmVjb3JkRnJvbVB1YmxpY2F0aW9uUmVjb3JkO1xuXG4gIHJldHVybiBwcmVwYXJlRXhvQ2xhc3NLaXQoXG4gICAgYmFnZ2FnZSxcbiAgICBraW5kTmFtZSxcbiAgICBwdWJsaXNoS2l0SUtpdCxcbiAgICBpbml0RHVyYWJsZVB1Ymxpc2hLaXRTdGF0ZSxcbiAgICB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHB1Ymxpc2hlcjoge1xuICAgICAgICBwdWJsaXNoKHZhbHVlKSB7XG4gICAgICAgICAgYWR2YW5jZUR1cmFibGVQdWJsaXNoS2l0KHRoaXMsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmluaXNoKGZpbmFsVmFsdWUpIHtcbiAgICAgICAgICBhZHZhbmNlRHVyYWJsZVB1Ymxpc2hLaXQodGhpcywgZmluYWxWYWx1ZSwgJ2ZpbmlzaGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhaWwocmVhc29uKSB7XG4gICAgICAgICAgYWR2YW5jZUR1cmFibGVQdWJsaXNoS2l0KHRoaXMsIHJlYXNvbiwgJ2ZhaWxlZCcpO1xuICAgICAgICB9LFxuICAgICAgfSxcblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBzdWJzY3JpYmVyOiB7XG4gICAgICAgIHN1YnNjcmliZUFmdGVyKHB1Ymxpc2hDb3VudCA9IC0xbikge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICBjb25zdCB7IHB1Ymxpc2hDb3VudDogY3VycmVudFB1Ymxpc2hDb3VudCB9ID0gc3RhdGU7XG4gICAgICAgICAgY29uc3QgeyBjdXJyZW50UCwgdGFpbFAgfSA9IHByb3ZpZGVEdXJhYmxlUHVibGlzaEtpdEVwaGVtZXJhbERhdGEoXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIGZhY2V0cyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChwdWJsaXNoQ291bnQgPT09IGN1cnJlbnRQdWJsaXNoQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0YWlsUDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHB1Ymxpc2hDb3VudCA8IGN1cnJlbnRQdWJsaXNoQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UCB8fCBwcm92aWRlQ3VycmVudFAoc3RhdGUsIGZhY2V0cywgdGFpbFApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgJ3N1YnNjcmliZUFmdGVyIGFyZ3VtZW50IG11c3QgYmUgYSBwcmV2aW91c2x5LWlzc3VlZCBwdWJsaXNoQ291bnQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRVcGRhdGVTaW5jZSh1cGRhdGVDb3VudCkge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGZhY2V0czogeyBzdWJzY3JpYmVyIH0sXG4gICAgICAgICAgfSA9IHRoaXM7XG4gICAgICAgICAgaWYgKHVwZGF0ZUNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLnN1YnNjcmliZUFmdGVyKCkudGhlbihtYWtlTWVtb2l6ZWRVcGRhdGVSZWNvcmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVDb3VudCA9IEJpZ0ludCh1cGRhdGVDb3VudCk7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN1YnNjcmliZXJcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLnN1YnNjcmliZUFmdGVyKHVwZGF0ZUNvdW50KVxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAudGhlbigoKSA9PiBzdWJzY3JpYmVyLmdldFVwZGF0ZVNpbmNlKCkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzdGF0ZVNoYXBlOiBEdXJhYmxlUHVibGlzaEtpdFN0YXRlU2hhcGUsXG4gICAgfSxcbiAgKTtcbn07JGjNj19vbmNlLnByZXBhcmVEdXJhYmxlUHVibGlzaEtpdChwcmVwYXJlRHVyYWJsZVB1Ymxpc2hLaXQpO1xuaGFyZGVuKHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCk7XG5cbiAgICAgICBjb25zdCBTdWJzY3JpYmVyU2hhcGUgPSBNLnJlbW90YWJsZSgnU3Vic2NyaWJlcicpOyRozY9fb25jZS5TdWJzY3JpYmVyU2hhcGUoU3Vic2NyaWJlclNoYXBlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlB1Ymxpc2hlckkiOlsiUHVibGlzaGVySSJdLCJVcGRhdGVDb3VudFNoYXBlIjpbIlVwZGF0ZUNvdW50U2hhcGUiXSwiU3Vic2NyaWJlckkiOlsiU3Vic2NyaWJlckkiXSwicHVibGlzaEtpdElLaXQiOlsicHVibGlzaEtpdElLaXQiXSwiRm9ya2FibGVBc3luY0l0ZXJhYmxlSXRlcmF0b3JTaGFwZSI6WyJGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvclNoYXBlIl0sIkl0ZXJhYmxlRWFjaFRvcGljSSI6WyJJdGVyYWJsZUVhY2hUb3BpY0kiXSwiSXRlcmFibGVMYXRlc3RUb3BpY0kiOlsiSXRlcmFibGVMYXRlc3RUb3BpY0kiXSwibWFrZVB1Ymxpc2hLaXQiOlsibWFrZVB1Ymxpc2hLaXQiXSwicHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0IjpbInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCJdLCJTdWJzY3JpYmVyU2hhcGUiOlsiU3Vic2NyaWJlclNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANYcJe+VCAAAlQgAAC4AAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvc3RvcmVkLW5vdGlmaWVyLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL2ludGVybmFsL3NyYy9saWItY2hhaW5TdG9yYWdlLmpzIiwiQGVuZG8vZmFyIiwiLi9hc3luY0l0ZXJhYmxlQWRhcHRvci5qcyJdLCJleHBvcnRzIjpbIm1ha2VTdG9yZWROb3RpZmllciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFzc2VydEFsbERlZmluZWQsbWFrZVNlcmlhbGl6ZVRvU3RvcmFnZSxFLEZhcixvYnNlcnZlTm90aWZpZXI7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJhc3NlcnRBbGxEZWZpbmVkXCIsWyRozY9fYSA9PiAoYXNzZXJ0QWxsRGVmaW5lZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2xpYi1jaGFpblN0b3JhZ2UuanNcIiwgW1tcIm1ha2VTZXJpYWxpemVUb1N0b3JhZ2VcIixbJGjNj19hID0+IChtYWtlU2VyaWFsaXplVG9TdG9yYWdlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXSxbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCIuL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzXCIsIFtbXCJvYnNlcnZlTm90aWZpZXJcIixbJGjNj19hID0+IChvYnNlcnZlTm90aWZpZXIgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VTdG9yZWROb3RpZmllciA9IChub3RpZmllciwgc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIpID0+IHtcbiAgYXNzZXJ0QWxsRGVmaW5lZCh7IG5vdGlmaWVyLCBzdG9yYWdlTm9kZSwgbWFyc2hhbGxlciB9KTtcblxuICBjb25zdCBtYXJzaGFsbFRvU3RvcmFnZSA9IG1ha2VTZXJpYWxpemVUb1N0b3JhZ2Uoc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIpO1xuXG4gIG9ic2VydmVOb3RpZmllcihub3RpZmllciwge1xuICAgIHVwZGF0ZVN0YXRlKHZhbHVlKSB7XG4gICAgICBtYXJzaGFsbFRvU3RvcmFnZSh2YWx1ZSkuY2F0Y2gocmVhc29uID0+XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0b3JlZE5vdGlmaWVyIGZhaWxlZCB0byB1cGRhdGVTdGF0ZScsIHJlYXNvbiksXG4gICAgICApO1xuICAgIH0sXG4gICAgZmFpbChyZWFzb24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0b3JlZE5vdGlmaWVyIGZhaWxlZCB0byBpdGVyYXRlJywgcmVhc29uKTtcbiAgICB9LFxuICB9KS5jYXRjaChyZWFzb24gPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N0b3JlZE5vdGlmaWVyIGhhbHRlZCBpdGVyYXRpb24nLCByZWFzb24pO1xuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgdW5zZXJpYWxpemVyID0gRmFyKCd1bnNlcmlhbGl6ZXInLCB7XG4gICAgZnJvbUNhcERhdGE6IGRhdGEgPT4gRShtYXJzaGFsbGVyKS5mcm9tQ2FwRGF0YShkYXRhKSxcbiAgICB1bnNlcmlhbGl6ZTogZGF0YSA9PiBFKG1hcnNoYWxsZXIpLmZyb21DYXBEYXRhKGRhdGEpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBzdG9yZWROb3RpZmllciA9IEZhcignU3RvcmVkTm90aWZpZXInLCB7XG4gICAgZ2V0VXBkYXRlU2luY2U6IHVwZGF0ZUNvdW50ID0+IEUobm90aWZpZXIpLmdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50KSxcbiAgICBnZXRQYXRoOiAoKSA9PiBFKHN0b3JhZ2VOb2RlKS5nZXRQYXRoKCksXG4gICAgZ2V0VW5zZXJpYWxpemVyOiAoKSA9PiB1bnNlcmlhbGl6ZXIsXG4gIH0pO1xuICByZXR1cm4gc3RvcmVkTm90aWZpZXI7XG59OyRozY9fb25jZS5tYWtlU3RvcmVkTm90aWZpZXIobWFrZVN0b3JlZE5vdGlmaWVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VTdG9yZWROb3RpZmllciI6WyJtYWtlU3RvcmVkTm90aWZpZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASJWAwv4XAAD+FwAAJwAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdG9yZXN1Yi5qc3siaW1wb3J0cyI6WyJAZW5kby9mYXIiLCJAZW5kby9tYXJzaGFsIiwiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2xpYi1jaGFpblN0b3JhZ2UuanMiLCIuL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzIiwiLi9wdWJsaXNoLWtpdC5qcyIsIi4vc3Vic2NyaWJlci5qcyIsIi4vc3Vic2NyaWJlLmpzIl0sImV4cG9ydHMiOlsiZm9yRWFjaFB1YmxpY2F0aW9uUmVjb3JkIiwibWFrZVN0b3JlZFB1Ymxpc2hLaXQiLCJtYWtlU3RvcmVkUHVibGlzaGVyS2l0IiwibWFrZVN0b3JlZFN1YnNjcmliZXIiLCJtYWtlU3RvcmVkU3Vic2NyaXB0aW9uIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRSxGYXIsbWFrZU1hcnNoYWwsYXNzZXJ0QWxsRGVmaW5lZCxtYWtlU2VyaWFsaXplVG9TdG9yYWdlLG9ic2VydmVJdGVyYXRpb24sbWFrZVB1Ymxpc2hLaXQsbWFrZVN1YnNjcmlwdGlvbktpdCxzdWJzY3JpYmVFYWNoOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXSxbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJtYWtlTWFyc2hhbFwiLFskaM2PX2EgPT4gKG1ha2VNYXJzaGFsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wiYXNzZXJ0QWxsRGVmaW5lZFwiLFskaM2PX2EgPT4gKGFzc2VydEFsbERlZmluZWQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsL3NyYy9saWItY2hhaW5TdG9yYWdlLmpzXCIsIFtbXCJtYWtlU2VyaWFsaXplVG9TdG9yYWdlXCIsWyRozY9fYSA9PiAobWFrZVNlcmlhbGl6ZVRvU3RvcmFnZSA9ICRozY9fYSldXV1dLFtcIi4vYXN5bmNJdGVyYWJsZUFkYXB0b3IuanNcIiwgW1tcIm9ic2VydmVJdGVyYXRpb25cIixbJGjNj19hID0+IChvYnNlcnZlSXRlcmF0aW9uID0gJGjNj19hKV1dXV0sW1wiLi9wdWJsaXNoLWtpdC5qc1wiLCBbW1wibWFrZVB1Ymxpc2hLaXRcIixbJGjNj19hID0+IChtYWtlUHVibGlzaEtpdCA9ICRozY9fYSldXV1dLFtcIi4vc3Vic2NyaWJlci5qc1wiLCBbW1wibWFrZVN1YnNjcmlwdGlvbktpdFwiLFskaM2PX2EgPT4gKG1ha2VTdWJzY3JpcHRpb25LaXQgPSAkaM2PX2EpXV1dXSxbXCIuL3N1YnNjcmliZS5qc1wiLCBbW1wic3Vic2NyaWJlRWFjaFwiLFskaM2PX2EgPT4gKHN1YnNjcmliZUVhY2ggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGZvckVhY2hQdWJsaWNhdGlvblJlY29yZCA9IGFzeW5jIChzdWJzY3JpYmVyLCBjb25zdW1lVmFsdWUpID0+IHtcbiAgLy9cbiAgLy9cbiAgY29uc3QgaXRlcmF0b3IgPSBzdWJzY3JpYmVFYWNoKHN1YnNjcmliZXIpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuXG4gIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuICBhd2FpdCBudWxsO1xuICB3aGlsZSAoIWZpbmlzaGVkKSB7XG4gICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgIGF3YWl0IGNvbnN1bWVWYWx1ZSh2YWx1ZSk7XG4gICAgZmluaXNoZWQgPSAhIWRvbmU7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5mb3JFYWNoUHVibGljYXRpb25SZWNvcmQoZm9yRWFjaFB1YmxpY2F0aW9uUmVjb3JkKTtcbiAgICAgICBjb25zdCBtYWtlU3RvcmVkU3Vic2NyaWJlciA9IChzdWJzY3JpYmVyLCBzdG9yYWdlTm9kZSwgbWFyc2hhbGxlcikgPT4ge1xuICBhc3NlcnRBbGxEZWZpbmVkKHsgc3Vic2NyaWJlciwgc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIgfSk7XG5cbiAgY29uc3QgbWFyc2hhbGxUb1N0b3JhZ2UgPSBtYWtlU2VyaWFsaXplVG9TdG9yYWdlKHN0b3JhZ2VOb2RlLCBtYXJzaGFsbGVyKTtcblxuICAvL1xuICBmb3JFYWNoUHVibGljYXRpb25SZWNvcmQoc3Vic2NyaWJlciwgbWFyc2hhbGxUb1N0b3JhZ2UpLmNhdGNoKGVyciA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N0b3JlZFN1YnNjcmliZXIgZmFpbGVkIHRvIGl0ZXJhdGUnLCBlcnIpO1xuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgdW5zZXJpYWxpemVyID0gRmFyKCd1bnNlcmlhbGl6ZXInLCB7XG4gICAgZnJvbUNhcERhdGE6IGRhdGEgPT4gRShtYXJzaGFsbGVyKS5mcm9tQ2FwRGF0YShkYXRhKSxcbiAgICB1bnNlcmlhbGl6ZTogZGF0YSA9PiBFKG1hcnNoYWxsZXIpLmZyb21DYXBEYXRhKGRhdGEpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHN0b3Jlc3ViID0gRmFyKCdTdG9yZWRTdWJzY3JpYmVyJywge1xuICAgIHN1YnNjcmliZUFmdGVyOiBwdWJsaXNoQ291bnQgPT4gc3Vic2NyaWJlci5zdWJzY3JpYmVBZnRlcihwdWJsaXNoQ291bnQpLFxuICAgIGdldFVwZGF0ZVNpbmNlOiB1cGRhdGVDb3VudCA9PiBzdWJzY3JpYmVyLmdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50KSxcbiAgICBnZXRQYXRoOiAoKSA9PiBFKHN0b3JhZ2VOb2RlKS5nZXRQYXRoKCksXG4gICAgZ2V0U3RvcmVLZXk6ICgpID0+IEUoc3RvcmFnZU5vZGUpLmdldFN0b3JlS2V5KCksXG4gICAgZ2V0VW5zZXJpYWxpemVyOiAoKSA9PiB1bnNlcmlhbGl6ZXIsXG4gIH0pO1xuICByZXR1cm4gc3RvcmVzdWI7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlU3RvcmVkU3Vic2NyaWJlcihtYWtlU3RvcmVkU3Vic2NyaWJlcik7XG4gICAgICAgY29uc3QgbWFrZVN0b3JlZFN1YnNjcmlwdGlvbiA9IChcbiAgc3Vic2NyaXB0aW9uLFxuICBzdG9yYWdlTm9kZSxcbiAgbWFyc2hhbGxlciA9IG1ha2VNYXJzaGFsKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgbWFyc2hhbFNhdmVFcnJvcjogKCkgPT4ge30sXG4gICAgc2VyaWFsaXplQm9keUZvcm1hdDogJ3NtYWxsY2FwcycsXG4gIH0pLFxuKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB1bnNlcmlhbGl6ZXIgPSBGYXIoJ3Vuc2VyaWFsaXplcicsIHtcbiAgICBmcm9tQ2FwRGF0YTogZGF0YSA9PiBFKG1hcnNoYWxsZXIpLmZyb21DYXBEYXRhKGRhdGEpLFxuICAgIHVuc2VyaWFsaXplOiBkYXRhID0+IEUobWFyc2hhbGxlcikuZnJvbUNhcERhdGEoZGF0YSksXG4gIH0pO1xuXG4gIC8vXG4gIGxldCBwdWJsaXNoRmFpbGVkID0gZmFsc2U7XG4gIGxldCBwdWJsaXNoRXhjZXB0aW9uO1xuXG4gIGNvbnN0IGZhaWwgPSBlcnIgPT4ge1xuICAgIHB1Ymxpc2hGYWlsZWQgPSB0cnVlO1xuICAgIHB1Ymxpc2hFeGNlcHRpb24gPSBlcnI7XG4gIH07XG5cbiAgLy9cbiAgLy9cbiAgY29uc3QgcHVibGlzaFZhbHVlID0gb2JqID0+IHtcbiAgICBhc3NlcnQoc3RvcmFnZU5vZGUpO1xuICAgIGlmIChwdWJsaXNoRmFpbGVkKSB7XG4gICAgICAvL1xuICAgICAgdGhyb3cgcHVibGlzaEV4Y2VwdGlvbjtcbiAgICB9XG5cbiAgICAvL1xuICAgIEUobWFyc2hhbGxlcilcbiAgICAgIC50b0NhcERhdGEob2JqKVxuICAgICAgLnRoZW4oc2VyaWFsaXplZCA9PiB7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBKU09OLnN0cmluZ2lmeShzZXJpYWxpemVkKTtcbiAgICAgICAgcmV0dXJuIEUoc3RvcmFnZU5vZGUpLnNldFZhbHVlKGVuY29kZWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmYWlsKTtcbiAgfTtcblxuICBpZiAoc3RvcmFnZU5vZGUpIHtcbiAgICAvL1xuICAgIG9ic2VydmVJdGVyYXRpb24oc3Vic2NyaXB0aW9uLCB7XG4gICAgICB1cGRhdGVTdGF0ZTogcHVibGlzaFZhbHVlLFxuICAgICAgZmluaXNoOiBwdWJsaXNoVmFsdWUsXG4gICAgfSkuY2F0Y2goZmFpbCk7XG4gIH1cblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3RvcmVzdWIgPSBGYXIoJ1N0b3JlZFN1YnNjcmlwdGlvbicsIHtcbiAgICAvL1xuICAgIGdldFN0b3JlS2V5OiBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXN0b3JhZ2VOb2RlKSB7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBzdWJzY3JpcHRpb24gfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBzdG9yZUtleSA9IGF3YWl0IEUoc3RvcmFnZU5vZGUpLmdldFN0b3JlS2V5KCk7XG4gICAgICByZXR1cm4gaGFyZGVuKHsgLi4uc3RvcmVLZXksIHN1YnNjcmlwdGlvbiB9KTtcbiAgICB9LFxuICAgIGdldFVuc2VyaWFsaXplcjogKCkgPT4gdW5zZXJpYWxpemVyLFxuICAgIGdldFNoYXJhYmxlU3Vic2NyaXB0aW9uSW50ZXJuYWxzOiAoKSA9PlxuICAgICAgc3Vic2NyaXB0aW9uLmdldFNoYXJhYmxlU3Vic2NyaXB0aW9uSW50ZXJuYWxzKCksXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4gc3Vic2NyaXB0aW9uW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpLFxuICAgIHN1YnNjcmliZUFmdGVyOiBwdWJsaXNoQ291bnQgPT4gc3Vic2NyaXB0aW9uLnN1YnNjcmliZUFmdGVyKHB1Ymxpc2hDb3VudCksXG4gIH0pO1xuICByZXR1cm4gc3RvcmVzdWI7XG59OyRozY9fb25jZS5tYWtlU3RvcmVkU3Vic2NyaXB0aW9uKG1ha2VTdG9yZWRTdWJzY3JpcHRpb24pO1xuaGFyZGVuKG1ha2VTdG9yZWRTdWJzY3JpcHRpb24pO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlU3RvcmVkUHVibGlzaGVyS2l0ID0gKHN0b3JhZ2VOb2RlLCBtYXJzaGFsbGVyLCBjaGlsZFBhdGgpID0+IHtcbiAgY29uc3QgeyBwdWJsaWNhdGlvbiwgc3Vic2NyaXB0aW9uIH0gPSBtYWtlU3Vic2NyaXB0aW9uS2l0KCk7XG5cbiAgaWYgKHN0b3JhZ2VOb2RlICYmIGNoaWxkUGF0aCkge1xuICAgIHN0b3JhZ2VOb2RlID0gRShzdG9yYWdlTm9kZSkubWFrZUNoaWxkTm9kZShjaGlsZFBhdGgpO1xuICB9XG5cbiAgLy9cbiAgY29uc3Qgc3Vic2NyaWJlciA9IG1ha2VTdG9yZWRTdWJzY3JpcHRpb24oXG4gICAgc3Vic2NyaXB0aW9uLFxuICAgIHN0b3JhZ2VOb2RlLFxuICAgIG1hcnNoYWxsZXIsXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBwdWJsaXNoZXI6IHB1YmxpY2F0aW9uLFxuICAgIHN1YnNjcmliZXIsXG4gIH07XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VTdG9yZWRQdWJsaXNoZXJLaXQobWFrZVN0b3JlZFB1Ymxpc2hlcktpdCk7XG4gICAgICAgY29uc3QgbWFrZVN0b3JlZFB1Ymxpc2hLaXQgPSAoc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIpID0+IHtcbiAgY29uc3QgeyBwdWJsaXNoZXIsIHN1YnNjcmliZXIgfSA9IG1ha2VQdWJsaXNoS2l0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBwdWJsaXNoZXIsXG4gICAgLy9cbiAgICBzdWJzY3JpYmVyOiBtYWtlU3RvcmVkU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBzdG9yYWdlTm9kZSwgbWFyc2hhbGxlciksXG4gIH07XG59OyRozY9fb25jZS5tYWtlU3RvcmVkUHVibGlzaEtpdChtYWtlU3RvcmVkUHVibGlzaEtpdCk7XG5oYXJkZW4obWFrZVN0b3JlZFB1Ymxpc2hLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZm9yRWFjaFB1YmxpY2F0aW9uUmVjb3JkIjpbImZvckVhY2hQdWJsaWNhdGlvblJlY29yZCJdLCJtYWtlU3RvcmVkU3Vic2NyaWJlciI6WyJtYWtlU3RvcmVkU3Vic2NyaWJlciJdLCJtYWtlU3RvcmVkU3Vic2NyaXB0aW9uIjpbIm1ha2VTdG9yZWRTdWJzY3JpcHRpb24iXSwibWFrZVN0b3JlZFB1Ymxpc2hlcktpdCI6WyJtYWtlU3RvcmVkUHVibGlzaGVyS2l0Il0sIm1ha2VTdG9yZWRQdWJsaXNoS2l0IjpbIm1ha2VTdG9yZWRQdWJsaXNoS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFobZ3JFFgAARRYAACgAAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvc3Vic2NyaWJlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL2ludGVybmFsL3NyYy91cGdyYWRlLWFwaS5qcyJdLCJleHBvcnRzIjpbInN1YnNjcmliZSIsInN1YnNjcmliZUVhY2giLCJzdWJzY3JpYmVMYXRlc3QiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBYLEZhaWwsYW5ub3RhdGVFcnJvcixFLEZhcixpc09iamVjdCxpc1VwZ3JhZGVEaXNjb25uZWN0aW9uOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJhbm5vdGF0ZUVycm9yXCIsWyRozY9fYSA9PiAoYW5ub3RhdGVFcnJvciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzXCIsIFtbXCJpc1VwZ3JhZGVEaXNjb25uZWN0aW9uXCIsWyRozY9fYSA9PiAoaXNVcGdyYWRlRGlzY29ubmVjdGlvbiA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qXG5cblxuICovXG5cbmNvbnN0IHNpbmsgPSAoKSA9PiB7fTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG5jb25zdCByZWNvbm5lY3RBc05lZWRlZCA9IGFzeW5jIChnZXR0ZXIsIHNlZWQgPSBbXSkgPT4ge1xuICBsZXQgZGlzY29ubmVjdGlvbjtcbiAgbGV0IGxhc3RWZXJzaW9uID0gLUluZmluaXR5O1xuICAvL1xuICBhd2FpdCBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgOyBpICs9IDEpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0UCA9IGkgPCBzZWVkLmxlbmd0aCA/IHNlZWRbaV0gOiBnZXR0ZXIoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3VsdFA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGlzVXBncmFkZURpc2Nvbm5lY3Rpb24oZXJyKSkge1xuICAgICAgICBpZiAoIWRpc2Nvbm5lY3Rpb24pIHtcbiAgICAgICAgICBkaXNjb25uZWN0aW9uID0gZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaW5jYXJuYXRpb25OdW1iZXI6IHZlcnNpb24gfSA9IGVycjtcbiAgICAgICAgaWYgKHZlcnNpb24gPiBsYXN0VmVyc2lvbikge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGxhc3RWZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKGlzT2JqZWN0KGVycikgJiYgZGlzY29ubmVjdGlvbiAmJiBkaXNjb25uZWN0aW9uICE9PSBlcnIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhbm5vdGF0ZUVycm9yKFxuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgWGBBdHRlbXB0aW5nIHRvIHJlY292ZXIgZnJvbSBkaXNjb25uZWN0aW9uOiAke2Rpc2Nvbm5lY3Rpb259YCxcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxufTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3Qgc3Vic2NyaWJlID0gaXRQID0+XG4gIEZhcignQXN5bmNJdGVyYWJsZScsIHtcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiB7XG4gICAgICBjb25zdCBpdCA9IEUoaXRQKVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgIGNvbnN0IHNlbGYgPSBGYXIoJ0FzeW5jSXRlcmFibGVJdGVyYXRvcicsIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4gc2VsZixcbiAgICAgICAgbmV4dDogYXN5bmMgKCkgPT4gRShpdCkubmV4dCgpLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICB9KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5zdWJzY3JpYmUoc3Vic2NyaWJlKTtcbmNvbnN0IG1ha2VFYWNoSXRlcmF0b3IgPSAodG9waWMsIG5leHRDZWxsUCkgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBzZWxmID0gRmFyKCdFYWNoSXRlcmF0b3InLCB7XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4gc2VsZixcbiAgICBuZXh0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGhlYWQ6IHJlc3VsdFAsXG4gICAgICAgIHB1Ymxpc2hDb3VudDogcHVibGlzaENvdW50UCxcbiAgICAgICAgdGFpbDogdGFpbFAsXG4gICAgICB9ID0gRS5nZXQobmV4dENlbGxQKTtcblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBnZXRTdWNjZXNzb3IgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHB1Ymxpc2hDb3VudCA9IGF3YWl0IHB1Ymxpc2hDb3VudFA7XG4gICAgICAgIGFzc2VydC50eXBlb2YocHVibGlzaENvdW50LCAnYmlnaW50Jyk7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NvciA9IGF3YWl0IEUodG9waWMpLnN1YnNjcmliZUFmdGVyKHB1Ymxpc2hDb3VudCk7XG4gICAgICAgIGNvbnN0IG5ld1B1Ymxpc2hDb3VudCA9IHN1Y2Nlc3Nvci5wdWJsaXNoQ291bnQ7XG4gICAgICAgIGlmIChuZXdQdWJsaXNoQ291bnQgIT09IHB1Ymxpc2hDb3VudCArIDFuKSB7XG4gICAgICAgICAgRmFpbGBlYWNoSXRlcmF0b3IgYnJva2VuIGJ5IGdhcCBmcm9tIHB1Ymxpc2hDb3VudCAke3B1Ymxpc2hDb3VudH0gdG8gJHtuZXdQdWJsaXNoQ291bnR9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VjY2Vzc29yO1xuICAgICAgfTtcblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBuZXh0Q2VsbFAgPSByZWNvbm5lY3RBc05lZWRlZChnZXRTdWNjZXNzb3IsIFt0YWlsUF0pO1xuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgdm9pZCBFLndoZW4ocHVibGlzaENvdW50UCwgc2luaywgc2luayk7XG4gICAgICB2b2lkIEUud2hlbihuZXh0Q2VsbFAsIHNpbmssIHNpbmspO1xuICAgICAgcmV0dXJuIHJlc3VsdFA7XG4gICAgfSxcbiAgICBmb3JrOiAoKSA9PiBtYWtlRWFjaEl0ZXJhdG9yKHRvcGljLCBuZXh0Q2VsbFApLFxuICB9KTtcbiAgcmV0dXJuIHNlbGY7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHN1YnNjcmliZUVhY2ggPSB0b3BpYyA9PiB7XG4gIGNvbnN0IGl0ZXJhYmxlID0gRmFyKCdFYWNoSXRlcmFibGUnLCB7XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgY29uc3QgZmlyc3RDZWxsUCA9IHJlY29ubmVjdEFzTmVlZGVkKCgpID0+IEUodG9waWMpLnN1YnNjcmliZUFmdGVyKCkpO1xuICAgICAgcmV0dXJuIG1ha2VFYWNoSXRlcmF0b3IodG9waWMsIGZpcnN0Q2VsbFApO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gaXRlcmFibGU7XG59OyRozY9fb25jZS5zdWJzY3JpYmVFYWNoKHN1YnNjcmliZUVhY2gpO1xuaGFyZGVuKHN1YnNjcmliZUVhY2gpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgY2xvbmVMYXRlc3RJdGVyYXRvciA9ICh0b3BpYywgbG9jYWxVcGRhdGVDb3VudCwgdGVybWluYWxSZXN1bHQpID0+IHtcbiAgbGV0IG11dGV4ID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWF5YmVSZXF1ZXN0TmV4dFJlc3VsdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAodGVybWluYWxSZXN1bHQpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIHRlcm1pbmFsUmVzdWx0O1xuICAgIH1cblxuICAgIC8vXG4gICAgLy9cbiAgICBjb25zdCB7IHZhbHVlLCB1cGRhdGVDb3VudCB9ID0gYXdhaXQgcmVjb25uZWN0QXNOZWVkZWQoKCkgPT5cbiAgICAgIEUodG9waWMpLmdldFVwZGF0ZVNpbmNlKGxvY2FsVXBkYXRlQ291bnQpLFxuICAgICk7XG4gICAgLy9cbiAgICBsb2NhbFVwZGF0ZUNvdW50ID0gdXBkYXRlQ291bnQ7XG5cbiAgICAvL1xuICAgIGlmICh1cGRhdGVDb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZXJtaW5hbFJlc3VsdCA9IGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlIH0pO1xuICAgICAgcmV0dXJuIHRlcm1pbmFsUmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlIH0pO1xuICB9O1xuXG4gIGNvbnN0IHNlbGYgPSBGYXIoJ0xhdGVzdEl0ZXJhdG9yJywge1xuICAgIGZvcms6ICgpID0+IGNsb25lTGF0ZXN0SXRlcmF0b3IodG9waWMsIGxvY2FsVXBkYXRlQ291bnQsIHRlcm1pbmFsUmVzdWx0KSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiBzZWxmLFxuICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cblxuICAgICAgaWYgKHRlcm1pbmFsUmVzdWx0KSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiB0ZXJtaW5hbFJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBtdXRleC50aGVuKG1heWJlUmVxdWVzdE5leHRSZXN1bHQpO1xuICAgICAgbXV0ZXggPSBuZXh0UmVzdWx0LnRoZW4oc2luaywgc2luayk7XG4gICAgICAvL1xuXG4gICAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIHNlbGY7XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBtYWtlTGF0ZXN0SXRlcmF0b3IgPSB0b3BpYyA9PiBjbG9uZUxhdGVzdEl0ZXJhdG9yKHRvcGljKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBzdWJzY3JpYmVMYXRlc3QgPSB0b3BpYyA9PiB7XG4gIGNvbnN0IGl0ZXJhYmxlID0gRmFyKCdMYXRlc3RJdGVyYWJsZScsIHtcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiBtYWtlTGF0ZXN0SXRlcmF0b3IodG9waWMpLFxuICB9KTtcbiAgcmV0dXJuIGl0ZXJhYmxlO1xufTskaM2PX29uY2Uuc3Vic2NyaWJlTGF0ZXN0KHN1YnNjcmliZUxhdGVzdCk7XG5oYXJkZW4oc3Vic2NyaWJlTGF0ZXN0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InN1YnNjcmliZSI6WyJzdWJzY3JpYmUiXSwic3Vic2NyaWJlRWFjaCI6WyJzdWJzY3JpYmVFYWNoIl0sInN1YnNjcmliZUxhdGVzdCI6WyJzdWJzY3JpYmVMYXRlc3QiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAI5l+uDkIAAA5CAAAKQAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdWJzY3JpYmVyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2ZhciIsIi4vc3Vic2NyaWJlLmpzIiwiLi9wdWJsaXNoLWtpdC5qcyIsIi4vdG9waWMuanMiXSwiZXhwb3J0cyI6WyJtYWtlU3Vic2NyaXB0aW9uIiwibWFrZVN1YnNjcmlwdGlvbktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEUsRmFyLHN1YnNjcmliZUVhY2gsbWFrZVB1Ymxpc2hLaXQsbWFrZVBpbm5lZEhpc3RvcnlUb3BpYzskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiLi9zdWJzY3JpYmUuanNcIiwgW1tcInN1YnNjcmliZUVhY2hcIixbJGjNj19hID0+IChzdWJzY3JpYmVFYWNoID0gJGjNj19hKV1dXV0sW1wiLi9wdWJsaXNoLWtpdC5qc1wiLCBbW1wibWFrZVB1Ymxpc2hLaXRcIixbJGjNj19hID0+IChtYWtlUHVibGlzaEtpdCA9ICRozY9fYSldXV1dLFtcIi4vdG9waWMuanNcIiwgW1tcIm1ha2VQaW5uZWRIaXN0b3J5VG9waWNcIixbJGjNj19hID0+IChtYWtlUGlubmVkSGlzdG9yeVRvcGljID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBtYWtlU3Vic2NyaXB0aW9uID0gdG9waWMgPT4ge1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSBGYXIoJ1N1YnNjcmlwdGlvbicsIHtcbiAgICAuLi5zdWJzY3JpYmVFYWNoKHRvcGljKSxcbiAgICBzdWJzY3JpYmVBZnRlcjogYXN5bmMgcHVibGlzaENvdW50ID0+IEUodG9waWMpLnN1YnNjcmliZUFmdGVyKHB1Ymxpc2hDb3VudCksXG5cbiAgICAvKlxuXG5cblxuXG4gICAgICovXG4gICAgZ2V0U2hhcmFibGVTdWJzY3JpcHRpb25JbnRlcm5hbHM6IGFzeW5jICgpID0+IHRvcGljLFxuXG4gICAgZ2V0U3RvcmVLZXk6ICgpID0+IGhhcmRlbih7IHN1YnNjcmlwdGlvbiB9KSxcbiAgfSk7XG4gIHJldHVybiBzdWJzY3JpcHRpb247XG59OyRozY9fb25jZS5tYWtlU3Vic2NyaXB0aW9uKG1ha2VTdWJzY3JpcHRpb24pO1xuaGFyZGVuKG1ha2VTdWJzY3JpcHRpb24pO1xuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZVN1YnNjcmlwdGlvbktpdCA9ICgpID0+IHtcbiAgY29uc3QgeyBwdWJsaXNoZXIsIHN1YnNjcmliZXIgfSA9IG1ha2VQdWJsaXNoS2l0KCk7XG5cbiAgLy9cbiAgLy9cblxuICBjb25zdCBwaW5uZWRIaXN0b3J5VG9waWMgPSBtYWtlUGlubmVkSGlzdG9yeVRvcGljKHN1YnNjcmliZXIpO1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSBtYWtlU3Vic2NyaXB0aW9uKHBpbm5lZEhpc3RvcnlUb3BpYyk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcHVibGljYXRpb24gPSBGYXIoJ3B1YmxpY2F0aW9uJywge1xuICAgIHVwZGF0ZVN0YXRlOiBub25GaW5hbFZhbHVlID0+IHB1Ymxpc2hlci5wdWJsaXNoKG5vbkZpbmFsVmFsdWUpLFxuICAgIGZpbmlzaDogY29tcGxldGlvbiA9PiBwdWJsaXNoZXIuZmluaXNoKGNvbXBsZXRpb24pLFxuICAgIGZhaWw6IHJlYXNvbiA9PiBwdWJsaXNoZXIuZmFpbChyZWFzb24pLFxuICB9KTtcblxuICByZXR1cm4gaGFyZGVuKHsgcHVibGljYXRpb24sIHN1YnNjcmlwdGlvbiB9KTtcbn07JGjNj19vbmNlLm1ha2VTdWJzY3JpcHRpb25LaXQobWFrZVN1YnNjcmlwdGlvbktpdCk7XG5oYXJkZW4obWFrZVN1YnNjcmlwdGlvbktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlU3Vic2NyaXB0aW9uIjpbIm1ha2VTdWJzY3JpcHRpb24iXSwibWFrZVN1YnNjcmlwdGlvbktpdCI6WyJtYWtlU3Vic2NyaXB0aW9uS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFs7BeJMBAAATAQAACQAAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvdG9waWMuanN7ImltcG9ydHMiOlsiQGVuZG8vZmFyIl0sImV4cG9ydHMiOlsibWFrZVBpbm5lZEhpc3RvcnlUb3BpYyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2ZhclwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlUGlubmVkSGlzdG9yeVRvcGljID0gdG9waWMgPT4ge1xuICAvL1xuXG4gIC8vXG4gIGNvbnN0IHBpbm5lZFB1Ykxpc3QgPSB0b3BpYy5zdWJzY3JpYmVBZnRlcigpO1xuXG4gIHJldHVybiBGYXIoJ1Bpbm5lZEhpc3RvcnlUb3BpYycsIHtcbiAgICBzdWJzY3JpYmVBZnRlcjogYXN5bmMgKHB1Ymxpc2hDb3VudCA9IC0xbikgPT4ge1xuICAgICAgaWYgKHB1Ymxpc2hDb3VudCA9PT0gLTFuKSB7XG4gICAgICAgIHJldHVybiBwaW5uZWRQdWJMaXN0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvcGljLnN1YnNjcmliZUFmdGVyKHB1Ymxpc2hDb3VudCk7XG4gICAgfSxcbiAgICBnZXRVcGRhdGVTaW5jZTogYXN5bmMgKHVwZGF0ZUNvdW50ID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHRvcGljLmdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50KTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VQaW5uZWRIaXN0b3J5VG9waWMobWFrZVBpbm5lZEhpc3RvcnlUb3BpYyk7XG5oYXJkZW4obWFrZVBpbm5lZEhpc3RvcnlUb3BpYyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlUGlubmVkSGlzdG9yeVRvcGljIjpbIm1ha2VQaW5uZWRIaXN0b3J5VG9waWMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAKgAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy90eXBlcy1pbmRleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACjkiYNFAcAABQHAAAtAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvdG9vbHMvdGVzdFN1cHBvcnRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL2ludGVybmFsL3NyYy90ZXN0aW5nLXV0aWxzLmpzIl0sImV4cG9ydHMiOlsibWFrZUZha2VNYXJzaGFsbGVyIiwibWFrZUZha2VTdG9yYWdlIixudWxsXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYXIsbWFrZU1hcnNoYWw7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wibWFrZU1hcnNoYWxcIixbJGjNj19hID0+IChtYWtlTWFyc2hhbCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3Rlc3RpbmctdXRpbHMuanNcIiwgW11dXSk7XG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRmFrZVN0b3JhZ2UgPSAocGF0aCwgcHVibGljYXRpb24pID0+IHtcbiAgbGV0IHNldFZhbHVlQ2FsbHMgPSAwO1xuICBjb25zdCBmdWxsUGF0aCA9IGBwdWJsaXNoLiR7cGF0aH1gO1xuICBjb25zdCBzdG9yZUtleSA9IGhhcmRlbih7XG4gICAgc3RvcmVOYW1lOiAnc3dpbmdzZXQnLFxuICAgIHN0b3JlU3Via2V5OiBgc3dpbmdzZXQvZGF0YToke2Z1bGxQYXRofWAsXG4gICAgZGF0YVByZWZpeEJ5dGVzOiAnJyxcbiAgfSk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3RvcmFnZSA9IEZhcignU3RvcmFnZU5vZGUnLCB7XG4gICAgZ2V0UGF0aDogKCkgPT4gcGF0aCxcbiAgICBnZXRTdG9yZUtleTogYXN5bmMgKCkgPT4gc3RvcmVLZXksXG4gICAgc2V0VmFsdWU6IGFzeW5jIHZhbHVlID0+IHtcbiAgICAgIHNldFZhbHVlQ2FsbHMgKz0gMTtcbiAgICAgIGFzc2VydC50eXBlb2YodmFsdWUsICdzdHJpbmcnKTtcbiAgICAgIGlmIChwdWJsaWNhdGlvbikge1xuICAgICAgICBwdWJsaWNhdGlvbi51cGRhdGVTdGF0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtYWtlQ2hpbGROb2RlOiAoKSA9PiBzdG9yYWdlLFxuICAgIGNvdW50U2V0VmFsdWVDYWxsczogKCkgPT4gc2V0VmFsdWVDYWxscyxcbiAgfSk7XG4gIHJldHVybiBzdG9yYWdlO1xufTskaM2PX29uY2UubWFrZUZha2VTdG9yYWdlKG1ha2VGYWtlU3RvcmFnZSk7XG5oYXJkZW4obWFrZUZha2VTdG9yYWdlKTtcblxuICAgICAgIGNvbnN0IG1ha2VGYWtlTWFyc2hhbGxlciA9ICgpID0+XG4gIG1ha2VNYXJzaGFsKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgbWFyc2hhbFNhdmVFcnJvcjogKCkgPT4ge30sXG4gIH0pOyRozY9fb25jZS5tYWtlRmFrZU1hcnNoYWxsZXIobWFrZUZha2VNYXJzaGFsbGVyKTtcbmhhcmRlbihtYWtlRmFrZU1hcnNoYWxsZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdGVzdGluZy11dGlscy5qcyI6W1siZXZlbnRMb29wSXRlcmF0aW9uIiwiZXZlbnRMb29wSXRlcmF0aW9uIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VGYWtlU3RvcmFnZSI6WyJtYWtlRmFrZVN0b3JhZ2UiXSwibWFrZUZha2VNYXJzaGFsbGVyIjpbIm1ha2VGYWtlTWFyc2hhbGxlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABdGwJNCgUAAAoFAAAlAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy90eXBlcy1pbmRleC5qcyIsIi4vc3JjL2V4b3MvY29zbW9zLWludGVyY2hhaW4tc2VydmljZS5qcyIsIi4vc3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzIiwiLi9zcmMvdHlwZUd1YXJkcy5qcyIsIi4vc3JjL3V0aWxzL2Rlbm9tSGFzaC5qcyIsIi4vc3JjL3V0aWxzL3N0YXJ0LWhlbHBlci5qcyIsIi4vc3JjL2NoYWluLWNhcGFiaWxpdGllcy5qcyIsIi4vc3JjL3V0aWxzL2NoYWluLWh1Yi1oZWxwZXIuanMiXSwiZXhwb3J0cyI6W251bGwsbnVsbCxudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzIiwiLi9zcmMvZXhvcy9jb3Ntb3MtaW50ZXJjaGFpbi1zZXJ2aWNlLmpzIiwiLi9zcmMvdHlwZUd1YXJkcy5qcyIsIi4vc3JjL3R5cGVzLWluZGV4LmpzIiwiLi9zcmMvdXRpbHMvZGVub21IYXNoLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL3R5cGVzLWluZGV4LmpzXCIsIFtdXSxbXCIuL3NyYy9leG9zL2Nvc21vcy1pbnRlcmNoYWluLXNlcnZpY2UuanNcIiwgW11dLFtcIi4vc3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzXCIsIFtdXSxbXCIuL3NyYy90eXBlR3VhcmRzLmpzXCIsIFtdXSxbXCIuL3NyYy91dGlscy9kZW5vbUhhc2guanNcIiwgW11dLFtcIi4vc3JjL3V0aWxzL3N0YXJ0LWhlbHBlci5qc1wiLCBbXV0sW1wiLi9zcmMvY2hhaW4tY2FwYWJpbGl0aWVzLmpzXCIsIFtdXSxbXCIuL3NyYy91dGlscy9jaGFpbi1odWItaGVscGVyLmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9zcmMvdXRpbHMvc3RhcnQtaGVscGVyLmpzIjpbWyJ3aXRoT3JjaGVzdHJhdGlvbiIsIndpdGhPcmNoZXN0cmF0aW9uIl1dLCIuL3NyYy9jaGFpbi1jYXBhYmlsaXRpZXMuanMiOltbIndpdGhDaGFpbkNhcGFiaWxpdGllcyIsIndpdGhDaGFpbkNhcGFiaWxpdGllcyJdXSwiLi9zcmMvdXRpbHMvY2hhaW4taHViLWhlbHBlci5qcyI6W1sicmVnaXN0ZXJDaGFpbnNBbmRBc3NldHMiLCJyZWdpc3RlckNoYWluc0FuZEFzc2V0cyJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAgkcWY0QFAABEBQAAMwAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2NjdHAtY2hhaW4taW5mby5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG5cblxuXG4gKi9cbmNvbnN0e2RlZmF1bHQ6JGPNj19kZWZhdWx0fT17ZGVmYXVsdDovKiAgICAgICAgICAgICAgICAgICovKHtcbiAgZXRoZXJldW06IHtcbiAgICBuYW1lc3BhY2U6ICdlaXAxNTUnLFxuICAgIHJlZmVyZW5jZTogJzEnLFxuICAgIGNjdHBEZXN0aW5hdGlvbkRvbWFpbjogMCxcbiAgfSxcbiAgLy9cbiAgYXZhbGFuY2hlOiB7XG4gICAgbmFtZXNwYWNlOiAnZWlwMTU1JyxcbiAgICByZWZlcmVuY2U6ICc0MzExNCcsXG4gICAgY2N0cERlc3RpbmF0aW9uRG9tYWluOiAxLFxuICB9LFxuICAvL1xuICBvcHRpbWlzbToge1xuICAgIG5hbWVzcGFjZTogJ2VpcDE1NScsXG4gICAgcmVmZXJlbmNlOiAnMTAnLFxuICAgIGNjdHBEZXN0aW5hdGlvbkRvbWFpbjogMixcbiAgfSxcbiAgLy9cbiAgYXJiaXRydW06IHtcbiAgICBuYW1lc3BhY2U6ICdlaXAxNTUnLFxuICAgIHJlZmVyZW5jZTogJzQyMTYxJyxcbiAgICBjY3RwRGVzdGluYXRpb25Eb21haW46IDMsXG4gIH0sXG4gIG5vYmxlOiB7XG4gICAgbmFtZXNwYWNlOiAnY29zbW9zJyxcbiAgICByZWZlcmVuY2U6ICdub2JsZS0xJyxcbiAgICBjY3RwRGVzdGluYXRpb25Eb21haW46IDQsXG4gIH0sXG4gIHNvbGFuYToge1xuICAgIG5hbWVzcGFjZTogJ3NvbGFuYScsXG4gICAgcmVmZXJlbmNlOiAnNWV5a3Q0VXNGdjhQOE5KZFRSRXBZMXZ6cUtxWkt2ZHAnLFxuICAgIGNjdHBEZXN0aW5hdGlvbkRvbWFpbjogNSxcbiAgfSxcbiAgYmFzZToge1xuICAgIG5hbWVzcGFjZTogJ2VpcDE1NScsXG4gICAgcmVmZXJlbmNlOiAnODQ1MycsXG4gICAgY2N0cERlc3RpbmF0aW9uRG9tYWluOiA2LFxuICB9LFxuICAvL1xuICBwb2x5Z29uOiB7XG4gICAgbmFtZXNwYWNlOiAnZWlwMTU1JyxcbiAgICByZWZlcmVuY2U6ICcxMzcnLFxuICAgIGNjdHBEZXN0aW5hdGlvbkRvbWFpbjogNyxcbiAgfSxcbn0pfTskaM2PX29uY2UuZGVmYXVsdCgkY82PX2RlZmF1bHQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmYXVsdCI6WyJkZWZhdWx0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEOdeihHCAAARwgAADYAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9jaGFpbi1jYXBhYmlsaXRpZXMuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiLCIuL2NjdHAtY2hhaW4taW5mby5qcyJdLCJleHBvcnRzIjpbIndpdGhDaGFpbkNhcGFiaWxpdGllcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG9iamVjdE1hcCxjY3RwQ2hhaW5JbmZvOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIi4vY2N0cC1jaGFpbi1pbmZvLmpzXCIsIFtbXCJkZWZhdWx0XCIsWyRozY9fYSA9PiAoY2N0cENoYWluSW5mbyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IEljcUVuYWJsZWQgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBvbW5pZmxpeGh1YjogdHJ1ZSxcbiAgb3Ntb3NpczogdHJ1ZSxcbn0pO1xuaGFyZGVuKEljcUVuYWJsZWQpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBQZm1FbmFibGVkID0gLyogICAgICAgICAgICAgICAgKi8gKHtcbiAgYWdvcmljOiB0cnVlLFxuICBjZWxlc3RpYTogdHJ1ZSxcbiAgY29zbW9zaHViOiB0cnVlLFxuICBqdW5vOiB0cnVlLFxuICBuZXV0cm9uOiB0cnVlLFxuICBub2JsZTogdHJ1ZSxcbiAgb21uaWZsaXhodWI6IHRydWUsXG4gIG9zbW9zaXM6IHRydWUsXG4gIHNlY3JldG5ldHdvcms6IHRydWUsXG4gIHN0YXJnYXplOiB0cnVlLFxuICBzdHJpZGU6IHRydWUsXG4gIHVtZWU6IHRydWUsXG59KTtcbmhhcmRlbihQZm1FbmFibGVkKTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgSWNhRW5hYmxlZCA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIGNlbGVzdGlhOiB0cnVlLFxuICBjb3Ntb3NodWI6IHRydWUsXG4gIGR5ZHg6IHRydWUsXG4gIGp1bm86IHRydWUsXG4gIG5ldXRyb246IHRydWUsXG4gIG5vYmxlOiB0cnVlLFxuICBvbW5pZmxpeGh1YjogdHJ1ZSxcbiAgb3Ntb3NpczogdHJ1ZSxcbiAgc2VjcmV0bmV0d29yazogdHJ1ZSxcbiAgc3RhcmdhemU6IHRydWUsXG4gIHN0cmlkZTogdHJ1ZSxcbiAgdW1lZTogdHJ1ZSxcbn0pO1xuaGFyZGVuKEljYUVuYWJsZWQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3Qgd2l0aENoYWluQ2FwYWJpbGl0aWVzID0gKFxuICBjaGFpbkluZm8sXG4gIHtcbiAgICBQZm1FbmFibGVkOiBwZm1PcHRzID0gUGZtRW5hYmxlZCxcbiAgICBJY3FFbmFibGVkOiBpY3FPcHRzID0gSWNxRW5hYmxlZCxcbiAgICBJY2FFbmFibGVkOiBpY2FPcHRzID0gSWNhRW5hYmxlZCxcbiAgfSA9IHt9LFxuKSA9PlxuICBvYmplY3RNYXAoY2hhaW5JbmZvLCAoaW5mbywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IGNoYWluTmFtZSA9IC8qICAgICAgICAgICAgICAgICAqLyAobmFtZSk7XG4gICAgY29uc3QgY2N0cERlc3RpbmF0aW9uRG9tYWluID1cbiAgICAgIGNjdHBDaGFpbkluZm8/LltjaGFpbk5hbWVdPy5jY3RwRGVzdGluYXRpb25Eb21haW47XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uaW5mbyxcbiAgICAgIHBmbUVuYWJsZWQ6ICEhcGZtT3B0c1tjaGFpbk5hbWVdLFxuICAgICAgaWNxRW5hYmxlZDogISFpY3FPcHRzW2NoYWluTmFtZV0sXG4gICAgICBpY2FFbmFibGVkOiAhIWljYU9wdHNbY2hhaW5OYW1lXSxcbiAgICAgIC4uLihjY3RwRGVzdGluYXRpb25Eb21haW4gJiYgeyBjY3RwRGVzdGluYXRpb25Eb21haW4gfSksXG4gICAgfTtcbiAgfSk7JGjNj19vbmNlLndpdGhDaGFpbkNhcGFiaWxpdGllcyh3aXRoQ2hhaW5DYXBhYmlsaXRpZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsid2l0aENoYWluQ2FwYWJpbGl0aWVzIjpbIndpdGhDaGFpbkNhcGFiaWxpdGllcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABQiPZ9owgAAKMIAAA4AAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9jaGFpbi1odWItYWRtaW4uanN7ImltcG9ydHMiOlsiQGFnb3JpYy92b3cvdmF0LmpzIiwiQGVuZG8vcGF0dGVybnMiLCIuLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZUNoYWluSHViQWRtaW4iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBoZWFwVm93RSxNLENoYWluSW5mb1NoYXBlLERlbm9tRGV0YWlsU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3Zvdy92YXQuanNcIiwgW1tcImhlYXBWb3dFXCIsWyRozY9fYSA9PiAoaGVhcFZvd0UgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCIuLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJDaGFpbkluZm9TaGFwZVwiLFskaM2PX2EgPT4gKENoYWluSW5mb1NoYXBlID0gJGjNj19hKV1dLFtcIkRlbm9tRGV0YWlsU2hhcGVcIixbJGjNj19hID0+IChEZW5vbURldGFpbFNoYXBlID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUNoYWluSHViQWRtaW4gPSAoem9uZSwgY2hhaW5IdWIpID0+IHtcbiAgY29uc3QgQ29ubmVjdGlvbkluZm9TaGFwZSA9IE0ucmVjb3JkKCk7IC8vXG4gIGNvbnN0IG1ha2VDcmVhdG9yRmFjZXQgPSB6b25lLmV4byhcbiAgICAnQ2hhaW5IdWIgQWRtaW4nLFxuICAgIE0uaW50ZXJmYWNlKCdDaGFpbkh1YiBBZG1pbicsIHtcbiAgICAgIHJlZ2lzdGVyQ2hhaW46IE0uY2FsbFdoZW4oTS5zdHJpbmcoKSwgQ2hhaW5JbmZvU2hhcGUpXG4gICAgICAgIC5vcHRpb25hbChDb25uZWN0aW9uSW5mb1NoYXBlKVxuICAgICAgICAucmV0dXJucyhNLnVuZGVmaW5lZCgpKSxcbiAgICAgIHJlZ2lzdGVyQXNzZXQ6IE0uY2FsbChNLnN0cmluZygpLCBEZW5vbURldGFpbFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICB9KSxcbiAgICB7XG4gICAgICAvKlxuXG5cblxuXG5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgcmVnaXN0ZXJDaGFpbihjaGFpbk5hbWUsIGNoYWluSW5mbywgaWJjQ29ubmVjdGlvbkluZm8pIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgYWdvcmljQ2hhaW5JbmZvID0gYXdhaXQgaGVhcFZvd0Uud2hlbihcbiAgICAgICAgICBjaGFpbkh1Yi5nZXRDaGFpbkluZm8oJ2Fnb3JpYycpLFxuICAgICAgICApO1xuICAgICAgICBjaGFpbkh1Yi5yZWdpc3RlckNoYWluKGNoYWluTmFtZSwgY2hhaW5JbmZvKTtcbiAgICAgICAgaWYgKGliY0Nvbm5lY3Rpb25JbmZvKSB7XG4gICAgICAgICAgY2hhaW5IdWIucmVnaXN0ZXJDb25uZWN0aW9uKFxuICAgICAgICAgICAgYWdvcmljQ2hhaW5JbmZvLmNoYWluSWQsXG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGNoYWluSW5mbykuY2hhaW5JZCxcbiAgICAgICAgICAgIGliY0Nvbm5lY3Rpb25JbmZvLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKlxuXG5cblxuXG5cblxuICAgICAgICovXG4gICAgICBhc3luYyByZWdpc3RlckFzc2V0KGRlbm9tLCBkZXRhaWwpIHtcbiAgICAgICAgLy9cbiAgICAgICAgYXdhaXQgaGVhcFZvd0Uud2hlbihjaGFpbkh1Yi5nZXRDaGFpbkluZm8oJ2Fnb3JpYycpKTtcbiAgICAgICAgY2hhaW5IdWIucmVnaXN0ZXJBc3NldChkZW5vbSwgZGV0YWlsKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIG1ha2VDcmVhdG9yRmFjZXQ7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLnByZXBhcmVDaGFpbkh1YkFkbWluKHByZXBhcmVDaGFpbkh1YkFkbWluKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVDaGFpbkh1YkFkbWluIjpbInByZXBhcmVDaGFpbkh1YkFkbWluIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGLE2XKsWQAArFkAADIAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2NoYWluLWh1Yi5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2VydHAvc3JjL3R5cGVHdWFyZHMuanMiLCJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvdm93IiwiLi4vdHlwZUd1YXJkcy5qcyIsIi4uL3V0aWxzL2FkZHJlc3MuanMiLCIuLi91dGlscy9jaGFpbi1pbmZvLmpzIl0sImV4cG9ydHMiOlsiQVNTRVRTX0tFWSIsIkNIQUlOX0tFWSIsIkNPTk5FQ1RJT05TX0tFWSIsIkh1Yk5hbWUiLCJQRk1fUkVDRUlWRVIiLCJUcmFuc2ZlclJvdXRlU2hhcGUiLCJjb25uZWN0aW9uS2V5IiwiZW5jb2RlQ2hhaW5JZCIsIm1ha2VDaGFpbkh1YiIsIm5vcm1hbGl6ZUNvbm5lY3Rpb25JbmZvIiwicmVnaXN0ZXJBc3NldHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBCcmFuZFNoYXBlLEZhaWwsbWFrZUVycm9yLHEsRSxNLFZvd1NoYXBlLEFjY291bnRJZEFyZ1NoYXBlLENoYWluSW5mb1NoYXBlLENvaW5TaGFwZSxDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxEZW5vbUFtb3VudFNoYXBlLERlbm9tRGV0YWlsU2hhcGUsRm9yd2FyZEluZm9TaGFwZSxGb3J3YXJkT3B0c1NoYXBlLElCQ0NoYW5uZWxJRFNoYXBlLElCQ0Nvbm5lY3Rpb25JbmZvU2hhcGUsZ2V0QmVjaDMyUHJlZml4LGNhaXBJZEZyb21JbmZvOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9lcnRwL3NyYy90eXBlR3VhcmRzLmpzXCIsIFtbXCJCcmFuZFNoYXBlXCIsWyRozY9fYSA9PiAoQnJhbmRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93XCIsIFtbXCJWb3dTaGFwZVwiLFskaM2PX2EgPT4gKFZvd1NoYXBlID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiQWNjb3VudElkQXJnU2hhcGVcIixbJGjNj19hID0+IChBY2NvdW50SWRBcmdTaGFwZSA9ICRozY9fYSldXSxbXCJDaGFpbkluZm9TaGFwZVwiLFskaM2PX2EgPT4gKENoYWluSW5mb1NoYXBlID0gJGjNj19hKV1dLFtcIkNvaW5TaGFwZVwiLFskaM2PX2EgPT4gKENvaW5TaGFwZSA9ICRozY9fYSldXSxbXCJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZVwiLFskaM2PX2EgPT4gKENvc21vc0NoYWluQWRkcmVzc1NoYXBlID0gJGjNj19hKV1dLFtcIkRlbm9tQW1vdW50U2hhcGVcIixbJGjNj19hID0+IChEZW5vbUFtb3VudFNoYXBlID0gJGjNj19hKV1dLFtcIkRlbm9tRGV0YWlsU2hhcGVcIixbJGjNj19hID0+IChEZW5vbURldGFpbFNoYXBlID0gJGjNj19hKV1dLFtcIkZvcndhcmRJbmZvU2hhcGVcIixbJGjNj19hID0+IChGb3J3YXJkSW5mb1NoYXBlID0gJGjNj19hKV1dLFtcIkZvcndhcmRPcHRzU2hhcGVcIixbJGjNj19hID0+IChGb3J3YXJkT3B0c1NoYXBlID0gJGjNj19hKV1dLFtcIklCQ0NoYW5uZWxJRFNoYXBlXCIsWyRozY9fYSA9PiAoSUJDQ2hhbm5lbElEU2hhcGUgPSAkaM2PX2EpXV0sW1wiSUJDQ29ubmVjdGlvbkluZm9TaGFwZVwiLFskaM2PX2EgPT4gKElCQ0Nvbm5lY3Rpb25JbmZvU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9hZGRyZXNzLmpzXCIsIFtbXCJnZXRCZWNoMzJQcmVmaXhcIixbJGjNj19hID0+IChnZXRCZWNoMzJQcmVmaXggPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9jaGFpbi1pbmZvLmpzXCIsIFtbXCJjYWlwSWRGcm9tSW5mb1wiLFskaM2PX2EgPT4gKGNhaXBJZEZyb21JbmZvID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgUEZNX1JFQ0VJVkVSID0gLyogICAgICAgICAgICAgICAgKi8gKCdwZm0nKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuICovJGjNj19vbmNlLlBGTV9SRUNFSVZFUihQRk1fUkVDRUlWRVIpO1xuICAgICAgIGNvbnN0IEh1Yk5hbWUgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIENoYWluOiAnY2hhaW4nLFxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgQ2hhaW5Bc3NldHM6ICdjaGFpbkFzc2V0cycsXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgQ2hhaW5Db25uZWN0aW9uOiAnY2hhaW5Db25uZWN0aW9uJyxcbn0pOyRozY9fb25jZS5IdWJOYW1lKEh1Yk5hbWUpO1xuaGFyZGVuKEh1Yk5hbWUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBDSEFJTl9LRVkgPSBIdWJOYW1lLkNoYWluO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5DSEFJTl9LRVkoQ0hBSU5fS0VZKTtcbiAgICAgICBjb25zdCBDT05ORUNUSU9OU19LRVkgPSBIdWJOYW1lLkNoYWluQ29ubmVjdGlvbjtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5DT05ORUNUSU9OU19LRVkoQ09OTkVDVElPTlNfS0VZKTtcbiAgICAgICBjb25zdCBBU1NFVFNfS0VZID0gSHViTmFtZS5DaGFpbkFzc2V0cztcblxuLypcblxuICovJGjNj19vbmNlLkFTU0VUU19LRVkoQVNTRVRTX0tFWSk7XG5jb25zdCBDSEFJTl9JRF9TRVBBUkFUT1IgPSAnXyc7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZW5jb2RlQ2hhaW5JZCA9IGNoYWluSWQgPT5cbiAgY2hhaW5JZC5yZXBsYWNlQWxsKFxuICAgIENIQUlOX0lEX1NFUEFSQVRPUixcbiAgICBgJHtDSEFJTl9JRF9TRVBBUkFUT1J9JHtDSEFJTl9JRF9TRVBBUkFUT1J9YCxcbiAgKTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmVuY29kZUNoYWluSWQoZW5jb2RlQ2hhaW5JZCk7XG4gICAgICAgY29uc3QgY29ubmVjdGlvbktleSA9IChjaGFpbklkMSwgY2hhaW5JZDIpID0+IHtcbiAgY29uc3QgY2hhaW5JZDFTYW5pdGl6ZWQgPSBlbmNvZGVDaGFpbklkKGNoYWluSWQxKTtcbiAgY29uc3QgY2hhaW5JZDJTYW5pdGl6ZWQgPSBlbmNvZGVDaGFpbklkKGNoYWluSWQyKTtcblxuICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgW2NoYWluSWQxU2FuaXRpemVkLCBjaGFpbklkMlNhbml0aXplZF0uc29ydCgpLmpvaW4oQ0hBSU5fSURfU0VQQVJBVE9SKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLmNvbm5lY3Rpb25LZXkoY29ubmVjdGlvbktleSk7XG5jb25zdCByZXZlcnNlQ29ubkluZm8gPSBjb25uSW5mbyA9PiB7XG4gIGNvbnN0IHsgdHJhbnNmZXJDaGFubmVsIH0gPSBjb25uSW5mbztcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgaWQ6IGNvbm5JbmZvLmNvdW50ZXJwYXJ0eS5jb25uZWN0aW9uX2lkLFxuICAgIGNsaWVudF9pZDogY29ubkluZm8uY291bnRlcnBhcnR5LmNsaWVudF9pZCxcbiAgICBjb3VudGVycGFydHk6IHtcbiAgICAgIGNsaWVudF9pZDogY29ubkluZm8uY2xpZW50X2lkLFxuICAgICAgY29ubmVjdGlvbl9pZDogY29ubkluZm8uaWQsXG4gICAgfSxcbiAgICBzdGF0ZTogY29ubkluZm8uc3RhdGUsXG4gICAgdHJhbnNmZXJDaGFubmVsOiB7XG4gICAgICAuLi50cmFuc2ZlckNoYW5uZWwsXG4gICAgICBjaGFubmVsSWQ6IHRyYW5zZmVyQ2hhbm5lbC5jb3VudGVyUGFydHlDaGFubmVsSWQsXG4gICAgICBjb3VudGVyUGFydHlDaGFubmVsSWQ6IHRyYW5zZmVyQ2hhbm5lbC5jaGFubmVsSWQsXG4gICAgICBwb3J0SWQ6IHRyYW5zZmVyQ2hhbm5lbC5jb3VudGVyUGFydHlQb3J0SWQsXG4gICAgICBjb3VudGVyUGFydHlQb3J0SWQ6IHRyYW5zZmVyQ2hhbm5lbC5wb3J0SWQsXG4gICAgfSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3Qgbm9ybWFsaXplQ29ubmVjdGlvbkluZm8gPSAoXG4gIHByaW1hcnlDaGFpbklkLFxuICBjb3VudGVyQ2hhaW5JZCxcbiAgZGlyZWN0ZWQsXG4pID0+IHtcbiAgY29uc3Qga2V5ID0gY29ubmVjdGlvbktleShwcmltYXJ5Q2hhaW5JZCwgY291bnRlckNoYWluSWQpO1xuICBpZiAocHJpbWFyeUNoYWluSWQgPCBjb3VudGVyQ2hhaW5JZCkge1xuICAgIHJldHVybiBba2V5LCBkaXJlY3RlZF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtrZXksIHJldmVyc2VDb25uSW5mbyhkaXJlY3RlZCldO1xuICB9XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5ub3JtYWxpemVDb25uZWN0aW9uSW5mbyhub3JtYWxpemVDb25uZWN0aW9uSW5mbyk7XG5jb25zdCBkZW5vcm1hbGl6ZUNvbm5lY3Rpb25JbmZvID0gKFxuICBwcmltYXJ5Q2hhaW5JZCxcbiAgY291bnRlckNoYWluSWQsXG4gIG5vcm1hbGl6ZWQsXG4pID0+IHtcbiAgaWYgKHByaW1hcnlDaGFpbklkIDwgY291bnRlckNoYWluSWQpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmV2ZXJzZUNvbm5JbmZvKG5vcm1hbGl6ZWQpO1xuICB9XG59O1xuXG5jb25zdCBDaGFpbklkQXJnU2hhcGUgPSBNLm9yKFxuICBNLnN0cmluZygpLFxuICBNLnNwbGl0UmVjb3JkKFxuICAgIHtcbiAgICAgIGNoYWluSWQ6IE0uc3RyaW5nKCksXG4gICAgfSxcbiAgICB1bmRlZmluZWQsXG4gICAgTS5hbnkoKSxcbiAgKSxcbik7XG5cbi8vXG5jb25zdCBEZWZhdWx0UGZtVGltZW91dE9wdHMgPSBoYXJkZW4oXG4gIC8qICAgICAgICAgICAgICAgICovICh7XG4gICAgcmV0cmllczogMyxcbiAgICB0aW1lb3V0OiAvKiAgICAgICAgICAgICAgICAqLyAoJzEwbScpLFxuICB9KSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IFRyYW5zZmVyUm91dGVTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHtcbiAgICBzb3VyY2VQb3J0OiBNLnN0cmluZygpLFxuICAgIHNvdXJjZUNoYW5uZWw6IElCQ0NoYW5uZWxJRFNoYXBlLFxuICAgIHRva2VuOiBDb2luU2hhcGUsXG4gICAgcmVjZWl2ZXI6IE0uc3RyaW5nKCksXG4gIH0sXG4gIHsgZm9yd2FyZEluZm86IEZvcndhcmRJbmZvU2hhcGUgfSxcbiAge30sXG4pOyRozY9fb25jZS5UcmFuc2ZlclJvdXRlU2hhcGUoVHJhbnNmZXJSb3V0ZVNoYXBlKTtcblxuY29uc3QgQ2hhaW5IdWJJID0gTS5pbnRlcmZhY2UoJ0NoYWluSHViJywge1xuICByZWdpc3RlckNoYWluOiBNLmNhbGwoTS5zdHJpbmcoKSwgQ2hhaW5JbmZvU2hhcGUpLnJldHVybnMoKSxcbiAgdXBkYXRlQ2hhaW46IE0uY2FsbChNLnN0cmluZygpLCBDaGFpbkluZm9TaGFwZSkucmV0dXJucygpLFxuICBnZXRDaGFpbkluZm86IE0uY2FsbChNLnN0cmluZygpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgZ2V0Q2hhaW5JbmZvQnlDaGFpbklkOiBNLmNhbGwoTS5zdHJpbmcoKSkucmV0dXJucyhDaGFpbkluZm9TaGFwZSksXG4gIHJlZ2lzdGVyQ29ubmVjdGlvbjogTS5jYWxsKFxuICAgIE0uc3RyaW5nKCksXG4gICAgTS5zdHJpbmcoKSxcbiAgICBJQkNDb25uZWN0aW9uSW5mb1NoYXBlLFxuICApLnJldHVybnMoKSxcbiAgdXBkYXRlQ29ubmVjdGlvbjogTS5jYWxsKFxuICAgIE0uc3RyaW5nKCksXG4gICAgTS5zdHJpbmcoKSxcbiAgICBJQkNDb25uZWN0aW9uSW5mb1NoYXBlLFxuICApLnJldHVybnMoKSxcbiAgZ2V0Q29ubmVjdGlvbkluZm86IE0uY2FsbChDaGFpbklkQXJnU2hhcGUsIENoYWluSWRBcmdTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGdldENoYWluc0FuZENvbm5lY3Rpb246IE0uY2FsbChNLnN0cmluZygpLCBNLnN0cmluZygpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgcmVnaXN0ZXJBc3NldDogTS5jYWxsKE0uc3RyaW5nKCksIERlbm9tRGV0YWlsU2hhcGUpLnJldHVybnMoKSxcbiAgdXBkYXRlQXNzZXQ6IE0uY2FsbChNLnN0cmluZygpLCBEZW5vbURldGFpbFNoYXBlKS5yZXR1cm5zKCksXG4gIGdldEFzc2V0OiBNLmNhbGwoTS5zdHJpbmcoKSwgTS5zdHJpbmcoKSkucmV0dXJucyhcbiAgICBNLm9yKERlbm9tRGV0YWlsU2hhcGUsIE0udW5kZWZpbmVkKCkpLFxuICApLFxuICBnZXREZW5vbTogTS5jYWxsKEJyYW5kU2hhcGUpLnJldHVybnMoTS5vcihNLnN0cmluZygpLCBNLnVuZGVmaW5lZCgpKSksXG4gIGNvZXJjZUNvc21vc0FkZHJlc3M6IE0uY2FsbChBY2NvdW50SWRBcmdTaGFwZSkucmV0dXJucyhcbiAgICBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgKSxcbiAgcmVzb2x2ZUFjY291bnRJZDogTS5jYWxsKE0uc3RyaW5nKCkpLnJldHVybnMoTS5zdHJpbmcoKSksXG4gIG1ha2VUcmFuc2ZlclJvdXRlOiBNLmNhbGwoQWNjb3VudElkQXJnU2hhcGUsIERlbm9tQW1vdW50U2hhcGUsIE0uc3RyaW5nKCkpXG4gICAgLm9wdGlvbmFsKEZvcndhcmRPcHRzU2hhcGUpXG4gICAgLnJldHVybnMoTS5vcihNLnVuZGVmaW5lZCgpLCBUcmFuc2ZlclJvdXRlU2hhcGUpKSxcbn0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDaGFpbkh1YiA9IChcbiAgem9uZSxcbiAgYWdvcmljTmFtZXMsXG4gIHZvd1Rvb2xzLFxuICB7IGNoYWluSW5mb1ZhbHVlU2hhcGUgPSAvKiAgICAgICAgICAgICAgICAgICovIChDaGFpbkluZm9TaGFwZSkgfSA9IHt9LFxuKSA9PiB7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGNoYWluSW5mb3MgPSB6b25lLm1hcFN0b3JlKCdjaGFpbkluZm9zJywge1xuICAgIGtleVNoYXBlOiBNLnN0cmluZygpLFxuICAgIHZhbHVlU2hhcGU6IGNoYWluSW5mb1ZhbHVlU2hhcGUsXG4gIH0pO1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgY29ubmVjdGlvbkluZm9zID0gem9uZS5tYXBTdG9yZSgnY29ubmVjdGlvbkluZm9zJywge1xuICAgIGtleVNoYXBlOiBNLnN0cmluZygpLFxuICAgIHZhbHVlU2hhcGU6IElCQ0Nvbm5lY3Rpb25JbmZvU2hhcGUsXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGRlbm9tRGV0YWlscyA9IHpvbmUubWFwU3RvcmUoJ2Rlbm9tJywge1xuICAgIGtleVNoYXBlOiBNLnN0cmluZygpLFxuICAgIHZhbHVlU2hhcGU6IERlbm9tRGV0YWlsU2hhcGUsXG4gIH0pO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBicmFuZERlbm9tcyA9IHpvbmUubWFwU3RvcmUoJ2JyYW5kRGVub20nLCB7XG4gICAga2V5U2hhcGU6IEJyYW5kU2hhcGUsXG4gICAgdmFsdWVTaGFwZTogTS5zdHJpbmcoKSxcbiAgfSk7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGJlY2gzMlByZWZpeFRvQ2hhaW5OYW1lID0gem9uZS5tYXBTdG9yZSgnYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUnLCB7XG4gICAga2V5U2hhcGU6IE0uc3RyaW5nKCksXG4gICAgdmFsdWVTaGFwZTogTS5zdHJpbmcoKSxcbiAgfSk7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGNoYWluSWRUb0NoYWluTmFtZSA9IHpvbmUubWFwU3RvcmUoJ2NoYWluSWRUb0NoYWluTmFtZScsIHtcbiAgICBrZXlTaGFwZTogTS5zdHJpbmcoKSxcbiAgICB2YWx1ZVNoYXBlOiBNLnN0cmluZygpLFxuICB9KTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VEZW5vbUtleSA9IChkZW5vbSwgc3JjQ2hhaW5OYW1lKSA9PiBgJHtzcmNDaGFpbk5hbWV9OiR7ZGVub219YDtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IHJlc29sdmVDb3Ntb3NDaGFpbklkID0gYWRkcmVzcyA9PiB7XG4gICAgLy9cbiAgICBjb25zdCBwcmVmaXggPSBnZXRCZWNoMzJQcmVmaXgoYWRkcmVzcyk7XG4gICAgaWYgKCFiZWNoMzJQcmVmaXhUb0NoYWluTmFtZS5oYXMocHJlZml4KSkge1xuICAgICAgdGhyb3cgbWFrZUVycm9yKGBDaGFpbiBpbmZvIG5vdCBmb3VuZCBmb3IgYmVjaDMyUHJlZml4ICR7cShwcmVmaXgpfWApO1xuICAgIH1cbiAgICBjb25zdCBjaGFpbk5hbWUgPSBiZWNoMzJQcmVmaXhUb0NoYWluTmFtZS5nZXQocHJlZml4KTtcbiAgICBjb25zdCB7IGNoYWluSWQgfSA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICBjaGFpbkluZm9zLmdldChjaGFpbk5hbWUpXG4gICAgKTtcbiAgICByZXR1cm4gY2hhaW5JZDtcbiAgfTtcblxuICBjb25zdCBsb29rdXBDaGFpbkluZm8gPSB2b3dUb29scy5yZXRyeWFibGUoXG4gICAgem9uZSxcbiAgICAnbG9va3VwQ2hhaW5JbmZvJyxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIC8vXG4gICAgYXN5bmMgY2hhaW5OYW1lID0+IHtcbiAgICAgIGF3YWl0IG51bGw7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjaGFpbkluZm8gPSBhd2FpdCBFKGFnb3JpY05hbWVzKS5sb29rdXAoSHViTmFtZS5DaGFpbiwgY2hhaW5OYW1lKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKCFjaGFpbkluZm9zLmhhcyhjaGFpbk5hbWUpKSB7XG4gICAgICAgICAgY2hhaW5JbmZvcy5pbml0KGNoYWluTmFtZSwgY2hhaW5JbmZvKTtcbiAgICAgICAgICBjaGFpbklkVG9DaGFpbk5hbWUuaW5pdChjYWlwSWRGcm9tSW5mbyhjaGFpbkluZm8pLCBjaGFpbk5hbWUpO1xuICAgICAgICAgIGlmIChjaGFpbkluZm8uYmVjaDMyUHJlZml4KSB7XG4gICAgICAgICAgICBiZWNoMzJQcmVmaXhUb0NoYWluTmFtZS5pbml0KGNoYWluSW5mby5iZWNoMzJQcmVmaXgsIGNoYWluTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFpbkluZm87XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xvb2t1cENoYWluSW5mbycsIGNoYWluTmFtZSwgJ2Vycm9yJywgZSk7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgY2hhaW4gbm90IGZvdW5kOiR7Y2hhaW5OYW1lfWApO1xuICAgICAgfVxuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgbG9va3VwQ29ubmVjdGlvbkluZm8gPSB2b3dUb29scy5yZXRyeWFibGUoXG4gICAgem9uZSxcbiAgICAnbG9va3VwQ29ubmVjdGlvbkluZm8nLFxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIC8vXG4gICAgYXN5bmMgKGNoYWluSWQxLCBjaGFpbklkMikgPT4ge1xuICAgICAgYXdhaXQgbnVsbDtcbiAgICAgIGNvbnN0IGtleSA9IGNvbm5lY3Rpb25LZXkoY2hhaW5JZDEsIGNoYWluSWQyKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25JbmZvID0gYXdhaXQgRShhZ29yaWNOYW1lcykubG9va3VwKFxuICAgICAgICAgIEh1Yk5hbWUuQ2hhaW5Db25uZWN0aW9uLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKCFjb25uZWN0aW9uSW5mb3MuaGFzKGtleSkpIHtcbiAgICAgICAgICBjb25uZWN0aW9uSW5mb3MuaW5pdChrZXksIGNvbm5lY3Rpb25JbmZvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZW5vcm1hbGl6ZUNvbm5lY3Rpb25JbmZvKGNoYWluSWQxLCBjaGFpbklkMiwgY29ubmVjdGlvbkluZm8pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdsb29rdXBDb25uZWN0aW9uSW5mbycsIGNoYWluSWQxLCBjaGFpbklkMiwgJ2Vycm9yJywgZSk7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgY29ubmVjdGlvbiBub3QgZm91bmQ6ICR7Y2hhaW5JZDF9PC0+JHtjaGFpbklkMn1gKTtcbiAgICAgIH1cbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGxvb2t1cENoYWluc0FuZENvbm5lY3Rpb24gPSB2b3dUb29scy5yZXRyeWFibGUoXG4gICAgem9uZSxcbiAgICAnbG9va3VwQ2hhaW5zQW5kQ29ubmVjdGlvbicsXG4gICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgLy9cbiAgICBhc3luYyAocHJpbWFyeU5hbWUsIGNvdW50ZXJOYW1lKSA9PiB7XG4gICAgICBjb25zdCBbcHJpbWFyeSwgY291bnRlcl0gPSBhd2FpdCB2b3dUb29scy5hc1Byb21pc2UoXG4gICAgICAgIHZvd1Rvb2xzLmFsbFZvd3MoW1xuICAgICAgICAgIGNoYWluSHViLmdldENoYWluSW5mbyhwcmltYXJ5TmFtZSksXG4gICAgICAgICAgY2hhaW5IdWIuZ2V0Q2hhaW5JbmZvKGNvdW50ZXJOYW1lKSxcbiAgICAgICAgXSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uSW5mbyA9XG4gICAgICAgIHByaW1hcnkubmFtZXNwYWNlID09PSAnY29zbW9zJyAmJiBjb3VudGVyLm5hbWVzcGFjZSA9PT0gJ2Nvc21vcydcbiAgICAgICAgICA/IGF3YWl0IHZvd1Rvb2xzLmFzUHJvbWlzZShcbiAgICAgICAgICAgICAgY2hhaW5IdWIuZ2V0Q29ubmVjdGlvbkluZm8ocHJpbWFyeSwgY291bnRlciksXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvKlxuXG5cblxuXG5cbiAgICAgICAgICovIChbcHJpbWFyeSwgY291bnRlciwgY29ubmVjdGlvbkluZm9dKVxuICAgICAgKTtcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGNoYWluSHViID0gem9uZS5leG8oJ0NoYWluSHViJywgQ2hhaW5IdWJJLCB7XG4gICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIHJlZ2lzdGVyQ2hhaW4obmFtZSwgY2hhaW5JbmZvKSB7XG4gICAgICBjaGFpbkluZm9zLmluaXQobmFtZSwgY2hhaW5JbmZvKTtcbiAgICAgIGNoYWluSWRUb0NoYWluTmFtZS5pbml0KGNhaXBJZEZyb21JbmZvKGNoYWluSW5mbyksIG5hbWUpO1xuICAgICAgaWYgKGNoYWluSW5mby5uYW1lc3BhY2UgPT09ICdjb3Ntb3MnICYmIGNoYWluSW5mby5iZWNoMzJQcmVmaXgpIHtcbiAgICAgICAgYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUuaW5pdChjaGFpbkluZm8uYmVjaDMyUHJlZml4LCBuYW1lKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuICAgICAqL1xuICAgIHVwZGF0ZUNoYWluKGNoYWluTmFtZSwgY2hhaW5JbmZvKSB7XG4gICAgICBpZiAoIWNoYWluSW5mb3MuaGFzKGNoYWluTmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbWFrZUVycm9yKGBDaGFpbiAke3EoY2hhaW5OYW1lKX0gbm90IHJlZ2lzdGVyZWRgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9sZEluZm8gPSBjaGFpbkluZm9zLmdldChjaGFpbk5hbWUpO1xuICAgICAgLy9cbiAgICAgIGlmIChjaGFpbklkVG9DaGFpbk5hbWUuaGFzKGNhaXBJZEZyb21JbmZvKG9sZEluZm8pKSkge1xuICAgICAgICBjaGFpbklkVG9DaGFpbk5hbWUuZGVsZXRlKGNhaXBJZEZyb21JbmZvKG9sZEluZm8pKTtcbiAgICAgIH1cbiAgICAgIGlmICgvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG9sZEluZm8pLmJlY2gzMlByZWZpeCkge1xuICAgICAgICBiZWNoMzJQcmVmaXhUb0NoYWluTmFtZS5kZWxldGUoXG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChvbGRJbmZvKS5iZWNoMzJQcmVmaXgsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjaGFpbkluZm9zLnNldChjaGFpbk5hbWUsIGNoYWluSW5mbyk7XG4gICAgICBjaGFpbklkVG9DaGFpbk5hbWUuaW5pdChjYWlwSWRGcm9tSW5mbyhjaGFpbkluZm8pLCBjaGFpbk5hbWUpO1xuICAgICAgaWYgKC8qICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoY2hhaW5JbmZvKS5iZWNoMzJQcmVmaXgpIHtcbiAgICAgICAgYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUuaW5pdChcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGNoYWluSW5mbykuYmVjaDMyUHJlZml4LFxuICAgICAgICAgIGNoYWluTmFtZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgZ2V0Q2hhaW5JbmZvKGNoYWluTmFtZSkge1xuICAgICAgY2hhaW5OYW1lLmluY2x1ZGVzKCc6JykgJiZcbiAgICAgICAgRmFpbGAke2NoYWluTmFtZX0gbXVzdCBiZSBhIGJhcmUgY2hhaW4gbmFtZS4gTWF5YmUgdHJ5IGdldENoYWluSW5mb0J5Q2hhaW5JZCgpYDtcbiAgICAgIC8vXG4gICAgICBpZiAoY2hhaW5JbmZvcy5oYXMoY2hhaW5OYW1lKSkge1xuICAgICAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgICAgIHZvd1Rvb2xzLmFzVm93KCgpID0+XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY2hhaW5JbmZvcy5nZXQoY2hhaW5OYW1lKSxcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb29rdXBDaGFpbkluZm8oY2hhaW5OYW1lKTtcbiAgICB9LFxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIGdldENoYWluSW5mb0J5Q2hhaW5JZChjaGFpbklkKSB7XG4gICAgICAvL1xuICAgICAgY2hhaW5JZFRvQ2hhaW5OYW1lLmhhcyhjaGFpbklkKSB8fFxuICAgICAgICBGYWlsYENoYWluIG5hbWUgbm90IGZvdW5kIGZvciAke3EoY2hhaW5JZCl9YDtcbiAgICAgIGNvbnN0IGNoYWluTmFtZSA9IGNoYWluSWRUb0NoYWluTmFtZS5nZXQoY2hhaW5JZCk7XG4gICAgICBjaGFpbkluZm9zLmhhcyhjaGFpbk5hbWUpIHx8IEZhaWxgQ2hhaW4gSW5mbyBub3QgZm91bmQgZm9yICR7cShjaGFpbklkKX1gO1xuICAgICAgcmV0dXJuIGNoYWluSW5mb3MuZ2V0KGNoYWluTmFtZSk7XG4gICAgfSxcbiAgICAvKlxuXG5cblxuXG5cbiAgICAgKi9cbiAgICByZWdpc3RlckNvbm5lY3Rpb24ocHJpbWFyeUNoYWluSWQsIGNvdW50ZXJwYXJ0eUNoYWluSWQsIGNvbm5lY3Rpb25JbmZvKSB7XG4gICAgICBjb25zdCBba2V5LCBub3JtYWxpemVkXSA9IG5vcm1hbGl6ZUNvbm5lY3Rpb25JbmZvKFxuICAgICAgICBwcmltYXJ5Q2hhaW5JZCxcbiAgICAgICAgY291bnRlcnBhcnR5Q2hhaW5JZCxcbiAgICAgICAgY29ubmVjdGlvbkluZm8sXG4gICAgICApO1xuICAgICAgY29ubmVjdGlvbkluZm9zLmluaXQoa2V5LCBub3JtYWxpemVkKTtcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICB1cGRhdGVDb25uZWN0aW9uKHByaW1hcnlDaGFpbklkLCBjb3VudGVycGFydHlDaGFpbklkLCBjb25uZWN0aW9uSW5mbykge1xuICAgICAgY29uc3Qga2V5ID0gY29ubmVjdGlvbktleShwcmltYXJ5Q2hhaW5JZCwgY291bnRlcnBhcnR5Q2hhaW5JZCk7XG4gICAgICBpZiAoIWNvbm5lY3Rpb25JbmZvcy5oYXMoa2V5KSkge1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoXG4gICAgICAgICAgYENvbm5lY3Rpb24gJHtxKHByaW1hcnlDaGFpbklkKX08LT4ke3EoY291bnRlcnBhcnR5Q2hhaW5JZCl9IG5vdCByZWdpc3RlcmVkYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFtfLCBub3JtYWxpemVkSW5mb10gPSBub3JtYWxpemVDb25uZWN0aW9uSW5mbyhcbiAgICAgICAgcHJpbWFyeUNoYWluSWQsXG4gICAgICAgIGNvdW50ZXJwYXJ0eUNoYWluSWQsXG4gICAgICAgIGNvbm5lY3Rpb25JbmZvLFxuICAgICAgKTtcbiAgICAgIGNvbm5lY3Rpb25JbmZvcy5zZXQoa2V5LCBub3JtYWxpemVkSW5mbyk7XG4gICAgfSxcbiAgICAvKlxuXG5cblxuICAgICAqL1xuICAgIGdldENvbm5lY3Rpb25JbmZvKHByaW1hcnksIGNvdW50ZXIpIHtcbiAgICAgIGNvbnN0IHByaW1hcnlJZCA9IHR5cGVvZiBwcmltYXJ5ID09PSAnc3RyaW5nJyA/IHByaW1hcnkgOiBwcmltYXJ5LmNoYWluSWQ7XG4gICAgICBjb25zdCBjb3VudGVySWQgPSB0eXBlb2YgY291bnRlciA9PT0gJ3N0cmluZycgPyBjb3VudGVyIDogY291bnRlci5jaGFpbklkO1xuICAgICAgY29uc3Qga2V5ID0gY29ubmVjdGlvbktleShwcmltYXJ5SWQsIGNvdW50ZXJJZCk7XG4gICAgICBpZiAoY29ubmVjdGlvbkluZm9zLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiB2b3dUb29scy5hc1ZvdygoKSA9PlxuICAgICAgICAgIGRlbm9ybWFsaXplQ29ubmVjdGlvbkluZm8oXG4gICAgICAgICAgICBwcmltYXJ5SWQsXG4gICAgICAgICAgICBjb3VudGVySWQsXG4gICAgICAgICAgICBjb25uZWN0aW9uSW5mb3MuZ2V0KGtleSksXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvb2t1cENvbm5lY3Rpb25JbmZvKHByaW1hcnlJZCwgY291bnRlcklkKTtcbiAgICB9LFxuXG4gICAgLypcblxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIGdldENoYWluc0FuZENvbm5lY3Rpb24ocHJpbWFyeU5hbWUsIGNvdW50ZXJOYW1lKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGxvb2t1cENoYWluc0FuZENvbm5lY3Rpb24ocHJpbWFyeU5hbWUsIGNvdW50ZXJOYW1lKTtcbiAgICB9LFxuXG4gICAgLypcblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICByZWdpc3RlckFzc2V0KGRlbm9tLCBkZXRhaWwpIHtcbiAgICAgIGNvbnN0IHsgY2hhaW5OYW1lLCBiYXNlTmFtZSB9ID0gZGV0YWlsO1xuICAgICAgY2hhaW5JbmZvcy5oYXMoY2hhaW5OYW1lKSB8fFxuICAgICAgICBGYWlsYG11c3QgcmVnaXN0ZXIgY2hhaW4gJHtxKGNoYWluTmFtZSl9IGZpcnN0YDtcbiAgICAgIGNoYWluSW5mb3MuaGFzKGJhc2VOYW1lKSB8fFxuICAgICAgICBGYWlsYG11c3QgcmVnaXN0ZXIgY2hhaW4gJHtxKGJhc2VOYW1lKX0gZmlyc3RgO1xuXG4gICAgICBjb25zdCBkZW5vbUtleSA9IG1ha2VEZW5vbUtleShkZW5vbSwgZGV0YWlsLmNoYWluTmFtZSk7XG4gICAgICBkZW5vbURldGFpbHMuaGFzKGRlbm9tS2V5KSAmJlxuICAgICAgICBGYWlsYGFscmVhZHkgcmVnaXN0ZXJlZCAke3EoZGVub20pfSBvbiAke3EoY2hhaW5OYW1lKX1gO1xuICAgICAgZGVub21EZXRhaWxzLmluaXQoZGVub21LZXksIGRldGFpbCk7XG4gICAgICBpZiAoZGV0YWlsLmJyYW5kKSB7XG4gICAgICAgIGNoYWluTmFtZSA9PT0gJ2Fnb3JpYycgfHxcbiAgICAgICAgICBGYWlsYGJyYW5kcyBvbmx5IHJlZ2lzdGVyYWJsZSBmb3IgYWdvcmljLWhlbGQgYXNzZXRzYDtcbiAgICAgICAgYnJhbmREZW5vbXMuaW5pdChkZXRhaWwuYnJhbmQsIGRlbm9tKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgdXBkYXRlQXNzZXQoZGVub20sIGRldGFpbCkge1xuICAgICAgY29uc3QgeyBiYXNlTmFtZSwgYnJhbmQsIGNoYWluTmFtZSB9ID0gZGV0YWlsO1xuICAgICAgY29uc3QgZGVub21LZXkgPSBtYWtlRGVub21LZXkoZGVub20sIGNoYWluTmFtZSk7XG4gICAgICBpZiAoIWRlbm9tRGV0YWlscy5oYXMoZGVub21LZXkpKSB7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgQXNzZXQgJHtxKGRlbm9tKX0gb24gJHtxKGNoYWluTmFtZSl9IG5vdCByZWdpc3RlcmVkYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWNoYWluSW5mb3MuaGFzKGNoYWluTmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbWFrZUVycm9yKGBDaGFpbiAke3EoY2hhaW5OYW1lKX0gbm90IHJlZ2lzdGVyZWRgKTtcbiAgICAgIH1cbiAgICAgIGlmICghY2hhaW5JbmZvcy5oYXMoYmFzZU5hbWUpKSB7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgQ2hhaW4gJHtxKGJhc2VOYW1lKX0gbm90IHJlZ2lzdGVyZWRgKTtcbiAgICAgIH1cbiAgICAgIGlmIChicmFuZCkge1xuICAgICAgICBpZiAoY2hhaW5OYW1lICE9PSAnYWdvcmljJykge1xuICAgICAgICAgIHRocm93IG1ha2VFcnJvcignQnJhbmRzIG9ubHkgcmVnaXN0ZXJhYmxlIGZvciBhZ29yaWMtaGVsZCBhc3NldHMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGREZXRhaWwgPSBkZW5vbURldGFpbHMuZ2V0KGRlbm9tS2V5KTtcbiAgICAgIGlmIChvbGREZXRhaWwuYnJhbmQpIHtcbiAgICAgICAgYnJhbmREZW5vbXMuZGVsZXRlKG9sZERldGFpbC5icmFuZCk7XG4gICAgICB9XG5cbiAgICAgIGRlbm9tRGV0YWlscy5zZXQoZGVub21LZXksIGRldGFpbCk7XG4gICAgICBpZiAoYnJhbmQpIHtcbiAgICAgICAgYnJhbmREZW5vbXMuaW5pdChicmFuZCwgZGVub20pO1xuICAgICAgfVxuICAgIH0sXG4gICAgLypcblxuXG5cblxuXG4gICAgICovXG4gICAgZ2V0QXNzZXQoZGVub20sIHNyY0NoYWluTmFtZSkge1xuICAgICAgY29uc3QgZGVub21LZXkgPSBtYWtlRGVub21LZXkoZGVub20sIHNyY0NoYWluTmFtZSk7XG4gICAgICBpZiAoZGVub21EZXRhaWxzLmhhcyhkZW5vbUtleSkpIHtcbiAgICAgICAgcmV0dXJuIGRlbm9tRGV0YWlscy5nZXQoZGVub21LZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICBnZXREZW5vbShicmFuZCkge1xuICAgICAgaWYgKGJyYW5kRGVub21zLmhhcyhicmFuZCkpIHtcbiAgICAgICAgcmV0dXJuIGJyYW5kRGVub21zLmdldChicmFuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG5cbiAgICAvKlxuXG5cblxuXG4gICAgICovXG4gICAgcmVzb2x2ZUFjY291bnRJZChwYXJ0aWFsSWQpIHtcbiAgICAgIGlmIChwYXJ0aWFsSWQuc3BsaXQoJzonKS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAqLyAocGFydGlhbElkKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29zbW9zQ2hhaW5JZCA9IHJlc29sdmVDb3Ntb3NDaGFpbklkKFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChwYXJ0aWFsSWQpLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBgY29zbW9zOiR7Y29zbW9zQ2hhaW5JZH06JHtwYXJ0aWFsSWR9YDtcbiAgICB9LFxuXG4gICAgLypcblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBjb2VyY2VDb3Ntb3NBZGRyZXNzKHBhcnRpYWxJZCkge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsSWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBwYXJ0aWFsSWQ7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhcnRpYWxJZC5zcGxpdCgnOicpO1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBhc3NlcnQuZXF1YWwocGFydHNbMF0sICdjb3Ntb3MnKTtcbiAgICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgICAgY2hhaW5JZDogcGFydHNbMV0sXG4gICAgICAgICAgZW5jb2Rpbmc6ICdiZWNoMzInLFxuICAgICAgICAgIHZhbHVlOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChwYXJ0c1syXSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhc3NlcnQuZXF1YWwocGFydHMubGVuZ3RoLCAxKTsgLy9cbiAgICAgIGNvbnN0IHZhbHVlID0gLyogICAgICAgICAgICAgICAgICAgICAgICAqLyAocGFydGlhbElkKTtcbiAgICAgIGNvbnN0IGNvc21vc0NoYWluSWQgPSByZXNvbHZlQ29zbW9zQ2hhaW5JZCh2YWx1ZSk7XG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgY2hhaW5JZDogY29zbW9zQ2hhaW5JZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGVuY29kaW5nOiAvKiAgICAgICAgICAgICAgICAqLyAoJ2JlY2gzMicpLFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIG1ha2VUcmFuc2ZlclJvdXRlKGRlc3RpbmF0aW9uLCBkZW5vbUFtb3VudCwgc3JjQ2hhaW5OYW1lLCBmb3J3YXJkT3B0cykge1xuICAgICAgY2hhaW5JbmZvcy5oYXMoc3JjQ2hhaW5OYW1lKSB8fFxuICAgICAgICBGYWlsYGNoYWluIGluZm8gbm90IGZvdW5kIGZvciBob2xkaW5nIGNoYWluOiAke3Eoc3JjQ2hhaW5OYW1lKX1gO1xuXG4gICAgICBjb25zdCBkZW5vbURldGFpbCA9IGNoYWluSHViLmdldEFzc2V0KGRlbm9tQW1vdW50LmRlbm9tLCBzcmNDaGFpbk5hbWUpO1xuICAgICAgZGVub21EZXRhaWwgfHxcbiAgICAgICAgRmFpbGBubyBkZW5vbSBkZXRhaWwgZm9yOiAke3EoZGVub21BbW91bnQuZGVub20pfSBvbiAke3Eoc3JjQ2hhaW5OYW1lKX0uIGVuc3VyZSBpdCBpcyByZWdpc3RlcmVkIGluIGNoYWluSHViLmA7XG5cbiAgICAgIGNvbnN0IHsgYmFzZU5hbWUsIGNoYWluTmFtZSB9ID0gLyogICAgICAgICAgICAgICAgICAgICAgKi8gKGRlbm9tRGV0YWlsKTtcblxuICAgICAgLy9cbiAgICAgIGNoYWluTmFtZSA9PT0gc3JjQ2hhaW5OYW1lIHx8XG4gICAgICAgIEZhaWxgY2Fubm90IHRyYW5zZmVyIGFzc2V0ICR7cShkZW5vbUFtb3VudC5kZW5vbSl9LiBoZWxkIG9uICR7cShjaGFpbk5hbWUpfSBub3QgJHtxKHNyY0NoYWluTmFtZSl9LmA7XG5cbiAgICAgIC8vXG4gICAgICBjaGFpbkluZm9zLmhhcyhiYXNlTmFtZSkgfHxcbiAgICAgICAgRmFpbGBjaGFpbiBpbmZvIG5vdCBmb3VuZCBmb3IgaXNzdWluZyBjaGFpbjogJHtxKGJhc2VOYW1lKX1gO1xuXG4gICAgICBjb25zdCBiYXNlQ2hhaW5JbmZvID0gY2hhaW5JbmZvcy5nZXQoYmFzZU5hbWUpO1xuICAgICAgaWYgKGJhc2VDaGFpbkluZm8ubmFtZXNwYWNlICE9PSAnY29zbW9zJylcbiAgICAgICAgdGhyb3cgRmFpbGBPbmx5IGNvc21vcyBzdXBwb3J0ZWQ7IGdvdCAke3EoYmFzZUNoYWluSW5mby5uYW1lc3BhY2UpfWA7XG4gICAgICBjb25zdCB7IGNoYWluSWQ6IGJhc2VDaGFpbklkLCBwZm1FbmFibGVkIH0gPSBiYXNlQ2hhaW5JbmZvO1xuXG4gICAgICBjb25zdCBob2xkaW5nQ2hhaW5JbmZvID0gY2hhaW5JbmZvcy5nZXQoc3JjQ2hhaW5OYW1lKTtcbiAgICAgIGlmIChob2xkaW5nQ2hhaW5JbmZvLm5hbWVzcGFjZSAhPT0gJ2Nvc21vcycpIHtcbiAgICAgICAgdGhyb3cgRmFpbGBPbmx5IGNvc21vcyBzdXBwb3J0ZWQ7IGdvdCAke3EoaG9sZGluZ0NoYWluSW5mby5uYW1lc3BhY2UpfWA7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGNoYWluSWQ6IGhvbGRpbmdDaGFpbklkIH0gPSBob2xkaW5nQ2hhaW5JbmZvO1xuXG4gICAgICBjb25zdCBjb3Ntb3NEZXN0ID0gY2hhaW5IdWIuY29lcmNlQ29zbW9zQWRkcmVzcyhkZXN0aW5hdGlvbik7XG5cbiAgICAgIC8vXG4gICAgICBpZiAoYmFzZUNoYWluSWQgPT09IGNvc21vc0Rlc3QuY2hhaW5JZCB8fCBiYXNlTmFtZSA9PT0gc3JjQ2hhaW5OYW1lKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGNvbm5LZXkgPSBjb25uZWN0aW9uS2V5KGhvbGRpbmdDaGFpbklkLCBjb3Ntb3NEZXN0LmNoYWluSWQpO1xuICAgICAgICBjb25uZWN0aW9uSW5mb3MuaGFzKGNvbm5LZXkpIHx8XG4gICAgICAgICAgRmFpbGBubyBjb25uZWN0aW9uIGluZm8gZm91bmQgZm9yICR7aG9sZGluZ0NoYWluSWR9PC0+JHtjb3Ntb3NEZXN0LmNoYWluSWR9YDtcblxuICAgICAgICBjb25zdCB7IHRyYW5zZmVyQ2hhbm5lbCB9ID0gZGVub3JtYWxpemVDb25uZWN0aW9uSW5mbyhcbiAgICAgICAgICBob2xkaW5nQ2hhaW5JZCwgLy9cbiAgICAgICAgICBjb3Ntb3NEZXN0LmNoYWluSWQsIC8vXG4gICAgICAgICAgY29ubmVjdGlvbkluZm9zLmdldChjb25uS2V5KSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgICAgc291cmNlUG9ydDogdHJhbnNmZXJDaGFubmVsLnBvcnRJZCxcbiAgICAgICAgICBzb3VyY2VDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWwuY2hhbm5lbElkLFxuICAgICAgICAgIHRva2VuOiB7XG4gICAgICAgICAgICBhbW91bnQ6IFN0cmluZyhkZW5vbUFtb3VudC52YWx1ZSksXG4gICAgICAgICAgICBkZW5vbTogZGVub21BbW91bnQuZGVub20sXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWNlaXZlcjogY29zbW9zRGVzdC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICBwZm1FbmFibGVkIHx8IEZhaWxgcGZtIG5vdCBlbmFibGVkIG9uIGlzc3VpbmcgY2hhaW46ICR7cShiYXNlTmFtZSl9YDtcblxuICAgICAgLy9cbiAgICAgIGNvbnN0IGN1cnJUb0lzc3VlcktleSA9IGNvbm5lY3Rpb25LZXkoaG9sZGluZ0NoYWluSWQsIGJhc2VDaGFpbklkKTtcbiAgICAgIGNvbm5lY3Rpb25JbmZvcy5oYXMoY3VyclRvSXNzdWVyS2V5KSB8fFxuICAgICAgICBGYWlsYG5vIGNvbm5lY3Rpb24gaW5mbyBmb3VuZCBmb3IgJHtob2xkaW5nQ2hhaW5JZH08LT4ke2Jhc2VDaGFpbklkfWA7XG5cbiAgICAgIGNvbnN0IGlzc3VlclRvRGVzdEtleSA9IGNvbm5lY3Rpb25LZXkoYmFzZUNoYWluSWQsIGNvc21vc0Rlc3QuY2hhaW5JZCk7XG4gICAgICBjb25uZWN0aW9uSW5mb3MuaGFzKGlzc3VlclRvRGVzdEtleSkgfHxcbiAgICAgICAgRmFpbGBubyBjb25uZWN0aW9uIGluZm8gZm91bmQgZm9yICR7YmFzZUNoYWluSWR9PC0+JHtjb3Ntb3NEZXN0LmNoYWluSWR9YDtcblxuICAgICAgY29uc3QgY3VyclRvSXNzdWVyID0gZGVub3JtYWxpemVDb25uZWN0aW9uSW5mbyhcbiAgICAgICAgaG9sZGluZ0NoYWluSWQsXG4gICAgICAgIGJhc2VDaGFpbklkLFxuICAgICAgICBjb25uZWN0aW9uSW5mb3MuZ2V0KGN1cnJUb0lzc3VlcktleSksXG4gICAgICApO1xuICAgICAgY29uc3QgaXNzdWVyVG9EZXN0ID0gZGVub3JtYWxpemVDb25uZWN0aW9uSW5mbyhcbiAgICAgICAgYmFzZUNoYWluSWQsXG4gICAgICAgIGNvc21vc0Rlc3QuY2hhaW5JZCxcbiAgICAgICAgY29ubmVjdGlvbkluZm9zLmdldChpc3N1ZXJUb0Rlc3RLZXkpLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgeyBpbnRlcm1lZGlhdGVSZWNpcGllbnQsIC4uLnJlc3QgfSA9IGZvcndhcmRPcHRzID8/IHt9O1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IGZvcndhcmRJbmZvID0gaGFyZGVuKHtcbiAgICAgICAgZm9yd2FyZDoge1xuICAgICAgICAgIHJlY2VpdmVyOiBjb3Ntb3NEZXN0LnZhbHVlLFxuICAgICAgICAgIHBvcnQ6IGlzc3VlclRvRGVzdC50cmFuc2ZlckNoYW5uZWwucG9ydElkLFxuICAgICAgICAgIGNoYW5uZWw6IGlzc3VlclRvRGVzdC50cmFuc2ZlckNoYW5uZWwuY2hhbm5lbElkLFxuICAgICAgICAgIC4uLkRlZmF1bHRQZm1UaW1lb3V0T3B0cyxcbiAgICAgICAgICAuLi4vKiAgICAgICAgICAgICAgICAgICAgICAqLyAocmVzdCkgIC8vXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICBzb3VyY2VQb3J0OiBjdXJyVG9Jc3N1ZXIudHJhbnNmZXJDaGFubmVsLnBvcnRJZCxcbiAgICAgICAgc291cmNlQ2hhbm5lbDogY3VyclRvSXNzdWVyLnRyYW5zZmVyQ2hhbm5lbC5jaGFubmVsSWQsXG4gICAgICAgIHRva2VuOiB7XG4gICAgICAgICAgYW1vdW50OiBTdHJpbmcoZGVub21BbW91bnQudmFsdWUpLFxuICAgICAgICAgIGRlbm9tOiBkZW5vbUFtb3VudC5kZW5vbSxcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICByZWNlaXZlcjogaW50ZXJtZWRpYXRlUmVjaXBpZW50Py52YWx1ZSB8fCBQRk1fUkVDRUlWRVIsXG4gICAgICAgIGZvcndhcmRJbmZvLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIGNoYWluSHViO1xufTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZUNoYWluSHViKG1ha2VDaGFpbkh1Yik7XG4gICAgICAgY29uc3QgcmVnaXN0ZXJBc3NldHMgPSAoY2hhaW5IdWIsIG5hbWUsIGFzc2V0cykgPT4ge1xuICBmb3IgKGNvbnN0IHsgYmFzZSwgdHJhY2VzIH0gb2YgYXNzZXRzKSB7XG4gICAgY29uc3QgbmF0aXZlID0gIXRyYWNlcztcbiAgICBuYXRpdmUgfHwgdHJhY2VzLmxlbmd0aCA9PT0gMSB8fCBGYWlsYHVuZXhwZWN0ZWQgJHt0cmFjZXMubGVuZ3RofSB0cmFjZXNgO1xuICAgIGNvbnN0IFtjaGFpbk5hbWUsIGJhc2VOYW1lLCBiYXNlRGVub21dID0gbmF0aXZlXG4gICAgICA/IFtuYW1lLCBuYW1lLCBiYXNlXVxuICAgICAgOiBbXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB0cmFjZXNbMF0uY291bnRlcnBhcnR5LmNoYWluX25hbWUsXG4gICAgICAgICAgdHJhY2VzWzBdLmNvdW50ZXJwYXJ0eS5iYXNlX2Rlbm9tLFxuICAgICAgICBdO1xuICAgIGNoYWluSHViLnJlZ2lzdGVyQXNzZXQoYmFzZSwgeyBjaGFpbk5hbWUsIGJhc2VOYW1lLCBiYXNlRGVub20gfSk7XG4gIH1cbn07JGjNj19vbmNlLnJlZ2lzdGVyQXNzZXRzKHJlZ2lzdGVyQXNzZXRzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlBGTV9SRUNFSVZFUiI6WyJQRk1fUkVDRUlWRVIiXSwiSHViTmFtZSI6WyJIdWJOYW1lIl0sIkNIQUlOX0tFWSI6WyJDSEFJTl9LRVkiXSwiQ09OTkVDVElPTlNfS0VZIjpbIkNPTk5FQ1RJT05TX0tFWSJdLCJBU1NFVFNfS0VZIjpbIkFTU0VUU19LRVkiXSwiZW5jb2RlQ2hhaW5JZCI6WyJlbmNvZGVDaGFpbklkIl0sImNvbm5lY3Rpb25LZXkiOlsiY29ubmVjdGlvbktleSJdLCJub3JtYWxpemVDb25uZWN0aW9uSW5mbyI6WyJub3JtYWxpemVDb25uZWN0aW9uSW5mbyJdLCJUcmFuc2ZlclJvdXRlU2hhcGUiOlsiVHJhbnNmZXJSb3V0ZVNoYXBlIl0sIm1ha2VDaGFpbkh1YiI6WyJtYWtlQ2hhaW5IdWIiXSwicmVnaXN0ZXJBc3NldHMiOlsicmVnaXN0ZXJBc3NldHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAG+S2hB0fAAAdHwAAQgAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvY29zbW9zLWludGVyY2hhaW4tc2VydmljZS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL25ldHdvcmsiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCIuLi91dGlscy9hZGRyZXNzLmpzIiwiLi9pY2EtYWNjb3VudC1raXQuanMiLCIuL2ljcS1jb25uZWN0aW9uLWtpdC5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVDb3Ntb3NJbnRlcmNoYWluU2VydmljZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5ldHdvcmtTaGFwZSxwaWNrRmFjZXQsRSxNLG11c3RNYXRjaCxERUZBVUxUX0lDUV9WRVJTSU9OLG1ha2VJQ0FDaGFubmVsQWRkcmVzcyxtYWtlSUNRQ2hhbm5lbEFkZHJlc3MscHJlcGFyZUljYUFjY291bnRLaXQscHJlcGFyZUlDUUNvbm5lY3Rpb25LaXQ7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL25ldHdvcmtcIiwgW1tcIlNoYXBlXCIsWyRozY9fYSA9PiAoTmV0d29ya1NoYXBlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wicGlja0ZhY2V0XCIsWyRozY9fYSA9PiAocGlja0ZhY2V0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9hZGRyZXNzLmpzXCIsIFtbXCJERUZBVUxUX0lDUV9WRVJTSU9OXCIsWyRozY9fYSA9PiAoREVGQVVMVF9JQ1FfVkVSU0lPTiA9ICRozY9fYSldXSxbXCJtYWtlSUNBQ2hhbm5lbEFkZHJlc3NcIixbJGjNj19hID0+IChtYWtlSUNBQ2hhbm5lbEFkZHJlc3MgPSAkaM2PX2EpXV0sW1wibWFrZUlDUUNoYW5uZWxBZGRyZXNzXCIsWyRozY9fYSA9PiAobWFrZUlDUUNoYW5uZWxBZGRyZXNzID0gJGjNj19hKV1dXV0sW1wiLi9pY2EtYWNjb3VudC1raXQuanNcIiwgW1tcInByZXBhcmVJY2FBY2NvdW50S2l0XCIsWyRozY9fYSA9PiAocHJlcGFyZUljYUFjY291bnRLaXQgPSAkaM2PX2EpXV1dXSxbXCIuL2ljcS1jb25uZWN0aW9uLWtpdC5qc1wiLCBbW1wicHJlcGFyZUlDUUNvbm5lY3Rpb25LaXRcIixbJGjNj19hID0+IChwcmVwYXJlSUNRQ29ubmVjdGlvbktpdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHsgVm93JCB9ID0gTmV0d29ya1NoYXBlOyAvL1xuLypcblxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGdldElDUUNvbm5lY3Rpb25LZXkgPSAoY29udHJvbGxlckNvbm5lY3Rpb25JZCwgdmVyc2lvbikgPT4ge1xuICByZXR1cm4gYCR7Y29udHJvbGxlckNvbm5lY3Rpb25JZH06JHt2ZXJzaW9uIHx8IERFRkFVTFRfSUNRX1ZFUlNJT059YDtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25TZXJ2aWNlS2l0ID0gKFxuICB6b25lLFxuICB7IHdhdGNoLCBhc1ZvdyB9LFxuICBtYWtlSWNhQWNjb3VudEtpdCxcbiAgbWFrZUlDUUNvbm5lY3Rpb25LaXQsXG4pID0+XG4gIHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ09yY2hlc3RyYXRpb24nLFxuICAgIHtcbiAgICAgIHJlcXVlc3RJQ0FDaGFubmVsV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1JlcXVlc3RJQ0FDaGFubmVsV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnJlbW90YWJsZSgnUG9ydCcpKVxuICAgICAgICAgIC5vcHRpb25hbCh7IGNoYWluSWQ6IE0uc3RyaW5nKCksIHJlbW90ZUNvbm5BZGRyOiBNLnN0cmluZygpIH0pXG4gICAgICAgICAgLnJldHVybnMoVm93JChOZXR3b3JrU2hhcGUuQ29ubmVjdGlvbikpLFxuICAgICAgfSksXG4gICAgICByZXF1ZXN0SUNRQ2hhbm5lbFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdSZXF1ZXN0SUNRQ2hhbm5lbFdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5yZW1vdGFibGUoJ1BvcnQnKSlcbiAgICAgICAgICAub3B0aW9uYWwoe1xuICAgICAgICAgICAgcmVtb3RlQ29ubkFkZHI6IE0uc3RyaW5nKCksXG4gICAgICAgICAgICBpY3FMb29rdXBLZXk6IE0uc3RyaW5nKCksXG4gICAgICAgICAgfSlcbiAgICAgICAgICAucmV0dXJucyhWb3ckKE5ldHdvcmtTaGFwZS5Db25uZWN0aW9uKSksXG4gICAgICB9KSxcbiAgICAgIGNoYW5uZWxPcGVuV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ0NoYW5uZWxPcGVuV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnJlbW90YWJsZSgnQ29ubmVjdGlvbicpKVxuICAgICAgICAgIC5vcHRpb25hbChcbiAgICAgICAgICAgIE0uc3BsaXRSZWNvcmQoXG4gICAgICAgICAgICAgIHsgY29ubmVjdGlvbktpdDogTS5yZWNvcmQoKSwgcmV0dXJuRmFjZXQ6IE0uc3RyaW5nKCkgfSxcbiAgICAgICAgICAgICAgeyBpY3FMb29rdXBLZXk6IE0uc3RyaW5nKCkgfSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKVxuICAgICAgICAgIC5yZXR1cm5zKE0ucmVtb3RhYmxlKCdDb25uZWN0aW9uS2l0IEhvbGRlciBmYWNldCcpKSxcbiAgICAgIH0pLFxuICAgICAgcHVibGljOiBNLmludGVyZmFjZSgnQ29zbW9zSW50ZXJjaGFpblNlcnZpY2UnLCB7XG4gICAgICAgIG1ha2VBY2NvdW50OiBNLmNhbGwoTS5zdHJpbmcoKSwgTS5zdHJpbmcoKSwgTS5zdHJpbmcoKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5yZWNvcmQoKSlcbiAgICAgICAgICAucmV0dXJucyhWb3ckKE0ucmVtb3RhYmxlKCdJY2FBY2NvdW50S2l0JykpKSxcbiAgICAgICAgcHJvdmlkZUlDUUNvbm5lY3Rpb246IE0uY2FsbChNLnN0cmluZygpKVxuICAgICAgICAgIC5vcHRpb25hbChNLnN0cmluZygpKVxuICAgICAgICAgIC5yZXR1cm5zKFZvdyQoTS5yZW1vdGFibGUoJ0lDUUNvbm5lY3Rpb24nKSkpLFxuICAgICAgfSksXG4gICAgfSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBwb3dlcnMgPT4ge1xuICAgICAgbXVzdE1hdGNoKHBvd2Vycz8ucG9ydEFsbG9jYXRvciwgTS5yZW1vdGFibGUoJ1BvcnRBbGxvY2F0b3InKSk7XG4gICAgICBjb25zdCBpY3FDb25uZWN0aW9ucyA9IHpvbmUuZGV0YWNoZWQoKS5tYXBTdG9yZSgnSUNRQ29ubmVjdGlvbnMnKTtcbiAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHtcbiAgICAgICAgaWNxQ29ubmVjdGlvbnMsXG4gICAgICAgIHNoYXJlZElDUVBvcnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVzZXJ2ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLi4ucG93ZXJzLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB7XG4gICAgICByZXF1ZXN0SUNBQ2hhbm5lbFdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChwb3J0LCB7IGNoYWluSWQsIHJlbW90ZUNvbm5BZGRyIH0pIHtcbiAgICAgICAgICBjb25zdCBjb25uZWN0aW9uS2l0ID0gbWFrZUljYUFjY291bnRLaXQoXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgIHJlbW90ZUNvbm5BZGRyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRShwb3J0KS5jb25uZWN0KHJlbW90ZUNvbm5BZGRyLCBjb25uZWN0aW9uS2l0LmNvbm5lY3Rpb25IYW5kbGVyKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmNoYW5uZWxPcGVuV2F0Y2hlcixcbiAgICAgICAgICAgIHsgcmV0dXJuRmFjZXQ6ICdhY2NvdW50JywgY29ubmVjdGlvbktpdCB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVxdWVzdElDUUNoYW5uZWxXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQocG9ydCwgeyByZW1vdGVDb25uQWRkciwgaWNxTG9va3VwS2V5IH0pIHtcbiAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc2hhcmVkSUNRUG9ydCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zaGFyZWRJQ1FQb3J0ID0gcG9ydDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgY29ubmVjdGlvbktpdCA9IG1ha2VJQ1FDb25uZWN0aW9uS2l0KHBvcnQpO1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUocG9ydCkuY29ubmVjdChyZW1vdGVDb25uQWRkciwgY29ubmVjdGlvbktpdC5jb25uZWN0aW9uSGFuZGxlciksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5jaGFubmVsT3BlbldhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb25LaXQsXG4gICAgICAgICAgICAgIHJldHVybkZhY2V0OiAnY29ubmVjdGlvbicsXG4gICAgICAgICAgICAgIGljcUxvb2t1cEtleSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cblxuICAgICAgICovXG4gICAgICBjaGFubmVsT3BlbldhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKF9jb25uZWN0aW9uLCB7IGNvbm5lY3Rpb25LaXQsIHJldHVybkZhY2V0LCBpY3FMb29rdXBLZXkgfSkge1xuICAgICAgICAgIGlmIChpY3FMb29rdXBLZXkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaWNxQ29ubmVjdGlvbnMuaW5pdChcbiAgICAgICAgICAgICAgaWNxTG9va3VwS2V5LFxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChjb25uZWN0aW9uS2l0KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uS2l0W3JldHVybkZhY2V0XTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwdWJsaWM6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBtYWtlQWNjb3VudChjaGFpbklkLCBob3N0Q29ubmVjdGlvbklkLCBjb250cm9sbGVyQ29ubmVjdGlvbklkLCBvcHRzKSB7XG4gICAgICAgICAgY29uc3QgcmVtb3RlQ29ubkFkZHIgPSBtYWtlSUNBQ2hhbm5lbEFkZHJlc3MoXG4gICAgICAgICAgICBob3N0Q29ubmVjdGlvbklkLFxuICAgICAgICAgICAgY29udHJvbGxlckNvbm5lY3Rpb25JZCxcbiAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCB7IHBvcnRBbGxvY2F0b3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRShwb3J0QWxsb2NhdG9yKS5hbGxvY2F0ZUlDQUNvbnRyb2xsZXJQb3J0KCksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXF1ZXN0SUNBQ2hhbm5lbFdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgIHJlbW90ZUNvbm5BZGRyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBwcm92aWRlSUNRQ29ubmVjdGlvbihjb250cm9sbGVyQ29ubmVjdGlvbklkLCB2ZXJzaW9uKSB7XG4gICAgICAgICAgY29uc3QgaWNxTG9va3VwS2V5ID0gZ2V0SUNRQ29ubmVjdGlvbktleShcbiAgICAgICAgICAgIGNvbnRyb2xsZXJDb25uZWN0aW9uSWQsXG4gICAgICAgICAgICB2ZXJzaW9uLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaWNxQ29ubmVjdGlvbnMuaGFzKGljcUxvb2t1cEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhc1ZvdyhcbiAgICAgICAgICAgICAgKCkgPT4gdGhpcy5zdGF0ZS5pY3FDb25uZWN0aW9ucy5nZXQoaWNxTG9va3VwS2V5KS5jb25uZWN0aW9uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVtb3RlQ29ubkFkZHIgPSBtYWtlSUNRQ2hhbm5lbEFkZHJlc3MoXG4gICAgICAgICAgICBjb250cm9sbGVyQ29ubmVjdGlvbklkLFxuICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHsgcG9ydEFsbG9jYXRvciwgc2hhcmVkSUNRUG9ydCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCBwb3J0T3JQb3J0Vm93ID1cbiAgICAgICAgICAgIHNoYXJlZElDUVBvcnQgfHwgRShwb3J0QWxsb2NhdG9yKS5hbGxvY2F0ZUlDUUNvbnRyb2xsZXJQb3J0KCk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2gocG9ydE9yUG9ydFZvdywgdGhpcy5mYWNldHMucmVxdWVzdElDUUNoYW5uZWxXYXRjaGVyLCB7XG4gICAgICAgICAgICByZW1vdGVDb25uQWRkcixcbiAgICAgICAgICAgIGljcUxvb2t1cEtleSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzdGF0ZVNoYXBlOiB7XG4gICAgICAgIGljcUNvbm5lY3Rpb25zOiBNLnJlbW90YWJsZSgnaWNxQ29ubmVjdGlvbnMgbWFwU3RvcmUnKSxcbiAgICAgICAgc2hhcmVkSUNRUG9ydDogTS5vcihNLnJlbW90YWJsZSgnUG9ydCcpLCBNLnVuZGVmaW5lZCgpKSxcbiAgICAgICAgcG9ydEFsbG9jYXRvcjogTS5yZW1vdGFibGUoJ1BvcnRBbGxvY2F0b3InKSxcbiAgICAgICAgcmVzZXJ2ZWQ6IE0uYW55KCksXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUNvc21vc0ludGVyY2hhaW5TZXJ2aWNlID0gKHpvbmUsIHZvd1Rvb2xzKSA9PiB7XG4gIGNvbnN0IG1ha2VJY2FBY2NvdW50S2l0ID0gcHJlcGFyZUljYUFjY291bnRLaXQoem9uZSwgdm93VG9vbHMpO1xuICBjb25zdCBtYWtlSUNRQ29ubmVjdGlvbktpdCA9IHByZXBhcmVJQ1FDb25uZWN0aW9uS2l0KHpvbmUsIHZvd1Rvb2xzKTtcbiAgY29uc3QgbWFrZUNvc21vc09yY2hlc3RyYXRpb25TZXJ2aWNlS2l0ID1cbiAgICBwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvblNlcnZpY2VLaXQoXG4gICAgICB6b25lLFxuICAgICAgdm93VG9vbHMsXG4gICAgICBtYWtlSWNhQWNjb3VudEtpdCxcbiAgICAgIG1ha2VJQ1FDb25uZWN0aW9uS2l0LFxuICAgICk7XG5cbiAgY29uc3QgbWFrZUNvc21vc0ludGVyY2hhaW5TZXJ2aWNlID0gcGlja0ZhY2V0KFxuICAgIG1ha2VDb3Ntb3NPcmNoZXN0cmF0aW9uU2VydmljZUtpdCxcbiAgICAncHVibGljJyxcbiAgKTtcblxuICByZXR1cm4gbWFrZUNvc21vc0ludGVyY2hhaW5TZXJ2aWNlO1xufTskaM2PX29uY2UucHJlcGFyZUNvc21vc0ludGVyY2hhaW5TZXJ2aWNlKHByZXBhcmVDb3Ntb3NJbnRlcmNoYWluU2VydmljZSk7XG5oYXJkZW4ocHJlcGFyZUNvc21vc0ludGVyY2hhaW5TZXJ2aWNlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVDb3Ntb3NJbnRlcmNoYWluU2VydmljZSI6WyJwcmVwYXJlQ29zbW9zSW50ZXJjaGFpblNlcnZpY2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA9is/1HKtAAByrQAARQAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvY29zbW9zLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2Nvc21pYy1wcm90byIsIkBhZ29yaWMvY29zbWljLXByb3RvL2NpcmNsZS9jY3RwL3YxL3R4LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2JhbmsvdjFiZXRhMS9xdWVyeS5qcyIsIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9iYW5rL3YxYmV0YTEvdHguanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvcXVlcnkuanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvdHguanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3F1ZXJ5LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qcyIsIkBhZ29yaWMvY29zbWljLXByb3RvL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzIiwiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvbmV0d29yayIsIkBhZ29yaWMvdmF0LWRhdGEiLCJAYWdvcmljL3ZvdyIsIkBlbmRvL2Jhc2U2NCIsIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIi4uL3R5cGVHdWFyZHMuanMiLCIuLi91dGlscy9hbW91bnRzLmpzIiwiLi4vdXRpbHMvY29zbW9zLmpzIiwiLi4vdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanMiLCIuLi91dGlscy90aW1lLmpzIiwiLi4vdXRpbHMvYWRkcmVzcy5qcyJdLCJleHBvcnRzIjpbIkNvc21vc09yY2hlc3RyYXRpb25JbnZpdGF0aW9uTWFrZXJzSSIsIkljYUFjY291bnRIb2xkZXJJIiwicHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50IiwicHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50S2l0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgdG9SZXF1ZXN0UXVlcnlKc29uLE1zZ0RlcG9zaXRGb3JCdXJuLE1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlcixRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCxRdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UsUXVlcnlCYWxhbmNlUmVxdWVzdCxRdWVyeUJhbGFuY2VSZXNwb25zZSxNc2dTZW5kLFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0LFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZSxRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0LFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlLE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkLE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UsUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdCxRdWVyeURlbGVnYXRpb25SZXNwb25zZSxRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdCxRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UsUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QsUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlLFF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QsUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UsUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdCxRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZSxNc2dCZWdpblJlZGVsZWdhdGUsTXNnRGVsZWdhdGUsTXNnVW5kZWxlZ2F0ZSxNc2dVbmRlbGVnYXRlUmVzcG9uc2UsQW55LE1zZ1RyYW5zZmVyLG1ha2VUcmFjZXIsTmV0d29ya1NoYXBlLE0sVm93U2hhcGUsZGVjb2RlQmFzZTY0LEZhaWwsbWFrZUVycm9yLHEsRSxBbW91bnRBcmdTaGFwZSxDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxEZWxlZ2F0aW9uU2hhcGUsRGVub21BbW91bnRTaGFwZSxJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSxQcm90bzNTaGFwZSxFeGVjdXRlSUNBVHhPcHRzU2hhcGUsY29lcmNlQ29pbixjb2VyY2VEZW5vbSxtYXhDbG9ja1NrZXcsdG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UsdG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzLHRvRGVub21BbW91bnQsdG9UcnVuY2F0ZWREZW5vbUFtb3VudCx0cnlEZWNvZGVSZXNwb25zZSxvcmNoZXN0cmF0aW9uQWNjb3VudE1ldGhvZHMsbWFrZVRpbWVzdGFtcEhlbHBlcixhY2NvdW50SWRUbzMyQnl0ZXMscGFyc2VBY2NvdW50SWQ7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2Nvc21pYy1wcm90b1wiLCBbW1widG9SZXF1ZXN0UXVlcnlKc29uXCIsWyRozY9fYSA9PiAodG9SZXF1ZXN0UXVlcnlKc29uID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY2lyY2xlL2NjdHAvdjEvdHguanNcIiwgW1tcIk1zZ0RlcG9zaXRGb3JCdXJuXCIsWyRozY9fYSA9PiAoTXNnRGVwb3NpdEZvckJ1cm4gPSAkaM2PX2EpXV0sW1wiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyXCIsWyRozY9fYSA9PiAoTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2JhbmsvdjFiZXRhMS9xdWVyeS5qc1wiLCBbW1wiUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UgPSAkaM2PX2EpXV0sW1wiUXVlcnlCYWxhbmNlUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5QmFsYW5jZVJlcXVlc3QgPSAkaM2PX2EpXV0sW1wiUXVlcnlCYWxhbmNlUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeUJhbGFuY2VSZXNwb25zZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9iYW5rL3YxYmV0YTEvdHguanNcIiwgW1tcIk1zZ1NlbmRcIixbJGjNj19hID0+IChNc2dTZW5kID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3F1ZXJ5LmpzXCIsIFtbXCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0ID0gJGjNj19hKV1dLFtcIlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZVwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZSA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0XCIsWyRozY9fYSA9PiAoUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZVwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LmpzXCIsIFtbXCJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFwiLFskaM2PX2EgPT4gKE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkID0gJGjNj19hKV1dLFtcIk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2VcIixbJGjNj19hID0+IChNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9xdWVyeS5qc1wiLCBbW1wiUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QgPSAkaM2PX2EpXV0sW1wiUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRpb25SZXNwb25zZSA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0ID0gJGjNj19hKV1dLFtcIlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZVwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0ID0gJGjNj19hKV1dLFtcIlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZVwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZSA9ICRozY9fYSldXSxbXCJRdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0XCIsWyRozY9fYSA9PiAoUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZVwiLFskaM2PX2EgPT4gKFF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlID0gJGjNj19hKV1dLFtcIlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0ID0gJGjNj19hKV1dLFtcIlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlXCIsWyRozY9fYSA9PiAoUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzXCIsIFtbXCJNc2dCZWdpblJlZGVsZWdhdGVcIixbJGjNj19hID0+IChNc2dCZWdpblJlZGVsZWdhdGUgPSAkaM2PX2EpXV0sW1wiTXNnRGVsZWdhdGVcIixbJGjNj19hID0+IChNc2dEZWxlZ2F0ZSA9ICRozY9fYSldXSxbXCJNc2dVbmRlbGVnYXRlXCIsWyRozY9fYSA9PiAoTXNnVW5kZWxlZ2F0ZSA9ICRozY9fYSldXSxbXCJNc2dVbmRlbGVnYXRlUmVzcG9uc2VcIixbJGjNj19hID0+IChNc2dVbmRlbGVnYXRlUmVzcG9uc2UgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9nb29nbGUvcHJvdG9idWYvYW55LmpzXCIsIFtbXCJBbnlcIixbJGjNj19hID0+IChBbnkgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzXCIsIFtbXCJNc2dUcmFuc2ZlclwiLFskaM2PX2EgPT4gKE1zZ1RyYW5zZmVyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL25ldHdvcmtcIiwgW1tcIlNoYXBlXCIsWyRozY9fYSA9PiAoTmV0d29ya1NoYXBlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoZGVjb2RlQmFzZTY0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiQW1vdW50QXJnU2hhcGVcIixbJGjNj19hID0+IChBbW91bnRBcmdTaGFwZSA9ICRozY9fYSldXSxbXCJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZVwiLFskaM2PX2EgPT4gKENvc21vc0NoYWluQWRkcmVzc1NoYXBlID0gJGjNj19hKV1dLFtcIkRlbGVnYXRpb25TaGFwZVwiLFskaM2PX2EgPT4gKERlbGVnYXRpb25TaGFwZSA9ICRozY9fYSldXSxbXCJEZW5vbUFtb3VudFNoYXBlXCIsWyRozY9fYSA9PiAoRGVub21BbW91bnRTaGFwZSA9ICRozY9fYSldXSxbXCJJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZVwiLFskaM2PX2EgPT4gKElCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlID0gJGjNj19hKV1dLFtcIlByb3RvM1NoYXBlXCIsWyRozY9fYSA9PiAoUHJvdG8zU2hhcGUgPSAkaM2PX2EpXV0sW1wiRXhlY3V0ZUlDQVR4T3B0c1NoYXBlXCIsWyRozY9fYSA9PiAoRXhlY3V0ZUlDQVR4T3B0c1NoYXBlID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvYW1vdW50cy5qc1wiLCBbW1wiY29lcmNlQ29pblwiLFskaM2PX2EgPT4gKGNvZXJjZUNvaW4gPSAkaM2PX2EpXV0sW1wiY29lcmNlRGVub21cIixbJGjNj19hID0+IChjb2VyY2VEZW5vbSA9ICRozY9fYSldXV1dLFtcIi4uL3V0aWxzL2Nvc21vcy5qc1wiLCBbW1wibWF4Q2xvY2tTa2V3XCIsWyRozY9fYSA9PiAobWF4Q2xvY2tTa2V3ID0gJGjNj19hKV1dLFtcInRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlXCIsWyRozY9fYSA9PiAodG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UgPSAkaM2PX2EpXV0sW1widG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzXCIsWyRozY9fYSA9PiAodG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzID0gJGjNj19hKV1dLFtcInRvRGVub21BbW91bnRcIixbJGjNj19hID0+ICh0b0Rlbm9tQW1vdW50ID0gJGjNj19hKV1dLFtcInRvVHJ1bmNhdGVkRGVub21BbW91bnRcIixbJGjNj19hID0+ICh0b1RydW5jYXRlZERlbm9tQW1vdW50ID0gJGjNj19hKV1dLFtcInRyeURlY29kZVJlc3BvbnNlXCIsWyRozY9fYSA9PiAodHJ5RGVjb2RlUmVzcG9uc2UgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9vcmNoZXN0cmF0aW9uQWNjb3VudC5qc1wiLCBbW1wib3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzXCIsWyRozY9fYSA9PiAob3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvdGltZS5qc1wiLCBbW1wibWFrZVRpbWVzdGFtcEhlbHBlclwiLFskaM2PX2EgPT4gKG1ha2VUaW1lc3RhbXBIZWxwZXIgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9hZGRyZXNzLmpzXCIsIFtbXCJhY2NvdW50SWRUbzMyQnl0ZXNcIixbJGjNj19hID0+IChhY2NvdW50SWRUbzMyQnl0ZXMgPSAkaM2PX2EpXV0sW1wicGFyc2VBY2NvdW50SWRcIixbJGjNj19hID0+IChwYXJzZUFjY291bnRJZCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCB0cmFjZSA9IG1ha2VUcmFjZXIoJ0Nvc21vc09yY2hBY2NvdW50Jyk7XG5cbmNvbnN0IHsgVm93JCB9ID0gTmV0d29ya1NoYXBlOyAvL1xuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBkZWNvZGVJY3FSZXN1bHQgPSAoY29kZWMsIHJlc3VsdCkgPT4ge1xuICB0cnkge1xuICAgIC8vXG4gICAgY29uc3QgYnl0ZXMgPSBkZWNvZGVCYXNlNjQocmVzdWx0LmtleSB8fCByZXN1bHQudmFsdWUpO1xuICAgIHJldHVybiBjb2RlYy5kZWNvZGUoYnl0ZXMpO1xuICB9IGNhdGNoIChjYXVzZSkge1xuICAgIHRocm93IG1ha2VFcnJvcihcbiAgICAgIGBGYWlsZWQgdG8gcGFyc2UgJHtjb2RlYy50eXBlVXJsfSBmcm9tIHJlc3VsdCAke3EocmVzdWx0KX1gLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgeyBjYXVzZSB9LFxuICAgICk7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3Qgc3Rha2luZ0FjY291bnRBY3Rpb25zTWV0aG9kcyA9IHtcbiAgZGVsZWdhdGU6IE0uY2FsbChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSwgQW1vdW50QXJnU2hhcGUpLnJldHVybnMoVm93U2hhcGUpLFxuICByZWRlbGVnYXRlOiBNLmNhbGwoXG4gICAgQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsXG4gICAgQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsXG4gICAgQW1vdW50QXJnU2hhcGUsXG4gICkucmV0dXJucyhWb3dTaGFwZSksXG4gIHVuZGVsZWdhdGU6IE0uY2FsbChNLmFycmF5T2YoRGVsZWdhdGlvblNoYXBlKSkucmV0dXJucyhWb3dTaGFwZSksXG4gIHdpdGhkcmF3UmV3YXJkOiBNLmNhbGwoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpLnJldHVybnMoXG4gICAgVm93JChNLmFycmF5T2YoRGVub21BbW91bnRTaGFwZSkpLFxuICApLFxuICB3aXRoZHJhd1Jld2FyZHM6IE0uY2FsbCgpLnJldHVybnMoVm93JChNLmFycmF5T2YoRGVub21BbW91bnRTaGFwZSkpKSxcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBzdGFraW5nQWNjb3VudFF1ZXJpZXNNZXRob2RzID0ge1xuICBnZXREZWxlZ2F0aW9uOiBNLmNhbGwoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpLnJldHVybnMoVm93U2hhcGUpLFxuICBnZXREZWxlZ2F0aW9uczogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gIGdldFVuYm9uZGluZ0RlbGVnYXRpb246IE0uY2FsbChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGdldFVuYm9uZGluZ0RlbGVnYXRpb25zOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgZ2V0UmVkZWxlZ2F0aW9uczogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gIGdldFJld2FyZDogTS5jYWxsKENvc21vc0NoYWluQWRkcmVzc1NoYXBlKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgZ2V0UmV3YXJkczogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3Qgbm9ibGVNZXRob2RzID0ge1xuICBkZXBvc2l0Rm9yQnVybjogTS5jYWxsKE0uc3RyaW5nKCksIEFtb3VudEFyZ1NoYXBlKVxuICAgIC5vcHRpb25hbChNLnN0cmluZygpKVxuICAgIC5yZXR1cm5zKFZvd1NoYXBlKSxcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBJY2FBY2NvdW50SG9sZGVySSA9IE0uaW50ZXJmYWNlKCdJY2FBY2NvdW50SG9sZGVyJywge1xuICAuLi5ub2JsZU1ldGhvZHMsXG4gIC4uLm9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyxcbiAgLi4uc3Rha2luZ0FjY291bnRBY3Rpb25zTWV0aG9kcyxcbiAgLi4uc3Rha2luZ0FjY291bnRRdWVyaWVzTWV0aG9kcyxcbiAgZGVhY3RpdmF0ZTogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gIHJlYWN0aXZhdGU6IE0uY2FsbCgpLnJldHVybnMoVm93U2hhcGUpLFxuICBleGVjdXRlRW5jb2RlZFR4OiBNLmNhbGwoTS5hcnJheU9mKFByb3RvM1NoYXBlKSlcbiAgICAub3B0aW9uYWwoRXhlY3V0ZUlDQVR4T3B0c1NoYXBlKVxuICAgIC5yZXR1cm5zKFZvd1NoYXBlKSxcbn0pO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5JY2FBY2NvdW50SG9sZGVySShJY2FBY2NvdW50SG9sZGVySSk7XG5jb25zdCBQVUJMSUNfVE9QSUNTID0ge1xuICBhY2NvdW50OiBbJ1N0YWtpbmcgQWNjb3VudCBob2xkZXIgc3RhdHVzJywgTS5hbnkoKV0sXG59O1xuXG4gICAgICAgY29uc3QgQ29zbW9zT3JjaGVzdHJhdGlvbkludml0YXRpb25NYWtlcnNJID0gTS5pbnRlcmZhY2UoXG4gICdpbnZpdGF0aW9uTWFrZXJzJyxcbiAge1xuICAgIERlbGVnYXRlOiBNLmNhbGwoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsIEFtb3VudEFyZ1NoYXBlKS5yZXR1cm5zKFxuICAgICAgTS5wcm9taXNlKCksXG4gICAgKSxcbiAgICBSZWRlbGVnYXRlOiBNLmNhbGwoXG4gICAgICBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICAgIENvc21vc0NoYWluQWRkcmVzc1NoYXBlLFxuICAgICAgQW1vdW50QXJnU2hhcGUsXG4gICAgKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBXaXRoZHJhd1Jld2FyZDogTS5jYWxsKENvc21vc0NoYWluQWRkcmVzc1NoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBVbmRlbGVnYXRlOiBNLmNhbGwoTS5hcnJheU9mKERlbGVnYXRpb25TaGFwZSkpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIERlYWN0aXZhdGVBY2NvdW50OiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBSZWFjdGl2YXRlQWNjb3VudDogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgVHJhbnNmZXJBY2NvdW50OiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBTZW5kOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBTZW5kQWxsOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBUcmFuc2ZlcjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIH0sXG4pOyRozY9fb25jZS5Db3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0koQ29zbW9zT3JjaGVzdHJhdGlvbkludml0YXRpb25NYWtlcnNJKTtcbmhhcmRlbihDb3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0kpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnRLaXQgPSAoXG4gIHpvbmUsXG4gIHtcbiAgICBjaGFpbkh1YixcbiAgICBtYWtlUmVjb3JkZXJLaXQsXG4gICAgdGltZXJTZXJ2aWNlLFxuICAgIHZvd1Rvb2xzOiB7IHdhdGNoLCBhc1Zvdywgd2hlbiwgYWxsVm93cyB9LFxuICAgIHpjZixcbiAgfSxcbikgPT4ge1xuICBjb25zdCB0aW1lc3RhbXBIZWxwZXIgPSBtYWtlVGltZXN0YW1wSGVscGVyKHRpbWVyU2VydmljZSk7XG4gIGNvbnN0IG1ha2VDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ0Nvc21vcyBPcmNoZXN0cmF0aW9uIEFjY291bnQgSG9sZGVyJyxcbiAgICB7XG4gICAgICBoZWxwZXI6IE0uaW50ZXJmYWNlKCdoZWxwZXInLCB7XG4gICAgICAgIG93bmVkOiBNLmNhbGwoKS5yZXR1cm5zKE0ucmVtb3RhYmxlKCkpLFxuICAgICAgICBnZXRVcGRhdGVyOiBNLmNhbGwoKS5yZXR1cm5zKE0ucmVtb3RhYmxlKCkpLFxuICAgICAgICBhbW91bnRUb0NvaW46IE0uY2FsbChBbW91bnRBcmdTaGFwZSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgIH0pLFxuICAgICAgcmV0dXJuVm9pZFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdyZXR1cm5Wb2lkV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpXG4gICAgICAgICAgLnJldHVybnMoTS51bmRlZmluZWQoKSksXG4gICAgICB9KSxcbiAgICAgIGJhbGFuY2VRdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdiYWxhbmNlUXVlcnlXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKSAvL1xuICAgICAgICAgIC5yZXR1cm5zKE0ub3IoTS5yZWNvcmQoKSwgTS51bmRlZmluZWQoKSkpLFxuICAgICAgfSksXG4gICAgICBhbGxCYWxhbmNlc1F1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ2FsbEJhbGFuY2VzUXVlcnlXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhcbiAgICAgICAgICBNLmFycmF5T2YoTS5yZWNvcmQoKSksXG4gICAgICAgICksXG4gICAgICB9KSxcbiAgICAgIHVuZGVsZWdhdGVXYXRjaGVyOiBNLmludGVyZmFjZSgndW5kZWxlZ2F0ZVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5zdHJpbmcoKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKSAvL1xuICAgICAgICAgIC5yZXR1cm5zKFZvdyQoTS5wcm9taXNlKCkpKSxcbiAgICAgIH0pLFxuICAgICAgd2l0aGRyYXdSZXdhcmRXYXRjaGVyOiBNLmludGVyZmFjZSgnd2l0aGRyYXdSZXdhcmRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uc3RyaW5nKCkpXG4gICAgICAgICAgLm9wdGlvbmFsKE0uYXJyYXlPZihNLnVuZGVmaW5lZCgpKSkgLy9cbiAgICAgICAgICAucmV0dXJucyhNLmFycmF5T2YoRGVub21BbW91bnRTaGFwZSkpLFxuICAgICAgfSksXG4gICAgICB0cmFuc2ZlcldhdGNoZXI6IE0uaW50ZXJmYWNlKCd0cmFuc2ZlcldhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoW00ucmVjb3JkKCksIE0ubmF0KCldKVxuICAgICAgICAgIC5vcHRpb25hbCh7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsXG4gICAgICAgICAgICBvcHRzOiBNLm9yKE0udW5kZWZpbmVkKCksIElCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlKSxcbiAgICAgICAgICAgIHRva2VuOiB7XG4gICAgICAgICAgICAgIGRlbm9tOiBNLnN0cmluZygpLFxuICAgICAgICAgICAgICBhbW91bnQ6IE0uc3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnJldHVybnMoVm93JChNLnJlY29yZCgpKSksXG4gICAgICB9KSxcbiAgICAgIGRlbGVnYXRpb25RdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdkZWxlZ2F0aW9uUXVlcnlXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgIH0pLFxuICAgICAgZGVsZWdhdGlvbnNRdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdkZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFycmF5T2YoTS5yZWNvcmQoKSkpLnJldHVybnMoXG4gICAgICAgICAgTS5hcnJheU9mKE0ucmVjb3JkKCkpLFxuICAgICAgICApLFxuICAgICAgfSksXG4gICAgICB1bmJvbmRpbmdEZWxlZ2F0aW9uUXVlcnlXYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ3VuYm9uZGluZ0RlbGVnYXRpb25RdWVyeVdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFycmF5T2YoTS5yZWNvcmQoKSkpLnJldHVybnMoTS5yZWNvcmQoKSksXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgdW5ib25kaW5nRGVsZWdhdGlvbnNRdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAndW5ib25kaW5nRGVsZWdhdGlvbnNRdWVyeVdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFycmF5T2YoTS5yZWNvcmQoKSkpLnJldHVybnMoXG4gICAgICAgICAgICBNLmFycmF5T2YoTS5yZWNvcmQoKSksXG4gICAgICAgICAgKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICByZWRlbGVnYXRpb25RdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdyZWRlbGVnYXRpb25RdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKS5yZXR1cm5zKFxuICAgICAgICAgIE0uYXJyYXlPZihNLnJlY29yZCgpKSxcbiAgICAgICAgKSxcbiAgICAgIH0pLFxuICAgICAgcmVkZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3JlZGVsZWdhdGlvbnNRdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKS5yZXR1cm5zKFxuICAgICAgICAgIE0uYXJyYXlPZihNLnJlY29yZCgpKSxcbiAgICAgICAgKSxcbiAgICAgIH0pLFxuICAgICAgcmV3YXJkUXVlcnlXYXRjaGVyOiBNLmludGVyZmFjZSgncmV3YXJkUXVlcnlXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhcbiAgICAgICAgICBNLmFycmF5T2YoTS5yZWNvcmQoKSksXG4gICAgICAgICksXG4gICAgICB9KSxcbiAgICAgIHJld2FyZHNRdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdyZXdhcmRzUXVlcnlXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgIH0pLFxuICAgICAgaG9sZGVyOiBJY2FBY2NvdW50SG9sZGVySSxcbiAgICAgIGludml0YXRpb25NYWtlcnM6IENvc21vc09yY2hlc3RyYXRpb25JbnZpdGF0aW9uTWFrZXJzSSxcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICAoeyBjaGFpbkFkZHJlc3MsIGxvY2FsQWRkcmVzcywgcmVtb3RlQWRkcmVzcyB9LCBpbykgPT4ge1xuICAgICAgdHJhY2UoJ2Nvc21vcyBvcmNoIGFjY3QgaW5pdCcsIHtcbiAgICAgICAgY2hhaW5BZGRyZXNzLFxuICAgICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHsgc3RvcmFnZU5vZGUgfSA9IGlvO1xuICAgICAgLy9cbiAgICAgIGNvbnN0IHRvcGljS2l0ID0gc3RvcmFnZU5vZGVcbiAgICAgICAgPyBtYWtlUmVjb3JkZXJLaXQoc3RvcmFnZU5vZGUsIFBVQkxJQ19UT1BJQ1MuYWNjb3VudFsxXSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKHRvcGljS2l0KSB7XG4gICAgICAgIHZvaWQgRSh0b3BpY0tpdC5yZWNvcmRlcikud3JpdGUoXG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHtcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGFjY291bnQsIGljcUNvbm5lY3Rpb24sIHRpbWVyIH0gPSBpbztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGNoYWluQWRkcmVzcyxcbiAgICAgICAgaWNxQ29ubmVjdGlvbixcbiAgICAgICAgbG9jYWxBZGRyZXNzLFxuICAgICAgICByZW1vdGVBZGRyZXNzLFxuICAgICAgICB0aW1lcixcbiAgICAgICAgdG9waWNLaXQsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgaGVscGVyOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIG93bmVkKCkge1xuICAgICAgICAgIGNvbnN0IHsgYWNjb3VudCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgVXNpbmcgYWNjb3VudCBob2xkZXIgYWZ0ZXIgdHJhbnNmZXJgO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWNjb3VudDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VXBkYXRlcigpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUudG9waWNLaXQpIHRocm93IEZhaWxgbm8gdG9waWNLaXRgO1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnRvcGljS2l0LnJlY29yZGVyO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGFtb3VudFRvQ29pbihhbW91bnQpIHtcbiAgICAgICAgICAhKCdicmFuZCcgaW4gYW1vdW50KSB8fFxuICAgICAgICAgICAgRmFpbGAnYW1vdW50VG9Db2luJyBub3Qgd29ya2luZyBmb3IgJHtxKGFtb3VudC5icmFuZCl9IHVudGlsICMxMDQ0OTsgdXNlICdEZW5vbUFtb3VudCcgZm9yIG5vd2A7XG4gICAgICAgICAgcmV0dXJuIGNvZXJjZUNvaW4oY2hhaW5IdWIsIGFtb3VudCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmFsYW5jZVF1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGNvbnN0IHsgYmFsYW5jZSB9ID0gZGVjb2RlSWNxUmVzdWx0KFF1ZXJ5QmFsYW5jZVJlc3BvbnNlLCByZXN1bHQpO1xuICAgICAgICAgIGlmICghYmFsYW5jZSkgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIGJhbGFuY2Uga2V5OiAke3Jlc3VsdH1gO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4odG9EZW5vbUFtb3VudChiYWxhbmNlKSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtyZXN1bHRdKSB7XG4gICAgICAgICAgY29uc3QgeyBkZWxlZ2F0aW9uUmVzcG9uc2UgfSA9IGRlY29kZUljcVJlc3VsdChcbiAgICAgICAgICAgIFF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFkZWxlZ2F0aW9uUmVzcG9uc2UpXG4gICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgZGVsZWdhdGlvblJlc3BvbnNlIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKFxuICAgICAgICAgICAgdG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UoY2hhaW5BZGRyZXNzLCBkZWxlZ2F0aW9uUmVzcG9uc2UpLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZGVsZWdhdGlvbnNRdWVyeVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGNvbnN0IHsgZGVsZWdhdGlvblJlc3BvbnNlcyB9ID0gZGVjb2RlSWNxUmVzdWx0KFxuICAgICAgICAgICAgUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFkZWxlZ2F0aW9uUmVzcG9uc2VzKVxuICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIGRlbGVnYXRpb25SZXNwb25zZXMga2V5OiAke3Jlc3VsdH1gO1xuICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oXG4gICAgICAgICAgICBkZWxlZ2F0aW9uUmVzcG9uc2VzLm1hcChyID0+XG4gICAgICAgICAgICAgIHRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlKGNoYWluQWRkcmVzcywgciksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdW5ib25kaW5nRGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGNvbnN0IHsgdW5ib25kIH0gPSBkZWNvZGVJY3FSZXN1bHQoXG4gICAgICAgICAgICBRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZSxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghdW5ib25kKSB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgdW5ib25kIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHVuYm9uZCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdW5ib25kaW5nRGVsZWdhdGlvbnNRdWVyeVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoW3Jlc3VsdF0pIHtcbiAgICAgICAgICBjb25zdCB7IHVuYm9uZGluZ1Jlc3BvbnNlcyB9ID0gZGVjb2RlSWNxUmVzdWx0KFxuICAgICAgICAgICAgUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCF1bmJvbmRpbmdSZXNwb25zZXMpXG4gICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgdW5ib25kaW5nUmVzcG9uc2VzIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHVuYm9uZGluZ1Jlc3BvbnNlcyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVkZWxlZ2F0aW9uUXVlcnlXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtyZXN1bHRdKSB7XG4gICAgICAgICAgY29uc3QgeyByZWRlbGVnYXRpb25SZXNwb25zZXMgfSA9IGRlY29kZUljcVJlc3VsdChcbiAgICAgICAgICAgIFF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyZWRlbGVnYXRpb25SZXNwb25zZXMpXG4gICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgcmVkZWxlZ2F0aW9uUmVzcG9uc2VzIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHJlZGVsZWdhdGlvblJlc3BvbnNlcyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVkZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGNvbnN0IHsgcmVkZWxlZ2F0aW9uUmVzcG9uc2VzIH0gPSBkZWNvZGVJY3FSZXN1bHQoXG4gICAgICAgICAgICBRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZSxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcmVkZWxlZ2F0aW9uUmVzcG9uc2VzKVxuICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIHJlZGVsZWdhdGlvblJlc3BvbnNlcyBrZXk6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbihyZWRlbGVnYXRpb25SZXNwb25zZXMpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJld2FyZFF1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGNvbnN0IHsgcmV3YXJkcyB9ID0gZGVjb2RlSWNxUmVzdWx0KFxuICAgICAgICAgICAgUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyZXdhcmRzKSB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgcmV3YXJkcyBrZXk6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbihyZXdhcmRzLm1hcCh0b1RydW5jYXRlZERlbm9tQW1vdW50KSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmV3YXJkc1F1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtyZXN1bHRdKSB7XG4gICAgICAgICAgY29uc3QgeyByZXdhcmRzLCB0b3RhbCB9ID0gZGVjb2RlSWNxUmVzdWx0KFxuICAgICAgICAgICAgUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVzcG9uc2UsXG4gICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXJld2FyZHMgfHwgIXRvdGFsKVxuICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIHJld2FyZHMgb3IgdG90YWwga2V5OiAke3Jlc3VsdH1gO1xuICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgICAgcmV3YXJkczogcmV3YXJkcy5tYXAocmV3YXJkID0+ICh7XG4gICAgICAgICAgICAgIHZhbGlkYXRvcjogdG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzKHJld2FyZCwgY2hhaW5BZGRyZXNzLmNoYWluSWQpLFxuICAgICAgICAgICAgICByZXdhcmQ6IHJld2FyZC5yZXdhcmQubWFwKHRvVHJ1bmNhdGVkRGVub21BbW91bnQpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgdG90YWw6IHRvdGFsLm1hcCh0b1RydW5jYXRlZERlbm9tQW1vdW50KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBhbGxCYWxhbmNlc1F1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGNvbnN0IHsgYmFsYW5jZXMgfSA9IGRlY29kZUljcVJlc3VsdChcbiAgICAgICAgICAgIFF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghYmFsYW5jZXMpIHRocm93IEZhaWxgUmVzdWx0IGxhY2tlZCBiYWxhbmNlcyBrZXk6ICR7cShyZXN1bHQpfWA7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbihiYWxhbmNlcy5tYXAoY29pbiA9PiB0b0Rlbm9tQW1vdW50KGNvaW4pKSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdW5kZWxlZ2F0ZVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQocmVzdWx0KSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB0cnlEZWNvZGVSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgIE1zZ1VuZGVsZWdhdGVSZXNwb25zZS5mcm9tUHJvdG9Nc2csXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFjZSgndW5kZWxlZ2F0ZSByZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgICBjb25zdCB7IGNvbXBsZXRpb25UaW1lIH0gPSByZXNwb25zZTtcbiAgICAgICAgICBjb21wbGV0aW9uVGltZSB8fCBGYWlsYE5vIGNvbXBsZXRpb24gdGltZSByZXN1bHQgJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgRSh0aGlzLnN0YXRlLnRpbWVyKS53YWtlQXQoY29tcGxldGlvblRpbWUuc2Vjb25kcyArIG1heENsb2NrU2tldyksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuVm9pZFdhdGNoZXI6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICB0cmFjZSgnUmVzdWx0JywgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdpdGhkcmF3UmV3YXJkV2F0Y2hlcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHRyeURlY29kZVJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZS5mcm9tUHJvdG9Nc2csXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFjZSgnd2l0aGRyYXdSZXdhcmQgcmVzcG9uc2UnLCByZXNwb25zZSk7XG4gICAgICAgICAgY29uc3QgeyBhbW91bnQ6IGNvaW5zIH0gPSByZXNwb25zZTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKGNvaW5zLm1hcCh0b0Rlbm9tQW1vdW50KSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdHJhbnNmZXJXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChcbiAgICAgICAgICBbeyB0cmFuc2ZlckNoYW5uZWwgfSwgdGltZW91dFRpbWVzdGFtcF0sXG4gICAgICAgICAgeyBvcHRzLCB0b2tlbiwgZGVzdGluYXRpb24gfSxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUodGhpcy5mYWNldHMuaGVscGVyLm93bmVkKCkpLmV4ZWN1dGVFbmNvZGVkVHgoW1xuICAgICAgICAgICAgQW55LnRvSlNPTihcbiAgICAgICAgICAgICAgTXNnVHJhbnNmZXIudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgc291cmNlUG9ydDogdHJhbnNmZXJDaGFubmVsLnBvcnRJZCxcbiAgICAgICAgICAgICAgICBzb3VyY2VDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWwuY2hhbm5lbElkLFxuICAgICAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5zdGF0ZS5jaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZXI6IGRlc3RpbmF0aW9uLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRpbWVvdXRIZWlnaHQ6IG9wdHM/LnRpbWVvdXRIZWlnaHQgPz8ge1xuICAgICAgICAgICAgICAgICAgcmV2aXNpb25IZWlnaHQ6IDBuLFxuICAgICAgICAgICAgICAgICAgcmV2aXNpb25OdW1iZXI6IDBuLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGltZW91dFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBtZW1vOiBvcHRzPy5tZW1vID8/ICcnLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXSk7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbnZpdGF0aW9uTWFrZXJzOiB7XG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgRGVsZWdhdGUodmFsaWRhdG9yLCBhbW91bnQpIHtcbiAgICAgICAgICB0cmFjZSgnRGVsZWdhdGUnLCB2YWxpZGF0b3IsIGFtb3VudCk7XG5cbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKHNlYXQgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2godGhpcy5mYWNldHMuaG9sZGVyLmRlbGVnYXRlKHZhbGlkYXRvciwgYW1vdW50KSk7XG4gICAgICAgICAgfSwgJ0RlbGVnYXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBSZWRlbGVnYXRlKHNyY1ZhbGlkYXRvciwgZHN0VmFsaWRhdG9yLCBhbW91bnQpIHtcbiAgICAgICAgICB0cmFjZSgnUmVkZWxlZ2F0ZScsIHNyY1ZhbGlkYXRvciwgZHN0VmFsaWRhdG9yLCBhbW91bnQpO1xuXG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihzZWF0ID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5ob2xkZXIucmVkZWxlZ2F0ZShzcmNWYWxpZGF0b3IsIGRzdFZhbGlkYXRvciwgYW1vdW50KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgJ1JlZGVsZWdhdGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIFdpdGhkcmF3UmV3YXJkKHZhbGlkYXRvcikge1xuICAgICAgICAgIHRyYWNlKCdXaXRoZHJhd1Jld2FyZCcsIHZhbGlkYXRvcik7XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihzZWF0ID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci53aXRoZHJhd1Jld2FyZCh2YWxpZGF0b3IpKTtcbiAgICAgICAgICB9LCAnV2l0aGRyYXdSZXdhcmQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgVW5kZWxlZ2F0ZShkZWxlZ2F0aW9ucykge1xuICAgICAgICAgIHRyYWNlKCdVbmRlbGVnYXRlJywgZGVsZWdhdGlvbnMpO1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oc2VhdCA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIudW5kZWxlZ2F0ZShkZWxlZ2F0aW9ucykpO1xuICAgICAgICAgIH0sICdVbmRlbGVnYXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIERlYWN0aXZhdGVBY2NvdW50KCkge1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oc2VhdCA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIuZGVhY3RpdmF0ZSgpKTtcbiAgICAgICAgICB9LCAnRGVhY3RpdmF0ZUFjY291bnQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3RpdmF0ZUFjY291bnQoKSB7XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihzZWF0ID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci5yZWFjdGl2YXRlKCkpO1xuICAgICAgICAgIH0sICdSZWFjdGl2YXRlQWNjb3VudCcpO1xuICAgICAgICB9LFxuICAgICAgICBTZW5kKCkge1xuICAgICAgICAgIC8qXG5cblxuXG5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBvZmZlckhhbmRsZXIgPSAoc2VhdCwgeyB0b0FjY291bnQsIGFtb3VudCB9KSA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIuc2VuZCh0b0FjY291bnQsIGFtb3VudCkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihvZmZlckhhbmRsZXIsICdTZW5kJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFNlbmRBbGwoKSB7XG4gICAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG9mZmVySGFuZGxlciA9IChzZWF0LCB7IHRvQWNjb3VudCwgYW1vdW50cyB9KSA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIuc2VuZEFsbCh0b0FjY291bnQsIGFtb3VudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24ob2ZmZXJIYW5kbGVyLCAnU2VuZEFsbCcpO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmZXJBY2NvdW50KCkge1xuICAgICAgICAgIHRocm93IEVycm9yKCdub3QgeWV0IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFRyYW5zZmVyKCkge1xuICAgICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG9mZmVySGFuZGxlciA9IChzZWF0LCB7IGFtb3VudCwgZGVzdGluYXRpb24sIG9wdHMgfSkgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLmhvbGRlci50cmFuc2ZlcihkZXN0aW5hdGlvbiwgYW1vdW50LCBvcHRzKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKG9mZmVySGFuZGxlciwgJ1RyYW5zZmVyJyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaG9sZGVyOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgYXNDb250aW51aW5nT2ZmZXIoKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGFzVm93KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IGhvbGRlciwgaW52aXRhdGlvbk1ha2VyczogaW0gfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IGludml0YXRpb25NYWtlcnMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAqLyAoaW0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgcHVibGljU3Vic2NyaWJlcnM6IGF3YWl0IHdoZW4oaG9sZGVyLmdldFB1YmxpY1RvcGljcygpKSxcbiAgICAgICAgICAgICAgaW52aXRhdGlvbk1ha2VycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRQdWJsaWNUb3BpY3MoKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBhc1Zvdyhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBudWxsO1xuICAgICAgICAgICAgY29uc3QgeyB0b3BpY0tpdCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghdG9waWNLaXQpIHRocm93IEZhaWxgTm8gdG9waWNLaXQ7IHN0b3JhZ2VOb2RlIG5vdCBwcm92aWRlZGA7XG4gICAgICAgICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgICAgICAgYWNjb3VudDoge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBQVUJMSUNfVE9QSUNTLmFjY291bnRbMF0sXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcjogdG9waWNLaXQuc3Vic2NyaWJlcixcbiAgICAgICAgICAgICAgICBzdG9yYWdlUGF0aDogYXdhaXQgdG9waWNLaXQucmVjb3JkZXIuZ2V0U3RvcmFnZVBhdGgoKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRBZGRyZXNzKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmNoYWluQWRkcmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZGVsZWdhdGUodmFsaWRhdG9yLCBhbW91bnQpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ2RlbGVnYXRlJywgdmFsaWRhdG9yLCBhbW91bnQpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAgIGNvbnN0IGFtb3VudEFzQ29pbiA9IGhlbHBlci5hbW91bnRUb0NvaW4oYW1vdW50KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoaGVscGVyLm93bmVkKCkpLmV4ZWN1dGVFbmNvZGVkVHgoW1xuICAgICAgICAgICAgICBBbnkudG9KU09OKFxuICAgICAgICAgICAgICAgIE1zZ0RlbGVnYXRlLnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcmVzczogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yQWRkcmVzczogdmFsaWRhdG9yLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnRBc0NvaW4sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRzLCB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICByZWRlbGVnYXRlKHNyY1ZhbGlkYXRvciwgZHN0VmFsaWRhdG9yLCBhbW91bnQpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ3JlZGVsZWdhdGUnLCBzcmNWYWxpZGF0b3IsIGRzdFZhbGlkYXRvciwgYW1vdW50KTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShoZWxwZXIub3duZWQoKSkuZXhlY3V0ZUVuY29kZWRUeChbXG4gICAgICAgICAgICAgIEFueS50b0pTT04oXG4gICAgICAgICAgICAgICAgTXNnQmVnaW5SZWRlbGVnYXRlLnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcmVzczogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yU3JjQWRkcmVzczogc3JjVmFsaWRhdG9yLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yRHN0QWRkcmVzczogZHN0VmFsaWRhdG9yLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgYW1vdW50OiBoZWxwZXIuYW1vdW50VG9Db2luKGFtb3VudCksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICByZXN1bHRzLFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHdpdGhkcmF3UmV3YXJkKHZhbGlkYXRvcikge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnd2l0aGRyYXdSZXdhcmQnLCB2YWxpZGF0b3IpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcmVzczogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzOiB2YWxpZGF0b3IudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBoZWxwZXIub3duZWQoKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoYWNjb3VudCkuZXhlY3V0ZUVuY29kZWRUeChbQW55LnRvSlNPTihtc2cpXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMud2l0aGRyYXdSZXdhcmRXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldEJhbGFuY2UoZGVub20pIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MsIGljcUNvbm5lY3Rpb24gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBRdWVyaWVzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7cShjaGFpbkFkZHJlc3MuY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBFKGljcUNvbm5lY3Rpb24pLnF1ZXJ5KFtcbiAgICAgICAgICAgICAgdG9SZXF1ZXN0UXVlcnlKc29uKFxuICAgICAgICAgICAgICAgIFF1ZXJ5QmFsYW5jZVJlcXVlc3QudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBhZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICBkZW5vbTogY29lcmNlRGVub20oY2hhaW5IdWIsIGRlbm9tKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLmJhbGFuY2VRdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0QmFsYW5jZXMoKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLmFsbEJhbGFuY2VzUXVlcnlXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgc2VuZCh0b0FjY291bnQsIGFtb3VudCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnc2VuZCcsIHRvQWNjb3VudCwgYW1vdW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNvc21vc0Rlc3QgPSBjaGFpbkh1Yi5jb2VyY2VDb3Ntb3NBZGRyZXNzKHRvQWNjb3VudCk7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGNvc21vc0Rlc3QuY2hhaW5JZCA9PT0gY2hhaW5BZGRyZXNzLmNoYWluSWQgfHxcbiAgICAgICAgICAgICAgRmFpbGBiYW5rL3NlbmQgY2Fubm90IHNlbmQgdG8gYSBkaWZmZXJlbnQgY2hhaW4gJHtxKGNvc21vc0Rlc3QuY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgRShoZWxwZXIub3duZWQoKSkuZXhlY3V0ZUVuY29kZWRUeChbXG4gICAgICAgICAgICAgICAgQW55LnRvSlNPTihcbiAgICAgICAgICAgICAgICAgIE1zZ1NlbmQudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICAgIGZyb21BZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRvQWRkcmVzczogY29zbW9zRGVzdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBbaGVscGVyLmFtb3VudFRvQ29pbihhbW91bnQpXSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHNlbmRBbGwodG9BY2NvdW50LCBhbW91bnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdzZW5kQWxsJywgdG9BY2NvdW50LCBhbW91bnRzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICBFKGhlbHBlci5vd25lZCgpKS5leGVjdXRlRW5jb2RlZFR4KFtcbiAgICAgICAgICAgICAgICBBbnkudG9KU09OKFxuICAgICAgICAgICAgICAgICAgTXNnU2VuZC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUFkZHJlc3M6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdG9BZGRyZXNzOiB0b0FjY291bnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50cy5tYXAoeCA9PiBoZWxwZXIuYW1vdW50VG9Db2luKHgpKSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICB0cmFuc2ZlcihkZXN0aW5hdGlvbiwgYW1vdW50LCBvcHRzKSB7XG4gICAgICAgICAgdHJhY2UoJ3RyYW5zZmVyJywgZGVzdGluYXRpb24sIGFtb3VudCwgb3B0cyk7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgY29uc3QgY29zbW9zRGVzdCA9IGNoYWluSHViLmNvZXJjZUNvc21vc0FkZHJlc3MoZGVzdGluYXRpb24pO1xuXG4gICAgICAgICAgICBjb25zdCB7IGhlbHBlciB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGhlbHBlci5hbW91bnRUb0NvaW4oYW1vdW50KTtcblxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbkluZm9WID0gd2F0Y2goXG4gICAgICAgICAgICAgIGNoYWluSHViLmdldENvbm5lY3Rpb25JbmZvKFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2hhaW5BZGRyZXNzLmNoYWluSWQsXG4gICAgICAgICAgICAgICAgY29zbW9zRGVzdC5jaGFpbklkLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgYWxsVm93cyhbXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbkluZm9WLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcEhlbHBlci52b3dPclZhbHVlRnJvbU9wdHMob3B0cyksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy50cmFuc2ZlcldhdGNoZXIsXG4gICAgICAgICAgICAgIHsgb3B0cywgdG9rZW4sIGRlc3RpbmF0aW9uOiBjb3Ntb3NEZXN0IH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICB0cmFuc2ZlclN0ZXBzKGFtb3VudCwgbXNnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3RyYW5zZmVyU3RlcHMgZ290JywgYW1vdW50LCBtc2cpO1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiBGYWlsYG5vdCB5ZXQgaW1wbGVtZW50ZWRgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgd2l0aGRyYXdSZXdhcmRzKCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiBGYWlsYE5vdCBJbXBsZW1lbnRlZC4gVHJ5IHVzaW5nIHdpdGhkcmF3UmV3YXJkLmApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgdW5kZWxlZ2F0ZShkZWxlZ2F0aW9ucykge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgndW5kZWxlZ2F0ZScsIGRlbGVnYXRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgICBkZWxlZ2F0aW9ucy5ldmVyeShkID0+XG4gICAgICAgICAgICAgIGQuZGVsZWdhdG9yID8gZC5kZWxlZ2F0b3IudmFsdWUgPT09IGNoYWluQWRkcmVzcy52YWx1ZSA6IHRydWUsXG4gICAgICAgICAgICApIHx8IEZhaWxgU29tZSBkZWxlZ2F0aW9uIHJlY29yZCBpcyBmb3IgYW5vdGhlciBkZWxlZ2F0b3JgO1xuXG4gICAgICAgICAgICBjb25zdCB1bmRlbGVnYXRlViA9IHdhdGNoKFxuICAgICAgICAgICAgICBFKGhlbHBlci5vd25lZCgpKS5leGVjdXRlRW5jb2RlZFR4KFxuICAgICAgICAgICAgICAgIGRlbGVnYXRpb25zLm1hcCgoeyB2YWxpZGF0b3IsIGFtb3VudCB9KSA9PlxuICAgICAgICAgICAgICAgICAgQW55LnRvSlNPTihcbiAgICAgICAgICAgICAgICAgICAgTXNnVW5kZWxlZ2F0ZS50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yQWRkcmVzczogdmFsaWRhdG9yLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogY29lcmNlQ29pbihjaGFpbkh1YiwgYW1vdW50KSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnVuZGVsZWdhdGVXYXRjaGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh1bmRlbGVnYXRlViwgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB3YXRjaChFKHRoaXMuZmFjZXRzLmhlbHBlci5vd25lZCgpKS5kZWFjdGl2YXRlKCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgcmVhY3RpdmF0ZSgpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4gd2F0Y2goRSh0aGlzLmZhY2V0cy5oZWxwZXIub3duZWQoKSkucmVhY3RpdmF0ZSgpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGVsZWdhdGlvbih2YWxpZGF0b3IpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0RGVsZWdhdGlvbicsIHZhbGlkYXRvcik7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcywgaWNxQ29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghaWNxQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFF1ZXJpZXMgbm90IGF2YWlsYWJsZSBmb3IgY2hhaW4gJHtxKGNoYWluQWRkcmVzcy5jaGFpbklkKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoaWNxQ29ubmVjdGlvbikucXVlcnkoW1xuICAgICAgICAgICAgICB0b1JlcXVlc3RRdWVyeUpzb24oXG4gICAgICAgICAgICAgICAgUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHI6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRvckFkZHI6IHZhbGlkYXRvci52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLmRlbGVnYXRpb25RdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXREZWxlZ2F0aW9ucygpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0RGVsZWdhdGlvbnMnKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHI6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLmRlbGVnYXRpb25zUXVlcnlXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRVbmJvbmRpbmdEZWxlZ2F0aW9uKHZhbGlkYXRvcikge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0VW5ib25kaW5nRGVsZWdhdGlvbicsIHZhbGlkYXRvcik7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcywgaWNxQ29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghaWNxQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFF1ZXJpZXMgbm90IGF2YWlsYWJsZSBmb3IgY2hhaW4gJHtxKGNoYWluQWRkcmVzcy5jaGFpbklkKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoaWNxQ29ubmVjdGlvbikucXVlcnkoW1xuICAgICAgICAgICAgICB0b1JlcXVlc3RRdWVyeUpzb24oXG4gICAgICAgICAgICAgICAgUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHI6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRvckFkZHI6IHZhbGlkYXRvci52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLnVuYm9uZGluZ0RlbGVnYXRpb25RdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRVbmJvbmRpbmdEZWxlZ2F0aW9ucygpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ2dldFVuYm9uZGluZ0RlbGVnYXRpb25zJyk7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcywgaWNxQ29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghaWNxQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFF1ZXJpZXMgbm90IGF2YWlsYWJsZSBmb3IgY2hhaW4gJHtxKGNoYWluQWRkcmVzcy5jaGFpbklkKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoaWNxQ29ubmVjdGlvbikucXVlcnkoW1xuICAgICAgICAgICAgICB0b1JlcXVlc3RRdWVyeUpzb24oXG4gICAgICAgICAgICAgICAgUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRzLCB0aGlzLmZhY2V0cy51bmJvbmRpbmdEZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVkZWxlZ2F0aW9ucygpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ2dldFJlZGVsZWdhdGlvbnMnKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0LnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcjogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgIGRzdFZhbGlkYXRvckFkZHI6ICcnLFxuICAgICAgICAgICAgICAgICAgc3JjVmFsaWRhdG9yQWRkcjogJycsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRzLCB0aGlzLmZhY2V0cy5yZWRlbGVnYXRpb25zUXVlcnlXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldFJld2FyZCh2YWxpZGF0b3IpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ2dldFJld2FyZCcsIHZhbGlkYXRvcik7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcywgaWNxQ29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghaWNxQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFF1ZXJpZXMgbm90IGF2YWlsYWJsZSBmb3IgY2hhaW4gJHtxKGNoYWluQWRkcmVzcy5jaGFpbklkKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoaWNxQ29ubmVjdGlvbikucXVlcnkoW1xuICAgICAgICAgICAgICB0b1JlcXVlc3RRdWVyeUpzb24oXG4gICAgICAgICAgICAgICAgUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1JlcXVlc3QudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzOiB2YWxpZGF0b3IudmFsdWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRzLCB0aGlzLmZhY2V0cy5yZXdhcmRRdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldFJld2FyZHMoKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ2dldFJld2FyZHMnKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0LnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcmVzczogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMucmV3YXJkc1F1ZXJ5V2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGV4ZWN1dGVFbmNvZGVkVHgobXNncywgb3B0cykge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PlxuICAgICAgICAgICAgd2F0Y2goRSh0aGlzLmZhY2V0cy5oZWxwZXIub3duZWQoKSkuZXhlY3V0ZUVuY29kZWRUeChtc2dzLCBvcHRzKSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgZGVwb3NpdEZvckJ1cm4oZGVzdGluYXRpb24sIGFtb3VudCwgY2FsbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdkZXBvc2l0Rm9yQnVybicsIHsgZGVzdGluYXRpb24sIGFtb3VudCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgICBjb25zdCBkZXN0UGFydHMgPSBwYXJzZUFjY291bnRJZChkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgY2hhaW5JZCA9IGAke2Rlc3RQYXJ0cy5uYW1lc3BhY2V9OiR7ZGVzdFBhcnRzLnJlZmVyZW5jZX1gO1xuXG4gICAgICAgICAgICBjb25zdCB7IGNjdHBEZXN0aW5hdGlvbkRvbWFpbiB9ID1cbiAgICAgICAgICAgICAgY2hhaW5IdWIuZ2V0Q2hhaW5JbmZvQnlDaGFpbklkKGNoYWluSWQpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjY3RwRGVzdGluYXRpb25Eb21haW4gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgJHtxKGNoYWluSWQpfSBkb2VzIG5vdCBoYXZlIFwiY2N0cERlc3RpbmF0aW9uRG9tYWluXCIgc2V0IGluIENoYWluSW5mb2A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGRlcG9zaXRGb3JCdXJuID0ge1xuICAgICAgICAgICAgICBhbW91bnQ6IGhlbHBlci5hbW91bnRUb0NvaW4oYW1vdW50KT8uYW1vdW50LFxuICAgICAgICAgICAgICBmcm9tOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uRG9tYWluOiBjY3RwRGVzdGluYXRpb25Eb21haW4sXG4gICAgICAgICAgICAgIG1pbnRSZWNpcGllbnQ6IGFjY291bnRJZFRvMzJCeXRlcyhkZXN0aW5hdGlvbiksXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGJ1cm5Ub2tlbjogJ3V1c2RjJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uQ2FsbGVyID0gKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFjYWxsZXIpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIGNvbnN0IGNhbGxlclBhcnRzID0gcGFyc2VBY2NvdW50SWQoY2FsbGVyKTtcbiAgICAgICAgICAgICAgY2FsbGVyUGFydHMubmFtZXNwYWNlID09PSBkZXN0UGFydHMubmFtZXNwYWNlIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBjYWxsZXIgJHtxKGNhbGxlcil9IG11c3QgYmUgaW4gc2FtZSBuYW1lc3BhY2UgYXMgZGVzdGluYXRpb24gJHtxKGRlc3RpbmF0aW9uKX1gO1xuICAgICAgICAgICAgICByZXR1cm4gYWNjb3VudElkVG8zMkJ5dGVzKGNhbGxlcik7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIEUoaGVscGVyLm93bmVkKCkpLmV4ZWN1dGVFbmNvZGVkVHgoW1xuICAgICAgICAgICAgICAgIEFueS50b0pTT04oXG4gICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkNhbGxlclxuICAgICAgICAgICAgICAgICAgICA/IE1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlci50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlcG9zaXRGb3JCdXJuLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25DYWxsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBNc2dEZXBvc2l0Rm9yQnVybi50b1Byb3RvTXNnKGRlcG9zaXRGb3JCdXJuKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBtYWtlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnRLaXQ7XG59O1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50S2l0KHByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCk7XG4gICAgICAgY29uc3QgcHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50ID0gKFxuICB6b25lLFxuICB7IGNoYWluSHViLCBtYWtlUmVjb3JkZXJLaXQsIHRpbWVyU2VydmljZSwgdm93VG9vbHMsIHpjZiB9LFxuKSA9PiB7XG4gIGNvbnN0IG1ha2VLaXQgPSBwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnRLaXQoem9uZSwge1xuICAgIGNoYWluSHViLFxuICAgIG1ha2VSZWNvcmRlcktpdCxcbiAgICB0aW1lclNlcnZpY2UsXG4gICAgdm93VG9vbHMsXG4gICAgemNmLFxuICB9KTtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiBtYWtlS2l0KC4uLmFyZ3MpLmhvbGRlcjtcbn07XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UucHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50KHByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJJY2FBY2NvdW50SG9sZGVySSI6WyJJY2FBY2NvdW50SG9sZGVySSJdLCJDb3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0kiOlsiQ29zbW9zT3JjaGVzdHJhdGlvbkludml0YXRpb25NYWtlcnNJIl0sInByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCI6WyJwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnRLaXQiXSwicHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50IjpbInByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB9AmNyHR4AAB0eAAAzAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9pYmMtcGFja2V0LmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL25ldHdvcmsiLCJAZW5kby9wYXR0ZXJucyIsIkBlbmRvL2ZhciJdLCJleHBvcnRzIjpbIklDUzIwX1RSQU5TRkVSX1NVQ0NFU1NfUkVTVUxUIiwiY3JlYXRlU2VxdWVuY2VQYXR0ZXJuIiwicHJlcGFyZUlCQ1JlcGx5S2l0IiwicHJlcGFyZUlCQ1Rvb2xzIiwicHJlcGFyZUlCQ1RyYW5zZmVyU2VuZGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZVRyYWNlcixiYXNlNjRUb0J5dGVzLE5ldHdvcmtTaGFwZSxNLEU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbmV0d29ya1wiLCBbW1wiYmFzZTY0VG9CeXRlc1wiLFskaM2PX2EgPT4gKGJhc2U2NFRvQnl0ZXMgPSAkaM2PX2EpXV0sW1wiU2hhcGVcIixbJGjNj19hID0+IChOZXR3b3JrU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuLy9cbiAgICAgICBjb25zdCBJQ1MyMF9UUkFOU0ZFUl9TVUNDRVNTX1JFU1VMVCA9ICdBUT09JzskaM2PX29uY2UuSUNTMjBfVFJBTlNGRVJfU1VDQ0VTU19SRVNVTFQoSUNTMjBfVFJBTlNGRVJfU1VDQ0VTU19SRVNVTFQpO1xuXG5jb25zdCB0cmFjZSA9IG1ha2VUcmFjZXIoJ0lCQ1AnKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IEZhaWwsIGJhcmUgfSA9IGFzc2VydDtcbmNvbnN0IHsgVm93JCB9ID0gTmV0d29ya1NoYXBlOyAvL1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjcmVhdGVTZXF1ZW5jZVBhdHRlcm4gPSBzZXF1ZW5jZSA9PiB7XG4gIGNvbnN0IHNlcXVlbmNlUGF0dGVybnMgPSBbXTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJpbnRTZXF1ZW5jZSA9IEJpZ0ludChzZXF1ZW5jZSk7XG4gICAgYmludFNlcXVlbmNlID4gMG4gJiYgc2VxdWVuY2VQYXR0ZXJucy5wdXNoKGJpbnRTZXF1ZW5jZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvL1xuICB9XG5cbiAgY29uc3QgbnVtU2VxdWVuY2UgPSBOdW1iZXIoc2VxdWVuY2UpO1xuICBudW1TZXF1ZW5jZSA+IDAgJiZcbiAgICBOdW1iZXIuaXNTYWZlSW50ZWdlcihudW1TZXF1ZW5jZSkgJiZcbiAgICBzZXF1ZW5jZVBhdHRlcm5zLnB1c2gobnVtU2VxdWVuY2UpO1xuXG4gIGNvbnN0IHN0clNlcXVlbmNlID0gU3RyaW5nKHNlcXVlbmNlKTtcbiAgc3RyU2VxdWVuY2UgJiYgc2VxdWVuY2VQYXR0ZXJucy5wdXNoKHN0clNlcXVlbmNlKTtcblxuICBpZiAoIXNlcXVlbmNlUGF0dGVybnMuZmluZChzZXEgPT4gc2VxID09PSBzZXF1ZW5jZSkpIHtcbiAgICBzZXF1ZW5jZVBhdHRlcm5zLnB1c2goc2VxdWVuY2UpO1xuICB9XG5cbiAgc3dpdGNoIChzZXF1ZW5jZVBhdHRlcm5zLmxlbmd0aCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHRocm93IEZhaWxgc2VxdWVuY2UgJHtzZXF1ZW5jZX0gaXMgbm90IHZhbGlkYDtcbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gc2VxdWVuY2VQYXR0ZXJuc1swXTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIE0ub3IoLi4uc2VxdWVuY2VQYXR0ZXJucyk7XG4gIH1cbn07JGjNj19vbmNlLmNyZWF0ZVNlcXVlbmNlUGF0dGVybihjcmVhdGVTZXF1ZW5jZVBhdHRlcm4pO1xuaGFyZGVuKGNyZWF0ZVNlcXVlbmNlUGF0dGVybik7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUlCQ1RyYW5zZmVyU2VuZGVyID0gKHpvbmUsIHsgd2F0Y2gsIG1ha2VJQkNSZXBseUtpdCB9KSA9PiB7XG4gIGNvbnN0IG1ha2VJQkNUcmFuc2ZlclNlbmRlcktpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ0lCQ1RyYW5zZmVyU2VuZGVyS2l0JyxcbiAgICB7XG4gICAgICBwdWJsaWM6IE0uaW50ZXJmYWNlKCdJQkNUcmFuc2ZlclNlbmRlcicsIHtcbiAgICAgICAgc2VuZFBhY2tldDogTS5jYWxsKFZvdyQoTS5hbnkoKSksIE0uYW55KCkpLnJldHVybnMoVm93JChNLnJlY29yZCgpKSksXG4gICAgICB9KSxcbiAgICAgIHJlc3BvbnNlV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3Jlc3BvbnNlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChbTS5yZWNvcmQoKV0sIE0ucmVjb3JkKCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIHZlcmlmeVRyYW5zZmVyU3VjY2VzczogTS5pbnRlcmZhY2UoJ3ZlcmlmeVRyYW5zZmVyU3VjY2VzcycsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKCksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICAodHhFeGVjdXRvciwgdHJhbnNmZXJNc2cpID0+ICh7XG4gICAgICB0eEV4ZWN1dG9yLFxuICAgICAgdHJhbnNmZXJNc2c6IGhhcmRlbih0cmFuc2Zlck1zZyksXG4gICAgfSksXG4gICAge1xuICAgICAgcHVibGljOiB7XG4gICAgICAgIC8qXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmRQYWNrZXQobWF0Y2gsIG9wdHMpIHtcbiAgICAgICAgICBjb25zdCB7IHR4RXhlY3V0b3IsIHRyYW5zZmVyTXNnIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUodHhFeGVjdXRvcikuZXhlY3V0ZVR4KFt0cmFuc2Zlck1zZ10pLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucmVzcG9uc2VXYXRjaGVyLFxuICAgICAgICAgICAgeyBvcHRzLCBtYXRjaCB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2VXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbeyBzZXF1ZW5jZSB9XSwgY3R4KSB7XG4gICAgICAgICAgY29uc3QgeyBtYXRjaCwgb3B0cyB9ID0gY3R4O1xuICAgICAgICAgIGNvbnN0IHsgdHJhbnNmZXJNc2cgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdHJhY2UoJ3NlcXVlbmNlJywgc2VxdWVuY2UsIHRyYW5zZmVyTXNnKTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgcmVwbHlQYWNrZXRQYXR0ZXJuID0gTS5zcGxpdFJlY29yZCh7XG4gICAgICAgICAgICBzb3VyY2VfcG9ydDogdHJhbnNmZXJNc2cuc291cmNlUG9ydCxcbiAgICAgICAgICAgIHNvdXJjZV9jaGFubmVsOiB0cmFuc2Zlck1zZy5zb3VyY2VDaGFubmVsLFxuICAgICAgICAgICAgc2VxdWVuY2U6IGNyZWF0ZVNlcXVlbmNlUGF0dGVybihzZXF1ZW5jZSksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCB7IHJlc3VsdFY6IGFja0RhdGFWLCAuLi5yZXN0IH0gPSBtYWtlSUJDUmVwbHlLaXQoXG4gICAgICAgICAgICByZXBseVBhY2tldFBhdHRlcm4sXG4gICAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICAgIHsgb3BOYW1lOiAndHJhbnNmZXInLCAuLi5vcHRzIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCByZXN1bHRWID0gd2F0Y2goYWNrRGF0YVYsIHRoaXMuZmFjZXRzLnZlcmlmeVRyYW5zZmVyU3VjY2Vzcyk7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih7IHJlc3VsdFYsIC4uLnJlc3QgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdmVyaWZ5VHJhbnNmZXJTdWNjZXNzOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKGFja0RhdGEpIHtcbiAgICAgICAgICBsZXQgb2JqO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKGFja0RhdGEpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgRmFpbGBJQ1MyMC0xIHRyYW5zZmVyIGFjayBkYXRhIGlzIG5vdCBKU09OOiAke2Fja0RhdGF9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgeyByZXN1bHQsIGVycm9yIH0gPSBvYmo7XG4gICAgICAgICAgZXJyb3IgPT09IHVuZGVmaW5lZCB8fCBGYWlsYElDUzIwLTEgdHJhbnNmZXIgZXJyb3IgJHtlcnJvcn1gO1xuICAgICAgICAgIHJlc3VsdCA/PyBGYWlsYE1pc3NpbmcgcmVzdWx0IGluIElDUzIwLTEgdHJhbnNmZXIgYWNrICR7b2JqfWA7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gSUNTMjBfVFJBTlNGRVJfU1VDQ0VTU19SRVNVTFQpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy9cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IGRlY29kZUFuZFBhcnNlID0gYjY0ID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGF0b2IoYjY0KSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgRmFpbGBEZWNvZGluZyBvZiBiYXNlNjQtZW5jb2RlZCBhY2sgb2JqIG9iamVjdCBmYWlsZWQ6ICR7SlNPTi5zdHJpbmdpZnkoYjY0KX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBvdXRlckRlY29kZWQgPSBkZWNvZGVBbmRQYXJzZShyZXN1bHQpO1xuICAgICAgICAgIGNvbnN0IGliY0FjayA9XG4gICAgICAgICAgICBvdXRlckRlY29kZWQ/LmliY19hY2sgJiYgZGVjb2RlQW5kUGFyc2Uob3V0ZXJEZWNvZGVkLmliY19hY2spO1xuXG4gICAgICAgICAgaWJjQWNrPy5yZXN1bHQgPT09IElDUzIwX1RSQU5TRkVSX1NVQ0NFU1NfUkVTVUxUIHx8XG4gICAgICAgICAgICBGYWlsYElDUzIwLTEgdHJhbnNmZXIgdW5zdWNjZXNzZnVsIHdpdGggYWNrIHJlc3VsdDogJHtvdXRlckRlY29kZWR9YDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICAvKlxuXG4gICAqL1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IG1ha2VJQkNUcmFuc2ZlclNlbmRlcktpdCguLi5hcmdzKS5wdWJsaWM7XG59OyRozY9fb25jZS5wcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIocHJlcGFyZUlCQ1RyYW5zZmVyU2VuZGVyKTtcbmhhcmRlbihwcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVJQkNSZXBseUtpdCA9ICh6b25lLCB2b3dUb29scykgPT4ge1xuICBjb25zdCB7IHdhdGNoIH0gPSB2b3dUb29scztcbiAgY29uc3QgaWJjV2F0Y2hlciA9IHpvbmUuZXhvKFxuICAgICdpYmNSZXN1bHRXYXRjaGVyJyxcbiAgICBNLmludGVyZmFjZSgncHJvY2Vzc0lCQ1dhdGNoZXInLCB7XG4gICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFxuICAgICAgICBNLnNwbGl0UmVjb3JkKHsgZXZlbnQ6IE0uc3RyaW5nKCkgfSwgeyBhY2tub3dsZWRnZW1lbnQ6IE0uc3RyaW5nKCkgfSksXG4gICAgICAgIE0uc3BsaXRSZWNvcmQoe30sIHsgb3BOYW1lOiBNLnN0cmluZygpLCB0aW1lb3V0OiBNLnJlY29yZCgpIH0pLFxuICAgICAgKS5yZXR1cm5zKFZvdyQoTS5zdHJpbmcoKSkpLFxuICAgIH0pLFxuICAgIHtcbiAgICAgIC8qXG5cblxuXG4gICAgICAgKi9cbiAgICAgIG9uRnVsZmlsbGVkKGliY0V2ZW50LCB7IG9wTmFtZSA9ICd1bmtub3duJyB9KSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnQgfSA9IGliY0V2ZW50O1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgY2FzZSAnYWNrbm93bGVkZ2VtZW50UGFja2V0Jzoge1xuICAgICAgICAgICAgY29uc3QgeyBhY2tub3dsZWRnZW1lbnQgfSA9IGliY0V2ZW50O1xuICAgICAgICAgICAgYWNrbm93bGVkZ2VtZW50IHx8XG4gICAgICAgICAgICAgIEZhaWxgYWNrbm93bGVkZ2VtZW50UGFja2V0IG1pc3NpbmcgJ2Fja25vd2xlZGdlbWVudCdgO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoYWNrbm93bGVkZ2VtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAndGltZW91dFBhY2tldCc6XG4gICAgICAgICAgICB0aHJvdyBGYWlsYCR7YmFyZShvcE5hbWUpfSBvcGVyYXRpb24gcmVjZWl2ZWQgdGltZW91dCBwYWNrZXRgO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBGYWlsYFVuZXhwZWN0ZWQgZXZlbnQ6ICR7ZXZlbnR9YDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VJQkNSZXBseUtpdCA9IChyZXBseVBhY2tldFBhdHRlcm4sIG1hdGNoViwgb3B0cykgPT4ge1xuICAgIGNvbnN0IGV2ZW50UGF0dGVybiA9IE0ub3IoXG4gICAgICBNLnNwbGl0UmVjb3JkKHtcbiAgICAgICAgZXZlbnQ6ICdhY2tub3dsZWRnZW1lbnRQYWNrZXQnLFxuICAgICAgICBwYWNrZXQ6IHJlcGx5UGFja2V0UGF0dGVybixcbiAgICAgICAgYWNrbm93bGVkZ2VtZW50OiBNLnN0cmluZygpLFxuICAgICAgfSksXG4gICAgICBNLnNwbGl0UmVjb3JkKHtcbiAgICAgICAgZXZlbnQ6ICd0aW1lb3V0UGFja2V0JyxcbiAgICAgICAgcGFja2V0OiByZXBseVBhY2tldFBhdHRlcm4sXG4gICAgICB9KSxcbiAgICApO1xuICAgIGNvbnN0IHJlc3VsdFYgPSB3YXRjaChtYXRjaFYsIGliY1dhdGNoZXIsIG9wdHMpO1xuICAgIHJldHVybiBoYXJkZW4oeyBldmVudFBhdHRlcm4sIHJlc3VsdFYgfSk7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VJQkNSZXBseUtpdDtcbn07JGjNj19vbmNlLnByZXBhcmVJQkNSZXBseUtpdChwcmVwYXJlSUJDUmVwbHlLaXQpO1xuaGFyZGVuKHByZXBhcmVJQkNSZXBseUtpdCk7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVJQkNUb29scyA9ICh6b25lLCB2b3dUb29scykgPT4ge1xuICBjb25zdCBtYWtlSUJDUmVwbHlLaXQgPSBwcmVwYXJlSUJDUmVwbHlLaXQoem9uZSwgdm93VG9vbHMpO1xuICBjb25zdCBtYWtlSUJDVHJhbnNmZXJTZW5kZXIgPSBwcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIoem9uZSwge1xuICAgIG1ha2VJQkNSZXBseUtpdCxcbiAgICAuLi52b3dUb29scyxcbiAgfSk7XG4gIHJldHVybiBoYXJkZW4oeyBtYWtlSUJDVHJhbnNmZXJTZW5kZXIsIG1ha2VJQkNSZXBseUtpdCB9KTtcbn07JGjNj19vbmNlLnByZXBhcmVJQkNUb29scyhwcmVwYXJlSUJDVG9vbHMpO1xuaGFyZGVuKHByZXBhcmVJQkNUb29scyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJJQ1MyMF9UUkFOU0ZFUl9TVUNDRVNTX1JFU1VMVCI6WyJJQ1MyMF9UUkFOU0ZFUl9TVUNDRVNTX1JFU1VMVCJdLCJjcmVhdGVTZXF1ZW5jZVBhdHRlcm4iOlsiY3JlYXRlU2VxdWVuY2VQYXR0ZXJuIl0sInByZXBhcmVJQkNUcmFuc2ZlclNlbmRlciI6WyJwcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIiXSwicHJlcGFyZUlCQ1JlcGx5S2l0IjpbInByZXBhcmVJQkNSZXBseUtpdCJdLCJwcmVwYXJlSUJDVG9vbHMiOlsicHJlcGFyZUlCQ1Rvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAOwWw4DdGwAA3RsAADgAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2ljYS1hY2NvdW50LWtpdC5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL3ZvdyIsIi4uL3R5cGVHdWFyZHMuanMiLCIuLi91dGlscy9hZGRyZXNzLmpzIiwiLi4vdXRpbHMvcGFja2V0LmpzIl0sImV4cG9ydHMiOlsiSWNhQWNjb3VudEkiLCJwcmVwYXJlSWNhQWNjb3VudEtpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsRSxNLE5vbk51bGxpc2gsbWFrZVRyYWNlcixWb3dTaGFwZSxDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySSxQcm90bzNTaGFwZSxFeGVjdXRlSUNBVHhPcHRzU2hhcGUsZmluZEFkZHJlc3NGaWVsZCxtYWtlVHhQYWNrZXQscGFyc2VUeFBhY2tldDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wiTm9uTnVsbGlzaFwiLFskaM2PX2EgPT4gKE5vbk51bGxpc2ggPSAkaM2PX2EpXV0sW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkNvc21vc0NoYWluQWRkcmVzc1NoYXBlXCIsWyRozY9fYSA9PiAoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUgPSAkaM2PX2EpXV0sW1wiT3V0Ym91bmRDb25uZWN0aW9uSGFuZGxlcklcIixbJGjNj19hID0+IChPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySSA9ICRozY9fYSldXSxbXCJQcm90bzNTaGFwZVwiLFskaM2PX2EgPT4gKFByb3RvM1NoYXBlID0gJGjNj19hKV1dLFtcIkV4ZWN1dGVJQ0FUeE9wdHNTaGFwZVwiLFskaM2PX2EgPT4gKEV4ZWN1dGVJQ0FUeE9wdHNTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4uL3V0aWxzL2FkZHJlc3MuanNcIiwgW1tcImZpbmRBZGRyZXNzRmllbGRcIixbJGjNj19hID0+IChmaW5kQWRkcmVzc0ZpZWxkID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvcGFja2V0LmpzXCIsIFtbXCJtYWtlVHhQYWNrZXRcIixbJGjNj19hID0+IChtYWtlVHhQYWNrZXQgPSAkaM2PX2EpXV0sW1wicGFyc2VUeFBhY2tldFwiLFskaM2PX2EgPT4gKHBhcnNlVHhQYWNrZXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignSWNhQWNjb3VudEtpdCcpO1xuXG5jb25zdCBVTlBBUlNBQkxFX0NIQUlOX0FERFJFU1MgPSAnVU5QQVJTQUJMRV9DSEFJTl9BRERSRVNTJztcblxuICAgICAgIGNvbnN0IEljYUFjY291bnRJID0gTS5pbnRlcmZhY2UoJ0ljYUFjY291bnQnLCB7XG4gIGdldEFkZHJlc3M6IE0uY2FsbCgpLnJldHVybnMoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpLFxuICBnZXRMb2NhbEFkZHJlc3M6IE0uY2FsbCgpLnJldHVybnMoTS5zdHJpbmcoKSksXG4gIGdldFJlbW90ZUFkZHJlc3M6IE0uY2FsbCgpLnJldHVybnMoTS5zdHJpbmcoKSksXG4gIGdldFBvcnQ6IE0uY2FsbCgpLnJldHVybnMoTS5yZW1vdGFibGUoJ1BvcnQnKSksXG4gIGV4ZWN1dGVUeDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGV4ZWN1dGVFbmNvZGVkVHg6IE0uY2FsbChNLmFycmF5T2YoUHJvdG8zU2hhcGUpKVxuICAgIC5vcHRpb25hbChFeGVjdXRlSUNBVHhPcHRzU2hhcGUpXG4gICAgLnJldHVybnMoVm93U2hhcGUpLFxuICBkZWFjdGl2YXRlOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgcmVhY3RpdmF0ZTogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG59KTtcblxuLy9cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UuSWNhQWNjb3VudEkoSWNhQWNjb3VudEkpO1xuICAgICAgIGNvbnN0IHByZXBhcmVJY2FBY2NvdW50S2l0ID0gKHpvbmUsIHsgd2F0Y2gsIGFzVm93IH0pID0+XG4gIHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ0ljYUFjY291bnRLaXQnLFxuICAgIHtcbiAgICAgIGFjY291bnQ6IEljYUFjY291bnRJLFxuICAgICAgY29ubmVjdGlvbkhhbmRsZXI6IE91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJLFxuICAgICAgcGFyc2VUeFBhY2tldFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdQYXJzZVR4UGFja2V0V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnN0cmluZygpKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpIC8vXG4gICAgICAgICAgLnJldHVybnMoTS5zdHJpbmcoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgKGNoYWluSWQsIHBvcnQsIHJlcXVlc3RlZFJlbW90ZUFkZHJlc3MpID0+XG4gICAgICAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICAgICAgICBjaGFpbklkLFxuICAgICAgICBwb3J0LFxuICAgICAgICBjb25uZWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIHJlcXVlc3RlZFJlbW90ZUFkZHJlc3MsXG4gICAgICAgIHJlbW90ZUFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hhaW5BZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgICAgIGxvY2FsQWRkcmVzczogdW5kZWZpbmVkLFxuICAgICAgICBpc0luaXRpYXRpbmdDbG9zZTogZmFsc2UsXG4gICAgICB9KSxcbiAgICB7XG4gICAgICBwYXJzZVR4UGFja2V0V2F0Y2hlcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChhY2spIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VUeFBhY2tldChhY2spO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGFjY291bnQ6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gTm9uTnVsbGlzaChcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2hhaW5BZGRyZXNzLFxuICAgICAgICAgICAgJ0lDQSBjaGFubmVsIGNyZWF0aW9uIGFja25vd2xlZGdlbWVudCBub3QgeWV0IHJlY2VpdmVkLicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TG9jYWxBZGRyZXNzKCkge1xuICAgICAgICAgIHJldHVybiBOb25OdWxsaXNoKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAnbG9jYWwgYWRkcmVzcyBub3QgYXZhaWxhYmxlJyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZW1vdGVBZGRyZXNzKCkge1xuICAgICAgICAgIHJldHVybiBOb25OdWxsaXNoKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5yZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgJ3JlbW90ZSBhZGRyZXNzIG5vdCBhdmFpbGFibGUnLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBvcnQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUucG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgZXhlY3V0ZVR4KCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiBGYWlsYG5vdCB5ZXQgaW1wbGVtZW50ZWRgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGV4ZWN1dGVFbmNvZGVkVHgobXNncywgb3B0cyA9IHt9KSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYEFjY291bnQgbm90IGF2YWlsYWJsZSBvciBkZWFjdGl2YXRlZC5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBzZW5kT3B0cywgLi4udHhCb2R5T3B0cyB9ID0gb3B0cztcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgRShjb25uZWN0aW9uKS5zZW5kKG1ha2VUeFBhY2tldChtc2dzLCB0eEJvZHlPcHRzKSwgc2VuZE9wdHMpLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5wYXJzZVR4UGFja2V0V2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikgdGhyb3cgRmFpbGBBY2NvdW50IG5vdCBhdmFpbGFibGUgb3IgZGVhY3RpdmF0ZWQuYDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNJbml0aWF0aW5nQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIEUoY29ubmVjdGlvbikuY2xvc2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgcmVhY3RpdmF0ZSgpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb25uZWN0aW9uLCBwb3J0LCByZXF1ZXN0ZWRSZW1vdGVBZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBBY2NvdW50IGlzIGFscmVhZHkgYWN0aXZlLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIEUocG9ydCkuY29ubmVjdChcbiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRSZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjZXRzLmNvbm5lY3Rpb25IYW5kbGVyLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb25uZWN0aW9uSGFuZGxlcjoge1xuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgb25PcGVuKGNvbm5lY3Rpb24sIGxvY2FsQWRkciwgcmVtb3RlQWRkcikge1xuICAgICAgICAgIHRyYWNlKGBJQ0EgQ2hhbm5lbCBPcGVuZWQgZm9yICR7bG9jYWxBZGRyfSBhdCAke3JlbW90ZUFkZHJ9YCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICB0aGlzLnN0YXRlLnJlbW90ZUFkZHJlc3MgPSByZW1vdGVBZGRyO1xuICAgICAgICAgIHRoaXMuc3RhdGUubG9jYWxBZGRyZXNzID0gbG9jYWxBZGRyO1xuICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBmaW5kQWRkcmVzc0ZpZWxkKHJlbW90ZUFkZHIpO1xuICAgICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIGZhaWxlZCB0byBwYXJzZSBjaGFpbiBhZGRyZXNzJywgcmVtb3RlQWRkcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGUuY2hhaW5BZGRyZXNzID0gaGFyZGVuKHtcbiAgICAgICAgICAgIHZhbHVlOiBhZGRyZXNzIHx8IFVOUEFSU0FCTEVfQ0hBSU5fQUREUkVTUyxcbiAgICAgICAgICAgIGNoYWluSWQ6IHRoaXMuc3RhdGUuY2hhaW5JZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiAnYmVjaDMyJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIG9uQ2xvc2UoX2Nvbm5lY3Rpb24sIHJlYXNvbikge1xuICAgICAgICAgIHRyYWNlKGBJQ0EgQ2hhbm5lbCBjbG9zZWQuIFJlYXNvbjogJHtyZWFzb259YCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMuc3RhdGUubG9jYWxBZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMuc3RhdGUucmVtb3RlQWRkcmVzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0luaXRpYXRpbmdDbG9zZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdHJhY2UoJ0FjY291bnQgZGVhY3RpdmF0ZWQgYnkgaG9sZGVyLiBTa2lwcGluZyByZWFjdGl2YXRpb24uJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlzSW5pdGlhdGluZ0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNlKCdBY2NvdW50IGNsb3NlZCB1bmV4cGVjdGVkbHkuIEF1dG9tYXRpY2FsbHkgcmVhY3RpdmF0aW5nLicpO1xuICAgICAgICAgICAgdm9pZCB3YXRjaCh0aGlzLmZhY2V0cy5hY2NvdW50LnJlYWN0aXZhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5wcmVwYXJlSWNhQWNjb3VudEtpdChwcmVwYXJlSWNhQWNjb3VudEtpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJJY2FBY2NvdW50SSI6WyJJY2FBY2NvdW50SSJdLCJwcmVwYXJlSWNhQWNjb3VudEtpdCI6WyJwcmVwYXJlSWNhQWNjb3VudEtpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAZDU4oJRAAACUQAAA7AAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9pY3EtY29ubmVjdGlvbi1raXQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCJAYWdvcmljL3ZvdyIsIkBhZ29yaWMvaW50ZXJuYWwiLCIuLi91dGlscy9wYWNrZXQuanMiLCIuLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsiSUNRQ29ubmVjdGlvbkkiLCJwcmVwYXJlSUNRQ29ubmVjdGlvbktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsRSxNLFZvd1NoYXBlLE5vbk51bGxpc2gsbWFrZVRyYWNlcixtYWtlUXVlcnlQYWNrZXQscGFyc2VRdWVyeVBhY2tldCxJQ1FNc2dTaGFwZSxPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJOb25OdWxsaXNoXCIsWyRozY9fYSA9PiAoTm9uTnVsbGlzaCA9ICRozY9fYSldXSxbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dLFtcIi4uL3V0aWxzL3BhY2tldC5qc1wiLCBbW1wibWFrZVF1ZXJ5UGFja2V0XCIsWyRozY9fYSA9PiAobWFrZVF1ZXJ5UGFja2V0ID0gJGjNj19hKV1dLFtcInBhcnNlUXVlcnlQYWNrZXRcIixbJGjNj19hID0+IChwYXJzZVF1ZXJ5UGFja2V0ID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiSUNRTXNnU2hhcGVcIixbJGjNj19hID0+IChJQ1FNc2dTaGFwZSA9ICRozY9fYSldXSxbXCJPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySVwiLFskaM2PX2EgPT4gKE91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignT3JjaGVzdHJhdGlvbjpJQ1FDb25uZWN0aW9uJyk7XG5cbiAgICAgICBjb25zdCBJQ1FDb25uZWN0aW9uSSA9IE0uaW50ZXJmYWNlKCdJQ1FDb25uZWN0aW9uJywge1xuICBnZXRMb2NhbEFkZHJlc3M6IE0uY2FsbCgpLnJldHVybnMoTS5zdHJpbmcoKSksXG4gIGdldFJlbW90ZUFkZHJlc3M6IE0uY2FsbCgpLnJldHVybnMoTS5zdHJpbmcoKSksXG4gIHF1ZXJ5OiBNLmNhbGwoTS5hcnJheU9mKElDUU1zZ1NoYXBlKSkucmV0dXJucyhWb3dTaGFwZSksXG59KTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5JQ1FDb25uZWN0aW9uSShJQ1FDb25uZWN0aW9uSSk7XG4gICAgICAgY29uc3QgcHJlcGFyZUlDUUNvbm5lY3Rpb25LaXQgPSAoem9uZSwgeyB3YXRjaCwgYXNWb3cgfSkgPT5cbiAgem9uZS5leG9DbGFzc0tpdChcbiAgICAnSUNRQ29ubmVjdGlvbktpdCcsXG4gICAge1xuICAgICAgY29ubmVjdGlvbjogSUNRQ29ubmVjdGlvbkksXG4gICAgICBjb25uZWN0aW9uSGFuZGxlcjogT3V0Ym91bmRDb25uZWN0aW9uSGFuZGxlckksXG4gICAgICBwYXJzZVF1ZXJ5UGFja2V0V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1BhcnNlUXVlcnlQYWNrZXRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uc3RyaW5nKCkpXG4gICAgICAgICAgLm9wdGlvbmFsKE0uYXJyYXlPZihNLnVuZGVmaW5lZCgpKSkgLy9cbiAgICAgICAgICAucmV0dXJucyhNLmFycmF5T2YoTS5yZWNvcmQoKSkpLFxuICAgICAgfSksXG4gICAgfSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgcG9ydCA9PlxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh7XG4gICAgICAgIHBvcnQsXG4gICAgICAgIGNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgcmVtb3RlQWRkcmVzczogdW5kZWZpbmVkLFxuICAgICAgICBsb2NhbEFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICAgIH0pLFxuICAgIHtcbiAgICAgIGNvbm5lY3Rpb246IHtcbiAgICAgICAgZ2V0TG9jYWxBZGRyZXNzKCkge1xuICAgICAgICAgIHJldHVybiBOb25OdWxsaXNoKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAnbG9jYWwgYWRkcmVzcyBub3QgYXZhaWxhYmxlJyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZW1vdGVBZGRyZXNzKCkge1xuICAgICAgICAgIHJldHVybiBOb25OdWxsaXNoKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5yZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgJ3JlbW90ZSBhZGRyZXNzIG5vdCBhdmFpbGFibGUnLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHF1ZXJ5KG1zZ3MpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uKSB0aHJvdyBGYWlsYGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZWA7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIEUoY29ubmVjdGlvbikuc2VuZChtYWtlUXVlcnlQYWNrZXQobXNncykpLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5wYXJzZVF1ZXJ5UGFja2V0V2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyc2VRdWVyeVBhY2tldFdhdGNoZXI6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlUXVlcnlQYWNrZXQoYWNrKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb25uZWN0aW9uSGFuZGxlcjoge1xuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgb25PcGVuKGNvbm5lY3Rpb24sIGxvY2FsQWRkciwgcmVtb3RlQWRkcikge1xuICAgICAgICAgIHRyYWNlKGBJQ1EgQ2hhbm5lbCBPcGVuZWQgZm9yICR7bG9jYWxBZGRyfSBhdCAke3JlbW90ZUFkZHJ9YCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICB0aGlzLnN0YXRlLnJlbW90ZUFkZHJlc3MgPSByZW1vdGVBZGRyO1xuICAgICAgICAgIHRoaXMuc3RhdGUubG9jYWxBZGRyZXNzID0gbG9jYWxBZGRyO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBvbkNsb3NlKF9jb25uZWN0aW9uLCByZWFzb24pIHtcbiAgICAgICAgICB0cmFjZShgSUNRIENoYW5uZWwgY2xvc2VkLiBSZWFzb246ICR7cmVhc29ufWApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UucHJlcGFyZUlDUUNvbm5lY3Rpb25LaXQocHJlcGFyZUlDUUNvbm5lY3Rpb25LaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiSUNRQ29ubmVjdGlvbkkiOlsiSUNRQ29ubmVjdGlvbkkiXSwicHJlcGFyZUlDUUNvbm5lY3Rpb25LaXQiOlsicHJlcGFyZUlDUUNvbm5lY3Rpb25LaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAR+9XZIYVAACGFQAAOwAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvbG9jYWwtY2hhaW4tZmFjYWRlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2ZhciIsIkBhZ29yaWMvdm93L3ZhdC5qcyIsIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBhZ29yaWMvdm93IiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVMb2NhbENoYWluRmFjYWRlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRSxoZWFwVm93RSxNLHBpY2tGYWNldCxWb3dTaGFwZSxjaGFpbkZhY2FkZU1ldGhvZHMsVHlwZWRKc29uU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3cvdmF0LmpzXCIsIFtbXCJoZWFwVm93RVwiLFskaM2PX2EgPT4gKGhlYXBWb3dFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wicGlja0ZhY2V0XCIsWyRozY9fYSA9PiAocGlja0ZhY2V0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCIuLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJjaGFpbkZhY2FkZU1ldGhvZHNcIixbJGjNj19hID0+IChjaGFpbkZhY2FkZU1ldGhvZHMgPSAkaM2PX2EpXV0sW1wiVHlwZWRKc29uU2hhcGVcIixbJGjNj19hID0+IChUeXBlZEpzb25TaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZUxvY2FsQ2hhaW5GYWNhZGVLaXQgPSAoXG4gIHpvbmUsXG4gIHtcbiAgICBtYWtlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCxcbiAgICBhZ29yaWNOYW1lcyxcbiAgICBsb2NhbGNoYWluLFxuICAgIC8vXG4gICAgLy9cbiAgICBzdG9yYWdlTm9kZSxcbiAgICB2b3dUb29sczogeyBhbGxWb3dzLCB3YXRjaCwgYXNWb3cgfSxcbiAgfSxcbikgPT5cbiAgem9uZS5leG9DbGFzc0tpdChcbiAgICAnTG9jYWxDaGFpbkZhY2FkZScsXG4gICAge1xuICAgICAgcHVibGljOiBNLmludGVyZmFjZSgnTG9jYWxDaGFpbkZhY2FkZScsIHtcbiAgICAgICAgLi4uY2hhaW5GYWNhZGVNZXRob2RzLFxuICAgICAgICBxdWVyeTogTS5jYWxsKE0uYXJyYXlPZihUeXBlZEpzb25TaGFwZSkpLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgICBnZXRWQmFua0Fzc2V0SW5mbzogTS5jYWxsKCkub3B0aW9uYWwoTS5ib29sZWFuKCkpLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgfSksXG4gICAgICB2YmFua0Fzc2V0VmFsdWVzV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3ZiYW5rQXNzZXRWYWx1ZXNXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKSAvL1xuICAgICAgICAgIC5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgIH0pLFxuICAgICAgbWFrZUFjY291bnRXYXRjaGVyOiBNLmludGVyZmFjZSgnbWFrZUFjY291bnRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFtNLnJlbW90YWJsZSgnTENBIEFjY291bnQnKSwgTS5zdHJpbmcoKV0pXG4gICAgICAgICAgLm9wdGlvbmFsKE0uYXJyYXlPZihNLnVuZGVmaW5lZCgpKSkgLy9cbiAgICAgICAgICAucmV0dXJucyhWb3dTaGFwZSksXG4gICAgICB9KSxcbiAgICAgIG1ha2VDaGlsZE5vZGVXYXRjaGVyOiBNLmludGVyZmFjZSgnbWFrZUNoaWxkTm9kZVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5vcihNLnJlbW90YWJsZSgpLCBNLnVuZGVmaW5lZCgpKSlcbiAgICAgICAgICAub3B0aW9uYWwoeyBhY2NvdW50OiBNLnJlbW90YWJsZSgpLCBhZGRyZXNzOiBNLnN0cmluZygpIH0pIC8vXG4gICAgICAgICAgLnJldHVybnMoTS5yZW1vdGFibGUoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cbiAgICAgKi9cbiAgICBsb2NhbENoYWluSW5mbyA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbENoYWluSW5mbyxcbiAgICAgICAgdmJhbmtBc3NldHM6IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh1bmRlZmluZWQpLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIHB1YmxpYzoge1xuICAgICAgICBnZXRDaGFpbkluZm8oKSB7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuc3RhdGUubG9jYWxDaGFpbkluZm8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgbWFrZUFjY291bnQoKSB7XG4gICAgICAgICAgY29uc3QgbGNhUCA9IEUobG9jYWxjaGFpbikubWFrZUFjY291bnQoKTtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBhbGxWb3dzKFtsY2FQLCBoZWFwVm93RShsY2FQKS5nZXRBZGRyZXNzKCldKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLm1ha2VBY2NvdW50V2F0Y2hlcixcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBxdWVyeShyZXF1ZXN0cykge1xuICAgICAgICAgIHJldHVybiB3YXRjaChFKGxvY2FsY2hhaW4pLnF1ZXJ5TWFueShyZXF1ZXN0cykpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRWQmFua0Fzc2V0SW5mbygpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2YmFua0Fzc2V0cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICh2YmFua0Fzc2V0cykge1xuICAgICAgICAgICAgICByZXR1cm4gdmJhbmtBc3NldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YmFua0Fzc2V0TmFtZUh1YlAgPSBFKGFnb3JpY05hbWVzKS5sb29rdXAoJ3ZiYW5rQXNzZXQnKTtcbiAgICAgICAgICAgIGNvbnN0IHZiYW5rQXNzZXRWYWx1ZXNQID0gRSh2YmFua0Fzc2V0TmFtZUh1YlApLnZhbHVlcygpO1xuICAgICAgICAgICAgY29uc3QgeyB2YmFua0Fzc2V0VmFsdWVzV2F0Y2hlciB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2godmJhbmtBc3NldFZhbHVlc1AsIHZiYW5rQXNzZXRWYWx1ZXNXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB2YmFua0Fzc2V0VmFsdWVzV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChhc3NldHMpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS52YmFua0Fzc2V0cyA9IGFzc2V0cztcbiAgICAgICAgICAgIHJldHVybiBhc3NldHM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbWFrZUFjY291bnRXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFthY2NvdW50LCBhZGRyZXNzXSkge1xuICAgICAgICAgIGNvbnN0IG9wdGlvbmFsU3RvcmFnZU5vZGUgPSBzdG9yYWdlTm9kZVxuICAgICAgICAgICAgPyBFKHN0b3JhZ2VOb2RlKS5tYWtlQ2hpbGROb2RlKGFkZHJlc3MpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gd2F0Y2gob3B0aW9uYWxTdG9yYWdlTm9kZSwgdGhpcy5mYWNldHMubWFrZUNoaWxkTm9kZVdhdGNoZXIsIHtcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1ha2VDaGlsZE5vZGVXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoY2hpbGROb2RlLCB7IGFjY291bnQsIGFkZHJlc3MgfSkge1xuICAgICAgICAgIGNvbnN0IHsgbG9jYWxDaGFpbkluZm8gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgY29uc3QgeyBob2xkZXIgfSA9IG1ha2VMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0KHtcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBhZGRyZXNzOiBoYXJkZW4oe1xuICAgICAgICAgICAgICB2YWx1ZTogYWRkcmVzcyxcbiAgICAgICAgICAgICAgZW5jb2Rpbmc6ICdiZWNoMzInLFxuICAgICAgICAgICAgICBjaGFpbklkOiBsb2NhbENoYWluSW5mby5jaGFpbklkLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgc3RvcmFnZU5vZGU6IGNoaWxkTm9kZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gaG9sZGVyO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuaGFyZGVuKHByZXBhcmVMb2NhbENoYWluRmFjYWRlS2l0KTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZSA9ICh6b25lLCBwb3dlcnMpID0+IHtcbiAgY29uc3QgbWFrZUxvY2FsQ2hhaW5GYWNhZGVLaXQgPSBwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZUtpdCh6b25lLCBwb3dlcnMpO1xuICByZXR1cm4gcGlja0ZhY2V0KG1ha2VMb2NhbENoYWluRmFjYWRlS2l0LCAncHVibGljJyk7XG59OyRozY9fb25jZS5wcmVwYXJlTG9jYWxDaGFpbkZhY2FkZShwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZSk7XG5oYXJkZW4ocHJlcGFyZUxvY2FsQ2hhaW5GYWNhZGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVMb2NhbENoYWluRmFjYWRlIjpbInByZXBhcmVMb2NhbENoYWluRmFjYWRlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAE7hNLXEYwAAxGMAAEQAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2xvY2FsLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2Nvc21pYy1wcm90byIsIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL25ldHdvcmsiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy92b3ciLCJAZW5kby9mYXIiLCJAZW5kby9lcnJvcnMiLCIuLi90eXBlR3VhcmRzLmpzIiwiLi4vdXRpbHMvY29zbW9zLmpzIiwiLi4vdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanMiLCIuLi91dGlscy90aW1lLmpzIiwiLi9wYWNrZXQtdG9vbHMuanMiLCIuL2liYy1wYWNrZXQuanMiLCIuLi91dGlscy9hbW91bnRzLmpzIiwiLi9jaGFpbi1odWIuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHR5cGVkSnNvbixBbW91bnRTaGFwZSxQYXltZW50U2hhcGUsbWFrZVRyYWNlcixOZXR3b3JrU2hhcGUsTSxWb3dTaGFwZSxFLEZhaWwscSxBbW91bnRBcmdTaGFwZSxBbnlOYXRBbW91bnRzUmVjb3JkLERlbm9tQW1vdW50U2hhcGUsRGVub21TaGFwZSxJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSxUaW1lc3RhbXBQcm90b1NoYXBlLFR5cGVkSnNvblNoYXBlLG1heENsb2NrU2tldyx0b0Rlbm9tQW1vdW50LG9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyxtYWtlVGltZXN0YW1wSGVscGVyLHByZXBhcmVQYWNrZXRUb29scyxwcmVwYXJlSUJDVG9vbHMsY29lcmNlQ29pbixjb2VyY2VEZW5vbUFtb3VudCxUcmFuc2ZlclJvdXRlU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2Nvc21pYy1wcm90b1wiLCBbW1widHlwZWRKc29uXCIsWyRozY9fYSA9PiAodHlwZWRKc29uID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJBbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKEFtb3VudFNoYXBlID0gJGjNj19hKV1dLFtcIlBheW1lbnRTaGFwZVwiLFskaM2PX2EgPT4gKFBheW1lbnRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9uZXR3b3JrXCIsIFtbXCJTaGFwZVwiLFskaM2PX2EgPT4gKE5ldHdvcmtTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkFtb3VudEFyZ1NoYXBlXCIsWyRozY9fYSA9PiAoQW1vdW50QXJnU2hhcGUgPSAkaM2PX2EpXV0sW1wiQW55TmF0QW1vdW50c1JlY29yZFwiLFskaM2PX2EgPT4gKEFueU5hdEFtb3VudHNSZWNvcmQgPSAkaM2PX2EpXV0sW1wiRGVub21BbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tQW1vdW50U2hhcGUgPSAkaM2PX2EpXV0sW1wiRGVub21TaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tU2hhcGUgPSAkaM2PX2EpXV0sW1wiSUJDVHJhbnNmZXJPcHRpb25zU2hhcGVcIixbJGjNj19hID0+IChJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSA9ICRozY9fYSldXSxbXCJUaW1lc3RhbXBQcm90b1NoYXBlXCIsWyRozY9fYSA9PiAoVGltZXN0YW1wUHJvdG9TaGFwZSA9ICRozY9fYSldXSxbXCJUeXBlZEpzb25TaGFwZVwiLFskaM2PX2EgPT4gKFR5cGVkSnNvblNoYXBlID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvY29zbW9zLmpzXCIsIFtbXCJtYXhDbG9ja1NrZXdcIixbJGjNj19hID0+IChtYXhDbG9ja1NrZXcgPSAkaM2PX2EpXV0sW1widG9EZW5vbUFtb3VudFwiLFskaM2PX2EgPT4gKHRvRGVub21BbW91bnQgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9vcmNoZXN0cmF0aW9uQWNjb3VudC5qc1wiLCBbW1wib3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzXCIsWyRozY9fYSA9PiAob3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvdGltZS5qc1wiLCBbW1wibWFrZVRpbWVzdGFtcEhlbHBlclwiLFskaM2PX2EgPT4gKG1ha2VUaW1lc3RhbXBIZWxwZXIgPSAkaM2PX2EpXV1dXSxbXCIuL3BhY2tldC10b29scy5qc1wiLCBbW1wicHJlcGFyZVBhY2tldFRvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZVBhY2tldFRvb2xzID0gJGjNj19hKV1dXV0sW1wiLi9pYmMtcGFja2V0LmpzXCIsIFtbXCJwcmVwYXJlSUJDVG9vbHNcIixbJGjNj19hID0+IChwcmVwYXJlSUJDVG9vbHMgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9hbW91bnRzLmpzXCIsIFtbXCJjb2VyY2VDb2luXCIsWyRozY9fYSA9PiAoY29lcmNlQ29pbiA9ICRozY9fYSldXSxbXCJjb2VyY2VEZW5vbUFtb3VudFwiLFskaM2PX2EgPT4gKGNvZXJjZURlbm9tQW1vdW50ID0gJGjNj19hKV1dXV0sW1wiLi9jaGFpbi1odWIuanNcIiwgW1tcIlRyYW5zZmVyUm91dGVTaGFwZVwiLFskaM2PX2EgPT4gKFRyYW5zZmVyUm91dGVTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignTG9jYWxPcmNoQWNjb3VudCcpO1xuXG5jb25zdCB7IFZvdyQgfSA9IE5ldHdvcmtTaGFwZTsgLy9cblxuY29uc3QgRVZvdyQgPSBzaGFwZSA9PiBNLm9yKFZvdyQoc2hhcGUpLCBNLnByb21pc2UoLyogICAgICAgKi8pKTtcblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgSG9sZGVySSA9IE0uaW50ZXJmYWNlKCdob2xkZXInLCB7XG4gIC4uLm9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyxcbiAgZGVsZWdhdGU6IE0uY2FsbChNLnN0cmluZygpLCBBbW91bnRTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIHVuZGVsZWdhdGU6IE0uY2FsbChNLnN0cmluZygpLCBBbW91bnRTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGRlcG9zaXQ6IE0uY2FsbChQYXltZW50U2hhcGUpLnJldHVybnMoVm93U2hhcGUpLFxuICB3aXRoZHJhdzogTS5jYWxsKEFtb3VudFNoYXBlKS5yZXR1cm5zKFZvdyQoUGF5bWVudFNoYXBlKSksXG4gIGV4ZWN1dGVUeDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhWb3ckKE0ucmVjb3JkKCkpKSxcbiAgc2VuZFRoZW5XYWl0Rm9yQWNrOiBNLmNhbGwoRVZvdyQoTS5yZW1vdGFibGUoJ1BhY2tldFNlbmRlcicpKSlcbiAgICAub3B0aW9uYWwoTS5hbnkoKSlcbiAgICAucmV0dXJucyhFVm93JChNLnN0cmluZygpKSksXG4gIG1hdGNoRmlyc3RQYWNrZXQ6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKEVWb3ckKE0uYW55KCkpKSxcbiAgbW9uaXRvclRyYW5zZmVyczogTS5jYWxsKE0ucmVtb3RhYmxlKCdUYXJnZXRBcHAnKSkucmV0dXJucyhFVm93JChNLmFueSgpKSksXG4gIHBhcnNlSW5ib3VuZFRyYW5zZmVyOiBNLmNhbGwoTS5yZWNvcmRPZihNLnN0cmluZygpLCBNLmFueSgpKSkucmV0dXJucyhcbiAgICBWb3ckKHtcbiAgICAgIGFtb3VudDogRGVub21BbW91bnRTaGFwZSxcbiAgICAgIGZyb21BY2NvdW50OiBNLnN0cmluZygpLFxuICAgICAgdG9BY2NvdW50OiBNLnN0cmluZygpLFxuICAgICAgZXh0cmE6IE0ucmVjb3JkT2YoTS5zdHJpbmcoKSwgTS5hbnkoKSksXG4gICAgfSksXG4gICksXG59KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IFBVQkxJQ19UT1BJQ1MgPSB7XG4gIGFjY291bnQ6IFsnQWNjb3VudCBob2xkZXIgc3RhdHVzJywgTS5hbnkoKV0sXG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQgPSAoXG4gIHpvbmUsXG4gIHtcbiAgICBtYWtlUmVjb3JkZXJLaXQsXG4gICAgemNmLFxuICAgIHRpbWVyU2VydmljZSxcbiAgICB2b3dUb29scyxcbiAgICBjaGFpbkh1YixcbiAgICBsb2NhbGNoYWluLFxuICAgIHpvZVRvb2xzLFxuICB9LFxuKSA9PiB7XG4gIGNvbnN0IHsgd2F0Y2gsIGFzVm93LCB3aGVuIH0gPSB2b3dUb29scztcbiAgY29uc3QgeyBtYWtlSUJDVHJhbnNmZXJTZW5kZXIgfSA9IHByZXBhcmVJQkNUb29scyhcbiAgICB6b25lLnN1YlpvbmUoJ2liY1Rvb2xzJyksXG4gICAgdm93VG9vbHMsXG4gICk7XG4gIGNvbnN0IG1ha2VQYWNrZXRUb29scyA9IHByZXBhcmVQYWNrZXRUb29scyhcbiAgICB6b25lLnN1YlpvbmUoJ3BhY2tldFRvb2xzJyksXG4gICAgdm93VG9vbHMsXG4gICk7XG4gIGNvbnN0IHRpbWVzdGFtcEhlbHBlciA9IG1ha2VUaW1lc3RhbXBIZWxwZXIodGltZXJTZXJ2aWNlKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1ha2VMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnTG9jYWwgT3JjaGVzdHJhdGlvbiBBY2NvdW50IEtpdCcsXG4gICAge1xuICAgICAgaGVscGVyOiBNLmludGVyZmFjZSgnaGVscGVyJywge1xuICAgICAgICBhbW91bnRUb0NvaW46IE0uY2FsbChBbW91bnRBcmdTaGFwZSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgIH0pLFxuICAgICAgaG9sZGVyOiBIb2xkZXJJLFxuICAgICAgdW5kZWxlZ2F0ZVdhdGNoZXI6IE0uaW50ZXJmYWNlKCd1bmRlbGVnYXRlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChbXG4gICAgICAgICAgTS5zcGxpdFJlY29yZCh7IGNvbXBsZXRpb25UaW1lOiBUaW1lc3RhbXBQcm90b1NoYXBlIH0pLFxuICAgICAgICBdKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpIC8vXG4gICAgICAgICAgLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgfSksXG4gICAgICB0cmFuc2ZlcldhdGNoZXI6IE0uaW50ZXJmYWNlKCd0cmFuc2ZlcldhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5uYXQoKSlcbiAgICAgICAgICAub3B0aW9uYWwoe1xuICAgICAgICAgICAgb3B0czogTS5vcihNLnVuZGVmaW5lZCgpLCBJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSksXG4gICAgICAgICAgICByb3V0ZTogVHJhbnNmZXJSb3V0ZVNoYXBlLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnJldHVybnMoVm93JChNLnJlY29yZCgpKSksXG4gICAgICB9KSxcbiAgICAgIGV4dHJhY3RGaXJzdFJlc3VsdFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdleHRyYWN0Rmlyc3RSZXN1bHRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFtNLnJlY29yZCgpXSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKVxuICAgICAgICAgIC5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICByZXR1cm5Wb2lkV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3JldHVyblZvaWRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLm9wdGlvbmFsKE0uYW55KCkpLnJldHVybnMoTS51bmRlZmluZWQoKSksXG4gICAgICB9KSxcbiAgICAgIHNlYXRFeGl0ZXJIYW5kbGVyOiBNLmludGVyZmFjZSgnc2VhdEV4aXRlckhhbmRsZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS51bmRlZmluZWQoKSwgTS5yZW1vdGFibGUoKSkucmV0dXJucyhcbiAgICAgICAgICBNLnVuZGVmaW5lZCgpLFxuICAgICAgICApLFxuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5lcnJvcigpLCBNLnJlbW90YWJsZSgpKS5yZXR1cm5zKE0udW5kZWZpbmVkKCkpLFxuICAgICAgfSksXG4gICAgICBnZXRCYWxhbmNlV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ2dldEJhbGFuY2VXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKEFtb3VudFNoYXBlLCBEZW5vbVNoYXBlKS5yZXR1cm5zKERlbm9tQW1vdW50U2hhcGUpLFxuICAgICAgfSksXG4gICAgICBxdWVyeUJhbGFuY2VXYXRjaGVyOiBNLmludGVyZmFjZSgncXVlcnlCYWxhbmNlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChUeXBlZEpzb25TaGFwZSkucmV0dXJucyhEZW5vbUFtb3VudFNoYXBlKSxcbiAgICAgIH0pLFxuICAgICAgcXVlcnlCYWxhbmNlc1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdxdWVyeUJhbGFuY2VzV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChUeXBlZEpzb25TaGFwZSkucmV0dXJucyhcbiAgICAgICAgICBNLmFycmF5T2YoRGVub21BbW91bnRTaGFwZSksXG4gICAgICAgICksXG4gICAgICB9KSxcbiAgICAgIHBhcnNlSW5ib3VuZFRyYW5zZmVyV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3BhcnNlSW5ib3VuZFRyYW5zZmVyV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnJlY29yZCgpLCBNLnJlY29yZCgpKS5yZXR1cm5zKE0ucmVjb3JkKCkpLFxuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSwgTS5yZWNvcmQoKSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgIH0pLFxuICAgICAgaW52aXRhdGlvbk1ha2VyczogTS5pbnRlcmZhY2UoJ2ludml0YXRpb25NYWtlcnMnLCB7XG4gICAgICAgIENsb3NlQWNjb3VudDogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICAgIERlbGVnYXRlOiBNLmNhbGwoTS5zdHJpbmcoKSwgQW1vdW50U2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgICAgICBEZXBvc2l0OiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgICAgU2VuZDogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICAgIFNlbmRBbGw6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgICAgICBUcmFuc2ZlcjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICAgIFVuZGVsZWdhdGU6IE0uY2FsbChNLnN0cmluZygpLCBBbW91bnRTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICAgIFdpdGhkcmF3OiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgLypcblxuXG5cblxuXG4gICAgICovXG4gICAgKHsgYWNjb3VudCwgYWRkcmVzcywgc3RvcmFnZU5vZGUgfSkgPT4ge1xuICAgICAgLy9cbiAgICAgIGNvbnN0IHRvcGljS2l0ID0gc3RvcmFnZU5vZGVcbiAgICAgICAgPyBtYWtlUmVjb3JkZXJLaXQoc3RvcmFnZU5vZGUsIFBVQkxJQ19UT1BJQ1MuYWNjb3VudFsxXSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAvL1xuICAgICAgaWYgKHRvcGljS2l0KSB7XG4gICAgICAgIHZvaWQgRSh0b3BpY0tpdC5yZWNvcmRlcikud3JpdGUoJycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYWNrZXRUb29scyA9IG1ha2VQYWNrZXRUb29scyhhY2NvdW50KTtcblxuICAgICAgcmV0dXJuIHsgYWNjb3VudCwgYWRkcmVzcywgcGFja2V0VG9vbHMsIHRvcGljS2l0IH07XG4gICAgfSxcbiAgICB7XG4gICAgICBoZWxwZXI6IHtcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBhbW91bnRUb0NvaW4oYW1vdW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvZXJjZUNvaW4oY2hhaW5IdWIsIGFtb3VudCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW52aXRhdGlvbk1ha2Vyczoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIERlbGVnYXRlKHZhbGlkYXRvckFkZHJlc3MsIGVydHBBbW91bnQpIHtcbiAgICAgICAgICB0cmFjZSgnRGVsZWdhdGUnLCB2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KTtcblxuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oc2VhdCA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMuaG9sZGVyLmRlbGVnYXRlKHZhbGlkYXRvckFkZHJlc3MsIGVydHBBbW91bnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LCAnRGVsZWdhdGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgRGVwb3NpdCgpIHtcbiAgICAgICAgICB0cmFjZSgnRGVwb3NpdCcpO1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oXG4gICAgICAgICAgICBzZWF0ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBnaXZlIH0gPSBzZWF0LmdldFByb3Bvc2FsKCk7XG4gICAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgICB6b2VUb29scy5sb2NhbFRyYW5zZmVyKFxuICAgICAgICAgICAgICAgICAgc2VhdCxcbiAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjY291bnQsXG4gICAgICAgICAgICAgICAgICBnaXZlLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNldHMuc2VhdEV4aXRlckhhbmRsZXIsXG4gICAgICAgICAgICAgICAgc2VhdCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnRGVwb3NpdCcsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBNLnNwbGl0UmVjb3JkKHsgZ2l2ZTogQW55TmF0QW1vdW50c1JlY29yZCwgd2FudDoge30gfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBVbmRlbGVnYXRlKHZhbGlkYXRvckFkZHJlc3MsIGVydHBBbW91bnQpIHtcbiAgICAgICAgICB0cmFjZSgnVW5kZWxlZ2F0ZScsIHZhbGlkYXRvckFkZHJlc3MsIGVydHBBbW91bnQpO1xuXG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihzZWF0ID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5ob2xkZXIudW5kZWxlZ2F0ZSh2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgJ1VuZGVsZWdhdGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgQ2xvc2VBY2NvdW50KCkge1xuICAgICAgICAgIHRocm93IEVycm9yKCdub3QgeWV0IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFNlbmQoKSB7XG4gICAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG9mZmVySGFuZGxlciA9IChzZWF0LCB7IHRvQWNjb3VudCwgYW1vdW50IH0pID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci5zZW5kKHRvQWNjb3VudCwgYW1vdW50KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKG9mZmVySGFuZGxlciwgJ1NlbmQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgU2VuZEFsbCgpIHtcbiAgICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3Qgb2ZmZXJIYW5kbGVyID0gKHNlYXQsIHsgdG9BY2NvdW50LCBhbW91bnRzIH0pID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci5zZW5kQWxsKHRvQWNjb3VudCwgYW1vdW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihvZmZlckhhbmRsZXIsICdTZW5kQWxsJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFRyYW5zZmVyKCkge1xuICAgICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG9mZmVySGFuZGxlciA9IChzZWF0LCB7IGFtb3VudCwgZGVzdGluYXRpb24sIG9wdHMgfSkgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLmhvbGRlci50cmFuc2ZlcihkZXN0aW5hdGlvbiwgYW1vdW50LCBvcHRzKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKG9mZmVySGFuZGxlciwgJ1RyYW5zZmVyJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFdpdGhkcmF3KCkge1xuICAgICAgICAgIHRyYWNlKCdXaXRoZHJhdycpO1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oXG4gICAgICAgICAgICBzZWF0ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyB3YW50IH0gPSBzZWF0LmdldFByb3Bvc2FsKCk7XG4gICAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgICB6b2VUb29scy53aXRoZHJhd1RvU2VhdChcbiAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFjY291bnQsXG4gICAgICAgICAgICAgICAgICBzZWF0LFxuICAgICAgICAgICAgICAgICAgd2FudCxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnNlYXRFeGl0ZXJIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHNlYXQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ1dpdGhkcmF3JyxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIE0uc3BsaXRSZWNvcmQoeyBnaXZlOiB7fSwgd2FudDogQW55TmF0QW1vdW50c1JlY29yZCB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHVuZGVsZWdhdGVXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQocmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCB7IGNvbXBsZXRpb25UaW1lIH0gPSByZXNwb25zZVswXTtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBFKHRpbWVyU2VydmljZSkud2FrZUF0KFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBCaWdJbnQoY29tcGxldGlvblRpbWUuc2Vjb25kcykgKyBtYXhDbG9ja1NrZXcsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB0cmFuc2ZlcldhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZCh0aW1lb3V0VGltZXN0YW1wLCB7IG9wdHMsIHJvdXRlIH0pIHtcbiAgICAgICAgICBjb25zdCB7IGZvcndhcmRJbmZvLCAuLi50cmFuc2ZlckRldGFpbHMgfSA9IHJvdXRlO1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGxldCBtZW1vO1xuICAgICAgICAgIGlmIChvcHRzICYmICdtZW1vJyBpbiBvcHRzKSB7XG4gICAgICAgICAgICBtZW1vID0gb3B0cy5tZW1vO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZm9yd2FyZEluZm8pIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBtZW1vID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBmb3J3YXJkOiB7XG4gICAgICAgICAgICAgICAgLi4uZm9yd2FyZEluZm8uZm9yd2FyZCxcbiAgICAgICAgICAgICAgICBuZXh0OiBtZW1vLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRyYW5zZmVyTXNnID0gdHlwZWRKc29uKFxuICAgICAgICAgICAgJy9pYmMuYXBwbGljYXRpb25zLnRyYW5zZmVyLnYxLk1zZ1RyYW5zZmVyJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLi4udHJhbnNmZXJEZXRhaWxzLFxuICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuc3RhdGUuYWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgdGltZW91dEhlaWdodDogb3B0cz8udGltZW91dEhlaWdodCA/PyB7XG4gICAgICAgICAgICAgICAgcmV2aXNpb25IZWlnaHQ6IDBuLFxuICAgICAgICAgICAgICAgIHJldmlzaW9uTnVtYmVyOiAwbixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdGltZW91dFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgbWVtbzogbWVtbyA/PyAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHsgaG9sZGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCBzZW5kZXIgPSBtYWtlSUJDVHJhbnNmZXJTZW5kZXIoXG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgKi8gKGhvbGRlciksXG4gICAgICAgICAgICB0cmFuc2Zlck1zZyxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBob2xkZXIuc2VuZFRoZW5XYWl0Rm9yQWNrKHNlbmRlcik7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIGV4dHJhY3RGaXJzdFJlc3VsdFdhdGNoZXI6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQocmVzdWx0cykge1xuICAgICAgICAgIHJlc3VsdHMubGVuZ3RoID09PSAxIHx8XG4gICAgICAgICAgICBGYWlsYGV4cGVjdGVkIGV4YWN0bHkgb25lIHJlc3VsdDsgZ290ICR7cmVzdWx0c31gO1xuICAgICAgICAgIHJldHVybiByZXN1bHRzWzBdO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJldHVyblZvaWRXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKCkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIGdldEJhbGFuY2VXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChuYXRBbW91bnQsIGRlbm9tKSB7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih7IGRlbm9tLCB2YWx1ZTogbmF0QW1vdW50LnZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBzZWF0RXhpdGVySGFuZGxlcjoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKF8sIHNlYXQpIHtcbiAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBvblJlamVjdGVkKHJlYXNvbiwgc2VhdCkge1xuICAgICAgICAgIHNlYXQuZXhpdChyZWFzb24pO1xuICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgcXVlcnlCYWxhbmNlV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCB7IGJhbGFuY2UgfSA9IHJlc3VsdDtcbiAgICAgICAgICBpZiAoIWJhbGFuY2UgfHwgIWJhbGFuY2U/LmRlbm9tKSB7XG4gICAgICAgICAgICB0aHJvdyBGYWlsYEV4cGVjdGVkIGJhbGFuY2UgJHtxKHJlc3VsdCl9O2A7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBoYXJkZW4odG9EZW5vbUFtb3VudChiYWxhbmNlKSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHF1ZXJ5QmFsYW5jZXNXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCB7IGJhbGFuY2VzIH0gPSByZXN1bHQ7XG4gICAgICAgICAgaWYgKCFiYWxhbmNlcyB8fCAhQXJyYXkuaXNBcnJheShiYWxhbmNlcykpIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgRXhwZWN0ZWQgYmFsYW5jZXMgJHtxKHJlc3VsdCl9O2A7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBoYXJkZW4oYmFsYW5jZXMubWFwKHRvRGVub21BbW91bnQpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJzZUluYm91bmRUcmFuc2ZlcldhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQobG9jYWxEZW5vbUhhc2gsIG5haXZlUmVzdWx0KSB7XG4gICAgICAgICAgY29uc3QgbG9jYWxEZW5vbSA9IGBpYmMvJHtsb2NhbERlbm9tSGFzaC5oYXNofWA7XG4gICAgICAgICAgY29uc3QgeyBhbW91bnQsIC4uLnJlc3QgfSA9IG5haXZlUmVzdWx0O1xuICAgICAgICAgIGNvbnN0IHsgZGVub206IF8sIC4uLmFtb3VudFJlc3QgfSA9IGFtb3VudDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICBhbW91bnQ6IHsgLi4uYW1vdW50UmVzdCwgZGVub206IGxvY2FsRGVub20gfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25SZWplY3RlZChyZWFzb24sIG5haXZlUmVzdWx0KSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgICAgIFN0cmluZyhyZWFzb24ubWVzc2FnZSkuaW5jbHVkZXMoJ2Rlbm9taW5hdGlvbiB0cmFjZSBub3QgZm91bmQnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybiBuYWl2ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaG9sZGVyOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgYXNDb250aW51aW5nT2ZmZXIoKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGFzVm93KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IGhvbGRlciwgaW52aXRhdGlvbk1ha2VyczogaW0gfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IGludml0YXRpb25NYWtlcnMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAqLyAoaW0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgcHVibGljU3Vic2NyaWJlcnM6IGF3YWl0IHdoZW4oaG9sZGVyLmdldFB1YmxpY1RvcGljcygpKSxcbiAgICAgICAgICAgICAgaW52aXRhdGlvbk1ha2VycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0QmFsYW5jZShkZW5vbUFyZykge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbYnJhbmQsIGRlbm9tXSA9XG4gICAgICAgICAgICAgIHR5cGVvZiBkZW5vbUFyZyA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IFtjaGFpbkh1Yi5nZXRBc3NldChkZW5vbUFyZywgJ2Fnb3JpYycpPy5icmFuZCwgZGVub21BcmddXG4gICAgICAgICAgICAgICAgOiBbZGVub21BcmcsIGNoYWluSHViLmdldERlbm9tKGRlbm9tQXJnKV07XG5cbiAgICAgICAgICAgIGlmICghZGVub20pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBObyBkZW5vbSBmb3IgYnJhbmQ6ICR7ZGVub21Bcmd9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJyYW5kKSB7XG4gICAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgICBFKHRoaXMuc3RhdGUuYWNjb3VudCkuZ2V0QmFsYW5jZShicmFuZCksXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNldHMuZ2V0QmFsYW5jZVdhdGNoZXIsXG4gICAgICAgICAgICAgICAgZGVub20sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgRShsb2NhbGNoYWluKS5xdWVyeShcbiAgICAgICAgICAgICAgICB0eXBlZEpzb24oJy9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QmFsYW5jZVJlcXVlc3QnLCB7XG4gICAgICAgICAgICAgICAgICBhZGRyZXNzOiB0aGlzLnN0YXRlLmFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICBkZW5vbSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucXVlcnlCYWxhbmNlV2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0QmFsYW5jZXMoKSB7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRShsb2NhbGNoYWluKS5xdWVyeShcbiAgICAgICAgICAgICAgdHlwZWRKc29uKCcvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCcsIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiB0aGlzLnN0YXRlLmFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnF1ZXJ5QmFsYW5jZXNXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0UHVibGljVG9waWNzKCkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gYXNWb3coYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHsgdG9waWNLaXQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIXRvcGljS2l0KSB0aHJvdyBGYWlsYE5vIHRvcGljS2l0OyBzdG9yYWdlTm9kZSBub3QgcHJvdmlkZWRgO1xuICAgICAgICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgICAgICAgIGFjY291bnQ6IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogUFVCTElDX1RPUElDUy5hY2NvdW50WzBdLFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXI6IHRvcGljS2l0LnN1YnNjcmliZXIsXG4gICAgICAgICAgICAgICAgc3RvcmFnZVBhdGg6IGF3YWl0IHRvcGljS2l0LnJlY29yZGVyLmdldFN0b3JhZ2VQYXRoKCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9cbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxlZ2F0ZSh2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KSB7XG4gICAgICAgICAgY29uc3QgeyBhY2NvdW50OiBsY2EgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBjb25zdCBhbW91bnQgPSBjb2VyY2VDb2luKGNoYWluSHViLCBlcnRwQW1vdW50KTtcblxuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUobGNhKS5leGVjdXRlVHgoW1xuICAgICAgICAgICAgICB0eXBlZEpzb24oJy9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0RlbGVnYXRlJywge1xuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHJlc3M6IHRoaXMuc3RhdGUuYWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmV4dHJhY3RGaXJzdFJlc3VsdFdhdGNoZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9cbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHVuZGVsZWdhdGUodmFsaWRhdG9yQWRkcmVzcywgZXJ0cEFtb3VudCkge1xuICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGNvZXJjZUNvaW4oY2hhaW5IdWIsIGVydHBBbW91bnQpO1xuICAgICAgICAgIGNvbnN0IHsgYWNjb3VudDogbGNhIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUobGNhKS5leGVjdXRlVHgoW1xuICAgICAgICAgICAgICB0eXBlZEpzb24oJy9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ1VuZGVsZWdhdGUnLCB7XG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIHZhbGlkYXRvckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcmVzczogdGhpcy5zdGF0ZS5hZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMudW5kZWxlZ2F0ZVdhdGNoZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGRlcG9zaXQocGF5bWVudCkge1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUodGhpcy5zdGF0ZS5hY2NvdW50KS5kZXBvc2l0KHBheW1lbnQpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHdpdGhkcmF3KGFtb3VudCkge1xuICAgICAgICAgIHJldHVybiB3YXRjaChFKHRoaXMuc3RhdGUuYWNjb3VudCkud2l0aGRyYXcoYW1vdW50KSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGV4ZWN1dGVUeChtZXNzYWdlcykge1xuICAgICAgICAgIHJldHVybiB3YXRjaChFKHRoaXMuc3RhdGUuYWNjb3VudCkuZXhlY3V0ZVR4KG1lc3NhZ2VzKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5hZGRyZXNzO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgc2VuZCh0b0FjY291bnQsIGFtb3VudCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnc2VuZCcsIHRvQWNjb3VudCwgYW1vdW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNvc21vc0Rlc3QgPSBjaGFpbkh1Yi5jb2VyY2VDb3Ntb3NBZGRyZXNzKHRvQWNjb3VudCk7XG4gICAgICAgICAgICBjb3Ntb3NEZXN0LmNoYWluSWQgPT09IHRoaXMuc3RhdGUuYWRkcmVzcy5jaGFpbklkIHx8XG4gICAgICAgICAgICAgIEZhaWxgYmFuay9zZW5kIGNhbm5vdCBzZW5kIHRvIGEgZGlmZmVyZW50IGNoYWluICR7cShjb3Ntb3NEZXN0LmNoYWluSWQpfWA7XG4gICAgICAgICAgICBjb25zdCB7IGhlbHBlciB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIEUodGhpcy5zdGF0ZS5hY2NvdW50KS5leGVjdXRlVHgoW1xuICAgICAgICAgICAgICAgIHR5cGVkSnNvbignL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnU2VuZCcsIHtcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogW2hlbHBlci5hbW91bnRUb0NvaW4oYW1vdW50KV0sXG4gICAgICAgICAgICAgICAgICB0b0FkZHJlc3M6IGNvc21vc0Rlc3QudmFsdWUsXG4gICAgICAgICAgICAgICAgICBmcm9tQWRkcmVzczogdGhpcy5zdGF0ZS5hZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgc2VuZEFsbCh0b0FjY291bnQsIGFtb3VudHMpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ3NlbmRBbGwnLCB0b0FjY291bnQsIGFtb3VudHMpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICBFKHRoaXMuc3RhdGUuYWNjb3VudCkuZXhlY3V0ZVR4KFtcbiAgICAgICAgICAgICAgICB0eXBlZEpzb24oJy9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1NlbmQnLCB7XG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudHMubWFwKGEgPT4gaGVscGVyLmFtb3VudFRvQ29pbihhKSksXG4gICAgICAgICAgICAgICAgICB0b0FkZHJlc3M6IHRvQWNjb3VudC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIGZyb21BZGRyZXNzOiB0aGlzLnN0YXRlLmFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHRyYW5zZmVyKGRlc3RpbmF0aW9uLCBhbW91bnQsIG9wdHMpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ1RyYW5zZmVycmluZyBmdW5kcyBvdmVyIElCQycpO1xuXG4gICAgICAgICAgICBjb25zdCBkZW5vbUFtb3VudCA9IGNvZXJjZURlbm9tQW1vdW50KGNoYWluSHViLCBhbW91bnQpO1xuXG4gICAgICAgICAgICBjb25zdCB7IGZvcndhcmRPcHRzLCAuLi5yZXN0IH0gPSBvcHRzID8/IHt9O1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSBjaGFpbkh1Yi5tYWtlVHJhbnNmZXJSb3V0ZShcbiAgICAgICAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgICAgICAgIGRlbm9tQW1vdW50LFxuICAgICAgICAgICAgICAnYWdvcmljJyxcbiAgICAgICAgICAgICAgZm9yd2FyZE9wdHMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdHJhY2UoJ2dvdCB0cmFuc2ZlciByb3V0ZScsIHJvdXRlKTtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCByZXN1bHRWID0gd2F0Y2goXG4gICAgICAgICAgICAgIHRpbWVzdGFtcEhlbHBlci52b3dPclZhbHVlRnJvbU9wdHMob3B0cyksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnRyYW5zZmVyV2F0Y2hlcixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdHM6IHJlc3QsXG4gICAgICAgICAgICAgICAgcm91dGUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFY7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlSW5ib3VuZFRyYW5zZmVyKHJlY29yZCkge1xuICAgICAgICAgIHRyYWNlKCdwYXJzZUluYm91bmRUcmFuc2ZlcicsIHJlY29yZCk7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9XG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgICAgcmVjb3JkXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBmdFBhY2tldERhdGEgPSBKU09OLnBhcnNlKGF0b2IocGFja2V0LmRhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgZGVub206IHRyYW5zZmVyRGVub20sXG4gICAgICAgICAgICAgIHNlbmRlcixcbiAgICAgICAgICAgICAgcmVjZWl2ZXIsXG4gICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgIH0gPSBmdFBhY2tldERhdGE7XG5cbiAgICAgICAgICAgIC8qXG5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYnVpbGRSZXR1cm5WYWx1ZSA9IGxvY2FsRGVub20gPT5cbiAgICAgICAgICAgICAgaGFyZGVuKHtcbiAgICAgICAgICAgICAgICBhbW91bnQ6IC8qICAgICAgICAgICAgICAgICAgICAgICovICh7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogQmlnSW50KGFtb3VudCksXG4gICAgICAgICAgICAgICAgICBkZW5vbTogbG9jYWxEZW5vbSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBmcm9tQWNjb3VudDogc2VuZGVyLFxuICAgICAgICAgICAgICAgIHRvQWNjb3VudDogcmVjZWl2ZXIsXG4gICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmZ0UGFja2V0RGF0YSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLypcblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgZGVub21PclRyYWNlO1xuXG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSBgJHtwYWNrZXQuc291cmNlX3BvcnR9LyR7cGFja2V0LnNvdXJjZV9jaGFubmVsfS9gO1xuICAgICAgICAgICAgdHJhY2UoeyB0cmFuc2ZlckRlbm9tLCBwcmVmaXggfSk7XG4gICAgICAgICAgICBpZiAodHJhbnNmZXJEZW5vbS5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVub21PclRyYWNlID0gdHJhbnNmZXJEZW5vbS5zbGljZShwcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGRlbm9tT3JUcmFjZSA9IGAke3BhY2tldC5kZXN0aW5hdGlvbl9wb3J0fS8ke3BhY2tldC5kZXN0aW5hdGlvbl9jaGFubmVsfS8ke3RyYW5zZmVyRGVub219YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgRShsb2NhbGNoYWluKS5xdWVyeShcbiAgICAgICAgICAgICAgICB0eXBlZEpzb24oXG4gICAgICAgICAgICAgICAgICAnL2liYy5hcHBsaWNhdGlvbnMudHJhbnNmZXIudjEuUXVlcnlEZW5vbUhhc2hSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgIHsgdHJhY2U6IGRlbm9tT3JUcmFjZSB9LFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnBhcnNlSW5ib3VuZFRyYW5zZmVyV2F0Y2hlcixcbiAgICAgICAgICAgICAgYnVpbGRSZXR1cm5WYWx1ZShkZW5vbU9yVHJhY2UpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHRyYW5zZmVyU3RlcHMoYW1vdW50LCBtc2cpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RyYW5zZmVyU3RlcHMgZ290JywgYW1vdW50LCBtc2cpO1xuICAgICAgICAgICAgdGhyb3cgRmFpbGBub3QgeWV0IGltcGxlbWVudGVkYDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgc2VuZFRoZW5XYWl0Rm9yQWNrKHNlbmRlciwgb3B0cykge1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUodGhpcy5zdGF0ZS5wYWNrZXRUb29scykuc2VuZFRoZW5XYWl0Rm9yQWNrKHNlbmRlciwgb3B0cyksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIG1hdGNoRmlyc3RQYWNrZXQocGF0dGVyblYpIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goRSh0aGlzLnN0YXRlLnBhY2tldFRvb2xzKS5tYXRjaEZpcnN0UGFja2V0KHBhdHRlcm5WKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIG1vbml0b3JUcmFuc2ZlcnModGFwKSB7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKEUodGhpcy5zdGF0ZS5wYWNrZXRUb29scykubW9uaXRvclRyYW5zZmVycyh0YXApKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIG1ha2VMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0O1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLnByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0KHByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0IjpbInByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKZZbyleGAAAXhgAADUAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL29yY2hlc3RyYXRvci5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2VydHAiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvbmV0d29yayIsIkBlbmRvL2Vycm9ycyIsIkBlbmRvL3BhdHRlcm5zIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbIk9yY2hlc3RyYXRvckkiLCJwcmVwYXJlT3JjaGVzdHJhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgQW1vdW50U2hhcGUsbWFrZVNjYWxhck1hcFN0b3JlLHBpY2tGYWNldCxtYWtlVHJhY2VyLE5ldHdvcmtTaGFwZSxGYWlsLHEsTSxEZW5vbUluZm9TaGFwZSxEZW5vbUFtb3VudFNoYXBlLERlbm9tU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2VydHBcIiwgW1tcIkFtb3VudFNoYXBlXCIsWyRozY9fYSA9PiAoQW1vdW50U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3ZhdC1kYXRhXCIsIFtbXCJtYWtlU2NhbGFyTWFwU3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyTWFwU3RvcmUgPSAkaM2PX2EpXV0sW1wicGlja0ZhY2V0XCIsWyRozY9fYSA9PiAocGlja0ZhY2V0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL25ldHdvcmtcIiwgW1tcIlNoYXBlXCIsWyRozY9fYSA9PiAoTmV0d29ya1NoYXBlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkRlbm9tSW5mb1NoYXBlXCIsWyRozY9fYSA9PiAoRGVub21JbmZvU2hhcGUgPSAkaM2PX2EpXV0sW1wiRGVub21BbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tQW1vdW50U2hhcGUgPSAkaM2PX2EpXV0sW1wiRGVub21TaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IFZvdyQgfSA9IE5ldHdvcmtTaGFwZTsgLy9cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignT3JjaGVzdHJhdG9yJyk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgT3JjaGVzdHJhdG9ySSA9IE0uaW50ZXJmYWNlKCdPcmNoZXN0cmF0b3InLCB7XG4gIGdldENoYWluOiBNLmNhbGwoTS5zdHJpbmcoKSkucmV0dXJucyhWb3ckKE0ucmVtb3RhYmxlKCdDaGFpbkZhY2FkZScpKSksXG4gIGdldERlbm9tSW5mbzogTS5jYWxsKERlbm9tU2hhcGUsIE0uc3RyaW5nKCkpLnJldHVybnMoRGVub21JbmZvU2hhcGUpLFxuICBhc0Ftb3VudDogTS5jYWxsKERlbm9tQW1vdW50U2hhcGUpLnJldHVybnMoQW1vdW50U2hhcGUpLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5PcmNoZXN0cmF0b3JJKE9yY2hlc3RyYXRvckkpO1xuY29uc3QgcHJlcGFyZU9yY2hlc3RyYXRvcktpdCA9IChcbiAgem9uZSxcbiAge1xuICAgIGNoYWluSHViLFxuICAgIG1ha2VMb2NhbENoYWluRmFjYWRlLFxuICAgIG1ha2VSZW1vdGVDaGFpbkZhY2FkZSxcbiAgICB2b3dUb29sczogeyB3YXRjaCwgYXNWb3cgfSxcbiAgfSxcbikgPT4ge1xuICAvKlxuXG5cbiAgICovXG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGNoYWluQnlOYW1lID0gbWFrZVNjYWxhck1hcFN0b3JlKCdjaGFpbk5hbWUnKTtcblxuICByZXR1cm4gem9uZS5leG9DbGFzc0tpdChcbiAgICAnT3JjaGVzdHJhdG9yJyxcbiAgICB7XG4gICAgICBvcmNoZXN0cmF0b3I6IE9yY2hlc3RyYXRvckksXG4gICAgICBtYWtlTG9jYWxDaGFpbkZhY2FkZVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdtYWtlTG9jYWxDaGFpbkZhY2FkZVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5yZWNvcmQoKSkucmV0dXJucyhNLnJlbW90YWJsZSgpKSxcbiAgICAgIH0pLFxuICAgICAgbWFrZVJlbW90ZUNoYWluRmFjYWRlV2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAgICdtYWtlUmVtb3RlQ2hhaW5GYWNhZGVXYXRjaGVyJyxcbiAgICAgICAge1xuICAgICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSwgTS5zdHJpbmcoKSlcbiAgICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpIC8vXG4gICAgICAgICAgICAucmV0dXJucyhNLnJlbW90YWJsZSgpKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICB0cmFjZSgnbWFraW5nIGFuIE9yY2hlc3RyYXRvcicpO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIG1ha2VMb2NhbENoYWluRmFjYWRlV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChhZ29yaWNDaGFpbkluZm8pIHtcbiAgICAgICAgICBjb25zdCBpdCA9IG1ha2VMb2NhbENoYWluRmFjYWRlKGFnb3JpY0NoYWluSW5mbyk7XG4gICAgICAgICAgY2hhaW5CeU5hbWUuc2V0KCdhZ29yaWMnLCBoYXJkZW4oeyB2YWx1ZTogaXQsIHBlbmRpbmc6IGZhbHNlIH0pKTtcbiAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIG1ha2VSZW1vdGVDaGFpbkZhY2FkZVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbX2Fnb3JpY0NoYWluSW5mbywgcmVtb3RlQ2hhaW5JbmZvLCBjb25uZWN0aW9uSW5mb10sIG5hbWUpIHtcbiAgICAgICAgICBjb25zdCBpdCA9IG1ha2VSZW1vdGVDaGFpbkZhY2FkZShyZW1vdGVDaGFpbkluZm8sIGNvbm5lY3Rpb25JbmZvKTtcbiAgICAgICAgICBjaGFpbkJ5TmFtZS5zZXQobmFtZSwgaGFyZGVuKHsgdmFsdWU6IGl0LCBwZW5kaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgICAgcmV0dXJuIGl0O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG9yY2hlc3RyYXRvcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRDaGFpbihuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGFpbkJ5TmFtZS5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF5YmVDaGFpbiA9IGNoYWluQnlOYW1lLmdldChuYW1lKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG1heWJlQ2hhaW4ucGVuZGluZyA/IG1heWJlQ2hhaW4udm93IDogbWF5YmVDaGFpbi52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZvdyA9XG4gICAgICAgICAgICAgIG5hbWUgPT09ICdhZ29yaWMnXG4gICAgICAgICAgICAgICAgPyB3YXRjaChcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5IdWIuZ2V0Q2hhaW5JbmZvKCdhZ29yaWMnKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNldHMubWFrZUxvY2FsQ2hhaW5GYWNhZGVXYXRjaGVyLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogd2F0Y2goXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSHViLmdldENoYWluc0FuZENvbm5lY3Rpb24oJ2Fnb3JpYycsIG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5tYWtlUmVtb3RlQ2hhaW5GYWNhZGVXYXRjaGVyLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNoYWluQnlOYW1lLmluaXQobmFtZSwgaGFyZGVuKHsgdm93LCBwZW5kaW5nOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB2b3c7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXREZW5vbUluZm8oZGVub20sIGhvbGRpbmdDaGFpbk5hbWUpIHtcbiAgICAgICAgICBjb25zdCBkZW5vbURldGFpbCA9IGNoYWluSHViLmdldEFzc2V0KGRlbm9tLCBob2xkaW5nQ2hhaW5OYW1lKTtcbiAgICAgICAgICBpZiAoIWRlbm9tRGV0YWlsKSB0aHJvdyBGYWlsYE5vIGRlbm9tIGRldGFpbCBmb3IgJHtxKGRlbm9tKX1gO1xuICAgICAgICAgIGNvbnN0IHsgY2hhaW5OYW1lLCBiYXNlTmFtZSwgYmFzZURlbm9tLCBicmFuZCB9ID0gZGVub21EZXRhaWw7XG4gICAgICAgICAgY2hhaW5CeU5hbWUuaGFzKGNoYWluTmFtZSkgfHxcbiAgICAgICAgICAgIEZhaWxgdXNlIGdldENoYWluKCR7cShjaGFpbk5hbWUpfSkgYmVmb3JlIGdldERlbm9tSW5mbygke3EoZGVub20pfSlgO1xuICAgICAgICAgIGNvbnN0IG1heWJlQ2hhaW4gPSBjaGFpbkJ5TmFtZS5nZXQoY2hhaW5OYW1lKTtcbiAgICAgICAgICBpZiAobWF5YmVDaGFpbi5wZW5kaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBGYWlsYHdhaXQgdW50aWwgZ2V0Q2hhaW4oJHtxKGNoYWluTmFtZSl9KSBjb21wbGV0ZXMgYmVmb3JlIGdldERlbm9tSW5mbygke3EoZGVub20pfSlgO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjaGFpbiA9XG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgICAgbWF5YmVDaGFpbi52YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjaGFpbkJ5TmFtZS5oYXMoYmFzZU5hbWUpIHx8XG4gICAgICAgICAgICBGYWlsYHVzZSBnZXRDaGFpbigke3EoYmFzZU5hbWUpfSkgYmVmb3JlIGdldERlbm9tSW5mbygke3EoZGVub20pfSlgO1xuICAgICAgICAgIGNvbnN0IG1heWJlQmFzZSA9IGNoYWluQnlOYW1lLmdldChiYXNlTmFtZSk7XG4gICAgICAgICAgaWYgKG1heWJlQmFzZS5wZW5kaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBGYWlsYHdhaXQgdW50aWwgZ2V0Q2hhaW4oJHtxKGJhc2VOYW1lKX0pIGNvbXBsZXRlcyBiZWZvcmUgZ2V0RGVub21JbmZvKCR7cShkZW5vbSl9KWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGJhc2UgPVxuICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgIG1heWJlQmFzZS52YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgY2hhaW4sIGJhc2UsIGJyYW5kLCBiYXNlRGVub20gfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGFzQW1vdW50OiAoKSA9PiBGYWlsYG5vdCB5ZXQgaW1wbGVtZW50ZWRgLFxuICAgICAgfSxcbiAgICB9LFxuICApO1xufTtcbmhhcmRlbihwcmVwYXJlT3JjaGVzdHJhdG9yS2l0KTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZU9yY2hlc3RyYXRvciA9ICh6b25lLCBwb3dlcnMpID0+IHtcbiAgY29uc3QgbWFrZU9yY2hlc3RyYXRvcktpdCA9IHByZXBhcmVPcmNoZXN0cmF0b3JLaXQoem9uZSwgcG93ZXJzKTtcbiAgcmV0dXJuIHBpY2tGYWNldChtYWtlT3JjaGVzdHJhdG9yS2l0LCAnb3JjaGVzdHJhdG9yJyk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLnByZXBhcmVPcmNoZXN0cmF0b3IocHJlcGFyZU9yY2hlc3RyYXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJPcmNoZXN0cmF0b3JJIjpbIk9yY2hlc3RyYXRvckkiXSwicHJlcGFyZU9yY2hlc3RyYXRvciI6WyJwcmVwYXJlT3JjaGVzdHJhdG9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFHSTyITLAAAEywAADUAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL3BhY2tldC10b29scy5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGFnb3JpYy9uZXR3b3JrIiwiQGVuZG8vcGF0dGVybnMiLCJAZW5kby9mYXIiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy9pbnRlcm5hbCJdLCJleHBvcnRzIjpbInByZXBhcmVQYWNrZXRUb29scyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VNYXJzaGFsLGRlY29kZVRvSnVzdGluLE5ldHdvcmtTaGFwZSxNLG1hdGNoZXMsRSxwaWNrRmFjZXQsbWFrZVRyYWNlcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL21hcnNoYWxcIiwgW1tcIm1ha2VNYXJzaGFsXCIsWyRozY9fYSA9PiAobWFrZU1hcnNoYWwgPSAkaM2PX2EpXV0sW1wiZGVjb2RlVG9KdXN0aW5cIixbJGjNj19hID0+IChkZWNvZGVUb0p1c3RpbiA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbmV0d29ya1wiLCBbW1wiU2hhcGVcIixbJGjNj19hID0+IChOZXR3b3JrU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wibWF0Y2hlc1wiLFskaM2PX2EgPT4gKG1hdGNoZXMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wicGlja0ZhY2V0XCIsWyRozY9fYSA9PiAocGlja0ZhY2V0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdQYWNrZXRUb29scycpO1xuXG5jb25zdCB7IHRvQ2FwRGF0YSB9ID0gbWFrZU1hcnNoYWwodW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgbWFyc2hhbE5hbWU6ICdKdXN0RW5jb2RlcicsXG4gIHNlcmlhbGl6ZUJvZHlGb3JtYXQ6ICdjYXBkYXRhJyxcbn0pO1xuY29uc3QganVzdCA9IG9iaiA9PiB7XG4gIGNvbnN0IHsgYm9keSB9ID0gdG9DYXBEYXRhKG9iaik7XG4gIHJldHVybiBkZWNvZGVUb0p1c3RpbihKU09OLnBhcnNlKGJvZHkpLCBmYWxzZSk7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbmNvbnN0IHsgVm93JCB9ID0gTmV0d29ya1NoYXBlOyAvL1xuXG5jb25zdCBFVm93JCA9IHNoYXBlID0+IE0ub3IoVm93JChzaGFwZSksIE0ucHJvbWlzZSgvKiAgICAgICAqLykpO1xuXG5jb25zdCBzaW5rID0gKCkgPT4ge307XG5oYXJkZW4oc2luayk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZVBhY2tldFRvb2xzID0gKHpvbmUsIHZvd1Rvb2xzKSA9PiB7XG4gIGNvbnN0IHsgYWxsVm93cywgbWFrZVZvd0tpdCwgd2F0Y2gsIHdoZW4gfSA9IHZvd1Rvb2xzO1xuXG4gIGNvbnN0IG1ha2VQYWNrZXRUb29sc0tpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ1BhY2tldFRvb2xzS2l0JyxcbiAgICB7XG4gICAgICBwdWJsaWM6IE0uaW50ZXJmYWNlKCdQYWNrZXRUb29scycsIHtcbiAgICAgICAgc2VuZFRoZW5XYWl0Rm9yQWNrOiBNLmNhbGwoRVZvdyQoTS5yZW1vdGFibGUoJ1BhY2tldFNlbmRlcicpKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hbnkoKSlcbiAgICAgICAgICAucmV0dXJucyhFVm93JChNLmFueSgpKSksXG4gICAgICAgIG1hdGNoRmlyc3RQYWNrZXQ6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKEVWb3ckKE0uYW55KCkpKSxcbiAgICAgICAgbW9uaXRvclRyYW5zZmVyczogTS5jYWxsKE0ucmVtb3RhYmxlKCdUYXJnZXRBcHAnKSkucmV0dXJucyhcbiAgICAgICAgICBFVm93JChNLmFueSgpKSxcbiAgICAgICAgKSxcbiAgICAgIH0pLFxuICAgICAgdGFwOiBNLmludGVyZmFjZSgndGFwJywge1xuICAgICAgICAvL1xuICAgICAgICByZWNlaXZlVXBjYWxsOiBNLmNhbGxXaGVuKE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIG1vbml0b3JSZWdpc3RyYXRpb246IE0uaW50ZXJmYWNlKCdtb25pdG9yUmVnaXN0cmF0aW9uJywge1xuICAgICAgICAvL1xuICAgICAgICB1cGRhdGVUYXJnZXRBcHA6IE0uY2FsbFdoZW4oXG4gICAgICAgICAgTS5hd2FpdChNLnJlbW90YWJsZSgnVGFyZ2V0QXBwJykpLFxuICAgICAgICApLnJldHVybnMoKSxcbiAgICAgICAgLy9cbiAgICAgICAgcmV2b2tlOiBNLmNhbGxXaGVuKCkucmV0dXJucygpLFxuICAgICAgfSksXG4gICAgICB3YXRjaFBhY2tldE1hdGNoOiBNLmludGVyZmFjZSgnd2F0Y2hQYWNrZXRNYXRjaCcsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpLCBNLnJlY29yZCgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICB3YXRjaFBhY2tldFBhdHRlcm46IE0uaW50ZXJmYWNlKCd3YXRjaFBhY2tldFBhdHRlcm4nLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSwgTS5yZWNvcmQoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0uYW55KCksIE0ucmVjb3JkKCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIHdhdGNoRGVjclBlbmRpbmdQYXR0ZXJuczogTS5pbnRlcmZhY2UoJ3dhdGNoRGVjclBlbmRpbmdQYXR0ZXJucycsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgc2VuZFBhY2tldFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdzZW5kUGFja2V0V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChcbiAgICAgICAgICBbTS5yZWNvcmQoKSwgTS5yZW1vdGFibGUoJ1BhY2tldFNlbmRlcicpXSxcbiAgICAgICAgICBNLnJlY29yZCgpLFxuICAgICAgICApLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIHBhY2tldFdhc1NlbnRXYXRjaGVyOiBNLmludGVyZmFjZSgncGFja2V0V2FzU2VudFdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoXG4gICAgICAgICAgeyBldmVudFBhdHRlcm46IE0ucGF0dGVybigpLCByZXN1bHRWOiBWb3ckKE0uYW55KCkpIH0sXG4gICAgICAgICAgTS5yZWNvcmQoKSxcbiAgICAgICAgKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICB1dGlsczogTS5pbnRlcmZhY2UoJ3V0aWxzJywge1xuICAgICAgICBzdWJzY3JpYmVUb1RyYW5zZmVyczogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICAgIHVuc3Vic2NyaWJlRnJvbVRyYW5zZmVyczogTS5jYWxsKCkucmV0dXJucyhNLnVuZGVmaW5lZCgpKSxcbiAgICAgICAgaW5jclBlbmRpbmdQYXR0ZXJuczogTS5jYWxsKCkucmV0dXJucyhWb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICAgICAgZGVjclBlbmRpbmdQYXR0ZXJuczogTS5jYWxsKCkucmV0dXJucyhWb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICAgIH0pLFxuICAgICAgcmVqZWN0UmVzb2x2ZXJBbmRSZXRocm93V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3JlamVjdFJlc29sdmVyV2F0Y2hlcicsIHtcbiAgICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0uYW55KCksIHtcbiAgICAgICAgICByZXNvbHZlcjogTS5yZW1vdGFibGUoJ3Jlc29sdmVyJyksXG4gICAgICAgIH0pLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cbiAgICAgKi9cbiAgICBsY2EgPT4ge1xuICAgICAgY29uc3QgcmVzb2x2ZXJUb1BhdHRlcm4gPSB6b25lLmRldGFjaGVkKCkubWFwU3RvcmUoJ3Jlc29sdmVyVG9QYXR0ZXJuJyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsY2EsXG4gICAgICAgIHJlZzogLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChudWxsKSxcbiAgICAgICAgcmVzb2x2ZXJUb1BhdHRlcm4sXG4gICAgICAgIHVwY2FsbFF1ZXVlOiAvKiAgICAgICAgICAgICAgICAgICAgICAgKi8gKG51bGwpLFxuICAgICAgICBwZW5kaW5nOiAwLFxuICAgICAgICBleHRyYTogbnVsbCxcbiAgICAgICAgbW9uaXRvcjogLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChudWxsKSxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICBwdWJsaWM6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgLy9cbiAgICAgICAgYXN5bmMgbW9uaXRvclRyYW5zZmVycyhtb25pdG9yKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IG1yZWcgPSB0aGlzLmZhY2V0cy5tb25pdG9yUmVnaXN0cmF0aW9uO1xuICAgICAgICAgIGF3YWl0IG1yZWcudXBkYXRlVGFyZ2V0QXBwKG1vbml0b3IpO1xuICAgICAgICAgIHJldHVybiBtcmVnO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBtYXRjaEZpcnN0UGFja2V0KHBhdHRlcm5QKSB7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgdGhpcy5mYWNldHMudXRpbHMuaW5jclBlbmRpbmdQYXR0ZXJucygpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMud2F0Y2hQYWNrZXRNYXRjaCxcbiAgICAgICAgICAgIHsgcGF0dGVyblAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgc2VuZFRoZW5XYWl0Rm9yQWNrKHBhY2tldFNlbmRlciwgb3B0cyA9IHt9KSB7XG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBtYWtlVm93S2l0KCk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgbWF0Y2hWID0gd2F0Y2goXG4gICAgICAgICAgICBhbGxWb3dzKFtcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucHVibGljLm1hdGNoRmlyc3RQYWNrZXQocGF0dGVybi52b3cpLFxuICAgICAgICAgICAgICBwYWNrZXRTZW5kZXIsXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnNlbmRQYWNrZXRXYXRjaGVyLFxuICAgICAgICAgICAgeyBvcHRzIH0sXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgcmVzdWx0ViA9IHdhdGNoKG1hdGNoViwgdGhpcy5mYWNldHMucGFja2V0V2FzU2VudFdhdGNoZXIsIHtcbiAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICBwYXR0ZXJuUmVzb2x2ZXI6IHBhdHRlcm4ucmVzb2x2ZXIsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRWLCB0aGlzLmZhY2V0cy5yZWplY3RSZXNvbHZlckFuZFJldGhyb3dXYXRjaGVyLCB7XG4gICAgICAgICAgICByZXNvbHZlcjogcGF0dGVybi5yZXNvbHZlcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBtb25pdG9yUmVnaXN0cmF0aW9uOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgLy9cbiAgICAgICAgYXN5bmMgdXBkYXRlVGFyZ2V0QXBwKHRhcCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUubW9uaXRvciA9IGF3YWl0IHRhcDtcbiAgICAgICAgICBhd2FpdCB0aGlzLmZhY2V0cy51dGlscy5zdWJzY3JpYmVUb1RyYW5zZmVycygpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIC8vXG4gICAgICAgIGFzeW5jIHJldm9rZSgpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLm1vbml0b3IgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRhcDoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyByZWNlaXZlVXBjYWxsKG9iaikge1xuICAgICAgICAgIGNvbnN0IHsgbW9uaXRvciwgcmVzb2x2ZXJUb1BhdHRlcm4sIHVwY2FsbFF1ZXVlLCBwZW5kaW5nIH0gPVxuICAgICAgICAgICAgdGhpcy5zdGF0ZTtcbiAgICAgICAgICB0cmFjZShcbiAgICAgICAgICAgIGBUcnlpbmcgJHtyZXNvbHZlclRvUGF0dGVybi5nZXRTaXplKCl9IGN1cnJlbnQgcGF0dGVybnMgYW5kICR7cGVuZGluZ30gcGVuZGluZyBwYXR0ZXJucyBhZ2FpbnN0YCxcbiAgICAgICAgICAgIGp1c3Qob2JqKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKG1vbml0b3IpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB2b2lkIEUobW9uaXRvcikucmVjZWl2ZVVwY2FsbChvYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL1xuICAgICAgICAgIGZvciAoY29uc3QgW3Jlc29sdmVyLCBwYXR0ZXJuXSBvZiByZXNvbHZlclRvUGF0dGVybi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKG9iaiwgcGF0dGVybikpIHtcbiAgICAgICAgICAgICAgdHJhY2UoJ01hdGNoZWQgcGF0dGVybjonLCBqdXN0KHBhdHRlcm4pKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZXIucmVzb2x2ZShvYmopO1xuICAgICAgICAgICAgICByZXNvbHZlclRvUGF0dGVybi5kZWxldGUocmVzb2x2ZXIpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1cGNhbGxRdWV1ZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB0cmFjZSgnU3Rhc2hpbmcgb2JqZWN0IGluIHVwY2FsbFF1ZXVlJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnVwY2FsbFF1ZXVlID0gaGFyZGVuKHVwY2FsbFF1ZXVlLmNvbmNhdChvYmopKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJhY2UoJ05vIG1hdGNoIHlldC4nKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzZW5kUGFja2V0V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbeyBtYXRjaCB9LCBzZW5kZXJdLCBjdHgpIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goRShzZW5kZXIpLnNlbmRQYWNrZXQobWF0Y2gsIGN0eC5vcHRzKSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFja2V0V2FzU2VudFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoeyBldmVudFBhdHRlcm4sIHJlc3VsdFYgfSwgY3R4KSB7XG4gICAgICAgICAgY29uc3QgeyBwYXR0ZXJuUmVzb2x2ZXIgfSA9IGN0eDtcbiAgICAgICAgICBwYXR0ZXJuUmVzb2x2ZXIucmVzb2x2ZShldmVudFBhdHRlcm4pO1xuICAgICAgICAgIHJldHVybiByZXN1bHRWO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJlamVjdFJlc29sdmVyQW5kUmV0aHJvd1dhdGNoZXI6IHtcbiAgICAgICAgb25SZWplY3RlZChyZWosIHsgcmVzb2x2ZXIgfSkge1xuICAgICAgICAgIHJlc29sdmVyLnJlamVjdChyZWopO1xuICAgICAgICAgIHRocm93IHJlajtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB3YXRjaFBhY2tldE1hdGNoOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKF8sIHsgcGF0dGVyblAgfSkge1xuICAgICAgICAgIGNvbnN0IHsgdm93LCByZXNvbHZlciB9ID0gbWFrZVZvd0tpdCgpO1xuICAgICAgICAgIGNvbnN0IHBhdHRlcm5WID0gd2F0Y2goXG4gICAgICAgICAgICBwYXR0ZXJuUCxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLndhdGNoUGFja2V0UGF0dGVybixcbiAgICAgICAgICAgIGhhcmRlbih7IHJlc29sdmVyIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLyogICAgICAqLyB3YXRjaChwYXR0ZXJuViwgdGhpcy5mYWNldHMud2F0Y2hEZWNyUGVuZGluZ1BhdHRlcm5zKTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgbWF0Y2g6IHZvdywgcmVzb2x2ZXIgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgd2F0Y2hEZWNyUGVuZGluZ1BhdHRlcm5zOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmZhY2V0cy51dGlscy5kZWNyUGVuZGluZ1BhdHRlcm5zKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVqZWN0ZWQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFjZXRzLnV0aWxzLmRlY3JQZW5kaW5nUGF0dGVybnMoKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB3YXRjaFBhY2tldFBhdHRlcm46IHtcbiAgICAgICAgb25GdWxmaWxsZWQocGF0dGVybiwgeyByZXNvbHZlciB9KSB7XG4gICAgICAgICAgY29uc3QgeyByZXNvbHZlclRvUGF0dGVybiwgdXBjYWxsUXVldWUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICB0cmFjZSgnd2F0Y2hQYWNrZXRQYXR0ZXJuIG9uRnVsZmlsbGVkJywganVzdChwYXR0ZXJuKSk7XG4gICAgICAgICAgaWYgKCF1cGNhbGxRdWV1ZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHRyYWNlKCdObyB1cGNhbGwgcXVldWUgeWV0LiAgU2F2ZSB0aGUgcGF0dGVybiBmb3IgbGF0ZXIuJyk7XG4gICAgICAgICAgICByZXNvbHZlclRvUGF0dGVybi5pbml0KHJlc29sdmVyLCBwYXR0ZXJuKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IGkgPSB1cGNhbGxRdWV1ZS5maW5kSW5kZXgob2JqID0+IG1hdGNoZXMob2JqLCBwYXR0ZXJuKSk7XG4gICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICB0cmFjZSgnTm8gbWF0Y2ggeWV0LiBTYXZlIHRoZSBwYXR0ZXJuIGZvciBsYXRlci4nKTtcbiAgICAgICAgICAgIHJlc29sdmVyVG9QYXR0ZXJuLmluaXQocmVzb2x2ZXIsIHBhdHRlcm4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vXG4gICAgICAgICAgdHJhY2UoXG4gICAgICAgICAgICAnU3VjY2VzcyEgUmVtb3ZlIHRoZSBtYXRjaGVkIG9iamVjdCBmcm9tIHRoZSBxdWV1ZS4nLFxuICAgICAgICAgICAganVzdCh1cGNhbGxRdWV1ZVtpXSksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNvbHZlci5yZXNvbHZlKHVwY2FsbFF1ZXVlW2ldKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnVwY2FsbFF1ZXVlID0gaGFyZGVuKFxuICAgICAgICAgICAgdXBjYWxsUXVldWUuc2xpY2UoMCwgaSkuY29uY2F0KHVwY2FsbFF1ZXVlLnNsaWNlKGkgKyAxKSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWplY3RlZChyZWFzb24sIHsgcmVzb2x2ZXIgfSkge1xuICAgICAgICAgIHJlc29sdmVyLnJlamVjdChyZWFzb24pO1xuICAgICAgICB9LFxuICAgICAgfSxcblxuICAgICAgdXRpbHM6IHtcbiAgICAgICAgaW5jclBlbmRpbmdQYXR0ZXJucygpIHtcbiAgICAgICAgICBjb25zdCB7IHBlbmRpbmcsIHJlZywgdXBjYWxsUXVldWUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5wZW5kaW5nICs9IDE7XG4gICAgICAgICAgaWYgKCF1cGNhbGxRdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS51cGNhbGxRdWV1ZSA9IGhhcmRlbihbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZWcgfHwgcGVuZGluZyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2F0Y2godGhpcy5mYWNldHMudXRpbHMuc3Vic2NyaWJlVG9UcmFuc2ZlcnMoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY3JQZW5kaW5nUGF0dGVybnMoKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5wZW5kaW5nIC09IDE7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5wZW5kaW5nID0gMDtcbiAgICAgICAgICB0aGlzLnN0YXRlLnVwY2FsbFF1ZXVlID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gd2F0Y2godGhpcy5mYWNldHMudXRpbHMudW5zdWJzY3JpYmVGcm9tVHJhbnNmZXJzKCkpO1xuICAgICAgICB9LFxuICAgICAgICBzdWJzY3JpYmVUb1RyYW5zZmVycygpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHsgbGNhLCByZWc6IGNhY2hlZFJlZyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoY2FjaGVkUmVnKSB7XG4gICAgICAgICAgICByZXR1cm4gd2hlbihjYWNoZWRSZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHsgdGFwIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCByZWcgPSB3YXRjaChFKGxjYSkubW9uaXRvclRyYW5zZmVycyh0YXApKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnJlZyA9IHJlZztcbiAgICAgICAgICByZXR1cm4gd2hlbihyZWcpO1xuICAgICAgICB9LFxuICAgICAgICB1bnN1YnNjcmliZUZyb21UcmFuc2ZlcnMoKSB7XG4gICAgICAgICAgY29uc3QgeyByZWcsIG1vbml0b3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgaWYgKCFyZWcgfHwgbW9uaXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZpbmlzaChjb250ZXh0KSB7XG4gICAgICAgIHZvaWQgY29udGV4dC5mYWNldHMudXRpbHMuc3Vic2NyaWJlVG9UcmFuc2ZlcnMoKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBtYWtlUGFja2V0VG9vbHMgPSBwaWNrRmFjZXQobWFrZVBhY2tldFRvb2xzS2l0LCAncHVibGljJyk7XG4gIHJldHVybiBtYWtlUGFja2V0VG9vbHM7XG59OyRozY9fb25jZS5wcmVwYXJlUGFja2V0VG9vbHMocHJlcGFyZVBhY2tldFRvb2xzKTtcbmhhcmRlbihwcmVwYXJlUGFja2V0VG9vbHMpO1xuXG4vKlxuXG4gKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVQYWNrZXRUb29scyI6WyJwcmVwYXJlUGFja2V0VG9vbHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAANerskmIfAABiHwAAPAAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvcmVtb3RlLWNoYWluLWZhY2FkZS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2ludGVybmFsIiwiQGVuZG8vZmFyIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGF0dGVybnMiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy92b3ciLCIuLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZVRyYWNlcixFLEZhaWwscSxNLHBpY2tGYWNldCxWb3dTaGFwZSxDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxjaGFpbkZhY2FkZU1ldGhvZHMsSUNRTXNnU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wicGlja0ZhY2V0XCIsWyRozY9fYSA9PiAocGlja0ZhY2V0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCIuLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZVwiLFskaM2PX2EgPT4gKENvc21vc0NoYWluQWRkcmVzc1NoYXBlID0gJGjNj19hKV1dLFtcImNoYWluRmFjYWRlTWV0aG9kc1wiLFskaM2PX2EgPT4gKGNoYWluRmFjYWRlTWV0aG9kcyA9ICRozY9fYSldXSxbXCJJQ1FNc2dTaGFwZVwiLFskaM2PX2EgPT4gKElDUU1zZ1NoYXBlID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignUmVtb3RlQ2hhaW5GYWNhZGUnKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlS2l0ID0gKFxuICB6b25lLFxuICB7XG4gICAgbWFrZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50LFxuICAgIG9yY2hlc3RyYXRpb24sXG4gICAgLy9cbiAgICAvL1xuICAgIHN0b3JhZ2VOb2RlLFxuICAgIHRpbWVyLFxuICAgIHZvd1Rvb2xzOiB7IGFsbFZvd3MsIGFzVm93LCB3YXRjaCB9LFxuICB9LFxuKSA9PlxuICB6b25lLmV4b0NsYXNzS2l0KFxuICAgICdSZW1vdGVDaGFpbkZhY2FkZScsXG4gICAge1xuICAgICAgcHVibGljOiBNLmludGVyZmFjZSgnUmVtb3RlQ2hhaW5GYWNhZGUnLCB7XG4gICAgICAgIC4uLmNoYWluRmFjYWRlTWV0aG9kcyxcbiAgICAgICAgcXVlcnk6IE0uY2FsbChNLmFycmF5T2YoSUNRTXNnU2hhcGUpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgIH0pLFxuICAgICAgbWFrZUlDUUNvbm5lY3Rpb25RdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnbWFrZUlDUUNvbm5lY3Rpb25RdWVyeVdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnJlbW90YWJsZSgpLCBNLmFycmF5T2YoSUNRTXNnU2hhcGUpKS5yZXR1cm5zKFxuICAgICAgICAgICAgVm93U2hhcGUsXG4gICAgICAgICAgKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBtYWtlQWNjb3VudEFuZFByb3ZpZGVRdWVyeUNvbm5XYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ21ha2VBY2NvdW50QW5kUHJvdmlkZVF1ZXJ5Q29ubldhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChbXG4gICAgICAgICAgICBNLnJlbW90YWJsZSgpLFxuICAgICAgICAgICAgTS5vcihNLnJlbW90YWJsZSgpLCBNLnVuZGVmaW5lZCgpKSxcbiAgICAgICAgICBdKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBnZXRBZGRyZXNzZXNXYXRjaGVyOiBNLmludGVyZmFjZSgnZ2V0QWRkcmVzc1dhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoXG4gICAgICAgICAgW0Nvc21vc0NoYWluQWRkcmVzc1NoYXBlLCBNLnN0cmluZygpLCBNLnN0cmluZygpXSxcbiAgICAgICAgICBNLnJlbW90YWJsZSgpLFxuICAgICAgICApLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgfSksXG4gICAgICBtYWtlQ2hpbGROb2RlV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ21ha2VDaGlsZE5vZGVXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0ub3IoTS5yZW1vdGFibGUoKSwgTS51bmRlZmluZWQoKSksIHtcbiAgICAgICAgICBhY2NvdW50OiBNLnJlbW90YWJsZSgpLFxuICAgICAgICAgIGNoYWluQWRkcmVzczogQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsXG4gICAgICAgICAgbG9jYWxBZGRyZXNzOiBNLnN0cmluZygpLFxuICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IE0uc3RyaW5nKCksXG4gICAgICAgIH0pLnJldHVybnMoTS5yZW1vdGFibGUoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIChyZW1vdGVDaGFpbkluZm8sIGNvbm5lY3Rpb25JbmZvKSA9PiB7XG4gICAgICB0cmFjZSgnbWFraW5nIGEgUmVtb3RlQ2hhaW5GYWNhZGUnKTtcbiAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh7XG4gICAgICAgIHJlbW90ZUNoYWluSW5mbyxcbiAgICAgICAgY29ubmVjdGlvbkluZm8sXG4gICAgICAgIGljcUNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAge1xuICAgICAgcHVibGljOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldENoYWluSW5mbygpIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2godGhpcy5zdGF0ZS5yZW1vdGVDaGFpbkluZm8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgbWFrZUFjY291bnQoKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVtb3RlQ2hhaW5JbmZvLCBjb25uZWN0aW9uSW5mbyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgICAgaWYgKHJlbW90ZUNoYWluSW5mby5uYW1lc3BhY2UgIT09ICdjb3Ntb3MnKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgb25seSBzdXBwb3J0ZWQgb24gJ2Nvc21vcycgY2hhaW5zLCBub3QgJHtyZW1vdGVDaGFpbkluZm8ubmFtZXNwYWNlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb25JbmZvKSB0aHJvdyBGYWlsYElCQyBjb25uZWN0aW9uIGluZm8gbm90IGZvdW5kYDtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBpY3FDb25uT3JVbmRlZmluZWRWID1cbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChyZW1vdGVDaGFpbkluZm8pPy5pY3FFbmFibGVkICYmXG4gICAgICAgICAgICAgICF0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICA/IEUob3JjaGVzdHJhdGlvbikucHJvdmlkZUlDUUNvbm5lY3Rpb24oY29ubmVjdGlvbkluZm8uaWQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IG1ha2VBY2NvdW50ViA9IEUob3JjaGVzdHJhdGlvbikubWFrZUFjY291bnQoXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAocmVtb3RlQ2hhaW5JbmZvKS5jaGFpbklkLFxuICAgICAgICAgICAgICBjb25uZWN0aW9uSW5mby5jb3VudGVycGFydHkuY29ubmVjdGlvbl9pZCxcbiAgICAgICAgICAgICAgY29ubmVjdGlvbkluZm8uaWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIGFsbFZvd3MoW21ha2VBY2NvdW50ViwgaWNxQ29ubk9yVW5kZWZpbmVkVl0pLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5tYWtlQWNjb3VudEFuZFByb3ZpZGVRdWVyeUNvbm5XYXRjaGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHF1ZXJ5KG1zZ3MpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgcmVtb3RlQ2hhaW5JbmZvOiB7IGljcUVuYWJsZWQsIGNoYWluSWQgfSxcbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgY29ubmVjdGlvbkluZm8sXG4gICAgICAgICAgICB9ID0gLyogICAgICAgICAgICAgICovICh0aGlzLnN0YXRlKTtcblxuICAgICAgICAgICAgaWYgKCFpY3FFbmFibGVkKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbkluZm8pIHRocm93IEZhaWxgSUJDIGNvbm5lY3Rpb24gaW5mbyBub3QgZm91bmRgO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5pY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgICBFKG9yY2hlc3RyYXRpb24pLnByb3ZpZGVJQ1FDb25uZWN0aW9uKGNvbm5lY3Rpb25JbmZvLmlkKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5tYWtlSUNRQ29ubmVjdGlvblF1ZXJ5V2F0Y2hlcixcbiAgICAgICAgICAgICAgICBtc2dzLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKEUodGhpcy5zdGF0ZS5pY3FDb25uZWN0aW9uKS5xdWVyeShtc2dzKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbWFrZUFjY291bnRBbmRQcm92aWRlUXVlcnlDb25uV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbYWNjb3VudCwgaWNxQ29ubmVjdGlvbl0pIHtcbiAgICAgICAgICBpZiAoaWNxQ29ubmVjdGlvbiAmJiAhdGhpcy5zdGF0ZS5pY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb24gPSBpY3FDb25uZWN0aW9uO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgYWxsVm93cyhbXG4gICAgICAgICAgICAgIEUoYWNjb3VudCkuZ2V0QWRkcmVzcygpLFxuICAgICAgICAgICAgICBFKGFjY291bnQpLmdldExvY2FsQWRkcmVzcygpLFxuICAgICAgICAgICAgICBFKGFjY291bnQpLmdldFJlbW90ZUFkZHJlc3MoKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuZ2V0QWRkcmVzc2VzV2F0Y2hlcixcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBtYWtlSUNRQ29ubmVjdGlvblF1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoaWNxQ29ubmVjdGlvbiwgbXNncykge1xuICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5pY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb24gPSBpY3FDb25uZWN0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2F0Y2goRShpY3FDb25uZWN0aW9uKS5xdWVyeShtc2dzKSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ2V0QWRkcmVzc2VzV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtjaGFpbkFkZHJlc3MsIGxvY2FsQWRkcmVzcywgcmVtb3RlQWRkcmVzc10sIGFjY291bnQpIHtcbiAgICAgICAgICBjb25zdCBvcHRpb25hbFN0b3JhZ2VOb2RlID0gc3RvcmFnZU5vZGVcbiAgICAgICAgICAgID8gRShzdG9yYWdlTm9kZSkubWFrZUNoaWxkTm9kZShjaGFpbkFkZHJlc3MudmFsdWUpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gd2F0Y2gob3B0aW9uYWxTdG9yYWdlTm9kZSwgdGhpcy5mYWNldHMubWFrZUNoaWxkTm9kZVdhdGNoZXIsIHtcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBjaGFpbkFkZHJlc3MsXG4gICAgICAgICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1ha2VDaGlsZE5vZGVXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFxuICAgICAgICAgIGNoaWxkTm9kZSxcbiAgICAgICAgICB7IGFjY291bnQsIGNoYWluQWRkcmVzcywgbG9jYWxBZGRyZXNzLCByZW1vdGVBZGRyZXNzIH0sXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHsgaWNxQ29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIHJldHVybiBtYWtlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNoYWluQWRkcmVzcyxcbiAgICAgICAgICAgICAgbG9jYWxBZGRyZXNzLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgc3RvcmFnZU5vZGU6IGNoaWxkTm9kZSxcbiAgICAgICAgICAgICAgaWNxQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgdGltZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5oYXJkZW4ocHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlS2l0KTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGUgPSAoem9uZSwgcG93ZXJzKSA9PiB7XG4gIGNvbnN0IG1ha2VMb2NhbENoYWluRmFjYWRlS2l0ID0gcHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlS2l0KHpvbmUsIHBvd2Vycyk7XG4gIHJldHVybiBwaWNrRmFjZXQobWFrZUxvY2FsQ2hhaW5GYWNhZGVLaXQsICdwdWJsaWMnKTtcbn07JGjNj19vbmNlLnByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZShwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGUpO1xuaGFyZGVuKHByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSI6WyJwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASoeZ/MUKAADFCgAAKgAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2ZhY2FkZS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2ludGVybmFsIl0sImV4cG9ydHMiOlsibWFrZU9yY2hlc3RyYXRpb25GYWNhZGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRBbGxEZWZpbmVkLGRlZXBNYXBPYmplY3Q7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJhc3NlcnRBbGxEZWZpbmVkXCIsWyRozY9fYSA9PiAoYXNzZXJ0QWxsRGVmaW5lZCA9ICRozY9fYSldXSxbXCJkZWVwTWFwT2JqZWN0XCIsWyRozY9fYSA9PiAoZGVlcE1hcE9iamVjdCA9ICRozY9fYSldXV1dXSk7XG5cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSA9ICh7XG4gIHpvbmUsXG4gIHRpbWVyU2VydmljZSxcbiAgemNmLFxuICBvcmNoZXN0cmF0aW9uU2VydmljZSxcbiAgbWFrZU9yY2hlc3RyYXRvcixcbiAgdm93VG9vbHMsXG4gIGFzeW5jRmxvd1Rvb2xzLFxufSkgPT4ge1xuICBhc3NlcnRBbGxEZWZpbmVkKHtcbiAgICB6b25lLFxuICAgIHRpbWVyU2VydmljZSxcbiAgICB6Y2YsXG4gICAgb3JjaGVzdHJhdGlvblNlcnZpY2UsXG4gICAgbWFrZU9yY2hlc3RyYXRvcixcbiAgICB2b3dUb29scyxcbiAgICBhc3luY0Zsb3dUb29scyxcbiAgfSk7XG5cbiAgY29uc3QgeyBwcmVwYXJlRW5kb3dtZW50LCBhc3luY0Zsb3cgfSA9IGFzeW5jRmxvd1Rvb2xzO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG9yY2hlc3RyYXRlID0gKGR1cmFibGVOYW1lLCBob3N0Q3R4LCBndWVzdEZuKSA9PiB7XG4gICAgY29uc3Qgc3ViWm9uZSA9IHpvbmUuc3ViWm9uZShkdXJhYmxlTmFtZSk7XG4gICAgY29uc3QgW3dyYXBwZWRDdHhdID0gcHJlcGFyZUVuZG93bWVudChzdWJab25lLCAnZW5kb3dtZW50cycsIFtob3N0Q3R4XSk7XG4gICAgY29uc3QgaG9zdEZuID0gYXN5bmNGbG93KHN1YlpvbmUsICdhc3luY0Zsb3cnLCBndWVzdEZuKTtcblxuICAgIGRlZXBNYXBPYmplY3QoXG4gICAgICB3cmFwcGVkQ3R4LFxuICAgICAgdmFsID0+XG4gICAgICAgIHZhbCA9PT0gemNmICYmXG4gICAgICAgIGFzc2VydC5mYWlsKCdkbyBub3QgdXNlIHpjZiBpbiBvcmNoZXN0cmF0aW9uIGNvbnRleHQ7IHRyeSB6Y2ZUb29scycpLFxuICAgICk7XG5cbiAgICAvL1xuICAgIGNvbnN0IG9yY0ZuID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAoLi4uYXJncykgPT4ge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBob3N0T3JjID0gbWFrZU9yY2hlc3RyYXRvcigpO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gaG9zdEZuKGhvc3RPcmMsIHdyYXBwZWRDdHgsIC4uLmFyZ3MpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIGhhcmRlbihvcmNGbik7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG9yY2hlc3RyYXRlQWxsID0gKGd1ZXN0Rm5zLCBob3N0Q3R4KSA9PiB7XG4gICAgY29uc3QgbWFwcGVkRmxvd3MgPSBuZXcgTWFwKFxuICAgICAgT2JqZWN0LmVudHJpZXMoZ3Vlc3RGbnMpLm1hcCgoW25hbWUsIGd1ZXN0Rm5dKSA9PiBbXG4gICAgICAgIGd1ZXN0Rm4sXG4gICAgICAgICguLi5hcmdzKSA9PiBvcmNGbnNbbmFtZV0oLi4uYXJncyksXG4gICAgICBdKSxcbiAgICApO1xuXG4gICAgY29uc3QgbWFwcGVkQ29udGV4dCA9IGRlZXBNYXBPYmplY3QoXG4gICAgICBob3N0Q3R4LFxuICAgICAgdmFsID0+IG1hcHBlZEZsb3dzLmdldCgvKiAgICAgICAgICAgICAgKi8gKHZhbCkpIHx8IHZhbCxcbiAgICApO1xuXG4gICAgY29uc3Qgb3JjRm5zID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZ3Vlc3RGbnMpLm1hcCgoW25hbWUsIGd1ZXN0Rm5dKSA9PiBbXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBvcmNoZXN0cmF0ZShuYW1lLCBtYXBwZWRDb250ZXh0LCBndWVzdEZuKSxcbiAgICAgICAgXSksXG4gICAgICApXG4gICAgKTtcblxuICAgIHJldHVybiB7IC4uLm9yY0ZucyB9O1xuICB9O1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIG9yY2hlc3RyYXRlLFxuICAgIG9yY2hlc3RyYXRlQWxsLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlKG1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlKTtcbmhhcmRlbihtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSk7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU9yY2hlc3RyYXRpb25GYWNhZGUiOlsibWFrZU9yY2hlc3RyYXRpb25GYWNhZGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAFRpln0AqAABAKgAALgAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3R5cGVHdWFyZHMuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9lcnRwL3NyYy90eXBlR3VhcmRzLmpzIiwiQGFnb3JpYy9uZXR3b3JrIiwiQGFnb3JpYy92b3ciLCJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIkFjY291bnRJZEFyZ1NoYXBlIiwiQW1vdW50QXJnU2hhcGUiLCJBbnlOYXRBbW91bnRTaGFwZSIsIkFueU5hdEFtb3VudHNSZWNvcmQiLCJCYXNlQ2hhaW5JbmZvU2hhcGUiLCJDYWlwMTBSZWNvcmRTaGFwZSIsIkNoYWluQWRkcmVzc1NoYXBlIiwiQ2hhaW5JbmZvU2hhcGUiLCJDb2luU2hhcGUiLCJDb3Ntb3NBc3NldEluZm9TaGFwZSIsIkNvc21vc0NoYWluQWRkcmVzc1NoYXBlIiwiQ29zbW9zQ2hhaW5JbmZvU2hhcGUiLCJEZWxlZ2F0aW9uU2hhcGUiLCJEZW5vbUFtb3VudFNoYXBlIiwiRGVub21EZXRhaWxTaGFwZSIsIkRlbm9tSW5mb1NoYXBlIiwiRGVub21TaGFwZSIsIkV4ZWN1dGVJQ0FUeE9wdHNTaGFwZSIsIkZvcndhcmRJbmZvU2hhcGUiLCJGb3J3YXJkT3B0c1NoYXBlIiwiSUJDQ2hhbm5lbElEU2hhcGUiLCJJQkNDaGFubmVsSW5mb1NoYXBlIiwiSUJDQ29ubmVjdGlvbklEU2hhcGUiLCJJQkNDb25uZWN0aW9uSW5mb1NoYXBlIiwiSUJDVHJhbnNmZXJPcHRpb25zU2hhcGUiLCJJQ1FNc2dTaGFwZSIsIk9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSIsIk91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJIiwiUHJvdG8zU2hhcGUiLCJUaW1lc3RhbXBQcm90b1NoYXBlIiwiVHlwZWRKc29uU2hhcGUiLCJjaGFpbkZhY2FkZU1ldGhvZHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBCcmFuZFNoYXBlLFNlbmRPcHRpb25zU2hhcGUsVm93U2hhcGUsTTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvZXJ0cC9zcmMvdHlwZUd1YXJkcy5qc1wiLCBbW1wiQnJhbmRTaGFwZVwiLFskaM2PX2EgPT4gKEJyYW5kU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL25ldHdvcmtcIiwgW1tcIlNlbmRPcHRpb25zU2hhcGVcIixbJGjNj19hID0+IChTZW5kT3B0aW9uc1NoYXBlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IE91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJID0gTS5pbnRlcmZhY2UoXG4gICdPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVyJyxcbiAge1xuICAgIG9uT3BlbjogTS5jYWxsV2hlbihNLmFueSgpLCBNLnN0cmluZygpLCBNLnN0cmluZygpLCBNLmFueSgpKS5yZXR1cm5zKFxuICAgICAgTS5hbnkoKSxcbiAgICApLFxuICAgIG9uQ2xvc2U6IE0uY2FsbFdoZW4oTS5hbnkoKSwgTS5hbnkoKSwgTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgfSxcbik7XG5cbi8vXG4vL1xuJGjNj19vbmNlLk91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJKE91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJKTtjb25zdCBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZT17XG4gIGNoYWluSWQ6IE0uc3RyaW5nKCksXG4gIC8vXG4gIGVuY29kaW5nOiBNLnN0cmluZygpLFxuICB2YWx1ZTogTS5zdHJpbmcoKSxcbn07JGjNj19vbmNlLkNvc21vc0NoYWluQWRkcmVzc1NoYXBlKENvc21vc0NoYWluQWRkcmVzc1NoYXBlKTtcbmhhcmRlbihDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ2FpcDEwUmVjb3JkU2hhcGUgPSB7XG4gIG5hbWVzcGFjZTogTS5zdHJpbmcoKSxcbiAgcmVmZXJlbmNlOiBNLnN0cmluZygpLFxuICBhY2NvdW50QWRkcmVzczogTS5zdHJpbmcoKSxcbn07JGjNj19vbmNlLkNhaXAxMFJlY29yZFNoYXBlKENhaXAxMFJlY29yZFNoYXBlKTtcbmhhcmRlbihDYWlwMTBSZWNvcmRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBDaGFpbkFkZHJlc3NTaGFwZSA9IENvc21vc0NoYWluQWRkcmVzc1NoYXBlO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkNoYWluQWRkcmVzc1NoYXBlKENoYWluQWRkcmVzc1NoYXBlKTtcbiAgICAgICBjb25zdCBBY2NvdW50SWRBcmdTaGFwZSA9IE0ub3IoTS5zdHJpbmcoKSwgQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5BY2NvdW50SWRBcmdTaGFwZShBY2NvdW50SWRBcmdTaGFwZSk7XG4gICAgICAgY29uc3QgUHJvdG8zU2hhcGUgPSB7IHR5cGVVcmw6IE0uc3RyaW5nKCksIHZhbHVlOiBNLnN0cmluZygpIH07JGjNj19vbmNlLlByb3RvM1NoYXBlKFByb3RvM1NoYXBlKTtcbmhhcmRlbihQcm90bzNTaGFwZSk7XG5cbi8qICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBJQkNDaGFubmVsSURTaGFwZSA9IE0uc3RyaW5nKCk7XG5cbi8qICAgICAgICAgICAgKi8kaM2PX29uY2UuSUJDQ2hhbm5lbElEU2hhcGUoSUJDQ2hhbm5lbElEU2hhcGUpO1xuICAgICAgIGNvbnN0IElCQ0NoYW5uZWxJbmZvU2hhcGUgPSBNLnNwbGl0UmVjb3JkKHtcbiAgcG9ydElkOiBNLnN0cmluZygpLFxuICBjaGFubmVsSWQ6IElCQ0NoYW5uZWxJRFNoYXBlLFxuICBjb3VudGVyUGFydHlQb3J0SWQ6IE0uc3RyaW5nKCksXG4gIGNvdW50ZXJQYXJ0eUNoYW5uZWxJZDogSUJDQ2hhbm5lbElEU2hhcGUsXG4gIG9yZGVyaW5nOiBNLnNjYWxhcigpLCAvL1xuICBzdGF0ZTogTS5zY2FsYXIoKSwgLy9cbiAgdmVyc2lvbjogTS5zdHJpbmcoKSxcbn0pO1xuXG4vKiAgICAgICAgICAgICovJGjNj19vbmNlLklCQ0NoYW5uZWxJbmZvU2hhcGUoSUJDQ2hhbm5lbEluZm9TaGFwZSk7XG4gICAgICAgY29uc3QgSUJDQ29ubmVjdGlvbklEU2hhcGUgPSBNLnN0cmluZygpO1xuXG4vKiAgICAgICAgICAgICovJGjNj19vbmNlLklCQ0Nvbm5lY3Rpb25JRFNoYXBlKElCQ0Nvbm5lY3Rpb25JRFNoYXBlKTtcbiAgICAgICBjb25zdCBJQkNDb25uZWN0aW9uSW5mb1NoYXBlID0gTS5zcGxpdFJlY29yZCh7XG4gIGlkOiBJQkNDb25uZWN0aW9uSURTaGFwZSxcbiAgY2xpZW50X2lkOiBNLnN0cmluZygpLFxuICBzdGF0ZTogTS5zY2FsYXIoKSwgLy9cbiAgY291bnRlcnBhcnR5OiB7XG4gICAgY2xpZW50X2lkOiBNLnN0cmluZygpLFxuICAgIGNvbm5lY3Rpb25faWQ6IElCQ0Nvbm5lY3Rpb25JRFNoYXBlLFxuICB9LFxuICB0cmFuc2ZlckNoYW5uZWw6IElCQ0NoYW5uZWxJbmZvU2hhcGUsXG59KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuSUJDQ29ubmVjdGlvbkluZm9TaGFwZShJQkNDb25uZWN0aW9uSW5mb1NoYXBlKTtcbiAgICAgICBjb25zdCBDb3Ntb3NBc3NldEluZm9TaGFwZSA9IE0uc3BsaXRSZWNvcmQoe1xuICBiYXNlOiBNLnN0cmluZygpLFxuICBuYW1lOiBNLnN0cmluZygpLFxuICBkaXNwbGF5OiBNLnN0cmluZygpLFxuICBzeW1ib2w6IE0uc3RyaW5nKCksXG4gIGRlbm9tX3VuaXRzOiBNLmFycmF5T2YoXG4gICAgTS5zcGxpdFJlY29yZCh7IGRlbm9tOiBNLnN0cmluZygpLCBleHBvbmVudDogTS5udW1iZXIoKSB9KSxcbiAgKSxcbn0pOyRozY9fb25jZS5Db3Ntb3NBc3NldEluZm9TaGFwZShDb3Ntb3NBc3NldEluZm9TaGFwZSk7XG5cbmNvbnN0IENoYWluSW5mb1JlcXVpcmVkU2hhcGUgPSB7XG4gIG5hbWVzcGFjZTogTS5zdHJpbmcoKSxcbiAgcmVmZXJlbmNlOiBNLnN0cmluZygpLFxufTtcblxuY29uc3QgQ2hhaW5JbmZvT3B0aW9uYWxTaGFwZSA9IHtcbiAgY2N0cERlc3RpbmF0aW9uRG9tYWluOiBNLm51bWJlcigpLFxufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQmFzZUNoYWluSW5mb1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAgQ2hhaW5JbmZvUmVxdWlyZWRTaGFwZSxcbiAgQ2hhaW5JbmZvT3B0aW9uYWxTaGFwZSxcbik7JGjNj19vbmNlLkJhc2VDaGFpbkluZm9TaGFwZShCYXNlQ2hhaW5JbmZvU2hhcGUpO1xuaGFyZGVuKEJhc2VDaGFpbkluZm9TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ29zbW9zQ2hhaW5JbmZvU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAgY2hhaW5JZDogTS5zdHJpbmcoKSxcbiAgICBiZWNoMzJQcmVmaXg6IE0uc3RyaW5nKCksXG4gICAgLi4uQ2hhaW5JbmZvUmVxdWlyZWRTaGFwZSxcbiAgfSxcbiAge1xuICAgIGNvbm5lY3Rpb25zOiBNLnJlY29yZCgpLFxuICAgIC8vXG4gICAgaWNxRW5hYmxlZDogTS5ib29sZWFuKCksXG4gICAgcGZtRW5hYmxlZDogTS5ib29sZWFuKCksXG4gICAgc3Rha2luZ1Rva2VuczogTS5hcnJheU9mKHsgZGVub206IE0uc3RyaW5nKCkgfSksXG4gICAgLi4uQ2hhaW5JbmZvT3B0aW9uYWxTaGFwZSxcbiAgfSxcbik7JGjNj19vbmNlLkNvc21vc0NoYWluSW5mb1NoYXBlKENvc21vc0NoYWluSW5mb1NoYXBlKTtcbmhhcmRlbihDb3Ntb3NDaGFpbkluZm9TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ2hhaW5JbmZvU2hhcGUgPSBNLm9yKENvc21vc0NoYWluSW5mb1NoYXBlLCBCYXNlQ2hhaW5JbmZvU2hhcGUpOyRozY9fb25jZS5DaGFpbkluZm9TaGFwZShDaGFpbkluZm9TaGFwZSk7XG5oYXJkZW4oQ2hhaW5JbmZvU2hhcGUpO1xuXG4gICAgICAgY29uc3QgRGVub21TaGFwZSA9IE0uc3RyaW5nKCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5EZW5vbVNoYXBlKERlbm9tU2hhcGUpO1xuICAgICAgIGNvbnN0IENvaW5TaGFwZSA9IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgYW1vdW50OiBNLnN0cmluZygpLFxuICBkZW5vbTogRGVub21TaGFwZSxcbn07JGjNj19vbmNlLkNvaW5TaGFwZShDb2luU2hhcGUpO1xuaGFyZGVuKENvaW5TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IERlbm9tSW5mb1NoYXBlID0ge1xuICBjaGFpbjogTS5yZW1vdGFibGUoJ0NoYWluJyksXG4gIGJhc2U6IE0ucmVtb3RhYmxlKCdDaGFpbicpLFxuICBicmFuZDogTS5vcihNLnJlbW90YWJsZSgnQnJhbmQnKSwgTS51bmRlZmluZWQoKSksXG4gIGJhc2VEZW5vbTogTS5zdHJpbmcoKSxcbn07JGjNj19vbmNlLkRlbm9tSW5mb1NoYXBlKERlbm9tSW5mb1NoYXBlKTtcbmhhcmRlbihEZW5vbUluZm9TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBEZW5vbURldGFpbFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAgeyBjaGFpbk5hbWU6IE0uc3RyaW5nKCksIGJhc2VOYW1lOiBNLnN0cmluZygpLCBiYXNlRGVub206IE0uc3RyaW5nKCkgfSxcbiAgeyBicmFuZDogQnJhbmRTaGFwZSB9LFxuKTskaM2PX29uY2UuRGVub21EZXRhaWxTaGFwZShEZW5vbURldGFpbFNoYXBlKTtcbmhhcmRlbihEZW5vbURldGFpbFNoYXBlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IERlbm9tQW1vdW50U2hhcGUgPSB7IGRlbm9tOiBEZW5vbVNoYXBlLCB2YWx1ZTogTS5uYXQoKSB9OyRozY9fb25jZS5EZW5vbUFtb3VudFNoYXBlKERlbm9tQW1vdW50U2hhcGUpO1xuaGFyZGVuKERlbm9tQW1vdW50U2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBBbnlOYXRBbW91bnRTaGFwZSA9IHtcbiAgYnJhbmQ6IE0ucmVtb3RhYmxlKCdCcmFuZCcpLFxuICB2YWx1ZTogTS5uYXQoKSxcbn07JGjNj19vbmNlLkFueU5hdEFtb3VudFNoYXBlKEFueU5hdEFtb3VudFNoYXBlKTtcbmhhcmRlbihBbnlOYXRBbW91bnRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQW1vdW50QXJnU2hhcGUgPSBNLm9yKEFueU5hdEFtb3VudFNoYXBlLCBEZW5vbUFtb3VudFNoYXBlKTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLkFtb3VudEFyZ1NoYXBlKEFtb3VudEFyZ1NoYXBlKTtcbiAgICAgICBjb25zdCBEZWxlZ2F0aW9uU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAgdmFsaWRhdG9yOiBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICBhbW91bnQ6IEFtb3VudEFyZ1NoYXBlLFxuICB9LFxuICB7IGRlbGVnYXRvcjogQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUgfSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkRlbGVnYXRpb25TaGFwZShEZWxlZ2F0aW9uU2hhcGUpO1xuICAgICAgIGNvbnN0IElDUU1zZ1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAgeyBwYXRoOiBNLnN0cmluZygpLCBkYXRhOiBNLnN0cmluZygpIH0sXG4gIHsgaGVpZ2h0OiBNLnN0cmluZygpLCBwcm92ZTogTS5ib29sZWFuKCkgfSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLklDUU1zZ1NoYXBlKElDUU1zZ1NoYXBlKTtcbiAgICAgICBjb25zdCBUeXBlZEpzb25TaGFwZSA9IE0uc3BsaXRSZWNvcmQoeyAnQHR5cGUnOiBNLnN0cmluZygpIH0pO1xuXG4vKiAgICAgICAgICAgICAgICovJGjNj19vbmNlLlR5cGVkSnNvblNoYXBlKFR5cGVkSnNvblNoYXBlKTtcbiAgICAgICBjb25zdCBjaGFpbkZhY2FkZU1ldGhvZHMgPSB7XG4gIGdldENoYWluSW5mbzogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gIG1ha2VBY2NvdW50OiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbn07JGjNj19vbmNlLmNoYWluRmFjYWRlTWV0aG9kcyhjaGFpbkZhY2FkZU1ldGhvZHMpO1xuaGFyZGVuKGNoYWluRmFjYWRlTWV0aG9kcyk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgVGltZXN0YW1wUHJvdG9TaGFwZSA9IHsgc2Vjb25kczogTS5zdHJpbmcoKSwgbmFub3M6IE0ubnVtYmVyKCkgfTskaM2PX29uY2UuVGltZXN0YW1wUHJvdG9TaGFwZShUaW1lc3RhbXBQcm90b1NoYXBlKTtcbmhhcmRlbihUaW1lc3RhbXBQcm90b1NoYXBlKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IEV4ZWN1dGVJQ0FUeE9wdHNTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHt9LFxuICB7XG4gICAgbWVtbzogTS5zdHJpbmcoKSxcbiAgICB0aW1lb3V0SGVpZ2h0OiBNLmJpZ2ludCgpLFxuICAgIGV4dGVuc2lvbk9wdGlvbnM6IE0uYXJyYXlPZihNLmFueSgpKSxcbiAgICBub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnM6IE0uYXJyYXlPZihNLmFueSgpKSxcbiAgICBzZW5kT3B0czogU2VuZE9wdGlvbnNTaGFwZSxcbiAgfSxcbik7XG5cbi8qXG5cblxuICovJGjNj19vbmNlLkV4ZWN1dGVJQ0FUeE9wdHNTaGFwZShFeGVjdXRlSUNBVHhPcHRzU2hhcGUpO1xuICAgICAgIGNvbnN0IEFueU5hdEFtb3VudHNSZWNvcmQgPSBNLmFuZChcbiAgTS5yZWNvcmRPZihNLnN0cmluZygpLCBBbnlOYXRBbW91bnRTaGFwZSksXG4gIE0ubm90KHt9KSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5BbnlOYXRBbW91bnRzUmVjb3JkKEFueU5hdEFtb3VudHNSZWNvcmQpO1xuICAgICAgIGNvbnN0IE9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSA9IHtcbiAgYWdvcmljTmFtZXM6IE0ucmVtb3RhYmxlKCksXG4gIGxvY2FsY2hhaW46IE0ucmVtb3RhYmxlKCksXG4gIG9yY2hlc3RyYXRpb25TZXJ2aWNlOiBNLnJlbW90YWJsZSgpLFxuICBzdG9yYWdlTm9kZTogTS5yZW1vdGFibGUoKSxcbiAgdGltZXJTZXJ2aWNlOiBNLnJlbW90YWJsZSgpLFxufTskaM2PX29uY2UuT3JjaGVzdHJhdGlvblBvd2Vyc1NoYXBlKE9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSk7XG5oYXJkZW4oT3JjaGVzdHJhdGlvblBvd2Vyc1NoYXBlKTtcblxuY29uc3QgRm9yd2FyZEFyZ3NTaGFwZSA9IHtcbiAgcmVjZWl2ZXI6IE0uc3RyaW5nKCksXG4gIHBvcnQ6ICd0cmFuc2ZlcicsXG4gIGNoYW5uZWw6IE0uc3RyaW5nKCksXG4gIHRpbWVvdXQ6IE0uc3RyaW5nKCksXG4gIHJldHJpZXM6IE0ubnVtYmVyKCksXG59O1xuaGFyZGVuKEZvcndhcmRBcmdzU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgRm9yd2FyZEluZm9TaGFwZSA9IHtcbiAgZm9yd2FyZDogTS5zcGxpdFJlY29yZChGb3J3YXJkQXJnc1NoYXBlLCB7XG4gICAgLypcblxuXG4gICAgICovXG4gICAgbmV4dDoge1xuICAgICAgZm9yd2FyZDogRm9yd2FyZEFyZ3NTaGFwZSxcbiAgICB9LFxuICB9KSxcbn07JGjNj19vbmNlLkZvcndhcmRJbmZvU2hhcGUoRm9yd2FyZEluZm9TaGFwZSk7XG5oYXJkZW4oRm9yd2FyZEluZm9TaGFwZSk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBGb3J3YXJkT3B0c1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge30sXG4gIHtcbiAgICB0aW1lb3V0OiBNLnN0cmluZygpLFxuICAgIHJldHJpZXM6IE0ubnVtYmVyKCksXG4gICAgaW50ZXJtZWRpYXRlUmVjaXBpZW50OiBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgfSxcbiAge30sXG4pO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5Gb3J3YXJkT3B0c1NoYXBlKEZvcndhcmRPcHRzU2hhcGUpO1xuICAgICAgIGNvbnN0IElCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge30sXG4gIHtcbiAgICB0aW1lb3V0VGltZXN0YW1wOiBNLmJpZ2ludCgpLFxuICAgIHRpbWVvdXRIZWlnaHQ6IHtcbiAgICAgIHJldmlzaW9uSGVpZ2h0OiBNLmJpZ2ludCgpLFxuICAgICAgcmV2aXNpb25OdW1iZXI6IE0uYmlnaW50KCksXG4gICAgfSxcbiAgICB0aW1lb3V0UmVsYXRpdmVTZWNvbmRzOiBNLmJpZ2ludCgpLFxuICAgIG1lbW86IE0uc3RyaW5nKCksXG4gICAgZm9yd2FyZE9wdHM6IEZvcndhcmRPcHRzU2hhcGUsXG4gIH0sXG4pOyRozY9fb25jZS5JQkNUcmFuc2Zlck9wdGlvbnNTaGFwZShJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySSI6WyJPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySSJdLCJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSI6WyJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSJdLCJDYWlwMTBSZWNvcmRTaGFwZSI6WyJDYWlwMTBSZWNvcmRTaGFwZSJdLCJDaGFpbkFkZHJlc3NTaGFwZSI6WyJDaGFpbkFkZHJlc3NTaGFwZSJdLCJBY2NvdW50SWRBcmdTaGFwZSI6WyJBY2NvdW50SWRBcmdTaGFwZSJdLCJQcm90bzNTaGFwZSI6WyJQcm90bzNTaGFwZSJdLCJJQkNDaGFubmVsSURTaGFwZSI6WyJJQkNDaGFubmVsSURTaGFwZSJdLCJJQkNDaGFubmVsSW5mb1NoYXBlIjpbIklCQ0NoYW5uZWxJbmZvU2hhcGUiXSwiSUJDQ29ubmVjdGlvbklEU2hhcGUiOlsiSUJDQ29ubmVjdGlvbklEU2hhcGUiXSwiSUJDQ29ubmVjdGlvbkluZm9TaGFwZSI6WyJJQkNDb25uZWN0aW9uSW5mb1NoYXBlIl0sIkNvc21vc0Fzc2V0SW5mb1NoYXBlIjpbIkNvc21vc0Fzc2V0SW5mb1NoYXBlIl0sIkJhc2VDaGFpbkluZm9TaGFwZSI6WyJCYXNlQ2hhaW5JbmZvU2hhcGUiXSwiQ29zbW9zQ2hhaW5JbmZvU2hhcGUiOlsiQ29zbW9zQ2hhaW5JbmZvU2hhcGUiXSwiQ2hhaW5JbmZvU2hhcGUiOlsiQ2hhaW5JbmZvU2hhcGUiXSwiRGVub21TaGFwZSI6WyJEZW5vbVNoYXBlIl0sIkNvaW5TaGFwZSI6WyJDb2luU2hhcGUiXSwiRGVub21JbmZvU2hhcGUiOlsiRGVub21JbmZvU2hhcGUiXSwiRGVub21EZXRhaWxTaGFwZSI6WyJEZW5vbURldGFpbFNoYXBlIl0sIkRlbm9tQW1vdW50U2hhcGUiOlsiRGVub21BbW91bnRTaGFwZSJdLCJBbnlOYXRBbW91bnRTaGFwZSI6WyJBbnlOYXRBbW91bnRTaGFwZSJdLCJBbW91bnRBcmdTaGFwZSI6WyJBbW91bnRBcmdTaGFwZSJdLCJEZWxlZ2F0aW9uU2hhcGUiOlsiRGVsZWdhdGlvblNoYXBlIl0sIklDUU1zZ1NoYXBlIjpbIklDUU1zZ1NoYXBlIl0sIlR5cGVkSnNvblNoYXBlIjpbIlR5cGVkSnNvblNoYXBlIl0sImNoYWluRmFjYWRlTWV0aG9kcyI6WyJjaGFpbkZhY2FkZU1ldGhvZHMiXSwiVGltZXN0YW1wUHJvdG9TaGFwZSI6WyJUaW1lc3RhbXBQcm90b1NoYXBlIl0sIkV4ZWN1dGVJQ0FUeE9wdHNTaGFwZSI6WyJFeGVjdXRlSUNBVHhPcHRzU2hhcGUiXSwiQW55TmF0QW1vdW50c1JlY29yZCI6WyJBbnlOYXRBbW91bnRzUmVjb3JkIl0sIk9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSI6WyJPcmNoZXN0cmF0aW9uUG93ZXJzU2hhcGUiXSwiRm9yd2FyZEluZm9TaGFwZSI6WyJGb3J3YXJkSW5mb1NoYXBlIl0sIkZvcndhcmRPcHRzU2hhcGUiOlsiRm9yd2FyZE9wdHNTaGFwZSJdLCJJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSI6WyJJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAvAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAdl184s8YAADPGAAAMQAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2FkZHJlc3MuanN7ImltcG9ydHMiOlsiQGNvc21qcy9lbmNvZGluZyIsIkBlbmRvL2Vycm9ycyIsImJzNTgiXSwiZXhwb3J0cyI6WyJERUZBVUxUX0lDUV9WRVJTSU9OIiwiYWNjb3VudElkVG8zMkJ5dGVzIiwiYXNzZXJ0QmVjaDMyQWRkcmVzcyIsImNoYWluT2ZBY2NvdW50IiwiY29lcmNlQWNjb3VudElkIiwiZmluZEFkZHJlc3NGaWVsZCIsImdldEJlY2gzMlByZWZpeCIsImlzQmVjaDMyQWRkcmVzcyIsImxlZnRQYWRFdGhBZGRyZXNzVG8zMkJ5dGVzIiwibWFrZUlDQUNoYW5uZWxBZGRyZXNzIiwibWFrZUlDUUNoYW5uZWxBZGRyZXNzIiwicGFyc2VBY2NvdW50SWQiLCJwYXJzZUFjY291bnRJZEFyZyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGZyb21CZWNoMzIsZnJvbUhleCxGYWlsLHEsYnM1ODskaM2PX2ltcG9ydHMoW1tcIkBjb3NtanMvZW5jb2RpbmdcIiwgW1tcImZyb21CZWNoMzJcIixbJGjNj19hID0+IChmcm9tQmVjaDMyID0gJGjNj19hKV1dLFtcImZyb21IZXhcIixbJGjNj19hID0+IChmcm9tSGV4ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcImJzNThcIiwgW1tcImRlZmF1bHRcIixbJGjNj19hID0+IChiczU4ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUlDQUNoYW5uZWxBZGRyZXNzID0gKFxuICBob3N0Q29ubmVjdGlvbklkLFxuICBjb250cm9sbGVyQ29ubmVjdGlvbklkLFxuICB7XG4gICAgdmVyc2lvbiA9ICdpY3MyNy0xJyxcbiAgICBlbmNvZGluZyA9ICdwcm90bzMnLFxuICAgIG9yZGVyaW5nID0gJ29yZGVyZWQnLFxuICAgIHR4VHlwZSA9ICdzZGtfbXVsdGlfbXNnJyxcbiAgfSA9IHt9LFxuKSA9PiB7XG4gIGhvc3RDb25uZWN0aW9uSWQgfHwgRmFpbGBob3N0Q29ubmVjdGlvbklkIGlzIHJlcXVpcmVkYDtcbiAgY29udHJvbGxlckNvbm5lY3Rpb25JZCB8fCBGYWlsYGNvbnRyb2xsZXJDb25uZWN0aW9uSWQgaXMgcmVxdWlyZWRgO1xuICBjb25zdCBjb25uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHZlcnNpb24sXG4gICAgY29udHJvbGxlckNvbm5lY3Rpb25JZCxcbiAgICBob3N0Q29ubmVjdGlvbklkLFxuICAgIGFkZHJlc3M6ICcnLCAvL1xuICAgIGVuY29kaW5nLFxuICAgIHR4VHlwZSxcbiAgfSk7XG4gIHJldHVybiBgL2liYy1ob3AvJHtjb250cm9sbGVyQ29ubmVjdGlvbklkfS9pYmMtcG9ydC9pY2Fob3N0LyR7b3JkZXJpbmd9LyR7Y29ublN0cmluZ31gO1xufTskaM2PX29uY2UubWFrZUlDQUNoYW5uZWxBZGRyZXNzKG1ha2VJQ0FDaGFubmVsQWRkcmVzcyk7XG5oYXJkZW4obWFrZUlDQUNoYW5uZWxBZGRyZXNzKTtcblxuICAgICAgIGNvbnN0IERFRkFVTFRfSUNRX1ZFUlNJT04gPSAnaWNxLTEnO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkRFRkFVTFRfSUNRX1ZFUlNJT04oREVGQVVMVF9JQ1FfVkVSU0lPTik7XG4gICAgICAgY29uc3QgbWFrZUlDUUNoYW5uZWxBZGRyZXNzID0gKFxuICBjb250cm9sbGVyQ29ubmVjdGlvbklkLFxuICB2ZXJzaW9uID0gREVGQVVMVF9JQ1FfVkVSU0lPTixcbikgPT4ge1xuICBjb250cm9sbGVyQ29ubmVjdGlvbklkIHx8IEZhaWxgY29udHJvbGxlckNvbm5lY3Rpb25JZCBpcyByZXF1aXJlZGA7XG4gIHJldHVybiBgL2liYy1ob3AvJHtjb250cm9sbGVyQ29ubmVjdGlvbklkfS9pYmMtcG9ydC9pY3Fob3N0L3Vub3JkZXJlZC8ke3ZlcnNpb259YDtcbn07JGjNj19vbmNlLm1ha2VJQ1FDaGFubmVsQWRkcmVzcyhtYWtlSUNRQ2hhbm5lbEFkZHJlc3MpO1xuaGFyZGVuKG1ha2VJQ1FDaGFubmVsQWRkcmVzcyk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZmluZEFkZHJlc3NGaWVsZCA9IHJlbW90ZUFkZHJlc3NTdHJpbmcgPT4ge1xuICB0cnkge1xuICAgIC8vXG4gICAgY29uc3QganNvblN0ciA9IHJlbW90ZUFkZHJlc3NTdHJpbmc/Lm1hdGNoKC97Lio/fS8pPy5bMF07XG4gICAgY29uc3QganNvbk9iaiA9IGpzb25TdHIgPyBKU09OLnBhcnNlKGpzb25TdHIpIDogdW5kZWZpbmVkO1xuICAgIGlmICghanNvbk9iaj8uYWRkcmVzcz8ubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBqc29uT2JqLmFkZHJlc3M7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTskaM2PX29uY2UuZmluZEFkZHJlc3NGaWVsZChmaW5kQWRkcmVzc0ZpZWxkKTtcbmhhcmRlbihmaW5kQWRkcmVzc0ZpZWxkKTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRCZWNoMzJQcmVmaXggPSBhZGRyZXNzID0+IHtcbiAgYXNzZXJ0KGFkZHJlc3MsICdhZGRyZXNzIGlzIHJlcXVpcmVkJyk7XG4gIGNvbnN0IHNwbGl0ID0gYWRkcmVzcy5sYXN0SW5kZXhPZignMScpO1xuICBpZiAoc3BsaXQgPT09IC0xKSByZXR1cm4gRmFpbGBObyBzZXBhcmF0b3IgY2hhcmFjdGVyIGZvciAke3EoYWRkcmVzcyl9YDtcbiAgaWYgKHNwbGl0ID09PSAwKSByZXR1cm4gRmFpbGBNaXNzaW5nIHByZWZpeCBmb3IgJHtxKGFkZHJlc3MpfWA7XG4gIHJldHVybiBhZGRyZXNzLnNsaWNlKDAsIHNwbGl0KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5nZXRCZWNoMzJQcmVmaXgoZ2V0QmVjaDMyUHJlZml4KTtcbiAgICAgICBjb25zdCBjb2VyY2VBY2NvdW50SWQgPSBpZEFyZyA9PiB7XG4gIGlmICh0eXBlb2YgaWRBcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGlkQXJnO1xuICB9XG5cbiAgcmV0dXJuIGBjb3Ntb3M6JHtpZEFyZy5jaGFpbklkfToke2lkQXJnLnZhbHVlfWA7XG59OyRozY9fb25jZS5jb2VyY2VBY2NvdW50SWQoY29lcmNlQWNjb3VudElkKTtcbmhhcmRlbihjb2VyY2VBY2NvdW50SWQpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHBhcnNlQWNjb3VudElkQXJnID0gaWRBcmcgPT4ge1xuICBpZiAodHlwZW9mIGlkQXJnID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwYXJzZUFjY291bnRJZChpZEFyZyk7XG4gIH1cblxuICAvL1xuICByZXR1cm4ge1xuICAgIG5hbWVzcGFjZTogJ2Nvc21vcycsXG4gICAgcmVmZXJlbmNlOiBpZEFyZy5jaGFpbklkLFxuICAgIGFjY291bnRBZGRyZXNzOiBpZEFyZy52YWx1ZSxcbiAgfTtcbn07JGjNj19vbmNlLnBhcnNlQWNjb3VudElkQXJnKHBhcnNlQWNjb3VudElkQXJnKTtcbmhhcmRlbihwYXJzZUFjY291bnRJZEFyZyk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHBhcnNlQWNjb3VudElkID0gYWNjb3VudElkID0+IHtcbiAgY29uc3QgcGFydHMgPSBhY2NvdW50SWQuc3BsaXQoJzonKTtcbiAgcGFydHMubGVuZ3RoID09PSAzIHx8IEZhaWxgbWFsZm9ybWVkIENBSVAtMTAgYWNjb3VudElkOiAke3EoYWNjb3VudElkKX1gO1xuXG4gIC8vXG4gIGNvbnN0IFtuYW1lc3BhY2UsIHJlZmVyZW5jZSwgYWNjb3VudEFkZHJlc3NdID0gcGFydHM7XG4gIHJldHVybiB7XG4gICAgbmFtZXNwYWNlLFxuICAgIHJlZmVyZW5jZSxcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgfTtcbn07JGjNj19vbmNlLnBhcnNlQWNjb3VudElkKHBhcnNlQWNjb3VudElkKTtcbmhhcmRlbihwYXJzZUFjY291bnRJZCk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hhaW5PZkFjY291bnQgPSBhY2NvdW50SWRBcmcgPT4ge1xuICBjb25zdCB7IG5hbWVzcGFjZSwgcmVmZXJlbmNlIH0gPSBwYXJzZUFjY291bnRJZEFyZyhhY2NvdW50SWRBcmcpO1xuICByZXR1cm4gYCR7bmFtZXNwYWNlfToke3JlZmVyZW5jZX1gO1xufTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UuY2hhaW5PZkFjY291bnQoY2hhaW5PZkFjY291bnQpO1xuICAgICAgIGNvbnN0IGlzQmVjaDMyQWRkcmVzcyA9IGFkZHJlc3MgPT4ge1xuICBpZiAodHlwZW9mIGFkZHJlc3MgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvL1xuICAgIGNvbnN0IGRlY29kZWQgPSBmcm9tQmVjaDMyKGFkZHJlc3MpO1xuXG4gICAgLy9cbiAgICByZXR1cm4gISFkZWNvZGVkICYmIGRlY29kZWQuZGF0YS5sZW5ndGggPiAwO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59OyRozY9fb25jZS5pc0JlY2gzMkFkZHJlc3MoaXNCZWNoMzJBZGRyZXNzKTtcbmhhcmRlbihpc0JlY2gzMkFkZHJlc3MpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydEJlY2gzMkFkZHJlc3MgPSBhZGRyZXNzID0+IHtcbiAgaWYgKCFpc0JlY2gzMkFkZHJlc3MoYWRkcmVzcykpIHtcbiAgICBGYWlsYEV4cGVjdGVkIGEgdmFsaWQgQmVjaDMyIGFkZHJlc3MsIGdvdCAke3EoYWRkcmVzcyl9YDtcbiAgfVxufTskaM2PX29uY2UuYXNzZXJ0QmVjaDMyQWRkcmVzcyhhc3NlcnRCZWNoMzJBZGRyZXNzKTtcbmhhcmRlbihhc3NlcnRCZWNoMzJBZGRyZXNzKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBsZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyA9IHJhd0FkZHJlc3MgPT4ge1xuICBjb25zdCBjbGVhbmVkQWRkcmVzcyA9IHJhd0FkZHJlc3MucmVwbGFjZSgvXjB4LywgJycpO1xuICBjb25zdCB6ZXJvZXNOZWVkZWQgPSA2NCAtIGNsZWFuZWRBZGRyZXNzLmxlbmd0aDtcbiAgY29uc3QgcGFkZGVkQWRkcmVzcyA9ICcwJy5yZXBlYXQoemVyb2VzTmVlZGVkKSArIGNsZWFuZWRBZGRyZXNzO1xuICByZXR1cm4gZnJvbUhleChwYWRkZWRBZGRyZXNzKTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5sZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyhsZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyk7XG5jb25zdCBzb2xhbmFBZGRyZXNzVG9DY3RwUmVjaXBpZW50ID0gc29sYW5hQWRkcmVzcyA9PlxuICBiczU4LmRlY29kZShzb2xhbmFBZGRyZXNzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFjY291bnRJZFRvMzJCeXRlcyA9IGFjY291bnRJZCA9PiB7XG4gIGNvbnN0IHsgbmFtZXNwYWNlLCBhY2NvdW50QWRkcmVzcyB9ID0gcGFyc2VBY2NvdW50SWQoYWNjb3VudElkKTtcbiAgc3dpdGNoIChuYW1lc3BhY2UpIHtcbiAgICBjYXNlICdlaXAxNTUnOlxuICAgICAgcmV0dXJuIGxlZnRQYWRFdGhBZGRyZXNzVG8zMkJ5dGVzKGFjY291bnRBZGRyZXNzKTtcbiAgICBjYXNlICdzb2xhbmEnOlxuICAgICAgcmV0dXJuIHNvbGFuYUFkZHJlc3NUb0NjdHBSZWNpcGllbnQoYWNjb3VudEFkZHJlc3MpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG5hbWVzcGFjZSAke25hbWVzcGFjZX0gbm90IHN1cHBvcnRlZGApO1xuICB9XG59OyRozY9fb25jZS5hY2NvdW50SWRUbzMyQnl0ZXMoYWNjb3VudElkVG8zMkJ5dGVzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VJQ0FDaGFubmVsQWRkcmVzcyI6WyJtYWtlSUNBQ2hhbm5lbEFkZHJlc3MiXSwiREVGQVVMVF9JQ1FfVkVSU0lPTiI6WyJERUZBVUxUX0lDUV9WRVJTSU9OIl0sIm1ha2VJQ1FDaGFubmVsQWRkcmVzcyI6WyJtYWtlSUNRQ2hhbm5lbEFkZHJlc3MiXSwiZmluZEFkZHJlc3NGaWVsZCI6WyJmaW5kQWRkcmVzc0ZpZWxkIl0sImdldEJlY2gzMlByZWZpeCI6WyJnZXRCZWNoMzJQcmVmaXgiXSwiY29lcmNlQWNjb3VudElkIjpbImNvZXJjZUFjY291bnRJZCJdLCJwYXJzZUFjY291bnRJZEFyZyI6WyJwYXJzZUFjY291bnRJZEFyZyJdLCJwYXJzZUFjY291bnRJZCI6WyJwYXJzZUFjY291bnRJZCJdLCJjaGFpbk9mQWNjb3VudCI6WyJjaGFpbk9mQWNjb3VudCJdLCJpc0JlY2gzMkFkZHJlc3MiOlsiaXNCZWNoMzJBZGRyZXNzIl0sImFzc2VydEJlY2gzMkFkZHJlc3MiOlsiYXNzZXJ0QmVjaDMyQWRkcmVzcyJdLCJsZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyI6WyJsZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyJdLCJhY2NvdW50SWRUbzMyQnl0ZXMiOlsiYWNjb3VudElkVG8zMkJ5dGVzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAM1xd+zeBQAA3gUAADEAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9hbW91bnRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbImNvZXJjZUNvaW4iLCJjb2VyY2VEZW5vbSIsImNvZXJjZURlbm9tQW1vdW50Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZUVycm9yOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV1dXV0pO1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgY29lcmNlRGVub20gPSAoY2hhaW5IdWIsIGRlbm9tQXJnKSA9PiB7XG4gIGlmICh0eXBlb2YgZGVub21BcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlbm9tQXJnO1xuICB9XG4gIGNvbnN0IGRlbm9tID0gY2hhaW5IdWIuZ2V0RGVub20oZGVub21BcmcpO1xuICBpZiAoIWRlbm9tKSB7XG4gICAgdGhyb3cgbWFrZUVycm9yKGBObyBkZW5vbSBmb3IgYnJhbmQgJHtkZW5vbUFyZ31gKTtcbiAgfVxuICByZXR1cm4gZGVub207XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5jb2VyY2VEZW5vbShjb2VyY2VEZW5vbSk7XG4gICAgICAgY29uc3QgY29lcmNlRGVub21BbW91bnQgPSAoY2hhaW5IdWIsIGFtb3VudCkgPT4ge1xuICBpZiAoJ2Rlbm9tJyBpbiBhbW91bnQpIHtcbiAgICByZXR1cm4gYW1vdW50O1xuICB9XG4gIGNvbnN0IGRlbm9tID0gY29lcmNlRGVub20oY2hhaW5IdWIsIGFtb3VudC5icmFuZCk7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGRlbm9tLFxuICAgIHZhbHVlOiBhbW91bnQudmFsdWUsXG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UuY29lcmNlRGVub21BbW91bnQoY29lcmNlRGVub21BbW91bnQpO1xuICAgICAgIGNvbnN0IGNvZXJjZUNvaW4gPSAoY2hhaW5IdWIsIGFtb3VudCkgPT4ge1xuICBjb25zdCBkZW5vbSA9XG4gICAgJ2Rlbm9tJyBpbiBhbW91bnQgPyBhbW91bnQuZGVub20gOiBjb2VyY2VEZW5vbShjaGFpbkh1YiwgYW1vdW50LmJyYW5kKTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgZGVub20sXG4gICAgYW1vdW50OiBTdHJpbmcoYW1vdW50LnZhbHVlKSxcbiAgfSk7XG59OyRozY9fb25jZS5jb2VyY2VDb2luKGNvZXJjZUNvaW4pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiY29lcmNlRGVub20iOlsiY29lcmNlRGVub20iXSwiY29lcmNlRGVub21BbW91bnQiOlsiY29lcmNlRGVub21BbW91bnQiXSwiY29lcmNlQ29pbiI6WyJjb2VyY2VDb2luIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALGnFNDaBwAA2gcAADoAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9jaGFpbi1odWItaGVscGVyLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJyZWdpc3RlckNoYWluc0FuZEFzc2V0cyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzID0gKFxuICBjaGFpbkh1YixcbiAgYnJhbmRzLFxuICBjaGFpbkluZm8sXG4gIGFzc2V0SW5mbyxcbiAgeyBsb2cgPSAoKSA9PiB7fSB9ID0ge30sXG4pID0+IHtcbiAgbG9nKCdjaGFpbkh1YjogcmVnaXN0ZXJpbmcgY2hhaW5zJywgT2JqZWN0LmtleXMoY2hhaW5JbmZvIHx8IHt9KSk7XG4gIGlmICghY2hhaW5JbmZvKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY29ubnMgPSB7fTtcbiAgZm9yIChjb25zdCBbY2hhaW5OYW1lLCBhbGxJbmZvXSBvZiBPYmplY3QuZW50cmllcyhjaGFpbkluZm8pKSB7XG4gICAgaWYgKGFsbEluZm8ubmFtZXNwYWNlID09PSAnY29zbW9zJykge1xuICAgICAgY29uc3QgeyBjb25uZWN0aW9ucywgLi4uaW5mbyB9ID0gYWxsSW5mbztcbiAgICAgIGNoYWluSHViLnJlZ2lzdGVyQ2hhaW4oY2hhaW5OYW1lLCBpbmZvKTtcbiAgICAgIGlmIChjb25uZWN0aW9ucykgY29ubnNbaW5mby5jaGFpbklkXSA9IGNvbm5lY3Rpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGFpbkh1Yi5yZWdpc3RlckNoYWluKGNoYWluTmFtZSwgYWxsSW5mbyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlZ2lzdGVyZWRQYWlycyA9IG5ldyBTZXQoKTtcbiAgZm9yIChjb25zdCBbcENoYWluSWQsIGNvbm5JbmZvc10gb2YgT2JqZWN0LmVudHJpZXMoY29ubnMpKSB7XG4gICAgZm9yIChjb25zdCBbY0NoYWluSWQsIGNvbm5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhjb25uSW5mb3MpKSB7XG4gICAgICBjb25zdCBwYWlyID0gW3BDaGFpbklkLCBjQ2hhaW5JZF0uc29ydCgpLmpvaW4oJzwtPicpO1xuICAgICAgaWYgKCFyZWdpc3RlcmVkUGFpcnMuaGFzKHBhaXIpKSB7XG4gICAgICAgIGNoYWluSHViLnJlZ2lzdGVyQ29ubmVjdGlvbihwQ2hhaW5JZCwgY0NoYWluSWQsIGNvbm5JbmZvKTtcbiAgICAgICAgcmVnaXN0ZXJlZFBhaXJzLmFkZChwYWlyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbG9nKCdjaGFpbkh1YjogcmVnaXN0ZXJlZCBjb25uZWN0aW9ucycsIFsuLi5yZWdpc3RlcmVkUGFpcnNdLnNvcnQoKSk7XG5cbiAgbG9nKFxuICAgICdjaGFpbkh1YjogcmVnaXN0ZXJpbmcgYXNzZXRzJyxcbiAgICBhc3NldEluZm8/Lm1hcCgoW2Rlbm9tLCB7IGNoYWluTmFtZSB9XSkgPT4gYCR7Y2hhaW5OYW1lfTogJHtkZW5vbX1gKSxcbiAgKTtcbiAgaWYgKCFhc3NldEluZm8pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBbZGVub20sIGluZm9dIG9mIGFzc2V0SW5mbykge1xuICAgIGNvbnN0IHsgYnJhbmRLZXksIC4uLnJlc3QgfSA9IGluZm87XG4gICAgY29uc3QgaW5mb1dpdGhCcmFuZCA9IGJyYW5kS2V5XG4gICAgICA/IHsgLi4ucmVzdCwgYnJhbmQ6IGJyYW5kc1ticmFuZEtleV0gfVxuICAgICAgOiByZXN0O1xuICAgIGNoYWluSHViLnJlZ2lzdGVyQXNzZXQoZGVub20sIGluZm9XaXRoQnJhbmQpO1xuICB9XG59OyRozY9fb25jZS5yZWdpc3RlckNoYWluc0FuZEFzc2V0cyhyZWdpc3RlckNoYWluc0FuZEFzc2V0cyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJyZWdpc3RlckNoYWluc0FuZEFzc2V0cyI6WyJyZWdpc3RlckNoYWluc0FuZEFzc2V0cyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABqL0VEKgIAACoCAAA0AAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvY2hhaW4taW5mby5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiY2FpcElkRnJvbUluZm8iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuICovXG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgY2FpcElkRnJvbUluZm8gPSBpbmZvID0+IHtcbiAgcmV0dXJuIGAke2luZm8ubmFtZXNwYWNlfToke2luZm8ucmVmZXJlbmNlfWA7XG59OyRozY9fb25jZS5jYWlwSWRGcm9tSW5mbyhjYWlwSWRGcm9tSW5mbyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJjYWlwSWRGcm9tSW5mbyI6WyJjYWlwSWRGcm9tSW5mbyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC0lS63ZAoAAGQKAAAwAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvY29zbW9zLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2Jhc2U2NCIsIkBhZ29yaWMvY29zbWljLXByb3RvL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiXSwiZXhwb3J0cyI6WyJtYXhDbG9ja1NrZXciLCJ0b0Nvc21vc0RlbGVnYXRpb25SZXNwb25zZSIsInRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzcyIsInRvRGVub21BbW91bnQiLCJ0b1RydW5jYXRlZERlbm9tQW1vdW50IiwidHJ5RGVjb2RlUmVzcG9uc2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlRXJyb3IsZGVjb2RlQmFzZTY0LEFueTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChkZWNvZGVCYXNlNjQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9nb29nbGUvcHJvdG9idWYvYW55LmpzXCIsIFtbXCJBbnlcIixbJGjNj19hID0+IChBbnkgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuLypcblxuXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IG1heENsb2NrU2tldyA9IDEwbiAqIDYwbjtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5tYXhDbG9ja1NrZXcobWF4Q2xvY2tTa2V3KTtcbiAgICAgICBjb25zdCB0cnlEZWNvZGVSZXNwb25zZSA9IChhY2tTdHIsIGZyb21Qcm90b01zZykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGFueSA9IEFueS5kZWNvZGUoZGVjb2RlQmFzZTY0KGFja1N0cikpO1xuICAgIGNvbnN0IHByb3RvTXNnID0gQW55LmRlY29kZShhbnkudmFsdWUpO1xuXG4gICAgY29uc3QgbXNnID0gZnJvbVByb3RvTXNnKHByb3RvTXNnKTtcbiAgICByZXR1cm4gbXNnO1xuICB9IGNhdGNoIChjYXVzZSkge1xuICAgIHRocm93IG1ha2VFcnJvcihgYmFkIHJlc3BvbnNlOiAke2Fja1N0cn1gLCB1bmRlZmluZWQsIHsgY2F1c2UgfSk7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS50cnlEZWNvZGVSZXNwb25zZSh0cnlEZWNvZGVSZXNwb25zZSk7XG4gICAgICAgY29uc3QgdG9EZW5vbUFtb3VudCA9IGMgPT4gKHsgZGVub206IGMuZGVub20sIHZhbHVlOiBCaWdJbnQoYy5hbW91bnQpIH0pO1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UudG9EZW5vbUFtb3VudCh0b0Rlbm9tQW1vdW50KTtcbiAgICAgICBjb25zdCB0b1RydW5jYXRlZERlbm9tQW1vdW50ID0gYyA9PiAoe1xuICBkZW5vbTogYy5kZW5vbSxcbiAgdmFsdWU6IEJpZ0ludChjLmFtb3VudC5zcGxpdCgnLicpWzBdKSxcbn0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UudG9UcnVuY2F0ZWREZW5vbUFtb3VudCh0b1RydW5jYXRlZERlbm9tQW1vdW50KTtcbiAgICAgICBjb25zdCB0b0Nvc21vc1ZhbGlkYXRvckFkZHJlc3MgPSAociwgY2hhaW5JZCkgPT4gKHtcbiAgZW5jb2Rpbmc6ICdiZWNoMzInLFxuICB2YWx1ZTogLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoci52YWxpZGF0b3JBZGRyZXNzKSxcbiAgY2hhaW5JZCxcbn0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UudG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzKHRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzcyk7XG4gICAgICAgY29uc3QgdG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UgPSAoeyBjaGFpbklkIH0sIHIpID0+ICh7XG4gIGRlbGVnYXRvcjoge1xuICAgIGNoYWluSWQsXG4gICAgZW5jb2Rpbmc6ICdiZWNoMzInLFxuICAgIHZhbHVlOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChyLmRlbGVnYXRpb24uZGVsZWdhdG9yQWRkcmVzcyksXG4gIH0sXG4gIHZhbGlkYXRvcjogdG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzKHIuZGVsZWdhdGlvbiwgY2hhaW5JZCksXG4gIGFtb3VudDogdG9EZW5vbUFtb3VudChyLmJhbGFuY2UpLFxufSk7JGjNj19vbmNlLnRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlKHRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1heENsb2NrU2tldyI6WyJtYXhDbG9ja1NrZXciXSwidHJ5RGVjb2RlUmVzcG9uc2UiOlsidHJ5RGVjb2RlUmVzcG9uc2UiXSwidG9EZW5vbUFtb3VudCI6WyJ0b0Rlbm9tQW1vdW50Il0sInRvVHJ1bmNhdGVkRGVub21BbW91bnQiOlsidG9UcnVuY2F0ZWREZW5vbUFtb3VudCJdLCJ0b0Nvc21vc1ZhbGlkYXRvckFkZHJlc3MiOlsidG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzIl0sInRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlIjpbInRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJckCompAwAAqQMAADMAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9kZW5vbUhhc2guanN7ImltcG9ydHMiOlsiQG5vYmxlL2hhc2hlcy9zaGEyNTYiLCJAbm9ibGUvaGFzaGVzL3V0aWxzIl0sImV4cG9ydHMiOlsiZGVub21IYXNoIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgc2hhMjU2LGJ5dGVzVG9IZXg7JGjNj19pbXBvcnRzKFtbXCJAbm9ibGUvaGFzaGVzL3NoYTI1NlwiLCBbW1wic2hhMjU2XCIsWyRozY9fYSA9PiAoc2hhMjU2ID0gJGjNj19hKV1dXV0sW1wiQG5vYmxlL2hhc2hlcy91dGlsc1wiLCBbW1wiYnl0ZXNUb0hleFwiLFskaM2PX2EgPT4gKGJ5dGVzVG9IZXggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVub21IYXNoID0gKHtcbiAgcG9ydElkID0gJ3RyYW5zZmVyJyxcbiAgY2hhbm5lbElkID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh1bmRlZmluZWQpLFxuICBwYXRoID0gYCR7cG9ydElkfS8ke2NoYW5uZWxJZH1gLFxuICBkZW5vbSxcbn0pID0+IHtcbiAgY29uc3QgaCA9IHNoYTI1Ni5jcmVhdGUoKS51cGRhdGUoYCR7cGF0aH0vJHtkZW5vbX1gKS5kaWdlc3QoKTtcbiAgcmV0dXJuIGJ5dGVzVG9IZXgoaCkudG9VcHBlckNhc2UoKTtcbn07JGjNj19vbmNlLmRlbm9tSGFzaChkZW5vbUhhc2gpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVub21IYXNoIjpbImRlbm9tSGFzaCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABt3V1YHQoAAB0KAAA+AAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9lcnRwIiwiQGFnb3JpYy9uZXR3b3JrIiwiQGFnb3JpYy92b3ciLCJAYWdvcmljL3pvZS9zcmMvY29udHJhY3RTdXBwb3J0L3RvcGljcy5qcyIsIkBlbmRvL3BhdHRlcm5zIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbIm9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEJyYW5kU2hhcGUsTmV0d29ya1NoYXBlLFZvd1NoYXBlLFRvcGljc1JlY29yZFNoYXBlLE0sQWNjb3VudElkQXJnU2hhcGUsQW1vdW50QXJnU2hhcGUsQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsRGVub21BbW91bnRTaGFwZSxJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvZXJ0cFwiLCBbW1wiQnJhbmRTaGFwZVwiLFskaM2PX2EgPT4gKEJyYW5kU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL25ldHdvcmtcIiwgW1tcIlNoYXBlXCIsWyRozY9fYSA9PiAoTmV0d29ya1NoYXBlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3pvZS9zcmMvY29udHJhY3RTdXBwb3J0L3RvcGljcy5qc1wiLCBbW1wiVG9waWNzUmVjb3JkU2hhcGVcIixbJGjNj19hID0+IChUb3BpY3NSZWNvcmRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkFjY291bnRJZEFyZ1NoYXBlXCIsWyRozY9fYSA9PiAoQWNjb3VudElkQXJnU2hhcGUgPSAkaM2PX2EpXV0sW1wiQW1vdW50QXJnU2hhcGVcIixbJGjNj19hID0+IChBbW91bnRBcmdTaGFwZSA9ICRozY9fYSldXSxbXCJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZVwiLFskaM2PX2EgPT4gKENvc21vc0NoYWluQWRkcmVzc1NoYXBlID0gJGjNj19hKV1dLFtcIkRlbm9tQW1vdW50U2hhcGVcIixbJGjNj19hID0+IChEZW5vbUFtb3VudFNoYXBlID0gJGjNj19hKV1dLFtcIklCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlXCIsWyRozY9fYSA9PiAoSUJDVHJhbnNmZXJPcHRpb25zU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgVm93JCB9ID0gTmV0d29ya1NoYXBlOyAvL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3Qgb3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzID0ge1xuICBnZXRBZGRyZXNzOiBNLmNhbGwoKS5yZXR1cm5zKENvc21vc0NoYWluQWRkcmVzc1NoYXBlKSxcbiAgZ2V0QmFsYW5jZTogTS5jYWxsKE0ub3IoQnJhbmRTaGFwZSwgTS5zdHJpbmcoKSkpLnJldHVybnMoXG4gICAgVm93JChEZW5vbUFtb3VudFNoYXBlKSxcbiAgKSxcbiAgZ2V0QmFsYW5jZXM6IE0uY2FsbCgpLnJldHVybnMoVm93JChNLmFycmF5T2YoRGVub21BbW91bnRTaGFwZSkpKSxcbiAgc2VuZDogTS5jYWxsKEFjY291bnRJZEFyZ1NoYXBlLCBBbW91bnRBcmdTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIHNlbmRBbGw6IE0uY2FsbChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSwgTS5hcnJheU9mKEFtb3VudEFyZ1NoYXBlKSkucmV0dXJucyhcbiAgICBWb3dTaGFwZSxcbiAgKSxcbiAgdHJhbnNmZXI6IE0uY2FsbChBY2NvdW50SWRBcmdTaGFwZSwgQW1vdW50QXJnU2hhcGUpXG4gICAgLm9wdGlvbmFsKElCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlKVxuICAgIC5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgdHJhbnNmZXJTdGVwczogTS5jYWxsKEFtb3VudEFyZ1NoYXBlLCBNLmFueSgpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgYXNDb250aW51aW5nT2ZmZXI6IE0uY2FsbCgpLnJldHVybnMoXG4gICAgVm93JCh7XG4gICAgICBwdWJsaWNTdWJzY3JpYmVyczogVG9waWNzUmVjb3JkU2hhcGUsXG4gICAgICBpbnZpdGF0aW9uTWFrZXJzOiBNLmFueSgpLFxuICAgICAgaG9sZGVyOiBNLnJlbW90YWJsZSgpLFxuICAgIH0pLFxuICApLFxuICBnZXRQdWJsaWNUb3BpY3M6IE0uY2FsbCgpLnJldHVybnMoVm93JChUb3BpY3NSZWNvcmRTaGFwZSkpLFxufTskaM2PX29uY2Uub3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzKG9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJvcmNoZXN0cmF0aW9uQWNjb3VudE1ldGhvZHMiOlsib3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAH6x/PC2DgAAtg4AADAAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9wYWNrZXQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3R4L3YxYmV0YTEvdHguanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9nb29nbGUvcHJvdG9idWYvYW55LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzIiwiQGVuZG8vYmFzZTY0IiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vaWNxL3YxL3BhY2tldC5qcyIsIkBhZ29yaWMvY29zbWljLXByb3RvL2liYy9hcHBsaWNhdGlvbnMvaW50ZXJjaGFpbl9hY2NvdW50cy92MS9wYWNrZXQuanMiXSwiZXhwb3J0cyI6WyJtYWtlUXVlcnlQYWNrZXQiLCJtYWtlVHhQYWNrZXQiLCJwYXJzZVF1ZXJ5UGFja2V0IiwicGFyc2VUeFBhY2tldCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsVHhCb2R5LEFueSxSZXF1ZXN0UXVlcnksUmVzcG9uc2VRdWVyeSxhdG9iLGRlY29kZUJhc2U2NCxlbmNvZGVCYXNlNjQsQ29zbW9zUXVlcnksQ29zbW9zUmVzcG9uc2UsUGFja2V0VHlwZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvdHgvdjFiZXRhMS90eC5qc1wiLCBbW1wiVHhCb2R5XCIsWyRozY9fYSA9PiAoVHhCb2R5ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc1wiLCBbW1wiQW55XCIsWyRozY9fYSA9PiAoQW55ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzXCIsIFtbXCJSZXF1ZXN0UXVlcnlcIixbJGjNj19hID0+IChSZXF1ZXN0UXVlcnkgPSAkaM2PX2EpXV0sW1wiUmVzcG9uc2VRdWVyeVwiLFskaM2PX2EgPT4gKFJlc3BvbnNlUXVlcnkgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImF0b2JcIixbJGjNj19hID0+IChhdG9iID0gJGjNj19hKV1dLFtcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGRlY29kZUJhc2U2NCA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChlbmNvZGVCYXNlNjQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9pY3EvdjEvcGFja2V0LmpzXCIsIFtbXCJDb3Ntb3NRdWVyeVwiLFskaM2PX2EgPT4gKENvc21vc1F1ZXJ5ID0gJGjNj19hKV1dLFtcIkNvc21vc1Jlc3BvbnNlXCIsWyRozY9fYSA9PiAoQ29zbW9zUmVzcG9uc2UgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9pYmMvYXBwbGljYXRpb25zL2ludGVyY2hhaW5fYWNjb3VudHMvdjEvcGFja2V0LmpzXCIsIFtbXCJUeXBlXCIsWyRozY9fYSA9PiAoUGFja2V0VHlwZSA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1ha2VUeFBhY2tldCwnbmFtZScse3ZhbHVlOlwibWFrZVR4UGFja2V0XCJ9KTskaM2PX29uY2UubWFrZVR4UGFja2V0KG1ha2VUeFBhY2tldCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1ha2VRdWVyeVBhY2tldCwnbmFtZScse3ZhbHVlOlwibWFrZVF1ZXJ5UGFja2V0XCJ9KTskaM2PX29uY2UubWFrZVF1ZXJ5UGFja2V0KG1ha2VRdWVyeVBhY2tldCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlVHhQYWNrZXQsJ25hbWUnLHt2YWx1ZTpcInBhcnNlVHhQYWNrZXRcIn0pOyRozY9fb25jZS5wYXJzZVR4UGFja2V0KHBhcnNlVHhQYWNrZXQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZVF1ZXJ5UGFja2V0LCduYW1lJyx7dmFsdWU6XCJwYXJzZVF1ZXJ5UGFja2V0XCJ9KTskaM2PX29uY2UucGFyc2VRdWVyeVBhY2tldChwYXJzZVF1ZXJ5UGFja2V0KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIG1ha2VUeFBhY2tldChtc2dzLCBvcHRzKSB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gbXNncy5tYXAoQW55LmZyb21KU09OKTtcbiAgY29uc3QgYnl0ZXMgPSBUeEJvZHkuZW5jb2RlKFxuICAgIFR4Qm9keS5mcm9tUGFydGlhbCh7XG4gICAgICBtZXNzYWdlcyxcbiAgICAgIC4uLm9wdHMsXG4gICAgfSksXG4gICkuZmluaXNoKCk7XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHtcbiAgICAgIHR5cGU6IFBhY2tldFR5cGUuVFlQRV9FWEVDVVRFX1RYLFxuICAgICAgZGF0YTogZW5jb2RlQmFzZTY0KGJ5dGVzKSxcbiAgICAgIG1lbW86ICcnLFxuICAgIH0pLFxuICApO1xufVxuaGFyZGVuKG1ha2VUeFBhY2tldCk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIG1ha2VRdWVyeVBhY2tldChtc2dzKSB7XG4gIGNvbnN0IGJ5dGVzID0gQ29zbW9zUXVlcnkuZW5jb2RlKFxuICAgIENvc21vc1F1ZXJ5LmZyb21QYXJ0aWFsKHtcbiAgICAgIHJlcXVlc3RzOiBtc2dzLm1hcChSZXF1ZXN0UXVlcnkuZnJvbUpTT04pLFxuICAgIH0pLFxuICApLmZpbmlzaCgpO1xuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoe1xuICAgICAgZGF0YTogZW5jb2RlQmFzZTY0KGJ5dGVzKSxcbiAgICAgIG1lbW86ICcnLFxuICAgIH0pLFxuICApO1xufVxuaGFyZGVuKG1ha2VRdWVyeVBhY2tldCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBwYXJzZVR4UGFja2V0KHJlc3BvbnNlKSB7XG4gIGNvbnN0IHsgcmVzdWx0LCBlcnJvciB9ID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gIGVsc2UgaWYgKGVycm9yKSB0aHJvdyBFcnJvcihlcnJvcik7XG4gIGVsc2UgdGhyb3cgRmFpbGBleHBlY3RlZCBlaXRoZXIgcmVzdWx0IG9yIGVycm9yOiAke3Jlc3BvbnNlfWA7XG59XG5oYXJkZW4ocGFyc2VUeFBhY2tldCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHBhcnNlUXVlcnlQYWNrZXQocmVzcG9uc2UpIHtcbiAgY29uc3QgcmVzdWx0ID0gcGFyc2VUeFBhY2tldChyZXNwb25zZSk7XG4gIGNvbnN0IHsgZGF0YSB9ID0gSlNPTi5wYXJzZShhdG9iKHJlc3VsdCkpO1xuICBjb25zdCB7IHJlc3BvbnNlcyA9IFtdIH0gPSBDb3Ntb3NSZXNwb25zZS5kZWNvZGUoZGVjb2RlQmFzZTY0KGRhdGEpKTtcbiAgcmV0dXJuIGhhcmRlbihyZXNwb25zZXMubWFwKFJlc3BvbnNlUXVlcnkudG9KU09OKSk7XG59XG5oYXJkZW4ocGFyc2VRdWVyeVBhY2tldCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlVHhQYWNrZXQiOlsibWFrZVR4UGFja2V0Il0sIm1ha2VRdWVyeVBhY2tldCI6WyJtYWtlUXVlcnlQYWNrZXQiXSwicGFyc2VUeFBhY2tldCI6WyJwYXJzZVR4UGFja2V0Il0sInBhcnNlUXVlcnlQYWNrZXQiOlsicGFyc2VRdWVyeVBhY2tldCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA05wCbphkAAKYZAAA2AAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvc3RhcnQtaGVscGVyLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvYXN5bmMtZmxvdyIsIkBhZ29yaWMvdm93IiwiQGFnb3JpYy96b2Uvc3JjL2NvbnRyYWN0U3VwcG9ydC9yZWNvcmRlci5qcyIsIkBhZ29yaWMvem9uZS9kdXJhYmxlLmpzIiwiLi4vZXhvcy9jaGFpbi1odWIuanMiLCIuLi9leG9zL2Nvc21vcy1vcmNoZXN0cmF0aW9uLWFjY291bnQuanMiLCIuLi9leG9zL2xvY2FsLWNoYWluLWZhY2FkZS5qcyIsIi4uL2V4b3MvbG9jYWwtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzIiwiLi4vZXhvcy9vcmNoZXN0cmF0b3IuanMiLCIuLi9leG9zL3JlbW90ZS1jaGFpbi1mYWNhZGUuanMiLCIuLi9mYWNhZGUuanMiLCIuL3pvZS10b29scy5qcyIsIi4vemNmLXRvb2xzLmpzIl0sImV4cG9ydHMiOlsicHJvdmlkZU9yY2hlc3RyYXRpb24iLCJ3aXRoT3JjaGVzdHJhdGlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHByZXBhcmVBc3luY0Zsb3dUb29scyxwcmVwYXJlVm93VG9vbHMscHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzLG1ha2VEdXJhYmxlWm9uZSxtYWtlQ2hhaW5IdWIscHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50LHByZXBhcmVMb2NhbENoYWluRmFjYWRlLHByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0LHByZXBhcmVPcmNoZXN0cmF0b3IscHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlLG1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlLG1ha2Vab2VUb29scyxtYWtlWmNmVG9vbHM7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2FzeW5jLWZsb3dcIiwgW1tcInByZXBhcmVBc3luY0Zsb3dUb29sc1wiLFskaM2PX2EgPT4gKHByZXBhcmVBc3luY0Zsb3dUb29scyA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93XCIsIFtbXCJwcmVwYXJlVm93VG9vbHNcIixbJGjNj19hID0+IChwcmVwYXJlVm93VG9vbHMgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3pvZS9zcmMvY29udHJhY3RTdXBwb3J0L3JlY29yZGVyLmpzXCIsIFtbXCJwcmVwYXJlUmVjb3JkZXJLaXRNYWtlcnNcIixbJGjNj19hID0+IChwcmVwYXJlUmVjb3JkZXJLaXRNYWtlcnMgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3pvbmUvZHVyYWJsZS5qc1wiLCBbW1wibWFrZUR1cmFibGVab25lXCIsWyRozY9fYSA9PiAobWFrZUR1cmFibGVab25lID0gJGjNj19hKV1dXV0sW1wiLi4vZXhvcy9jaGFpbi1odWIuanNcIiwgW1tcIm1ha2VDaGFpbkh1YlwiLFskaM2PX2EgPT4gKG1ha2VDaGFpbkh1YiA9ICRozY9fYSldXV1dLFtcIi4uL2V4b3MvY29zbW9zLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qc1wiLCBbW1wicHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50XCIsWyRozY9fYSA9PiAocHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50ID0gJGjNj19hKV1dXV0sW1wiLi4vZXhvcy9sb2NhbC1jaGFpbi1mYWNhZGUuanNcIiwgW1tcInByZXBhcmVMb2NhbENoYWluRmFjYWRlXCIsWyRozY9fYSA9PiAocHJlcGFyZUxvY2FsQ2hhaW5GYWNhZGUgPSAkaM2PX2EpXV1dXSxbXCIuLi9leG9zL2xvY2FsLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qc1wiLCBbW1wicHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXRcIixbJGjNj19hID0+IChwcmVwYXJlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCA9ICRozY9fYSldXV1dLFtcIi4uL2V4b3Mvb3JjaGVzdHJhdG9yLmpzXCIsIFtbXCJwcmVwYXJlT3JjaGVzdHJhdG9yXCIsWyRozY9fYSA9PiAocHJlcGFyZU9yY2hlc3RyYXRvciA9ICRozY9fYSldXV1dLFtcIi4uL2V4b3MvcmVtb3RlLWNoYWluLWZhY2FkZS5qc1wiLCBbW1wicHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlXCIsWyRozY9fYSA9PiAocHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlID0gJGjNj19hKV1dXV0sW1wiLi4vZmFjYWRlLmpzXCIsIFtbXCJtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZVwiLFskaM2PX2EgPT4gKG1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlID0gJGjNj19hKV1dXV0sW1wiLi96b2UtdG9vbHMuanNcIiwgW1tcIm1ha2Vab2VUb29sc1wiLFskaM2PX2EgPT4gKG1ha2Vab2VUb29scyA9ICRozY9fYSldXV1dLFtcIi4vemNmLXRvb2xzLmpzXCIsIFtbXCJtYWtlWmNmVG9vbHNcIixbJGjNj19hID0+IChtYWtlWmNmVG9vbHMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcm92aWRlT3JjaGVzdHJhdGlvbiA9IChcbiAgemNmLFxuICBiYWdnYWdlLFxuICByZW1vdGVQb3dlcnMsXG4gIG1hcnNoYWxsZXIsXG4gIG9wdHMgPSB7fSxcbikgPT4ge1xuICAvL1xuICBjb25zdCB6b25lcyA9ICgoKSA9PiB7XG4gICAgY29uc3Qgem9uZSA9IG1ha2VEdXJhYmxlWm9uZShiYWdnYWdlKTtcbiAgICByZXR1cm4ge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgYXN5bmNGbG93OiB6b25lLnN1YlpvbmUoJ2FzeW5jRmxvdycpLFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgb3JjaGVzdHJhdGlvbjogem9uZS5zdWJab25lKCdvcmNoZXN0cmF0aW9uJyksXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY2hhaW5IdWI6IHpvbmUuc3ViWm9uZSgnY2hhaW5IdWInKSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIHZvd3M6IHpvbmUuc3ViWm9uZSgndm93cycpLFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnRyYWN0OiB6b25lLnN1YlpvbmUoJ2NvbnRyYWN0JyksXG4gICAgfTtcbiAgfSkoKTtcblxuICBjb25zdCB7IGFnb3JpY05hbWVzLCB0aW1lclNlcnZpY2UsIGxvY2FsY2hhaW4gfSA9IHJlbW90ZVBvd2VycztcblxuICBjb25zdCB2b3dUb29scyA9IHByZXBhcmVWb3dUb29scyh6b25lcy52b3dzKTtcblxuICBjb25zdCBjaGFpbkh1YiA9IG1ha2VDaGFpbkh1Yih6b25lcy5jaGFpbkh1YiwgYWdvcmljTmFtZXMsIHZvd1Rvb2xzLCB7XG4gICAgY2hhaW5JbmZvVmFsdWVTaGFwZTogb3B0cy5jaGFpbkluZm9WYWx1ZVNoYXBlLFxuICB9KTtcblxuICBjb25zdCB6b2VUb29scyA9IG1ha2Vab2VUb29scyh6Y2YsIHZvd1Rvb2xzKTtcblxuICBjb25zdCB6Y2ZUb29scyA9IG1ha2VaY2ZUb29scyh6Y2YsIHZvd1Rvb2xzKTtcblxuICBjb25zdCB7IG1ha2VSZWNvcmRlcktpdCB9ID0gcHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpO1xuICBjb25zdCBtYWtlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCA9IHByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0KFxuICAgIHpvbmVzLm9yY2hlc3RyYXRpb24sXG4gICAge1xuICAgICAgbWFrZVJlY29yZGVyS2l0LFxuICAgICAgemNmLFxuICAgICAgdGltZXJTZXJ2aWNlLFxuICAgICAgdm93VG9vbHMsXG4gICAgICBjaGFpbkh1YixcbiAgICAgIGxvY2FsY2hhaW4sXG4gICAgICB6b2VUb29scyxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGFzeW5jRmxvd1Rvb2xzID0gcHJlcGFyZUFzeW5jRmxvd1Rvb2xzKHpvbmVzLmFzeW5jRmxvdywge1xuICAgIHZvd1Rvb2xzLFxuICB9KTtcblxuICBjb25zdCBtYWtlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQgPSBwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQoXG4gICAgem9uZXMub3JjaGVzdHJhdGlvbixcbiAgICB7XG4gICAgICBjaGFpbkh1YixcbiAgICAgIG1ha2VSZWNvcmRlcktpdCxcbiAgICAgIHRpbWVyU2VydmljZSxcbiAgICAgIHZvd1Rvb2xzLFxuICAgICAgemNmLFxuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgbWFrZVJlbW90ZUNoYWluRmFjYWRlID0gcHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlKHpvbmVzLm9yY2hlc3RyYXRpb24sIHtcbiAgICBtYWtlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQsXG4gICAgb3JjaGVzdHJhdGlvbjogcmVtb3RlUG93ZXJzLm9yY2hlc3RyYXRpb25TZXJ2aWNlLFxuICAgIHN0b3JhZ2VOb2RlOiByZW1vdGVQb3dlcnMuc3RvcmFnZU5vZGUsXG4gICAgdGltZXI6IHJlbW90ZVBvd2Vycy50aW1lclNlcnZpY2UsXG4gICAgdm93VG9vbHMsXG4gIH0pO1xuXG4gIGNvbnN0IG1ha2VMb2NhbENoYWluRmFjYWRlID0gcHJlcGFyZUxvY2FsQ2hhaW5GYWNhZGUoem9uZXMub3JjaGVzdHJhdGlvbiwge1xuICAgIG1ha2VMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0LFxuICAgIGxvY2FsY2hhaW46IHJlbW90ZVBvd2Vycy5sb2NhbGNoYWluLFxuICAgIC8vXG4gICAgc3RvcmFnZU5vZGU6IHJlbW90ZVBvd2Vycy5zdG9yYWdlTm9kZSxcbiAgICBhZ29yaWNOYW1lcyxcbiAgICBvcmNoZXN0cmF0aW9uOiByZW1vdGVQb3dlcnMub3JjaGVzdHJhdGlvblNlcnZpY2UsXG4gICAgdGltZXI6IHJlbW90ZVBvd2Vycy50aW1lclNlcnZpY2UsXG4gICAgdm93VG9vbHMsXG4gIH0pO1xuXG4gIGNvbnN0IG1ha2VPcmNoZXN0cmF0b3IgPSBwcmVwYXJlT3JjaGVzdHJhdG9yKHpvbmVzLm9yY2hlc3RyYXRpb24sIHtcbiAgICBjaGFpbkh1YixcbiAgICBtYWtlTG9jYWxDaGFpbkZhY2FkZSxcbiAgICBtYWtlUmVtb3RlQ2hhaW5GYWNhZGUsXG4gICAgdm93VG9vbHMsXG4gIH0pO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlT3JjaGVzdHJhdGVLaXQgPSB6b25lID0+XG4gICAgbWFrZU9yY2hlc3RyYXRpb25GYWNhZGUoe1xuICAgICAgem9uZSxcbiAgICAgIHpjZixcbiAgICAgIG1ha2VPcmNoZXN0cmF0b3IsXG4gICAgICBhc3luY0Zsb3dUb29scyxcbiAgICAgIHZvd1Rvb2xzLFxuICAgICAgLi4ucmVtb3RlUG93ZXJzLFxuICAgIH0pO1xuXG4gIC8vXG4gIGNvbnN0IGRlZmF1bHRPcmNoZXN0cmF0ZUtpdCA9IG1ha2VPcmNoZXN0cmF0ZUtpdChcbiAgICB6b25lcy5jb250cmFjdC5zdWJab25lKCdvcmNoZXN0cmF0aW9uJyksXG4gICk7XG5cbiAgemNmLnNldFRlc3RKaWcoKCkgPT4gKHtcbiAgICBiYWdnYWdlLFxuICAgIGNoYWluSHViLFxuICB9KSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5kZWZhdWx0T3JjaGVzdHJhdGVLaXQsXG4gICAgbWFrZU9yY2hlc3RyYXRlS2l0LFxuICAgIGJhZ2dhZ2UsXG4gICAgY2hhaW5IdWIsXG4gICAgdm93VG9vbHMsXG4gICAgYXN5bmNGbG93VG9vbHMsXG4gICAgemNmVG9vbHMsXG4gICAgem9lVG9vbHMsXG4gICAgem9uZTogem9uZXMuY29udHJhY3QsXG4gIH07XG59OyRozY9fb25jZS5wcm92aWRlT3JjaGVzdHJhdGlvbihwcm92aWRlT3JjaGVzdHJhdGlvbik7XG5oYXJkZW4ocHJvdmlkZU9yY2hlc3RyYXRpb24pO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHdpdGhPcmNoZXN0cmF0aW9uID1cbiAgKGNvbnRyYWN0Rm4sIG9wdHMpID0+IGFzeW5jICh6Y2YsIHByaXZhdGVBcmdzLCBiYWdnYWdlKSA9PiB7XG4gICAgY29uc3QgeyBtYXJzaGFsbGVyLCAuLi5hbGxPcmNoUG93ZXJzIH0gPSBwcml2YXRlQXJncztcbiAgICBjb25zdCB7IHN0b3JhZ2VOb2RlOiBfLCAuLi5yZXF1aXJlZE9yY2hQb3dlcnMgfSA9IGFsbE9yY2hQb3dlcnM7XG4gICAgY29uc3QgeyBwdWJsaXNoQWNjb3VudEluZm8sIGNoYWluSW5mb1ZhbHVlU2hhcGUgfSA9IG9wdHMgPz8ge307XG4gICAgY29uc3QgeyB6b25lLCAuLi50b29scyB9ID0gcHJvdmlkZU9yY2hlc3RyYXRpb24oXG4gICAgICB6Y2YsXG4gICAgICBiYWdnYWdlLFxuICAgICAgcHVibGlzaEFjY291bnRJbmZvID8gYWxsT3JjaFBvd2VycyA6IHJlcXVpcmVkT3JjaFBvd2VycyxcbiAgICAgIG1hcnNoYWxsZXIsXG4gICAgICB7IGNoYWluSW5mb1ZhbHVlU2hhcGUgfSxcbiAgICApO1xuICAgIHJldHVybiBjb250cmFjdEZuKHpjZiwgcHJpdmF0ZUFyZ3MsIHpvbmUsIHRvb2xzKTtcbiAgfTskaM2PX29uY2Uud2l0aE9yY2hlc3RyYXRpb24od2l0aE9yY2hlc3RyYXRpb24pO1xuaGFyZGVuKHdpdGhPcmNoZXN0cmF0aW9uKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByb3ZpZGVPcmNoZXN0cmF0aW9uIjpbInByb3ZpZGVPcmNoZXN0cmF0aW9uIl0sIndpdGhPcmNoZXN0cmF0aW9uIjpbIndpdGhPcmNoZXN0cmF0aW9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAA0jscyxCQAAsQkAAC4AAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy90aW1lLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2ZhciIsIkBhZ29yaWMvdGltZSJdLCJleHBvcnRzIjpbIk1JTExJU0VDT05EU19QRVJfU0VDT05EIiwiTkFOT1NFQ09ORFNfUEVSX01JTExJU0VDT05EIiwiTkFOT1NFQ09ORFNfUEVSX1NFQ09ORCIsIlNFQ09ORFNfUEVSX01JTlVURSIsIm1ha2VUaW1lc3RhbXBIZWxwZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBFLFRpbWVNYXRoOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdGltZVwiLCBbW1wiVGltZU1hdGhcIixbJGjNj19hID0+IChUaW1lTWF0aCA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1ha2VUaW1lc3RhbXBIZWxwZXIsJ25hbWUnLHt2YWx1ZTpcIm1ha2VUaW1lc3RhbXBIZWxwZXJcIn0pOyRozY9fb25jZS5tYWtlVGltZXN0YW1wSGVscGVyKG1ha2VUaW1lc3RhbXBIZWxwZXIpO1xuXG5cbi8qXG5cblxuXG5cblxuICovXG5cbiAgICAgICBjb25zdCBTRUNPTkRTX1BFUl9NSU5VVEUgPSA2MG47JGjNj19vbmNlLlNFQ09ORFNfUEVSX01JTlVURShTRUNPTkRTX1BFUl9NSU5VVEUpO1xuICAgICAgIGNvbnN0IE1JTExJU0VDT05EU19QRVJfU0VDT05EID0gMTAwMG47JGjNj19vbmNlLk1JTExJU0VDT05EU19QRVJfU0VDT05EKE1JTExJU0VDT05EU19QRVJfU0VDT05EKTtcbiAgICAgICBjb25zdCBOQU5PU0VDT05EU19QRVJfTUlMTElTRUNPTkQgPSAxXzAwMF8wMDBuOyRozY9fb25jZS5OQU5PU0VDT05EU19QRVJfTUlMTElTRUNPTkQoTkFOT1NFQ09ORFNfUEVSX01JTExJU0VDT05EKTtcbiAgICAgICBjb25zdCBOQU5PU0VDT05EU19QRVJfU0VDT05EID0gMV8wMDBfMDAwXzAwMG47XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuTkFOT1NFQ09ORFNfUEVSX1NFQ09ORChOQU5PU0VDT05EU19QRVJfU0VDT05EKTtcbiAgICAgICBmdW5jdGlvbiBtYWtlVGltZXN0YW1wSGVscGVyKHRpbWVyKSB7XG4gIGNvbnN0IHNlbGYgPSBoYXJkZW4oe1xuICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VGltZW91dFRpbWVzdGFtcE5TKHNlY29uZHNJbkZ1dHVyZSA9IFNFQ09ORFNfUEVSX01JTlVURSAqIDVuKSB7XG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IGF3YWl0IEUodGltZXIpLmdldEN1cnJlbnRUaW1lc3RhbXAoKTtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBUaW1lTWF0aC5jb2VyY2VSZWxhdGl2ZVRpbWVSZWNvcmQoXG4gICAgICAgIHNlY29uZHNJbkZ1dHVyZSxcbiAgICAgICAgY3VycmVudFRpbWUudGltZXJCcmFuZCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBUaW1lTWF0aC5hZGRBYnNSZWwoY3VycmVudFRpbWUsIHRpbWVvdXQpLmFic1ZhbHVlICpcbiAgICAgICAgTkFOT1NFQ09ORFNfUEVSX1NFQ09ORFxuICAgICAgKTtcbiAgICB9LFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgdm93T3JWYWx1ZUZyb21PcHRzKG9wdHMpIHtcbiAgICAgIGlmIChvcHRzICYmICd0aW1lb3V0VGltZXN0YW1wJyBpbiBvcHRzKSByZXR1cm4gb3B0cy50aW1lb3V0VGltZXN0YW1wO1xuICAgICAgaWYgKG9wdHMgJiYgJ3RpbWVvdXRIZWlnaHQnIGluIG9wdHMpIHJldHVybiAwbjtcbiAgICAgIHJldHVybiBzZWxmLmdldFRpbWVvdXRUaW1lc3RhbXBOUyhcbiAgICAgICAgb3B0cyAmJiAndGltZW91dFJlbGF0aXZlU2Vjb25kcycgaW4gb3B0c1xuICAgICAgICAgID8gb3B0cy50aW1lb3V0UmVsYXRpdmVTZWNvbmRzXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICApO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gc2VsZjtcbn1cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJTRUNPTkRTX1BFUl9NSU5VVEUiOlsiU0VDT05EU19QRVJfTUlOVVRFIl0sIk1JTExJU0VDT05EU19QRVJfU0VDT05EIjpbIk1JTExJU0VDT05EU19QRVJfU0VDT05EIl0sIk5BTk9TRUNPTkRTX1BFUl9NSUxMSVNFQ09ORCI6WyJOQU5PU0VDT05EU19QRVJfTUlMTElTRUNPTkQiXSwiTkFOT1NFQ09ORFNfUEVSX1NFQ09ORCI6WyJOQU5PU0VDT05EU19QRVJfU0VDT05EIl0sIm1ha2VUaW1lc3RhbXBIZWxwZXIiOlsibWFrZVRpbWVzdGFtcEhlbHBlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACg5ngsqQQAAKkEAAAzAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvemNmLXRvb2xzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsibWFrZVpjZlRvb2xzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTSxtdXN0TWF0Y2g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuY29uc3QgSGFuZGxlclNoYXBlID0gTS5yZW1vdGFibGUoJ09mZmVySGFuZGxlcicpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVpjZlRvb2xzID0gKHpjZiwgdm93VG9vbHMpID0+XG4gIGhhcmRlbih7XG4gICAgbWFrZUludml0YXRpb24ob2ZmZXJIYW5kbGVyLCBkZXNjcmlwdGlvbiwgY3VzdG9tRGV0YWlscywgcHJvcG9zYWxTaGFwZSkge1xuICAgICAgbXVzdE1hdGNoKG9mZmVySGFuZGxlciwgSGFuZGxlclNoYXBlKTtcbiAgICAgIHJldHVybiB2b3dUb29scy53YXRjaChcbiAgICAgICAgemNmLm1ha2VJbnZpdGF0aW9uKFxuICAgICAgICAgIG9mZmVySGFuZGxlcixcbiAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICBjdXN0b21EZXRhaWxzLFxuICAgICAgICAgIHByb3Bvc2FsU2hhcGUsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0sXG4gICAgYXRvbWljUmVhcnJhbmdlKHRyYW5zZmVycykge1xuICAgICAgemNmLmF0b21pY1JlYXJyYW5nZSh0cmFuc2ZlcnMpO1xuICAgIH0sXG4gICAgYXNzZXJ0VW5pcXVlS2V5d29yZChrZXl3b3JkKSB7XG4gICAgICB6Y2YuYXNzZXJ0VW5pcXVlS2V5d29yZChrZXl3b3JkKTtcbiAgICB9LFxuICB9KTskaM2PX29uY2UubWFrZVpjZlRvb2xzKG1ha2VaY2ZUb29scyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlWmNmVG9vbHMiOlsibWFrZVpjZlRvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHoc+viREQAAkREAADMAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy96b2UtdG9vbHMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGFnb3JpYy96b2Uvc3JjL2NvbnRyYWN0U3VwcG9ydC9pbmRleC5qcyIsIkBlbmRvL2ZhciIsIkBhZ29yaWMvaW50ZXJuYWwiXSwiZXhwb3J0cyI6WyJtYWtlWm9lVG9vbHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlRXJyb3IscSxGYWlsLGRlcG9zaXRUb1NlYXQsRSxtYWtlVHJhY2VyOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3pvZS9zcmMvY29udHJhY3RTdXBwb3J0L2luZGV4LmpzXCIsIFtbXCJkZXBvc2l0VG9TZWF0XCIsWyRozY9fYSA9PiAoZGVwb3NpdFRvU2VhdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5jb25zdCB0cmFjZSA9IG1ha2VUcmFjZXIoJ1pvZVRvb2xzJyk7XG5cbmNvbnN0IHsgYXNzaWduLCBrZXlzLCB2YWx1ZXMgfSA9IE9iamVjdDtcblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2Vab2VUb29scyA9ICh6Y2YsIHsgd2hlbiwgYWxsVm93cywgYWxsU2V0dGxlZCwgYXNWb3cgfSkgPT4ge1xuICAvKlxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGxvY2FsVHJhbnNmZXIgPSAoc3JjU2VhdCwgbG9jYWxBY2NvdW50LCBhbW91bnRzKSA9PlxuICAgIGFzVm93KGFzeW5jICgpID0+IHtcbiAgICAgICFzcmNTZWF0Lmhhc0V4aXRlZCgpIHx8IEZhaWxgVGhlIHNlYXQgY2Fubm90IGhhdmUgZXhpdGVkLmA7XG4gICAgICBjb25zdCB7IHpjZlNlYXQ6IHRlbXBTZWF0LCB1c2VyU2VhdDogdXNlclNlYXRQIH0gPSB6Y2YubWFrZUVtcHR5U2VhdEtpdCgpO1xuICAgICAgY29uc3QgdXNlclNlYXQgPSBhd2FpdCB1c2VyU2VhdFA7XG4gICAgICB6Y2YuYXRvbWljUmVhcnJhbmdlKGhhcmRlbihbW3NyY1NlYXQsIHRlbXBTZWF0LCBhbW91bnRzXV0pKTtcbiAgICAgIHRlbXBTZWF0LmV4aXQoKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG5cbiAgICAgIC8vXG4gICAgICBjb25zdCBwYXltZW50cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBrZXlzKGFtb3VudHMpLm1hcChrdyA9PiBFKHVzZXJTZWF0KS5nZXRQYXlvdXQoa3cpKSxcbiAgICAgICk7XG4gICAgICBjb25zdCBzZXR0bGVEZXBvc2l0cyA9IGF3YWl0IHdoZW4oXG4gICAgICAgIGFsbFNldHRsZWQocGF5bWVudHMubWFwKHBtdCA9PiBFKGxvY2FsQWNjb3VudCkuZGVwb3NpdChwbXQpKSksXG4gICAgICApO1xuICAgICAgLy9cbiAgICAgIGlmIChzZXR0bGVEZXBvc2l0cy5maW5kKHggPT4geC5zdGF0dXMgPT09ICdyZWplY3RlZCcpKSB7XG4gICAgICAgIGNvbnN0IGFtdHMgPSB2YWx1ZXMoYW1vdW50cyk7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwYXltZW50c09yV2l0aGRyYXdWcyA9IHNldHRsZURlcG9zaXRzLm1hcCgoeCwgaSkgPT4ge1xuICAgICAgICAgIGlmICh4LnN0YXR1cyA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goeC5yZWFzb24pO1xuICAgICAgICAgICAgcmV0dXJuIHBheW1lbnRzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gRShsb2NhbEFjY291bnQpLndpdGhkcmF3KGFtdHNbaV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwYXltZW50c1RvUmV0dXJuID0gYXdhaXQgd2hlbihhbGxWb3dzKHBheW1lbnRzT3JXaXRoZHJhd1ZzKSk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRLd3IgPSBoYXJkZW4oXG4gICAgICAgICAga2V5cyhhbW91bnRzKS5yZWR1Y2UoXG4gICAgICAgICAgICAoa3dyLCBrdywgaSkgPT4gYXNzaWduKGt3ciwgeyBba3ddOiBwYXltZW50c1RvUmV0dXJuW2ldIH0pLFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZGVwb3NpdFJlc3BvbnNlID0gYXdhaXQgZGVwb3NpdFRvU2VhdChcbiAgICAgICAgICB6Y2YsXG4gICAgICAgICAgc3JjU2VhdCxcbiAgICAgICAgICBhbW91bnRzLFxuICAgICAgICAgIHBheW1lbnRLd3IsXG4gICAgICAgICk7XG4gICAgICAgIHRyYWNlKCdsb2NhbFRyYW5zZmVyIGRlcG9zaXRSZXNwb25zZScsIGRlcG9zaXRSZXNwb25zZSk7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgT25lIG9yIG1vcmUgZGVwb3NpdHMgZmFpbGVkICR7cShlcnJvcnMpfWApO1xuICAgICAgfVxuICAgICAgLy9cbiAgICB9KTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgd2l0aGRyYXdUb1NlYXQgPSAobG9jYWxBY2NvdW50LCBkZXN0U2VhdCwgYW1vdW50cykgPT5cbiAgICBhc1Zvdyhhc3luYyAoKSA9PiB7XG4gICAgICAhZGVzdFNlYXQuaGFzRXhpdGVkKCkgfHwgRmFpbGBUaGUgc2VhdCBjYW5ub3QgaGF2ZSBleGl0ZWQuYDtcblxuICAgICAgY29uc3Qgc2V0dGxlZFdpdGhkcmF3YWxzID0gYXdhaXQgd2hlbihcbiAgICAgICAgYWxsU2V0dGxlZCh2YWx1ZXMoYW1vdW50cykubWFwKGFtdCA9PiBFKGxvY2FsQWNjb3VudCkud2l0aGRyYXcoYW10KSkpLFxuICAgICAgKTtcblxuICAgICAgLy9cbiAgICAgIGlmIChzZXR0bGVkV2l0aGRyYXdhbHMuZmluZCh4ID0+IHguc3RhdHVzID09PSAncmVqZWN0ZWQnKSkge1xuICAgICAgICBjb25zdCByZXR1cm5QYXltZW50VnMgPSBbXTtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHNldHRsZWRXaXRoZHJhd2Fscykge1xuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgICAgcmV0dXJuUGF5bWVudFZzLnB1c2goRShsb2NhbEFjY291bnQpLmRlcG9zaXQocmVzdWx0LnZhbHVlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHJlc3VsdC5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB3aGVuKGFsbFZvd3MocmV0dXJuUGF5bWVudFZzKSk7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgT25lIG9yIG1vcmUgd2l0aGRyYXdhbHMgZmFpbGVkICR7cShlcnJvcnMpfWApO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGNvbnN0IHBheW1lbnRLd3IgPSBoYXJkZW4oXG4gICAgICAgIGtleXMoYW1vdW50cykucmVkdWNlKFxuICAgICAgICAgIChhY2MsIGt3LCBpKSA9PlxuICAgICAgICAgICAgYXNzaWduKGFjYywge1xuICAgICAgICAgICAgICBba3ddOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChzZXR0bGVkV2l0aGRyYXdhbHMpW2ldXG4gICAgICAgICAgICAgICAgLnZhbHVlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAge30sXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgY29uc3QgZGVwb3NpdFJlc3BvbnNlID0gYXdhaXQgZGVwb3NpdFRvU2VhdChcbiAgICAgICAgemNmLFxuICAgICAgICBkZXN0U2VhdCxcbiAgICAgICAgYW1vdW50cyxcbiAgICAgICAgcGF5bWVudEt3cixcbiAgICAgICk7XG4gICAgICB0cmFjZSgnd2l0aGRyYXdUb1NlYXQgZGVwb3NpdFJlc3BvbnNlJywgZGVwb3NpdFJlc3BvbnNlKTtcbiAgICB9KTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBsb2NhbFRyYW5zZmVyLFxuICAgIHdpdGhkcmF3VG9TZWF0LFxuICB9KTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UubWFrZVpvZVRvb2xzKG1ha2Vab2VUb29scyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlWm9lVG9vbHMiOlsibWFrZVpvZVRvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGw0phvmDQAA5g0AACEAAABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiLCIuL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanMiLCIuL3N0b3Jlcy9zY2FsYXJTZXRTdG9yZS5qcyIsIi4vc3RvcmVzL3NjYWxhcldlYWtNYXBTdG9yZS5qcyIsIi4vc3RvcmVzL3NjYWxhck1hcFN0b3JlLmpzIiwiLi9zdG9yZXMvc3RvcmUtdXRpbHMuanMiLCJAZW5kby9leG8iLCIuL2xlZ2FjeS9sZWdhY3lNYXAuanMiLCIuL2xlZ2FjeS9sZWdhY3lXZWFrTWFwLmpzIiwiLi90eXBlcy5qcyJdLCJleHBvcnRzIjpbImFzc2VydEtleSIsImFzc2VydEtleSIsImRlZmluZUV4b0NsYXNzIiwiZGVmaW5lRXhvQ2xhc3MiLCJtdXN0TWF0Y2giLCJwcm92aWRlTGF6eSIsInByb3ZpZGVMYXp5IixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbF0sInJlZXhwb3J0cyI6WyIuL3R5cGVzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgdHlwZWxlc3NNdXN0TWF0Y2g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAodHlwZWxlc3NNdXN0TWF0Y2ggPSAkaM2PX2EpXV1dXSxbXCIuL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanNcIiwgW11dLFtcIi4vc3RvcmVzL3NjYWxhclNldFN0b3JlLmpzXCIsIFtdXSxbXCIuL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanNcIiwgW11dLFtcIi4vc3RvcmVzL3NjYWxhck1hcFN0b3JlLmpzXCIsIFtdXSxbXCIuL3N0b3Jlcy9zdG9yZS11dGlscy5qc1wiLCBbXV0sW1wiQGVuZG8vZXhvXCIsIFtdXSxbXCIuL2xlZ2FjeS9sZWdhY3lNYXAuanNcIiwgW11dLFtcIi4vbGVnYWN5L2xlZ2FjeVdlYWtNYXAuanNcIiwgW11dLFtcIi4vdHlwZXMuanNcIiwgW11dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbXVzdE1hdGNoID0gdHlwZWxlc3NNdXN0TWF0Y2g7JGjNj19vbmNlLm11c3RNYXRjaChtdXN0TWF0Y2gpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9zdG9yZXMvc2NhbGFyV2Vha1NldFN0b3JlLmpzIjpbWyJtYWtlU2NhbGFyV2Vha1NldFN0b3JlIiwibWFrZVNjYWxhcldlYWtTZXRTdG9yZSJdXSwiLi9zdG9yZXMvc2NhbGFyU2V0U3RvcmUuanMiOltbIm1ha2VTY2FsYXJTZXRTdG9yZSIsIm1ha2VTY2FsYXJTZXRTdG9yZSJdXSwiLi9zdG9yZXMvc2NhbGFyV2Vha01hcFN0b3JlLmpzIjpbWyJtYWtlU2NhbGFyV2Vha01hcFN0b3JlIiwibWFrZVNjYWxhcldlYWtNYXBTdG9yZSJdXSwiLi9zdG9yZXMvc2NhbGFyTWFwU3RvcmUuanMiOltbIm1ha2VTY2FsYXJNYXBTdG9yZSIsIm1ha2VTY2FsYXJNYXBTdG9yZSJdXSwiLi9zdG9yZXMvc3RvcmUtdXRpbHMuanMiOltbIm1ha2VBdG9taWNQcm92aWRlciIsIm1ha2VBdG9taWNQcm92aWRlciJdLFsicHJvdmlkZUxhenkiLCJwcm92aWRlTGF6eSJdXSwiQGVuZG8vcGF0dGVybnMiOltbImlzS2V5IiwiaXNLZXkiXSxbImFzc2VydEtleSIsImFzc2VydEtleSJdLFsiYXNzZXJ0U2NhbGFyS2V5IiwiYXNzZXJ0U2NhbGFyS2V5Il0sWyJtYWtlQ29weVNldCIsIm1ha2VDb3B5U2V0Il0sWyJnZXRDb3B5U2V0S2V5cyIsImdldENvcHlTZXRLZXlzIl0sWyJtYWtlQ29weUJhZyIsIm1ha2VDb3B5QmFnIl0sWyJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyIsIm1ha2VDb3B5QmFnRnJvbUVsZW1lbnRzIl0sWyJnZXRDb3B5QmFnRW50cmllcyIsImdldENvcHlCYWdFbnRyaWVzIl0sWyJtYWtlQ29weU1hcCIsIm1ha2VDb3B5TWFwIl0sWyJnZXRDb3B5TWFwRW50cmllcyIsImdldENvcHlNYXBFbnRyaWVzIl0sWyJjb2VyY2VUb0VsZW1lbnRzIiwiY29lcmNlVG9FbGVtZW50cyJdLFsiY29lcmNlVG9CYWdFbnRyaWVzIiwiY29lcmNlVG9CYWdFbnRyaWVzIl0sWyJjb21wYXJlS2V5cyIsImNvbXBhcmVLZXlzIl0sWyJrZXlMVCIsImtleUxUIl0sWyJrZXlMVEUiLCJrZXlMVEUiXSxbImtleUVRIiwia2V5RVEiXSxbImtleUdURSIsImtleUdURSJdLFsia2V5R1QiLCJrZXlHVCJdLFsiZWxlbWVudHNJc1N1cGVyc2V0IiwiZWxlbWVudHNJc1N1cGVyc2V0Il0sWyJlbGVtZW50c0lzRGlzam9pbnQiLCJlbGVtZW50c0lzRGlzam9pbnQiXSxbImVsZW1lbnRzQ29tcGFyZSIsImVsZW1lbnRzQ29tcGFyZSJdLFsiZWxlbWVudHNVbmlvbiIsImVsZW1lbnRzVW5pb24iXSxbImVsZW1lbnRzRGlzam9pbnRVbmlvbiIsImVsZW1lbnRzRGlzam9pbnRVbmlvbiJdLFsiZWxlbWVudHNJbnRlcnNlY3Rpb24iLCJlbGVtZW50c0ludGVyc2VjdGlvbiJdLFsiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0IiwiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0Il0sWyJzZXRJc1N1cGVyc2V0Iiwic2V0SXNTdXBlcnNldCJdLFsic2V0SXNEaXNqb2ludCIsInNldElzRGlzam9pbnQiXSxbInNldENvbXBhcmUiLCJzZXRDb21wYXJlIl0sWyJzZXRVbmlvbiIsInNldFVuaW9uIl0sWyJzZXREaXNqb2ludFVuaW9uIiwic2V0RGlzam9pbnRVbmlvbiJdLFsic2V0SW50ZXJzZWN0aW9uIiwic2V0SW50ZXJzZWN0aW9uIl0sWyJzZXREaXNqb2ludFN1YnRyYWN0Iiwic2V0RGlzam9pbnRTdWJ0cmFjdCJdLFsiYmFnSXNTdXBlcmJhZyIsImJhZ0lzU3VwZXJiYWciXSxbImJhZ0NvbXBhcmUiLCJiYWdDb21wYXJlIl0sWyJiYWdVbmlvbiIsImJhZ1VuaW9uIl0sWyJiYWdJbnRlcnNlY3Rpb24iLCJiYWdJbnRlcnNlY3Rpb24iXSxbImJhZ0Rpc2pvaW50U3VidHJhY3QiLCJiYWdEaXNqb2ludFN1YnRyYWN0Il0sWyJNIiwiTSJdLFsiZ2V0UmFua0NvdmVyIiwiZ2V0UmFua0NvdmVyIl0sWyJpc1BhdHRlcm4iLCJpc1BhdHRlcm4iXSxbImFzc2VydFBhdHRlcm4iLCJhc3NlcnRQYXR0ZXJuIl0sWyJtYXRjaGVzIiwibWF0Y2hlcyJdLFsiaXNDb3B5U2V0IiwiaXNDb3B5U2V0Il0sWyJpc0NvcHlNYXAiLCJpc0NvcHlNYXAiXV0sIkBlbmRvL2V4byI6W1siaW5pdEVtcHR5IiwiaW5pdEVtcHR5Il0sWyJkZWZpbmVFeG9DbGFzcyIsImRlZmluZUV4b0NsYXNzIl0sWyJkZWZpbmVFeG9DbGFzc0tpdCIsImRlZmluZUV4b0NsYXNzS2l0Il0sWyJtYWtlRXhvIiwibWFrZUV4byJdXSwiLi9sZWdhY3kvbGVnYWN5TWFwLmpzIjpbWyJtYWtlTGVnYWN5TWFwIiwibWFrZUxlZ2FjeU1hcCJdXSwiLi9sZWdhY3kvbGVnYWN5V2Vha01hcC5qcyI6W1sibWFrZUxlZ2FjeVdlYWtNYXAiLCJtYWtlTGVnYWN5V2Vha01hcCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtdXN0TWF0Y2giOlsibXVzdE1hdGNoIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMMzhvT6BQAA+gUAACwAAABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvbGVnYWN5L2xlZ2FjeU1hcC5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlTGVnYWN5TWFwIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxxOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VMZWdhY3lNYXAgPSAodGFnID0gJ2tleScpID0+IHtcbiAgY29uc3QgbSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgYXNzZXJ0S2V5RG9lc05vdEV4aXN0ID0ga2V5ID0+XG4gICAgIW0uaGFzKGtleSkgfHwgRmFpbGAke3EodGFnKX0gYWxyZWFkeSByZWdpc3RlcmVkOiAke2tleX1gO1xuICBjb25zdCBhc3NlcnRLZXlFeGlzdHMgPSBrZXkgPT5cbiAgICBtLmhhcyhrZXkpIHx8IEZhaWxgJHtxKHRhZyl9IG5vdCBmb3VuZDogJHtrZXl9YDtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgaGFzOiBrZXkgPT4ge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIG0uaGFzKGtleSk7XG4gICAgfSxcbiAgICBpbml0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RG9lc05vdEV4aXN0KGtleSk7XG4gICAgICBtLnNldChrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIGdldDoga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleUV4aXN0cyhrZXkpO1xuICAgICAgcmV0dXJuIG0uZ2V0KGtleSk7XG4gICAgfSxcbiAgICBzZXQ6IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBhc3NlcnRLZXlFeGlzdHMoa2V5KTtcbiAgICAgIG0uc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICBtLmRlbGV0ZShrZXkpO1xuICAgIH0sXG4gICAga2V5czogKCkgPT4gbS5rZXlzKCksXG4gICAgdmFsdWVzOiAoKSA9PiBtLnZhbHVlcygpLFxuICAgIGVudHJpZXM6ICgpID0+IG0uZW50cmllcygpLFxuICAgIGdldFNpemU6ICgpID0+IG0uc2l6ZSxcbiAgICBjbGVhcjogKCkgPT4gbS5jbGVhcigpLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VMZWdhY3lNYXAobWFrZUxlZ2FjeU1hcCk7XG5oYXJkZW4obWFrZUxlZ2FjeU1hcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlTGVnYWN5TWFwIjpbIm1ha2VMZWdhY3lNYXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAAxezG6IFAACiBQAAMAAAAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9sZWdhY3kvbGVnYWN5V2Vha01hcC5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlTGVnYWN5V2Vha01hcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUxlZ2FjeVdlYWtNYXAgPSAodGFnID0gJ2tleScpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB3bSA9IG5ldyBXZWFrTWFwKCk7XG4gIGNvbnN0IGFzc2VydEtleURvZXNOb3RFeGlzdCA9IGtleSA9PlxuICAgICF3bS5oYXMoa2V5KSB8fCBGYWlsYCR7cSh0YWcpfSBhbHJlYWR5IHJlZ2lzdGVyZWQ6ICR7a2V5fWA7XG4gIGNvbnN0IGFzc2VydEtleUV4aXN0cyA9IGtleSA9PlxuICAgIHdtLmhhcyhrZXkpIHx8IEZhaWxgJHtxKHRhZyl9IG5vdCBmb3VuZDogJHtrZXl9YDtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgaGFzOiBrZXkgPT4ge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIHdtLmhhcyhrZXkpO1xuICAgIH0sXG4gICAgaW5pdDogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGFzc2VydEtleURvZXNOb3RFeGlzdChrZXkpO1xuICAgICAgd20uc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZ2V0OiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgKi8gKHdtLmdldChrZXkpKTtcbiAgICB9LFxuICAgIHNldDogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGFzc2VydEtleUV4aXN0cyhrZXkpO1xuICAgICAgd20uc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICB3bS5kZWxldGUoa2V5KTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VMZWdhY3lXZWFrTWFwKG1ha2VMZWdhY3lXZWFrTWFwKTtcbmhhcmRlbihtYWtlTGVnYWN5V2Vha01hcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlTGVnYWN5V2Vha01hcCI6WyJtYWtlTGVnYWN5V2Vha01hcCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACGpoxiARMAAAETAAAxAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJNYXBTdG9yZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL3BhdHRlcm5zIiwiLi9zY2FsYXJXZWFrTWFwU3RvcmUuanMiLCIuL3N0b3JlLXV0aWxzLmpzIl0sImV4cG9ydHMiOlsibWFrZU1hcFN0b3JlTWV0aG9kcyIsIm1ha2VTY2FsYXJNYXBTdG9yZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFyLGFzc2VydFBhc3NhYmxlLGZpbHRlckl0ZXJhYmxlLG1hcEl0ZXJhYmxlLGNvbXBhcmVSYW5rLGFzc2VydFNjYWxhcktleSxtYWtlQ29weU1hcCxtYXRjaGVzLG11c3RNYXRjaCxhc3NlcnRQYXR0ZXJuLG1ha2VXZWFrTWFwU3RvcmVNZXRob2RzLG1ha2VDdXJyZW50S2V5c0tpdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UGFzc2FibGVcIixbJGjNj19hID0+IChhc3NlcnRQYXNzYWJsZSA9ICRozY9fYSldXSxbXCJmaWx0ZXJJdGVyYWJsZVwiLFskaM2PX2EgPT4gKGZpbHRlckl0ZXJhYmxlID0gJGjNj19hKV1dLFtcIm1hcEl0ZXJhYmxlXCIsWyRozY9fYSA9PiAobWFwSXRlcmFibGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJjb21wYXJlUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcImFzc2VydFNjYWxhcktleVwiLFskaM2PX2EgPT4gKGFzc2VydFNjYWxhcktleSA9ICRozY9fYSldXSxbXCJtYWtlQ29weU1hcFwiLFskaM2PX2EgPT4gKG1ha2VDb3B5TWFwID0gJGjNj19hKV1dLFtcIm1hdGNoZXNcIixbJGjNj19hID0+IChtYXRjaGVzID0gJGjNj19hKV1dLFtcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXR0ZXJuXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGF0dGVybiA9ICRozY9fYSldXV1dLFtcIi4vc2NhbGFyV2Vha01hcFN0b3JlLmpzXCIsIFtbXCJtYWtlV2Vha01hcFN0b3JlTWV0aG9kc1wiLFskaM2PX2EgPT4gKG1ha2VXZWFrTWFwU3RvcmVNZXRob2RzID0gJGjNj19hKV1dXV0sW1wiLi9zdG9yZS11dGlscy5qc1wiLCBbW1wibWFrZUN1cnJlbnRLZXlzS2l0XCIsWyRozY9fYSA9PiAobWFrZUN1cnJlbnRLZXlzS2l0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU1hcFN0b3JlTWV0aG9kcyA9IChcbiAganNtYXAsXG4gIGFzc2VydEtWT2tUb0FkZCxcbiAgYXNzZXJ0S1ZPa1RvU2V0LFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICB0YWcgPSAna2V5JyxcbikgPT4ge1xuICBjb25zdCB7IGFzc2VydFVwZGF0ZU9uQWRkLCBhc3NlcnRVcGRhdGVPbkRlbGV0ZSwgaXRlcmFibGVLZXlzIH0gPVxuICAgIG1ha2VDdXJyZW50S2V5c0tpdChcbiAgICAgICgpID0+IGpzbWFwLmtleXMoKSxcbiAgICAgIGsgPT4ganNtYXAuaGFzKGspLFxuICAgICAgY29tcGFyZVJhbmssXG4gICAgICBhc3NlcnRLVk9rVG9BZGQsXG4gICAgICBhc3NlcnRLZXlPa1RvRGVsZXRlLFxuICAgICAgdGFnLFxuICAgICk7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGtleXMgPSAoa2V5UGF0dCA9IHVuZGVmaW5lZCwgdmFsdWVQYXR0ID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKGtleVBhdHQgPT09IHVuZGVmaW5lZCAmJiB2YWx1ZVBhdHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlS2V5cztcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyID0gayA9PiB7XG4gICAgICBpZiAoa2V5UGF0dCAhPT0gdW5kZWZpbmVkICYmICFtYXRjaGVzKGssIGtleVBhdHQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBpZiAodmFsdWVQYXR0ICE9PSB1bmRlZmluZWQgJiYgIW1hdGNoZXMoanNtYXAuZ2V0KGspLCB2YWx1ZVBhdHQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIGZpbHRlckl0ZXJhYmxlKGl0ZXJhYmxlS2V5cywgZmlsdGVyKTtcbiAgfTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgdmFsdWVzID0gKGtleVBhdHQgPSB1bmRlZmluZWQsIHZhbHVlUGF0dCA9IHVuZGVmaW5lZCkgPT5cbiAgICBtYXBJdGVyYWJsZShrZXlzKGtleVBhdHQsIHZhbHVlUGF0dCksIGsgPT4gLyogICAgICAgICAgICAqLyAoanNtYXAuZ2V0KGspKSk7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGVudHJpZXMgPSAoa2V5UGF0dCA9IHVuZGVmaW5lZCwgdmFsdWVQYXR0ID0gdW5kZWZpbmVkKSA9PlxuICAgIG1hcEl0ZXJhYmxlKGtleXMoa2V5UGF0dCwgdmFsdWVQYXR0KSwgayA9PiBbXG4gICAgICBrLFxuICAgICAgLyogICAgICAgICAgICAqLyAoanNtYXAuZ2V0KGspKSxcbiAgICBdKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICAuLi5tYWtlV2Vha01hcFN0b3JlTWV0aG9kcyhcbiAgICAgIGpzbWFwLFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGFzc2VydFVwZGF0ZU9uQWRkKSxcbiAgICAgIGFzc2VydEtWT2tUb1NldCxcbiAgICAgIGFzc2VydFVwZGF0ZU9uRGVsZXRlLFxuICAgICAgdGFnLFxuICAgICksXG4gICAga2V5cyxcbiAgICB2YWx1ZXMsXG4gICAgZW50cmllcyxcblxuICAgIHNuYXBzaG90OiAoa2V5UGF0dCA9IHVuZGVmaW5lZCwgdmFsdWVQYXR0ID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUNvcHlNYXAoZW50cmllcyhrZXlQYXR0LCB2YWx1ZVBhdHQpKSxcblxuICAgIGdldFNpemU6IChrZXlQYXR0ID0gdW5kZWZpbmVkLCB2YWx1ZVBhdHQgPSB1bmRlZmluZWQpID0+XG4gICAgICBrZXlQYXR0ID09PSB1bmRlZmluZWQgJiYgdmFsdWVQYXR0ID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBqc21hcC5zaXplXG4gICAgICAgIDogWy4uLmtleXMoa2V5UGF0dCwgdmFsdWVQYXR0KV0ubGVuZ3RoLFxuXG4gICAgY2xlYXI6IChrZXlQYXR0ID0gdW5kZWZpbmVkLCB2YWx1ZVBhdHQgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIGlmIChrZXlQYXR0ID09PSB1bmRlZmluZWQgJiYgdmFsdWVQYXR0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAganNtYXAuY2xlYXIoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMoa2V5UGF0dCwgdmFsdWVQYXR0KSkge1xuICAgICAgICBqc21hcC5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZU1hcFN0b3JlTWV0aG9kcyhtYWtlTWFwU3RvcmVNZXRob2RzKTtcbiAgICAgICBjb25zdCBtYWtlU2NhbGFyTWFwU3RvcmUgPSAoXG4gIHRhZyA9ICdrZXknLFxuICB7IGtleVNoYXBlID0gdW5kZWZpbmVkLCB2YWx1ZVNoYXBlID0gdW5kZWZpbmVkIH0gPSB7fSxcbikgPT4ge1xuICBjb25zdCBqc21hcCA9IG5ldyBNYXAoKTtcbiAgaWYgKGtleVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRQYXR0ZXJuKGtleVNoYXBlKTtcbiAgfVxuICBpZiAodmFsdWVTaGFwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0UGF0dGVybih2YWx1ZVNoYXBlKTtcbiAgfVxuXG4gIGNvbnN0IGFzc2VydEtWT2tUb1NldCA9IChfa2V5LCB2YWx1ZSkgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICBoYXJkZW4odmFsdWUpO1xuXG4gICAgYXNzZXJ0UGFzc2FibGUodmFsdWUpO1xuICAgIGlmICh2YWx1ZVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG11c3RNYXRjaCh2YWx1ZSwgdmFsdWVTaGFwZSwgJ21hcFN0b3JlIHZhbHVlJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFzc2VydEtWT2tUb0FkZCA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuXG4gICAgYXNzZXJ0U2NhbGFyS2V5KGtleSk7XG4gICAgaWYgKGtleVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG11c3RNYXRjaChrZXksIGtleVNoYXBlLCAnbWFwU3RvcmUga2V5Jyk7XG4gICAgfVxuICAgIGFzc2VydEtWT2tUb1NldChrZXksIHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gRmFyKGBzY2FsYXIgTWFwU3RvcmUgb2YgJHtxKHRhZyl9YCwge1xuICAgIC4uLm1ha2VNYXBTdG9yZU1ldGhvZHMoXG4gICAgICBqc21hcCxcbiAgICAgIGFzc2VydEtWT2tUb0FkZCxcbiAgICAgIGFzc2VydEtWT2tUb1NldCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHRhZyxcbiAgICApLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VTY2FsYXJNYXBTdG9yZShtYWtlU2NhbGFyTWFwU3RvcmUpO1xuaGFyZGVuKG1ha2VTY2FsYXJNYXBTdG9yZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlTWFwU3RvcmVNZXRob2RzIjpbIm1ha2VNYXBTdG9yZU1ldGhvZHMiXSwibWFrZVNjYWxhck1hcFN0b3JlIjpbIm1ha2VTY2FsYXJNYXBTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC6QDqcDQ0AAA0NAAAxAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJTZXRTdG9yZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL3BhdHRlcm5zIiwiLi9zY2FsYXJXZWFrU2V0U3RvcmUuanMiLCIuL3N0b3JlLXV0aWxzLmpzIl0sImV4cG9ydHMiOlsibWFrZVNjYWxhclNldFN0b3JlIiwibWFrZVNldFN0b3JlTWV0aG9kcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFyLGZpbHRlckl0ZXJhYmxlLGNvbXBhcmVSYW5rLGFzc2VydFNjYWxhcktleSxtYWtlQ29weVNldCxtYXRjaGVzLG11c3RNYXRjaCxhc3NlcnRQYXR0ZXJuLG1ha2VXZWFrU2V0U3RvcmVNZXRob2RzLG1ha2VDdXJyZW50S2V5c0tpdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wiZmlsdGVySXRlcmFibGVcIixbJGjNj19hID0+IChmaWx0ZXJJdGVyYWJsZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImNvbXBhcmVSYW5rXCIsWyRozY9fYSA9PiAoY29tcGFyZVJhbmsgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiYXNzZXJ0U2NhbGFyS2V5XCIsWyRozY9fYSA9PiAoYXNzZXJ0U2NhbGFyS2V5ID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5U2V0XCIsWyRozY9fYSA9PiAobWFrZUNvcHlTZXQgPSAkaM2PX2EpXV0sW1wibWF0Y2hlc1wiLFskaM2PX2EgPT4gKG1hdGNoZXMgPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcImFzc2VydFBhdHRlcm5cIixbJGjNj19hID0+IChhc3NlcnRQYXR0ZXJuID0gJGjNj19hKV1dXV0sW1wiLi9zY2FsYXJXZWFrU2V0U3RvcmUuanNcIiwgW1tcIm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzXCIsWyRozY9fYSA9PiAobWFrZVdlYWtTZXRTdG9yZU1ldGhvZHMgPSAkaM2PX2EpXV1dXSxbXCIuL3N0b3JlLXV0aWxzLmpzXCIsIFtbXCJtYWtlQ3VycmVudEtleXNLaXRcIixbJGjNj19hID0+IChtYWtlQ3VycmVudEtleXNLaXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VTZXRTdG9yZU1ldGhvZHMgPSAoXG4gIGpzc2V0LFxuICBhc3NlcnRLZXlPa1RvQWRkLFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgY29uc3QgeyBhc3NlcnRVcGRhdGVPbkFkZCwgYXNzZXJ0VXBkYXRlT25EZWxldGUsIGl0ZXJhYmxlS2V5cyB9ID1cbiAgICBtYWtlQ3VycmVudEtleXNLaXQoXG4gICAgICAoKSA9PiBqc3NldC5rZXlzKCksXG4gICAgICBrID0+IGpzc2V0LmhhcyhrKSxcbiAgICAgIGNvbXBhcmVSYW5rLFxuICAgICAgYXNzZXJ0S2V5T2tUb0FkZCxcbiAgICAgIGFzc2VydEtleU9rVG9EZWxldGUsXG4gICAgICBrZXlOYW1lLFxuICAgICk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBrZXlzID0gKGtleVBhdHQgPSB1bmRlZmluZWQpID0+XG4gICAga2V5UGF0dCA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGl0ZXJhYmxlS2V5c1xuICAgICAgOiBmaWx0ZXJJdGVyYWJsZShpdGVyYWJsZUtleXMsIGsgPT4gbWF0Y2hlcyhrLCBrZXlQYXR0KSk7XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgLi4ubWFrZVdlYWtTZXRTdG9yZU1ldGhvZHMoXG4gICAgICBqc3NldCxcbiAgICAgIGFzc2VydFVwZGF0ZU9uQWRkLFxuICAgICAgYXNzZXJ0VXBkYXRlT25EZWxldGUsXG4gICAgICBrZXlOYW1lLFxuICAgICksXG5cbiAgICBrZXlzLFxuXG4gICAgdmFsdWVzOiBrZXlzLFxuXG4gICAgc25hcHNob3Q6IChrZXlQYXR0ID0gdW5kZWZpbmVkKSA9PiBtYWtlQ29weVNldChrZXlzKGtleVBhdHQpKSxcblxuICAgIGdldFNpemU6IChrZXlQYXR0ID0gdW5kZWZpbmVkKSA9PlxuICAgICAga2V5UGF0dCA9PT0gdW5kZWZpbmVkID8ganNzZXQuc2l6ZSA6IFsuLi5rZXlzKGtleVBhdHQpXS5sZW5ndGgsXG5cbiAgICBjbGVhcjogKGtleVBhdHQgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIGlmIChrZXlQYXR0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAganNzZXQuY2xlYXIoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMoa2V5UGF0dCkpIHtcbiAgICAgICAganNzZXQuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlU2V0U3RvcmVNZXRob2RzKG1ha2VTZXRTdG9yZU1ldGhvZHMpO1xuICAgICAgIGNvbnN0IG1ha2VTY2FsYXJTZXRTdG9yZSA9IChcbiAgdGFnID0gJ2tleScsXG4gIHsga2V5U2hhcGUgPSB1bmRlZmluZWQgfSA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IGpzc2V0ID0gbmV3IFNldCgpO1xuICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydFBhdHRlcm4oa2V5U2hhcGUpO1xuICB9XG5cbiAgY29uc3QgYXNzZXJ0S2V5T2tUb0FkZCA9IGtleSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuXG4gICAgYXNzZXJ0U2NhbGFyS2V5KGtleSk7XG4gICAgaWYgKGtleVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG11c3RNYXRjaChrZXksIGtleVNoYXBlLCAnc2V0U3RvcmUga2V5Jyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBGYXIoYHNjYWxhciBTZXRTdG9yZSBvZiAke3EodGFnKX1gLCB7XG4gICAgLi4ubWFrZVNldFN0b3JlTWV0aG9kcyhqc3NldCwgYXNzZXJ0S2V5T2tUb0FkZCwgdW5kZWZpbmVkLCB0YWcpLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VTY2FsYXJTZXRTdG9yZShtYWtlU2NhbGFyU2V0U3RvcmUpO1xuaGFyZGVuKG1ha2VTY2FsYXJTZXRTdG9yZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlU2V0U3RvcmVNZXRob2RzIjpbIm1ha2VTZXRTdG9yZU1ldGhvZHMiXSwibWFrZVNjYWxhclNldFN0b3JlIjpbIm1ha2VTY2FsYXJTZXRTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABZuWC6xA8AAMQPAAA1AAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsibWFrZVNjYWxhcldlYWtNYXBTdG9yZSIsIm1ha2VXZWFrTWFwU3RvcmVNZXRob2RzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsLEZhcixhc3NlcnRQYXNzYWJsZSxwYXNzU3R5bGVPZixnZXRDb3B5TWFwRW50cmllcyxtdXN0TWF0Y2gsYXNzZXJ0UGF0dGVybixpc0NvcHlNYXA7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImFzc2VydFBhc3NhYmxlXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGFzc2FibGUgPSAkaM2PX2EpXV0sW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJnZXRDb3B5TWFwRW50cmllc1wiLFskaM2PX2EgPT4gKGdldENvcHlNYXBFbnRyaWVzID0gJGjNj19hKV1dLFtcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXR0ZXJuXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGF0dGVybiA9ICRozY9fYSldXSxbXCJpc0NvcHlNYXBcIixbJGjNj19hID0+IChpc0NvcHlNYXAgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlV2Vha01hcFN0b3JlTWV0aG9kcyA9IChcbiAganNtYXAsXG4gIGFzc2VydEtWT2tUb0FkZCxcbiAgYXNzZXJ0S1ZPa1RvU2V0LFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgY29uc3QgYXNzZXJ0S2V5RG9lc05vdEV4aXN0ID0ga2V5ID0+XG4gICAgIWpzbWFwLmhhcyhrZXkpIHx8IEZhaWxgJHtxKGtleU5hbWUpfSBhbHJlYWR5IHJlZ2lzdGVyZWQ6ICR7a2V5fWA7XG5cbiAgY29uc3QgYXNzZXJ0S2V5RXhpc3RzID0ga2V5ID0+XG4gICAganNtYXAuaGFzKGtleSkgfHwgRmFpbGAke3Eoa2V5TmFtZSl9IG5vdCBmb3VuZDogJHtrZXl9YDtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBoYXM6IGtleSA9PiB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4ganNtYXAuaGFzKGtleSk7XG4gICAgfSxcbiAgICBnZXQ6IGtleSA9PiB7XG4gICAgICBhc3NlcnRLZXlFeGlzdHMoa2V5KTtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gLyogICAgICAgICAgICAqLyAoanNtYXAuZ2V0KGtleSkpO1xuICAgIH0sXG5cbiAgICBpbml0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RG9lc05vdEV4aXN0KGtleSk7XG4gICAgICBhc3NlcnRLVk9rVG9BZGQoa2V5LCB2YWx1ZSk7XG4gICAgICBqc21hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXQ6IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBhc3NlcnRLZXlFeGlzdHMoa2V5KTtcbiAgICAgIGFzc2VydEtWT2tUb1NldChrZXksIHZhbHVlKTtcbiAgICAgIGpzbWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIGRlbGV0ZToga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleUV4aXN0cyhrZXkpO1xuICAgICAgaWYgKGFzc2VydEtleU9rVG9EZWxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhc3NlcnRLZXlPa1RvRGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgICBqc21hcC5kZWxldGUoa2V5KTtcbiAgICB9LFxuXG4gICAgYWRkQWxsOiBlbnRyaWVzID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZW50cmllc1tTeW1ib2wuaXRlcmF0b3JdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4oZW50cmllcykgJiYgaXNDb3B5TWFwKGVudHJpZXMpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBlbnRyaWVzID0gZ2V0Q29weU1hcEVudHJpZXMoZW50cmllcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRmFpbGBwcm92aWRlZCBkYXRhIHNvdXJjZSBpcyBub3QgaXRlcmFibGU6ICR7ZW50cmllc31gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChlbnRyaWVzKSkge1xuICAgICAgICAvL1xuICAgICAgICBhc3NlcnRLVk9rVG9BZGQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGpzbWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlV2Vha01hcFN0b3JlTWV0aG9kcyhtYWtlV2Vha01hcFN0b3JlTWV0aG9kcyk7XG4gICAgICAgY29uc3QgbWFrZVNjYWxhcldlYWtNYXBTdG9yZSA9IChcbiAgdGFnID0gJ2tleScsXG4gIHsgbG9uZ0xpdmVkID0gdHJ1ZSwga2V5U2hhcGUgPSB1bmRlZmluZWQsIHZhbHVlU2hhcGUgPSB1bmRlZmluZWQgfSA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IGpzbWFwID0gbmV3IChsb25nTGl2ZWQgPyBXZWFrTWFwIDogTWFwKSgpO1xuICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydFBhdHRlcm4oa2V5U2hhcGUpO1xuICB9XG4gIGlmICh2YWx1ZVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRQYXR0ZXJuKHZhbHVlU2hhcGUpO1xuICB9XG5cbiAgY29uc3QgYXNzZXJ0S1ZPa1RvU2V0ID0gKF9rZXksIHZhbHVlKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbih2YWx1ZSk7XG5cbiAgICBhc3NlcnRQYXNzYWJsZSh2YWx1ZSk7XG4gICAgaWYgKHZhbHVlU2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbXVzdE1hdGNoKHZhbHVlLCB2YWx1ZVNoYXBlLCAnd2Vha01hcFN0b3JlIHZhbHVlJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFzc2VydEtWT2tUb0FkZCA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuICAgIHBhc3NTdHlsZU9mKGtleSkgPT09ICdyZW1vdGFibGUnIHx8XG4gICAgICBGYWlsYE9ubHkgcmVtb3RhYmxlcyBjYW4gYmUga2V5cyBvZiBzY2FsYXIgV2Vha01hcFN0b3JlczogJHtrZXl9YDtcbiAgICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbXVzdE1hdGNoKGtleSwga2V5U2hhcGUsICd3ZWFrTWFwU3RvcmUga2V5Jyk7XG4gICAgfVxuICAgIGFzc2VydEtWT2tUb1NldChrZXksIHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gRmFyKGBzY2FsYXIgV2Vha01hcFN0b3JlIG9mICR7cSh0YWcpfWAsIHtcbiAgICAuLi5tYWtlV2Vha01hcFN0b3JlTWV0aG9kcyhcbiAgICAgIGpzbWFwLFxuICAgICAgYXNzZXJ0S1ZPa1RvQWRkLFxuICAgICAgYXNzZXJ0S1ZPa1RvU2V0LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdGFnLFxuICAgICksXG4gIH0pO1xufTskaM2PX29uY2UubWFrZVNjYWxhcldlYWtNYXBTdG9yZShtYWtlU2NhbGFyV2Vha01hcFN0b3JlKTtcbmhhcmRlbihtYWtlU2NhbGFyV2Vha01hcFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VXZWFrTWFwU3RvcmVNZXRob2RzIjpbIm1ha2VXZWFrTWFwU3RvcmVNZXRob2RzIl0sIm1ha2VTY2FsYXJXZWFrTWFwU3RvcmUiOlsibWFrZVNjYWxhcldlYWtNYXBTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABA7FDWywsAAMsLAAA1AAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsibWFrZVNjYWxhcldlYWtTZXRTdG9yZSIsIm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsLEZhcixwYXNzU3R5bGVPZixnZXRDb3B5U2V0S2V5cyxtdXN0TWF0Y2gsYXNzZXJ0UGF0dGVybixpc0NvcHlTZXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiZ2V0Q29weVNldEtleXNcIixbJGjNj19hID0+IChnZXRDb3B5U2V0S2V5cyA9ICRozY9fYSldXSxbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UGF0dGVyblwiLFskaM2PX2EgPT4gKGFzc2VydFBhdHRlcm4gPSAkaM2PX2EpXV0sW1wiaXNDb3B5U2V0XCIsWyRozY9fYSA9PiAoaXNDb3B5U2V0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVdlYWtTZXRTdG9yZU1ldGhvZHMgPSAoXG4gIGpzc2V0LFxuICBhc3NlcnRLZXlPa1RvQWRkLFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgY29uc3QgYXNzZXJ0S2V5RXhpc3RzID0ga2V5ID0+XG4gICAganNzZXQuaGFzKGtleSkgfHwgRmFpbGAke3Eoa2V5TmFtZSl9IG5vdCBmb3VuZDogJHtrZXl9YDtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBoYXM6IGtleSA9PiB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4ganNzZXQuaGFzKGtleSk7XG4gICAgfSxcblxuICAgIGFkZDoga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleU9rVG9BZGQoa2V5KTtcbiAgICAgIGpzc2V0LmFkZChrZXkpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICBpZiAoYXNzZXJ0S2V5T2tUb0RlbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydEtleU9rVG9EZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIGpzc2V0LmRlbGV0ZShrZXkpO1xuICAgIH0sXG5cbiAgICBhZGRBbGw6IGtleXMgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBrZXlzW1N5bWJvbC5pdGVyYXRvcl0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihrZXlzKSAmJiBpc0NvcHlTZXQoa2V5cykpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGtleXMgPSBnZXRDb3B5U2V0S2V5cyhrZXlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBGYWlsYHByb3ZpZGVkIGRhdGEgc291cmNlIGlzIG5vdCBpdGVyYWJsZTogJHtrZXlzfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIC8qICAgICAgICAgICAgICAgICAgICAgICovIChrZXlzKSkge1xuICAgICAgICBhc3NlcnRLZXlPa1RvQWRkKGtleSk7XG4gICAgICAgIGpzc2V0LmFkZChrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlV2Vha1NldFN0b3JlTWV0aG9kcyhtYWtlV2Vha1NldFN0b3JlTWV0aG9kcyk7XG4gICAgICAgY29uc3QgbWFrZVNjYWxhcldlYWtTZXRTdG9yZSA9IChcbiAgdGFnID0gJ2tleScsXG4gIHsgbG9uZ0xpdmVkID0gdHJ1ZSwga2V5U2hhcGUgPSB1bmRlZmluZWQgfSA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IGpzc2V0ID0gbmV3IChsb25nTGl2ZWQgPyBXZWFrU2V0IDogU2V0KSgpO1xuICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydFBhdHRlcm4oa2V5U2hhcGUpO1xuICB9XG5cbiAgY29uc3QgYXNzZXJ0S2V5T2tUb0FkZCA9IGtleSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuICAgIHBhc3NTdHlsZU9mKGtleSkgPT09ICdyZW1vdGFibGUnIHx8XG4gICAgICBGYWlsYE9ubHkgcmVtb3RhYmxlcyBjYW4gYmUga2V5cyBvZiBzY2FsYXIgV2Vha1N0b3JlczogJHtrZXl9YDtcbiAgICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbXVzdE1hdGNoKGtleSwga2V5U2hhcGUsICd3ZWFrU2V0U3RvcmUga2V5Jyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBGYXIoYHNjYWxhciBXZWFrU2V0U3RvcmUgb2YgJHtxKHRhZyl9YCwge1xuICAgIC4uLm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzKGpzc2V0LCBhc3NlcnRLZXlPa1RvQWRkLCB1bmRlZmluZWQsIHRhZyksXG4gIH0pO1xufTskaM2PX29uY2UubWFrZVNjYWxhcldlYWtTZXRTdG9yZShtYWtlU2NhbGFyV2Vha1NldFN0b3JlKTtcbmhhcmRlbihtYWtlU2NhbGFyV2Vha1NldFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VXZWFrU2V0U3RvcmVNZXRob2RzIjpbIm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzIl0sIm1ha2VTY2FsYXJXZWFrU2V0U3RvcmUiOlsibWFrZVNjYWxhcldlYWtTZXRTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFxkU9ohAAAKIQAAAuAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zdG9yZS11dGlscy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJhcHBlbmRUb1N0b3JlZEFycmF5IiwiaXNDb3B5TWFwIiwiaXNDb3B5U2V0IiwibWFrZUF0b21pY1Byb3ZpZGVyIiwibWFrZUN1cnJlbnRLZXlzS2l0IiwicHJvdmlkZUxhenkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLHEsRmFyLGlzQ29weU1hcCxpc0NvcHlTZXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcImlzQ29weU1hcFwiLFskaM2PX2EgPT4gKGlzQ29weU1hcCA9ICRozY9fYSksJGjNj19saXZlW1wiaXNDb3B5TWFwXCJdXV0sW1wiaXNDb3B5U2V0XCIsWyRozY9fYSA9PiAoaXNDb3B5U2V0ID0gJGjNj19hKSwkaM2PX2xpdmVbXCJpc0NvcHlTZXRcIl1dXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ3VycmVudEtleXNLaXQgPSAoXG4gIGdldFJhd0tleXMsXG4gIGNoZWNrSGFzLFxuICBjb21wYXJlLFxuICBhc3NlcnRPa1RvQWRkLFxuICBhc3NlcnRPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgbGV0IHVwZGF0ZUNvdW50ID0gMDtcbiAgbGV0IHNvcnRlZEtleXNNZW1vO1xuXG4gIGNvbnN0IGFzc2VydFVwZGF0ZU9uQWRkID0gKGssIHYgPSB1bmRlZmluZWQpID0+IHtcbiAgICBhc3NlcnRPa1RvQWRkKGssIHYpO1xuICAgIHVwZGF0ZUNvdW50ICs9IDE7XG4gICAgc29ydGVkS2V5c01lbW8gPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgY29uc3QgYXNzZXJ0VXBkYXRlT25EZWxldGUgPSBrID0+IGFzc2VydE9rVG9EZWxldGUgJiYgYXNzZXJ0T2tUb0RlbGV0ZShrKTtcblxuICBjb25zdCBnZXRTb3J0ZWRLZXlzID0gKCkgPT4ge1xuICAgIGlmIChzb3J0ZWRLZXlzTWVtbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzb3J0ZWRLZXlzTWVtbyA9IGhhcmRlbihbLi4uZ2V0UmF3S2V5cygpXS5zb3J0KGNvbXBhcmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlZEtleXNNZW1vO1xuICB9O1xuXG4gIGNvbnN0IGl0ZXJhYmxlS2V5cyA9IEZhcignSXRlcmFibGUgb2Yga2V5cycsIHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IHVwZGF0ZUNvdW50O1xuICAgICAgZ2V0U29ydGVkS2V5cygpO1xuICAgICAgY29uc3QgbGVuID0gc29ydGVkS2V5c01lbW8ubGVuZ3RoO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgcmV0dXJuIEZhcignSXRlcmF0b3Igb2Yga2V5cycsIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGdlbmVyYXRpb24gPT09IHVwZGF0ZUNvdW50IHx8IEZhaWxgU3RvcmUgJHtxKGtleU5hbWUpfSBjdXJzb3Igc3RhbGVgO1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAoaSA8IGxlbikge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNvcnRlZEtleXNNZW1vW2ldO1xuICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgIGlmIChjaGVja0hhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBhc3NlcnRVcGRhdGVPbkFkZCxcbiAgICBhc3NlcnRVcGRhdGVPbkRlbGV0ZSxcbiAgICBpdGVyYWJsZUtleXMsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZUN1cnJlbnRLZXlzS2l0KG1ha2VDdXJyZW50S2V5c0tpdCk7XG5oYXJkZW4obWFrZUN1cnJlbnRLZXlzS2l0KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJvdmlkZUxhenkgPSAobWFwU3RvcmUsIGtleSwgbWFrZVZhbHVlKSA9PiB7XG4gIGlmICghbWFwU3RvcmUuaGFzKGtleSkpIHtcbiAgICBtYXBTdG9yZS5pbml0KGtleSwgbWFrZVZhbHVlKGtleSkpO1xuICB9XG4gIHJldHVybiBtYXBTdG9yZS5nZXQoa2V5KTtcbn07JGjNj19vbmNlLnByb3ZpZGVMYXp5KHByb3ZpZGVMYXp5KTtcbmhhcmRlbihwcm92aWRlTGF6eSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VBdG9taWNQcm92aWRlciA9IHN0b3JlID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHBlbmRpbmcgPSBuZXcgTWFwKCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcm92aWRlQXN5bmMgPSAoa2V5LCBtYWtlVmFsdWUsIGZpbmlzaFZhbHVlKSA9PiB7XG4gICAgaWYgKHN0b3JlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0b3JlLmdldChrZXkpKTtcbiAgICB9XG4gICAgaWYgKCFwZW5kaW5nLmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCB2YWxQID0gbWFrZVZhbHVlKGtleSlcbiAgICAgICAgLnRoZW4odiA9PiB7XG4gICAgICAgICAgc3RvcmUuaW5pdChrZXksIHYpO1xuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9KVxuICAgICAgICAudGhlbih2ID0+IHtcbiAgICAgICAgICBpZiAoZmluaXNoVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hWYWx1ZShrZXksIHYpLnRoZW4oKCkgPT4gdik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgcGVuZGluZy5kZWxldGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICBwZW5kaW5nLnNldChrZXksIHZhbFApO1xuICAgIH1cbiAgICBjb25zdCB2YWxQID0gcGVuZGluZy5nZXQoa2V5KTtcbiAgICBhc3NlcnQodmFsUCk7XG4gICAgcmV0dXJuIHZhbFA7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7IHByb3ZpZGVBc3luYyB9KTtcbn07JGjNj19vbmNlLm1ha2VBdG9taWNQcm92aWRlcihtYWtlQXRvbWljUHJvdmlkZXIpO1xuaGFyZGVuKG1ha2VBdG9taWNQcm92aWRlcik7XG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXBwZW5kVG9TdG9yZWRBcnJheSA9IChtYXBTdG9yZSwga2V5LCBpdGVtKSA9PiB7XG4gIGlmIChtYXBTdG9yZS5oYXMoa2V5KSkge1xuICAgIGNvbnN0IGV4dGFudCA9IG1hcFN0b3JlLmdldChrZXkpO1xuICAgIG1hcFN0b3JlLnNldChrZXksIGhhcmRlbihbLi4uZXh0YW50LCBpdGVtXSkpO1xuICB9IGVsc2Uge1xuICAgIG1hcFN0b3JlLmluaXQoa2V5LCBoYXJkZW4oW2l0ZW1dKSk7XG4gIH1cbn07JGjNj19vbmNlLmFwcGVuZFRvU3RvcmVkQXJyYXkoYXBwZW5kVG9TdG9yZWRBcnJheSk7XG5oYXJkZW4oYXBwZW5kVG9TdG9yZWRBcnJheSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6eyJpc0NvcHlNYXAiOlsiaXNDb3B5TWFwIixmYWxzZV0sImlzQ29weVNldCI6WyJpc0NvcHlTZXQiLGZhbHNlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlQ3VycmVudEtleXNLaXQiOlsibWFrZUN1cnJlbnRLZXlzS2l0Il0sInByb3ZpZGVMYXp5IjpbInByb3ZpZGVMYXp5Il0sIm1ha2VBdG9taWNQcm92aWRlciI6WyJtYWtlQXRvbWljUHJvdmlkZXIiXSwiYXBwZW5kVG9TdG9yZWRBcnJheSI6WyJhcHBlbmRUb1N0b3JlZEFycmF5Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAACEAAABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvdHlwZXMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA7fWYmzACAAAwAgAAHAAAAEBhZ29yaWMvdGltZS12MC4zLjIvaW5kZXguanN7ImltcG9ydHMiOlsiLi9zcmMvdGltZU1hdGguanMiLCIuL3NyYy90eXBlR3VhcmRzLmpzIiwiLi9zcmMvdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL3NyYy90aW1lTWF0aC5qcyIsIi4vc3JjL3R5cGVHdWFyZHMuanMiLCIuL3NyYy90eXBlcy1pbmRleC5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy90aW1lTWF0aC5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZUd1YXJkcy5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMtaW5kZXguanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAATMXEWc0VAADNFQAAIwAAAEBhZ29yaWMvdGltZS12MC4zLjIvc3JjL3RpbWVNYXRoLmpzeyJpbXBvcnRzIjpbIkBlbmRvL25hdCIsIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiLCIuL3R5cGVHdWFyZHMuanMiXSwiZXhwb3J0cyI6WyJUaW1lTWF0aCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5hdCxGYWlsLHEsbXVzdE1hdGNoLFJlbGF0aXZlVGltZVJlY29yZFNoYXBlLFRpbWVzdGFtcFJlY29yZFNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbmF0XCIsIFtbXCJOYXRcIixbJGjNj19hID0+IChOYXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZVwiLFskaM2PX2EgPT4gKFJlbGF0aXZlVGltZVJlY29yZFNoYXBlID0gJGjNj19hKV1dLFtcIlRpbWVzdGFtcFJlY29yZFNoYXBlXCIsWyRozY9fYSA9PiAoVGltZXN0YW1wUmVjb3JkU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGFncmVlZFRpbWVyQnJhbmQgPSAobGVmdEJyYW5kLCByaWdodEJyYW5kKSA9PiB7XG4gIGlmIChsZWZ0QnJhbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChyaWdodEJyYW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByaWdodEJyYW5kO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyaWdodEJyYW5kID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbGVmdEJyYW5kO1xuICB9IGVsc2Uge1xuICAgIGxlZnRCcmFuZCA9PT0gcmlnaHRCcmFuZCB8fFxuICAgICAgRmFpbGBUaW1lckJyYW5kcyBtdXN0IG1hdGNoOiAke3EobGVmdEJyYW5kKX0gdnMgJHtxKHJpZ2h0QnJhbmQpfWA7XG4gICAgcmV0dXJuIGxlZnRCcmFuZDtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgc2hhcmVkVGltZXJCcmFuZCA9IChsZWZ0LCByaWdodCkgPT4ge1xuICBjb25zdCBsZWZ0QnJhbmQgPSB0eXBlb2YgbGVmdCA9PT0gJ2JpZ2ludCcgPyB1bmRlZmluZWQgOiBsZWZ0LnRpbWVyQnJhbmQ7XG4gIGNvbnN0IHJpZ2h0QnJhbmQgPSB0eXBlb2YgcmlnaHQgPT09ICdiaWdpbnQnID8gdW5kZWZpbmVkIDogcmlnaHQudGltZXJCcmFuZDtcbiAgcmV0dXJuIGFncmVlZFRpbWVyQnJhbmQobGVmdEJyYW5kLCByaWdodEJyYW5kKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBhYnNMaWtlID0gKGxlZnQsIHJpZ2h0LCBhYnNWYWx1ZSkgPT4ge1xuICBOYXQoYWJzVmFsdWUpO1xuICBjb25zdCB0aW1lckJyYW5kID0gc2hhcmVkVGltZXJCcmFuZChsZWZ0LCByaWdodCk7XG4gIGlmICh0aW1lckJyYW5kKSB7XG4gICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICB0aW1lckJyYW5kLFxuICAgICAgYWJzVmFsdWUsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFic1ZhbHVlO1xuICB9XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgcmVsTGlrZSA9IChsZWZ0LCByaWdodCwgcmVsVmFsdWUpID0+IHtcbiAgTmF0KHJlbFZhbHVlKTtcbiAgY29uc3QgdGltZXJCcmFuZCA9IHNoYXJlZFRpbWVyQnJhbmQobGVmdCwgcmlnaHQpO1xuICBpZiAodGltZXJCcmFuZCkge1xuICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgdGltZXJCcmFuZCxcbiAgICAgIHJlbFZhbHVlLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWxWYWx1ZTtcbiAgfVxufTtcblxuLy9cbi8vXG4vL1xuXG5jb25zdCBhYnNWYWx1ZSA9IGFicyA9PiB7XG4gIGlmICh0eXBlb2YgYWJzID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiBOYXQoYWJzKTtcbiAgfVxuICBtdXN0TWF0Y2goYWJzLCBUaW1lc3RhbXBSZWNvcmRTaGFwZSwgJ3RpbWVzdGFtcCcpO1xuICByZXR1cm4gTmF0KGFicy5hYnNWYWx1ZSk7XG59O1xuXG5jb25zdCByZWxWYWx1ZSA9IHJlbCA9PiB7XG4gIGlmICh0eXBlb2YgcmVsID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiBOYXQocmVsKTtcbiAgfVxuICBtdXN0TWF0Y2gocmVsLCBSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSwgJ3JlbGF0aXZlJyk7XG4gIHJldHVybiBOYXQocmVsLnJlbFZhbHVlKTtcbn07XG5cbmNvbnN0IG1ha2VUaW1lc3RhbXBSZWNvcmQgPSAoYWJzLCB0aW1lckJyYW5kKSA9PlxuICBoYXJkZW4oeyBhYnNWYWx1ZTogYWJzLCB0aW1lckJyYW5kIH0pO1xuY29uc3QgbWFrZVJlbGF0aXZlVGltZVJlY29yZCA9IChyZWwsIHRpbWVyQnJhbmQpID0+XG4gIGhhcmRlbih7IHJlbFZhbHVlOiByZWwsIHRpbWVyQnJhbmQgfSk7XG5cbmNvbnN0IGNvZXJjZVRpbWVzdGFtcFJlY29yZCA9ICh0cywgYnJhbmQpID0+IHtcbiAgYnJhbmQgfHwgRmFpbGBtdXN0IGhhdmUgYSBicmFuZGA7XG4gIGlmICh0eXBlb2YgdHMgPT09ICdudW1iZXInKSB7XG4gICAgdHMgPSBOYXQodHMpO1xuICB9XG4gIGlmICh0eXBlb2YgdHMgPT09ICdiaWdpbnQnKSB7XG4gICAgcmV0dXJuIG1ha2VUaW1lc3RhbXBSZWNvcmQodHMsIGJyYW5kKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IHRpbWVyQnJhbmQgfSA9IHRzO1xuICAgIG11c3RNYXRjaCh0cywgVGltZXN0YW1wUmVjb3JkU2hhcGUsICd0aW1lc3RhbXAnKTtcbiAgICBhZ3JlZWRUaW1lckJyYW5kKHRpbWVyQnJhbmQsIGJyYW5kKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cbn07XG5cbmNvbnN0IGNvZXJjZVJlbGF0aXZlVGltZVJlY29yZCA9IChydCwgYnJhbmQpID0+IHtcbiAgYnJhbmQgfHwgRmFpbGBtdXN0IGhhdmUgYSBicmFuZGA7XG4gIGlmICh0eXBlb2YgcnQgPT09ICdudW1iZXInKSB7XG4gICAgcnQgPSBOYXQocnQpO1xuICB9XG4gIGlmICh0eXBlb2YgcnQgPT09ICdiaWdpbnQnKSB7XG4gICAgcmV0dXJuIG1ha2VSZWxhdGl2ZVRpbWVSZWNvcmQocnQsIGJyYW5kKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IHRpbWVyQnJhbmQgfSA9IHJ0O1xuICAgIG11c3RNYXRjaChydCwgUmVsYXRpdmVUaW1lUmVjb3JkU2hhcGUsICdyZWxhdGl2ZVRpbWUnKTtcbiAgICBhZ3JlZWRUaW1lckJyYW5kKHRpbWVyQnJhbmQsIGJyYW5kKTtcbiAgICByZXR1cm4gcnQ7XG4gIH1cbn07XG5cbmNvbnN0IGFkZEFic1JlbCA9IChhYnMsIHJlbCkgPT5cbiAgYWJzTGlrZShhYnMsIHJlbCwgYWJzVmFsdWUoYWJzKSArIHJlbFZhbHVlKHJlbCkpO1xuXG5jb25zdCBhZGRSZWxSZWwgPSAocmVsMSwgcmVsMikgPT5cbiAgcmVsTGlrZShyZWwxLCByZWwyLCByZWxWYWx1ZShyZWwxKSArIHJlbFZhbHVlKHJlbDIpKTtcblxuY29uc3Qgc3VidHJhY3RBYnNBYnMgPSAoYWJzMSwgYWJzMikgPT5cbiAgcmVsTGlrZShhYnMxLCBhYnMyLCBhYnNWYWx1ZShhYnMxKSAtIGFic1ZhbHVlKGFiczIpKTtcblxuY29uc3QgY2xhbXBlZFN1YnRyYWN0QWJzQWJzID0gKGFiczEsIGFiczIpID0+IHtcbiAgY29uc3QgdmFsMSA9IGFic1ZhbHVlKGFiczEpO1xuICBjb25zdCB2YWwyID0gYWJzVmFsdWUoYWJzMik7XG4gIHJldHVybiByZWxMaWtlKGFiczEsIGFiczIsIHZhbDEgPiB2YWwyID8gdmFsMSAtIHZhbDIgOiAwbik7XG59O1xuXG5jb25zdCBzdWJ0cmFjdEFic1JlbCA9IChhYnMsIHJlbCkgPT5cbiAgYWJzTGlrZShhYnMsIHJlbCwgYWJzVmFsdWUoYWJzKSAtIHJlbFZhbHVlKHJlbCkpO1xuXG5jb25zdCBzdWJ0cmFjdFJlbFJlbCA9IChyZWwxLCByZWwyKSA9PlxuICByZWxMaWtlKHJlbDEsIHJlbDIsIHJlbFZhbHVlKHJlbDEpIC0gcmVsVmFsdWUocmVsMikpO1xuXG5jb25zdCBpc1JlbFplcm8gPSByZWwgPT4gcmVsVmFsdWUocmVsKSA9PT0gMG47XG5cbmNvbnN0IG11bHRpcGx5UmVsTmF0ID0gKHJlbCwgbmF0KSA9PiByZWxMaWtlKHJlbCwgbmF0LCByZWxWYWx1ZShyZWwpICogbmF0KTtcblxuY29uc3QgZGl2aWRlUmVsTmF0ID0gKHJlbCwgbmF0KSA9PiByZWxMaWtlKHJlbCwgbmF0LCByZWxWYWx1ZShyZWwpIC8gbmF0KTtcblxuY29uc3QgZGl2aWRlUmVsUmVsID0gKHJlbDEsIHJlbDIpID0+IHtcbiAgc2hhcmVkVGltZXJCcmFuZChyZWwxLCByZWwyKTsgLy9cbiAgcmV0dXJuIHJlbFZhbHVlKHJlbDEpIC8gcmVsVmFsdWUocmVsMik7XG59O1xuXG5jb25zdCBtb2RBYnNSZWwgPSAoYWJzLCBzdGVwKSA9PlxuICByZWxMaWtlKGFicywgc3RlcCwgYWJzVmFsdWUoYWJzKSAlIHJlbFZhbHVlKHN0ZXApKTtcblxuY29uc3QgbW9kUmVsUmVsID0gKHJlbCwgc3RlcCkgPT5cbiAgcmVsTGlrZShyZWwsIHN0ZXAsIHJlbFZhbHVlKHJlbCkgJSByZWxWYWx1ZShzdGVwKSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBjb21wYXJlVmFsdWVzID0gKGxlZnQsIHJpZ2h0LCB2MSwgdjIpID0+IHtcbiAgc2hhcmVkVGltZXJCcmFuZChsZWZ0LCByaWdodCk7XG4gIGlmICh2MSA8IHYyKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKHYxID09PSB2Mikge1xuICAgIHJldHVybiAwO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydCh2MSA+IHYyKTtcbiAgICByZXR1cm4gMTtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBUaW1lTWF0aCA9IGhhcmRlbih7XG4gIGFic1ZhbHVlLFxuICByZWxWYWx1ZSxcbiAgY29lcmNlVGltZXN0YW1wUmVjb3JkLFxuICBjb2VyY2VSZWxhdGl2ZVRpbWVSZWNvcmQsXG4gIC8vXG4gIGFkZEFic1JlbCxcbiAgLy9cbiAgYWRkUmVsUmVsLFxuICBzdWJ0cmFjdEFic0FicyxcbiAgY2xhbXBlZFN1YnRyYWN0QWJzQWJzLFxuICBzdWJ0cmFjdEFic1JlbCxcbiAgc3VidHJhY3RSZWxSZWwsXG4gIGlzUmVsWmVybyxcbiAgbXVsdGlwbHlSZWxOYXQsXG4gIGRpdmlkZVJlbE5hdCxcbiAgZGl2aWRlUmVsUmVsLFxuICBtb2RBYnNSZWwsXG4gIG1vZFJlbFJlbCxcbiAgY29tcGFyZUFiczogKGFiczEsIGFiczIpID0+XG4gICAgY29tcGFyZVZhbHVlcyhhYnMxLCBhYnMyLCBhYnNWYWx1ZShhYnMxKSwgYWJzVmFsdWUoYWJzMikpLFxuICBjb21wYXJlUmVsOiAocmVsMSwgcmVsMikgPT5cbiAgICBjb21wYXJlVmFsdWVzKHJlbDEsIHJlbDIsIHJlbFZhbHVlKHJlbDEpLCByZWxWYWx1ZShyZWwyKSksXG59KTskaM2PX29uY2UuVGltZU1hdGgoVGltZU1hdGgpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiVGltZU1hdGgiOlsiVGltZU1hdGgiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAOOUBfz0JAAA9CQAAJQAAAEBhZ29yaWMvdGltZS12MC4zLjIvc3JjL3R5cGVHdWFyZHMuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSIsIlJlbGF0aXZlVGltZVNoYXBlIiwiUmVsYXRpdmVUaW1lVmFsdWVTaGFwZSIsIlRpbWVyQnJhbmRTaGFwZSIsIlRpbWVyU2VydmljZVNoYXBlIiwiVGltZXN0YW1wUmVjb3JkU2hhcGUiLCJUaW1lc3RhbXBTaGFwZSIsIlRpbWVzdGFtcFZhbHVlU2hhcGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBNOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG4gKi9cblxuICAgICAgIGNvbnN0IFRpbWVyQnJhbmRTaGFwZSA9IE0ucmVtb3RhYmxlKCdUaW1lckJyYW5kJyk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLlRpbWVyQnJhbmRTaGFwZShUaW1lckJyYW5kU2hhcGUpO1xuICAgICAgIGNvbnN0IFRpbWVzdGFtcFZhbHVlU2hhcGUgPSBNLm5hdCgpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5UaW1lc3RhbXBWYWx1ZVNoYXBlKFRpbWVzdGFtcFZhbHVlU2hhcGUpO1xuICAgICAgIGNvbnN0IFJlbGF0aXZlVGltZVZhbHVlU2hhcGUgPSBNLm5hdCgpOyAvL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5SZWxhdGl2ZVRpbWVWYWx1ZVNoYXBlKFJlbGF0aXZlVGltZVZhbHVlU2hhcGUpO1xuICAgICAgIGNvbnN0IFRpbWVzdGFtcFJlY29yZFNoYXBlID0ge1xuICB0aW1lckJyYW5kOiBUaW1lckJyYW5kU2hhcGUsXG4gIGFic1ZhbHVlOiBUaW1lc3RhbXBWYWx1ZVNoYXBlLFxufTskaM2PX29uY2UuVGltZXN0YW1wUmVjb3JkU2hhcGUoVGltZXN0YW1wUmVjb3JkU2hhcGUpO1xuaGFyZGVuKFRpbWVzdGFtcFJlY29yZFNoYXBlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSA9IHtcbiAgdGltZXJCcmFuZDogVGltZXJCcmFuZFNoYXBlLFxuICByZWxWYWx1ZTogUmVsYXRpdmVUaW1lVmFsdWVTaGFwZSxcbn07JGjNj19vbmNlLlJlbGF0aXZlVGltZVJlY29yZFNoYXBlKFJlbGF0aXZlVGltZVJlY29yZFNoYXBlKTtcbmhhcmRlbihSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBUaW1lc3RhbXBTaGFwZSA9IE0ub3IoVGltZXN0YW1wUmVjb3JkU2hhcGUsIFRpbWVzdGFtcFZhbHVlU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLlRpbWVzdGFtcFNoYXBlKFRpbWVzdGFtcFNoYXBlKTtcbiAgICAgICBjb25zdCBSZWxhdGl2ZVRpbWVTaGFwZSA9IE0ub3IoXG4gIFJlbGF0aXZlVGltZVJlY29yZFNoYXBlLFxuICBSZWxhdGl2ZVRpbWVWYWx1ZVNoYXBlLFxuKTskaM2PX29uY2UuUmVsYXRpdmVUaW1lU2hhcGUoUmVsYXRpdmVUaW1lU2hhcGUpO1xuXG4gICAgICAgY29uc3QgVGltZXJTZXJ2aWNlU2hhcGUgPSBNLnJlbW90YWJsZSgnVGltZXJTZXJ2aWNlJyk7JGjNj19vbmNlLlRpbWVyU2VydmljZVNoYXBlKFRpbWVyU2VydmljZVNoYXBlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRpbWVyQnJhbmRTaGFwZSI6WyJUaW1lckJyYW5kU2hhcGUiXSwiVGltZXN0YW1wVmFsdWVTaGFwZSI6WyJUaW1lc3RhbXBWYWx1ZVNoYXBlIl0sIlJlbGF0aXZlVGltZVZhbHVlU2hhcGUiOlsiUmVsYXRpdmVUaW1lVmFsdWVTaGFwZSJdLCJUaW1lc3RhbXBSZWNvcmRTaGFwZSI6WyJUaW1lc3RhbXBSZWNvcmRTaGFwZSJdLCJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSI6WyJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSJdLCJUaW1lc3RhbXBTaGFwZSI6WyJUaW1lc3RhbXBTaGFwZSJdLCJSZWxhdGl2ZVRpbWVTaGFwZSI6WyJSZWxhdGl2ZVRpbWVTaGFwZSJdLCJUaW1lclNlcnZpY2VTaGFwZSI6WyJUaW1lclNlcnZpY2VTaGFwZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAmAAAAQGFnb3JpYy90aW1lLXYwLjMuMi9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwwxcir8ZAAC/GQAAKAAAAEBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yL3NyYy9leG8tdXRpbHMuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9zdG9yZSIsIi4vdmF0LWRhdGEtYmluZGluZ3MuanMiXSwiZXhwb3J0cyI6WyJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiLCJkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQiLCJkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MiLCJkZWZpbmVWaXJ0dWFsRXhvQ2xhc3NLaXQiLCJpZ25vcmVDb250ZXh0IiwibWFrZUV4b1V0aWxzIiwicHJlcGFyZUV4byIsInByZXBhcmVFeG9DbGFzcyIsInByZXBhcmVFeG9DbGFzc0tpdCIsInByZXBhcmVLaW5kIiwicHJlcGFyZUtpbmRNdWx0aSIsInByZXBhcmVTaW5nbGV0b24iLCJwcm92aWRlS2luZEhhbmRsZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGluaXRFbXB0eSxwcm92aWRlLGdsb2JhbFZhdERhdGE7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJpbml0RW1wdHlcIixbJGjNj19hID0+IChpbml0RW1wdHkgPSAkaM2PX2EpXV1dXSxbXCIuL3ZhdC1kYXRhLWJpbmRpbmdzLmpzXCIsIFtbXCJwcm92aWRlXCIsWyRozY9fYSA9PiAocHJvdmlkZSA9ICRozY9fYSldXSxbXCJWYXREYXRhXCIsWyRozY9fYSA9PiAoZ2xvYmFsVmF0RGF0YSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuXG5cbiAqL1xuXG4vL1xuLypcblxuICovXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaWdub3JlQ29udGV4dCA9XG4gIGZuID0+XG4gIChfY29udGV4dCwgLi4uYXJncykgPT5cbiAgICBmbiguLi5hcmdzKTskaM2PX29uY2UuaWdub3JlQ29udGV4dChpZ25vcmVDb250ZXh0KTtcbmhhcmRlbihpZ25vcmVDb250ZXh0KTtcblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWFrZUV4b1V0aWxzID0gVmF0RGF0YSA9PiB7XG4gIGNvbnN0IHtcbiAgICBkZWZpbmVLaW5kLFxuICAgIGRlZmluZUtpbmRNdWx0aSxcbiAgICBkZWZpbmVEdXJhYmxlS2luZCxcbiAgICBkZWZpbmVEdXJhYmxlS2luZE11bHRpLFxuICAgIG1ha2VLaW5kSGFuZGxlLFxuICB9ID0gVmF0RGF0YTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcm92aWRlS2luZEhhbmRsZSA9IChiYWdnYWdlLCBraW5kTmFtZSkgPT5cbiAgICBwcm92aWRlKGJhZ2dhZ2UsIGAke2tpbmROYW1lfV9raW5kSGFuZGxlYCwgKCkgPT4gbWFrZUtpbmRIYW5kbGUoa2luZE5hbWUpKTtcbiAgaGFyZGVuKHByb3ZpZGVLaW5kSGFuZGxlKTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IHByZXBhcmVLaW5kID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW5pdCxcbiAgICBiZWhhdmlvcixcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+XG4gICAgZGVmaW5lRHVyYWJsZUtpbmQoXG4gICAgICBwcm92aWRlS2luZEhhbmRsZShiYWdnYWdlLCBraW5kTmFtZSksXG4gICAgICBpbml0LFxuICAgICAgYmVoYXZpb3IsXG4gICAgICBvcHRpb25zLFxuICAgICk7XG4gIGhhcmRlbihwcmVwYXJlS2luZCk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlS2luZE11bHRpID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW5pdCxcbiAgICBiZWhhdmlvcixcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+XG4gICAgZGVmaW5lRHVyYWJsZUtpbmRNdWx0aShcbiAgICAgIHByb3ZpZGVLaW5kSGFuZGxlKGJhZ2dhZ2UsIGtpbmROYW1lKSxcbiAgICAgIGluaXQsXG4gICAgICBiZWhhdmlvcixcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgaGFyZGVuKHByZXBhcmVLaW5kTXVsdGkpO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MgPSAodGFnLCBpbnRlcmZhY2VHdWFyZCwgaW5pdCwgbWV0aG9kcywgb3B0aW9ucykgPT5cbiAgICAvL1xuICAgIGRlZmluZUtpbmQodGFnLCBpbml0LCBtZXRob2RzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZVZpcnR1YWxFeG9DbGFzcyk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCA9IChcbiAgICB0YWcsXG4gICAgaW50ZXJmYWNlR3VhcmRLaXQsXG4gICAgaW5pdCxcbiAgICBmYWNldHMsXG4gICAgb3B0aW9ucyxcbiAgKSA9PlxuICAgIC8vXG4gICAgZGVmaW5lS2luZE11bHRpKHRhZywgaW5pdCwgZmFjZXRzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlZmluZUR1cmFibGVFeG9DbGFzcyA9IChcbiAgICBraW5kSGFuZGxlLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICAgIGluaXQsXG4gICAgbWV0aG9kcyxcbiAgICBvcHRpb25zLFxuICApID0+XG4gICAgLy9cbiAgICBkZWZpbmVEdXJhYmxlS2luZChraW5kSGFuZGxlLCBpbml0LCBtZXRob2RzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZUR1cmFibGVFeG9DbGFzcyk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCA9IChcbiAgICBraW5kSGFuZGxlLFxuICAgIGludGVyZmFjZUd1YXJkS2l0LFxuICAgIGluaXQsXG4gICAgZmFjZXRzLFxuICAgIG9wdGlvbnMsXG4gICkgPT5cbiAgICAvL1xuICAgIGRlZmluZUR1cmFibGVLaW5kTXVsdGkoa2luZEhhbmRsZSwgaW5pdCwgZmFjZXRzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgcHJlcGFyZUV4b0NsYXNzID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW50ZXJmYWNlR3VhcmQsXG4gICAgaW5pdCxcbiAgICBtZXRob2RzLFxuICAgIG9wdGlvbnMgPSB1bmRlZmluZWQsXG4gICkgPT5cbiAgICBkZWZpbmVEdXJhYmxlRXhvQ2xhc3MoXG4gICAgICBwcm92aWRlS2luZEhhbmRsZShiYWdnYWdlLCBraW5kTmFtZSksXG4gICAgICBpbnRlcmZhY2VHdWFyZCxcbiAgICAgIGluaXQsXG4gICAgICBtZXRob2RzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICBoYXJkZW4ocHJlcGFyZUV4b0NsYXNzKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlRXhvQ2xhc3NLaXQgPSAoXG4gICAgYmFnZ2FnZSxcbiAgICBraW5kTmFtZSxcbiAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgICBpbml0LFxuICAgIGZhY2V0cyxcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+XG4gICAgZGVmaW5lRHVyYWJsZUV4b0NsYXNzS2l0KFxuICAgICAgcHJvdmlkZUtpbmRIYW5kbGUoYmFnZ2FnZSwga2luZE5hbWUpLFxuICAgICAgaW50ZXJmYWNlR3VhcmRLaXQsXG4gICAgICBpbml0LFxuICAgICAgZmFjZXRzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICBoYXJkZW4ocHJlcGFyZUV4b0NsYXNzS2l0KTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlRXhvID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW50ZXJmYWNlR3VhcmQsXG4gICAgbWV0aG9kcyxcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+IHtcbiAgICBjb25zdCBtYWtlU2luZ2xldG9uID0gcHJlcGFyZUV4b0NsYXNzKFxuICAgICAgYmFnZ2FnZSxcbiAgICAgIGtpbmROYW1lLFxuICAgICAgaW50ZXJmYWNlR3VhcmQsXG4gICAgICBpbml0RW1wdHksXG4gICAgICBtZXRob2RzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHByb3ZpZGUoYmFnZ2FnZSwgYCR7a2luZE5hbWV9X3NpbmdsZXRvbmAsICgpID0+IG1ha2VTaW5nbGV0b24oKSk7XG4gIH07XG4gIGhhcmRlbihwcmVwYXJlRXhvKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlU2luZ2xldG9uID0gKGJhZ2dhZ2UsIGtpbmROYW1lLCBtZXRob2RzLCBvcHRpb25zID0gdW5kZWZpbmVkKSA9PlxuICAgIHByZXBhcmVFeG8oYmFnZ2FnZSwga2luZE5hbWUsIHVuZGVmaW5lZCwgbWV0aG9kcywgb3B0aW9ucyk7XG4gIGhhcmRlbihwcmVwYXJlU2luZ2xldG9uKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MsXG4gICAgZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0LFxuICAgIGRlZmluZUR1cmFibGVFeG9DbGFzcyxcbiAgICBkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQsXG4gICAgcHJlcGFyZUV4b0NsYXNzLFxuICAgIHByZXBhcmVFeG9DbGFzc0tpdCxcbiAgICBwcmVwYXJlRXhvLFxuXG4gICAgcHJlcGFyZVNpbmdsZXRvbixcbiAgICBwcm92aWRlS2luZEhhbmRsZSxcbiAgICBwcmVwYXJlS2luZCxcbiAgICBwcmVwYXJlS2luZE11bHRpLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VFeG9VdGlscyhtYWtlRXhvVXRpbHMpO1xuXG5jb25zdCBnbG9iYWxFeG9VdGlscyA9IG1ha2VFeG9VdGlscyhnbG9iYWxWYXREYXRhKTtcblxuICAgICAgIGNvbnN0IHtcbiAgZGVmaW5lVmlydHVhbEV4b0NsYXNzLFxuICBkZWZpbmVWaXJ0dWFsRXhvQ2xhc3NLaXQsXG4gIGRlZmluZUR1cmFibGVFeG9DbGFzcyxcbiAgZGVmaW5lRHVyYWJsZUV4b0NsYXNzS2l0LFxuICBwcmVwYXJlRXhvQ2xhc3MsXG4gIHByZXBhcmVFeG9DbGFzc0tpdCxcbiAgcHJlcGFyZUV4byxcbiAgcHJlcGFyZVNpbmdsZXRvbixcbn0gPSBnbG9iYWxFeG9VdGlscztcblxuLypcblxuICovJGjNj19vbmNlLmRlZmluZVZpcnR1YWxFeG9DbGFzcyhkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MpOyRozY9fb25jZS5kZWZpbmVWaXJ0dWFsRXhvQ2xhc3NLaXQoZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0KTskaM2PX29uY2UuZGVmaW5lRHVyYWJsZUV4b0NsYXNzKGRlZmluZUR1cmFibGVFeG9DbGFzcyk7JGjNj19vbmNlLmRlZmluZUR1cmFibGVFeG9DbGFzc0tpdChkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQpOyRozY9fb25jZS5wcmVwYXJlRXhvQ2xhc3MocHJlcGFyZUV4b0NsYXNzKTskaM2PX29uY2UucHJlcGFyZUV4b0NsYXNzS2l0KHByZXBhcmVFeG9DbGFzc0tpdCk7JGjNj19vbmNlLnByZXBhcmVFeG8ocHJlcGFyZUV4byk7JGjNj19vbmNlLnByZXBhcmVTaW5nbGV0b24ocHJlcGFyZVNpbmdsZXRvbik7XG4gICAgICAgY29uc3QgeyBwcm92aWRlS2luZEhhbmRsZSwgcHJlcGFyZUtpbmQsIHByZXBhcmVLaW5kTXVsdGkgfSA9XG4gIGdsb2JhbEV4b1V0aWxzOyRozY9fb25jZS5wcm92aWRlS2luZEhhbmRsZShwcm92aWRlS2luZEhhbmRsZSk7JGjNj19vbmNlLnByZXBhcmVLaW5kKHByZXBhcmVLaW5kKTskaM2PX29uY2UucHJlcGFyZUtpbmRNdWx0aShwcmVwYXJlS2luZE11bHRpKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Imlnbm9yZUNvbnRleHQiOlsiaWdub3JlQ29udGV4dCJdLCJtYWtlRXhvVXRpbHMiOlsibWFrZUV4b1V0aWxzIl0sImRlZmluZVZpcnR1YWxFeG9DbGFzcyI6WyJkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MiXSwiZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0IjpbImRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCJdLCJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiOlsiZGVmaW5lRHVyYWJsZUV4b0NsYXNzIl0sImRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCI6WyJkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQiXSwicHJlcGFyZUV4b0NsYXNzIjpbInByZXBhcmVFeG9DbGFzcyJdLCJwcmVwYXJlRXhvQ2xhc3NLaXQiOlsicHJlcGFyZUV4b0NsYXNzS2l0Il0sInByZXBhcmVFeG8iOlsicHJlcGFyZUV4byJdLCJwcmVwYXJlU2luZ2xldG9uIjpbInByZXBhcmVTaW5nbGV0b24iXSwicHJvdmlkZUtpbmRIYW5kbGUiOlsicHJvdmlkZUtpbmRIYW5kbGUiXSwicHJlcGFyZUtpbmQiOlsicHJlcGFyZUtpbmQiXSwicHJlcGFyZUtpbmRNdWx0aSI6WyJwcmVwYXJlS2luZE11bHRpIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAM+c6+m2CAAAtggAACQAAABAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMi9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiQGFnb3JpYy9zdG9yZSIsIi4vdmF0LWRhdGEtYmluZGluZ3MuanMiLCIuL2V4by11dGlscy5qcyJdLCJleHBvcnRzIjpbImRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCIsImRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCIsIm1ha2VTY2FsYXJNYXBTdG9yZSIsIm1ha2VTY2FsYXJNYXBTdG9yZSIsInByb3ZpZGVQcm9taXNlV2F0Y2hlciIsInByb3ZpZGVQcm9taXNlV2F0Y2hlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtdXSxbXCIuL3ZhdC1kYXRhLWJpbmRpbmdzLmpzXCIsIFtdXSxbXCIuL2V4by11dGlscy5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7IkBhZ29yaWMvc3RvcmUiOltbIk0iLCJNIl0sWyJtYWtlU2NhbGFyTWFwU3RvcmUiLCJtYWtlU2NhbGFyTWFwU3RvcmUiXSxbIm1ha2VTY2FsYXJXZWFrTWFwU3RvcmUiLCJtYWtlU2NhbGFyV2Vha01hcFN0b3JlIl0sWyJtYWtlU2NhbGFyU2V0U3RvcmUiLCJtYWtlU2NhbGFyU2V0U3RvcmUiXSxbIm1ha2VTY2FsYXJXZWFrU2V0U3RvcmUiLCJtYWtlU2NhbGFyV2Vha1NldFN0b3JlIl1dLCIuL3ZhdC1kYXRhLWJpbmRpbmdzLmpzIjpbWyJtYWtlS2luZEhhbmRsZSIsIm1ha2VLaW5kSGFuZGxlIl0sWyJwcm92aWRlUHJvbWlzZVdhdGNoZXIiLCJwcm92aWRlUHJvbWlzZVdhdGNoZXIiXSxbIndhdGNoUHJvbWlzZSIsIndhdGNoUHJvbWlzZSJdLFsibWFrZVNjYWxhckJpZ01hcFN0b3JlIiwibWFrZVNjYWxhckJpZ01hcFN0b3JlIl0sWyJtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlIiwibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSJdLFsibWFrZVNjYWxhckJpZ1NldFN0b3JlIiwibWFrZVNjYWxhckJpZ1NldFN0b3JlIl0sWyJtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlIiwibWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSJdLFsiY2FuQmVEdXJhYmxlIiwiY2FuQmVEdXJhYmxlIl0sWyJwaWNrRmFjZXQiLCJwaWNrRmFjZXQiXSxbInBhcnRpYWxBc3NpZ24iLCJwYXJ0aWFsQXNzaWduIl0sWyJwcm92aWRlIiwicHJvdmlkZSJdLFsicHJvdmlkZUR1cmFibGVNYXBTdG9yZSIsInByb3ZpZGVEdXJhYmxlTWFwU3RvcmUiXSxbInByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlIiwicHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUiXSxbInByb3ZpZGVEdXJhYmxlU2V0U3RvcmUiLCJwcm92aWRlRHVyYWJsZVNldFN0b3JlIl0sWyJwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSIsInByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlIl0sWyJkZWZpbmVLaW5kIiwiZGVmaW5lS2luZCJdLFsiZGVmaW5lS2luZE11bHRpIiwiZGVmaW5lS2luZE11bHRpIl0sWyJkZWZpbmVEdXJhYmxlS2luZCIsImRlZmluZUR1cmFibGVLaW5kIl0sWyJkZWZpbmVEdXJhYmxlS2luZE11bHRpIiwiZGVmaW5lRHVyYWJsZUtpbmRNdWx0aSJdXSwiLi9leG8tdXRpbHMuanMiOltbImRlZmluZVZpcnR1YWxFeG9DbGFzcyIsImRlZmluZVZpcnR1YWxFeG9DbGFzcyJdLFsiZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0IiwiZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0Il0sWyJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiLCJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiXSxbImRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCIsImRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCJdLFsicHJlcGFyZUV4b0NsYXNzIiwicHJlcGFyZUV4b0NsYXNzIl0sWyJwcmVwYXJlRXhvQ2xhc3NLaXQiLCJwcmVwYXJlRXhvQ2xhc3NLaXQiXSxbInByZXBhcmVFeG8iLCJwcmVwYXJlRXhvIl0sWyJwcmVwYXJlU2luZ2xldG9uIiwicHJlcGFyZVNpbmdsZXRvbiJdLFsiaWdub3JlQ29udGV4dCIsImlnbm9yZUNvbnRleHQiXSxbInByb3ZpZGVLaW5kSGFuZGxlIiwicHJvdmlkZUtpbmRIYW5kbGUiXSxbInByZXBhcmVLaW5kIiwicHJlcGFyZUtpbmQiXSxbInByZXBhcmVLaW5kTXVsdGkiLCJwcmVwYXJlS2luZE11bHRpIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAvYSCWLhgAAC4YAAAwAAAAQGFnb3JpYy92YXQtZGF0YS12MC41LjIvc3JjL3ZhdC1kYXRhLWJpbmRpbmdzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiXSwiZXhwb3J0cyI6WyJWYXREYXRhIiwiY2FuQmVEdXJhYmxlIiwiZGVmaW5lRHVyYWJsZUtpbmQiLCJkZWZpbmVEdXJhYmxlS2luZE11bHRpIiwiZGVmaW5lS2luZCIsImRlZmluZUtpbmRNdWx0aSIsIm1ha2VLaW5kSGFuZGxlIiwibWFrZVNjYWxhckJpZ01hcFN0b3JlIiwibWFrZVNjYWxhckJpZ1NldFN0b3JlIiwibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSIsIm1ha2VTY2FsYXJCaWdXZWFrU2V0U3RvcmUiLCJtYWtlU3RvcmVVdGlscyIsInBhcnRpYWxBc3NpZ24iLCJwaWNrRmFjZXQiLCJwcm92aWRlIiwicHJvdmlkZUR1cmFibGVNYXBTdG9yZSIsInByb3ZpZGVEdXJhYmxlU2V0U3RvcmUiLCJwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSIsInByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlIiwicHJvdmlkZVByb21pc2VXYXRjaGVyIiwid2F0Y2hQcm9taXNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxwcm92aWRlTGF6eTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJwcm92aWRlTGF6eVwiLFskaM2PX2EgPT4gKHByb3ZpZGVMYXp5ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgKi9cbmxldCBWYXREYXRhR2xvYmFsO1xuaWYgKCdWYXREYXRhJyBpbiBnbG9iYWxUaGlzKSB7XG4gIGdsb2JhbFRoaXMuVmF0RGF0YSB8fCBGYWlsYFZhdERhdGEgZGVmaW5lZCBpbiBnbG9iYWwgYXMgbnVsbCBvciB1bmRlZmluZWRgO1xuICAvL1xuICBWYXREYXRhR2xvYmFsID0gLyogICAgICAgICAgICAgICovIChnbG9iYWxUaGlzLlZhdERhdGEpO1xufSBlbHNlIHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgdW5hdmFpbGFibGUgPSAoKSA9PiBGYWlsYFZhdERhdGEgdW5hdmFpbGFibGVgO1xuICBWYXREYXRhR2xvYmFsID0ge1xuICAgIGRlZmluZUtpbmQ6IHVuYXZhaWxhYmxlLFxuICAgIGRlZmluZUtpbmRNdWx0aTogdW5hdmFpbGFibGUsXG4gICAgZGVmaW5lRHVyYWJsZUtpbmQ6IHVuYXZhaWxhYmxlLFxuICAgIGRlZmluZUR1cmFibGVLaW5kTXVsdGk6IHVuYXZhaWxhYmxlLFxuICAgIG1ha2VLaW5kSGFuZGxlOiB1bmF2YWlsYWJsZSxcbiAgICBwcm92aWRlUHJvbWlzZVdhdGNoZXI6IHVuYXZhaWxhYmxlLFxuICAgIHdhdGNoUHJvbWlzZTogdW5hdmFpbGFibGUsXG4gICAgbWFrZVNjYWxhckJpZ01hcFN0b3JlOiB1bmF2YWlsYWJsZSxcbiAgICBtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlOiB1bmF2YWlsYWJsZSxcbiAgICBtYWtlU2NhbGFyQmlnU2V0U3RvcmU6IHVuYXZhaWxhYmxlLFxuICAgIG1ha2VTY2FsYXJCaWdXZWFrU2V0U3RvcmU6IHVuYXZhaWxhYmxlLFxuICAgIGNhbkJlRHVyYWJsZTogdW5hdmFpbGFibGUsXG4gIH07XG59XG5cbmNvbnN0IFZhdERhdGFFeHBvcnQgPSBWYXREYXRhR2xvYmFsOyRozY9fb25jZS5WYXREYXRhRXhwb3J0KFZhdERhdGFFeHBvcnQpO1xuXG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IHtcbiAgZGVmaW5lS2luZCxcbiAgZGVmaW5lS2luZE11bHRpLFxuICBkZWZpbmVEdXJhYmxlS2luZCxcbiAgZGVmaW5lRHVyYWJsZUtpbmRNdWx0aSxcbn0gPSBWYXREYXRhR2xvYmFsOyRozY9fb25jZS5kZWZpbmVLaW5kKGRlZmluZUtpbmQpOyRozY9fb25jZS5kZWZpbmVLaW5kTXVsdGkoZGVmaW5lS2luZE11bHRpKTskaM2PX29uY2UuZGVmaW5lRHVyYWJsZUtpbmQoZGVmaW5lRHVyYWJsZUtpbmQpOyRozY9fb25jZS5kZWZpbmVEdXJhYmxlS2luZE11bHRpKGRlZmluZUR1cmFibGVLaW5kTXVsdGkpO1xuXG4gICAgICAgY29uc3Qge1xuICBtYWtlS2luZEhhbmRsZSxcbiAgcHJvdmlkZVByb21pc2VXYXRjaGVyLFxuICB3YXRjaFByb21pc2UsXG4gIG1ha2VTY2FsYXJCaWdNYXBTdG9yZSxcbiAgbWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSxcbiAgbWFrZVNjYWxhckJpZ1NldFN0b3JlLFxuICBtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlLFxuICBjYW5CZUR1cmFibGUsXG59ID0gVmF0RGF0YUdsb2JhbDtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VLaW5kSGFuZGxlKG1ha2VLaW5kSGFuZGxlKTskaM2PX29uY2UucHJvdmlkZVByb21pc2VXYXRjaGVyKHByb3ZpZGVQcm9taXNlV2F0Y2hlcik7JGjNj19vbmNlLndhdGNoUHJvbWlzZSh3YXRjaFByb21pc2UpOyRozY9fb25jZS5tYWtlU2NhbGFyQmlnTWFwU3RvcmUobWFrZVNjYWxhckJpZ01hcFN0b3JlKTskaM2PX29uY2UubWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZShtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlKTskaM2PX29uY2UubWFrZVNjYWxhckJpZ1NldFN0b3JlKG1ha2VTY2FsYXJCaWdTZXRTdG9yZSk7JGjNj19vbmNlLm1ha2VTY2FsYXJCaWdXZWFrU2V0U3RvcmUobWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSk7JGjNj19vbmNlLmNhbkJlRHVyYWJsZShjYW5CZUR1cmFibGUpO1xuICAgICAgIGNvbnN0IHBpY2tGYWNldCA9XG4gIChtYWtlciwgZmFjZXROYW1lKSA9PlxuICAoLi4uYXJncykgPT5cbiAgICBtYWtlciguLi5hcmdzKVtmYWNldE5hbWVdOyRozY9fb25jZS5waWNrRmFjZXQocGlja0ZhY2V0KTtcbmhhcmRlbihwaWNrRmFjZXQpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcGFydGlhbEFzc2lnbiA9ICh0YXJnZXQsIHNvdXJjZSkgPT4ge1xuICBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKTtcbn07JGjNj19vbmNlLnBhcnRpYWxBc3NpZ24ocGFydGlhbEFzc2lnbik7XG5oYXJkZW4ocGFydGlhbEFzc2lnbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4gICAgICAgY29uc3QgcHJvdmlkZSA9XG4gIC8vXG4gIC8qXG5cblxuXG5cblxuICAgKi8gKHByb3ZpZGVMYXp5KTtcblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UucHJvdmlkZShwcm92aWRlKTtcbiAgICAgICBjb25zdCBtYWtlU3RvcmVVdGlscyA9IFZhdERhdGEgPT4ge1xuICBjb25zdCB7XG4gICAgLy9cbiAgICBtYWtlU2NhbGFyQmlnTWFwU3RvcmUsXG4gICAgLy9cbiAgICBtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlLFxuICAgIC8vXG4gICAgbWFrZVNjYWxhckJpZ1NldFN0b3JlLFxuICAgIC8vXG4gICAgbWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSxcbiAgfSA9IFZhdERhdGE7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUgPSAoYmFnZ2FnZSwgbmFtZSwgb3B0aW9ucyA9IHt9KSA9PlxuICAgIHByb3ZpZGUoYmFnZ2FnZSwgbmFtZSwgKCkgPT5cbiAgICAgIG1ha2VTY2FsYXJCaWdNYXBTdG9yZShuYW1lLCB7IGR1cmFibGU6IHRydWUsIC4uLm9wdGlvbnMgfSksXG4gICAgKTtcbiAgaGFyZGVuKHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUpO1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSA9IChiYWdnYWdlLCBuYW1lLCBvcHRpb25zID0ge30pID0+XG4gICAgcHJvdmlkZShiYWdnYWdlLCBuYW1lLCAoKSA9PlxuICAgICAgbWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZShuYW1lLCB7IGR1cmFibGU6IHRydWUsIC4uLm9wdGlvbnMgfSksXG4gICAgKTtcbiAgaGFyZGVuKHByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlKTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgcHJvdmlkZUR1cmFibGVTZXRTdG9yZSA9IChiYWdnYWdlLCBuYW1lLCBvcHRpb25zID0ge30pID0+XG4gICAgcHJvdmlkZShiYWdnYWdlLCBuYW1lLCAoKSA9PlxuICAgICAgbWFrZVNjYWxhckJpZ1NldFN0b3JlKG5hbWUsIHsgZHVyYWJsZTogdHJ1ZSwgLi4ub3B0aW9ucyB9KSxcbiAgICApO1xuICBoYXJkZW4ocHJvdmlkZUR1cmFibGVTZXRTdG9yZSk7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IHByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlID0gKGJhZ2dhZ2UsIG5hbWUsIG9wdGlvbnMgPSB7fSkgPT5cbiAgICBwcm92aWRlKGJhZ2dhZ2UsIG5hbWUsICgpID0+XG4gICAgICBtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlKG5hbWUsIHsgZHVyYWJsZTogdHJ1ZSwgLi4ub3B0aW9ucyB9KSxcbiAgICApO1xuICBoYXJkZW4ocHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUsXG4gICAgcHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUsXG4gICAgcHJvdmlkZUR1cmFibGVTZXRTdG9yZSxcbiAgICBwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlU3RvcmVVdGlscyhtYWtlU3RvcmVVdGlscyk7XG5cbmNvbnN0IGdsb2JhbFN0b3JlVXRpbHMgPSBtYWtlU3RvcmVVdGlscyhWYXREYXRhR2xvYmFsKTtcbiAgICAgICBjb25zdCB7XG4gIHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUsXG4gIHByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlLFxuICBwcm92aWRlRHVyYWJsZVNldFN0b3JlLFxuICBwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSxcbn0gPSBnbG9iYWxTdG9yZVV0aWxzOyRozY9fb25jZS5wcm92aWRlRHVyYWJsZU1hcFN0b3JlKHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUpOyRozY9fb25jZS5wcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZShwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSk7JGjNj19vbmNlLnByb3ZpZGVEdXJhYmxlU2V0U3RvcmUocHJvdmlkZUR1cmFibGVTZXRTdG9yZSk7JGjNj19vbmNlLnByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlKHByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlZhdERhdGEiOlsiVmF0RGF0YUV4cG9ydCJdLCJkZWZpbmVLaW5kIjpbImRlZmluZUtpbmQiXSwiZGVmaW5lS2luZE11bHRpIjpbImRlZmluZUtpbmRNdWx0aSJdLCJkZWZpbmVEdXJhYmxlS2luZCI6WyJkZWZpbmVEdXJhYmxlS2luZCJdLCJkZWZpbmVEdXJhYmxlS2luZE11bHRpIjpbImRlZmluZUR1cmFibGVLaW5kTXVsdGkiXSwibWFrZUtpbmRIYW5kbGUiOlsibWFrZUtpbmRIYW5kbGUiXSwicHJvdmlkZVByb21pc2VXYXRjaGVyIjpbInByb3ZpZGVQcm9taXNlV2F0Y2hlciJdLCJ3YXRjaFByb21pc2UiOlsid2F0Y2hQcm9taXNlIl0sIm1ha2VTY2FsYXJCaWdNYXBTdG9yZSI6WyJtYWtlU2NhbGFyQmlnTWFwU3RvcmUiXSwibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSI6WyJtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlIl0sIm1ha2VTY2FsYXJCaWdTZXRTdG9yZSI6WyJtYWtlU2NhbGFyQmlnU2V0U3RvcmUiXSwibWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSI6WyJtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlIl0sImNhbkJlRHVyYWJsZSI6WyJjYW5CZUR1cmFibGUiXSwicGlja0ZhY2V0IjpbInBpY2tGYWNldCJdLCJwYXJ0aWFsQXNzaWduIjpbInBhcnRpYWxBc3NpZ24iXSwicHJvdmlkZSI6WyJwcm92aWRlIl0sIm1ha2VTdG9yZVV0aWxzIjpbIm1ha2VTdG9yZVV0aWxzIl0sInByb3ZpZGVEdXJhYmxlTWFwU3RvcmUiOlsicHJvdmlkZUR1cmFibGVNYXBTdG9yZSJdLCJwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSI6WyJwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSJdLCJwcm92aWRlRHVyYWJsZVNldFN0b3JlIjpbInByb3ZpZGVEdXJhYmxlU2V0U3RvcmUiXSwicHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUiOlsicHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAi5+OuJYYAACWGAAAGwAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvRS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCIuL3RyYWNrLXR1cm5zLmpzIiwiLi9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzIl0sImV4cG9ydHMiOlsiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgscSxGYWlsLG1ha2VFcnJvcix0cmFja1R1cm5zLG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dXV0sW1wiLi90cmFjay10dXJucy5qc1wiLCBbW1widHJhY2tUdXJuc1wiLFskaM2PX2EgPT4gKHRyYWNrVHVybnMgPSAkaM2PX2EpXV1dXSxbXCIuL21lc3NhZ2UtYnJlYWtwb2ludHMuanNcIiwgW1tcIm1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlclwiLFskaM2PX2EgPT4gKG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5cbmNvbnN0IHsgYXNzaWduLCBjcmVhdGUgfSA9IE9iamVjdDtcblxuY29uc3Qgb25TZW5kID0gbWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKCdFTkRPX1NFTkRfQlJFQUtQT0lOVFMnKTtcblxuLypcblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgYmFzZUZyZWV6YWJsZVByb3h5SGFuZGxlciA9IHtcbiAgc2V0KF90YXJnZXQsIF9wcm9wLCBfdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzRXh0ZW5zaWJsZShfdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzZXRQcm90b3R5cGVPZihfdGFyZ2V0LCBfdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlbGV0ZVByb3BlcnR5KF90YXJnZXQsIF9wcm9wKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufTtcblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VFUHJveHlIYW5kbGVyID0gKHJlY2lwaWVudCwgSGFuZGxlZFByb21pc2UsIHVud3JhcCkgPT5cbiAgaGFyZGVuKHtcbiAgICAuLi5iYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyLFxuICAgIGdldDogKF90YXJnZXQsIHByb3BlcnR5S2V5LCByZWNlaXZlcikgPT4ge1xuICAgICAgcmV0dXJuIGhhcmRlbihcbiAgICAgICAge1xuICAgICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIFtwcm9wZXJ0eUtleV0oLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgIT09IHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHJldHVybiBIYW5kbGVkUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgbWFrZUVycm9yKFxuICAgICAgICAgICAgICAgICAgWGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShwcm9wZXJ0eUtleSl9XCIgbWV0aG9kIG9mIEUoJHtxKFxuICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICApfSlgLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW53cmFwKFxuICAgICAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5hcHBseU1ldGhvZCh1bndyYXAocmVjaXBpZW50KSwgcHJvcGVydHlLZXksIGFyZ3MpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtwcm9wZXJ0eUtleV0sXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHk6IChfdGFyZ2V0LCBfdGhpc0FyZywgYXJnQXJyYXkgPSBbXSkgPT4ge1xuICAgICAgaWYgKG9uU2VuZCAmJiBvblNlbmQuc2hvdWxkQnJlYWtwb2ludChyZWNpcGllbnQsIHVuZGVmaW5lZCkpIHtcbiAgICAgICAgLy9cbiAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICB9XG4gICAgICByZXR1cm4gdW53cmFwKEhhbmRsZWRQcm9taXNlLmFwcGx5RnVuY3Rpb24odW53cmFwKHJlY2lwaWVudCksIGFyZ0FycmF5KSk7XG4gICAgfSxcbiAgICBoYXM6IChfdGFyZ2V0LCBfcCkgPT4ge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VFU2VuZE9ubHlQcm94eUhhbmRsZXIgPSAocmVjaXBpZW50LCBIYW5kbGVkUHJvbWlzZSwgdW53cmFwKSA9PlxuICBoYXJkZW4oe1xuICAgIC4uLmJhc2VGcmVlemFibGVQcm94eUhhbmRsZXIsXG4gICAgZ2V0OiAoX3RhcmdldCwgcHJvcGVydHlLZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgICByZXR1cm4gaGFyZGVuKFxuICAgICAgICB7XG4gICAgICAgICAgLypcblxuXG5cblxuXG4gICAgICAgICAgICovXG4gICAgICAgICAgW3Byb3BlcnR5S2V5XSguLi5hcmdzKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdGhpcyA9PT0gcmVjZWl2ZXIgfHxcbiAgICAgICAgICAgICAgRmFpbGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgKX1cIiBtZXRob2Qgb2YgRS5zZW5kT25seSgke3EocmVjaXBpZW50KX0pYDtcbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5hcHBseU1ldGhvZFNlbmRPbmx5KFxuICAgICAgICAgICAgICB1bndyYXAocmVjaXBpZW50KSxcbiAgICAgICAgICAgICAgcHJvcGVydHlLZXksXG4gICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtwcm9wZXJ0eUtleV0sXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHk6IChfdGFyZ2V0LCBfdGhpc0FyZywgYXJnc0FycmF5ID0gW10pID0+IHtcbiAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCB1bmRlZmluZWQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGRlYnVnZ2VyOyAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgSGFuZGxlZFByb21pc2UuYXBwbHlGdW5jdGlvblNlbmRPbmx5KHVud3JhcChyZWNpcGllbnQpLCBhcmdzQXJyYXkpO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGhhczogKF90YXJnZXQsIF9wKSA9PiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgfSk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZUVHZXRQcm94eUhhbmRsZXIgPSAoeCwgSGFuZGxlZFByb21pc2UsIHVud3JhcCkgPT5cbiAgaGFyZGVuKHtcbiAgICAuLi5iYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyLFxuICAgIGhhczogKF90YXJnZXQsIF9wcm9wKSA9PiB0cnVlLFxuICAgIGdldDogKF90YXJnZXQsIHByb3ApID0+IEhhbmRsZWRQcm9taXNlLmdldCh1bndyYXAoeCksIHByb3ApLFxuICB9KTtcblxuLyogICAgICAgICAgICAgICAgICovXG5jb25zdCByZXNvbHZlID0geCA9PiBIYW5kbGVkUHJvbWlzZS5yZXNvbHZlKHgpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZUUgPSAoSGFuZGxlZFByb21pc2UsIHBvd2VycyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhZGRpdGlvbmFsID0gLyogICAgICAgICAgICAqLyAoe30pLFxuICAgIHVud3JhcCA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAocmVzb2x2ZSksXG4gIH0gPSBwb3dlcnM7XG5cbiAgcmV0dXJuIGhhcmRlbihcbiAgICBhc3NpZ24oXG4gICAgICAvKlxuXG5cblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIHggPT5cbiAgICAgICAgaGFyZGVuKFxuICAgICAgICAgIG5ldyBQcm94eSgoKSA9PiB7fSwgbWFrZUVQcm94eUhhbmRsZXIoeCwgSGFuZGxlZFByb21pc2UsIHVud3JhcCkpLFxuICAgICAgICApLFxuICAgICAge1xuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiB4ID0+XG4gICAgICAgICAgaGFyZGVuKFxuICAgICAgICAgICAgbmV3IFByb3h5KFxuICAgICAgICAgICAgICBjcmVhdGUobnVsbCksXG4gICAgICAgICAgICAgIG1ha2VFR2V0UHJveHlIYW5kbGVyKHgsIEhhbmRsZWRQcm9taXNlLCB1bndyYXApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmU6IHggPT4gcmVzb2x2ZSh1bndyYXAoeCkpLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmRPbmx5OiB4ID0+XG4gICAgICAgICAgaGFyZGVuKFxuICAgICAgICAgICAgbmV3IFByb3h5KFxuICAgICAgICAgICAgICAoKSA9PiB7fSxcbiAgICAgICAgICAgICAgbWFrZUVTZW5kT25seVByb3h5SGFuZGxlcih4LCBIYW5kbGVkUHJvbWlzZSwgdW53cmFwKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSxcblxuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHdoZW46ICh4LCBvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVud3JhcHBlZCA9IHJlc29sdmUodW53cmFwKHgpKTtcbiAgICAgICAgICBpZiAob25mdWxmaWxsZWQgPT0gbnVsbCAmJiBvbnJlamVjdGVkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bndyYXBwZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1bndyYXBwZWQudGhlbihcbiAgICAgICAgICAgIC4uLnRyYWNrVHVybnMoLyogICAgICAgICAgICAgICAgKi8gKFtvbmZ1bGZpbGxlZCwgb25yZWplY3RlZF0pKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGFkZGl0aW9uYWwsXG4gICAgKSxcbiAgKTtcbn07XG5cbmNvbnN0e2RlZmF1bHQ6JGPNj19kZWZhdWx0fT17ZGVmYXVsdDptYWtlRX07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5kZWZhdWx0KCRjzY9fZGVmYXVsdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZWZhdWx0IjpbImRlZmF1bHQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAmHnNlJUCAACVAgAAHwAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiLi4vdmF0LmpzIiwiLi9FLmpzIiwiLi92b3ctdXRpbHMuanMiLCIuL3R5cGVzLWluZGV4LmpzIl0sImV4cG9ydHMiOlsidG9QYXNzYWJsZUNhcCIsInRvUGFzc2FibGVDYXAiLG51bGxdLCJyZWV4cG9ydHMiOlsiLi4vdmF0LmpzIiwiLi90eXBlcy1pbmRleC5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuLi92YXQuanNcIiwgW11dLFtcIi4vRS5qc1wiLCBbXV0sW1wiLi92b3ctdXRpbHMuanNcIiwgW11dLFtcIi4vdHlwZXMtaW5kZXguanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL0UuanMiOltbImRlZmF1bHQiLCJtYWtlRSJdXSwiLi92b3ctdXRpbHMuanMiOltbIlZvd1NoYXBlIiwiVm93U2hhcGUiXSxbInRvUGFzc2FibGVDYXAiLCJ0b1Bhc3NhYmxlQ2FwIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACntm5TkA8AAJAPAAAtAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vudi1vcHRpb25zIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZ2V0RW52aXJvbm1lbnRPcHRpb24scSxGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuY29uc3QgeyBoYXNPd24sIGZyZWV6ZSwgZW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4vKlxuXG5cblxuXG5cbiAqL1xuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5jb25zdCBpc0pTT05SZWNvcmQgPSB2YWwgPT5cbiAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNpbXBsaWZ5VGFnID0gdGFnID0+IHtcbiAgZm9yIChjb25zdCBwcmVmaXggb2YgWydBbGxlZ2VkOiAnLCAnRGVidWdOYW1lOiAnXSkge1xuICAgIGlmICh0YWcuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICByZXR1cm4gdGFnLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFnO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIgPSBvcHRpb25OYW1lID0+IHtcbiAgbGV0IGJyZWFrcG9pbnRzID0gSlNPTi5wYXJzZShnZXRFbnZpcm9ubWVudE9wdGlvbihvcHRpb25OYW1lLCAnbnVsbCcpKTtcblxuICBpZiAoYnJlYWtwb2ludHMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBicmVha3BvaW50c1RhYmxlO1xuXG4gIGNvbnN0IGdldEJyZWFrcG9pbnRzID0gKCkgPT4gYnJlYWtwb2ludHM7XG4gIGZyZWV6ZShnZXRCcmVha3BvaW50cyk7XG5cbiAgY29uc3Qgc2V0QnJlYWtwb2ludHMgPSAobmV3QnJlYWtwb2ludHMgPSBicmVha3BvaW50cykgPT4ge1xuICAgIGlzSlNPTlJlY29yZChuZXdCcmVha3BvaW50cykgfHxcbiAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24gdG8gYmUgYSBKU09OIGJyZWFrcG9pbnRzIHJlY29yZGA7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvL1xuICAgIGNvbnN0IG5ld0JyZWFrcG9pbnRzVGFibGUgPSB7IF9fcHJvdG9fXzogbnVsbCB9O1xuXG4gICAgZm9yIChjb25zdCBbdGFnLCBtZXRob2RCUHNdIG9mIGVudHJpZXMobmV3QnJlYWtwb2ludHMpKSB7XG4gICAgICB0YWcgPT09IHNpbXBsaWZ5VGFnKHRhZykgfHxcbiAgICAgICAgRmFpbGBKdXN0IHVzZSBzaW1wbGUgdGFnICR7cShzaW1wbGlmeVRhZyh0YWcpKX0gcmF0aGVyIHRoYW4gJHtxKHRhZyl9YDtcbiAgICAgIGlzSlNPTlJlY29yZChtZXRob2RCUHMpIHx8XG4gICAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24ncyAke3EoXG4gICAgICAgICAgdGFnLFxuICAgICAgICApfSB0byBiZSBhIEpTT04gbWV0aG9kcyBicmVha3BvaW50cyByZWNvcmRgO1xuICAgICAgZm9yIChjb25zdCBbbWV0aG9kTmFtZSwgY291bnRdIG9mIGVudHJpZXMobWV0aG9kQlBzKSkge1xuICAgICAgICBjb3VudCA9PT0gJyonIHx8XG4gICAgICAgICAgKHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKGNvdW50KSAmJlxuICAgICAgICAgICAgY291bnQgPj0gMCkgfHxcbiAgICAgICAgICBGYWlsYEV4cGVjdGVkICR7cShvcHRpb25OYW1lKX0gb3B0aW9uJ3MgJHtxKHRhZyl9LiR7cShcbiAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgKX0gdG8gYmUgXCIqXCIgb3IgYSBub24tbmVnYXRpdmUgaW50ZWdlcmA7XG5cbiAgICAgICAgY29uc3QgY2xhc3NCUHMgPSBoYXNPd24obmV3QnJlYWtwb2ludHNUYWJsZSwgbWV0aG9kTmFtZSlcbiAgICAgICAgICA/IG5ld0JyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV1cbiAgICAgICAgICA6IChuZXdCcmVha3BvaW50c1RhYmxlW21ldGhvZE5hbWVdID0ge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2xhc3NCUHNbdGFnXSA9IGNvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICBicmVha3BvaW50cyA9IG5ld0JyZWFrcG9pbnRzO1xuICAgIGJyZWFrcG9pbnRzVGFibGUgPSBuZXdCcmVha3BvaW50c1RhYmxlO1xuICB9O1xuICBmcmVlemUoc2V0QnJlYWtwb2ludHMpO1xuXG4gIGNvbnN0IHNob3VsZEJyZWFrcG9pbnQgPSAocmVjaXBpZW50LCBtZXRob2ROYW1lKSA9PiB7XG4gICAgaWYgKG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCB8fCBtZXRob2ROYW1lID09PSBudWxsKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc0JQcyA9IGJyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV0gfHwgYnJlYWtwb2ludHNUYWJsZVsnKiddO1xuICAgIGlmIChjbGFzc0JQcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB0YWcgPSBzaW1wbGlmeVRhZyhyZWNpcGllbnRbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gICAgbGV0IGNvdW50ID0gY2xhc3NCUHNbdGFnXTtcbiAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFnID0gJyonO1xuICAgICAgY291bnQgPSBjbGFzc0JQc1t0YWddO1xuICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnQgPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzc2VydCh0eXBlb2YgY291bnQgPT09ICdudW1iZXInICYmIGNvdW50ID49IDEpO1xuICAgIGNsYXNzQlBzW3RhZ10gPSBjb3VudCAtIDE7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBmcmVlemUoc2hvdWxkQnJlYWtwb2ludCk7XG5cbiAgY29uc3QgYnJlYWtwb2ludFRlc3RlciA9IGZyZWV6ZSh7XG4gICAgZ2V0QnJlYWtwb2ludHMsXG4gICAgc2V0QnJlYWtwb2ludHMsXG4gICAgc2hvdWxkQnJlYWtwb2ludCxcbiAgfSk7XG4gIGJyZWFrcG9pbnRUZXN0ZXIuc2V0QnJlYWtwb2ludHMoKTtcbiAgcmV0dXJuIGJyZWFrcG9pbnRUZXN0ZXI7XG59OyRozY9fb25jZS5tYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIobWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKTtcbmZyZWV6ZShtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIjpbIm1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAP2zXVnQwAAJ0MAAArAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9yZWplY3Rpb24tdHJhY2tlci5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL3BhdHRlcm5zIiwiLi92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlVm93UmVqZWN0aW9uVHJhY2tlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgsbWFrZVByb21pc2VLaXQsTSxzaW5rOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi92b3ctdXRpbHMuanNcIiwgW1tcInNpbmtcIixbJGjNj19hID0+IChzaW5rID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbmNvbnN0IG1ha2VVbmhhbmRsZWRSZWplY3Rpb25DYW5jZWxsZXIgPSAocmVqZWN0ZWQsIHVwZ3JhZGVkUEspID0+IHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICAvL1xuICAgIHJlamVjdGVkPy5jYXRjaChzaW5rKTtcbiAgICAvL1xuICAgIC8vXG4gICAgdXBncmFkZWRQSz8ucmVzb2x2ZSgpO1xuICB9O1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyID0gem9uZSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHZvd1RvQ2FuY2VsVW5oYW5kbGVkUmVqZWN0aW9uID0gbmV3IFdlYWtNYXAoKTtcblxuICBjb25zdCB1cGdyYWRlUmVqZWN0aW9uV2F0Y2hlciA9IHpvbmUuZXhvKFxuICAgICdVcGdyYWRlUmVqZWN0aW9uV2F0Y2hlcicsXG4gICAgTS5pbnRlcmZhY2UoJ1VwZ3JhZGVSZWplY3Rpb25XYXRjaGVyJywge1xuICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0ucmF3KCksIE0ucmF3KCkpLnJldHVybnMoKSxcbiAgICB9KSxcbiAgICB7XG4gICAgICBvblJlamVjdGVkKHVwZ3JhZGVSZWFzb24sIGJhc2VSZWFzb24pIHtcbiAgICAgICAgY29uc3QgcmVhc29uID0gYXNzZXJ0LmVycm9yKFxuICAgICAgICAgIFhgVk9XX1JFSkVDVElPTiAke2Jhc2VSZWFzb259IG5vdCBoYW5kbGVkIGJlZm9yZSB1cGdyYWRlICR7dXBncmFkZVJlYXNvbn1gLFxuICAgICAgICApO1xuICAgICAgICAvL1xuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgY29uc3Qgdm93UmVqZWN0aW9uVHJhY2tlciA9IHpvbmUuZXhvKFxuICAgICdWb3dSZWplY3Rpb25UcmFja2VyJyxcbiAgICBNLmludGVyZmFjZSgnVm93UmVqZWN0aW9uVHJhY2tlcicsIHtcbiAgICAgIGhhbmRsZTogTS5jYWxsKE0ucmVtb3RhYmxlKCkpLnJldHVybnMoKSxcbiAgICAgIHJlamVjdDogTS5jYWxsKE0ucmVtb3RhYmxlKCksIE0ucmF3KCkpLnJldHVybnMoKSxcbiAgICB9KSxcbiAgICB7XG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIGhhbmRsZSh2b3dDYXApIHtcbiAgICAgICAgY29uc3QgY2FuY2VsID0gdm93VG9DYW5jZWxVbmhhbmRsZWRSZWplY3Rpb24uZ2V0KHZvd0NhcCk7XG4gICAgICAgIGlmICghY2FuY2VsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgYXNzZXJ0LmVycm9yKFxuICAgICAgICAgICAgICBYYE5vdyBoYW5kbGluZyBhIFZPV19SRUpFQ1RJT04gZnJvbSBhIHByaW9yIGluY2FybmF0aW9uIGZvciAke3Zvd0NhcH1gLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2b3dUb0NhbmNlbFVuaGFuZGxlZFJlamVjdGlvbi5kZWxldGUodm93Q2FwKTtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHJlamVjdCh2b3dDYXAsIHJlYXNvbikge1xuICAgICAgICBpZiAodm93VG9DYW5jZWxVbmhhbmRsZWRSZWplY3Rpb24uaGFzKHZvd0NhcCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoYXJkZW4ocmVhc29uKTtcbiAgICAgICAgY29uc3QgYmFzZVJlYXNvbiA9IHpvbmUuaXNTdG9yYWJsZShyZWFzb24pXG4gICAgICAgICAgPyByZWFzb25cbiAgICAgICAgICA6IGFzc2VydC5lcnJvcihYYFZvdyByZWplY3Rpb24gcmVhc29uIHdhcyBub3Qgc3RvcmVkOiAke3JlYXNvbn1gKTtcblxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCB1cGdyYWRlZFBLID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgICAgem9uZS53YXRjaFByb21pc2UoXG4gICAgICAgICAgdXBncmFkZWRQSy5wcm9taXNlLFxuICAgICAgICAgIHVwZ3JhZGVSZWplY3Rpb25XYXRjaGVyLFxuICAgICAgICAgIGJhc2VSZWFzb24sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcmVqZWN0ZWQgPSBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICAgICAgICBjb25zdCBjYW5jZWwgPSBtYWtlVW5oYW5kbGVkUmVqZWN0aW9uQ2FuY2VsbGVyKHJlamVjdGVkLCB1cGdyYWRlZFBLKTtcbiAgICAgICAgdm93VG9DYW5jZWxVbmhhbmRsZWRSZWplY3Rpb24uc2V0KHZvd0NhcCwgY2FuY2VsKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICByZXR1cm4gdm93UmVqZWN0aW9uVHJhY2tlcjtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLnByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyKHByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyIjpbInByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEg4eRgRGAAAERgAACMAAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3JldHJ5YWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvYmFzZS16b25lIiwiLi92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUmV0cnlhYmxlVG9vbHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLE0sUHJvbWlzZVdhdGNoZXJJLG1ha2VBc1Zvdyx0b1Bhc3NhYmxlQ2FwLFZvd1NoYXBlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lXCIsIFtbXCJQcm9taXNlV2F0Y2hlcklcIixbJGjNj19hID0+IChQcm9taXNlV2F0Y2hlckkgPSAkaM2PX2EpXV1dXSxbXCIuL3Zvdy11dGlscy5qc1wiLCBbW1wibWFrZUFzVm93XCIsWyRozY9fYSA9PiAobWFrZUFzVm93ID0gJGjNj19hKV1dLFtcInRvUGFzc2FibGVDYXBcIixbJGjNj19hID0+ICh0b1Bhc3NhYmxlQ2FwID0gJGjNj19hKV1dLFtcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuY29uc3QgeyBkZWZpbmVQcm9wZXJ0aWVzIH0gPSBPYmplY3Q7XG5cbmNvbnN0IFJldHJ5YWJsZUZsb3dJS2l0ID0gaGFyZGVuKHtcbiAgZmxvdzogTS5pbnRlcmZhY2UoJ0Zsb3cnLCB7XG4gICAgcmVzdGFydDogTS5jYWxsKCkucmV0dXJucygpLFxuICAgIGdldE91dGNvbWU6IE0uY2FsbCgpLnJldHVybnMoVm93U2hhcGUpLFxuICB9KSxcbiAgcmVzdWx0V2F0Y2hlcjogUHJvbWlzZVdhdGNoZXJJLFxufSk7XG5cbmNvbnN0IEFkbWluUmV0cnlhYmxlRmxvd0kgPSBNLmludGVyZmFjZSgnUmV0cnlhYmxlRmxvd0FkbWluJywge1xuICBnZXRGbG93Rm9yT3V0Y29tZVZvdzogTS5jYWxsKFZvd1NoYXBlKS5yZXR1cm5zKE0ub3B0KE0ucmVtb3RhYmxlKCdmbG93JykpKSxcbn0pO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVSZXRyeWFibGVUb29scyA9IChvdXRlclpvbmUsIG91dGVyT3B0aW9ucykgPT4ge1xuICBjb25zdCB7IG1ha2VWb3dLaXQsIGlzUmV0cnlhYmxlUmVhc29uIH0gPSBvdXRlck9wdGlvbnM7XG5cbiAgY29uc3QgYXNWb3cgPSBtYWtlQXNWb3cobWFrZVZvd0tpdCk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBmbG93Rm9yT3V0Y29tZVZvd0tleSA9XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgIG91dGVyWm9uZS5tYXBTdG9yZSgncmV0cnlhYmxlRmxvd0Zvck91dGNvbWVWb3cnLCB7XG4gICAgICAgIGtleVNoYXBlOiBNLnJlbW90YWJsZSgndG9QYXNzYWJsZUNhcCcpLFxuICAgICAgICB2YWx1ZVNoYXBlOiBNLnJlbW90YWJsZSgnZmxvdycpICAvL1xuICAgICAgfSlcbiAgICApO1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlUmV0cnlhYmxlRmxvd0tpdCA9ICh6b25lLCB0YWcsIHJldHJ5YWJsZUZ1bmMpID0+IHtcbiAgICB0eXBlb2YgcmV0cnlhYmxlRnVuYyA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgRmFpbGByZXRyeWFibGVGdW5jIG11c3QgYmUgYSBjYWxsYWJsZSBmdW5jdGlvbiAke3JldHJ5YWJsZUZ1bmN9YDtcblxuICAgIGNvbnN0IGludGVybmFsTWFrZVJldHJ5YWJsZUZsb3dLaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICAgdGFnLFxuICAgICAgUmV0cnlhYmxlRmxvd0lLaXQsXG4gICAgICBhY3RpdmF0aW9uQXJncyA9PiB7XG4gICAgICAgIGhhcmRlbihhY3RpdmF0aW9uQXJncyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmF0aW9uQXJncywgLy9cbiAgICAgICAgICBvdXRjb21lS2l0OiBtYWtlVm93S2l0KCksIC8vXG4gICAgICAgICAgbGFzdFJldHJ5UmVhc29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgcnVuczogMG4sXG4gICAgICAgICAgaXNEb25lOiBmYWxzZSAgLy9cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAvKlxuXG5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXN0YXJ0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBhY3RpdmF0aW9uQXJncywgaXNEb25lIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdywgcmVzdWx0V2F0Y2hlciB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICAhaXNEb25lIHx8XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIEZhaWxgQ2Fubm90IHJlc3RhcnQgYSBkb25lIHJldHJ5YWJsZSBmbG93ICR7Zmxvd31gO1xuXG4gICAgICAgICAgICBjb25zdCBydW5JZCA9IHN0YXRlLnJ1bnMgKyAxbjtcbiAgICAgICAgICAgIHN0YXRlLnJ1bnMgPSBydW5JZDtcblxuICAgICAgICAgICAgbGV0IHJlc3VsdFA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXN1bHRQID0gUHJvbWlzZS5yZXNvbHZlKHJldHJ5YWJsZUZ1bmMoLi4uYWN0aXZhdGlvbkFyZ3MpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICByZXN1bHRQID0gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0ZXJab25lLndhdGNoUHJvbWlzZShoYXJkZW4ocmVzdWx0UCksIHJlc3VsdFdhdGNoZXIsIHJ1bklkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldE91dGNvbWUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBvdXRjb21lS2l0IH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBvdXRjb21lS2l0LnZvdztcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByZXN1bHRXYXRjaGVyOiB7XG4gICAgICAgICAgb25GdWxmaWxsZWQodmFsdWUsIHJ1bklkKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBydW5zLCBvdXRjb21lS2l0IH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGlmIChydW5JZCAhPT0gcnVucykgcmV0dXJuO1xuICAgICAgICAgICAgIXN0YXRlLmlzRG9uZSB8fFxuICAgICAgICAgICAgICBGYWlsYENhbm5vdCByZXNvbHZlIGEgZG9uZSByZXRyeWFibGUgZmxvdyAke3RoaXMuZmFjZXRzLmZsb3d9YDtcbiAgICAgICAgICAgIG91dGNvbWVLaXQucmVzb2x2ZXIucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICBmbG93Rm9yT3V0Y29tZVZvd0tleS5kZWxldGUodG9QYXNzYWJsZUNhcChvdXRjb21lS2l0LnZvdykpO1xuICAgICAgICAgICAgc3RhdGUuaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmVqZWN0ZWQocmVhc29uLCBydW5JZCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgcnVucywgb3V0Y29tZUtpdCB9ID0gc3RhdGU7XG4gICAgICAgICAgICBpZiAocnVuSWQgIT09IHJ1bnMpIHJldHVybjtcbiAgICAgICAgICAgICFzdGF0ZS5pc0RvbmUgfHxcbiAgICAgICAgICAgICAgRmFpbGBDYW5ub3QgcmVqZWN0IGEgZG9uZSByZXRyeWFibGUgZmxvdyAke3RoaXMuZmFjZXRzLmZsb3d9YDtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5UmVhc29uID0gaXNSZXRyeWFibGVSZWFzb24oXG4gICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgICAgc3RhdGUubGFzdFJldHJ5UmVhc29uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyZXRyeVJlYXNvbikge1xuICAgICAgICAgICAgICBzdGF0ZS5sYXN0UmV0cnlSZWFzb24gPSByZXRyeVJlYXNvbjtcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMuZmxvdy5yZXN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXRjb21lS2l0LnJlc29sdmVyLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICBmbG93Rm9yT3V0Y29tZVZvd0tleS5kZWxldGUodG9QYXNzYWJsZUNhcChvdXRjb21lS2l0LnZvdykpO1xuICAgICAgICAgICAgICBzdGF0ZS5pc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICk7XG4gICAgY29uc3QgbWFrZVJldHJ5YWJsZUZsb3dLaXQgPSBhY3RpdmF0aW9uQXJncyA9PiB7XG4gICAgICBjb25zdCByZXRyeWFibGVLaXQgPSBpbnRlcm5hbE1ha2VSZXRyeWFibGVGbG93S2l0KGFjdGl2YXRpb25BcmdzKTtcbiAgICAgIGNvbnN0IHsgZmxvdyB9ID0gcmV0cnlhYmxlS2l0O1xuXG4gICAgICBjb25zdCB2b3cgPSBmbG93LmdldE91dGNvbWUoKTtcbiAgICAgIGZsb3dGb3JPdXRjb21lVm93S2V5LmluaXQodG9QYXNzYWJsZUNhcCh2b3cpLCBmbG93KTtcbiAgICAgIGZsb3cucmVzdGFydCgpO1xuICAgICAgcmV0dXJuIHJldHJ5YWJsZUtpdDtcbiAgICB9O1xuICAgIHJldHVybiBoYXJkZW4obWFrZVJldHJ5YWJsZUZsb3dLaXQpO1xuICB9O1xuXG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IHJldHJ5YWJsZSA9ICh6b25lLCB0YWcsIHJldHJ5YWJsZUZ1bmMpID0+IHtcbiAgICBjb25zdCBtYWtlUmV0cnlhYmxlS2l0ID0gcHJlcGFyZVJldHJ5YWJsZUZsb3dLaXQoem9uZSwgdGFnLCByZXRyeWFibGVGdW5jKTtcbiAgICBjb25zdCB3cmFwcGVyRnVuY05hbWUgPSBgJHt0YWd9X3JldHJ5YWJsZWA7XG5cbiAgICBjb25zdCB3cmFwcGVyRnVuYyA9IHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBbd3JhcHBlckZ1bmNOYW1lXSguLi5hcmdzKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgem9uZS5pc1N0b3JhYmxlKGhhcmRlbihhcmdzKSkgfHxcbiAgICAgICAgICAgIEZhaWxgcmV0cnlhYmxlIGFyZ3VtZW50cyBtdXN0IGJlIHN0b3JhYmxlICR7YXJnc31gO1xuICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gbWFrZVJldHJ5YWJsZUtpdChhcmdzKTtcbiAgICAgICAgICByZXR1cm4gZmxvdy5nZXRPdXRjb21lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9W3dyYXBwZXJGdW5jTmFtZV07XG4gICAgZGVmaW5lUHJvcGVydGllcyh3cmFwcGVyRnVuYywge1xuICAgICAgbGVuZ3RoOiB7IHZhbHVlOiByZXRyeWFibGVGdW5jLmxlbmd0aCB9LFxuICAgIH0pO1xuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih3cmFwcGVyRnVuYyk7XG4gIH07XG5cbiAgY29uc3QgYWRtaW5SZXRyeWFibGVGbG93ID0gb3V0ZXJab25lLmV4byhcbiAgICAnQWRtaW5SZXRyeWFibGVGbG93JyxcbiAgICBBZG1pblJldHJ5YWJsZUZsb3dJLFxuICAgIHtcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgZ2V0Rmxvd0Zvck91dGNvbWVWb3cob3V0Y29tZVZvdykge1xuICAgICAgICByZXR1cm4gZmxvd0Zvck91dGNvbWVWb3dLZXkuZ2V0KHRvUGFzc2FibGVDYXAob3V0Y29tZVZvdykpO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHByZXBhcmVSZXRyeWFibGVGbG93S2l0LFxuICAgIGFkbWluUmV0cnlhYmxlRmxvdyxcbiAgICByZXRyeWFibGUsXG4gIH0pO1xufTskaM2PX29uY2UucHJlcGFyZVJldHJ5YWJsZVRvb2xzKHByZXBhcmVSZXRyeWFibGVUb29scyk7XG5oYXJkZW4ocHJlcGFyZVJldHJ5YWJsZVRvb2xzKTtcblxuLypcblxuICovXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuICovXG5cbi8qXG5cbiAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVJldHJ5YWJsZVRvb2xzIjpbInByZXBhcmVSZXRyeWFibGVUb29scyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABCwDiLSwoAAEsKAAAfAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy90b29scy5qc3siaW1wb3J0cyI6WyIuL3Zvdy11dGlscy5qcyIsIi4vdm93LmpzIiwiLi93YXRjaC11dGlscy5qcyIsIi4vd2F0Y2guanMiLCIuL3JlamVjdGlvbi10cmFja2VyLmpzIiwiLi9yZXRyeWFibGUuanMiLCIuL3doZW4uanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlQmFzaWNWb3dUb29scyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VBc1ZvdyxwcmVwYXJlVm93S2l0LHByZXBhcmVXYXRjaFV0aWxzLHByZXBhcmVXYXRjaCxwcmVwYXJlVm93UmVqZWN0aW9uVHJhY2tlcixwcmVwYXJlUmV0cnlhYmxlVG9vbHMsbWFrZVdoZW47JGjNj19pbXBvcnRzKFtbXCIuL3Zvdy11dGlscy5qc1wiLCBbW1wibWFrZUFzVm93XCIsWyRozY9fYSA9PiAobWFrZUFzVm93ID0gJGjNj19hKV1dXV0sW1wiLi92b3cuanNcIiwgW1tcInByZXBhcmVWb3dLaXRcIixbJGjNj19hID0+IChwcmVwYXJlVm93S2l0ID0gJGjNj19hKV1dXV0sW1wiLi93YXRjaC11dGlscy5qc1wiLCBbW1wicHJlcGFyZVdhdGNoVXRpbHNcIixbJGjNj19hID0+IChwcmVwYXJlV2F0Y2hVdGlscyA9ICRozY9fYSldXV1dLFtcIi4vd2F0Y2guanNcIiwgW1tcInByZXBhcmVXYXRjaFwiLFskaM2PX2EgPT4gKHByZXBhcmVXYXRjaCA9ICRozY9fYSldXV1dLFtcIi4vcmVqZWN0aW9uLXRyYWNrZXIuanNcIiwgW1tcInByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyXCIsWyRozY9fYSA9PiAocHJlcGFyZVZvd1JlamVjdGlvblRyYWNrZXIgPSAkaM2PX2EpXV1dXSxbXCIuL3JldHJ5YWJsZS5qc1wiLCBbW1wicHJlcGFyZVJldHJ5YWJsZVRvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZVJldHJ5YWJsZVRvb2xzID0gJGjNj19hKV1dXV0sW1wiLi93aGVuLmpzXCIsIFtbXCJtYWtlV2hlblwiLFskaM2PX2EgPT4gKG1ha2VXaGVuID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVCYXNpY1Zvd1Rvb2xzID0gKHpvbmUsIHBvd2VycyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgaXNSZXRyeWFibGVSZWFzb24gPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoKCkgPT4gZmFsc2UpIH0gPVxuICAgIHBvd2VycztcbiAgY29uc3Qgdm93UmVqZWN0aW9uVHJhY2tlciA9IHByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyKHpvbmUpO1xuICBjb25zdCBtYWtlVm93S2l0ID0gcHJlcGFyZVZvd0tpdCh6b25lLCB2b3dSZWplY3Rpb25UcmFja2VyKTtcbiAgY29uc3Qgd2hlbiA9IG1ha2VXaGVuKGlzUmV0cnlhYmxlUmVhc29uKTtcbiAgY29uc3Qgd2F0Y2ggPSBwcmVwYXJlV2F0Y2goem9uZSwgbWFrZVZvd0tpdCwgaXNSZXRyeWFibGVSZWFzb24pO1xuICBjb25zdCBtYWtlV2F0Y2hVdGlscyA9IHByZXBhcmVXYXRjaFV0aWxzKHpvbmUsIHtcbiAgICB3YXRjaCxcbiAgICB3aGVuLFxuICAgIG1ha2VWb3dLaXQsXG4gICAgaXNSZXRyeWFibGVSZWFzb24sXG4gIH0pO1xuICBjb25zdCB3YXRjaFV0aWxzID0gbWFrZVdhdGNoVXRpbHMoKTtcbiAgY29uc3QgYXNWb3cgPSBtYWtlQXNWb3cobWFrZVZvd0tpdCk7XG5cbiAgY29uc3QgeyByZXRyeWFibGUgfSA9IHByZXBhcmVSZXRyeWFibGVUb29scyh6b25lLCB7XG4gICAgbWFrZVZvd0tpdCxcbiAgICBpc1JldHJ5YWJsZVJlYXNvbixcbiAgfSk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYWxsID0gbWF5YmVWb3dzID0+IHdhdGNoVXRpbHMuYWxsKG1heWJlVm93cyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBhbGxWb3dzID0gYWxsO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhbGxTZXR0bGVkID0gbWF5YmVWb3dzID0+IHdhdGNoVXRpbHMuYWxsU2V0dGxlZChtYXliZVZvd3MpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGFzUHJvbWlzZSA9IChzcGVjaW1lblAsIC4uLndhdGNoZXJBcmdzKSA9PlxuICAgIHdhdGNoVXRpbHMuYXNQcm9taXNlKHNwZWNpbWVuUCwgLi4ud2F0Y2hlckFyZ3MpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHdoZW4sXG4gICAgd2F0Y2gsXG4gICAgbWFrZVZvd0tpdCxcbiAgICBhbGwsXG4gICAgYWxsVm93cyxcbiAgICBhbGxTZXR0bGVkLFxuICAgIGFzVm93LFxuICAgIGFzUHJvbWlzZSxcbiAgICByZXRyeWFibGUsXG4gICAgcmV0cmlhYmxlOiByZXRyeWFibGUgIC8vXG4gIH0pO1xufTskaM2PX29uY2UucHJlcGFyZUJhc2ljVm93VG9vbHMocHJlcGFyZUJhc2ljVm93VG9vbHMpO1xuaGFyZGVuKHByZXBhcmVCYXNpY1Zvd1Rvb2xzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVCYXNpY1Zvd1Rvb2xzIjpbInByZXBhcmVCYXNpY1Zvd1Rvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABT3AEvJCgAAyQoAACUAAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3RyYWNrLXR1cm5zLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vudi1vcHRpb25zIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsidHJhY2tUdXJucyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldEVudmlyb25tZW50T3B0aW9uLGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMsYW5ub3RhdGVFcnJvcixYOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV0sW1wiZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhc1wiLFskaM2PX2EgPT4gKGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbmxldCBoaWRkZW5QcmlvckVycm9yO1xubGV0IGhpZGRlbkN1cnJlbnRUdXJuID0gMDtcbmxldCBoaWRkZW5DdXJyZW50RXZlbnQgPSAwO1xuXG4vL1xuY29uc3QgVkVSQk9TRSA9IGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMoJ0RFQlVHJywgJ3RyYWNrLXR1cm5zJyk7XG5cbi8vXG4vL1xuY29uc3QgRU5BQkxFRCA9XG4gIGdldEVudmlyb25tZW50T3B0aW9uKCdUUkFDS19UVVJOUycsICdkaXNhYmxlZCcsIFsnZW5hYmxlZCddKSA9PT0gJ2VuYWJsZWQnO1xuXG4vL1xuLy9cbi8vXG4vL1xuXG5jb25zdCBhZGRSZWplY3Rpb25Ob3RlID0gZGV0YWlsc05vdGUgPT4gcmVhc29uID0+IHtcbiAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgYW5ub3RhdGVFcnJvcihyZWFzb24sIGRldGFpbHNOb3RlKTtcbiAgfVxuICBpZiAoVkVSQk9TRSkge1xuICAgIGNvbnNvbGUubG9nKCdSRUpFQ1RFRCBhdCB0b3Agb2YgZXZlbnQgbG9vcCcsIHJlYXNvbik7XG4gIH1cbn07XG5cbmNvbnN0IHdyYXBGdW5jdGlvbiA9XG4gIChmdW5jLCBzZW5kaW5nRXJyb3IpID0+XG4gICguLi5hcmdzKSA9PiB7XG4gICAgaGlkZGVuUHJpb3JFcnJvciA9IHNlbmRpbmdFcnJvcjtcbiAgICBoaWRkZW5DdXJyZW50VHVybiArPSAxO1xuICAgIGhpZGRlbkN1cnJlbnRFdmVudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBmdW5jKC4uLmFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGFubm90YXRlRXJyb3IoXG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBYYFRocm93biBmcm9tOiAke2hpZGRlblByaW9yRXJyb3J9OiR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVkVSQk9TRSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUSFJPV04gdG8gdG9wIG9mIGV2ZW50IGxvb3AnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBjb25zdCBkZXRhaWxzTm90ZSA9IFhgUmVqZWN0aW9uIGZyb206ICR7aGlkZGVuUHJpb3JFcnJvcn06JHtoaWRkZW5DdXJyZW50VHVybn0uJHtoaWRkZW5DdXJyZW50RXZlbnR9YDtcbiAgICAgIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLmNhdGNoKGFkZFJlamVjdGlvbk5vdGUoZGV0YWlsc05vdGUpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGhpZGRlblByaW9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB0cmFja1R1cm5zID0gZnVuY3MgPT4ge1xuICBpZiAoIUVOQUJMRUQgfHwgdHlwZW9mIGdsb2JhbFRoaXMgPT09ICd1bmRlZmluZWQnIHx8ICFnbG9iYWxUaGlzLmFzc2VydCkge1xuICAgIHJldHVybiBmdW5jcztcbiAgfVxuXG4gIGhpZGRlbkN1cnJlbnRFdmVudCArPSAxO1xuICBjb25zdCBzZW5kaW5nRXJyb3IgPSBFcnJvcihcbiAgICBgRXZlbnQ6ICR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICk7XG4gIGlmIChoaWRkZW5QcmlvckVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICBhbm5vdGF0ZUVycm9yKHNlbmRpbmdFcnJvciwgWGBDYXVzZWQgYnk6ICR7aGlkZGVuUHJpb3JFcnJvcn1gKTtcbiAgfVxuXG4gIHJldHVybiAvKiAgICAgICAgICAgICovIChcbiAgICBmdW5jcy5tYXAoZnVuYyA9PiBmdW5jICYmIHdyYXBGdW5jdGlvbihmdW5jLCBzZW5kaW5nRXJyb3IpKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLnRyYWNrVHVybnModHJhY2tUdXJucyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0cmFja1R1cm5zIjpbInRyYWNrVHVybnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAJQAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAE1dafXQJAAB0CQAAIwAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvdm93LXV0aWxzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJWb3dTaGFwZSIsImJhc2ljRSIsImdldFZvd1BheWxvYWQiLCJpc1ZvdyIsIm1ha2VBc1ZvdyIsInNpbmsiLCJ0b1Bhc3NhYmxlQ2FwIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYmFzaWNFLGlzUGFzc2FibGUsTSxtYXRjaGVzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKGJhc2ljRSA9ICRozY9fYSksJGjNj19saXZlW1wiYmFzaWNFXCJdXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJpc1Bhc3NhYmxlXCIsWyRozY9fYSA9PiAoaXNQYXNzYWJsZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuICAgICAgIGNvbnN0IHNpbmsgPSAoKSA9PiB7fTskaM2PX29uY2Uuc2luayhzaW5rKTtcbmhhcmRlbihzaW5rKTtcblxuXG5cbiAgICAgICBjb25zdCBWb3dTaGFwZSA9IE0udGFnZ2VkKFxuICAnVm93JyxcbiAgTS5zcGxpdFJlY29yZCh7XG4gICAgdm93VjA6IE0ucmVtb3RhYmxlKCdWb3dWMCcpLFxuICB9KSxcbik7XG5cbi8qXG5cblxuICovJGjNj19vbmNlLlZvd1NoYXBlKFZvd1NoYXBlKTtcbiAgICAgICBjb25zdCBpc1ZvdyA9IHNwZWNpbWVuID0+XG4gIGlzUGFzc2FibGUoc3BlY2ltZW4pICYmIG1hdGNoZXMoc3BlY2ltZW4sIFZvd1NoYXBlKTskaM2PX29uY2UuaXNWb3coaXNWb3cpO1xuaGFyZGVuKGlzVm93KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldFZvd1BheWxvYWQgPSBzcGVjaW1lbiA9PiB7XG4gIGlmICghaXNWb3coc3BlY2ltZW4pKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHZvdyA9IC8qICAgICAgICAgICAgICAgICAqLyAoLyogICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pKTtcbiAgcmV0dXJuIHZvdy5wYXlsb2FkO1xufTskaM2PX29uY2UuZ2V0Vm93UGF5bG9hZChnZXRWb3dQYXlsb2FkKTtcbmhhcmRlbihnZXRWb3dQYXlsb2FkKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHRvUGFzc2FibGVDYXAgPSBrID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGdldFZvd1BheWxvYWQoayk7XG4gIGlmIChwYXlsb2FkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgKi8gKGspO1xuICB9XG4gIGNvbnN0IHsgdm93VjAgfSA9IHBheWxvYWQ7XG4gIC8vXG4gIHJldHVybiB2b3dWMDtcbn07JGjNj19vbmNlLnRvUGFzc2FibGVDYXAodG9QYXNzYWJsZUNhcCk7XG5oYXJkZW4odG9QYXNzYWJsZUNhcCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBtYWtlQXNWb3cgPSBtYWtlVm93S2l0ID0+IHtcbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhc1ZvdyA9IGZuID0+IHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBmbigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBpZiAoaXNWb3cocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgeyB2b3csIHJlc29sdmVyIH0gPSBtYWtlVm93S2l0KCk7XG4gICAgcmVzb2x2ZXIucmVzb2x2ZShyZXN1bHQpO1xuICAgIHJldHVybiB2b3c7XG4gIH07XG4gIHJldHVybiBoYXJkZW4oYXNWb3cpO1xufTskaM2PX29uY2UubWFrZUFzVm93KG1ha2VBc1Zvdyk7XG5oYXJkZW4obWFrZUFzVm93KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7ImJhc2ljRSI6WyJiYXNpY0UiLGZhbHNlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzaW5rIjpbInNpbmsiXSwiVm93U2hhcGUiOlsiVm93U2hhcGUiXSwiaXNWb3ciOlsiaXNWb3ciXSwiZ2V0Vm93UGF5bG9hZCI6WyJnZXRWb3dQYXlsb2FkIl0sInRvUGFzc2FibGVDYXAiOlsidG9QYXNzYWJsZUNhcCJdLCJtYWtlQXNWb3ciOlsibWFrZUFzVm93Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAL0m+YItGwAALRsAAB0AAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Zvdy5qc3siaW1wb3J0cyI6WyJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL3BhdHRlcm5zIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBhZ29yaWMvYmFzZS16b25lIl0sImV4cG9ydHMiOlsicHJlcGFyZVZvd0tpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VQcm9taXNlS2l0LE0sbWFrZVRhZ2dlZCxQcm9taXNlV2F0Y2hlckk7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wibWFrZVByb21pc2VLaXRcIixbJGjNj19hID0+IChtYWtlUHJvbWlzZUtpdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcIm1ha2VUYWdnZWRcIixbJGjNj19hID0+IChtYWtlVGFnZ2VkID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9iYXNlLXpvbmVcIiwgW1tcIlByb21pc2VXYXRjaGVySVwiLFskaM2PX2EgPT4gKFByb21pc2VXYXRjaGVySSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuY29uc3QgeyBkZXRhaWxzOiBYIH0gPSBhc3NlcnQ7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcbmhhcmRlbihub29wKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlVm93S2l0ID0gKHpvbmUsIHZvd1JlamVjdGlvblRyYWNrZXIpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc29sdmVyVG9FcGhlbWVyYSA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCByZXNvbHZlclRvTm9uU3RvcmVkVmFsdWUgPSBuZXcgV2Vha01hcCgpO1xuXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHByb3ZpZGVFcGhlbWVyYSA9IChyZXNvbHZlciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBlcGhlbWVyYSA9IHJlc29sdmVyVG9FcGhlbWVyYS5nZXQocmVzb2x2ZXIpO1xuICAgIGlmICghZXBoZW1lcmEpIHtcbiAgICAgIGVwaGVtZXJhID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgZXBoZW1lcmEucHJvbWlzZS5jYXRjaChub29wKTtcbiAgICB9XG5cbiAgICBlcGhlbWVyYSA9IGhhcmRlbih7IC4uLmVwaGVtZXJhLCAuLi5vcHRpb25zIH0pO1xuICAgIHJlc29sdmVyVG9FcGhlbWVyYS5zZXQocmVzb2x2ZXIsIGVwaGVtZXJhKTtcbiAgICByZXR1cm4gZXBoZW1lcmE7XG4gIH07XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgcHJvdmlkZUVwaGVtZXJhRm9yUmVzb2x1dGlvbiA9IHJlc29sdmVyID0+IHtcbiAgICBjb25zdCBlcGhlbWVyYSA9IHByb3ZpZGVFcGhlbWVyYShyZXNvbHZlcik7XG4gICAgaWYgKGVwaGVtZXJhLnJlc29sdmUpIHtcbiAgICAgIC8vXG4gICAgICBjb25zdCB7IHJlc29sdmU6IF8xLCByZWplY3Q6IF8yLCAuLi5yZXN0IH0gPSBlcGhlbWVyYTtcbiAgICAgIHJlc29sdmVyVG9FcGhlbWVyYS5zZXQocmVzb2x2ZXIsIGhhcmRlbihyZXN0KSk7XG4gICAgfVxuICAgIHJldHVybiBlcGhlbWVyYTtcbiAgfTtcblxuICBjb25zdCBtYWtlVm93SW50ZXJuYWxzS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnVm93SW50ZXJuYWxzS2l0JyxcbiAgICB7XG4gICAgICB2b3dWMDogTS5pbnRlcmZhY2UoJ1Zvd1YwJywge1xuICAgICAgICBzaG9ydGVuOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgIH0pLFxuICAgICAgcmVzb2x2ZXI6IE0uaW50ZXJmYWNlKCdWb3dSZXNvbHZlcicsIHtcbiAgICAgICAgcmVzb2x2ZTogTS5jYWxsKCkub3B0aW9uYWwoTS5yYXcoKSkucmV0dXJucygpLFxuICAgICAgICByZWplY3Q6IE0uY2FsbCgpLm9wdGlvbmFsKE0ucmF3KCkpLnJldHVybnMoKSxcbiAgICAgIH0pLFxuICAgICAgd2F0Y2hOZXh0U3RlcDogUHJvbWlzZVdhdGNoZXJJLFxuICAgIH0sXG4gICAgKCkgPT4gKHtcbiAgICAgIC8qICAgICAgICAgICAgICAqL1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIC8qXG5cblxuICAgICAgICovXG4gICAgICBzdGVwU3RhdHVzOiBudWxsLFxuICAgICAgaXNTdG9yZWRWYWx1ZTogZmFsc2UsXG4gICAgICAvKlxuXG5cblxuICAgICAgICovXG4gICAgICB2b3dJc0hhbmRsZWQ6IGZhbHNlLFxuICAgICAgLypcblxuXG5cbiAgICAgICAqL1xuICAgICAgZXh0cmE6IHVuZGVmaW5lZCxcbiAgICB9KSxcbiAgICB7XG4gICAgICB2b3dWMDoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBzaG9ydGVuKCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RlcFN0YXR1cywgaXNTdG9yZWRWYWx1ZSwgdmFsdWUsIHZvd0lzSGFuZGxlZCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyLCB2b3dWMCB9ID0gdGhpcy5mYWNldHM7XG5cbiAgICAgICAgICBzd2l0Y2ggKHN0ZXBTdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bGZpbGxlZCc6IHtcbiAgICAgICAgICAgICAgaWYgKHZvd0lzSGFuZGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvd0lzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGlzU3RvcmVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNvbHZlclRvTm9uU3RvcmVkVmFsdWUuaGFzKHJlc29sdmVyKSkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyVG9Ob25TdG9yZWRWYWx1ZS5nZXQocmVzb2x2ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHRocm93IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVqZWN0ZWQnOiB7XG4gICAgICAgICAgICAgIGlmICh2b3dJc0hhbmRsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b3dJc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZvd1JlamVjdGlvblRyYWNrZXI/LmhhbmRsZSh2b3dWMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uID0gcmVzb2x2ZXJUb05vblN0b3JlZFZhbHVlLmhhcyhyZXNvbHZlcilcbiAgICAgICAgICAgICAgICA/IHJlc29sdmVyVG9Ob25TdG9yZWRWYWx1ZS5nZXQocmVzb2x2ZXIpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZTtcblxuICAgICAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVFcGhlbWVyYSh0aGlzLmZhY2V0cy5yZXNvbHZlciwge1xuICAgICAgICAgICAgICAgIHBvdGVudGlhbGx5SGFuZGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgfSkucHJvbWlzZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihgdW5leHBlY3RlZCBzdGVwU3RhdHVzICR7c3RlcFN0YXR1c31gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVzb2x2ZXI6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgc3RlcFN0YXR1cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoc3RlcFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0YXRlLnN0ZXBTdGF0dXMgPSAncGVuZGluZyc7XG5cbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCB7IHJlc29sdmUgfSA9IHByb3ZpZGVFcGhlbWVyYUZvclJlc29sdXRpb24ocmVzb2x2ZXIpO1xuICAgICAgICAgIHJlc29sdmUgJiYgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAgICAgICB6b25lLndhdGNoUHJvbWlzZShcbiAgICAgICAgICAgIEhhbmRsZWRQcm9taXNlLnJlc29sdmUodmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMud2F0Y2hOZXh0U3RlcCxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICByZWplY3QocmVhc29uKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGVwU3RhdHVzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGlmIChzdGVwU3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGUuc3RlcFN0YXR1cyA9ICdyZWplY3RlZCc7XG5cbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyLCB3YXRjaE5leHRTdGVwIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCB7IHJlamVjdCB9ID0gcHJvdmlkZUVwaGVtZXJhRm9yUmVzb2x1dGlvbihyZXNvbHZlcik7XG4gICAgICAgICAgcmVqZWN0ICYmIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgIHdhdGNoTmV4dFN0ZXAub25SZWplY3RlZChyZWFzb24pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdhdGNoTmV4dFN0ZXA6IHtcbiAgICAgICAgb25GdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnN0ZXBTdGF0dXMgPSAnZnVsZmlsbGVkJztcblxuICAgICAgICAgIGNvbnN0IHsgcmVzb2x2ZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgIGNvbnN0IHsgcmVzb2x2ZSB9ID0gcHJvdmlkZUVwaGVtZXJhRm9yUmVzb2x1dGlvbihyZXNvbHZlcik7XG4gICAgICAgICAgaGFyZGVuKHZhbHVlKTtcbiAgICAgICAgICByZXNvbHZlICYmIHJlc29sdmUodmFsdWUpO1xuXG4gICAgICAgICAgdGhpcy5zdGF0ZS5pc1N0b3JlZFZhbHVlID0gem9uZS5pc1N0b3JhYmxlKHZhbHVlKTtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1N0b3JlZFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmVyVG9Ob25TdG9yZWRWYWx1ZS5zZXQocmVzb2x2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBhc3NlcnQuZXJyb3IoXG4gICAgICAgICAgICAgIFhgVm93IGZ1bGZpbGxtZW50IHZhbHVlIHdhcyBub3Qgc3RvcmVkOiAke3ZhbHVlfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25SZWplY3RlZChyZWFzb24pIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnN0ZXBTdGF0dXMgPSAncmVqZWN0ZWQnO1xuXG4gICAgICAgICAgY29uc3QgeyByZXNvbHZlciwgdm93VjAgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgIGNvbnN0IHsgcmVqZWN0LCBwb3RlbnRpYWxseUhhbmRsZWQgfSA9XG4gICAgICAgICAgICBwcm92aWRlRXBoZW1lcmFGb3JSZXNvbHV0aW9uKHJlc29sdmVyKTtcbiAgICAgICAgICBoYXJkZW4ocmVhc29uKTtcbiAgICAgICAgICByZWplY3QgJiYgcmVqZWN0KHJlYXNvbik7XG5cbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS52b3dJc0hhbmRsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAocG90ZW50aWFsbHlIYW5kbGVkKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudm93SXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZvd1JlamVjdGlvblRyYWNrZXI/LnJlamVjdCh2b3dWMCwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5pc1N0b3JlZFZhbHVlID0gem9uZS5pc1N0b3JhYmxlKHJlYXNvbik7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNTdG9yZWRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS52YWx1ZSA9IHJlYXNvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZXJUb05vblN0b3JlZFZhbHVlLnNldChyZXNvbHZlciwgcmVhc29uKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBhc3NlcnQuZXJyb3IoXG4gICAgICAgICAgICAgIFhgVm93IHJlamVjdGlvbiByZWFzb24gd2FzIG5vdCBzdG9yZWQ6ICR7cmVhc29ufWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VWb3dLaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZXNvbHZlciwgdm93VjAgfSA9IG1ha2VWb3dJbnRlcm5hbHNLaXQoKTtcbiAgICBjb25zdCB2b3cgPSBtYWtlVGFnZ2VkKCdWb3cnLCBoYXJkZW4oeyB2b3dWMCB9KSk7XG4gICAgcmV0dXJuIGhhcmRlbih7IHJlc29sdmVyLCB2b3cgfSk7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VWb3dLaXQ7XG59O1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5wcmVwYXJlVm93S2l0KHByZXBhcmVWb3dLaXQpO1xuXG5oYXJkZW4ocHJlcGFyZVZvd0tpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlVm93S2l0IjpbInByZXBhcmVWb3dLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAZ8rWVe8dAADvHQAAJQAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvd2F0Y2gtdXRpbHMuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9pbnRlcm5hbC9zcmMvanMtdXRpbHMuanMiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvYmFzZS16b25lIl0sImV4cG9ydHMiOlsicHJlcGFyZVdhdGNoVXRpbHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwcm92aWRlTGF6eU1hcCxNLFByb21pc2VXYXRjaGVySTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2pzLXV0aWxzLmpzXCIsIFtbXCJwcm92aWRlTGF6eU1hcFwiLFskaM2PX2EgPT4gKHByb3ZpZGVMYXp5TWFwID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9iYXNlLXpvbmVcIiwgW1tcIlByb21pc2VXYXRjaGVySVwiLFskaM2PX2EgPT4gKFByb21pc2VXYXRjaGVySSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuY29uc3QgeyBGYWlsLCBiYXJlLCBkZXRhaWxzOiBYIH0gPSBhc3NlcnQ7XG5cbi8qXG5cblxuXG5cblxuICovXG5cbmNvbnN0IFZvd1NoYXBlID0gTS50YWdnZWQoXG4gICdWb3cnLFxuICBoYXJkZW4oe1xuICAgIHZvd1YwOiBNLnJlbW90YWJsZSgnVm93VjAnKSxcbiAgfSksXG4pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZVdhdGNoVXRpbHMgPSAoXG4gIHpvbmUsXG4gIHsgd2F0Y2gsIHdoZW4sIG1ha2VWb3dLaXQsIGlzUmV0cnlhYmxlUmVhc29uIH0sXG4pID0+IHtcbiAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG4gIGNvbnN0IHV0aWxzVG9Ob25TdG9yYWJsZVJlc3VsdHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gIGNvbnN0IG1ha2VXYXRjaFV0aWxzS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnV2F0Y2hVdGlscycsXG4gICAge1xuICAgICAgdXRpbHM6IE0uaW50ZXJmYWNlKCdVdGlscycsIHtcbiAgICAgICAgYWxsOiBNLmNhbGwoTS5hcnJheU9mKE0uYW55KCkpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgICAgYWxsU2V0dGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLmFueSgpKSkucmV0dXJucyhWb3dTaGFwZSksXG4gICAgICAgIGFzUHJvbWlzZTogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB9KSxcbiAgICAgIHdhdGNoZXI6IE0uaW50ZXJmYWNlKCdXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnJhdygpKSxcbiAgICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnJhdygpKSxcbiAgICAgIH0pLFxuICAgICAgaGVscGVyOiBNLmludGVyZmFjZSgnSGVscGVyJywge1xuICAgICAgICBjcmVhdGVWb3c6IE0uY2FsbChNLmFycmF5T2YoTS5hbnkoKSksIE0uYm9vbGVhbigpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgICAgcHJvY2Vzc1Jlc3VsdDogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnVuZGVmaW5lZCgpKSxcbiAgICAgIH0pLFxuICAgICAgcmV0cnlSZWplY3Rpb25Qcm9taXNlV2F0Y2hlcjogUHJvbWlzZVdhdGNoZXJJLFxuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgLypcblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBpZFRvVm93U3RhdGUgPSBkZXRhY2hlZC5tYXBTdG9yZSgnaWRUb1Zvd1N0YXRlJyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHRJZDogMG4sXG4gICAgICAgIGlkVG9Wb3dTdGF0ZSxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICB1dGlsczoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhbGwoc3BlY2ltZW5zKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFjZXRzLmhlbHBlci5jcmVhdGVWb3coc3BlY2ltZW5zLCBmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGFsbFNldHRsZWQoc3BlY2ltZW5zKSB7XG4gICAgICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5oZWxwZXIuY3JlYXRlVm93KHNwZWNpbWVucywgdHJ1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhc1Byb21pc2Uoc3BlY2ltZW5QLCAuLi53YXRjaGVyQXJncykge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3Qgdm93ID0gd2F0Y2goc3BlY2ltZW5QLCAuLi53YXRjaGVyQXJncyk7XG4gICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHdoZW4odm93KTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICB6b25lLndhdGNoUHJvbWlzZShwcm9taXNlLCB0aGlzLmZhY2V0cy5yZXRyeVJlamVjdGlvblByb21pc2VXYXRjaGVyKTtcblxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHZhbHVlLCBjdHgpIHtcbiAgICAgICAgICB0aGlzLmZhY2V0cy5oZWxwZXIucHJvY2Vzc1Jlc3VsdCh2YWx1ZSwgY3R4LCAnZnVsZmlsbGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvblJlamVjdGVkKHJlYXNvbiwgY3R4KSB7XG4gICAgICAgICAgdGhpcy5mYWNldHMuaGVscGVyLnByb2Nlc3NSZXN1bHQocmVhc29uLCBjdHgsICdyZWplY3RlZCcpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGhlbHBlcjoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVZvdyhzcGVjaW1lbnMsIGlzQWxsU2V0dGxlZCkge1xuICAgICAgICAgIGNvbnN0IHsgbmV4dElkOiBpZCwgaWRUb1Zvd1N0YXRlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBraXQgPSBtYWtlVm93S2l0KCk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzcGVjaW1lbnMubGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgICB3YXRjaChzcGVjaW1lbnNbaW5kZXhdLCB0aGlzLmZhY2V0cy53YXRjaGVyLCB7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgbnVtUmVzdWx0czogc3BlY2ltZW5zLmxlbmd0aCxcbiAgICAgICAgICAgICAgaXNBbGxTZXR0bGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwZWNpbWVucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5uZXh0SWQgKz0gMW47XG4gICAgICAgICAgICBpZFRvVm93U3RhdGUuaW5pdChcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIGhhcmRlbih7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXI6IGtpdC5yZXNvbHZlcixcbiAgICAgICAgICAgICAgICByZW1haW5pbmc6IHNwZWNpbWVucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgcmVzdWx0c01hcDogZGV0YWNoZWQubWFwU3RvcmUoJ3Jlc3VsdHNNYXAnKSxcbiAgICAgICAgICAgICAgICBpc0FsbFNldHRsZWQsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGlkVG9Ob25TdG9yYWJsZVJlc3VsdHMgPSBwcm92aWRlTGF6eU1hcChcbiAgICAgICAgICAgICAgdXRpbHNUb05vblN0b3JhYmxlUmVzdWx0cyxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMudXRpbHMsXG4gICAgICAgICAgICAgICgpID0+IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZFRvTm9uU3RvcmFibGVSZXN1bHRzLnNldChpZCwgbmV3IE1hcCgpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGtpdC5yZXNvbHZlci5yZXNvbHZlKGhhcmRlbihbXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ga2l0LnZvdztcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc1Jlc3VsdChyZXN1bHQsIHsgaWQsIGluZGV4LCBudW1SZXN1bHRzLCBpc0FsbFNldHRsZWQgfSwgc3RhdHVzKSB7XG4gICAgICAgICAgY29uc3QgeyBpZFRvVm93U3RhdGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgaWYgKCFpZFRvVm93U3RhdGUuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaWRUb05vblN0b3JhYmxlUmVzdWx0cyA9IHByb3ZpZGVMYXp5TWFwKFxuICAgICAgICAgICAgdXRpbHNUb05vblN0b3JhYmxlUmVzdWx0cyxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnV0aWxzLFxuICAgICAgICAgICAgKCkgPT4gbmV3IE1hcCgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgeyByZW1haW5pbmcsIHJlc3VsdHNNYXAsIHJlc29sdmVyIH0gPSBpZFRvVm93U3RhdGUuZ2V0KGlkKTtcbiAgICAgICAgICBpZiAoIWlzQWxsU2V0dGxlZCAmJiBzdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZFRvVm93U3RhdGUuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIGlkVG9Ob25TdG9yYWJsZVJlc3VsdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIHJlc29sdmVyLnJlamVjdChyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHBvc3NpYmx5V3JhcHBlZFJlc3VsdCA9IGlzQWxsU2V0dGxlZFxuICAgICAgICAgICAgPyBoYXJkZW4oe1xuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBbc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/ICd2YWx1ZScgOiAncmVhc29uJ106IHJlc3VsdCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogcmVzdWx0O1xuXG4gICAgICAgICAgY29uc3Qgbm9uU3RvcmFibGVSZXN1bHRzID0gcHJvdmlkZUxhenlNYXAoXG4gICAgICAgICAgICBpZFRvTm9uU3RvcmFibGVSZXN1bHRzLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAoKSA9PiBuZXcgTWFwKCksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgaWYgKHpvbmUuaXNTdG9yYWJsZShwb3NzaWJseVdyYXBwZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICByZXN1bHRzTWFwLmluaXQoaW5kZXgsIHBvc3NpYmx5V3JhcHBlZFJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vblN0b3JhYmxlUmVzdWx0cy5zZXQoaW5kZXgsIHBvc3NpYmx5V3JhcHBlZFJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHZvd1N0YXRlID0gaGFyZGVuKHtcbiAgICAgICAgICAgIHJlbWFpbmluZzogcmVtYWluaW5nIC0gMSxcbiAgICAgICAgICAgIHJlc3VsdHNNYXAsXG4gICAgICAgICAgICByZXNvbHZlcixcbiAgICAgICAgICAgIGlzQWxsU2V0dGxlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodm93U3RhdGUucmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgaWRUb1Zvd1N0YXRlLnNldChpZCwgdm93U3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL1xuICAgICAgICAgIGlkVG9Wb3dTdGF0ZS5kZWxldGUoaWQpO1xuICAgICAgICAgIGlkVG9Ob25TdG9yYWJsZVJlc3VsdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gbmV3IEFycmF5KG51bVJlc3VsdHMpO1xuICAgICAgICAgIGxldCBudW1Mb3N0ID0gMDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVJlc3VsdHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKG5vblN0b3JhYmxlUmVzdWx0cy5oYXMoaSkpIHtcbiAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IG5vblN0b3JhYmxlUmVzdWx0cy5nZXQoaSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdHNNYXAuaGFzKGkpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHNbaV0gPSByZXN1bHRzTWFwLmdldChpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bUxvc3QgKz0gMTtcbiAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IGlzQWxsU2V0dGxlZFxuICAgICAgICAgICAgICAgID8geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogJ1Vuc3RvcmFibGUgcmVzdWx0IHdhcyBsb3N0JyB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChudW1Mb3N0ID4gMCAmJiAhaXNBbGxTZXR0bGVkKSB7XG4gICAgICAgICAgICByZXNvbHZlci5yZWplY3QoXG4gICAgICAgICAgICAgIGFzc2VydC5lcnJvcihYYCR7bnVtTG9zdH0gdW5zdG9yYWJsZSByZXN1bHRzIHdlcmUgbG9zdGApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZXIucmVzb2x2ZShoYXJkZW4ocmVzdWx0cykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZXRyeVJlamVjdGlvblByb21pc2VXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKF9yZXN1bHQpIHt9LFxuICAgICAgICBvblJlamVjdGVkKHJlYXNvbiwgZmFpbGVkT3ApIHtcbiAgICAgICAgICBpZiAoaXNSZXRyeWFibGVSZWFzb24ocmVhc29uLCB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBGYWlsYFBlbmRpbmcgJHtiYXJlKGZhaWxlZE9wKX0gY291bGQgbm90IHJldHJ5OyAke3JlYXNvbn1gO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBtYWtlV2F0Y2hVdGlsID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXRpbHMgfSA9IG1ha2VXYXRjaFV0aWxzS2l0KCk7XG4gICAgcmV0dXJuIGhhcmRlbih1dGlscyk7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VXYXRjaFV0aWw7XG59OyRozY9fb25jZS5wcmVwYXJlV2F0Y2hVdGlscyhwcmVwYXJlV2F0Y2hVdGlscyk7XG5cbmhhcmRlbihwcmVwYXJlV2F0Y2hVdGlscyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlV2F0Y2hVdGlscyI6WyJwcmVwYXJlV2F0Y2hVdGlscyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB2IkHtfxUAAH8VAAAfAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy93YXRjaC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2Jhc2Utem9uZSIsIi4vdm93LXV0aWxzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZVdhdGNoIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgUHJvbWlzZVdhdGNoZXJJLGdldFZvd1BheWxvYWQsYmFzaWNFOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9iYXNlLXpvbmVcIiwgW1tcIlByb21pc2VXYXRjaGVySVwiLFskaM2PX2EgPT4gKFByb21pc2VXYXRjaGVySSA9ICRozY9fYSldXV1dLFtcIi4vdm93LXV0aWxzLmpzXCIsIFtbXCJnZXRWb3dQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0Vm93UGF5bG9hZCA9ICRozY9fYSldXSxbXCJiYXNpY0VcIixbJGjNj19hID0+IChiYXNpY0UgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuY29uc3QgeyBhcHBseSB9ID0gUmVmbGVjdDtcblxuLypcblxuXG4gKi9cblxuLypcblxuICovXG5jb25zdCBtYWtlV2F0Y2hOZXh0U3RlcCA9XG4gIHpvbmUgPT5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIChzcGVjaW1lbiwgcHJvbWlzZVdhdGNoZXIpID0+IHtcbiAgICBsZXQgcHJvbWlzZTtcbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0Vm93UGF5bG9hZChzcGVjaW1lbik7XG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIHByb21pc2UgPSBiYXNpY0UocGF5bG9hZC52b3dWMCkuc2hvcnRlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlID0gYmFzaWNFLnJlc29sdmUoc3BlY2ltZW4pO1xuICAgIH1cbiAgICB6b25lLndhdGNoUHJvbWlzZShwcm9taXNlLCBwcm9taXNlV2F0Y2hlcik7XG4gIH07XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBzZXR0bGUgPSBhc3luYyAocmVzb2x2ZXIsIHdhdGNoZXIsIHdjYiwgdmFsdWUsIHdhdGNoZXJBcmdzID0gW10pID0+IHtcbiAgYXdhaXQgbnVsbDtcbiAgdHJ5IHtcbiAgICBsZXQgY2hhaW5lZFZhbHVlID0gdmFsdWU7XG4gICAgY29uc3QgdyA9IHdhdGNoZXIgJiYgd2F0Y2hlclt3Y2JdO1xuICAgIGlmICh3KSB7XG4gICAgICBjaGFpbmVkVmFsdWUgPSBhcHBseSh3LCB3YXRjaGVyLCBbdmFsdWUsIC4uLndhdGNoZXJBcmdzXSk7XG4gICAgfSBlbHNlIGlmICh3Y2IgPT09ICdvblJlamVjdGVkJykge1xuICAgICAgdGhyb3cgdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICByZXNvbHZlci5yZXNvbHZlKGNoYWluZWRWYWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9cbiAgICAvL1xuICAgIGF3YWl0IGNoYWluZWRWYWx1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChyZXNvbHZlcikge1xuICAgICAgcmVzb2x2ZXIucmVqZWN0KGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vXG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZVByb21pc2VXYXRjaGVyID0gKHpvbmUsIGlzUmV0cnlhYmxlUmVhc29uLCB3YXRjaE5leHRTdGVwKSA9PiB7XG4gIC8vXG4gIC8vXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgd2F0Y2hlclNlZW5QYXlsb2FkcyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgZ2V0U2VlblBheWxvYWRzID0gd2F0Y2hlciA9PiB7XG4gICAgbGV0IHNlZW5QYXlsb2FkcyA9IHdhdGNoZXJTZWVuUGF5bG9hZHMuZ2V0KHdhdGNoZXIpO1xuICAgIGlmICghc2VlblBheWxvYWRzKSB7XG4gICAgICBzZWVuUGF5bG9hZHMgPSBuZXcgV2Vha1NldCgpO1xuICAgICAgd2F0Y2hlclNlZW5QYXlsb2Fkcy5zZXQod2F0Y2hlciwgc2VlblBheWxvYWRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZW5QYXlsb2FkcztcbiAgfTtcblxuICByZXR1cm4gem9uZS5leG9DbGFzcyhcbiAgICAnUHJvbWlzZVdhdGNoZXInLFxuICAgIFByb21pc2VXYXRjaGVySSxcbiAgICAvKlxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIChyZXNvbHZlciwgd2F0Y2hlciwgd2F0Y2hlckFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICB2b3c6IC8qICAgICAgICAgICAgICAgICAgKi8gKHVuZGVmaW5lZCksXG4gICAgICAgIHByaW9yUmV0cnlWYWx1ZTogLyogICAgICAgICAgICAgICovICh1bmRlZmluZWQpLFxuICAgICAgICByZXNvbHZlcixcbiAgICAgICAgd2F0Y2hlcixcbiAgICAgICAgd2F0Y2hlckFyZ3M6IGhhcmRlbih3YXRjaGVyQXJncyksXG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoc3RhdGUpO1xuICAgIH0sXG4gICAge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBvbkZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IHdhdGNoZXIsIHdhdGNoZXJBcmdzLCByZXNvbHZlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKCFyZXNvbHZlcikge1xuICAgICAgICAgIHRocm93IEVycm9yKCdVbmV4cGVjdGVkIG11bHRpcGxlIGNhbGxzIHRvIFByb21pc2VXYXRjaGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGdldFZvd1BheWxvYWQodmFsdWUpO1xuICAgICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICAgIGNvbnN0IHNlZW5QYXlsb2FkcyA9IGdldFNlZW5QYXlsb2Fkcyh0aGlzLnNlbGYpO1xuICAgICAgICAgIC8vXG4gICAgICAgICAgaWYgKHNlZW5QYXlsb2Fkcy5oYXMocGF5bG9hZC52b3dWMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGYub25SZWplY3RlZChFcnJvcignVm93IHJlc29sdXRpb24gY3ljbGUgZGV0ZWN0ZWQnKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlZW5QYXlsb2Fkcy5hZGQocGF5bG9hZC52b3dWMCk7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB0aGlzLnN0YXRlLnZvdyA9IHZhbHVlO1xuICAgICAgICAgIHdhdGNoTmV4dFN0ZXAodmFsdWUsIHRoaXMuc2VsZik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhdGNoZXJTZWVuUGF5bG9hZHMuZGVsZXRlKHRoaXMuc2VsZik7XG4gICAgICAgIHRoaXMuc3RhdGUucHJpb3JSZXRyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXRlLndhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhdGUucmVzb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZvaWQgc2V0dGxlKHJlc29sdmVyLCB3YXRjaGVyLCAnb25GdWxmaWxsZWQnLCB2YWx1ZSwgd2F0Y2hlckFyZ3MpO1xuICAgICAgfSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBvblJlamVjdGVkKHJlYXNvbikge1xuICAgICAgICBjb25zdCB7IHZvdywgd2F0Y2hlciwgd2F0Y2hlckFyZ3MsIHJlc29sdmVyLCBwcmlvclJldHJ5VmFsdWUgfSA9XG4gICAgICAgICAgdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKCFyZXNvbHZlcikge1xuICAgICAgICAgIHRocm93IEVycm9yKCdVbmV4cGVjdGVkIG11bHRpcGxlIGNhbGxzIHRvIFByb21pc2VXYXRjaGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmV0cnlWYWx1ZSA9IGlzUmV0cnlhYmxlUmVhc29uKHJlYXNvbiwgcHJpb3JSZXRyeVZhbHVlKTtcbiAgICAgICAgaWYgKHJldHJ5VmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnByaW9yUmV0cnlWYWx1ZSA9IHJldHJ5VmFsdWU7XG4gICAgICAgICAgaWYgKHZvdykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHdhdGNoTmV4dFN0ZXAodm93LCB0aGlzLnNlbGYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICB3YXRjaGVyU2VlblBheWxvYWRzLmRlbGV0ZSh0aGlzLnNlbGYpO1xuICAgICAgICB0aGlzLnN0YXRlLnByaW9yUmV0cnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0ZS53YXRjaGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB2b2lkIHNldHRsZShyZXNvbHZlciwgd2F0Y2hlciwgJ29uUmVqZWN0ZWQnLCByZWFzb24sIHdhdGNoZXJBcmdzKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlV2F0Y2ggPSAoXG4gIHpvbmUsXG4gIG1ha2VWb3dLaXQsXG4gIGlzUmV0cnlhYmxlUmVhc29uID0gKF9yZWFzb24sIF9sYXN0VmFsdWUpID0+IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCB3YXRjaE5leHRTdGVwID0gbWFrZVdhdGNoTmV4dFN0ZXAoem9uZSk7XG4gIGNvbnN0IG1ha2VQcm9taXNlV2F0Y2hlciA9IHByZXBhcmVQcm9taXNlV2F0Y2hlcihcbiAgICB6b25lLFxuICAgIGlzUmV0cnlhYmxlUmVhc29uLFxuICAgIHdhdGNoTmV4dFN0ZXAsXG4gICk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgd2F0Y2ggPSAoc3BlY2ltZW5QLCB3YXRjaGVyLCAuLi53YXRjaGVyQXJncykgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHsgcmVzb2x2ZXIsIHZvdyB9ID0gbWFrZVZvd0tpdCgpO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IHByb21pc2VXYXRjaGVyID0gbWFrZVByb21pc2VXYXRjaGVyKHJlc29sdmVyLCB3YXRjaGVyLCB3YXRjaGVyQXJncyk7XG5cbiAgICAvL1xuICAgIGNvbnN0IHByb21pc2UgPSBiYXNpY0UucmVzb2x2ZShzcGVjaW1lblApO1xuICAgIHpvbmUud2F0Y2hQcm9taXNlKHByb21pc2UsIHByb21pc2VXYXRjaGVyKTtcblxuICAgIHJldHVybiB2b3c7XG4gIH07XG4gIGhhcmRlbih3YXRjaCk7XG5cbiAgcmV0dXJuIHdhdGNoO1xufTskaM2PX29uY2UucHJlcGFyZVdhdGNoKHByZXBhcmVXYXRjaCk7XG5cbmhhcmRlbihwcmVwYXJlV2F0Y2gpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlV2F0Y2giOlsicHJlcGFyZVdhdGNoIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKncQd61CAAAtQgAAB4AAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3doZW4uanN7ImltcG9ydHMiOlsiLi92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJtYWtlV2hlbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldFZvd1BheWxvYWQsYmFzaWNFOyRozY9faW1wb3J0cyhbW1wiLi92b3ctdXRpbHMuanNcIiwgW1tcImdldFZvd1BheWxvYWRcIixbJGjNj19hID0+IChnZXRWb3dQYXlsb2FkID0gJGjNj19hKV1dLFtcImJhc2ljRVwiLFskaM2PX2EgPT4gKGJhc2ljRSA9ICRozY9fYSldXV1dXSk7XG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VXaGVuID0gKFxuICBpc1JldHJ5YWJsZVJlYXNvbiA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICgoKSA9PiBmYWxzZSksXG4pID0+IHtcbiAgLypcblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHVud3JhcCA9IGFzeW5jIHNwZWNpbWVuUCA9PiB7XG4gICAgLy9cbiAgICBhd2FpdCBudWxsO1xuXG4gICAgLy9cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc3BlY2ltZW5QO1xuICAgIGxldCBwYXlsb2FkID0gZ2V0Vm93UGF5bG9hZChyZXN1bHQpO1xuICAgIGxldCBwcmlvclJldHJ5VmFsdWU7XG4gICAgY29uc3Qgc2VlblBheWxvYWRzID0gbmV3IFdlYWtTZXQoKTtcbiAgICB3aGlsZSAocGF5bG9hZCkge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCB7IHZvd1YwIH0gPSBwYXlsb2FkO1xuICAgICAgaWYgKHNlZW5QYXlsb2Fkcy5oYXModm93VjApKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdWb3cgcmVzb2x1dGlvbiBjeWNsZSBkZXRlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBiYXNpY0Uodm93VjApLnNob3J0ZW4oKTtcblxuICAgICAgICAvL1xuICAgICAgICBzZWVuUGF5bG9hZHMuYWRkKHZvd1YwKTtcbiAgICAgICAgcHJpb3JSZXRyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXN1bHQgPSByZXM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG5leHRSZXRyeVZhbHVlID0gaXNSZXRyeWFibGVSZWFzb24oZSwgcHJpb3JSZXRyeVZhbHVlKTtcbiAgICAgICAgaWYgKCFuZXh0UmV0cnlWYWx1ZSkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgIHByaW9yUmV0cnlWYWx1ZSA9IG5leHRSZXRyeVZhbHVlO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIHBheWxvYWQgPSBnZXRWb3dQYXlsb2FkKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgY29uc3QgdW53cmFwcGVkID0gLyogICAgICAgICAgICAgICAgICAgICAqLyAocmVzdWx0KTtcbiAgICByZXR1cm4gdW53cmFwcGVkO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHdoZW4gPSAoc3BlY2ltZW5QLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZCA9IHVud3JhcChzcGVjaW1lblApO1xuXG4gICAgLy9cbiAgICBpZiAob25GdWxmaWxsZWQgPT0gbnVsbCAmJiBvblJlamVjdGVkID09IG51bGwpIHtcbiAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAodW53cmFwcGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2ljRS5yZXNvbHZlKHVud3JhcHBlZCkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gIH07XG4gIGhhcmRlbih3aGVuKTtcblxuICByZXR1cm4gd2hlbjtcbn07JGjNj19vbmNlLm1ha2VXaGVuKG1ha2VXaGVuKTtcblxuaGFyZGVuKG1ha2VXaGVuKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VXaGVuIjpbIm1ha2VXaGVuIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAO5lGk9RCQAAUQkAABkAAABAYWdvcmljL3Zvdy12MC4xLjAvdmF0LmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzIiwiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qcyIsIi4vc3JjL3Rvb2xzLmpzIiwiLi9zcmMvRS5qcyJdLCJleHBvcnRzIjpbImRlZmF1bHRQb3dlcnMiLCJoZWFwVm93RSIsImhlYXBWb3dUb29scyIsInByZXBhcmVTd2luZ3NldFZvd1Rvb2xzIiwicHJlcGFyZVZvd1Rvb2xzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaXNVcGdyYWRlRGlzY29ubmVjdGlvbixpc0FiYW5kb25lZEVycm9yLG1ha2VIZWFwWm9uZSxwcmVwYXJlQmFzaWNWb3dUb29scyxtYWtlRTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzXCIsIFtbXCJpc1VwZ3JhZGVEaXNjb25uZWN0aW9uXCIsWyRozY9fYSA9PiAoaXNVcGdyYWRlRGlzY29ubmVjdGlvbiA9ICRozY9fYSldXSxbXCJpc0FiYW5kb25lZEVycm9yXCIsWyRozY9fYSA9PiAoaXNBYmFuZG9uZWRFcnJvciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lL2hlYXAuanNcIiwgW1tcIm1ha2VIZWFwWm9uZVwiLFskaM2PX2EgPT4gKG1ha2VIZWFwWm9uZSA9ICRozY9fYSldXV1dLFtcIi4vc3JjL3Rvb2xzLmpzXCIsIFtbXCJwcmVwYXJlQmFzaWNWb3dUb29sc1wiLFskaM2PX2EgPT4gKHByZXBhcmVCYXNpY1Zvd1Rvb2xzID0gJGjNj19hKV1dXV0sW1wiLi9zcmMvRS5qc1wiLCBbW1wiZGVmYXVsdFwiLFskaM2PX2EgPT4gKG1ha2VFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgaXNSZXRyeWFibGVSZWFzb24gPSAocmVhc29uLCBwcmlvclJldHJ5VmFsdWUpID0+IHtcbiAgaWYgKFxuICAgIGlzVXBncmFkZURpc2Nvbm5lY3Rpb24ocmVhc29uKSAmJlxuICAgICghaXNVcGdyYWRlRGlzY29ubmVjdGlvbihwcmlvclJldHJ5VmFsdWUpIHx8XG4gICAgICByZWFzb24uaW5jYXJuYXRpb25OdW1iZXIgPiBwcmlvclJldHJ5VmFsdWUuaW5jYXJuYXRpb25OdW1iZXIpXG4gICkge1xuICAgIHJldHVybiByZWFzb247XG4gIH1cbiAgLy9cbiAgLy9cbiAgaWYgKGlzQWJhbmRvbmVkRXJyb3IocmVhc29uKSAmJiAhaXNBYmFuZG9uZWRFcnJvcihwcmlvclJldHJ5VmFsdWUpKSB7XG4gICAgcmV0dXJuIHJlYXNvbjtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuICAgICAgIGNvbnN0IGRlZmF1bHRQb3dlcnMgPSBoYXJkZW4oe1xuICBpc1JldHJ5YWJsZVJlYXNvbixcbn0pO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmRlZmF1bHRQb3dlcnMoZGVmYXVsdFBvd2Vycyk7XG4gICAgICAgY29uc3QgcHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMgPSAoem9uZSwgcG93ZXJzID0ge30pID0+XG4gIHByZXBhcmVCYXNpY1Zvd1Rvb2xzKHpvbmUsIHsgLi4uZGVmYXVsdFBvd2VycywgLi4ucG93ZXJzIH0pOyRozY9fb25jZS5wcmVwYXJlU3dpbmdzZXRWb3dUb29scyhwcmVwYXJlU3dpbmdzZXRWb3dUb29scyk7XG5oYXJkZW4ocHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMpO1xuXG4vKlxuXG5cbiAqL1xuXG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaGVhcFZvd1Rvb2xzID0gcHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMobWFrZUhlYXBab25lKCkpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5oZWFwVm93VG9vbHMoaGVhcFZvd1Rvb2xzKTtcbiAgICAgICBjb25zdCBoZWFwVm93RSA9IG1ha2VFKGdsb2JhbFRoaXMuSGFuZGxlZFByb21pc2UsIHtcbiAgdW53cmFwOiBoZWFwVm93VG9vbHMud2hlbixcbiAgYWRkaXRpb25hbDogeyB3aGVuOiBoZWFwVm93VG9vbHMud2hlbiB9LFxufSk7JGjNj19vbmNlLmhlYXBWb3dFKGhlYXBWb3dFKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHRQb3dlcnMiOlsiZGVmYXVsdFBvd2VycyJdLCJwcmVwYXJlU3dpbmdzZXRWb3dUb29scyI6WyJwcmVwYXJlU3dpbmdzZXRWb3dUb29scyJdLCJwcmVwYXJlVm93VG9vbHMiOlsicHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMiXSwiaGVhcFZvd1Rvb2xzIjpbImhlYXBWb3dUb29scyJdLCJoZWFwVm93RSI6WyJoZWFwVm93RSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAALAOvTYwYAAGMGAAA0AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RGYWNldC9vZmZlclNhZmV0eS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2VydHAiXSwiZXhwb3J0cyI6WyJpc09mZmVyU2FmZSIsInNhdGlzZmllc1dhbnQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRNYXRoOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlzT2ZmZXJTYWZlLCduYW1lJyx7dmFsdWU6XCJpc09mZmVyU2FmZVwifSk7JGjNj19vbmNlLmlzT2ZmZXJTYWZlKGlzT2ZmZXJTYWZlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNhdGlzZmllc0ludGVybmFsID0gKGdpdmVPcldhbnQgPSB7fSwgYWxsb2NhdGlvbikgPT4ge1xuICBjb25zdCBpc0dURUJ5S2V5d29yZCA9IChba2V5d29yZCwgcmVxdWlyZWRBbW91bnRdKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGlmIChhbGxvY2F0aW9uW2tleXdvcmRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBhbGxvY2F0aW9uQW1vdW50ID0gYWxsb2NhdGlvbltrZXl3b3JkXTtcbiAgICByZXR1cm4gQW1vdW50TWF0aC5pc0dURShhbGxvY2F0aW9uQW1vdW50LCByZXF1aXJlZEFtb3VudCkgPyAxIDogMDtcbiAgfTtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGdpdmVPcldhbnQpLmV2ZXJ5KGlzR1RFQnlLZXl3b3JkKSA/IDEgOiAwO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgc2F0aXNmaWVzV2FudCA9IChwcm9wb3NhbCwgYWxsb2NhdGlvbikgPT5cbiAgc2F0aXNmaWVzSW50ZXJuYWwocHJvcG9zYWwud2FudCwgYWxsb2NhdGlvbik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5zYXRpc2ZpZXNXYW50KHNhdGlzZmllc1dhbnQpO1xuY29uc3Qgc2F0aXNmaWVzR2l2ZSA9IChwcm9wb3NhbCwgYWxsb2NhdGlvbikgPT5cbiAgc2F0aXNmaWVzSW50ZXJuYWwocHJvcG9zYWwuZ2l2ZSwgYWxsb2NhdGlvbik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmZ1bmN0aW9uIGlzT2ZmZXJTYWZlKHByb3Bvc2FsLCBhbGxvY2F0aW9uKSB7XG4gIHJldHVybiAoXG4gICAgc2F0aXNmaWVzR2l2ZShwcm9wb3NhbCwgYWxsb2NhdGlvbikgPiAwIHx8XG4gICAgc2F0aXNmaWVzV2FudChwcm9wb3NhbCwgYWxsb2NhdGlvbikgPiAwXG4gICk7XG59XG5cbmhhcmRlbihpc09mZmVyU2FmZSk7XG5oYXJkZW4oc2F0aXNmaWVzV2FudCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzYXRpc2ZpZXNXYW50IjpbInNhdGlzZmllc1dhbnQiXSwiaXNPZmZlclNhZmUiOlsiaXNPZmZlclNhZmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAANKZakIsHAACLBwAAOQAAAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9hdG9taWNUcmFuc2Zlci5qc3siaW1wb3J0cyI6WyJAYWdvcmljL3N0b3JlIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbIlRyYW5zZmVyUGFydFNoYXBlIiwiYXRvbWljUmVhcnJhbmdlIiwiYXRvbWljVHJhbnNmZXIiLCJmcm9tT25seSIsInRvT25seSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE0sQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFNlYXRTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvc3RvcmVcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiQW1vdW50S2V5d29yZFJlY29yZFNoYXBlXCIsWyRozY9fYSA9PiAoQW1vdW50S2V5d29yZFJlY29yZFNoYXBlID0gJGjNj19hKV1dLFtcIlNlYXRTaGFwZVwiLFskaM2PX2EgPT4gKFNlYXRTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuLypcblxuICovXG5cbiAgICAgICBjb25zdCBUcmFuc2ZlclBhcnRTaGFwZSA9IE0uc3BsaXRBcnJheShcbiAgaGFyZGVuKFtNLm9wdChTZWF0U2hhcGUpLCBNLm9wdChTZWF0U2hhcGUpLCBNLm9wdChBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUpXSksXG4gIGhhcmRlbihbTS5vcHQoQW1vdW50S2V5d29yZFJlY29yZFNoYXBlKV0pLFxuKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLlRyYW5zZmVyUGFydFNoYXBlKFRyYW5zZmVyUGFydFNoYXBlKTtcbiAgICAgICBjb25zdCBhdG9taWNSZWFycmFuZ2UgPSAoemNmLCB0cmFuc2ZlcnMpID0+IHtcbiAgemNmLmF0b21pY1JlYXJyYW5nZSh0cmFuc2ZlcnMpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmF0b21pY1JlYXJyYW5nZShhdG9taWNSZWFycmFuZ2UpO1xuICAgICAgIGNvbnN0IGZyb21Pbmx5ID0gKGZyb21TZWF0LCBmcm9tQW1vdW50cykgPT5cbiAgaGFyZGVuKFtmcm9tU2VhdCwgdW5kZWZpbmVkLCBmcm9tQW1vdW50c10pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZnJvbU9ubHkoZnJvbU9ubHkpO1xuICAgICAgIGNvbnN0IHRvT25seSA9ICh0b1NlYXQsIHRvQW1vdW50cykgPT5cbiAgaGFyZGVuKFt1bmRlZmluZWQsIHRvU2VhdCwgdW5kZWZpbmVkLCB0b0Ftb3VudHNdKTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLnRvT25seSh0b09ubHkpO1xuICAgICAgIGNvbnN0IGF0b21pY1RyYW5zZmVyID0gKFxuICB6Y2YsXG4gIGZyb21TZWF0ID0gdW5kZWZpbmVkLFxuICB0b1NlYXQgPSB1bmRlZmluZWQsXG4gIGZyb21BbW91bnRzID0gdW5kZWZpbmVkLFxuICB0b0Ftb3VudHMgPSB1bmRlZmluZWQsXG4pID0+IHpjZi5hdG9taWNSZWFycmFuZ2UoaGFyZGVuKFtbZnJvbVNlYXQsIHRvU2VhdCwgZnJvbUFtb3VudHMsIHRvQW1vdW50c11dKSk7JGjNj19vbmNlLmF0b21pY1RyYW5zZmVyKGF0b21pY1RyYW5zZmVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRyYW5zZmVyUGFydFNoYXBlIjpbIlRyYW5zZmVyUGFydFNoYXBlIl0sImF0b21pY1JlYXJyYW5nZSI6WyJhdG9taWNSZWFycmFuZ2UiXSwiZnJvbU9ubHkiOlsiZnJvbU9ubHkiXSwidG9Pbmx5IjpbInRvT25seSJdLCJhdG9taWNUcmFuc2ZlciI6WyJhdG9taWNUcmFuc2ZlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACCIxKS5hAAAOYQAAA4AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2JvbmRpbmdDdXJ2ZXMuanN7ImltcG9ydHMiOlsiQGVuZG8vbmF0IiwiQGVuZG8vZXJyb3JzIiwiQGFnb3JpYy9lcnRwL3NyYy9zYWZlTWF0aC5qcyJdLCJleHBvcnRzIjpbImNhbGNMaXFWYWx1ZVRvTWludCIsImNhbGNTZWNvbmRhcnlSZXF1aXJlZCIsImNhbGNWYWx1ZVRvUmVtb3ZlIiwiZ2V0SW5wdXRQcmljZSIsImdldE91dHB1dFByaWNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTmF0LEZhaWwsbmF0U2FmZU1hdGg7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9uYXRcIiwgW1tcIk5hdFwiLFskaM2PX2EgPT4gKE5hdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2VydHAvc3JjL3NhZmVNYXRoLmpzXCIsIFtbXCJuYXRTYWZlTWF0aFwiLFskaM2PX2EgPT4gKG5hdFNhZmVNYXRoID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5jb25zdCB7IHN1YnRyYWN0LCBhZGQsIG11bHRpcGx5LCBmbG9vckRpdmlkZSB9ID0gbmF0U2FmZU1hdGg7XG5cbmNvbnN0IEJBU0lTX1BPSU5UUyA9IDEwMDAwbjsgLy9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRJbnB1dFByaWNlID0gKFxuICBpbnB1dFZhbHVlLFxuICBpbnB1dFJlc2VydmUsXG4gIG91dHB1dFJlc2VydmUsXG4gIGZlZUJhc2lzUG9pbnRzID0gMzBuLFxuKSA9PiB7XG4gIGlucHV0VmFsdWUgPSBOYXQoaW5wdXRWYWx1ZSk7XG4gIGlucHV0UmVzZXJ2ZSA9IE5hdChpbnB1dFJlc2VydmUpO1xuICBvdXRwdXRSZXNlcnZlID0gTmF0KG91dHB1dFJlc2VydmUpO1xuICBpbnB1dFZhbHVlID4gMG4gfHwgRmFpbGBpbnB1dFZhbHVlICR7aW5wdXRWYWx1ZX0gbXVzdCBiZSBwb3NpdGl2ZWA7XG4gIGlucHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgaW5wdXRSZXNlcnZlICR7aW5wdXRSZXNlcnZlfSBtdXN0IGJlIHBvc2l0aXZlYDtcbiAgb3V0cHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgb3V0cHV0UmVzZXJ2ZSAke291dHB1dFJlc2VydmV9IG11c3QgYmUgcG9zaXRpdmVgO1xuXG4gIGNvbnN0IG9uZU1pbnVzRmVlU2NhbGVkID0gc3VidHJhY3QoQkFTSVNfUE9JTlRTLCBmZWVCYXNpc1BvaW50cyk7XG4gIGNvbnN0IGlucHV0V2l0aEZlZSA9IG11bHRpcGx5KGlucHV0VmFsdWUsIG9uZU1pbnVzRmVlU2NhbGVkKTtcbiAgY29uc3QgbnVtZXJhdG9yID0gbXVsdGlwbHkoaW5wdXRXaXRoRmVlLCBvdXRwdXRSZXNlcnZlKTtcbiAgY29uc3QgZGVub21pbmF0b3IgPSBhZGQobXVsdGlwbHkoaW5wdXRSZXNlcnZlLCBCQVNJU19QT0lOVFMpLCBpbnB1dFdpdGhGZWUpO1xuICByZXR1cm4gZmxvb3JEaXZpZGUobnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5nZXRJbnB1dFByaWNlKGdldElucHV0UHJpY2UpO1xuICAgICAgIGNvbnN0IGdldE91dHB1dFByaWNlID0gKFxuICBvdXRwdXRWYWx1ZSxcbiAgaW5wdXRSZXNlcnZlLFxuICBvdXRwdXRSZXNlcnZlLFxuICBmZWVCYXNpc1BvaW50cyA9IDMwbixcbikgPT4ge1xuICBvdXRwdXRWYWx1ZSA9IE5hdChvdXRwdXRWYWx1ZSk7XG4gIGlucHV0UmVzZXJ2ZSA9IE5hdChpbnB1dFJlc2VydmUpO1xuICBvdXRwdXRSZXNlcnZlID0gTmF0KG91dHB1dFJlc2VydmUpO1xuXG4gIGlucHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgaW5wdXRSZXNlcnZlICR7aW5wdXRSZXNlcnZlfSBtdXN0IGJlIHBvc2l0aXZlYDtcbiAgb3V0cHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgb3V0cHV0UmVzZXJ2ZSAke291dHB1dFJlc2VydmV9IG11c3QgYmUgcG9zaXRpdmVgO1xuICBvdXRwdXRSZXNlcnZlID4gb3V0cHV0VmFsdWUgfHxcbiAgICBGYWlsYG91dHB1dFJlc2VydmUgJHtvdXRwdXRSZXNlcnZlfSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvdXRwdXRWYWx1ZSAke291dHB1dFZhbHVlfWA7XG5cbiAgY29uc3Qgb25lTWludXNGZWVTY2FsZWQgPSBzdWJ0cmFjdChCQVNJU19QT0lOVFMsIGZlZUJhc2lzUG9pbnRzKTtcbiAgY29uc3QgbnVtZXJhdG9yID0gbXVsdGlwbHkobXVsdGlwbHkob3V0cHV0VmFsdWUsIGlucHV0UmVzZXJ2ZSksIEJBU0lTX1BPSU5UUyk7XG4gIGNvbnN0IGRlbm9taW5hdG9yID0gbXVsdGlwbHkoXG4gICAgc3VidHJhY3Qob3V0cHV0UmVzZXJ2ZSwgb3V0cHV0VmFsdWUpLFxuICAgIG9uZU1pbnVzRmVlU2NhbGVkLFxuICApO1xuICByZXR1cm4gYWRkKGZsb29yRGl2aWRlKG51bWVyYXRvciwgZGVub21pbmF0b3IpLCAxbik7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZ2V0T3V0cHV0UHJpY2UoZ2V0T3V0cHV0UHJpY2UpO1xuICAgICAgIGNvbnN0IGNhbGNMaXFWYWx1ZVRvTWludCA9IChcbiAgbGlxVG9rZW5TdXBwbHksXG4gIGlucHV0VmFsdWUsXG4gIGlucHV0UmVzZXJ2ZSxcbikgPT4ge1xuICBsaXFUb2tlblN1cHBseSA9IE5hdChsaXFUb2tlblN1cHBseSk7XG4gIGlucHV0VmFsdWUgPSBOYXQoaW5wdXRWYWx1ZSk7XG4gIGlucHV0UmVzZXJ2ZSA9IE5hdChpbnB1dFJlc2VydmUpO1xuXG4gIGlmIChsaXFUb2tlblN1cHBseSA9PT0gMG4pIHtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgfVxuICByZXR1cm4gZmxvb3JEaXZpZGUobXVsdGlwbHkoaW5wdXRWYWx1ZSwgbGlxVG9rZW5TdXBwbHkpLCBpbnB1dFJlc2VydmUpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmNhbGNMaXFWYWx1ZVRvTWludChjYWxjTGlxVmFsdWVUb01pbnQpO1xuICAgICAgIGNvbnN0IGNhbGNTZWNvbmRhcnlSZXF1aXJlZCA9IChcbiAgY2VudHJhbEluLFxuICBjZW50cmFsUG9vbCxcbiAgc2Vjb25kYXJ5UG9vbCxcbiAgc2Vjb25kYXJ5SW4sXG4pID0+IHtcbiAgY2VudHJhbEluID0gTmF0KGNlbnRyYWxJbik7XG4gIGNlbnRyYWxQb29sID0gTmF0KGNlbnRyYWxQb29sKTtcbiAgc2Vjb25kYXJ5UG9vbCA9IE5hdChzZWNvbmRhcnlQb29sKTtcbiAgc2Vjb25kYXJ5SW4gPSBOYXQoc2Vjb25kYXJ5SW4pO1xuXG4gIGlmIChjZW50cmFsUG9vbCA9PT0gMG4gfHwgc2Vjb25kYXJ5UG9vbCA9PT0gMG4pIHtcbiAgICByZXR1cm4gc2Vjb25kYXJ5SW47XG4gIH1cblxuICBjb25zdCBzY2FsZWRTZWNvbmRhcnkgPSBmbG9vckRpdmlkZShcbiAgICBtdWx0aXBseShjZW50cmFsSW4sIHNlY29uZGFyeVBvb2wpLFxuICAgIGNlbnRyYWxQb29sLFxuICApO1xuICBjb25zdCBleGFjdCA9XG4gICAgbXVsdGlwbHkoY2VudHJhbEluLCBzZWNvbmRhcnlQb29sKSA9PT1cbiAgICBtdWx0aXBseShzY2FsZWRTZWNvbmRhcnksIGNlbnRyYWxQb29sKTtcblxuICAvL1xuICAvL1xuICByZXR1cm4gZXhhY3QgPyBzY2FsZWRTZWNvbmRhcnkgOiAxbiArIHNjYWxlZFNlY29uZGFyeTtcbn07XG5cbi8vXG4vL1xuJGjNj19vbmNlLmNhbGNTZWNvbmRhcnlSZXF1aXJlZChjYWxjU2Vjb25kYXJ5UmVxdWlyZWQpO2NvbnN0IGNhbGNWYWx1ZVRvUmVtb3ZlPShcbiAgbGlxVG9rZW5TdXBwbHksXG4gIHBvb2xWYWx1ZSxcbiAgbGlxdWlkaXR5VmFsdWVJbixcbikgPT4ge1xuICBsaXFUb2tlblN1cHBseSA9IE5hdChsaXFUb2tlblN1cHBseSk7XG4gIGxpcXVpZGl0eVZhbHVlSW4gPSBOYXQobGlxdWlkaXR5VmFsdWVJbik7XG4gIHBvb2xWYWx1ZSA9IE5hdChwb29sVmFsdWUpO1xuXG4gIHJldHVybiBmbG9vckRpdmlkZShtdWx0aXBseShsaXF1aWRpdHlWYWx1ZUluLCBwb29sVmFsdWUpLCBsaXFUb2tlblN1cHBseSk7XG59OyRozY9fb25jZS5jYWxjVmFsdWVUb1JlbW92ZShjYWxjVmFsdWVUb1JlbW92ZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJnZXRJbnB1dFByaWNlIjpbImdldElucHV0UHJpY2UiXSwiZ2V0T3V0cHV0UHJpY2UiOlsiZ2V0T3V0cHV0UHJpY2UiXSwiY2FsY0xpcVZhbHVlVG9NaW50IjpbImNhbGNMaXFWYWx1ZVRvTWludCJdLCJjYWxjU2Vjb25kYXJ5UmVxdWlyZWQiOlsiY2FsY1NlY29uZGFyeVJlcXVpcmVkIl0sImNhbGNWYWx1ZVRvUmVtb3ZlIjpbImNhbGNWYWx1ZVRvUmVtb3ZlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHUs6K6lCgAApQoAADUAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvZHVyYWJpbGl0eS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2ludGVybmFsIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiXSwiZXhwb3J0cyI6WyJtYWtlRXBoZW1lcmFQcm92aWRlciIsInByb3ZpZGVBbGwiLCJwcm92aWRlRW1wdHlTZWF0IiwicHJvdmlkZVNpbmdsZXRvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFsbFZhbHVlcyxvYmplY3RNYXAscHJvdmlkZSxFOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wiYWxsVmFsdWVzXCIsWyRozY9fYSA9PiAoYWxsVmFsdWVzID0gJGjNj19hKV1dLFtcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcInByb3ZpZGVcIixbJGjNj19hID0+IChwcm92aWRlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFcGhlbWVyYVByb3ZpZGVyID0gaW5pdCA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgZXh0YW50ID0gbmV3IFdlYWtNYXAoKTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgcmV0dXJuIGtleSA9PiB7XG4gICAgaWYgKGV4dGFudC5oYXMoa2V5KSkge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBleHRhbnQuZ2V0KGtleSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld0VwaCA9IGluaXQoa2V5KTtcbiAgICBleHRhbnQuc2V0KGtleSwgbmV3RXBoKTtcbiAgICByZXR1cm4gbmV3RXBoO1xuICB9O1xufTskaM2PX29uY2UubWFrZUVwaGVtZXJhUHJvdmlkZXIobWFrZUVwaGVtZXJhUHJvdmlkZXIpO1xuaGFyZGVuKG1ha2VFcGhlbWVyYVByb3ZpZGVyKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByb3ZpZGVFbXB0eVNlYXQgPSAoemNmLCBiYWdnYWdlLCBuYW1lKSA9PiB7XG4gIHJldHVybiBwcm92aWRlKGJhZ2dhZ2UsIG5hbWUsICgpID0+IHpjZi5tYWtlRW1wdHlTZWF0S2l0KCkuemNmU2VhdCk7XG59OyRozY9fb25jZS5wcm92aWRlRW1wdHlTZWF0KHByb3ZpZGVFbXB0eVNlYXQpO1xuaGFyZGVuKHByb3ZpZGVFbXB0eVNlYXQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcm92aWRlQWxsID0gKGJhZ2dhZ2UsIHRodW5rcykgPT4ge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGh1bmtzKTtcbiAgLy9cbiAgY29uc3QgaW5CYWdnYWdlID0gYmFnZ2FnZS5oYXMoa2V5c1swXSk7XG4gIGlmIChpbkJhZ2dhZ2UpIHtcbiAgICBjb25zdCBvYmogPSBvYmplY3RNYXAoXG4gICAgICB0aHVua3MsXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgKF8sIGspID0+IGJhZ2dhZ2UuZ2V0KGspLFxuICAgICk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYXJkZW4ob2JqKSk7XG4gIH1cblxuICBjb25zdCBrZXllZFByb21pc2VzID0gb2JqZWN0TWFwKHRodW5rcywgZm4gPT4gZm4oKSk7XG5cbiAgcmV0dXJuIGFsbFZhbHVlcyhrZXllZFByb21pc2VzKS50aGVuKGtleWVkVmFscyA9PiB7XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoa2V5ZWRWYWxzKSkge1xuICAgICAgYmFnZ2FnZS5pbml0KGssIHYpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ZWRWYWxzO1xuICB9KTtcbn07JGjNj19vbmNlLnByb3ZpZGVBbGwocHJvdmlkZUFsbCk7XG5oYXJkZW4ocHJvdmlkZUFsbCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJvdmlkZVNpbmdsZXRvbiA9IChtYXBTdG9yZSwga2V5LCBtYWtlVmFsdWUsIHdpdGhWYWx1ZSkgPT4ge1xuICBjb25zdCBzdG9yZWQgPSBtYXBTdG9yZS5oYXMoa2V5KVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBFLndoZW4obWFrZVZhbHVlKCksIHYgPT4gbWFwU3RvcmUuaW5pdChrZXksIGhhcmRlbih2KSkpO1xuXG4gIHJldHVybiBFLndoZW4oc3RvcmVkLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBtYXBTdG9yZS5nZXQoa2V5KTtcbiAgICBpZiAod2l0aFZhbHVlKSB7XG4gICAgICB3aXRoVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xufTskaM2PX29uY2UucHJvdmlkZVNpbmdsZXRvbihwcm92aWRlU2luZ2xldG9uKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VFcGhlbWVyYVByb3ZpZGVyIjpbIm1ha2VFcGhlbWVyYVByb3ZpZGVyIl0sInByb3ZpZGVFbXB0eVNlYXQiOlsicHJvdmlkZUVtcHR5U2VhdCJdLCJwcm92aWRlQWxsIjpbInByb3ZpZGVBbGwiXSwicHJvdmlkZVNpbmdsZXRvbiI6WyJwcm92aWRlU2luZ2xldG9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAB/z7dJ8CAAAfAgAADAAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvaW5kZXguanN7ImltcG9ydHMiOlsiLi9ib25kaW5nQ3VydmVzLmpzIiwiQGFnb3JpYy9lcnRwL3NyYy9zYWZlTWF0aC5qcyIsIi4vc3RhdGVNYWNoaW5lLmpzIiwiLi9hdG9taWNUcmFuc2Zlci5qcyIsIi4vem9lSGVscGVycy5qcyIsIkBhZ29yaWMvZXJ0cC9zcmMvcmF0aW8uanMiLCIuL2R1cmFiaWxpdHkuanMiLCIuL3ByZXBhcmUtb3duYWJsZS5qcyIsIi4vcHJpY2VBdXRob3JpdHkuanMiLCIuL3ByaWNlUXVvdGUuanMiLCIuL3N0YXRpc3RpY3MuanMiLCIuL3JlY29yZGVyLmpzIiwiLi90b3BpY3MuanMiXSwiZXhwb3J0cyI6WyJhdG9taWNUcmFuc2ZlciIsImF0b21pY1RyYW5zZmVyIiwiZ2V0T3V0cHV0UHJpY2UiLCJnZXRPdXRwdXRQcmljZSIsInN3YXAiLCJzd2FwIixudWxsLG51bGxdLCJyZWV4cG9ydHMiOlsiLi9kdXJhYmlsaXR5LmpzIiwiLi9wcmVwYXJlLW93bmFibGUuanMiLCIuL3ByaWNlQXV0aG9yaXR5LmpzIiwiLi9wcmljZVF1b3RlLmpzIiwiLi9yZWNvcmRlci5qcyIsIi4vc3RhdGlzdGljcy5qcyIsIi4vdG9waWNzLmpzIiwiQGFnb3JpYy9lcnRwL3NyYy9yYXRpby5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL2JvbmRpbmdDdXJ2ZXMuanNcIiwgW11dLFtcIkBhZ29yaWMvZXJ0cC9zcmMvc2FmZU1hdGguanNcIiwgW11dLFtcIi4vc3RhdGVNYWNoaW5lLmpzXCIsIFtdXSxbXCIuL2F0b21pY1RyYW5zZmVyLmpzXCIsIFtdXSxbXCIuL3pvZUhlbHBlcnMuanNcIiwgW11dLFtcIkBhZ29yaWMvZXJ0cC9zcmMvcmF0aW8uanNcIiwgW11dLFtcIi4vZHVyYWJpbGl0eS5qc1wiLCBbXV0sW1wiLi9wcmVwYXJlLW93bmFibGUuanNcIiwgW11dLFtcIi4vcHJpY2VBdXRob3JpdHkuanNcIiwgW11dLFtcIi4vcHJpY2VRdW90ZS5qc1wiLCBbXV0sW1wiLi9zdGF0aXN0aWNzLmpzXCIsIFtdXSxbXCIuL3JlY29yZGVyLmpzXCIsIFtdXSxbXCIuL3RvcGljcy5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vYm9uZGluZ0N1cnZlcy5qcyI6W1siZ2V0SW5wdXRQcmljZSIsImdldElucHV0UHJpY2UiXSxbImdldE91dHB1dFByaWNlIiwiZ2V0T3V0cHV0UHJpY2UiXSxbImNhbGNMaXFWYWx1ZVRvTWludCIsImNhbGNMaXFWYWx1ZVRvTWludCJdLFsiY2FsY1ZhbHVlVG9SZW1vdmUiLCJjYWxjVmFsdWVUb1JlbW92ZSJdLFsiY2FsY1NlY29uZGFyeVJlcXVpcmVkIiwiY2FsY1NlY29uZGFyeVJlcXVpcmVkIl1dLCJAYWdvcmljL2VydHAvc3JjL3NhZmVNYXRoLmpzIjpbWyJuYXRTYWZlTWF0aCIsIm5hdFNhZmVNYXRoIl1dLCIuL3N0YXRlTWFjaGluZS5qcyI6W1sibWFrZVN0YXRlTWFjaGluZSIsIm1ha2VTdGF0ZU1hY2hpbmUiXV0sIi4vYXRvbWljVHJhbnNmZXIuanMiOltbImF0b21pY1JlYXJyYW5nZSIsImF0b21pY1JlYXJyYW5nZSJdLFsiYXRvbWljVHJhbnNmZXIiLCJhdG9taWNUcmFuc2ZlciJdLFsiZnJvbU9ubHkiLCJmcm9tT25seSJdLFsidG9Pbmx5IiwidG9Pbmx5Il1dLCIuL3pvZUhlbHBlcnMuanMiOltbImRlZmF1bHRBY2NlcHRhbmNlTXNnIiwiZGVmYXVsdEFjY2VwdGFuY2VNc2ciXSxbInN3YXAiLCJzd2FwIl0sWyJmaXRQcm9wb3NhbFNoYXBlIiwiZml0UHJvcG9zYWxTaGFwZSJdLFsiYXNzZXJ0UHJvcG9zYWxTaGFwZSIsImFzc2VydFByb3Bvc2FsU2hhcGUiXSxbImFzc2VydElzc3VlcktleXdvcmRzIiwiYXNzZXJ0SXNzdWVyS2V5d29yZHMiXSxbInNhdGlzZmllcyIsInNhdGlzZmllcyJdLFsiYXNzZXJ0TmF0QXNzZXRLaW5kIiwiYXNzZXJ0TmF0QXNzZXRLaW5kIl0sWyJzd2FwRXhhY3QiLCJzd2FwRXhhY3QiXSxbImRlcG9zaXRUb1NlYXQiLCJkZXBvc2l0VG9TZWF0Il0sWyJ3aXRoZHJhd0Zyb21TZWF0Iiwid2l0aGRyYXdGcm9tU2VhdCJdLFsic2F2ZUFsbElzc3VlcnMiLCJzYXZlQWxsSXNzdWVycyJdLFsib2ZmZXJUbyIsIm9mZmVyVG8iXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEeE1QiuCQAArgkAADoAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvcHJlcGFyZS1vd25hYmxlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy9iYXNlLXpvbmUvem9uZS1oZWxwZXJzLmpzIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVPd25hYmxlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTSxwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQsT2ZmZXJIYW5kbGVySTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lL3pvbmUtaGVscGVycy5qc1wiLCBbW1wicHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0XCIsWyRozY9fYSA9PiAocHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0ID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiT2ZmZXJIYW5kbGVySVwiLFskaM2PX2EgPT4gKE9mZmVySGFuZGxlckkgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuY29uc3QgVHJhbnNmZXJQcm9wb3NhbFNoYXBlID0gTS5zcGxpdFJlY29yZCh7XG4gIGdpdmU6IHt9LFxuICB3YW50OiB7fSxcbiAgZXhpdDoge1xuICAgIG9uRGVtYW5kOiBudWxsLFxuICB9LFxufSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZU93bmFibGUgPSAoXG4gIHpvbmUsXG4gIG1ha2VJbnZpdGF0aW9uLFxuICB1S2luZE5hbWUsXG4gIHVNZXRob2ROYW1lcyxcbiAgb3B0aW9ucyA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IHsgdUludGVyZmFjZU5hbWUgPSB1S2luZE5hbWUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgcmV2b2tlLCBtYWtlUmV2b2NhYmxlIH0gPSBwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQoXG4gICAgem9uZSxcbiAgICB1S2luZE5hbWUsXG4gICAgdU1ldGhvZE5hbWVzLFxuICAgIHtcbiAgICAgIHVJbnRlcmZhY2VOYW1lLFxuICAgICAgZXh0cmFNZXRob2RHdWFyZHM6IHtcbiAgICAgICAgbWFrZVRyYW5zZmVySW52aXRhdGlvbjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB9LFxuICAgICAgZXh0cmFNZXRob2RzOiB7XG4gICAgICAgIG1ha2VUcmFuc2Zlckludml0YXRpb24oKSB7XG4gICAgICAgICAgY29uc3QgeyB1bmRlcmx5aW5nIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGNvbnN0IHsgcmV2b2NhYmxlIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCBjdXN0b21EZXRhaWxzID0gdW5kZXJseWluZy5nZXRJbnZpdGF0aW9uQ3VzdG9tRGV0YWlscygpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZmVySGFuZGxlciA9IG1ha2VUcmFuc2ZlckhhbmRsZXIodW5kZXJseWluZyk7XG5cbiAgICAgICAgICBjb25zdCBpbnZpdGF0aW9uID0gbWFrZUludml0YXRpb24oXG4gICAgICAgICAgICB0cmFuc2ZlckhhbmRsZXIsXG4gICAgICAgICAgICAndHJhbnNmZXInLFxuICAgICAgICAgICAgY3VzdG9tRGV0YWlscyxcbiAgICAgICAgICAgIFRyYW5zZmVyUHJvcG9zYWxTaGFwZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldm9rZShyZXZvY2FibGUpO1xuICAgICAgICAgIHJldHVybiBpbnZpdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VUcmFuc2ZlckhhbmRsZXIgPSB6b25lLmV4b0NsYXNzKFxuICAgICdUcmFuc2ZlckhhbmRsZXInLFxuICAgIE9mZmVySGFuZGxlckksXG4gICAgdW5kZXJseWluZyA9PiAoe1xuICAgICAgdW5kZXJseWluZyxcbiAgICB9KSxcbiAgICB7XG4gICAgICBoYW5kbGUoc2VhdCkge1xuICAgICAgICBjb25zdCB7IHVuZGVybHlpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHJldm9jYWJsZSA9IG1ha2VSZXZvY2FibGUodW5kZXJseWluZyk7XG4gICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICByZXR1cm4gcmV2b2NhYmxlO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VPd25hYmxlID0gdW5kZXJseWluZyA9PiBtYWtlUmV2b2NhYmxlKHVuZGVybHlpbmcpO1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICByZXR1cm4gaGFyZGVuKG1ha2VPd25hYmxlKTtcbn07JGjNj19vbmNlLnByZXBhcmVPd25hYmxlKHByZXBhcmVPd25hYmxlKTtcbmhhcmRlbihwcmVwYXJlT3duYWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlT3duYWJsZSI6WyJwcmVwYXJlT3duYWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADlJxlI+isAAPorAAA5AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlQXV0aG9yaXR5LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcHJvbWlzZS1raXQiLCJAYWdvcmljL2VydHAiLCJAYWdvcmljL25vdGlmaWVyIiwiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvdGltZSIsIkBhZ29yaWMvc3RvcmUiXSwiZXhwb3J0cyI6WyJQcmljZUF1dGhvcml0eUkiLCJtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxLEZhaWwsRSxGYXIsbWFrZVByb21pc2VLaXQsQW1vdW50TWF0aCxBbW91bnRTaGFwZSxCcmFuZFNoYXBlLG1ha2VOb3RpZmllcixtYWtlVHJhY2VyLFRpbWVzdGFtcFNoYXBlLE07JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wibWFrZVByb21pc2VLaXRcIixbJGjNj19hID0+IChtYWtlUHJvbWlzZUtpdCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvZXJ0cFwiLCBbW1wiQW1vdW50TWF0aFwiLFskaM2PX2EgPT4gKEFtb3VudE1hdGggPSAkaM2PX2EpXV0sW1wiQW1vdW50U2hhcGVcIixbJGjNj19hID0+IChBbW91bnRTaGFwZSA9ICRozY9fYSldXSxbXCJCcmFuZFNoYXBlXCIsWyRozY9fYSA9PiAoQnJhbmRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXJcIiwgW1tcIm1ha2VOb3RpZmllclwiLFskaM2PX2EgPT4gKG1ha2VOb3RpZmllciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy90aW1lXCIsIFtbXCJUaW1lc3RhbXBTaGFwZVwiLFskaM2PX2EgPT4gKFRpbWVzdGFtcFNoYXBlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdQQScsIGZhbHNlKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzTFQgPSAoYW1vdW50LCBhbW91bnRMaW1pdCkgPT4gIUFtb3VudE1hdGguaXNHVEUoYW1vdW50LCBhbW91bnRMaW1pdCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzTFRFID0gKGFtb3VudCwgYW1vdW50TGltaXQpID0+IEFtb3VudE1hdGguaXNHVEUoYW1vdW50TGltaXQsIGFtb3VudCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzR1RFID0gKGFtb3VudCwgYW1vdW50TGltaXQpID0+IEFtb3VudE1hdGguaXNHVEUoYW1vdW50LCBhbW91bnRMaW1pdCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzR1QgPSAoYW1vdW50LCBhbW91bnRMaW1pdCkgPT4gIUFtb3VudE1hdGguaXNHVEUoYW1vdW50TGltaXQsIGFtb3VudCk7XG5cbi8qXG5cblxuXG4gKi9cblxuY29uc3QgR3VhcmRDYWxsQW1vdW50VHVwbGUgPSBNLmNhbGwoQW1vdW50U2hhcGUsIEFtb3VudFNoYXBlKS5yZXR1cm5zKFxuICBNLnByb21pc2UoKSxcbik7XG4gICAgICAgY29uc3QgUHJpY2VBdXRob3JpdHlJID0gTS5pbnRlcmZhY2UoJ1ByaWNlQXV0aG9yaXR5Jywge1xuICBnZXRRdW90ZUlzc3VlcjogTS5jYWxsKEJyYW5kU2hhcGUsIEJyYW5kU2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBnZXRUaW1lclNlcnZpY2U6IE0uY2FsbChCcmFuZFNoYXBlLCBCcmFuZFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgcXVvdGVHaXZlbjogTS5jYWxsKEFtb3VudFNoYXBlLCBCcmFuZFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgcXVvdGVXYW50ZWQ6IE0uY2FsbChCcmFuZFNoYXBlLCBBbW91bnRTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIG1ha2VRdW90ZU5vdGlmaWVyOiBNLmNhbGwoQW1vdW50U2hhcGUsIEJyYW5kU2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBxdW90ZUF0VGltZTogTS5jYWxsKFRpbWVzdGFtcFNoYXBlLCBBbW91bnRTaGFwZSwgQnJhbmRTaGFwZSkucmV0dXJucyhcbiAgICBNLnByb21pc2UoKSxcbiAgKSxcbiAgcXVvdGVXaGVuTFQ6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBxdW90ZVdoZW5MVEU6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBxdW90ZVdoZW5HVEU6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBxdW90ZVdoZW5HVDogR3VhcmRDYWxsQW1vdW50VHVwbGUsXG4gIG11dGFibGVRdW90ZVdoZW5MVDogR3VhcmRDYWxsQW1vdW50VHVwbGUsXG4gIG11dGFibGVRdW90ZVdoZW5MVEU6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBtdXRhYmxlUXVvdGVXaGVuR1RFOiBHdWFyZENhbGxBbW91bnRUdXBsZSxcbiAgbXV0YWJsZVF1b3RlV2hlbkdUOiBHdWFyZENhbGxBbW91bnRUdXBsZSxcbn0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5QcmljZUF1dGhvcml0eUkoUHJpY2VBdXRob3JpdHlJKTtcbiAgICAgICBjb25zdCBtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQgPSBvcHRzID0+IHtcbiAgY29uc3Qge1xuICAgIHRpbWVyLFxuICAgIGNyZWF0ZVF1b3RlLFxuICAgIGFjdHVhbEJyYW5kSW4sXG4gICAgYWN0dWFsQnJhbmRPdXQsXG4gICAgcXVvdGVJc3N1ZXIsXG4gICAgbm90aWZpZXIsXG4gIH0gPSBvcHRzO1xuXG4gIGxldCBoYXZlRmlyc3RRdW90ZSA9IGZhbHNlO1xuXG4gIHZvaWQgRShub3RpZmllcilcbiAgICAuZ2V0VXBkYXRlU2luY2UoKVxuICAgIC50aGVuKF8gPT4gKGhhdmVGaXJzdFF1b3RlID0gdHJ1ZSkpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB0cmlnZ2VycyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgbXV0YWJsZVRyaWdnZXJzID0gbmV3IE1hcCgpO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgZmlyZVRyaWdnZXJzID0gYXN5bmMgdHJpZ2dlckNyZWF0ZVF1b3RlID0+IHtcbiAgICBpZiAoIWhhdmVGaXJzdFF1b3RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgWy4uLnRyaWdnZXJzLCAuLi5BcnJheS5mcm9tKG11dGFibGVUcmlnZ2Vycy52YWx1ZXMoKSldLm1hcCh0cmlnZ2VyID0+XG4gICAgICAgIHRyaWdnZXIodHJpZ2dlckNyZWF0ZVF1b3RlKSxcbiAgICAgICksXG4gICAgKTtcbiAgfTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZVF1b3RlV2hlbk91dCA9XG4gICAgY29tcGFyZUFtb3VudHNGbiA9PlxuICAgIC8qXG5cblxuXG5cblxuICAgICAqL1xuICAgIGFzeW5jIChhbW91bnRJbiwgYW1vdW50T3V0TGltaXQpID0+IHtcbiAgICAgIGFtb3VudEluID0gQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgYW1vdW50T3V0TGltaXQgPSBBbW91bnRNYXRoLmNvZXJjZShhY3R1YWxCcmFuZE91dCwgYW1vdW50T3V0TGltaXQpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCB0cmlnZ2VyUEsgPSBtYWtlUHJvbWlzZUtpdCgpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgdHJpZ2dlciA9IGFzeW5jIGNyZWF0ZUluc3RhbnRRdW90ZSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcXVvdGVQID0gY3JlYXRlSW5zdGFudFF1b3RlKGNhbGNBbW91bnRPdXQgPT4ge1xuICAgICAgICAgICAgaWYgKCF0cmlnZ2Vycy5oYXModHJpZ2dlcikpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFtb3VudE91dCA9IGNhbGNBbW91bnRPdXQoYW1vdW50SW4pO1xuXG4gICAgICAgICAgICBpZiAoIWNvbXBhcmVBbW91bnRzRm4oYW1vdW50T3V0LCBhbW91bnRPdXRMaW1pdCkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybiB7IGFtb3VudEluLCBhbW91bnRPdXQgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghcXVvdGVQKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyaWdnZXJzLmRlbGV0ZSh0cmlnZ2VyKTtcbiAgICAgICAgICB0cmlnZ2VyUEsucmVzb2x2ZShxdW90ZVApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB0cmlnZ2VyUEsucmVqZWN0KGUpO1xuICAgICAgICAgIHRyaWdnZXJzLmRlbGV0ZSh0cmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdHJpZ2dlcnMuYWRkKHRyaWdnZXIpO1xuXG4gICAgICAvL1xuICAgICAgYXdhaXQgdHJpZ2dlcihjcmVhdGVRdW90ZSk7XG5cbiAgICAgIHJldHVybiB0cmlnZ2VyUEsucHJvbWlzZTtcbiAgICB9O1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlTXV0YWJsZVF1b3RlID1cbiAgICBjb21wYXJlQW1vdW50c0ZuID0+XG4gICAgLypcblxuXG4gICAgICovXG4gICAgYXN5bmMgKGFtb3VudEluLCBhbW91bnRPdXRMaW1pdCkgPT4ge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRPdXQsIGFtb3VudE91dExpbWl0KTtcblxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgdHJpZ2dlclBLID0gbWFrZVByb21pc2VLaXQoKTtcblxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBtdXRhYmxlUXVvdGUgPSBGYXIoJ011dGFibGVRdW90ZScsIHtcbiAgICAgICAgY2FuY2VsOiBlID0+IHRyaWdnZXJQSy5yZWplY3QoZSksXG4gICAgICAgIHVwZGF0ZUxldmVsOiAobmV3QW1vdW50SW4sIG5ld0Ftb3VudE91dExpbWl0KSA9PiB7XG4gICAgICAgICAgY29uc3QgY29lcmNlZEFtb3VudEluID0gQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgbmV3QW1vdW50SW4pO1xuICAgICAgICAgIGNvbnN0IGNvZXJjZWRBbW91bnRPdXRMaW1pdCA9IEFtb3VudE1hdGguY29lcmNlKFxuICAgICAgICAgICAgYWN0dWFsQnJhbmRPdXQsXG4gICAgICAgICAgICBuZXdBbW91bnRPdXRMaW1pdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGFtb3VudEluID0gY29lcmNlZEFtb3VudEluO1xuICAgICAgICAgIGFtb3VudE91dExpbWl0ID0gY29lcmNlZEFtb3VudE91dExpbWl0O1xuICAgICAgICAgIHZvaWQgZmlyZVRyaWdnZXJzKGNyZWF0ZVF1b3RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UHJvbWlzZTogKCkgPT4gdHJpZ2dlclBLLnByb21pc2UsXG4gICAgICB9KTtcblxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IG11dGFibGVUcmlnZ2VyID0gYXN5bmMgY3JlYXRlSW5zdGFudFF1b3RlID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBxdW90ZVAgPSBjcmVhdGVJbnN0YW50UXVvdGUoY2FsY0Ftb3VudE91dCA9PiB7XG4gICAgICAgICAgICBpZiAoIW11dGFibGVUcmlnZ2Vycy5oYXMobXV0YWJsZVF1b3RlKSkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW1vdW50T3V0ID0gY2FsY0Ftb3VudE91dChhbW91bnRJbik7XG5cbiAgICAgICAgICAgIGlmICghY29tcGFyZUFtb3VudHNGbihhbW91bnRPdXQsIGFtb3VudE91dExpbWl0KSkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuIHsgYW1vdW50SW4sIGFtb3VudE91dCB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFxdW90ZVApIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbXV0YWJsZVRyaWdnZXJzLmRlbGV0ZShtdXRhYmxlUXVvdGUpO1xuICAgICAgICAgIHRyaWdnZXJQSy5yZXNvbHZlKHF1b3RlUCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHRyaWdnZXJQSy5yZWplY3QoZSk7XG4gICAgICAgICAgbXV0YWJsZVRyaWdnZXJzLmRlbGV0ZShtdXRhYmxlUXVvdGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBtdXRhYmxlVHJpZ2dlcnMuc2V0KG11dGFibGVRdW90ZSwgbXV0YWJsZVRyaWdnZXIpO1xuXG4gICAgICAvL1xuICAgICAgYXdhaXQgbXV0YWJsZVRyaWdnZXIoY3JlYXRlUXVvdGUpO1xuXG4gICAgICByZXR1cm4gbXV0YWJsZVF1b3RlO1xuICAgIH07XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgYXNzZXJ0QnJhbmRzID0gKGJyYW5kSW4sIGJyYW5kT3V0KSA9PiB7XG4gICAgYnJhbmRJbiA9PT0gYWN0dWFsQnJhbmRJbiB8fFxuICAgICAgRmFpbGBEZXNpcmVkIGJyYW5kSW4gJHtxKGJyYW5kSW4pfSBtdXN0IG1hdGNoICR7cShhY3R1YWxCcmFuZEluKX1gO1xuICAgIGJyYW5kT3V0ID09PSBhY3R1YWxCcmFuZE91dCB8fFxuICAgICAgRmFpbGBEZXNpcmVkIGJyYW5kT3V0ICR7cShicmFuZE91dCl9IG11c3QgbWF0Y2ggJHtxKGFjdHVhbEJyYW5kT3V0KX1gO1xuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHByaWNlQXV0aG9yaXR5ID0gRmFyKCdQcmljZUF1dGhvcml0eScsIHtcbiAgICBnZXRRdW90ZUlzc3VlcihicmFuZEluLCBicmFuZE91dCkge1xuICAgICAgYXNzZXJ0QnJhbmRzKGJyYW5kSW4sIGJyYW5kT3V0KTtcbiAgICAgIHJldHVybiBxdW90ZUlzc3VlcjtcbiAgICB9LFxuICAgIGdldFRpbWVyU2VydmljZShicmFuZEluLCBicmFuZE91dCkge1xuICAgICAgYXNzZXJ0QnJhbmRzKGJyYW5kSW4sIGJyYW5kT3V0KTtcbiAgICAgIHJldHVybiB0aW1lcjtcbiAgICB9LFxuICAgIG1ha2VRdW90ZU5vdGlmaWVyKGFtb3VudEluLCBicmFuZE91dCkge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgYXNzZXJ0QnJhbmRzKGFtb3VudEluLmJyYW5kLCBicmFuZE91dCk7XG5cbiAgICAgIC8vXG4gICAgICBjb25zdCBzcGVjaWZpY0Jhc2VOb3RpZmllciA9IGhhcmRlbih7XG4gICAgICAgIGFzeW5jIGdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50ID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCByZWNvcmQgPSBhd2FpdCBFKG5vdGlmaWVyKS5nZXRVcGRhdGVTaW5jZSh1cGRhdGVDb3VudCk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGxldCBxdW90ZTtcbiAgICAgICAgICAvL1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHF1b3RlID0gY3JlYXRlUXVvdGUoY2FsY0Ftb3VudE91dCA9PiAoe1xuICAgICAgICAgICAgICBhbW91bnRJbixcbiAgICAgICAgICAgICAgYW1vdW50T3V0OiBjYWxjQW1vdW50T3V0KGFtb3VudEluKSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcXVvdGUpIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgY3JlYXRlUXVvdGUgcmV0dXJuZWQgbm90aGluZ2A7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBxdW90ZTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgdXBkYXRlQ291bnQ6IHJlY29yZC51cGRhdGVDb3VudCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3Qgc3BlY2lmaWNOb3RpZmllciA9IEZhcignUXVvdGVOb3RpZmllcicsIHtcbiAgICAgICAgLi4ubWFrZU5vdGlmaWVyKHNwZWNpZmljQmFzZU5vdGlmaWVyKSxcbiAgICAgICAgLy9cbiAgICAgICAgLi4uc3BlY2lmaWNCYXNlTm90aWZpZXIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzcGVjaWZpY05vdGlmaWVyO1xuICAgIH0sXG4gICAgYXN5bmMgcXVvdGVHaXZlbihhbW91bnRJbiwgYnJhbmRPdXQpIHtcbiAgICAgIHRyYWNlKCdxdW90ZUdpdmVuJywgYW1vdW50SW4sIGJyYW5kT3V0KTtcbiAgICAgIEFtb3VudE1hdGguY29lcmNlKGFjdHVhbEJyYW5kSW4sIGFtb3VudEluKTtcbiAgICAgIGFzc2VydEJyYW5kcyhhbW91bnRJbi5icmFuZCwgYnJhbmRPdXQpO1xuXG4gICAgICBhd2FpdCBFKG5vdGlmaWVyKS5nZXRVcGRhdGVTaW5jZSgpO1xuICAgICAgY29uc3QgcXVvdGUgPSBjcmVhdGVRdW90ZShjYWxjQW1vdW50T3V0ID0+ICh7XG4gICAgICAgIGFtb3VudEluLFxuICAgICAgICBhbW91bnRPdXQ6IGNhbGNBbW91bnRPdXQoYW1vdW50SW4pLFxuICAgICAgfSkpO1xuICAgICAgYXNzZXJ0KHF1b3RlKTtcbiAgICAgIHJldHVybiBxdW90ZTtcbiAgICB9LFxuICAgIGFzeW5jIHF1b3RlV2FudGVkKGJyYW5kSW4sIGFtb3VudE91dCkge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRPdXQsIGFtb3VudE91dCk7XG4gICAgICBhc3NlcnRCcmFuZHMoYnJhbmRJbiwgYW1vdW50T3V0LmJyYW5kKTtcblxuICAgICAgYXdhaXQgRShub3RpZmllcikuZ2V0VXBkYXRlU2luY2UoKTtcbiAgICAgIGNvbnN0IHF1b3RlID0gY3JlYXRlUXVvdGUoKGNhbGNBbW91bnRPdXQsIGNhbGNBbW91bnRJbikgPT4ge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBhbW91bnRJbiA9IGNhbGNBbW91bnRJbihhbW91bnRPdXQpO1xuICAgICAgICBjb25zdCBhY3R1YWxBbW91bnRPdXQgPSBjYWxjQW1vdW50T3V0KGFtb3VudEluKTtcbiAgICAgICAgQW1vdW50TWF0aC5pc0dURShhY3R1YWxBbW91bnRPdXQsIGFtb3VudE91dCkgfHxcbiAgICAgICAgICBGYWlsYENhbGN1bGF0aW9uIG9mICR7YWN0dWFsQW1vdW50T3V0fSBkaWRuJ3QgY292ZXIgZXhwZWN0ZWQgJHthbW91bnRPdXR9YDtcbiAgICAgICAgcmV0dXJuIHsgYW1vdW50SW4sIGFtb3VudE91dCB9O1xuICAgICAgfSk7XG4gICAgICBhc3NlcnQocXVvdGUpO1xuICAgICAgcmV0dXJuIHF1b3RlO1xuICAgIH0sXG4gICAgYXN5bmMgcXVvdGVBdFRpbWUoZGVhZGxpbmUsIGFtb3VudEluLCBicmFuZE91dCkge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgYXNzZXJ0QnJhbmRzKGFtb3VudEluLmJyYW5kLCBicmFuZE91dCk7XG5cbiAgICAgIGF3YWl0IEUobm90aWZpZXIpLmdldFVwZGF0ZVNpbmNlKCk7XG4gICAgICBjb25zdCBxdW90ZVBLID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgIGF3YWl0IEUodGltZXIpLnNldFdha2V1cChcbiAgICAgICAgZGVhZGxpbmUsXG4gICAgICAgIEZhcignd2FrZU9iaicsIHtcbiAgICAgICAgICBhc3luYyB3YWtlKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgYXdhaXQgbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHF1b3RlUCA9IGNyZWF0ZVF1b3RlKGNhbGNBbW91bnRPdXQgPT4gKHtcbiAgICAgICAgICAgICAgICBhbW91bnRJbixcbiAgICAgICAgICAgICAgICBhbW91bnRPdXQ6IGNhbGNBbW91bnRPdXQoYW1vdW50SW4pLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHF1b3RlUEsucmVzb2x2ZShxdW90ZVApO1xuICAgICAgICAgICAgICBhd2FpdCBxdW90ZVBLLnByb21pc2U7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHF1b3RlUEsucmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgLy9cbiAgICAgIHJldHVybiBxdW90ZVBLLnByb21pc2U7XG4gICAgfSxcbiAgICBxdW90ZVdoZW5MVDogbWFrZVF1b3RlV2hlbk91dChpc0xUKSxcbiAgICBxdW90ZVdoZW5MVEU6IG1ha2VRdW90ZVdoZW5PdXQoaXNMVEUpLFxuICAgIHF1b3RlV2hlbkdURTogbWFrZVF1b3RlV2hlbk91dChpc0dURSksXG4gICAgcXVvdGVXaGVuR1Q6IG1ha2VRdW90ZVdoZW5PdXQoaXNHVCksXG4gICAgbXV0YWJsZVF1b3RlV2hlbkxUOiBtYWtlTXV0YWJsZVF1b3RlKGlzTFQpLFxuICAgIG11dGFibGVRdW90ZVdoZW5MVEU6IG1ha2VNdXRhYmxlUXVvdGUoaXNMVEUpLFxuICAgIG11dGFibGVRdW90ZVdoZW5HVDogbWFrZU11dGFibGVRdW90ZShpc0dUKSxcbiAgICBtdXRhYmxlUXVvdGVXaGVuR1RFOiBtYWtlTXV0YWJsZVF1b3RlKGlzR1RFKSxcbiAgfSk7XG5cbiAgcmV0dXJuIHsgcHJpY2VBdXRob3JpdHksIGFkbWluRmFjZXQ6IHsgZmlyZVRyaWdnZXJzIH0gfTtcbn07JGjNj19vbmNlLm1ha2VPbmV3YXlQcmljZUF1dGhvcml0eUtpdChtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUHJpY2VBdXRob3JpdHlJIjpbIlByaWNlQXV0aG9yaXR5SSJdLCJtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQiOlsibWFrZU9uZXdheVByaWNlQXV0aG9yaXR5S2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAOfHwgFxCQAAcQkAADUAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvcHJpY2VRdW90ZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9uYXQiLCJAZW5kby9ldmVudHVhbC1zZW5kIiwiQGFnb3JpYy9lcnRwIl0sImV4cG9ydHMiOlsiZ2V0QW1vdW50SW4iLCJnZXRBbW91bnRPdXQiLCJnZXRQcmljZURlc2NyaXB0aW9uIiwiZ2V0VGltZXN0YW1wIiwibWFrZVByaWNlUXVvdGVJc3N1ZXIiLCJ1bml0QW1vdW50Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxOYXQsRSxBbW91bnRNYXRoLEFzc2V0S2luZCxtYWtlSXNzdWVyS2l0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL25hdFwiLCBbW1wiTmF0XCIsWyRozY9fYSA9PiAoTmF0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2VydHBcIiwgW1tcIkFtb3VudE1hdGhcIixbJGjNj19hID0+IChBbW91bnRNYXRoID0gJGjNj19hKV1dLFtcIkFzc2V0S2luZFwiLFskaM2PX2EgPT4gKEFzc2V0S2luZCA9ICRozY9fYSldXSxbXCJtYWtlSXNzdWVyS2l0XCIsWyRozY9fYSA9PiAobWFrZUlzc3VlcktpdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuLy9cbi8vXG4vL1xuLy9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRQcmljZURlc2NyaXB0aW9uID0gcXVvdGUgPT4ge1xuICBxdW90ZS5xdW90ZUFtb3VudC52YWx1ZS5sZW5ndGggPT09IDEgfHxcbiAgICBGYWlsYHF1b3RlQW1vdW50IHNldCBtdXN0IGhhdmUgb25lIG1lbWJlcmA7XG4gIHJldHVybiBxdW90ZS5xdW90ZUFtb3VudC52YWx1ZVswXTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmdldFByaWNlRGVzY3JpcHRpb24oZ2V0UHJpY2VEZXNjcmlwdGlvbik7XG4gICAgICAgY29uc3QgZ2V0QW1vdW50SW4gPSBxdW90ZSA9PiBnZXRQcmljZURlc2NyaXB0aW9uKHF1b3RlKS5hbW91bnRJbjtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmdldEFtb3VudEluKGdldEFtb3VudEluKTtcbiAgICAgICBjb25zdCBnZXRBbW91bnRPdXQgPSBxdW90ZSA9PiBnZXRQcmljZURlc2NyaXB0aW9uKHF1b3RlKS5hbW91bnRPdXQ7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmdldEFtb3VudE91dChnZXRBbW91bnRPdXQpO1xuICAgICAgIGNvbnN0IGdldFRpbWVzdGFtcCA9IHF1b3RlID0+IGdldFByaWNlRGVzY3JpcHRpb24ocXVvdGUpLnRpbWVzdGFtcDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5nZXRUaW1lc3RhbXAoZ2V0VGltZXN0YW1wKTtcbiAgICAgICBjb25zdCB1bml0QW1vdW50ID0gYXN5bmMgYnJhbmQgPT4ge1xuICAvL1xuICBjb25zdCBkaXNwbGF5SW5mbyA9IGF3YWl0IEUoYnJhbmQpLmdldERpc3BsYXlJbmZvKCk7XG4gIGNvbnN0IGRlY2ltYWxQbGFjZXMgPSBkaXNwbGF5SW5mby5kZWNpbWFsUGxhY2VzID8/IDA7XG4gIHJldHVybiBBbW91bnRNYXRoLm1ha2UoYnJhbmQsIDEwbiAqKiBOYXQoZGVjaW1hbFBsYWNlcykpO1xufTskaM2PX29uY2UudW5pdEFtb3VudCh1bml0QW1vdW50KTtcbmhhcmRlbih1bml0QW1vdW50KTtcblxuICAgICAgIGNvbnN0IG1ha2VQcmljZVF1b3RlSXNzdWVyID0gKCkgPT5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgbWFrZUlzc3VlcktpdCgncXVvdGUnLCBBc3NldEtpbmQuU0VUKVxuICApOyRozY9fb25jZS5tYWtlUHJpY2VRdW90ZUlzc3VlcihtYWtlUHJpY2VRdW90ZUlzc3Vlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJnZXRQcmljZURlc2NyaXB0aW9uIjpbImdldFByaWNlRGVzY3JpcHRpb24iXSwiZ2V0QW1vdW50SW4iOlsiZ2V0QW1vdW50SW4iXSwiZ2V0QW1vdW50T3V0IjpbImdldEFtb3VudE91dCJdLCJnZXRUaW1lc3RhbXAiOlsiZ2V0VGltZXN0YW1wIl0sInVuaXRBbW91bnQiOlsidW5pdEFtb3VudCJdLCJtYWtlUHJpY2VRdW90ZUlzc3VlciI6WyJtYWtlUHJpY2VRdW90ZUlzc3VlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD+oXTVWBwAAFgcAAAzAAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3JlY29yZGVyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL25vdGlmaWVyIiwiQGFnb3JpYy9ub3RpZmllci90b29scy90ZXN0U3VwcG9ydHMuanMiLCJAYWdvcmljL3N0b3JlIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiXSwiZXhwb3J0cyI6WyJSZWNvcmRlcktpdFNoYXBlIiwiZGVmaW5lRVJlY29yZGVyS2l0IiwiZGVmaW5lUmVjb3JkZXJLaXQiLCJwcmVwYXJlTW9ja1JlY29yZGVyS2l0TWFrZXJzIiwicHJlcGFyZVJlY29yZGVyIiwicHJlcGFyZVJlY29yZGVyS2l0IiwicHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxTdG9yYWdlTm9kZVNoYXBlLHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCxtYWtlRmFrZU1hcnNoYWxsZXIsbWFrZUZha2VTdG9yYWdlLG11c3RNYXRjaCxNLG1ha2VTY2FsYXJCaWdNYXBTdG9yZSxwcmVwYXJlRXhvQ2xhc3MsRTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJTdG9yYWdlTm9kZVNoYXBlXCIsWyRozY9fYSA9PiAoU3RvcmFnZU5vZGVTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXJcIiwgW1tcInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdFwiLFskaM2PX2EgPT4gKHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXIvdG9vbHMvdGVzdFN1cHBvcnRzLmpzXCIsIFtbXCJtYWtlRmFrZU1hcnNoYWxsZXJcIixbJGjNj19hID0+IChtYWtlRmFrZU1hcnNoYWxsZXIgPSAkaM2PX2EpXV0sW1wibWFrZUZha2VTdG9yYWdlXCIsWyRozY9fYSA9PiAobWFrZUZha2VTdG9yYWdlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wibWFrZVNjYWxhckJpZ01hcFN0b3JlXCIsWyRozY9fYSA9PiAobWFrZVNjYWxhckJpZ01hcFN0b3JlID0gJGjNj19hKV1dLFtcInByZXBhcmVFeG9DbGFzc1wiLFskaM2PX2EgPT4gKHByZXBhcmVFeG9DbGFzcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZVJlY29yZGVyID0gKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpID0+IHtcbiAgY29uc3QgbWFrZVJlY29yZGVyID0gcHJlcGFyZUV4b0NsYXNzKFxuICAgIGJhZ2dhZ2UsXG4gICAgJ1JlY29yZGVyJyxcbiAgICBNLmludGVyZmFjZSgnUmVjb3JkZXInLCB7XG4gICAgICBnZXRTdG9yYWdlTm9kZTogTS5jYWxsKCkucmV0dXJucyhTdG9yYWdlTm9kZVNoYXBlKSxcbiAgICAgIGdldFN0b3JhZ2VQYXRoOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgvKiAgICAgICAgKi8pKSxcbiAgICAgIHdyaXRlOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB3cml0ZUZpbmFsOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgfSksXG4gICAgLypcblxuXG5cblxuICAgICAqL1xuICAgIChcbiAgICAgIHB1Ymxpc2hlcixcbiAgICAgIHN0b3JhZ2VOb2RlLFxuICAgICAgdmFsdWVTaGFwZSA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChNLmFueSgpKSxcbiAgICApID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlZDogZmFsc2UsXG4gICAgICAgIHB1Ymxpc2hlcixcbiAgICAgICAgc3RvcmFnZU5vZGUsXG4gICAgICAgIHN0b3JhZ2VQYXRoOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHVuZGVmaW5lZCksXG4gICAgICAgIHZhbHVlU2hhcGUsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgZ2V0U3RvcmFnZU5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnN0b3JhZ2VOb2RlO1xuICAgICAgfSxcbiAgICAgIC8qXG5cblxuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGdldFN0b3JhZ2VQYXRoKCkge1xuICAgICAgICBjb25zdCB7IHN0b3JhZ2VQYXRoOiBoZWxkUGF0aCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgLy9cbiAgICAgICAgYXdhaXQgbnVsbDtcbiAgICAgICAgaWYgKGhlbGRQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gaGVsZFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IGF3YWl0IEUodGhpcy5zdGF0ZS5zdG9yYWdlTm9kZSkuZ2V0UGF0aCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnN0b3JhZ2VQYXRoID0gcGF0aDtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9LFxuICAgICAgLypcblxuXG5cblxuICAgICAgICovXG4gICAgICBhc3luYyB3cml0ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IGNsb3NlZCwgcHVibGlzaGVyLCBzdG9yYWdlTm9kZSwgdmFsdWVTaGFwZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgIWNsb3NlZCB8fCBGYWlsYGNhbm5vdCB3cml0ZSB0byBjbG9zZWQgcmVjb3JkZXJgO1xuICAgICAgICBtdXN0TWF0Y2godmFsdWUsIHZhbHVlU2hhcGUpO1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gYXdhaXQgRShtYXJzaGFsbGVyKS50b0NhcERhdGEodmFsdWUpO1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkoZW5jb2RlZCk7XG4gICAgICAgIGF3YWl0IEUoc3RvcmFnZU5vZGUpLnNldFZhbHVlKHNlcmlhbGl6ZWQpO1xuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBwdWJsaXNoZXIucHVibGlzaCh2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgLypcblxuXG5cblxuICAgICAgICovXG4gICAgICBhc3luYyB3cml0ZUZpbmFsKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgY2xvc2VkLCBwdWJsaXNoZXIsIHN0b3JhZ2VOb2RlLCB2YWx1ZVNoYXBlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAhY2xvc2VkIHx8IEZhaWxgY2Fubm90IHdyaXRlIHRvIGNsb3NlZCByZWNvcmRlcmA7XG4gICAgICAgIG11c3RNYXRjaCh2YWx1ZSwgdmFsdWVTaGFwZSk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBhd2FpdCBFKG1hcnNoYWxsZXIpLnRvQ2FwRGF0YSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShlbmNvZGVkKTtcbiAgICAgICAgYXdhaXQgRShzdG9yYWdlTm9kZSkuc2V0VmFsdWUoc2VyaWFsaXplZCk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5zdGF0ZS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gcHVibGlzaGVyLmZpbmlzaCh2YWx1ZSk7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIG1ha2VSZWNvcmRlcjtcbn07JGjNj19vbmNlLnByZXBhcmVSZWNvcmRlcihwcmVwYXJlUmVjb3JkZXIpO1xuaGFyZGVuKHByZXBhcmVSZWNvcmRlcik7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGRlZmluZVJlY29yZGVyS2l0ID0gKHsgbWFrZVJlY29yZGVyLCBtYWtlRHVyYWJsZVB1Ymxpc2hLaXQgfSkgPT4ge1xuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlUmVjb3JkZXJLaXQgPSAoc3RvcmFnZU5vZGUsIHZhbHVlU2hhcGUpID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmliZXIsIHB1Ymxpc2hlciB9ID0gbWFrZUR1cmFibGVQdWJsaXNoS2l0KCk7XG4gICAgY29uc3QgcmVjb3JkZXIgPSBtYWtlUmVjb3JkZXIoXG4gICAgICBwdWJsaXNoZXIsXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgIHN0b3JhZ2VOb2RlXG4gICAgICApLFxuICAgICAgdmFsdWVTaGFwZSxcbiAgICApO1xuICAgIHJldHVybiBoYXJkZW4oeyBzdWJzY3JpYmVyLCByZWNvcmRlciB9KTtcbiAgfTtcbiAgcmV0dXJuIG1ha2VSZWNvcmRlcktpdDtcbn07XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlZmluZVJlY29yZGVyS2l0KGRlZmluZVJlY29yZGVyS2l0KTtcbiAgICAgICBjb25zdCBkZWZpbmVFUmVjb3JkZXJLaXQgPSAoeyBtYWtlUmVjb3JkZXIsIG1ha2VEdXJhYmxlUHVibGlzaEtpdCB9KSA9PiB7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VFUmVjb3JkZXJLaXQgPSAoc3RvcmFnZU5vZGVQLCB2YWx1ZVNoYXBlKSA9PiB7XG4gICAgY29uc3QgeyBwdWJsaXNoZXIsIHN1YnNjcmliZXIgfSA9IG1ha2VEdXJhYmxlUHVibGlzaEtpdCgpO1xuICAgIGNvbnN0IHJlY29yZGVyUCA9IEUud2hlbihzdG9yYWdlTm9kZVAsIHN0b3JhZ2VOb2RlID0+XG4gICAgICBtYWtlUmVjb3JkZXIoXG4gICAgICAgIHB1Ymxpc2hlcixcbiAgICAgICAgLy9cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHN0b3JhZ2VOb2RlKSxcbiAgICAgICAgdmFsdWVTaGFwZSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4geyBzdWJzY3JpYmVyLCByZWNvcmRlclAgfTtcbiAgfTtcbiAgcmV0dXJuIG1ha2VFUmVjb3JkZXJLaXQ7XG59OyRozY9fb25jZS5kZWZpbmVFUmVjb3JkZXJLaXQoZGVmaW5lRVJlY29yZGVyS2l0KTtcbmhhcmRlbihkZWZpbmVFUmVjb3JkZXJLaXQpO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVSZWNvcmRlcktpdCA9IChiYWdnYWdlLCBtYXJzaGFsbGVyKSA9PiB7XG4gIGNvbnN0IG1ha2VEdXJhYmxlUHVibGlzaEtpdCA9IHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdChcbiAgICBiYWdnYWdlLFxuICAgICdEdXJhYmxlIFB1Ymxpc2ggS2l0JyxcbiAgKTtcbiAgY29uc3QgbWFrZVJlY29yZGVyID0gcHJlcGFyZVJlY29yZGVyKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpO1xuICByZXR1cm4gZGVmaW5lUmVjb3JkZXJLaXQoeyBtYWtlRHVyYWJsZVB1Ymxpc2hLaXQsIG1ha2VSZWNvcmRlciB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJlcGFyZVJlY29yZGVyS2l0KHByZXBhcmVSZWNvcmRlcktpdCk7XG4gICAgICAgY29uc3QgcHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzID0gKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpID0+IHtcbiAgY29uc3QgbWFrZUR1cmFibGVQdWJsaXNoS2l0ID0gcHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0KFxuICAgIGJhZ2dhZ2UsXG4gICAgJ0R1cmFibGUgUHVibGlzaCBLaXQnLFxuICApO1xuICBjb25zdCBtYWtlUmVjb3JkZXIgPSBwcmVwYXJlUmVjb3JkZXIoYmFnZ2FnZSwgbWFyc2hhbGxlcik7XG5cbiAgY29uc3QgbWFrZVJlY29yZGVyS2l0ID0gZGVmaW5lUmVjb3JkZXJLaXQoe1xuICAgIG1ha2VSZWNvcmRlcixcbiAgICBtYWtlRHVyYWJsZVB1Ymxpc2hLaXQsXG4gIH0pO1xuICBjb25zdCBtYWtlRVJlY29yZGVyS2l0ID0gZGVmaW5lRVJlY29yZGVyS2l0KHtcbiAgICBtYWtlUmVjb3JkZXIsXG4gICAgbWFrZUR1cmFibGVQdWJsaXNoS2l0LFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIG1ha2VEdXJhYmxlUHVibGlzaEtpdCxcbiAgICBtYWtlUmVjb3JkZXIsXG4gICAgbWFrZVJlY29yZGVyS2l0LFxuICAgIG1ha2VFUmVjb3JkZXJLaXQsXG4gIH07XG59O1xuXG4vKlxuXG4gKi8kaM2PX29uY2UucHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzKHByZXBhcmVSZWNvcmRlcktpdE1ha2Vycyk7XG4gICAgICAgY29uc3QgcHJlcGFyZU1vY2tSZWNvcmRlcktpdE1ha2VycyA9ICgpID0+IHtcbiAgY29uc3QgYmFnZ2FnZSA9IG1ha2VTY2FsYXJCaWdNYXBTdG9yZSgnbW9jayByZWNvcmRlciBiYWdnYWdlJyk7XG4gIGNvbnN0IG1hcnNoYWxsZXIgPSBtYWtlRmFrZU1hcnNoYWxsZXIoKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcmVwYXJlUmVjb3JkZXJLaXRNYWtlcnMoYmFnZ2FnZSwgbWFyc2hhbGxlciksXG4gICAgc3RvcmFnZU5vZGU6IG1ha2VGYWtlU3RvcmFnZSgnbW9jayByZWNvcmRlciBzdG9yYWdlJyksXG4gIH07XG59OyRozY9fb25jZS5wcmVwYXJlTW9ja1JlY29yZGVyS2l0TWFrZXJzKHByZXBhcmVNb2NrUmVjb3JkZXJLaXRNYWtlcnMpO1xuXG4gICAgICAgY29uc3QgUmVjb3JkZXJLaXRTaGFwZSA9IHtcbiAgcmVjb3JkZXI6IE0ucmVtb3RhYmxlKCksXG4gIHN1YnNjcmliZXI6IE0ucmVtb3RhYmxlKCksXG59OyRozY9fb25jZS5SZWNvcmRlcktpdFNoYXBlKFJlY29yZGVyS2l0U2hhcGUpO1xuaGFyZGVuKFJlY29yZGVyS2l0U2hhcGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVJlY29yZGVyIjpbInByZXBhcmVSZWNvcmRlciJdLCJkZWZpbmVSZWNvcmRlcktpdCI6WyJkZWZpbmVSZWNvcmRlcktpdCJdLCJkZWZpbmVFUmVjb3JkZXJLaXQiOlsiZGVmaW5lRVJlY29yZGVyS2l0Il0sInByZXBhcmVSZWNvcmRlcktpdCI6WyJwcmVwYXJlUmVjb3JkZXJLaXQiXSwicHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzIjpbInByZXBhcmVSZWNvcmRlcktpdE1ha2VycyJdLCJwcmVwYXJlTW9ja1JlY29yZGVyS2l0TWFrZXJzIjpbInByZXBhcmVNb2NrUmVjb3JkZXJLaXRNYWtlcnMiXSwiUmVjb3JkZXJLaXRTaGFwZSI6WyJSZWNvcmRlcktpdFNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANW85poJBAAACQQAADcAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvc3RhdGVNYWNoaW5lLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbIm1ha2VTdGF0ZU1hY2hpbmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcImFzc2VydFwiLFskaM2PX2EgPT4gKGFzc2VydCA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG5cblxuXG4qL1xuY29uc3QgbWFrZVN0YXRlTWFjaGluZSA9IChpbml0aWFsU3RhdGUsIGFsbG93ZWRUcmFuc2l0aW9uc0FycmF5KSA9PiB7XG4gIGxldCBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgY29uc3QgYWxsb3dlZFRyYW5zaXRpb25zID0gbmV3IE1hcChhbGxvd2VkVHJhbnNpdGlvbnNBcnJheSk7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGNhblRyYW5zaXRpb25UbzogbmV4dFN0YXRlID0+XG4gICAgICBhbGxvd2VkVHJhbnNpdGlvbnMuZ2V0KHN0YXRlKS5pbmNsdWRlcyhuZXh0U3RhdGUpLFxuICAgIHRyYW5zaXRpb25UbzogbmV4dFN0YXRlID0+IHtcbiAgICAgIGFzc2VydChhbGxvd2VkVHJhbnNpdGlvbnMuZ2V0KHN0YXRlKS5pbmNsdWRlcyhuZXh0U3RhdGUpKTtcbiAgICAgIHN0YXRlID0gbmV4dFN0YXRlO1xuICAgIH0sXG4gICAgZ2V0U3RhdHVzOiBfID0+IHN0YXRlLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VTdGF0ZU1hY2hpbmUobWFrZVN0YXRlTWFjaGluZSk7XG5oYXJkZW4obWFrZVN0YXRlTWFjaGluZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlU3RhdGVNYWNoaW5lIjpbIm1ha2VTdGF0ZU1hY2hpbmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASb1uYQMEAAADBAAANQAAAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0aXN0aWNzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJjYWxjdWxhdGVNZWRpYW4iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNhbGN1bGF0ZU1lZGlhbiA9IChzYW1wbGVzLCBtYXRoKSA9PiB7XG4gIGNvbnN0IHNvcnRlZCA9IHNhbXBsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmICghbWF0aC5pc0dURShhLCBiKSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSBpZiAoIW1hdGguaXNHVEUoYiwgYSkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSk7XG5cbiAgaWYgKHNvcnRlZC5sZW5ndGggPT09IDApIHtcbiAgICAvL1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoc29ydGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAvL1xuICAgIHJldHVybiBzb3J0ZWRbKHNvcnRlZC5sZW5ndGggLSAxKSAvIDJdO1xuICB9XG5cbiAgLy9cbiAgY29uc3Qgc2Vjb25kSW5kZXggPSBzb3J0ZWQubGVuZ3RoIC8gMjtcbiAgY29uc3Qgc3VtID0gbWF0aC5hZGQoc29ydGVkW3NlY29uZEluZGV4IC0gMV0sIHNvcnRlZFtzZWNvbmRJbmRleF0pO1xuICByZXR1cm4gbWF0aC5kaXZpZGUoc3VtLCAybik7XG59OyRozY9fb25jZS5jYWxjdWxhdGVNZWRpYW4oY2FsY3VsYXRlTWVkaWFuKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNhbGN1bGF0ZU1lZGlhbiI6WyJjYWxjdWxhdGVNZWRpYW4iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAUrvu/6MGAACjBgAAMQAAAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC90b3BpY3MuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9ub3RpZmllciIsIkBhZ29yaWMvc3RvcmUiLCJAZW5kby9mYXIiXSwiZXhwb3J0cyI6WyJQdWJsaWNUb3BpY1NoYXBlIiwiU3Vic2NyaWJlclNoYXBlIiwiVG9waWNzUmVjb3JkU2hhcGUiLCJtYWtlUmVjb3JkZXJUb3BpYyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFN1YnNjcmliZXJTaGFwZSxNLEU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL25vdGlmaWVyXCIsIFtbXCJTdWJzY3JpYmVyU2hhcGVcIixbJGjNj19hID0+IChTdWJzY3JpYmVyU2hhcGUgPSAkaM2PX2EpLCRozY9fbGl2ZVtcIlN1YnNjcmliZXJTaGFwZVwiXV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cbiAgICAgICBjb25zdCBQdWJsaWNUb3BpY1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIHN1YnNjcmliZXI6IFN1YnNjcmliZXJTaGFwZSxcbiAgICBzdG9yYWdlUGF0aDogTS5vcihNLnByb21pc2UoLyogICAgICAgICovKSwgTS5zdHJpbmcoKSksXG4gIH0sXG4gIHsgZGVzY3JpcHRpb246IE0uc3RyaW5nKCkgfSxcbik7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLlB1YmxpY1RvcGljU2hhcGUoUHVibGljVG9waWNTaGFwZSk7XG5cbiAgICAgICBjb25zdCBUb3BpY3NSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoTS5zdHJpbmcoKSwgUHVibGljVG9waWNTaGFwZSk7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuVG9waWNzUmVjb3JkU2hhcGUoVG9waWNzUmVjb3JkU2hhcGUpO1xuICAgICAgIGNvbnN0IG1ha2VSZWNvcmRlclRvcGljID0gKGRlc2NyaXB0aW9uLCByZWNvcmRlcktpdCkgPT4ge1xuICBjb25zdCByZWNQID1cbiAgICAncmVjb3JkZXInIGluIHJlY29yZGVyS2l0ID8gcmVjb3JkZXJLaXQucmVjb3JkZXIgOiByZWNvcmRlcktpdC5yZWNvcmRlclA7XG4gIHJldHVybiB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgc3Vic2NyaWJlcjogcmVjb3JkZXJLaXQuc3Vic2NyaWJlcixcbiAgICBzdG9yYWdlUGF0aDogRShyZWNQKS5nZXRTdG9yYWdlUGF0aCgpLFxuICB9O1xufTskaM2PX29uY2UubWFrZVJlY29yZGVyVG9waWMobWFrZVJlY29yZGVyVG9waWMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiU3Vic2NyaWJlclNoYXBlIjpbIlN1YnNjcmliZXJTaGFwZSIsZmFsc2VdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlB1YmxpY1RvcGljU2hhcGUiOlsiUHVibGljVG9waWNTaGFwZSJdLCJUb3BpY3NSZWNvcmRTaGFwZSI6WyJUb3BpY3NSZWNvcmRTaGFwZSJdLCJtYWtlUmVjb3JkZXJUb3BpYyI6WyJtYWtlUmVjb3JkZXJUb3BpYyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACZUHHTiSUAAIklAAA1AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3pvZUhlbHBlcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGFnb3JpYy9zdG9yZSIsIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvaW50ZXJuYWwiLCIuLi9jb250cmFjdEZhY2V0L29mZmVyU2FmZXR5LmpzIiwiLi9hdG9taWNUcmFuc2Zlci5qcyJdLCJleHBvcnRzIjpbImFzc2VydElzc3VlcktleXdvcmRzIiwiYXNzZXJ0TmF0QXNzZXRLaW5kIiwiYXNzZXJ0UHJvcG9zYWxTaGFwZSIsImRlZmF1bHRBY2NlcHRhbmNlTXNnIiwiZGVwb3NpdFRvU2VhdCIsImRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnIiwiZml0UHJvcG9zYWxTaGFwZSIsIm1hcEtleXdvcmRzIiwib2ZmZXJUbyIsInNhdGlzZmllcyIsInNhdmVBbGxJc3N1ZXJzIiwic3dhcCIsInN3YXBFeGFjdCIsIndpdGhkcmF3RnJvbVNlYXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLEUsbWFrZVByb21pc2VLaXQsbXVzdE1hdGNoLGtleUVRLEFzc2V0S2luZCxmcm9tVW5pcXVlRW50cmllcyxzYXRpc2ZpZXNXYW50LGF0b21pY1RyYW5zZmVyLGZyb21Pbmx5LHRvT25seTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcImtleUVRXCIsWyRozY9fYSA9PiAoa2V5RVEgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2VydHBcIiwgW1tcIkFzc2V0S2luZFwiLFskaM2PX2EgPT4gKEFzc2V0S2luZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcImZyb21VbmlxdWVFbnRyaWVzXCIsWyRozY9fYSA9PiAoZnJvbVVuaXF1ZUVudHJpZXMgPSAkaM2PX2EpXV1dXSxbXCIuLi9jb250cmFjdEZhY2V0L29mZmVyU2FmZXR5LmpzXCIsIFtbXCJzYXRpc2ZpZXNXYW50XCIsWyRozY9fYSA9PiAoc2F0aXNmaWVzV2FudCA9ICRozY9fYSldXV1dLFtcIi4vYXRvbWljVHJhbnNmZXIuanNcIiwgW1tcImF0b21pY1RyYW5zZmVyXCIsWyRozY9fYSA9PiAoYXRvbWljVHJhbnNmZXIgPSAkaM2PX2EpXV0sW1wiZnJvbU9ubHlcIixbJGjNj19hID0+IChmcm9tT25seSA9ICRozY9fYSldXSxbXCJ0b09ubHlcIixbJGjNj19hID0+ICh0b09ubHkgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuICovXG5cbiAgICAgICBjb25zdCBkZWZhdWx0QWNjZXB0YW5jZU1zZyA9IGBUaGUgb2ZmZXIgaGFzIGJlZW4gYWNjZXB0ZWQuIE9uY2UgdGhlIGNvbnRyYWN0IGhhcyBiZWVuIGNvbXBsZXRlZCwgcGxlYXNlIGNoZWNrIHlvdXIgcGF5b3V0YDskaM2PX29uY2UuZGVmYXVsdEFjY2VwdGFuY2VNc2coZGVmYXVsdEFjY2VwdGFuY2VNc2cpO1xuXG5jb25zdCBnZXRLZXlzU29ydGVkID0gb2JqID0+IGhhcmRlbihSZWZsZWN0Lm93bktleXMob2JqIHx8IHt9KS5zb3J0KCkpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0SXNzdWVyS2V5d29yZHMgPSAoemNmLCBleHBlY3RlZCkgPT4ge1xuICBjb25zdCB7IGlzc3VlcnMgfSA9IHpjZi5nZXRUZXJtcygpO1xuICBjb25zdCBhY3R1YWwgPSBnZXRLZXlzU29ydGVkKGlzc3VlcnMpO1xuICBleHBlY3RlZCA9IFsuLi5leHBlY3RlZF07IC8vXG4gIGV4cGVjdGVkLnNvcnQoKTtcbiAga2V5RVEoYWN0dWFsLCBoYXJkZW4oZXhwZWN0ZWQpKSB8fFxuICAgIEZhaWxga2V5d29yZHM6ICR7YWN0dWFsfSB3ZXJlIG5vdCBhcyBleHBlY3RlZDogJHtleHBlY3RlZH1gO1xufTtcblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0SXNzdWVyS2V5d29yZHMoYXNzZXJ0SXNzdWVyS2V5d29yZHMpO1xuICAgICAgIGNvbnN0IHNhdGlzZmllcyA9IChfaWdub3JlZCwgc2VhdCwgdXBkYXRlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRBbGxvY2F0aW9uID0gc2VhdC5nZXRDdXJyZW50QWxsb2NhdGlvbigpO1xuICBjb25zdCBuZXdBbGxvY2F0aW9uID0geyAuLi5jdXJyZW50QWxsb2NhdGlvbiwgLi4udXBkYXRlIH07XG4gIGNvbnN0IHByb3Bvc2FsID0gc2VhdC5nZXRQcm9wb3NhbCgpO1xuICByZXR1cm4gc2F0aXNmaWVzV2FudChwcm9wb3NhbCwgbmV3QWxsb2NhdGlvbik7XG59O1xuXG4vKiAgICAgICAgICAgICAgICovJGjNj19vbmNlLnNhdGlzZmllcyhzYXRpc2ZpZXMpO1xuICAgICAgIGNvbnN0IHN3YXAgPSAoemNmLCBsZWZ0U2VhdCwgcmlnaHRTZWF0KSA9PiB7XG4gIHRyeSB7XG4gICAgemNmLmF0b21pY1JlYXJyYW5nZShcbiAgICAgIGhhcmRlbihbXG4gICAgICAgIFtyaWdodFNlYXQsIGxlZnRTZWF0LCBsZWZ0U2VhdC5nZXRQcm9wb3NhbCgpLndhbnRdLFxuICAgICAgICBbbGVmdFNlYXQsIHJpZ2h0U2VhdCwgcmlnaHRTZWF0LmdldFByb3Bvc2FsKCkud2FudF0sXG4gICAgICBdKSxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsZWZ0U2VhdC5mYWlsKGVycik7XG4gICAgcmlnaHRTZWF0LmZhaWwoZXJyKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cblxuICBsZWZ0U2VhdC5leGl0KCk7XG4gIHJpZ2h0U2VhdC5leGl0KCk7XG4gIHJldHVybiBkZWZhdWx0QWNjZXB0YW5jZU1zZztcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5zd2FwKHN3YXApO1xuICAgICAgIGNvbnN0IHN3YXBFeGFjdCA9ICh6Y2YsIGxlZnRTZWF0LCByaWdodFNlYXQpID0+IHtcbiAgdHJ5IHtcbiAgICB6Y2YuYXRvbWljUmVhcnJhbmdlKFxuICAgICAgaGFyZGVuKFtcbiAgICAgICAgZnJvbU9ubHkocmlnaHRTZWF0LCByaWdodFNlYXQuZ2V0UHJvcG9zYWwoKS5naXZlKSxcbiAgICAgICAgZnJvbU9ubHkobGVmdFNlYXQsIGxlZnRTZWF0LmdldFByb3Bvc2FsKCkuZ2l2ZSksXG5cbiAgICAgICAgdG9Pbmx5KGxlZnRTZWF0LCBsZWZ0U2VhdC5nZXRQcm9wb3NhbCgpLndhbnQpLFxuICAgICAgICB0b09ubHkocmlnaHRTZWF0LCByaWdodFNlYXQuZ2V0UHJvcG9zYWwoKS53YW50KSxcbiAgICAgIF0pLFxuICAgICk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxlZnRTZWF0LmZhaWwoZXJyKTtcbiAgICByaWdodFNlYXQuZmFpbChlcnIpO1xuICAgIHRocm93IGVycjtcbiAgfVxuXG4gIGxlZnRTZWF0LmV4aXQoKTtcbiAgcmlnaHRTZWF0LmV4aXQoKTtcbiAgcmV0dXJuIGRlZmF1bHRBY2NlcHRhbmNlTXNnO1xufTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2Uuc3dhcEV4YWN0KHN3YXBFeGFjdCk7XG4gICAgICAgY29uc3QgZml0UHJvcG9zYWxTaGFwZSA9IChzZWF0LCBwcm9wb3NhbFNoYXBlKSA9PlxuICAvL1xuICBtdXN0TWF0Y2goc2VhdC5nZXRQcm9wb3NhbCgpLCBoYXJkZW4ocHJvcG9zYWxTaGFwZSksICdwcm9wb3NhbCcpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmZpdFByb3Bvc2FsU2hhcGUoZml0UHJvcG9zYWxTaGFwZSk7XG4gICAgICAgY29uc3QgYXNzZXJ0UHJvcG9zYWxTaGFwZSA9IChzZWF0LCBleHBlY3RlZCkgPT4ge1xuICBhc3NlcnQudHlwZW9mKGV4cGVjdGVkLCAnb2JqZWN0Jyk7XG4gICFBcnJheS5pc0FycmF5KGV4cGVjdGVkKSB8fCBGYWlsYEV4cGVjdGVkIG11c3QgYmUgYW4gbm9uLWFycmF5IG9iamVjdGA7XG4gIGNvbnN0IGFzc2VydFZhbHVlc051bGwgPSBlID0+IHtcbiAgICBpZiAoZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIE9iamVjdC52YWx1ZXMoZSkpIHtcbiAgICAgICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgICBGYWlsYFRoZSB2YWx1ZSBvZiB0aGUgZXhwZWN0ZWQgcmVjb3JkIG11c3QgYmUgbnVsbCBidXQgd2FzICR7dmFsdWV9YDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy9cbiAgLy9cbiAgYXNzZXJ0VmFsdWVzTnVsbChleHBlY3RlZC5naXZlKTtcbiAgYXNzZXJ0VmFsdWVzTnVsbChleHBlY3RlZC53YW50KTtcbiAgYXNzZXJ0VmFsdWVzTnVsbChleHBlY3RlZC5leGl0KTtcblxuICBjb25zdCBhY3R1YWwgPSBzZWF0LmdldFByb3Bvc2FsKCk7XG4gIGNvbnN0IGFzc2VydEtleXMgPSAoYSwgZSkgPT4ge1xuICAgIGlmIChlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGtleUVRKGdldEtleXNTb3J0ZWQoYSksIGdldEtleXNTb3J0ZWQoZSkpIHx8XG4gICAgICAgIEZhaWxgYWN0dWFsICR7YX0gZGlkIG5vdCBtYXRjaCBleHBlY3RlZCAke2V9YDtcbiAgICB9XG4gIH07XG4gIGFzc2VydEtleXMoYWN0dWFsLmdpdmUsIGV4cGVjdGVkLmdpdmUpO1xuICBhc3NlcnRLZXlzKGFjdHVhbC53YW50LCBleHBlY3RlZC53YW50KTtcbiAgYXNzZXJ0S2V5cyhhY3R1YWwuZXhpdCwgZXhwZWN0ZWQuZXhpdCk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5hc3NlcnRQcm9wb3NhbFNoYXBlKGFzc2VydFByb3Bvc2FsU2hhcGUpO1xuICAgICAgIGNvbnN0IGFzc2VydE5hdEFzc2V0S2luZCA9ICh6Y2YsIGJyYW5kKSA9PiB7XG4gIHpjZi5nZXRBc3NldEtpbmQoYnJhbmQpID09PSBBc3NldEtpbmQuTkFUIHx8XG4gICAgRmFpbGBicmFuZCBtdXN0IGJlIEFzc2V0S2luZC5OQVRgO1xufTskaM2PX29uY2UuYXNzZXJ0TmF0QXNzZXRLaW5kKGFzc2VydE5hdEFzc2V0S2luZCk7XG5cbiAgICAgICBjb25zdCBkZXBvc2l0VG9TZWF0U3VjY2Vzc01zZyA9IGBEZXBvc2l0IGFuZCByZWFsbG9jYXRpb24gc3VjY2Vzc2Z1bC5gO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnKGRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnKTtcbiAgICAgICBjb25zdCBkZXBvc2l0VG9TZWF0ID0gYXN5bmMgKHpjZiwgcmVjaXBpZW50U2VhdCwgYW1vdW50cywgcGF5bWVudHMpID0+IHtcbiAgIXJlY2lwaWVudFNlYXQuaGFzRXhpdGVkKCkgfHwgRmFpbGBUaGUgcmVjaXBpZW50U2VhdCBjYW5ub3QgaGF2ZSBleGl0ZWQuYDtcblxuICAvL1xuICAvL1xuICBjb25zdCByZWFsbG9jYXRlQWZ0ZXJEZXBvc2l0ID0gdGVtcFNlYXQgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgYXRvbWljVHJhbnNmZXIoemNmLCB0ZW1wU2VhdCwgcmVjaXBpZW50U2VhdCwgYW1vdW50cyk7XG4gICAgdGVtcFNlYXQuZXhpdCgpO1xuICAgIHJldHVybiBkZXBvc2l0VG9TZWF0U3VjY2Vzc01zZztcbiAgfTtcbiAgY29uc3QgaW52aXRhdGlvbiA9IHpjZi5tYWtlSW52aXRhdGlvbihcbiAgICByZWFsbG9jYXRlQWZ0ZXJEZXBvc2l0LFxuICAgICd0ZW1wb3Jhcnkgc2VhdCBmb3IgZGVwb3NpdCcsXG4gICk7XG4gIGNvbnN0IHByb3Bvc2FsID0gaGFyZGVuKHsgZ2l2ZTogYW1vdW50cyB9KTtcbiAgaGFyZGVuKHBheW1lbnRzKTtcbiAgLy9cbiAgLy9cbiAgY29uc3Qgem9lID0gemNmLmdldFpvZVNlcnZpY2UoKTtcbiAgY29uc3QgdGVtcFVzZXJTZWF0ID0gRSh6b2UpLm9mZmVyKGludml0YXRpb24sIHByb3Bvc2FsLCBwYXltZW50cyk7XG4gIC8vXG4gIC8vXG4gIC8vXG4gIHJldHVybiBFKHRlbXBVc2VyU2VhdCkuZ2V0T2ZmZXJSZXN1bHQoKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlcG9zaXRUb1NlYXQoZGVwb3NpdFRvU2VhdCk7XG4gICAgICAgY29uc3Qgd2l0aGRyYXdGcm9tU2VhdCA9IGFzeW5jICh6Y2YsIHNlYXQsIGFtb3VudHMpID0+IHtcbiAgIXNlYXQuaGFzRXhpdGVkKCkgfHwgRmFpbGBUaGUgc2VhdCBjYW5ub3QgaGF2ZSBleGl0ZWQuYDtcbiAgY29uc3QgeyB6Y2ZTZWF0OiB0ZW1wU2VhdCwgdXNlclNlYXQ6IHRlbXBVc2VyU2VhdFAgfSA9IHpjZi5tYWtlRW1wdHlTZWF0S2l0KCk7XG4gIGF0b21pY1RyYW5zZmVyKHpjZiwgc2VhdCwgdGVtcFNlYXQsIGFtb3VudHMpO1xuICB0ZW1wU2VhdC5leGl0KCk7XG4gIHJldHVybiBFKHRlbXBVc2VyU2VhdFApLmdldFBheW91dHMoKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS53aXRoZHJhd0Zyb21TZWF0KHdpdGhkcmF3RnJvbVNlYXQpO1xuICAgICAgIGNvbnN0IHNhdmVBbGxJc3N1ZXJzID0gYXN5bmMgKHpjZiwgaXNzdWVyS2V5d29yZFJlY29yZCA9IGhhcmRlbih7fSkpID0+IHtcbiAgY29uc3QgeyBpc3N1ZXJzIH0gPSB6Y2YuZ2V0VGVybXMoKTtcbiAgY29uc3QgaXNzdWVyc1BTYXZlZCA9IE9iamVjdC5lbnRyaWVzKGlzc3VlcktleXdvcmRSZWNvcmQpLm1hcChcbiAgICAoW2tleXdvcmQsIGlzc3Vlcl0pID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKGlzc3VlcnNba2V5d29yZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gemNmLnNhdmVJc3N1ZXIoaXNzdWVyLCBrZXl3b3JkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGlzc3VlcnNQU2F2ZWQpO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2Uuc2F2ZUFsbElzc3VlcnMoc2F2ZUFsbElzc3VlcnMpO1xuICAgICAgIGNvbnN0IG1hcEtleXdvcmRzID0gKGtleXdvcmRSZWNvcmQgPSB7fSwga2V5d29yZE1hcHBpbmcpID0+IHtcbiAgcmV0dXJuIGhhcmRlbihcbiAgICBmcm9tVW5pcXVlRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKGtleXdvcmRSZWNvcmQpLm1hcCgoW2tleXdvcmQsIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAoa2V5d29yZE1hcHBpbmdba2V5d29yZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBba2V5d29yZCwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBba2V5d29yZE1hcHBpbmdba2V5d29yZF0sIHZhbHVlXTtcbiAgICAgIH0pLFxuICAgICksXG4gICk7XG59O1xuLyogICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5tYXBLZXl3b3JkcyhtYXBLZXl3b3Jkcyk7XG5jb25zdCByZXZlcnNlID0gKGtleXdvcmRSZWNvcmQgPSB7fSkgPT4ge1xuICByZXR1cm4gaGFyZGVuKFxuICAgIGZyb21VbmlxdWVFbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXMoa2V5d29yZFJlY29yZCkubWFwKChba2V5LCB2YWx1ZV0pID0+IFt2YWx1ZSwga2V5XSksXG4gICAgKSxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG9mZmVyVG8gPSBhc3luYyAoXG4gIHpjZixcbiAgaW52aXRhdGlvbixcbiAga2V5d29yZE1hcHBpbmcsXG4gIHByb3Bvc2FsLFxuICBmcm9tU2VhdCxcbiAgdG9TZWF0LFxuICBvZmZlckFyZ3MsXG4pID0+IHtcbiAgaWYgKGtleXdvcmRNYXBwaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXl3b3JkTWFwcGluZyA9IGhhcmRlbih7fSk7XG4gIH1cblxuICBjb25zdCBkZWZpbmVkVG9TZWF0ID0gdG9TZWF0ICE9PSB1bmRlZmluZWQgPyB0b1NlYXQgOiBmcm9tU2VhdDtcblxuICBjb25zdCB6b2UgPSB6Y2YuZ2V0Wm9lU2VydmljZSgpO1xuICBjb25zdCBtYXBwaW5nUmV2ZXJzZWQgPSByZXZlcnNlKGtleXdvcmRNYXBwaW5nKTtcblxuICBjb25zdCBuZXdLZXl3b3JkcyA9XG4gICAgcHJvcG9zYWwgIT09IHVuZGVmaW5lZFxuICAgICAgPyBtYXBLZXl3b3Jkcyhwcm9wb3NhbC5naXZlLCBtYXBwaW5nUmV2ZXJzZWQpXG4gICAgICA6IGhhcmRlbih7fSk7XG5cbiAgLy9cbiAgLy9cbiAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCB3aXRoZHJhd0Zyb21TZWF0KHpjZiwgZnJvbVNlYXQsIG5ld0tleXdvcmRzKTtcblxuICAvL1xuICBjb25zdCBwYXltZW50c0Zvck90aGVyQ29udHJhY3QgPSBtYXBLZXl3b3JkcyhwYXltZW50cywga2V5d29yZE1hcHBpbmcpO1xuXG4gIGNvbnN0IHVzZXJTZWF0UHJvbWlzZSA9IEUoem9lKS5vZmZlcihcbiAgICBpbnZpdGF0aW9uLFxuICAgIHByb3Bvc2FsLFxuICAgIHBheW1lbnRzRm9yT3RoZXJDb250cmFjdCxcbiAgICBvZmZlckFyZ3MsXG4gICk7XG5cbiAgY29uc3QgZGVwb3NpdGVkUHJvbWlzZUtpdCA9IG1ha2VQcm9taXNlS2l0KCk7XG5cbiAgY29uc3QgZG9EZXBvc2l0ID0gYXN5bmMgcGF5b3V0UGF5bWVudHMgPT4ge1xuICAgIC8vXG4gICAgY29uc3QgYW1vdW50cyA9IGF3YWl0IEUodXNlclNlYXRQcm9taXNlKS5nZXRGaW5hbEFsbG9jYXRpb24oKTtcblxuICAgIC8vXG4gICAgY29uc3QgbWFwcGVkQW1vdW50cyA9IG1hcEtleXdvcmRzKGFtb3VudHMsIG1hcHBpbmdSZXZlcnNlZCk7XG4gICAgY29uc3QgbWFwcGVkUGF5bWVudHMgPSBtYXBLZXl3b3JkcyhwYXlvdXRQYXltZW50cywgbWFwcGluZ1JldmVyc2VkKTtcbiAgICBhd2FpdCBkZXBvc2l0VG9TZWF0KHpjZiwgZGVmaW5lZFRvU2VhdCwgbWFwcGVkQW1vdW50cywgbWFwcGVkUGF5bWVudHMpO1xuICAgIGRlcG9zaXRlZFByb21pc2VLaXQucmVzb2x2ZShtYXBwZWRBbW91bnRzKTtcbiAgfTtcblxuICB2b2lkIEUodXNlclNlYXRQcm9taXNlKS5nZXRQYXlvdXRzKCkudGhlbihkb0RlcG9zaXQpO1xuXG4gIC8vXG4gIHJldHVybiBoYXJkZW4oeyB1c2VyU2VhdFByb21pc2UsIGRlcG9zaXRlZDogZGVwb3NpdGVkUHJvbWlzZUtpdC5wcm9taXNlIH0pO1xufTskaM2PX29uY2Uub2ZmZXJUbyhvZmZlclRvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHRBY2NlcHRhbmNlTXNnIjpbImRlZmF1bHRBY2NlcHRhbmNlTXNnIl0sImFzc2VydElzc3VlcktleXdvcmRzIjpbImFzc2VydElzc3VlcktleXdvcmRzIl0sInNhdGlzZmllcyI6WyJzYXRpc2ZpZXMiXSwic3dhcCI6WyJzd2FwIl0sInN3YXBFeGFjdCI6WyJzd2FwRXhhY3QiXSwiZml0UHJvcG9zYWxTaGFwZSI6WyJmaXRQcm9wb3NhbFNoYXBlIl0sImFzc2VydFByb3Bvc2FsU2hhcGUiOlsiYXNzZXJ0UHJvcG9zYWxTaGFwZSJdLCJhc3NlcnROYXRBc3NldEtpbmQiOlsiYXNzZXJ0TmF0QXNzZXRLaW5kIl0sImRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnIjpbImRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnIl0sImRlcG9zaXRUb1NlYXQiOlsiZGVwb3NpdFRvU2VhdCJdLCJ3aXRoZHJhd0Zyb21TZWF0IjpbIndpdGhkcmF3RnJvbVNlYXQiXSwic2F2ZUFsbElzc3VlcnMiOlsic2F2ZUFsbElzc3VlcnMiXSwibWFwS2V5d29yZHMiOlsibWFwS2V5d29yZHMiXSwib2ZmZXJUbyI6WyJvZmZlclRvIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFiWqOenSAAAp0gAACUAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy90eXBlR3VhcmRzLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvbm90aWZpZXIiLCJAYWdvcmljL3N0b3JlIiwiQGFnb3JpYy90aW1lIl0sImV4cG9ydHMiOlsiQWRtaW5GYWNldEkiLCJBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUiLCJBbW91bnRQYXR0ZXJuS2V5d29yZFJlY29yZFNoYXBlIiwiQnJhbmRLZXl3b3JkUmVjb3JkU2hhcGUiLCJCdW5kbGVDYXBTaGFwZSIsIkJ1bmRsZVNoYXBlIiwiRW1wdHlQcm9wb3NhbFNoYXBlIiwiRXhpdE9iamVjdEkiLCJFeGl0T2JqZWN0U2hhcGUiLCJGZWVNaW50QWNjZXNzU2hhcGUiLCJGdWxsUHJvcG9zYWxTaGFwZSIsIkhhbmRsZUkiLCJIYW5kbGVPZmZlckkiLCJJbnN0YWxsYXRpb25TaGFwZSIsIkluc3RhbmNlQWRtaW5JIiwiSW5zdGFuY2VBZG1pblNoYXBlIiwiSW5zdGFuY2VIYW5kbGVTaGFwZSIsIkluc3RhbmNlUmVjb3JkU2hhcGUiLCJJbnN0YW5jZVN0b3JhZ2VNYW5hZ2VySUtpdCIsIkludml0YXRpb25FbGVtZW50U2hhcGUiLCJJbnZpdGF0aW9uSGFuZGxlU2hhcGUiLCJJbnZpdGF0aW9uU2hhcGUiLCJJc3N1ZXJLZXl3b3JkUmVjb3JkU2hhcGUiLCJJc3N1ZXJQS2V5d29yZFJlY29yZFNoYXBlIiwiSXNzdWVyUmVjb3JkU2hhcGUiLCJLZXl3b3JkU2hhcGUiLCJPZmZlckhhbmRsZXJJIiwiUGF5bWVudFBLZXl3b3JkUmVjb3JkU2hhcGUiLCJQcmljZVF1b3RlU2hhcGUiLCJQcm9wb3NhbFNoYXBlIiwiU2VhdERhdGFTaGFwZSIsIlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlIiwiU2VhdFNoYXBlIiwiVGVybXNTaGFwZSIsIlRpbWVyU2hhcGUiLCJVbndyYXBwZWRJbnN0YWxsYXRpb25TaGFwZSIsIlpvZU1pbnRJIiwiWm9lTWludFNoYXBlIiwiWm9lU2VydmljZUkiLCJab2VTdG9yYWdlTWFuYWdlcklLaXQiLCJpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSIsImlzT25EZW1hbmRFeGl0UnVsZSIsImlzV2FpdmVkRXhpdFJ1bGUiLCJtYWtlSGFuZGxlU2hhcGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRTaGFwZSxBc3NldEtpbmRTaGFwZSxCcmFuZFNoYXBlLERpc3BsYXlJbmZvU2hhcGUsSXNzdWVyS2l0U2hhcGUsSXNzdWVyU2hhcGUsUGF5bWVudFNoYXBlLFN1YnNjcmliZXJTaGFwZSxNLFRpbWVzdGFtcFNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJBbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKEFtb3VudFNoYXBlID0gJGjNj19hKV1dLFtcIkFzc2V0S2luZFNoYXBlXCIsWyRozY9fYSA9PiAoQXNzZXRLaW5kU2hhcGUgPSAkaM2PX2EpXV0sW1wiQnJhbmRTaGFwZVwiLFskaM2PX2EgPT4gKEJyYW5kU2hhcGUgPSAkaM2PX2EpXV0sW1wiRGlzcGxheUluZm9TaGFwZVwiLFskaM2PX2EgPT4gKERpc3BsYXlJbmZvU2hhcGUgPSAkaM2PX2EpXV0sW1wiSXNzdWVyS2l0U2hhcGVcIixbJGjNj19hID0+IChJc3N1ZXJLaXRTaGFwZSA9ICRozY9fYSldXSxbXCJJc3N1ZXJTaGFwZVwiLFskaM2PX2EgPT4gKElzc3VlclNoYXBlID0gJGjNj19hKV1dLFtcIlBheW1lbnRTaGFwZVwiLFskaM2PX2EgPT4gKFBheW1lbnRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXJcIiwgW1tcIlN1YnNjcmliZXJTaGFwZVwiLFskaM2PX2EgPT4gKFN1YnNjcmliZXJTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvc3RvcmVcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy90aW1lXCIsIFtbXCJUaW1lc3RhbXBTaGFwZVwiLFskaM2PX2EgPT4gKFRpbWVzdGFtcFNoYXBlID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuICAgICAgIGNvbnN0IEtleXdvcmRTaGFwZSA9IE0uc3RyaW5nKCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5LZXl3b3JkU2hhcGUoS2V5d29yZFNoYXBlKTtcbiAgICAgICBjb25zdCBJbnZpdGF0aW9uSGFuZGxlU2hhcGUgPSBNLnJlbW90YWJsZSgnSW52aXRhdGlvbkhhbmRsZScpO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkludml0YXRpb25IYW5kbGVTaGFwZShJbnZpdGF0aW9uSGFuZGxlU2hhcGUpO1xuICAgICAgIGNvbnN0IEludml0YXRpb25TaGFwZSA9IE0ucmVtb3RhYmxlKCdJbnZpdGF0aW9uJyk7JGjNj19vbmNlLkludml0YXRpb25TaGFwZShJbnZpdGF0aW9uU2hhcGUpO1xuICAgICAgIGNvbnN0IEluc3RhbmNlSGFuZGxlU2hhcGUgPSBNLnJlbW90YWJsZSgnSW5zdGFuY2VIYW5kbGUnKTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkluc3RhbmNlSGFuZGxlU2hhcGUoSW5zdGFuY2VIYW5kbGVTaGFwZSk7XG4gICAgICAgY29uc3QgSW5zdGFsbGF0aW9uU2hhcGUgPSBNLnJlbW90YWJsZSgnSW5zdGFsbGF0aW9uJyk7JGjNj19vbmNlLkluc3RhbGxhdGlvblNoYXBlKEluc3RhbGxhdGlvblNoYXBlKTtcbiAgICAgICBjb25zdCBTZWF0U2hhcGUgPSBNLnJlbW90YWJsZSgnU2VhdCcpOyRozY9fb25jZS5TZWF0U2hhcGUoU2VhdFNoYXBlKTtcblxuICAgICAgIGNvbnN0IEFtb3VudEtleXdvcmRSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoS2V5d29yZFNoYXBlLCBBbW91bnRTaGFwZSk7JGjNj19vbmNlLkFtb3VudEtleXdvcmRSZWNvcmRTaGFwZShBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUpO1xuICAgICAgIGNvbnN0IEFtb3VudFBhdHRlcm5LZXl3b3JkUmVjb3JkU2hhcGUgPSBNLnJlY29yZE9mKFxuICBLZXl3b3JkU2hhcGUsXG4gIE0ucGF0dGVybigpLFxuKTskaM2PX29uY2UuQW1vdW50UGF0dGVybktleXdvcmRSZWNvcmRTaGFwZShBbW91bnRQYXR0ZXJuS2V5d29yZFJlY29yZFNoYXBlKTtcbiAgICAgICBjb25zdCBQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoXG4gIEtleXdvcmRTaGFwZSxcbiAgTS5lcmVmKFBheW1lbnRTaGFwZSksXG4pOyRozY9fb25jZS5QYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZShQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSk7XG4gICAgICAgY29uc3QgSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlID0gTS5yZWNvcmRPZihLZXl3b3JkU2hhcGUsIElzc3VlclNoYXBlKTskaM2PX29uY2UuSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlKElzc3VlcktleXdvcmRSZWNvcmRTaGFwZSk7XG4gICAgICAgY29uc3QgSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoXG4gIEtleXdvcmRTaGFwZSxcbiAgTS5lcmVmKElzc3VlclNoYXBlKSxcbik7JGjNj19vbmNlLklzc3VlclBLZXl3b3JkUmVjb3JkU2hhcGUoSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSk7XG4gICAgICAgY29uc3QgQnJhbmRLZXl3b3JkUmVjb3JkU2hhcGUgPSBNLnJlY29yZE9mKEtleXdvcmRTaGFwZSwgQnJhbmRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkJyYW5kS2V5d29yZFJlY29yZFNoYXBlKEJyYW5kS2V5d29yZFJlY29yZFNoYXBlKTtcbiAgICAgICBjb25zdCBJc3N1ZXJSZWNvcmRTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHtcbiAgICBicmFuZDogQnJhbmRTaGFwZSxcbiAgICBpc3N1ZXI6IElzc3VlclNoYXBlLFxuICAgIGFzc2V0S2luZDogQXNzZXRLaW5kU2hhcGUsXG4gIH0sXG4gIHsgZGlzcGxheUluZm86IERpc3BsYXlJbmZvU2hhcGUgfSxcbik7JGjNj19vbmNlLklzc3VlclJlY29yZFNoYXBlKElzc3VlclJlY29yZFNoYXBlKTtcblxuICAgICAgIGNvbnN0IFRlcm1zU2hhcGUgPSB7XG4gIGlzc3VlcnM6IElzc3VlcktleXdvcmRSZWNvcmRTaGFwZSxcbiAgYnJhbmRzOiBCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSxcbn07JGjNj19vbmNlLlRlcm1zU2hhcGUoVGVybXNTaGFwZSk7XG5oYXJkZW4oVGVybXNTaGFwZSk7XG5cbiAgICAgICBjb25zdCBJbnN0YW5jZVJlY29yZFNoYXBlID0ge1xuICBpbnN0YWxsYXRpb246IEluc3RhbGxhdGlvblNoYXBlLFxuICBpbnN0YW5jZTogSW5zdGFuY2VIYW5kbGVTaGFwZSxcbiAgdGVybXM6IE0uc3BsaXRSZWNvcmQoVGVybXNTaGFwZSksXG59OyRozY9fb25jZS5JbnN0YW5jZVJlY29yZFNoYXBlKEluc3RhbmNlUmVjb3JkU2hhcGUpO1xuaGFyZGVuKEluc3RhbmNlUmVjb3JkU2hhcGUpO1xuXG4gICAgICAgY29uc3QgSGFuZGxlSSA9IE0uaW50ZXJmYWNlKCdIYW5kbGUnLCB7fSk7JGjNj19vbmNlLkhhbmRsZUkoSGFuZGxlSSk7XG5cbiAgICAgICBjb25zdCBtYWtlSGFuZGxlU2hhcGUgPSBuYW1lID0+IE0ucmVtb3RhYmxlKGAke25hbWV9SGFuZGxlYCk7JGjNj19vbmNlLm1ha2VIYW5kbGVTaGFwZShtYWtlSGFuZGxlU2hhcGUpO1xuICAgICAgIGNvbnN0IFRpbWVyU2hhcGUgPSBtYWtlSGFuZGxlU2hhcGUoJ3RpbWVyJyk7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuVGltZXJTaGFwZShUaW1lclNoYXBlKTtcbiAgICAgICBjb25zdCBGdWxsUHJvcG9zYWxTaGFwZSA9IHtcbiAgd2FudDogQW1vdW50UGF0dGVybktleXdvcmRSZWNvcmRTaGFwZSxcbiAgZ2l2ZTogQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxuICAvL1xuICAvL1xuICAvL1xuICBleGl0OiBNLnNwbGl0UmVjb3JkKFxuICAgIHt9LFxuICAgIHtcbiAgICAgIG9uRGVtYW5kOiBudWxsLFxuICAgICAgd2FpdmVkOiBudWxsLFxuICAgICAgYWZ0ZXJEZWFkbGluZToge1xuICAgICAgICB0aW1lcjogTS5lcmVmKFRpbWVyU2hhcGUpLFxuICAgICAgICBkZWFkbGluZTogVGltZXN0YW1wU2hhcGUsXG4gICAgICB9LFxuICAgIH0sXG4gICAge30sXG4gICksXG59OyRozY9fb25jZS5GdWxsUHJvcG9zYWxTaGFwZShGdWxsUHJvcG9zYWxTaGFwZSk7XG5oYXJkZW4oRnVsbFByb3Bvc2FsU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBQcm9wb3NhbFNoYXBlID0gTS5zcGxpdFJlY29yZCh7fSwgRnVsbFByb3Bvc2FsU2hhcGUsIHt9KTskaM2PX29uY2UuUHJvcG9zYWxTaGFwZShQcm9wb3NhbFNoYXBlKTtcblxuICAgICAgIGNvbnN0IEVtcHR5UHJvcG9zYWxTaGFwZSA9IE0uc3BsaXRSZWNvcmQoe1xuICBnaXZlOiB7fSxcbiAgd2FudDoge30sXG4gIGV4aXQ6IHsgb25EZW1hbmQ6IG51bGwgfSxcbn0pOyRozY9fb25jZS5FbXB0eVByb3Bvc2FsU2hhcGUoRW1wdHlQcm9wb3NhbFNoYXBlKTtcblxuICAgICAgIGNvbnN0IGlzT25EZW1hbmRFeGl0UnVsZSA9IGV4aXQgPT4ge1xuICBjb25zdCBbZXhpdEtleV0gPSBPYmplY3Qua2V5cyhleGl0KTtcbiAgcmV0dXJuIGV4aXRLZXkgPT09ICdvbkRlbWFuZCc7XG59OyRozY9fb25jZS5pc09uRGVtYW5kRXhpdFJ1bGUoaXNPbkRlbWFuZEV4aXRSdWxlKTtcbmhhcmRlbihpc09uRGVtYW5kRXhpdFJ1bGUpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzV2FpdmVkRXhpdFJ1bGUgPSBleGl0ID0+IHtcbiAgY29uc3QgW2V4aXRLZXldID0gT2JqZWN0LmtleXMoZXhpdCk7XG4gIHJldHVybiBleGl0S2V5ID09PSAnd2FpdmVkJztcbn07JGjNj19vbmNlLmlzV2FpdmVkRXhpdFJ1bGUoaXNXYWl2ZWRFeGl0UnVsZSk7XG5oYXJkZW4oaXNXYWl2ZWRFeGl0UnVsZSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaXNBZnRlckRlYWRsaW5lRXhpdFJ1bGUgPSBleGl0ID0+IHtcbiAgY29uc3QgW2V4aXRLZXldID0gT2JqZWN0LmtleXMoZXhpdCk7XG4gIHJldHVybiBleGl0S2V5ID09PSAnYWZ0ZXJEZWFkbGluZSc7XG59OyRozY9fb25jZS5pc0FmdGVyRGVhZGxpbmVFeGl0UnVsZShpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSk7XG5oYXJkZW4oaXNBZnRlckRlYWRsaW5lRXhpdFJ1bGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgSW52aXRhdGlvbkVsZW1lbnRTaGFwZSA9IE0uc3BsaXRSZWNvcmQoe1xuICBkZXNjcmlwdGlvbjogTS5zdHJpbmcoKSxcbiAgaGFuZGxlOiBJbnZpdGF0aW9uSGFuZGxlU2hhcGUsXG4gIGluc3RhbmNlOiBJbnN0YW5jZUhhbmRsZVNoYXBlLFxuICBpbnN0YWxsYXRpb246IEluc3RhbGxhdGlvblNoYXBlLFxufSk7JGjNj19vbmNlLkludml0YXRpb25FbGVtZW50U2hhcGUoSW52aXRhdGlvbkVsZW1lbnRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBPZmZlckhhbmRsZXJJID0gTS5pbnRlcmZhY2UoJ09mZmVySGFuZGxlcicsIHtcbiAgaGFuZGxlOiBNLmNhbGwoU2VhdFNoYXBlKS5vcHRpb25hbChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxufSk7JGjNj19vbmNlLk9mZmVySGFuZGxlckkoT2ZmZXJIYW5kbGVySSk7XG5cbiAgICAgICBjb25zdCBTZWF0SGFuZGxlQWxsb2NhdGlvbnNTaGFwZSA9IE0uYXJyYXlPZih7XG4gIHNlYXRIYW5kbGU6IFNlYXRTaGFwZSxcbiAgYWxsb2NhdGlvbjogQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxufSk7JGjNj19vbmNlLlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlKFNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlKTtcblxuICAgICAgIGNvbnN0IFpvZU1pbnRTaGFwZSA9IE0ucmVtb3RhYmxlKCdab2VNaW50Jyk7JGjNj19vbmNlLlpvZU1pbnRTaGFwZShab2VNaW50U2hhcGUpO1xuICAgICAgIGNvbnN0IFpvZU1pbnRJID0gTS5pbnRlcmZhY2UoJ1pvZU1pbnQnLCB7XG4gIGdldElzc3VlclJlY29yZDogTS5jYWxsKCkucmV0dXJucyhJc3N1ZXJSZWNvcmRTaGFwZSksXG4gIG1pbnRBbmRFc2Nyb3c6IE0uY2FsbChBbW91bnRTaGFwZSkucmV0dXJucygpLFxuICB3aXRoZHJhd0FuZEJ1cm46IE0uY2FsbChBbW91bnRTaGFwZSkucmV0dXJucygpLFxufSk7JGjNj19vbmNlLlpvZU1pbnRJKFpvZU1pbnRJKTtcblxuICAgICAgIGNvbnN0IEZlZU1pbnRBY2Nlc3NTaGFwZSA9IE0ucmVtb3RhYmxlKCdGZWVNaW50QWNjZXNzJyk7JGjNj19vbmNlLkZlZU1pbnRBY2Nlc3NTaGFwZShGZWVNaW50QWNjZXNzU2hhcGUpO1xuXG4gICAgICAgY29uc3QgRXhpdE9iamVjdEkgPSBNLmludGVyZmFjZSgnRXhpdCBPYmplY3QnLCB7XG4gIGV4aXQ6IE0uY2FsbCgpLnJldHVybnMoKSxcbn0pOyRozY9fb25jZS5FeGl0T2JqZWN0SShFeGl0T2JqZWN0SSk7XG5cbiAgICAgICBjb25zdCBFeGl0T2JqZWN0U2hhcGUgPSBNLnJlbW90YWJsZSgnRXhpdE9iaicpOyRozY9fb25jZS5FeGl0T2JqZWN0U2hhcGUoRXhpdE9iamVjdFNoYXBlKTtcbiAgICAgICBjb25zdCBJbnN0YW5jZUFkbWluU2hhcGUgPSBNLnJlbW90YWJsZSgnSW5zdGFuY2VBZG1pbicpOyRozY9fb25jZS5JbnN0YW5jZUFkbWluU2hhcGUoSW5zdGFuY2VBZG1pblNoYXBlKTtcbiAgICAgICBjb25zdCBJbnN0YW5jZUFkbWluSSA9IE0uaW50ZXJmYWNlKCdJbnN0YW5jZUFkbWluJywge1xuICBtYWtlSW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSwgTS5zdHJpbmcoKSlcbiAgICAub3B0aW9uYWwoTS5yZWNvcmQoKSwgTS5wYXR0ZXJuKCkpXG4gICAgLnJldHVybnMoSW52aXRhdGlvblNoYXBlKSxcbiAgc2F2ZUlzc3VlcjogTS5jYWxsV2hlbihNLmF3YWl0KElzc3VlclNoYXBlKSwgS2V5d29yZFNoYXBlKS5yZXR1cm5zKFxuICAgIElzc3VlclJlY29yZFNoYXBlLFxuICApLFxuICBtYWtlTm9Fc2Nyb3dTZWF0OiBNLmNhbGwoXG4gICAgQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxuICAgIFByb3Bvc2FsU2hhcGUsXG4gICAgRXhpdE9iamVjdFNoYXBlLFxuICAgIFNlYXRTaGFwZSxcbiAgKS5yZXR1cm5zKFNlYXRTaGFwZSksXG4gIGV4aXRBbGxTZWF0czogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoKSxcbiAgZmFpbEFsbFNlYXRzOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucygpLFxuICBleGl0U2VhdDogTS5jYWxsKFNlYXRTaGFwZSwgTS5hbnkoKSkucmV0dXJucygpLFxuICBmYWlsU2VhdDogTS5jYWxsKFNlYXRTaGFwZSwgTS5hbnkoKSkucmV0dXJucygpLFxuICBtYWtlWm9lTWludDogTS5jYWxsKEtleXdvcmRTaGFwZSlcbiAgICAub3B0aW9uYWwoXG4gICAgICBBc3NldEtpbmRTaGFwZSxcbiAgICAgIERpc3BsYXlJbmZvU2hhcGUsXG4gICAgICBNLnNwbGl0UmVjb3JkKHt9LCB7IGVsZW1lbnRTaGFwZTogTS5wYXR0ZXJuKCkgfSksXG4gICAgKVxuICAgIC5yZXR1cm5zKE0ucmVtb3RhYmxlKCd6b2VNaW50JykpLFxuICByZWdpc3RlckZlZU1pbnQ6IE0uY2FsbChLZXl3b3JkU2hhcGUsIEZlZU1pbnRBY2Nlc3NTaGFwZSkucmV0dXJucyhcbiAgICBNLnJlbW90YWJsZSgnZmVlTWludCcpLFxuICApLFxuICByZXBsYWNlQWxsb2NhdGlvbnM6IE0uY2FsbChTZWF0SGFuZGxlQWxsb2NhdGlvbnNTaGFwZSkucmV0dXJucygpLFxuICBzdG9wQWNjZXB0aW5nT2ZmZXJzOiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gIHNldE9mZmVyRmlsdGVyOiBNLmNhbGwoTS5hcnJheU9mKE0uc3RyaW5nKCkpKS5yZXR1cm5zKCksXG4gIGdldE9mZmVyRmlsdGVyOiBNLmNhbGwoKS5yZXR1cm5zKE0uYXJyYXlPZihNLnN0cmluZygpKSksXG4gIGdldEV4aXRTdWJzY3JpYmVyOiBNLmNhbGwoU2VhdFNoYXBlKS5yZXR1cm5zKFN1YnNjcmliZXJTaGFwZSksXG4gIGlzQmxvY2tlZDogTS5jYWxsKE0uc3RyaW5nKCkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICByZXBhaXJDb250cmFjdENvbXBsZXRpb25XYXRjaGVyOiBNLmNhbGwoKS5yZXR1cm5zKCksXG59KTskaM2PX29uY2UuSW5zdGFuY2VBZG1pbkkoSW5zdGFuY2VBZG1pbkkpO1xuXG4gICAgICAgY29uc3QgSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQgPSB7XG4gIGluc3RhbmNlU3RvcmFnZU1hbmFnZXI6IE0uaW50ZXJmYWNlKCdJbnN0YW5jZVN0b3JhZ2VNYW5hZ2VyJywge1xuICAgIGdldFRlcm1zOiBNLmNhbGwoKS5yZXR1cm5zKE0uc3BsaXRSZWNvcmQoVGVybXNTaGFwZSkpLFxuICAgIGdldElzc3VlcnM6IE0uY2FsbCgpLnJldHVybnMoSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlKSxcbiAgICBnZXRCcmFuZHM6IE0uY2FsbCgpLnJldHVybnMoQnJhbmRLZXl3b3JkUmVjb3JkU2hhcGUpLFxuICAgIGdldEluc3RhbGxhdGlvbjogTS5jYWxsKCkucmV0dXJucyhJbnN0YWxsYXRpb25TaGFwZSksXG4gICAgZ2V0SW52aXRhdGlvbklzc3VlcjogTS5jYWxsKCkucmV0dXJucyhJc3N1ZXJTaGFwZSksXG5cbiAgICBzYXZlSXNzdWVyOiBNLmNhbGwoSXNzdWVyU2hhcGUsIEtleXdvcmRTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgbWFrZVpvZU1pbnQ6IE0uY2FsbChLZXl3b3JkU2hhcGUpXG4gICAgICAub3B0aW9uYWwoXG4gICAgICAgIEFzc2V0S2luZFNoYXBlLFxuICAgICAgICBEaXNwbGF5SW5mb1NoYXBlLFxuICAgICAgICBNLnNwbGl0UmVjb3JkKHt9LCB7IGVsZW1lbnRTaGFwZTogTS5wYXR0ZXJuKCkgfSksXG4gICAgICApXG4gICAgICAucmV0dXJucyhNLmVyZWYoWm9lTWludFNoYXBlKSksXG4gICAgcmVnaXN0ZXJGZWVNaW50OiBNLmNhbGwoS2V5d29yZFNoYXBlLCBGZWVNaW50QWNjZXNzU2hhcGUpLnJldHVybnMoXG4gICAgICBNLnJlbW90YWJsZSgnZmVlTWludCcpLFxuICAgICksXG4gICAgZ2V0SW5zdGFuY2VSZWNvcmQ6IE0uY2FsbCgpLnJldHVybnMoSW5zdGFuY2VSZWNvcmRTaGFwZSksXG4gICAgZ2V0SXNzdWVyUmVjb3JkczogTS5jYWxsKCkucmV0dXJucyhNLmFycmF5T2YoSXNzdWVyUmVjb3JkU2hhcGUpKSxcbiAgICBnZXRXaXRoZHJhd0ZhY2V0OiBNLmNhbGwoKS5yZXR1cm5zKE0ucmVtb3RhYmxlKCdXaXRoZHJhd0ZhY2V0JykpLFxuICAgIGluaXRJbnN0YW5jZUFkbWluOiBNLmNhbGwoXG4gICAgICBJbnN0YW5jZUhhbmRsZVNoYXBlLFxuICAgICAgTS5yZW1vdGFibGUoJ2luc3RhbmNlQWRtaW4nKSxcbiAgICApLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIGRlbGV0ZUluc3RhbmNlQWRtaW46IE0uY2FsbChJbnN0YW5jZUFkbWluU2hhcGUpLnJldHVybnMoKSxcbiAgICBtYWtlSW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSwgTS5zdHJpbmcoKSlcbiAgICAgIC5vcHRpb25hbChNLnJlY29yZCgpLCBNLnBhdHRlcm4oKSlcbiAgICAgIC5yZXR1cm5zKFBheW1lbnRTaGFwZSksXG4gICAgZ2V0Um9vdDogTS5jYWxsKCkucmV0dXJucyhNLmFueSgpKSxcbiAgICBnZXRBZG1pbk5vZGU6IE0uY2FsbCgpLnJldHVybnMoTS5yZW1vdGFibGUoJ2FkbWluTm9kZScpKSxcbiAgfSksXG4gIHdpdGhkcmF3RmFjZXQ6IE0uaW50ZXJmYWNlKCdXaXRoZHJhd0ZhY2V0Jywge1xuICAgIHdpdGhkcmF3UGF5bWVudHM6IE0uY2FsbChBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUpLnJldHVybnMoXG4gICAgICBQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSxcbiAgICApLFxuICB9KSxcbiAgaGVscGVyczogTS5pbnRlcmZhY2UoJ0luc3RhbmNlU3RvcmFnZU1hbmFnZXIgaGVscGVyJywge1xuICAgIHdyYXBJc3N1ZXJLaXRXaXRoWm9lTWludDogTS5jYWxsKFxuICAgICAgS2V5d29yZFNoYXBlLFxuICAgICAgSXNzdWVyS2l0U2hhcGUsXG4gICAgICBNLnJlbW90YWJsZSgnYWRtaW5Ob2RlJyksXG4gICAgKS5yZXR1cm5zKFpvZU1pbnRTaGFwZSksXG4gIH0pLFxufTskaM2PX29uY2UuSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQoSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQpO1xuaGFyZGVuKEluc3RhbmNlU3RvcmFnZU1hbmFnZXJJS2l0KTtcblxuICAgICAgIGNvbnN0IEJ1bmRsZUNhcFNoYXBlID0gTS5yZW1vdGFibGUoJ2J1bmRsZUNhcCcpOyRozY9fb25jZS5CdW5kbGVDYXBTaGFwZShCdW5kbGVDYXBTaGFwZSk7XG4gICAgICAgY29uc3QgQnVuZGxlU2hhcGUgPSBNLmFuZChcbiAgTS5zcGxpdFJlY29yZCh7IG1vZHVsZUZvcm1hdDogTS5hbnkoKSB9KSxcbiAgTS5yZWNvcmRPZihNLnN0cmluZygpLCBNLnN0cmluZyh7IHN0cmluZ0xlbmd0aExpbWl0OiBJbmZpbml0eSB9KSksXG4pOyRozY9fb25jZS5CdW5kbGVTaGFwZShCdW5kbGVTaGFwZSk7XG5cbiAgICAgICBjb25zdCBVbndyYXBwZWRJbnN0YWxsYXRpb25TaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHsgaW5zdGFsbGF0aW9uOiBJbnN0YWxsYXRpb25TaGFwZSB9LFxuICB7XG4gICAgYnVuZGxlOiBNLnJlY29yZE9mKE0uc3RyaW5nKCksIE0uc3RyaW5nKHsgc3RyaW5nTGVuZ3RoTGltaXQ6IEluZmluaXR5IH0pKSxcbiAgICBidW5kbGVDYXA6IEJ1bmRsZUNhcFNoYXBlLFxuICAgIGJ1bmRsZUlEOiBNLnN0cmluZygpLFxuICB9LFxuICB7fSxcbik7JGjNj19vbmNlLlVud3JhcHBlZEluc3RhbGxhdGlvblNoYXBlKFVud3JhcHBlZEluc3RhbGxhdGlvblNoYXBlKTtcblxuICAgICAgIGNvbnN0IFpvZVN0b3JhZ2VNYW5hZ2VySUtpdCA9IHtcbiAgem9lU2VydmljZURhdGFBY2Nlc3M6IE0uaW50ZXJmYWNlKCdab2VTZXJ2aWNlIGRhdGFBY2Nlc3MnLCB7XG4gICAgZ2V0VGVybXM6IE0uY2FsbChJbnN0YW5jZUhhbmRsZVNoYXBlKS5yZXR1cm5zKE0uc3BsaXRSZWNvcmQoVGVybXNTaGFwZSkpLFxuICAgIGdldElzc3VlcnM6IE0uY2FsbChJbnN0YW5jZUhhbmRsZVNoYXBlKS5yZXR1cm5zKElzc3VlcktleXdvcmRSZWNvcmRTaGFwZSksXG4gICAgZ2V0QnJhbmRzOiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSksXG4gICAgZ2V0SW5zdGFsbGF0aW9uOiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0uZXJlZihNLnJlbW90YWJsZSgnSW5zdGFsbGF0aW9uJykpLFxuICAgICksXG4gICAgZ2V0SW52aXRhdGlvbklzc3VlcjogTS5jYWxsKCkucmV0dXJucyhJc3N1ZXJTaGFwZSksXG5cbiAgICBnZXRCdW5kbGVJREZyb21JbnN0YWxsYXRpb246IE0uY2FsbChJbnN0YWxsYXRpb25TaGFwZSkucmV0dXJucyhcbiAgICAgIE0uZXJlZihNLnN0cmluZygpKSxcbiAgICApLFxuICAgIGluc3RhbGxCdW5kbGU6IE0uY2FsbChCdW5kbGVTaGFwZSlcbiAgICAgIC5vcHRpb25hbChNLnN0cmluZygpKVxuICAgICAgLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIGluc3RhbGxCdW5kbGVJRDogTS5jYWxsKE0uc3RyaW5nKCkpXG4gICAgICAub3B0aW9uYWwoTS5zdHJpbmcoKSlcbiAgICAgIC5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcblxuICAgIGdldFB1YmxpY0ZhY2V0OiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0uZXJlZihNLnJlbW90YWJsZSgnUHVibGljRmFjZXQnKSksXG4gICAgKSxcbiAgICBnZXRPZmZlckZpbHRlcjogTS5jYWxsKEluc3RhbmNlSGFuZGxlU2hhcGUpLnJldHVybnMoTS5hcnJheU9mKE0uc3RyaW5nKCkpKSxcbiAgICBnZXRQcm9wb3NhbFNoYXBlRm9ySW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0ub3B0KE0ucGF0dGVybigpKSxcbiAgICApLFxuICB9KSxcbiAgbWFrZU9mZmVyQWNjZXNzOiBNLmludGVyZmFjZSgnWm9lU3RvcmFnZSBtYWtlT2ZmZXIgYWNjZXNzJywge1xuICAgIGdldEFzc2V0S2luZEJ5QnJhbmQ6IE0uY2FsbChCcmFuZFNoYXBlKS5yZXR1cm5zKEFzc2V0S2luZFNoYXBlKSxcbiAgICBnZXRJbnN0YW5jZUFkbWluOiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0ucmVtb3RhYmxlKCdpbnN0YW5jZUFkbWluJyksXG4gICAgKSxcbiAgICBnZXRQcm9wb3NhbFNoYXBlRm9ySW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0ub3B0KE0ucGF0dGVybigpKSxcbiAgICApLFxuICAgIGdldEludml0YXRpb25Jc3N1ZXI6IE0uY2FsbCgpLnJldHVybnMoSXNzdWVyU2hhcGUpLFxuICAgIGRlcG9zaXRQYXltZW50czogTS5jYWxsKFByb3Bvc2FsU2hhcGUsIFBheW1lbnRQS2V5d29yZFJlY29yZFNoYXBlKS5yZXR1cm5zKFxuICAgICAgTS5wcm9taXNlKCksXG4gICAgKSxcbiAgfSksXG4gIHN0YXJ0SW5zdGFuY2VBY2Nlc3M6IE0uaW50ZXJmYWNlKCdab2VTdG9yYWdlIHN0YXJ0SW5zdGFuY2UgYWNjZXNzJywge1xuICAgIG1ha2Vab2VJbnN0YW5jZVN0b3JhZ2VNYW5hZ2VyOiBNLmNhbGwoXG4gICAgICBJbnN0YWxsYXRpb25TaGFwZSxcbiAgICAgIE0uYW55KCksXG4gICAgICBJc3N1ZXJQS2V5d29yZFJlY29yZFNoYXBlLFxuICAgICAgSW5zdGFuY2VIYW5kbGVTaGFwZSxcbiAgICAgIE0ub3IoQnVuZGxlQ2FwU2hhcGUsIEJ1bmRsZVNoYXBlKSxcbiAgICAgIE0uc3RyaW5nKCksXG4gICAgKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICB1bndyYXBJbnN0YWxsYXRpb246IE0uY2FsbFdoZW4oTS5lcmVmKEluc3RhbGxhdGlvblNoYXBlKSkucmV0dXJucyhcbiAgICAgIFVud3JhcHBlZEluc3RhbGxhdGlvblNoYXBlLFxuICAgICksXG4gIH0pLFxuICBpbnZpdGF0aW9uSXNzdWVyQWNjZXNzOiBNLmludGVyZmFjZSgnWm9lU3RvcmFnZSBpbnZpdGF0aW9uSXNzdWVyJywge1xuICAgIGdldEludml0YXRpb25Jc3N1ZXI6IE0uY2FsbCgpLnJldHVybnMoSXNzdWVyU2hhcGUpLFxuICB9KSxcbn07JGjNj19vbmNlLlpvZVN0b3JhZ2VNYW5hZ2VySUtpdChab2VTdG9yYWdlTWFuYWdlcklLaXQpO1xuaGFyZGVuKFpvZVN0b3JhZ2VNYW5hZ2VySUtpdCk7XG5cbiAgICAgICBjb25zdCBab2VTZXJ2aWNlSSA9IE0uaW50ZXJmYWNlKCdab2VTZXJ2aWNlJywge1xuICBpbnN0YWxsOiBNLmNhbGwoTS5hbnkoKSkub3B0aW9uYWwoTS5zdHJpbmcoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGluc3RhbGxCdW5kbGVJRDogTS5jYWxsKE0uc3RyaW5nKCkpLm9wdGlvbmFsKE0uc3RyaW5nKCkpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBzdGFydEluc3RhbmNlOiBNLmNhbGwoTS5lcmVmKEluc3RhbGxhdGlvblNoYXBlKSlcbiAgICAub3B0aW9uYWwoSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSwgTS5yZWNvcmQoKSwgTS5yZWNvcmQoKSwgTS5zdHJpbmcoKSlcbiAgICAucmV0dXJucyhNLnByb21pc2UoKSksXG4gIG9mZmVyOiBNLmNhbGwoTS5lcmVmKEludml0YXRpb25TaGFwZSkpXG4gICAgLm9wdGlvbmFsKFByb3Bvc2FsU2hhcGUsIFBheW1lbnRQS2V5d29yZFJlY29yZFNoYXBlLCBNLmFueSgpKVxuICAgIC5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcblxuICBnZXRPZmZlckZpbHRlcjogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIE0uYXJyYXlPZihNLnN0cmluZygpKSxcbiAgKSxcbiAgZ2V0SW52aXRhdGlvbklzc3VlcjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldEZlZUlzc3VlcjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldEJyYW5kczogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIEJyYW5kS2V5d29yZFJlY29yZFNoYXBlLFxuICApLFxuICBnZXRJc3N1ZXJzOiBNLmNhbGxXaGVuKE0uYXdhaXQoSW5zdGFuY2VIYW5kbGVTaGFwZSkpLnJldHVybnMoXG4gICAgSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlLFxuICApLFxuICBnZXRQdWJsaWNGYWNldDogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIE0ucmVtb3RhYmxlKCdQdWJsaWNGYWNldCcpLFxuICApLFxuICBnZXRUZXJtczogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKE0uYW55KCkpLFxuICBnZXRJbnN0YWxsYXRpb25Gb3JJbnN0YW5jZTogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIE0uZXJlZihNLnJlbW90YWJsZSgnSW5zdGFsbGF0aW9uJykpLFxuICApLFxuICBnZXRCdW5kbGVJREZyb21JbnN0YWxsYXRpb246IE0uY2FsbFdoZW4oTS5hd2FpdChJbnN0YWxsYXRpb25TaGFwZSkpLnJldHVybnMoXG4gICAgTS5lcmVmKE0uc3RyaW5nKCkpLFxuICApLFxuXG4gIGdldEluc3RhbGxhdGlvbjogTS5jYWxsKE0uZXJlZihJbnZpdGF0aW9uU2hhcGUpKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgZ2V0SW5zdGFuY2U6IE0uY2FsbChNLmVyZWYoSW52aXRhdGlvblNoYXBlKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldENvbmZpZ3VyYXRpb246IE0uY2FsbCgpLnJldHVybnMoe1xuICAgIGZlZUlzc3VlckNvbmZpZzoge1xuICAgICAgbmFtZTogTS5zdHJpbmcoKSxcbiAgICAgIGFzc2V0S2luZDogJ25hdCcsXG4gICAgICBkaXNwbGF5SW5mbzogRGlzcGxheUluZm9TaGFwZSxcbiAgICB9LFxuICB9KSxcbiAgZ2V0SW52aXRhdGlvbkRldGFpbHM6IE0uY2FsbChNLmVyZWYoSW52aXRhdGlvblNoYXBlKSkucmV0dXJucyhNLmFueSgpKSxcbiAgZ2V0UHJvcG9zYWxTaGFwZUZvckludml0YXRpb246IE0uY2FsbChJbnZpdGF0aW9uSGFuZGxlU2hhcGUpLnJldHVybnMoXG4gICAgTS5vcHQoTS5wYXR0ZXJuKCkpLFxuICApLFxufSk7JGjNj19vbmNlLlpvZVNlcnZpY2VJKFpvZVNlcnZpY2VJKTtcblxuICAgICAgIGNvbnN0IEFkbWluRmFjZXRJID0gTS5pbnRlcmZhY2UoJ1pjZkFkbWluRmFjZXQnLCB7XG4gIGdldFZhdFNodXRkb3duUHJvbWlzZTogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIHJlc3RhcnRDb250cmFjdDogTS5jYWxsKCkub3B0aW9uYWwoTS5hbnkoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIHVwZ3JhZGVDb250cmFjdDogTS5jYWxsKE0uc3RyaW5nKCkpLm9wdGlvbmFsKE0uYW55KCkpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICB0ZXJtaW5hdGVDb250cmFjdDogTS5jYWxsKE0uZXJyb3IoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG59KTskaM2PX29uY2UuQWRtaW5GYWNldEkoQWRtaW5GYWNldEkpO1xuXG4gICAgICAgY29uc3QgU2VhdERhdGFTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHtcbiAgICBwcm9wb3NhbDogUHJvcG9zYWxTaGFwZSxcbiAgICBpbml0aWFsQWxsb2NhdGlvbjogQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxuICAgIHNlYXRIYW5kbGU6IFNlYXRTaGFwZSxcbiAgfSxcbiAge1xuICAgIG9mZmVyQXJnczogTS5hbnkoKSxcbiAgfSxcbik7JGjNj19vbmNlLlNlYXREYXRhU2hhcGUoU2VhdERhdGFTaGFwZSk7XG5cbiAgICAgICBjb25zdCBIYW5kbGVPZmZlckkgPSBNLmludGVyZmFjZSgnSGFuZGxlT2ZmZXInLCB7XG4gIGhhbmRsZU9mZmVyOiBNLmNhbGwoSW52aXRhdGlvbkhhbmRsZVNoYXBlLCBTZWF0RGF0YVNoYXBlKS5yZXR1cm5zKHtcbiAgICBvZmZlclJlc3VsdFByb21pc2U6IE0ucHJvbWlzZSgpLFxuICAgIGV4aXRPYmo6IEV4aXRPYmplY3RTaGFwZSxcbiAgfSksXG59KTskaM2PX29uY2UuSGFuZGxlT2ZmZXJJKEhhbmRsZU9mZmVySSk7XG5cbiAgICAgICBjb25zdCBQcmljZVF1b3RlU2hhcGUgPSB7XG4gIHF1b3RlQW1vdW50OiBBbW91bnRTaGFwZSxcbiAgcXVvdGVQYXltZW50OiBNLmVyZWYoUGF5bWVudFNoYXBlKSxcbn07JGjNj19vbmNlLlByaWNlUXVvdGVTaGFwZShQcmljZVF1b3RlU2hhcGUpO1xuaGFyZGVuKFByaWNlUXVvdGVTaGFwZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJLZXl3b3JkU2hhcGUiOlsiS2V5d29yZFNoYXBlIl0sIkludml0YXRpb25IYW5kbGVTaGFwZSI6WyJJbnZpdGF0aW9uSGFuZGxlU2hhcGUiXSwiSW52aXRhdGlvblNoYXBlIjpbIkludml0YXRpb25TaGFwZSJdLCJJbnN0YW5jZUhhbmRsZVNoYXBlIjpbIkluc3RhbmNlSGFuZGxlU2hhcGUiXSwiSW5zdGFsbGF0aW9uU2hhcGUiOlsiSW5zdGFsbGF0aW9uU2hhcGUiXSwiU2VhdFNoYXBlIjpbIlNlYXRTaGFwZSJdLCJBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUiOlsiQW1vdW50S2V5d29yZFJlY29yZFNoYXBlIl0sIkFtb3VudFBhdHRlcm5LZXl3b3JkUmVjb3JkU2hhcGUiOlsiQW1vdW50UGF0dGVybktleXdvcmRSZWNvcmRTaGFwZSJdLCJQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSI6WyJQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSJdLCJJc3N1ZXJLZXl3b3JkUmVjb3JkU2hhcGUiOlsiSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlIl0sIklzc3VlclBLZXl3b3JkUmVjb3JkU2hhcGUiOlsiSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSJdLCJCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSI6WyJCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSJdLCJJc3N1ZXJSZWNvcmRTaGFwZSI6WyJJc3N1ZXJSZWNvcmRTaGFwZSJdLCJUZXJtc1NoYXBlIjpbIlRlcm1zU2hhcGUiXSwiSW5zdGFuY2VSZWNvcmRTaGFwZSI6WyJJbnN0YW5jZVJlY29yZFNoYXBlIl0sIkhhbmRsZUkiOlsiSGFuZGxlSSJdLCJtYWtlSGFuZGxlU2hhcGUiOlsibWFrZUhhbmRsZVNoYXBlIl0sIlRpbWVyU2hhcGUiOlsiVGltZXJTaGFwZSJdLCJGdWxsUHJvcG9zYWxTaGFwZSI6WyJGdWxsUHJvcG9zYWxTaGFwZSJdLCJQcm9wb3NhbFNoYXBlIjpbIlByb3Bvc2FsU2hhcGUiXSwiRW1wdHlQcm9wb3NhbFNoYXBlIjpbIkVtcHR5UHJvcG9zYWxTaGFwZSJdLCJpc09uRGVtYW5kRXhpdFJ1bGUiOlsiaXNPbkRlbWFuZEV4aXRSdWxlIl0sImlzV2FpdmVkRXhpdFJ1bGUiOlsiaXNXYWl2ZWRFeGl0UnVsZSJdLCJpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSI6WyJpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSJdLCJJbnZpdGF0aW9uRWxlbWVudFNoYXBlIjpbIkludml0YXRpb25FbGVtZW50U2hhcGUiXSwiT2ZmZXJIYW5kbGVySSI6WyJPZmZlckhhbmRsZXJJIl0sIlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlIjpbIlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlIl0sIlpvZU1pbnRTaGFwZSI6WyJab2VNaW50U2hhcGUiXSwiWm9lTWludEkiOlsiWm9lTWludEkiXSwiRmVlTWludEFjY2Vzc1NoYXBlIjpbIkZlZU1pbnRBY2Nlc3NTaGFwZSJdLCJFeGl0T2JqZWN0SSI6WyJFeGl0T2JqZWN0SSJdLCJFeGl0T2JqZWN0U2hhcGUiOlsiRXhpdE9iamVjdFNoYXBlIl0sIkluc3RhbmNlQWRtaW5TaGFwZSI6WyJJbnN0YW5jZUFkbWluU2hhcGUiXSwiSW5zdGFuY2VBZG1pbkkiOlsiSW5zdGFuY2VBZG1pbkkiXSwiSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQiOlsiSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQiXSwiQnVuZGxlQ2FwU2hhcGUiOlsiQnVuZGxlQ2FwU2hhcGUiXSwiQnVuZGxlU2hhcGUiOlsiQnVuZGxlU2hhcGUiXSwiVW53cmFwcGVkSW5zdGFsbGF0aW9uU2hhcGUiOlsiVW53cmFwcGVkSW5zdGFsbGF0aW9uU2hhcGUiXSwiWm9lU3RvcmFnZU1hbmFnZXJJS2l0IjpbIlpvZVN0b3JhZ2VNYW5hZ2VySUtpdCJdLCJab2VTZXJ2aWNlSSI6WyJab2VTZXJ2aWNlSSJdLCJBZG1pbkZhY2V0SSI6WyJBZG1pbkZhY2V0SSJdLCJTZWF0RGF0YVNoYXBlIjpbIlNlYXREYXRhU2hhcGUiXSwiSGFuZGxlT2ZmZXJJIjpbIkhhbmRsZU9mZmVySSJdLCJQcmljZVF1b3RlU2hhcGUiOlsiUHJpY2VRdW90ZVNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANn0k7SWAQAAlgEAAB4AAABAYWdvcmljL3pvbmUtdjAuMi4yL2R1cmFibGUuanN7ImltcG9ydHMiOlsiLi9zcmMvZHVyYWJsZS5qcyJdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbIi4vc3JjL2R1cmFibGUuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvZHVyYWJsZS5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAiW2D45xEAAOcRAAAiAAAAQGFnb3JpYy96b25lLXYwLjIuMi9zcmMvZHVyYWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBhZ29yaWMvYmFzZS16b25lIl0sImV4cG9ydHMiOlsibWFrZUR1cmFibGVab25lIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxGYXIsaXNQYXNzYWJsZSxjYW5CZUR1cmFibGUsbWFrZVNjYWxhck1hcFN0b3JlLHByZXBhcmVFeG8scHJlcGFyZUV4b0NsYXNzLHByZXBhcmVFeG9DbGFzc0tpdCxwcm92aWRlRHVyYWJsZU1hcFN0b3JlLHByb3ZpZGVEdXJhYmxlU2V0U3RvcmUscHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUscHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUsd2F0Y2hQcm9taXNlLGtleXMsbWFrZU9uY2VLaXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImlzUGFzc2FibGVcIixbJGjNj19hID0+IChpc1Bhc3NhYmxlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wiY2FuQmVEdXJhYmxlXCIsWyRozY9fYSA9PiAoY2FuQmVEdXJhYmxlID0gJGjNj19hKV1dLFtcIm1ha2VTY2FsYXJNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJNYXBTdG9yZSA9ICRozY9fYSldXSxbXCJwcmVwYXJlRXhvXCIsWyRozY9fYSA9PiAocHJlcGFyZUV4byA9ICRozY9fYSldXSxbXCJwcmVwYXJlRXhvQ2xhc3NcIixbJGjNj19hID0+IChwcmVwYXJlRXhvQ2xhc3MgPSAkaM2PX2EpXV0sW1wicHJlcGFyZUV4b0NsYXNzS2l0XCIsWyRozY9fYSA9PiAocHJlcGFyZUV4b0NsYXNzS2l0ID0gJGjNj19hKV1dLFtcInByb3ZpZGVEdXJhYmxlTWFwU3RvcmVcIixbJGjNj19hID0+IChwcm92aWRlRHVyYWJsZU1hcFN0b3JlID0gJGjNj19hKV1dLFtcInByb3ZpZGVEdXJhYmxlU2V0U3RvcmVcIixbJGjNj19hID0+IChwcm92aWRlRHVyYWJsZVNldFN0b3JlID0gJGjNj19hKV1dLFtcInByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlXCIsWyRozY9fYSA9PiAocHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUgPSAkaM2PX2EpXV0sW1wicHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmVcIixbJGjNj19hID0+IChwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSA9ICRozY9fYSldXSxbXCJ3YXRjaFByb21pc2VcIixbJGjNj19hID0+ICh3YXRjaFByb21pc2UgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Jhc2Utem9uZVwiLCBbW1wiYWdvcmljVmF0RGF0YUtleXNcIixbJGjNj19hID0+IChrZXlzID0gJGjNj19hKV1dLFtcIm1ha2VPbmNlS2l0XCIsWyRozY9fYSA9PiAobWFrZU9uY2VLaXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGlzU3RvcmFibGUgPSBzcGVjaW1lbiA9PiBpc1Bhc3NhYmxlKHNwZWNpbWVuKSAmJiBjYW5CZUR1cmFibGUoc3BlY2ltZW4pO1xuaGFyZGVuKGlzU3RvcmFibGUpO1xuXG4vKlxuXG4gKi9cbmNvbnN0IGF0dGFjaER1cmFibGVTdG9yZXMgPSBnZXRCYWdnYWdlID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXBTdG9yZSA9IChsYWJlbCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGJhZ2dhZ2UgPSBnZXRCYWdnYWdlKCk7XG4gICAgY29uc3QgcmV0ID0gcHJvdmlkZUR1cmFibGVNYXBTdG9yZShiYWdnYWdlLCBsYWJlbCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBzZXRTdG9yZSA9IChsYWJlbCwgb3B0aW9ucykgPT5cbiAgICBwcm92aWRlRHVyYWJsZVNldFN0b3JlKGdldEJhZ2dhZ2UoKSwgbGFiZWwsIG9wdGlvbnMpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB3ZWFrU2V0U3RvcmUgPSAobGFiZWwsIG9wdGlvbnMpID0+XG4gICAgcHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUoZ2V0QmFnZ2FnZSgpLCBsYWJlbCwgb3B0aW9ucyk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHdlYWtNYXBTdG9yZSA9IChsYWJlbCwgb3B0aW9ucykgPT5cbiAgICBwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZShnZXRCYWdnYWdlKCksIGxhYmVsLCBvcHRpb25zKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgcmV0dXJuIEZhcignZHVyYWJsZVN0b3JlcycsIHtcbiAgICBkZXRhY2hlZDogKCkgPT4gZGV0YWNoZWREdXJhYmxlU3RvcmVzLFxuICAgIGlzU3RvcmFibGUsXG4gICAgbWFwU3RvcmUsXG4gICAgc2V0U3RvcmUsXG4gICAgd2Vha01hcFN0b3JlLFxuICAgIHdlYWtTZXRTdG9yZSxcbiAgfSk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGRldGFjaGVkRHVyYWJsZVN0b3JlcyA9IGF0dGFjaER1cmFibGVTdG9yZXMoKCkgPT5cbiAgbWFrZVNjYWxhck1hcFN0b3JlKCdkZXRhY2hlZCcpLFxuKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRHVyYWJsZVpvbmUgPSAoYmFnZ2FnZSwgYmFzZUxhYmVsID0gJ2R1cmFibGVab25lJykgPT4ge1xuICBiYWdnYWdlIHx8IEZhaWxgYmFnZ2FnZSByZXF1aXJlZGA7XG5cbiAgY29uc3QgYXR0YWNoZWRTdG9yZXMgPSBhdHRhY2hEdXJhYmxlU3RvcmVzKCgpID0+IGJhZ2dhZ2UpO1xuXG4gIGNvbnN0IHsgbWFrZU9uY2UsIHdyYXBQcm92aWRlciB9ID0gbWFrZU9uY2VLaXQoXG4gICAgYmFzZUxhYmVsLFxuICAgIGF0dGFjaGVkU3RvcmVzLFxuICAgIGJhZ2dhZ2UsXG4gICk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBleG9DbGFzcyA9ICguLi5hcmdzKSA9PiBwcmVwYXJlRXhvQ2xhc3MoYmFnZ2FnZSwgLi4uYXJncyk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLy9cbiAgLy9cbiAgY29uc3QgZXhvQ2xhc3NLaXQgPSAoLi4uYXJncykgPT4gcHJlcGFyZUV4b0NsYXNzS2l0KGJhZ2dhZ2UsIC4uLmFyZ3MpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBleG8gPSAoLi4uYXJncykgPT4gcHJlcGFyZUV4byhiYWdnYWdlLCAuLi5hcmdzKTtcblxuICBjb25zdCBzdWJab25lU3RvcmUgPSB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMubWFwU3RvcmUsIGtleXMuem9uZSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHN1YlpvbmUgPSAobGFiZWwsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3Qgc3ViQmFnZ2FnZSA9IHN1YlpvbmVTdG9yZShsYWJlbCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1ha2VEdXJhYmxlWm9uZShzdWJCYWdnYWdlLCBgJHtiYXNlTGFiZWx9LiR7bGFiZWx9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEZhcignZHVyYWJsZVpvbmUnLCB7XG4gICAgZXhvOiB3cmFwUHJvdmlkZXIoZXhvLCBrZXlzLmV4byksXG4gICAgZXhvQ2xhc3M6IHdyYXBQcm92aWRlcihleG9DbGFzcywga2V5cy5leG9DbGFzcyksXG4gICAgZXhvQ2xhc3NLaXQ6IHdyYXBQcm92aWRlcihleG9DbGFzc0tpdCwga2V5cy5leG9DbGFzc0tpdCksXG4gICAgc3ViWm9uZSxcblxuICAgIG1ha2VPbmNlLFxuICAgIHdhdGNoUHJvbWlzZSxcbiAgICBkZXRhY2hlZDogYXR0YWNoZWRTdG9yZXMuZGV0YWNoZWQsXG4gICAgaXNTdG9yYWJsZTogYXR0YWNoZWRTdG9yZXMuaXNTdG9yYWJsZSxcblxuICAgIG1hcFN0b3JlOiB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMubWFwU3RvcmUsIGtleXMuc3RvcmUpLFxuICAgIHNldFN0b3JlOiB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMuc2V0U3RvcmUsIGtleXMuc3RvcmUpLFxuICAgIHdlYWtNYXBTdG9yZTogd3JhcFByb3ZpZGVyKGF0dGFjaGVkU3RvcmVzLndlYWtNYXBTdG9yZSwga2V5cy5zdG9yZSksXG4gICAgd2Vha1NldFN0b3JlOiB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMud2Vha1NldFN0b3JlLCBrZXlzLnN0b3JlKSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlRHVyYWJsZVpvbmUobWFrZUR1cmFibGVab25lKTtcbmhhcmRlbihtYWtlRHVyYWJsZVpvbmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUR1cmFibGVab25lIjpbIm1ha2VEdXJhYmxlWm9uZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAATnNb7swQAALMEAAAnAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2FzY2lpLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwiZnJvbUFzY2lpIiwidG9Bc2NpaSIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7IFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tQXNjaWkgPSBleHBvcnRzLnRvQXNjaWkgPSB2b2lkIDA7XG5mdW5jdGlvbiB0b0FzY2lpKGlucHV0KSB7XG4gICAgY29uc3QgdG9OdW1zID0gKHN0cikgPT4gc3RyLnNwbGl0KFwiXCIpLm1hcCgoeCkgPT4ge1xuICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHguY2hhckNvZGVBdCgwKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKGNoYXJDb2RlIDwgMHgyMCB8fCBjaGFyQ29kZSA+IDB4N2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlbmNvZGUgY2hhcmFjdGVyIHRoYXQgaXMgb3V0IG9mIHByaW50YWJsZSBBU0NJSSByYW5nZTogXCIgKyBjaGFyQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYXJDb2RlO1xuICAgIH0pO1xuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20odG9OdW1zKGlucHV0KSk7XG59XG5leHBvcnRzLnRvQXNjaWkgPSB0b0FzY2lpO1xuZnVuY3Rpb24gZnJvbUFzY2lpKGRhdGEpIHtcbiAgICBjb25zdCBmcm9tTnVtcyA9IChsaXN0T2ZOdW1iZXJzKSA9PiBsaXN0T2ZOdW1iZXJzLm1hcCgoeCkgPT4ge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBpZiAoeCA8IDB4MjAgfHwgeCA+IDB4N2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkZWNvZGUgY2hhcmFjdGVyIHRoYXQgaXMgb3V0IG9mIHByaW50YWJsZSBBU0NJSSByYW5nZTogXCIgKyB4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh4KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJvbU51bXMoQXJyYXkuZnJvbShkYXRhKSkuam9pbihcIlwiKTtcbn1cbmV4cG9ydHMuZnJvbUFzY2lpID0gZnJvbUFzY2lpO1xuLy8gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAABKhcKaAwcAAAMHAAAoAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2Jhc2U2NC5qc3siaW1wb3J0cyI6WyJiYXNlNjQtanMiXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwiZnJvbUJhc2U2NCIsInRvQmFzZTY0IiwiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJzb3VyY2UiOiIoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICd1c2Ugc3RyaWN0JzsgXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZnJvbUJhc2U2NCA9IGV4cG9ydHMudG9CYXNlNjQgPSB2b2lkIDA7XG5jb25zdCBiYXNlNjRqcyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiYmFzZTY0LWpzXCIpKTtcbmZ1bmN0aW9uIHRvQmFzZTY0KGRhdGEpIHtcbiAgICByZXR1cm4gYmFzZTY0anMuZnJvbUJ5dGVBcnJheShkYXRhKTtcbn1cbmV4cG9ydHMudG9CYXNlNjQgPSB0b0Jhc2U2NDtcbmZ1bmN0aW9uIGZyb21CYXNlNjQoYmFzZTY0U3RyaW5nKSB7XG4gICAgaWYgKCFiYXNlNjRTdHJpbmcubWF0Y2goL15bYS16QS1aMC05Ky9dKj17MCwyfSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBzdHJpbmcgZm9ybWF0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTY0anMudG9CeXRlQXJyYXkoYmFzZTY0U3RyaW5nKTtcbn1cbmV4cG9ydHMuZnJvbUJhc2U2NCA9IGZyb21CYXNlNjQ7XG4vLyAvLyovXG59KVxuIn1QSwMECgAAAAAAAAAAAC7A2RJGCAAARggAACgAAABAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQvYnVpbGQvYmVjaDMyLmpzeyJpbXBvcnRzIjpbImJlY2gzMiJdLCJleHBvcnRzIjpbIl9fZXNNb2R1bGUiLCJub3JtYWxpemVCZWNoMzIiLCJmcm9tQmVjaDMyIiwidG9CZWNoMzIiLCJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sInNvdXJjZSI6IihmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHsgJ3VzZSBzdHJpY3QnOyBcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub3JtYWxpemVCZWNoMzIgPSBleHBvcnRzLmZyb21CZWNoMzIgPSBleHBvcnRzLnRvQmVjaDMyID0gdm9pZCAwO1xuY29uc3QgYmVjaDMyID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJiZWNoMzJcIikpO1xuZnVuY3Rpb24gdG9CZWNoMzIocHJlZml4LCBkYXRhLCBsaW1pdCkge1xuICAgIGNvbnN0IGFkZHJlc3MgPSBiZWNoMzIuZW5jb2RlKHByZWZpeCwgYmVjaDMyLnRvV29yZHMoZGF0YSksIGxpbWl0KTtcbiAgICByZXR1cm4gYWRkcmVzcztcbn1cbmV4cG9ydHMudG9CZWNoMzIgPSB0b0JlY2gzMjtcbmZ1bmN0aW9uIGZyb21CZWNoMzIoYWRkcmVzcywgbGltaXQgPSBJbmZpbml0eSkge1xuICAgIGNvbnN0IGRlY29kZWRBZGRyZXNzID0gYmVjaDMyLmRlY29kZShhZGRyZXNzLCBsaW1pdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJlZml4OiBkZWNvZGVkQWRkcmVzcy5wcmVmaXgsXG4gICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KGJlY2gzMi5mcm9tV29yZHMoZGVjb2RlZEFkZHJlc3Mud29yZHMpKSxcbiAgICB9O1xufVxuZXhwb3J0cy5mcm9tQmVjaDMyID0gZnJvbUJlY2gzMjtcbi8qXG5cblxuXG5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplQmVjaDMyKGFkZHJlc3MpIHtcbiAgICBjb25zdCB7IHByZWZpeCwgZGF0YSB9ID0gZnJvbUJlY2gzMihhZGRyZXNzKTtcbiAgICByZXR1cm4gdG9CZWNoMzIocHJlZml4LCBkYXRhKTtcbn1cbmV4cG9ydHMubm9ybWFsaXplQmVjaDMyID0gbm9ybWFsaXplQmVjaDMyO1xuLy8gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAACzzEL4LwQAAC8EAAAlAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2hleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiX19lc01vZHVsZSIsImZyb21IZXgiLCJ0b0hleCIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7IFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tSGV4ID0gZXhwb3J0cy50b0hleCA9IHZvaWQgMDtcbmZ1bmN0aW9uIHRvSGV4KGRhdGEpIHtcbiAgICBsZXQgb3V0ID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGJ5dGUgb2YgZGF0YSkge1xuICAgICAgICBvdXQgKz0gKFwiMFwiICsgYnl0ZS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMudG9IZXggPSB0b0hleDtcbmZ1bmN0aW9uIGZyb21IZXgoaGV4c3RyaW5nKSB7XG4gICAgaWYgKGhleHN0cmluZy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAyXCIpO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShoZXhzdHJpbmcubGVuZ3RoIC8gMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaiA9IDIgKiBpO1xuICAgICAgICBjb25zdCBoZXhCeXRlQXNTdHJpbmcgPSBoZXhzdHJpbmcuc2xpY2UoaiwgaiArIDIpO1xuICAgICAgICBpZiAoIWhleEJ5dGVBc1N0cmluZy5tYXRjaCgvWzAtOWEtZl17Mn0vaSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzXCIpO1xuICAgICAgICB9XG4gICAgICAgIG91dFtpXSA9IHBhcnNlSW50KGhleEJ5dGVBc1N0cmluZywgMTYpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5mcm9tSGV4ID0gZnJvbUhleDtcbi8vIC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAA7+Tlcq4JAACuCQAAJwAAAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2FzY2lpIiwiLi9iYXNlNjQiLCIuL2JlY2gzMiIsIi4vaGV4IiwiLi9yZmMzMzM5IiwiLi91dGY4Il0sImV4cG9ydHMiOlsiX19lc01vZHVsZSIsInRvVXRmOCIsImZyb21VdGY4IiwidG9SZmMzMzM5IiwiZnJvbVJmYzMzMzkiLCJ0b0hleCIsImZyb21IZXgiLCJ0b0JlY2gzMiIsIm5vcm1hbGl6ZUJlY2gzMiIsImZyb21CZWNoMzIiLCJ0b0Jhc2U2NCIsImZyb21CYXNlNjQiLCJ0b0FzY2lpIiwiZnJvbUFzY2lpIiwiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJzb3VyY2UiOiIoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICd1c2Ugc3RyaWN0JzsgXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRvVXRmOCA9IGV4cG9ydHMuZnJvbVV0ZjggPSBleHBvcnRzLnRvUmZjMzMzOSA9IGV4cG9ydHMuZnJvbVJmYzMzMzkgPSBleHBvcnRzLnRvSGV4ID0gZXhwb3J0cy5mcm9tSGV4ID0gZXhwb3J0cy50b0JlY2gzMiA9IGV4cG9ydHMubm9ybWFsaXplQmVjaDMyID0gZXhwb3J0cy5mcm9tQmVjaDMyID0gZXhwb3J0cy50b0Jhc2U2NCA9IGV4cG9ydHMuZnJvbUJhc2U2NCA9IGV4cG9ydHMudG9Bc2NpaSA9IGV4cG9ydHMuZnJvbUFzY2lpID0gdm9pZCAwO1xudmFyIGFzY2lpXzEgPSByZXF1aXJlKFwiLi9hc2NpaVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZyb21Bc2NpaVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNjaWlfMS5mcm9tQXNjaWk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0b0FzY2lpXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhc2NpaV8xLnRvQXNjaWk7IH0gfSk7XG52YXIgYmFzZTY0XzEgPSByZXF1aXJlKFwiLi9iYXNlNjRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmcm9tQmFzZTY0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBiYXNlNjRfMS5mcm9tQmFzZTY0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9CYXNlNjRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJhc2U2NF8xLnRvQmFzZTY0OyB9IH0pO1xudmFyIGJlY2gzMl8xID0gcmVxdWlyZShcIi4vYmVjaDMyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbUJlY2gzMlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYmVjaDMyXzEuZnJvbUJlY2gzMjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm5vcm1hbGl6ZUJlY2gzMlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYmVjaDMyXzEubm9ybWFsaXplQmVjaDMyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9CZWNoMzJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJlY2gzMl8xLnRvQmVjaDMyOyB9IH0pO1xudmFyIGhleF8xID0gcmVxdWlyZShcIi4vaGV4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbUhleFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGV4XzEuZnJvbUhleDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvSGV4XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBoZXhfMS50b0hleDsgfSB9KTtcbnZhciByZmMzMzM5XzEgPSByZXF1aXJlKFwiLi9yZmMzMzM5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbVJmYzMzMzlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJmYzMzMzlfMS5mcm9tUmZjMzMzOTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvUmZjMzMzOVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmZjMzMzOV8xLnRvUmZjMzMzOTsgfSB9KTtcbnZhciB1dGY4XzEgPSByZXF1aXJlKFwiLi91dGY4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbVV0ZjhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0ZjhfMS5mcm9tVXRmODsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvVXRmOFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRmOF8xLnRvVXRmODsgfSB9KTtcbi8vIC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAA5+djmo4IAACOCAAAKQAAAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9yZmMzMzM5LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwidG9SZmMzMzM5IiwiZnJvbVJmYzMzMzkiLCJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sInNvdXJjZSI6IihmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHsgJ3VzZSBzdHJpY3QnOyBcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudG9SZmMzMzM5ID0gZXhwb3J0cy5mcm9tUmZjMzMzOSA9IHZvaWQgMDtcbmNvbnN0IHJmYzMzMzlNYXRjaGVyID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVtUIF0oXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KShcXC5cXGR7MSw5fSk/KCg/OlsrLV1cXGR7Mn06XFxkezJ9KXxaKSQvO1xuZnVuY3Rpb24gcGFkZGVkKGludGVnZXIsIGxlbmd0aCA9IDIpIHtcbiAgICByZXR1cm4gaW50ZWdlci50b1N0cmluZygpLnBhZFN0YXJ0KGxlbmd0aCwgXCIwXCIpO1xufVxuZnVuY3Rpb24gZnJvbVJmYzMzMzkoc3RyKSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHJmYzMzMzlNYXRjaGVyLmV4ZWMoc3RyKTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0ZSBzdHJpbmcgaXMgbm90IGluIFJGQzMzMzkgZm9ybWF0XCIpO1xuICAgIH1cbiAgICBjb25zdCB5ZWFyID0gK21hdGNoZXNbMV07XG4gICAgY29uc3QgbW9udGggPSArbWF0Y2hlc1syXTtcbiAgICBjb25zdCBkYXkgPSArbWF0Y2hlc1szXTtcbiAgICBjb25zdCBob3VyID0gK21hdGNoZXNbNF07XG4gICAgY29uc3QgbWludXRlID0gK21hdGNoZXNbNV07XG4gICAgY29uc3Qgc2Vjb25kID0gK21hdGNoZXNbNl07XG4gICAgLy9cbiAgICBjb25zdCBtaWxsaVNlY29uZHMgPSBtYXRjaGVzWzddID8gTWF0aC5mbG9vcigrbWF0Y2hlc1s3XSAqIDEwMDApIDogMDtcbiAgICBsZXQgdHpPZmZzZXRTaWduO1xuICAgIGxldCB0ek9mZnNldEhvdXJzO1xuICAgIGxldCB0ek9mZnNldE1pbnV0ZXM7XG4gICAgLy9cbiAgICBpZiAobWF0Y2hlc1s4XSA9PT0gXCJaXCIpIHtcbiAgICAgICAgdHpPZmZzZXRTaWduID0gMTtcbiAgICAgICAgdHpPZmZzZXRIb3VycyA9IDA7XG4gICAgICAgIHR6T2Zmc2V0TWludXRlcyA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0ek9mZnNldFNpZ24gPSBtYXRjaGVzWzhdLnN1YnN0cmluZygwLCAxKSA9PT0gXCItXCIgPyAtMSA6IDE7XG4gICAgICAgIHR6T2Zmc2V0SG91cnMgPSArbWF0Y2hlc1s4XS5zdWJzdHJpbmcoMSwgMyk7XG4gICAgICAgIHR6T2Zmc2V0TWludXRlcyA9ICttYXRjaGVzWzhdLnN1YnN0cmluZyg0LCA2KTtcbiAgICB9XG4gICAgY29uc3QgdHpPZmZzZXQgPSB0ek9mZnNldFNpZ24gKiAodHpPZmZzZXRIb3VycyAqIDYwICsgdHpPZmZzZXRNaW51dGVzKSAqIDYwOyAvL1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeWVhciwgbW9udGggLSAxLCBkYXkpO1xuICAgIGRhdGUuc2V0VVRDSG91cnMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpU2Vjb25kcyk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gdHpPZmZzZXQgKiAxMDAwKTtcbn1cbmV4cG9ydHMuZnJvbVJmYzMzMzkgPSBmcm9tUmZjMzMzOTtcbmZ1bmN0aW9uIHRvUmZjMzMzOShkYXRlKSB7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IHBhZGRlZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKTtcbiAgICBjb25zdCBkYXkgPSBwYWRkZWQoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIGNvbnN0IGhvdXIgPSBwYWRkZWQoZGF0ZS5nZXRVVENIb3VycygpKTtcbiAgICBjb25zdCBtaW51dGUgPSBwYWRkZWQoZGF0ZS5nZXRVVENNaW51dGVzKCkpO1xuICAgIGNvbnN0IHNlY29uZCA9IHBhZGRlZChkYXRlLmdldFVUQ1NlY29uZHMoKSk7XG4gICAgY29uc3QgbXMgPSBwYWRkZWQoZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKSwgMyk7XG4gICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fVQke2hvdXJ9OiR7bWludXRlfToke3NlY29uZH0uJHttc31aYDtcbn1cbmV4cG9ydHMudG9SZmMzMzM5ID0gdG9SZmMzMzM5O1xuLy8gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAABI5L9OUgIAAFICAAAmAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL3V0ZjguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIl9fZXNNb2R1bGUiLCJmcm9tVXRmOCIsInRvVXRmOCIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7IFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tVXRmOCA9IGV4cG9ydHMudG9VdGY4ID0gdm9pZCAwO1xuZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyKTtcbn1cbmV4cG9ydHMudG9VdGY4ID0gdG9VdGY4O1xuLypcblxuXG5cblxuXG4gKi9cbmZ1bmN0aW9uIGZyb21VdGY4KGRhdGEsIGxvc3N5ID0gZmFsc2UpIHtcbiAgICBjb25zdCBmYXRhbCA9ICFsb3NzeTtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIiwgeyBmYXRhbCB9KS5kZWNvZGUoZGF0YSk7XG59XG5leHBvcnRzLmZyb21VdGY4ID0gZnJvbVV0Zjg7XG4vLyAvLyovXG59KVxuIn1QSwMECgAAAAAAAAAAADjUnGd1AgAAdQIAABsAAABAZW5kby9iYXNlNjQtdjEuMC45L2F0b2IuanN7ImltcG9ydHMiOlsiLi9kZWNvZGUuanMiXSwiZXhwb3J0cyI6WyJhdG9iIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZGVjb2RlQmFzZTY0OyRozY9faW1wb3J0cyhbW1wiLi9kZWNvZGUuanNcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGRlY29kZUJhc2U2NCA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXRvYiA9IGVuY29kZWREYXRhID0+IHtcbiAgY29uc3QgYnVmID0gZGVjb2RlQmFzZTY0KGVuY29kZWREYXRhKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYnVmKTtcbn07JGjNj19vbmNlLmF0b2IoYXRvYik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhdG9iIjpbImF0b2IiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAksKTjzQDAAA0AwAAGwAAAEBlbmRvL2Jhc2U2NC12MS4wLjkvYnRvYS5qc3siaW1wb3J0cyI6WyIuL2VuY29kZS5qcyJdLCJleHBvcnRzIjpbImJ0b2EiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlbmNvZGVCYXNlNjQ7JGjNj19pbXBvcnRzKFtbXCIuL2VuY29kZS5qc1wiLCBbW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoZW5jb2RlQmFzZTY0ID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBidG9hID0gc3RyaW5nVG9FbmNvZGUgPT4ge1xuICBjb25zdCBieXRlcyA9IHN0cmluZ1RvRW5jb2RlLnNwbGl0KCcnKS5tYXAoY2hhciA9PiB7XG4gICAgY29uc3QgYiA9IGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgICBpZiAoYiA+IDB4ZmYpIHtcbiAgICAgIHRocm93IEVycm9yKGBidG9hOiBjaGFyYWN0ZXIgb3V0IG9mIHJhbmdlOiAke2NoYXJ9YCk7XG4gICAgfVxuICAgIHJldHVybiBiO1xuICB9KTtcbiAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZXMpO1xuICByZXR1cm4gZW5jb2RlQmFzZTY0KGJ1Zik7XG59OyRozY9fb25jZS5idG9hKGJ0b2EpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiYnRvYSI6WyJidG9hIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAR7dn+5AQAAuQEAAB0AAABAZW5kby9iYXNlNjQtdjEuMC45L2RlY29kZS5qc3siaW1wb3J0cyI6WyIuL3NyYy9kZWNvZGUuanMiXSwiZXhwb3J0cyI6W251bGxdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9kZWNvZGUuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9kZWNvZGUuanMiOltbImRlY29kZUJhc2U2NCIsImRlY29kZUJhc2U2NCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAoValSLkBAAC5AQAAHQAAAEBlbmRvL2Jhc2U2NC12MS4wLjkvZW5jb2RlLmpzeyJpbXBvcnRzIjpbIi4vc3JjL2VuY29kZS5qcyJdLCJleHBvcnRzIjpbbnVsbF0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2VuY29kZS5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vc3JjL2VuY29kZS5qcyI6W1siZW5jb2RlQmFzZTY0IiwiZW5jb2RlQmFzZTY0Il1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAa++pXpAIAAKQCAAAcAAAAQGVuZG8vYmFzZTY0LXYxLjAuOS9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9lbmNvZGUuanMiLCIuL3NyYy9kZWNvZGUuanMiLCIuL2J0b2EuanMiLCIuL2F0b2IuanMiXSwiZXhwb3J0cyI6W251bGwsbnVsbCxudWxsLG51bGxdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9lbmNvZGUuanNcIiwgW11dLFtcIi4vc3JjL2RlY29kZS5qc1wiLCBbXV0sW1wiLi9idG9hLmpzXCIsIFtdXSxbXCIuL2F0b2IuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9lbmNvZGUuanMiOltbImVuY29kZUJhc2U2NCIsImVuY29kZUJhc2U2NCJdXSwiLi9zcmMvZGVjb2RlLmpzIjpbWyJkZWNvZGVCYXNlNjQiLCJkZWNvZGVCYXNlNjQiXV0sIi4vYnRvYS5qcyI6W1siYnRvYSIsImJ0b2EiXV0sIi4vYXRvYi5qcyI6W1siYXRvYiIsImF0b2IiXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAB+XnPU3AwAANwMAACEAAABAZW5kby9iYXNlNjQtdjEuMC45L3NyYy9jb21tb24uanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImFscGhhYmV0NjQiLCJtb25vZHU2NCIsInBhZGRpbmciXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Ly9cblxuICAgICAgIGNvbnN0IHBhZGRpbmcgPSAnPSc7JGjNj19vbmNlLnBhZGRpbmcocGFkZGluZyk7XG5cbiAgICAgICBjb25zdCBhbHBoYWJldDY0ID1cbiAgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5hbHBoYWJldDY0KGFscGhhYmV0NjQpO1xuICAgICAgIGNvbnN0IG1vbm9kdTY0ID0ge307JGjNj19vbmNlLm1vbm9kdTY0KG1vbm9kdTY0KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgYWxwaGFiZXQ2NC5sZW5ndGg7IGkgKz0gMSkge1xuICBjb25zdCBjID0gYWxwaGFiZXQ2NFtpXTtcbiAgbW9ub2R1NjRbY10gPSBpO1xufVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicGFkZGluZyI6WyJwYWRkaW5nIl0sImFscGhhYmV0NjQiOlsiYWxwaGFiZXQ2NCJdLCJtb25vZHU2NCI6WyJtb25vZHU2NCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADywE7BkggAAJIIAAAhAAAAQGVuZG8vYmFzZTY0LXYxLjAuOS9zcmMvZGVjb2RlLmpzeyJpbXBvcnRzIjpbIi4vY29tbW9uLmpzIl0sImV4cG9ydHMiOlsiZGVjb2RlQmFzZTY0IiwianNEZWNvZGVCYXNlNjQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtb25vZHU2NCxwYWRkaW5nOyRozY9faW1wb3J0cyhbW1wiLi9jb21tb24uanNcIiwgW1tcIm1vbm9kdTY0XCIsWyRozY9fYSA9PiAobW9ub2R1NjQgPSAkaM2PX2EpXV0sW1wicGFkZGluZ1wiLFskaM2PX2EgPT4gKHBhZGRpbmcgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBqc0RlY29kZUJhc2U2NCA9IChzdHJpbmcsIG5hbWUgPSAnPHVua25vd24+JykgPT4ge1xuICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKChzdHJpbmcubGVuZ3RoICogNCkgLyAzKSk7XG4gIGxldCByZWdpc3RlciA9IDA7XG4gIGxldCBxdWFudHVtID0gMDtcbiAgbGV0IGkgPSAwOyAvL1xuICBsZXQgaiA9IDA7IC8vXG5cbiAgd2hpbGUgKGkgPCBzdHJpbmcubGVuZ3RoICYmIHN0cmluZ1tpXSAhPT0gcGFkZGluZykge1xuICAgIGNvbnN0IG51bWJlciA9IG1vbm9kdTY0W3N0cmluZ1tpXV07XG4gICAgaWYgKG51bWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBiYXNlNjQgY2hhcmFjdGVyICR7c3RyaW5nW2ldfSBpbiBzdHJpbmcgJHtuYW1lfWApO1xuICAgIH1cbiAgICByZWdpc3RlciA9IChyZWdpc3RlciA8PCA2KSB8IG51bWJlcjtcbiAgICBxdWFudHVtICs9IDY7XG4gICAgaWYgKHF1YW50dW0gPj0gOCkge1xuICAgICAgcXVhbnR1bSAtPSA4O1xuICAgICAgZGF0YVtqXSA9IHJlZ2lzdGVyID4+PiBxdWFudHVtO1xuICAgICAgaiArPSAxO1xuICAgICAgcmVnaXN0ZXIgJj0gKDEgPDwgcXVhbnR1bSkgLSAxO1xuICAgIH1cbiAgICBpICs9IDE7XG4gIH1cblxuICB3aGlsZSAocXVhbnR1bSA+IDApIHtcbiAgICBpZiAoaSA9PT0gc3RyaW5nLmxlbmd0aCB8fCBzdHJpbmdbaV0gIT09IHBhZGRpbmcpIHtcbiAgICAgIHRocm93IEVycm9yKGBNaXNzaW5nIHBhZGRpbmcgYXQgb2Zmc2V0ICR7aX0gb2Ygc3RyaW5nICR7bmFtZX1gKTtcbiAgICB9XG4gICAgLy9cbiAgICAvL1xuICAgIGkgKz0gMTtcbiAgICBxdWFudHVtIC09IDI7XG4gIH1cblxuICBpZiAoaSA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgIGBCYXNlNjQgc3RyaW5nIGhhcyB0cmFpbGluZyBnYXJiYWdlICR7c3RyaW5nLnN1YnN0cihcbiAgICAgICAgaSxcbiAgICAgICl9IGluIHN0cmluZyAke25hbWV9YCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc3ViYXJyYXkoMCwgaik7XG59O1xuXG4vL1xuLy9cbiRozY9fb25jZS5qc0RlY29kZUJhc2U2NChqc0RlY29kZUJhc2U2NCk7Y29uc3QgYWRhcHREZWNvZGVyPVxuICBuYXRpdmVEZWNvZGVCYXNlNjQgPT5cbiAgKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBkZWNvZGVkID0gbmF0aXZlRGVjb2RlQmFzZTY0KC4uLmFyZ3MpO1xuICAgIGlmIChkZWNvZGVkIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShkZWNvZGVkKTtcbiAgfTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgZGVjb2RlQmFzZTY0ID1cbiAgZ2xvYmFsVGhpcy5CYXNlNjQgIT09IHVuZGVmaW5lZFxuICAgID8gYWRhcHREZWNvZGVyKGdsb2JhbFRoaXMuQmFzZTY0LmRlY29kZSlcbiAgICA6IGpzRGVjb2RlQmFzZTY0OyRozY9fb25jZS5kZWNvZGVCYXNlNjQoZGVjb2RlQmFzZTY0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImpzRGVjb2RlQmFzZTY0IjpbImpzRGVjb2RlQmFzZTY0Il0sImRlY29kZUJhc2U2NCI6WyJkZWNvZGVCYXNlNjQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAjxNDN2sHAABrBwAAIQAAAEBlbmRvL2Jhc2U2NC12MS4wLjkvc3JjL2VuY29kZS5qc3siaW1wb3J0cyI6WyIuL2NvbW1vbi5qcyJdLCJleHBvcnRzIjpbImVuY29kZUJhc2U2NCIsImpzRW5jb2RlQmFzZTY0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYWxwaGFiZXQ2NCxwYWRkaW5nOyRozY9faW1wb3J0cyhbW1wiLi9jb21tb24uanNcIiwgW1tcImFscGhhYmV0NjRcIixbJGjNj19hID0+IChhbHBoYWJldDY0ID0gJGjNj19hKV1dLFtcInBhZGRpbmdcIixbJGjNj19hID0+IChwYWRkaW5nID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBqc0VuY29kZUJhc2U2NCA9IGRhdGEgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICBsZXQgc3RyaW5nID0gJyc7XG4gIGxldCByZWdpc3RlciA9IDA7XG4gIGxldCBxdWFudHVtID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBiID0gZGF0YVtpXTtcbiAgICByZWdpc3RlciA9IChyZWdpc3RlciA8PCA4KSB8IGI7XG4gICAgcXVhbnR1bSArPSA4O1xuICAgIGlmIChxdWFudHVtID09PSAyNCkge1xuICAgICAgc3RyaW5nICs9XG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiAxOCkgJiAweDNmXSArXG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiAxMikgJiAweDNmXSArXG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiA2KSAmIDB4M2ZdICtcbiAgICAgICAgYWxwaGFiZXQ2NFsocmVnaXN0ZXIgPj4+IDApICYgMHgzZl07XG4gICAgICByZWdpc3RlciA9IDA7XG4gICAgICBxdWFudHVtID0gMDtcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKHF1YW50dW0pIHtcbiAgICBjYXNlIDA6XG4gICAgICBicmVhaztcbiAgICBjYXNlIDg6XG4gICAgICBzdHJpbmcgKz1cbiAgICAgICAgYWxwaGFiZXQ2NFsocmVnaXN0ZXIgPj4+IDIpICYgMHgzZl0gK1xuICAgICAgICBhbHBoYWJldDY0WyhyZWdpc3RlciA8PCA0KSAmIDB4M2ZdICtcbiAgICAgICAgcGFkZGluZyArXG4gICAgICAgIHBhZGRpbmc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE2OlxuICAgICAgc3RyaW5nICs9XG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiAxMCkgJiAweDNmXSArXG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiA0KSAmIDB4M2ZdICtcbiAgICAgICAgYWxwaGFiZXQ2NFsocmVnaXN0ZXIgPDwgMikgJiAweDNmXSArXG4gICAgICAgIHBhZGRpbmc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoYGludGVybmFsOiBiYWQgcXVhbnR1bSAke3F1YW50dW19YCk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZztcbn07XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5qc0VuY29kZUJhc2U2NChqc0VuY29kZUJhc2U2NCk7XG4gICAgICAgY29uc3QgZW5jb2RlQmFzZTY0ID1cbiAgZ2xvYmFsVGhpcy5CYXNlNjQgIT09IHVuZGVmaW5lZCA/IGdsb2JhbFRoaXMuQmFzZTY0LmVuY29kZSA6IGpzRW5jb2RlQmFzZTY0OyRozY9fb25jZS5lbmNvZGVCYXNlNjQoZW5jb2RlQmFzZTY0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImpzRW5jb2RlQmFzZTY0IjpbImpzRW5jb2RlQmFzZTY0Il0sImVuY29kZUJhc2U2NCI6WyJlbmNvZGVCYXNlNjQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA6MeBezAFAAAwBQAALAAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wcm9taXNlLWtpdCIsIi4vdGhyb3ctbGFiZWxlZC5qcyJdLCJleHBvcnRzIjpbImFwcGx5TGFiZWxpbmdFcnJvciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEUsaXNQcm9taXNlLHRocm93TGFiZWxlZDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcImlzUHJvbWlzZVwiLFskaM2PX2EgPT4gKGlzUHJvbWlzZSA9ICRozY9fYSldXV1dLFtcIi4vdGhyb3ctbGFiZWxlZC5qc1wiLCBbW1widGhyb3dMYWJlbGVkXCIsWyRozY9fYSA9PiAodGhyb3dMYWJlbGVkID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFwcGx5TGFiZWxpbmdFcnJvciA9IChmdW5jLCBhcmdzLCBsYWJlbCA9IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAobGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xuICB9XG4gIGxldCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgcmVzdWx0ID0gZnVuYyguLi5hcmdzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3dMYWJlbGVkKGVyciwgbGFiZWwpO1xuICB9XG4gIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJldHVybiBFLndoZW4ocmVzdWx0LCB1bmRlZmluZWQsIHJlYXNvbiA9PiB0aHJvd0xhYmVsZWQocmVhc29uLCBsYWJlbCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07JGjNj19vbmNlLmFwcGx5TGFiZWxpbmdFcnJvcihhcHBseUxhYmVsaW5nRXJyb3IpO1xuaGFyZGVuKGFwcGx5TGFiZWxpbmdFcnJvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhcHBseUxhYmVsaW5nRXJyb3IiOlsiYXBwbHlMYWJlbGluZ0Vycm9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFnIhH+lBAAApQQAACsAAABAZW5kby9jb21tb24tdjEuMi4xMC9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbImZyb21VbmlxdWVFbnRyaWVzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dXSk7XG5cbmNvbnN0IHsgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZnJvbVVuaXF1ZUVudHJpZXMgPSBhbGxFbnRyaWVzID0+IHtcbiAgY29uc3QgZW50cmllc0FycmF5ID0gWy4uLmFsbEVudHJpZXNdO1xuICBjb25zdCByZXN1bHQgPSBoYXJkZW4oZnJvbUVudHJpZXMoZW50cmllc0FycmF5KSk7XG4gIGlmIChvd25LZXlzKHJlc3VsdCkubGVuZ3RoID09PSBlbnRyaWVzQXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBjb25zdCBuYW1lcyA9IG5ldyBTZXQoKTtcbiAgZm9yIChjb25zdCBbbmFtZSwgX10gb2YgZW50cmllc0FycmF5KSB7XG4gICAgaWYgKG5hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgRmFpbGBjb2xsaXNpb24gb24gcHJvcGVydHkgbmFtZSAke3EobmFtZSl9OiAke2VudHJpZXNBcnJheX1gO1xuICAgIH1cbiAgICBuYW1lcy5hZGQobmFtZSk7XG4gIH1cbiAgdGhyb3cgRmFpbGBpbnRlcm5hbDogZmFpbGVkIHRvIGNyZWF0ZSBvYmplY3QgZnJvbSB1bmlxdWUgZW50cmllc2A7XG59OyRozY9fb25jZS5mcm9tVW5pcXVlRW50cmllcyhmcm9tVW5pcXVlRW50cmllcyk7XG5oYXJkZW4oZnJvbVVuaXF1ZUVudHJpZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZnJvbVVuaXF1ZUVudHJpZXMiOlsiZnJvbVVuaXF1ZUVudHJpZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA1E3/N0oCAABKAgAAJQAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL2lkZW50LWNoZWNrZXIuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImlkZW50Q2hlY2tlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuLy9cbi8vXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaWRlbnRDaGVja2VyID0gKGNvbmQsIF9kZXRhaWxzKSA9PiBjb25kOyRozY9fb25jZS5pZGVudENoZWNrZXIoaWRlbnRDaGVja2VyKTtcbmhhcmRlbihpZGVudENoZWNrZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiaWRlbnRDaGVja2VyIjpbImlkZW50Q2hlY2tlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACK15dDkAIAAJACAAAnAAAAQGVuZG8vY29tbW9uLXYxLjIuMTAvbGlzdC1kaWZmZXJlbmNlLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJsaXN0RGlmZmVyZW5jZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbGlzdERpZmZlcmVuY2UgPSAobGVmdExpc3QsIHJpZ2h0TGlzdCkgPT4ge1xuICBjb25zdCByaWdodFNldCA9IG5ldyBTZXQocmlnaHRMaXN0KTtcbiAgcmV0dXJuIGxlZnRMaXN0LmZpbHRlcihlbGVtZW50ID0+ICFyaWdodFNldC5oYXMoZWxlbWVudCkpO1xufTskaM2PX29uY2UubGlzdERpZmZlcmVuY2UobGlzdERpZmZlcmVuY2UpO1xuaGFyZGVuKGxpc3REaWZmZXJlbmNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Imxpc3REaWZmZXJlbmNlIjpbImxpc3REaWZmZXJlbmNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAC6Umg60AwAAtAMAACsAAABAZW5kby9jb21tb24tdjEuMi4xMC9tYWtlLWFycmF5LWl0ZXJhdG9yLmpzeyJpbXBvcnRzIjpbIi4vbWFrZS1pdGVyYXRvci5qcyJdLCJleHBvcnRzIjpbIm1ha2VBcnJheUl0ZXJhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZUl0ZXJhdG9yOyRozY9faW1wb3J0cyhbW1wiLi9tYWtlLWl0ZXJhdG9yLmpzXCIsIFtbXCJtYWtlSXRlcmF0b3JcIixbJGjNj19hID0+IChtYWtlSXRlcmF0b3IgPSAkaM2PX2EpXV1dXV0pO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VBcnJheUl0ZXJhdG9yID0gYXJyID0+IHtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGFycjtcbiAgbGV0IGkgPSAwO1xuICByZXR1cm4gbWFrZUl0ZXJhdG9yKCgpID0+IHtcbiAgICAvKiAgICAgICAgICAgICovXG4gICAgbGV0IHZhbHVlO1xuICAgIGlmIChpIDwgbGVuZ3RoKSB7XG4gICAgICB2YWx1ZSA9IGFycltpXTtcbiAgICAgIGkgKz0gMTtcbiAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWUgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlIH0pO1xuICB9KTtcbn07JGjNj19vbmNlLm1ha2VBcnJheUl0ZXJhdG9yKG1ha2VBcnJheUl0ZXJhdG9yKTtcbmhhcmRlbihtYWtlQXJyYXlJdGVyYXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlQXJyYXlJdGVyYXRvciI6WyJtYWtlQXJyYXlJdGVyYXRvciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAFq82oXAIAAFwCAAAlAAAAQGVuZG8vY29tbW9uLXYxLjIuMTAvbWFrZS1pdGVyYXRvci5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWFrZUl0ZXJhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUl0ZXJhdG9yID0gbmV4dCA9PiB7XG4gIGNvbnN0IGl0ZXIgPSBoYXJkZW4oe1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiBpdGVyLFxuICAgIG5leHQsXG4gIH0pO1xuICByZXR1cm4gaXRlcjtcbn07JGjNj19vbmNlLm1ha2VJdGVyYXRvcihtYWtlSXRlcmF0b3IpO1xuaGFyZGVuKG1ha2VJdGVyYXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlSXRlcmF0b3IiOlsibWFrZUl0ZXJhdG9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAH9VFLM0AwAANAMAACIAAABAZW5kby9jb21tb24tdjEuMi4xMC9vYmplY3QtbWFwLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJvYmplY3RNYXAiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Y29uc3QgeyBlbnRyaWVzLCBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBvYmplY3RNYXAgPSAob3JpZ2luYWwsIG1hcEZuKSA9PiB7XG4gIGNvbnN0IGVudHMgPSBlbnRyaWVzKG9yaWdpbmFsKTtcbiAgY29uc3QgbWFwRW50cyA9IGVudHMubWFwKFxuICAgIChbaywgdl0pID0+IC8qICAgICAgICAgICAgICAgICAgICAgICAqLyAoW2ssIG1hcEZuKHYsIGspXSksXG4gICk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGhhcmRlbihmcm9tRW50cmllcyhtYXBFbnRzKSkpO1xufTskaM2PX29uY2Uub2JqZWN0TWFwKG9iamVjdE1hcCk7XG5oYXJkZW4ob2JqZWN0TWFwKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im9iamVjdE1hcCI6WyJvYmplY3RNYXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAf1YvUjIEAAAyBAAAJwAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL29iamVjdC1tZXRhLW1hcC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsib2JqZWN0TWV0YU1hcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtjb25zdCB7IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIGNyZWF0ZSwgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBvYmplY3RNZXRhTWFwID0gKFxuICBvcmlnaW5hbCxcbiAgbWV0YU1hcEZuLFxuICBwcm90byA9IE9iamVjdC5wcm90b3R5cGUsXG4pID0+IHtcbiAgY29uc3QgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKTtcbiAgY29uc3Qga2V5cyA9IG93bktleXMob3JpZ2luYWwpO1xuXG4gIGNvbnN0IGRlc2NFbnRyaWVzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAga2V5c1xuICAgICAgLm1hcChrZXkgPT4gW2tleSwgbWV0YU1hcEZuKGRlc2NzW2tleV0sIGtleSldKVxuICAgICAgLmZpbHRlcigoW19rZXksIG9wdERlc2NdKSA9PiBvcHREZXNjICE9PSB1bmRlZmluZWQpXG4gICk7XG4gIHJldHVybiBoYXJkZW4oY3JlYXRlKHByb3RvLCBmcm9tRW50cmllcyhkZXNjRW50cmllcykpKTtcbn07JGjNj19vbmNlLm9iamVjdE1ldGFNYXAob2JqZWN0TWV0YU1hcCk7XG5oYXJkZW4ob2JqZWN0TWV0YU1hcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJvYmplY3RNZXRhTWFwIjpbIm9iamVjdE1ldGFNYXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA8qpjsx4EAAAeBAAAJQAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL3Rocm93LWxhYmVsZWQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsidGhyb3dMYWJlbGVkIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgWCxtYWtlRXJyb3IsYW5ub3RhdGVFcnJvcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHRocm93TGFiZWxlZCA9IChcbiAgaW5uZXJFcnIsXG4gIGxhYmVsLFxuICBlcnJDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZCxcbiAgb3B0aW9ucyA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBpZiAodHlwZW9mIGxhYmVsID09PSAnbnVtYmVyJykge1xuICAgIGxhYmVsID0gYFske2xhYmVsfV1gO1xuICB9XG4gIGNvbnN0IG91dGVyRXJyID0gbWFrZUVycm9yKFxuICAgIGAke2xhYmVsfTogJHtpbm5lckVyci5tZXNzYWdlfWAsXG4gICAgZXJyQ29uc3RydWN0b3IsXG4gICAgb3B0aW9ucyxcbiAgKTtcbiAgYW5ub3RhdGVFcnJvcihvdXRlckVyciwgWGBDYXVzZWQgYnkgJHtpbm5lckVycn1gKTtcbiAgdGhyb3cgb3V0ZXJFcnI7XG59OyRozY9fb25jZS50aHJvd0xhYmVsZWQodGhyb3dMYWJlbGVkKTtcbmhhcmRlbih0aHJvd0xhYmVsZWQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsidGhyb3dMYWJlbGVkIjpbInRocm93TGFiZWxlZCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA0oqGpogEAAKIBAAAhAAAAQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44L2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vc3JjL2Vudi1vcHRpb25zLmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9zcmMvZW52LW9wdGlvbnMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvZW52LW9wdGlvbnMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAALrCJHboPAAC6DwAAKwAAAEBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOC9zcmMvZW52LW9wdGlvbnMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMiLCJnZXRFbnZpcm9ubWVudE9wdGlvbiIsImdldEVudmlyb25tZW50T3B0aW9uc0xpc3QiLCJtYWtlRW52aXJvbm1lbnRDYXB0b3IiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LyogICAgICAgICAgICAgICAgICAgKi9cbi8vXG5cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG5cbmNvbnN0IHsgZnJlZXplIH0gPSBPYmplY3Q7XG5jb25zdCB7IGFwcGx5IH0gPSBSZWZsZWN0O1xuXG4vL1xuLy9cbmNvbnN0IHVuY3VycnlUaGlzID1cbiAgZm4gPT5cbiAgKHJlY2VpdmVyLCAuLi5hcmdzKSA9PlxuICAgIGFwcGx5KGZuLCByZWNlaXZlciwgYXJncyk7XG5jb25zdCBhcnJheVB1c2ggPSB1bmN1cnJ5VGhpcyhBcnJheS5wcm90b3R5cGUucHVzaCk7XG5jb25zdCBhcnJheUluY2x1ZGVzID0gdW5jdXJyeVRoaXMoQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzKTtcbmNvbnN0IHN0cmluZ1NwbGl0ID0gdW5jdXJyeVRoaXMoU3RyaW5nLnByb3RvdHlwZS5zcGxpdCk7XG5cbmNvbnN0IHEgPSBKU09OLnN0cmluZ2lmeTtcblxuY29uc3QgRmFpbCA9IChsaXRlcmFscywgLi4uYXJncykgPT4ge1xuICBsZXQgbXNnID0gbGl0ZXJhbHNbMF07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIG1zZyA9IGAke21zZ30ke2FyZ3NbaV19JHtsaXRlcmFsc1tpICsgMV19YDtcbiAgfVxuICB0aHJvdyBFcnJvcihtc2cpO1xufTtcblxuLy9cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFbnZpcm9ubWVudENhcHRvciA9IChhR2xvYmFsLCBkcm9wTmFtZXMgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBjYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMgPSBbXTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGdldEVudmlyb25tZW50T3B0aW9uID0gKFxuICAgIG9wdGlvbk5hbWUsXG4gICAgZGVmYXVsdFNldHRpbmcsXG4gICAgb3B0T3RoZXJWYWx1ZXMgPSB1bmRlZmluZWQsXG4gICkgPT4ge1xuICAgIHR5cGVvZiBvcHRpb25OYW1lID09PSAnc3RyaW5nJyB8fFxuICAgICAgRmFpbGBFbnZpcm9ubWVudCBvcHRpb24gbmFtZSAke3Eob3B0aW9uTmFtZSl9IG11c3QgYmUgYSBzdHJpbmcuYDtcbiAgICB0eXBlb2YgZGVmYXVsdFNldHRpbmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICBGYWlsYEVudmlyb25tZW50IG9wdGlvbiBkZWZhdWx0IHNldHRpbmcgJHtxKFxuICAgICAgICBkZWZhdWx0U2V0dGluZyxcbiAgICAgICl9IG11c3QgYmUgYSBzdHJpbmcuYDtcblxuICAgIC8qICAgICAgICAgICAgICAgICAqL1xuICAgIGxldCBzZXR0aW5nID0gZGVmYXVsdFNldHRpbmc7XG4gICAgY29uc3QgZ2xvYmFsUHJvY2VzcyA9IGFHbG9iYWwucHJvY2VzcyB8fCB1bmRlZmluZWQ7XG4gICAgY29uc3QgZ2xvYmFsRW52ID1cbiAgICAgICh0eXBlb2YgZ2xvYmFsUHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsUHJvY2Vzcy5lbnYpIHx8IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIGdsb2JhbEVudiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChvcHRpb25OYW1lIGluIGdsb2JhbEVudikge1xuICAgICAgICBpZiAoIWRyb3BOYW1lcykge1xuICAgICAgICAgIGFycmF5UHVzaChjYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMsIG9wdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZ2xvYmFsRW52W29wdGlvbk5hbWVdO1xuICAgICAgICAvL1xuICAgICAgICB0eXBlb2Ygb3B0aW9uVmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgRmFpbGBFbnZpcm9ubWVudCBvcHRpb24gbmFtZWQgJHtxKFxuICAgICAgICAgICAgb3B0aW9uTmFtZSxcbiAgICAgICAgICApfSwgaWYgcHJlc2VudCwgbXVzdCBoYXZlIGEgY29ycmVzcG9uZGluZyBzdHJpbmcgdmFsdWUsIGdvdCAke3EoXG4gICAgICAgICAgICBvcHRpb25WYWx1ZSxcbiAgICAgICAgICApfWA7XG4gICAgICAgIHNldHRpbmcgPSBvcHRpb25WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgb3B0T3RoZXJWYWx1ZXMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgc2V0dGluZyA9PT0gZGVmYXVsdFNldHRpbmcgfHxcbiAgICAgIGFycmF5SW5jbHVkZXMob3B0T3RoZXJWYWx1ZXMsIHNldHRpbmcpIHx8XG4gICAgICBGYWlsYFVucmVjb2duaXplZCAke3Eob3B0aW9uTmFtZSl9IHZhbHVlICR7cShcbiAgICAgICAgc2V0dGluZyxcbiAgICAgICl9LiBFeHBlY3RlZCBvbmUgb2YgJHtxKFtkZWZhdWx0U2V0dGluZywgLi4ub3B0T3RoZXJWYWx1ZXNdKX1gO1xuICAgIHJldHVybiBzZXR0aW5nO1xuICB9O1xuICBmcmVlemUoZ2V0RW52aXJvbm1lbnRPcHRpb24pO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgZ2V0RW52aXJvbm1lbnRPcHRpb25zTGlzdCA9IG9wdGlvbk5hbWUgPT4ge1xuICAgIGNvbnN0IG9wdGlvbiA9IGdldEVudmlyb25tZW50T3B0aW9uKG9wdGlvbk5hbWUsICcnKTtcbiAgICByZXR1cm4gZnJlZXplKG9wdGlvbiA9PT0gJycgPyBbXSA6IHN0cmluZ1NwbGl0KG9wdGlvbiwgJywnKSk7XG4gIH07XG4gIGZyZWV6ZShnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0KTtcblxuICBjb25zdCBlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzID0gKG9wdGlvbk5hbWUsIGVsZW1lbnQpID0+XG4gICAgYXJyYXlJbmNsdWRlcyhnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0KG9wdGlvbk5hbWUpLCBlbGVtZW50KTtcblxuICBjb25zdCBnZXRDYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZyZWV6ZShbLi4uY2FwdHVyZWRFbnZpcm9ubWVudE9wdGlvbk5hbWVzXSk7XG4gIH07XG4gIGZyZWV6ZShnZXRDYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMpO1xuXG4gIHJldHVybiBmcmVlemUoe1xuICAgIGdldEVudmlyb25tZW50T3B0aW9uLFxuICAgIGdldEVudmlyb25tZW50T3B0aW9uc0xpc3QsXG4gICAgZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhcyxcbiAgICBnZXRDYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZUVudmlyb25tZW50Q2FwdG9yKG1ha2VFbnZpcm9ubWVudENhcHRvcik7XG5mcmVlemUobWFrZUVudmlyb25tZW50Q2FwdG9yKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCB7XG4gIGdldEVudmlyb25tZW50T3B0aW9uLFxuICBnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0LFxuICBlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzLFxufSA9IG1ha2VFbnZpcm9ubWVudENhcHRvcihnbG9iYWxUaGlzLCB0cnVlKTskaM2PX29uY2UuZ2V0RW52aXJvbm1lbnRPcHRpb24oZ2V0RW52aXJvbm1lbnRPcHRpb24pOyRozY9fb25jZS5nZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0KGdldEVudmlyb25tZW50T3B0aW9uc0xpc3QpOyRozY9fb25jZS5lbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzKGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUVudmlyb25tZW50Q2FwdG9yIjpbIm1ha2VFbnZpcm9ubWVudENhcHRvciJdLCJnZXRFbnZpcm9ubWVudE9wdGlvbiI6WyJnZXRFbnZpcm9ubWVudE9wdGlvbiJdLCJnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0IjpbImdldEVudmlyb25tZW50T3B0aW9uc0xpc3QiXSwiZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhcyI6WyJlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEk19ulUCAAAVAgAAB0AAABAZW5kby9lcnJvcnMtdjEuMi4xMC9pbmRleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiRmFpbCIsIlgiLCJhbm5vdGF0ZUVycm9yIiwiYXNzZXJ0IiwiYiIsImJhcmUiLCJtYWtlRXJyb3IiLCJub3RlIiwicSIsInF1b3RlIiwicmVkYWN0ZWQiLCJ0aHJvd1JlZGFjdGVkIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qICAgICAgICAgICAgICAgICAgICovXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuLy9cbi8vXG5cbmNvbnN0IGdsb2JhbEFzc2VydCA9IGdsb2JhbFRoaXMuYXNzZXJ0O1xuXG5pZiAoZ2xvYmFsQXNzZXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgdGhyb3cgRXJyb3IoXG4gICAgYENhbm5vdCBpbml0aWFsaXplIEBlbmRvL2Vycm9ycywgbWlzc2luZyBnbG9iYWxUaGlzLmFzc2VydCwgaW1wb3J0ICdzZXMnIGJlZm9yZSAnQGVuZG8vZXJyb3JzJ2AsXG4gICk7XG59XG5cbmNvbnN0IG1pc3NpbmcgPSAvKiAgICAgICAgICAgICAgICAqLyAoW1xuICAndHlwZW9mJyxcbiAgJ2Vycm9yJyxcbiAgJ2ZhaWwnLFxuICAnZXF1YWwnLFxuICAnc3RyaW5nJyxcbiAgJ25vdGUnLFxuICAnZGV0YWlscycsXG4gICdGYWlsJyxcbiAgJ3F1b3RlJyxcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgJ21ha2VBc3NlcnQnLFxuXSkuZmlsdGVyKG5hbWUgPT4gZ2xvYmFsQXNzZXJ0W25hbWVdID09PSB1bmRlZmluZWQpO1xuaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICB0aHJvdyBFcnJvcihcbiAgICBgQ2Fubm90IGluaXRpYWxpemUgQGVuZG8vZXJyb3JzLCBtaXNzaW5nIGdsb2JhbFRoaXMuYXNzZXJ0IG1ldGhvZHMgJHttaXNzaW5nLmpvaW4oXG4gICAgICAnLCAnLFxuICAgICl9YCxcbiAgKTtcbn1cblxuLy9cbi8vXG4vL1xuY29uc3Qge1xuICBiYXJlLFxuICBkZXRhaWxzOiByZWRhY3RlZCxcbiAgZXJyb3I6IG1ha2VFcnJvcixcbiAgRmFpbDogdGhyb3dSZWRhY3RlZCxcbiAgbWFrZUFzc2VydDogX29taXR0ZWRNYWtlQXNzZXJ0LFxuICBub3RlLFxuICBxdW90ZSxcbiAgLi4uYXNzZXJ0aW9uc1xufSA9IGdsb2JhbEFzc2VydDtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy9cbiRozY9fb25jZS5yZWRhY3RlZChyZWRhY3RlZCk7JGjNj19vbmNlLm1ha2VFcnJvcihtYWtlRXJyb3IpOyRozY9fb25jZS50aHJvd1JlZGFjdGVkKHRocm93UmVkYWN0ZWQpOyRozY9fb25jZS5ub3RlKG5vdGUpOyRozY9fb25jZS5xdW90ZShxdW90ZSk7Y29uc3QgYXNzZXJ0PSh2YWx1ZSxvcHREZXRhaWxzLGVyckNvbnRydWN0b3Isb3B0aW9ucyk9PlxuICBnbG9iYWxBc3NlcnQodmFsdWUsIG9wdERldGFpbHMsIGVyckNvbnRydWN0b3IsIG9wdGlvbnMpOyRozY9fb25jZS5hc3NlcnQoYXNzZXJ0KTtcbk9iamVjdC5hc3NpZ24oYXNzZXJ0LCBhc3NlcnRpb25zKTtcblxuLy9cbi8vXG4vL1xuY29uc3QgYmFyZU9yUXVvdGUgPSBiYXJlIHx8IHF1b3RlO1xuXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmJhcmVPclF1b3RlKGJhcmVPclF1b3RlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InJlZGFjdGVkIjpbInJlZGFjdGVkIl0sIlgiOlsicmVkYWN0ZWQiXSwibWFrZUVycm9yIjpbIm1ha2VFcnJvciJdLCJ0aHJvd1JlZGFjdGVkIjpbInRocm93UmVkYWN0ZWQiXSwiRmFpbCI6WyJ0aHJvd1JlZGFjdGVkIl0sIm5vdGUiOlsibm90ZSJdLCJhbm5vdGF0ZUVycm9yIjpbIm5vdGUiXSwicXVvdGUiOlsicXVvdGUiXSwicSI6WyJxdW90ZSJdLCJhc3NlcnQiOlsiYXNzZXJ0Il0sImJhcmUiOlsiYmFyZU9yUXVvdGUiXSwiYiI6WyJiYXJlT3JRdW90ZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADJsYMZGxYAABsWAAAjAAAAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvc3JjL0UuanN7ImltcG9ydHMiOlsiLi90cmFjay10dXJucy5qcyIsIi4vbWVzc2FnZS1icmVha3BvaW50cy5qcyJdLCJleHBvcnRzIjpbImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0cmFja1R1cm5zLG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcjskaM2PX2ltcG9ydHMoW1tcIi4vdHJhY2stdHVybnMuanNcIiwgW1tcInRyYWNrVHVybnNcIixbJGjNj19hID0+ICh0cmFja1R1cm5zID0gJGjNj19hKV1dXV0sW1wiLi9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzXCIsIFtbXCJtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXJcIixbJGjNj19hID0+IChtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIgPSAkaM2PX2EpXV1dXV0pO1xuXG5cbmNvbnN0IHsgZGV0YWlsczogWCwgcXVvdGU6IHEsIEZhaWwsIGVycm9yOiBtYWtlRXJyb3IgfSA9IGFzc2VydDtcbmNvbnN0IHsgYXNzaWduLCBmcmVlemUgfSA9IE9iamVjdDtcblxuLypcblxuICovXG5cbmNvbnN0IG9uU2VuZCA9IG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcignRU5ET19TRU5EX0JSRUFLUE9JTlRTJyk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBiYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyID0ge1xuICBzZXQoX3RhcmdldCwgX3Byb3AsIF92YWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNFeHRlbnNpYmxlKF90YXJnZXQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNldFByb3RvdHlwZU9mKF90YXJnZXQsIF92YWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHkoX3RhcmdldCwgX3Byb3ApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG59O1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VFUHJveHlIYW5kbGVyID0gKHJlY2lwaWVudCwgSGFuZGxlZFByb21pc2UpID0+XG4gIGhhcmRlbih7XG4gICAgLi4uYmFzZUZyZWV6YWJsZVByb3h5SGFuZGxlcixcbiAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgIHJldHVybiBoYXJkZW4oXG4gICAgICAgIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIFtwcm9wZXJ0eUtleV0oLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgIT09IHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHJldHVybiBIYW5kbGVkUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgbWFrZUVycm9yKFxuICAgICAgICAgICAgICAgICAgWGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShwcm9wZXJ0eUtleSl9XCIgbWV0aG9kIG9mIEUoJHtxKFxuICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICApfSlgLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSGFuZGxlZFByb21pc2UuYXBwbHlNZXRob2QocmVjaXBpZW50LCBwcm9wZXJ0eUtleSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgIH1bcHJvcGVydHlLZXldLFxuICAgICAgKTtcbiAgICB9LFxuICAgIGFwcGx5OiAoX3RhcmdldCwgX3RoaXNBcmcsIGFyZ0FycmF5ID0gW10pID0+IHtcbiAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCB1bmRlZmluZWQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGRlYnVnZ2VyOyAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgcmV0dXJuIEhhbmRsZWRQcm9taXNlLmFwcGx5RnVuY3Rpb24ocmVjaXBpZW50LCBhcmdBcnJheSk7XG4gICAgfSxcbiAgICBoYXM6IChfdGFyZ2V0LCBfcCkgPT4ge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5jb25zdCBtYWtlRVNlbmRPbmx5UHJveHlIYW5kbGVyID0gKHJlY2lwaWVudCwgSGFuZGxlZFByb21pc2UpID0+XG4gIGhhcmRlbih7XG4gICAgLi4uYmFzZUZyZWV6YWJsZVByb3h5SGFuZGxlcixcbiAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgIHJldHVybiBoYXJkZW4oXG4gICAgICAgIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgW3Byb3BlcnR5S2V5XSguLi5hcmdzKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdGhpcyA9PT0gcmVjZWl2ZXIgfHxcbiAgICAgICAgICAgICAgRmFpbGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgKX1cIiBtZXRob2Qgb2YgRS5zZW5kT25seSgke3EocmVjaXBpZW50KX0pYDtcbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5hcHBseU1ldGhvZFNlbmRPbmx5KHJlY2lwaWVudCwgcHJvcGVydHlLZXksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtwcm9wZXJ0eUtleV0sXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHk6IChfdGFyZ2V0LCBfdGhpc0FyZywgYXJnc0FycmF5ID0gW10pID0+IHtcbiAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCB1bmRlZmluZWQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGRlYnVnZ2VyOyAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgSGFuZGxlZFByb21pc2UuYXBwbHlGdW5jdGlvblNlbmRPbmx5KHJlY2lwaWVudCwgYXJnc0FycmF5KTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBoYXM6IChfdGFyZ2V0LCBfcCkgPT4ge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5jb25zdCBtYWtlRUdldFByb3h5SGFuZGxlciA9ICh4LCBIYW5kbGVkUHJvbWlzZSkgPT5cbiAgaGFyZGVuKHtcbiAgICAuLi5iYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyLFxuICAgIGhhczogKF90YXJnZXQsIF9wcm9wKSA9PiB0cnVlLFxuICAgIGdldDogKF90YXJnZXQsIHByb3ApID0+IEhhbmRsZWRQcm9taXNlLmdldCh4LCBwcm9wKSxcbiAgfSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgZnVuY1RhcmdldCA9IGZyZWV6ZSgoKSA9PiB7fSk7XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBvYmpUYXJnZXQgPSBmcmVlemUoeyBfX3Byb3RvX186IG51bGwgfSk7XG5cbi8qXG5cbiAqL1xuY29uc3QgbWFrZUUgPSBIYW5kbGVkUHJvbWlzZSA9PiB7XG4gIHJldHVybiBoYXJkZW4oXG4gICAgYXNzaWduKFxuICAgICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAqL1xuICAgICAgLy9cbiAgICAgIHggPT4gbmV3IFByb3h5KGZ1bmNUYXJnZXQsIG1ha2VFUHJveHlIYW5kbGVyKHgsIEhhbmRsZWRQcm9taXNlKSksXG4gICAgICB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICAvL1xuICAgICAgICBnZXQ6IHggPT4gbmV3IFByb3h5KG9ialRhcmdldCwgbWFrZUVHZXRQcm94eUhhbmRsZXIoeCwgSGFuZGxlZFByb21pc2UpKSxcblxuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICByZXNvbHZlOiBIYW5kbGVkUHJvbWlzZS5yZXNvbHZlLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmRPbmx5OiB4ID0+XG4gICAgICAgICAgLy9cbiAgICAgICAgICBuZXcgUHJveHkoZnVuY1RhcmdldCwgbWFrZUVTZW5kT25seVByb3h5SGFuZGxlcih4LCBIYW5kbGVkUHJvbWlzZSkpLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHdoZW46ICh4LCBvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkgPT5cbiAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5yZXNvbHZlKHgpLnRoZW4oXG4gICAgICAgICAgICAuLi50cmFja1R1cm5zKFtvbmZ1bGZpbGxlZCwgb25yZWplY3RlZF0pLFxuICAgICAgICAgICksXG4gICAgICB9LFxuICAgICksXG4gICk7XG59O1xuXG5jb25zdHtkZWZhdWx0OiRjzY9fZGVmYXVsdH09e2RlZmF1bHQ6bWFrZUV9O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlZmF1bHQoJGPNj19kZWZhdWx0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHQiOlsiZGVmYXVsdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAApAAAAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvc3JjL2V4cG9ydHMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAApOMro5EOAACRDgAAJwAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9sb2NhbC5qc3siaW1wb3J0cyI6WyIuL21lc3NhZ2UtYnJlYWtwb2ludHMuanMiXSwiZXhwb3J0cyI6WyJnZXRNZXRob2ROYW1lcyIsImxvY2FsQXBwbHlGdW5jdGlvbiIsImxvY2FsQXBwbHlNZXRob2QiLCJsb2NhbEdldCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcjskaM2PX2ltcG9ydHMoW1tcIi4vbWVzc2FnZS1icmVha3BvaW50cy5qc1wiLCBbW1wibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyXCIsWyRozY9fYSA9PiAobWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyID0gJGjNj19hKV1dXV1dKTtcblxuY29uc3QgeyBkZXRhaWxzOiBYLCBxdW90ZTogcSwgRmFpbCB9ID0gYXNzZXJ0O1xuXG5jb25zdCB7IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIGdldFByb3RvdHlwZU9mLCBmcmVlemUgfSA9IE9iamVjdDtcbmNvbnN0IHsgYXBwbHksIG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbmNvbnN0IG50eXBlb2YgPSBzcGVjaW1lbiA9PiAoc3BlY2ltZW4gPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc3BlY2ltZW4pO1xuXG5jb25zdCBvbkRlbGl2ZXJ5ID0gbWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKCdFTkRPX0RFTElWRVJZX0JSRUFLUE9JTlRTJyk7XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgaXNPYmplY3QgPSB2YWwgPT4gT2JqZWN0KHZhbCkgPT09IHZhbDtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGNvbXBhcmVTdHJpbmdpZmllZCA9IChhLCBiKSA9PiB7XG4gIGlmICh0eXBlb2YgYSA9PT0gdHlwZW9mIGIpIHtcbiAgICBjb25zdCBsZWZ0ID0gU3RyaW5nKGEpO1xuICAgIGNvbnN0IHJpZ2h0ID0gU3RyaW5nKGIpO1xuICAgIC8vXG4gICAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnc3ltYm9sJykge1xuICAgIGFzc2VydCh0eXBlb2YgYiA9PT0gJ3N0cmluZycpO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBhc3NlcnQodHlwZW9mIGEgPT09ICdzdHJpbmcnKTtcbiAgYXNzZXJ0KHR5cGVvZiBiID09PSAnc3ltYm9sJyk7XG4gIHJldHVybiAxO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRNZXRob2ROYW1lcyA9IHZhbCA9PiB7XG4gIGxldCBsYXllciA9IHZhbDtcbiAgY29uc3QgbmFtZXMgPSBuZXcgU2V0KCk7IC8vXG4gIHdoaWxlIChsYXllciAhPT0gbnVsbCAmJiBsYXllciAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIC8vXG4gICAgY29uc3QgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGxheWVyKTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygb3duS2V5cyhkZXNjcykpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKHR5cGVvZiB2YWxbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzT2JqZWN0KHZhbCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsYXllciA9IGdldFByb3RvdHlwZU9mKGxheWVyKTtcbiAgfVxuICByZXR1cm4gaGFyZGVuKFsuLi5uYW1lc10uc29ydChjb21wYXJlU3RyaW5naWZpZWQpKTtcbn07XG4vL1xuLy9cbiRozY9fb25jZS5nZXRNZXRob2ROYW1lcyhnZXRNZXRob2ROYW1lcyk7ZnJlZXplKGdldE1ldGhvZE5hbWVzKTtcblxuICAgICAgIGNvbnN0IGxvY2FsQXBwbHlGdW5jdGlvbiA9IChyZWNpcGllbnQsIGFyZ3MpID0+IHtcbiAgdHlwZW9mIHJlY2lwaWVudCA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgIGFzc2VydC5mYWlsKFxuICAgICAgWGBDYW5ub3QgaW52b2tlIHRhcmdldCBhcyBhIGZ1bmN0aW9uOyB0eXBlb2YgdGFyZ2V0IGlzICR7cShcbiAgICAgICAgbnR5cGVvZihyZWNpcGllbnQpLFxuICAgICAgKX1gLFxuICAgICAgVHlwZUVycm9yLFxuICAgICk7XG4gIGlmIChvbkRlbGl2ZXJ5ICYmIG9uRGVsaXZlcnkuc2hvdWxkQnJlYWtwb2ludChyZWNpcGllbnQsIHVuZGVmaW5lZCkpIHtcbiAgICAvL1xuICAgIGRlYnVnZ2VyOyAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXBwbHkocmVjaXBpZW50LCB1bmRlZmluZWQsIGFyZ3MpO1xuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UubG9jYWxBcHBseUZ1bmN0aW9uKGxvY2FsQXBwbHlGdW5jdGlvbik7XG5cbiAgICAgICBjb25zdCBsb2NhbEFwcGx5TWV0aG9kID0gKHJlY2lwaWVudCwgbWV0aG9kTmFtZSwgYXJncykgPT4ge1xuICBpZiAobWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkIHx8IG1ldGhvZE5hbWUgPT09IG51bGwpIHtcbiAgICAvL1xuICAgIHJldHVybiBsb2NhbEFwcGx5RnVuY3Rpb24ocmVjaXBpZW50LCBhcmdzKTtcbiAgfVxuICBpZiAocmVjaXBpZW50ID09PSB1bmRlZmluZWQgfHwgcmVjaXBpZW50ID09PSBudWxsKSB7XG4gICAgYXNzZXJ0LmZhaWwoXG4gICAgICBYYENhbm5vdCBkZWxpdmVyICR7cShtZXRob2ROYW1lKX0gdG8gdGFyZ2V0OyB0eXBlb2YgdGFyZ2V0IGlzICR7cShcbiAgICAgICAgbnR5cGVvZihyZWNpcGllbnQpLFxuICAgICAgKX1gLFxuICAgICAgVHlwZUVycm9yLFxuICAgICk7XG4gIH1cbiAgY29uc3QgZm4gPSByZWNpcGllbnRbbWV0aG9kTmFtZV07XG4gIGlmIChmbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0LmZhaWwoXG4gICAgICBYYHRhcmdldCBoYXMgbm8gbWV0aG9kICR7cShtZXRob2ROYW1lKX0sIGhhcyAke3EoXG4gICAgICAgIGdldE1ldGhvZE5hbWVzKHJlY2lwaWVudCksXG4gICAgICApfWAsXG4gICAgICBUeXBlRXJyb3IsXG4gICAgKTtcbiAgfVxuICBjb25zdCBmdHlwZSA9IG50eXBlb2YoZm4pO1xuICB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgfHxcbiAgICBGYWlsYGludm9rZWQgbWV0aG9kICR7cShtZXRob2ROYW1lKX0gaXMgbm90IGEgZnVuY3Rpb247IGl0IGlzIGEgJHtxKFxuICAgICAgZnR5cGUsXG4gICAgKX1gO1xuICBpZiAob25EZWxpdmVyeSAmJiBvbkRlbGl2ZXJ5LnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBtZXRob2ROYW1lKSkge1xuICAgIC8vXG4gICAgZGVidWdnZXI7IC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgfVxuICBjb25zdCByZXN1bHQgPSBhcHBseShmbiwgcmVjaXBpZW50LCBhcmdzKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07JGjNj19vbmNlLmxvY2FsQXBwbHlNZXRob2QobG9jYWxBcHBseU1ldGhvZCk7XG5cbiAgICAgICBjb25zdCBsb2NhbEdldCA9ICh0LCBrZXkpID0+IHRba2V5XTskaM2PX29uY2UubG9jYWxHZXQobG9jYWxHZXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZ2V0TWV0aG9kTmFtZXMiOlsiZ2V0TWV0aG9kTmFtZXMiXSwibG9jYWxBcHBseUZ1bmN0aW9uIjpbImxvY2FsQXBwbHlGdW5jdGlvbiJdLCJsb2NhbEFwcGx5TWV0aG9kIjpbImxvY2FsQXBwbHlNZXRob2QiXSwibG9jYWxHZXQiOlsibG9jYWxHZXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAeTPsuDwPAAA8DwAANQAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vudi1vcHRpb25zIl0sImV4cG9ydHMiOlsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZ2V0RW52aXJvbm1lbnRPcHRpb247JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lbnYtb3B0aW9uc1wiLCBbW1wiZ2V0RW52aXJvbm1lbnRPcHRpb25cIixbJGjNj19hID0+IChnZXRFbnZpcm9ubWVudE9wdGlvbiA9ICRozY9fYSldXV1dXSk7XG5cbmNvbnN0IHsgcXVvdGU6IHEsIEZhaWwgfSA9IGFzc2VydDtcblxuY29uc3QgeyBoYXNPd24sIGZyZWV6ZSwgZW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4vKlxuXG5cblxuXG5cbiAqL1xuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5jb25zdCBpc0pTT05SZWNvcmQgPSB2YWwgPT5cbiAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNpbXBsaWZ5VGFnID0gdGFnID0+IHtcbiAgZm9yIChjb25zdCBwcmVmaXggb2YgWydBbGxlZ2VkOiAnLCAnRGVidWdOYW1lOiAnXSkge1xuICAgIGlmICh0YWcuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICByZXR1cm4gdGFnLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFnO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIgPSBvcHRpb25OYW1lID0+IHtcbiAgbGV0IGJyZWFrcG9pbnRzID0gSlNPTi5wYXJzZShnZXRFbnZpcm9ubWVudE9wdGlvbihvcHRpb25OYW1lLCAnbnVsbCcpKTtcblxuICBpZiAoYnJlYWtwb2ludHMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBicmVha3BvaW50c1RhYmxlO1xuXG4gIGNvbnN0IGdldEJyZWFrcG9pbnRzID0gKCkgPT4gYnJlYWtwb2ludHM7XG4gIGZyZWV6ZShnZXRCcmVha3BvaW50cyk7XG5cbiAgY29uc3Qgc2V0QnJlYWtwb2ludHMgPSAobmV3QnJlYWtwb2ludHMgPSBicmVha3BvaW50cykgPT4ge1xuICAgIGlzSlNPTlJlY29yZChuZXdCcmVha3BvaW50cykgfHxcbiAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24gdG8gYmUgYSBKU09OIGJyZWFrcG9pbnRzIHJlY29yZGA7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvL1xuICAgIGNvbnN0IG5ld0JyZWFrcG9pbnRzVGFibGUgPSB7IF9fcHJvdG9fXzogbnVsbCB9O1xuXG4gICAgZm9yIChjb25zdCBbdGFnLCBtZXRob2RCUHNdIG9mIGVudHJpZXMobmV3QnJlYWtwb2ludHMpKSB7XG4gICAgICB0YWcgPT09IHNpbXBsaWZ5VGFnKHRhZykgfHxcbiAgICAgICAgRmFpbGBKdXN0IHVzZSBzaW1wbGUgdGFnICR7cShzaW1wbGlmeVRhZyh0YWcpKX0gcmF0aGVyIHRoYW4gJHtxKHRhZyl9YDtcbiAgICAgIGlzSlNPTlJlY29yZChtZXRob2RCUHMpIHx8XG4gICAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24ncyAke3EoXG4gICAgICAgICAgdGFnLFxuICAgICAgICApfSB0byBiZSBhIEpTT04gbWV0aG9kcyBicmVha3BvaW50cyByZWNvcmRgO1xuICAgICAgZm9yIChjb25zdCBbbWV0aG9kTmFtZSwgY291bnRdIG9mIGVudHJpZXMobWV0aG9kQlBzKSkge1xuICAgICAgICBjb3VudCA9PT0gJyonIHx8XG4gICAgICAgICAgKHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKGNvdW50KSAmJlxuICAgICAgICAgICAgY291bnQgPj0gMCkgfHxcbiAgICAgICAgICBGYWlsYEV4cGVjdGVkICR7cShvcHRpb25OYW1lKX0gb3B0aW9uJ3MgJHtxKHRhZyl9LiR7cShcbiAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgKX0gdG8gYmUgXCIqXCIgb3IgYSBub24tbmVnYXRpdmUgaW50ZWdlcmA7XG5cbiAgICAgICAgY29uc3QgY2xhc3NCUHMgPSBoYXNPd24obmV3QnJlYWtwb2ludHNUYWJsZSwgbWV0aG9kTmFtZSlcbiAgICAgICAgICA/IG5ld0JyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV1cbiAgICAgICAgICA6IChuZXdCcmVha3BvaW50c1RhYmxlW21ldGhvZE5hbWVdID0ge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2xhc3NCUHNbdGFnXSA9IGNvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICBicmVha3BvaW50cyA9IG5ld0JyZWFrcG9pbnRzO1xuICAgIGJyZWFrcG9pbnRzVGFibGUgPSBuZXdCcmVha3BvaW50c1RhYmxlO1xuICB9O1xuICBmcmVlemUoc2V0QnJlYWtwb2ludHMpO1xuXG4gIGNvbnN0IHNob3VsZEJyZWFrcG9pbnQgPSAocmVjaXBpZW50LCBtZXRob2ROYW1lKSA9PiB7XG4gICAgaWYgKG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCB8fCBtZXRob2ROYW1lID09PSBudWxsKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc0JQcyA9IGJyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV0gfHwgYnJlYWtwb2ludHNUYWJsZVsnKiddO1xuICAgIGlmIChjbGFzc0JQcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB0YWcgPSBzaW1wbGlmeVRhZyhyZWNpcGllbnRbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gICAgbGV0IGNvdW50ID0gY2xhc3NCUHNbdGFnXTtcbiAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFnID0gJyonO1xuICAgICAgY291bnQgPSBjbGFzc0JQc1t0YWddO1xuICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnQgPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzc2VydCh0eXBlb2YgY291bnQgPT09ICdudW1iZXInICYmIGNvdW50ID49IDEpO1xuICAgIGNsYXNzQlBzW3RhZ10gPSBjb3VudCAtIDE7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBmcmVlemUoc2hvdWxkQnJlYWtwb2ludCk7XG5cbiAgY29uc3QgYnJlYWtwb2ludFRlc3RlciA9IGZyZWV6ZSh7XG4gICAgZ2V0QnJlYWtwb2ludHMsXG4gICAgc2V0QnJlYWtwb2ludHMsXG4gICAgc2hvdWxkQnJlYWtwb2ludCxcbiAgfSk7XG4gIGJyZWFrcG9pbnRUZXN0ZXIuc2V0QnJlYWtwb2ludHMoKTtcbiAgcmV0dXJuIGJyZWFrcG9pbnRUZXN0ZXI7XG59OyRozY9fb25jZS5tYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIobWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKTtcbmZyZWV6ZShtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIjpbIm1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC4dpSdXwMAAF8DAAApAAAAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvc3JjL25vLXNoaW0uanN7ImltcG9ydHMiOlsiLi9FLmpzIiwiLi9leHBvcnRzLmpzIl0sImV4cG9ydHMiOlsiRSIsIkhhbmRsZWRQcm9taXNlIl0sInJlZXhwb3J0cyI6WyIuL2V4cG9ydHMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlRTskaM2PX2ltcG9ydHMoW1tcIi4vRS5qc1wiLCBbW1wiZGVmYXVsdFwiLFskaM2PX2EgPT4gKG1ha2VFID0gJGjNj19hKV1dXV0sW1wiLi9leHBvcnRzLmpzXCIsIFtdXV0pO1xuXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgaHAgPSBIYW5kbGVkUHJvbWlzZTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuaHAoaHApO1xuICAgICAgIGNvbnN0IEUgPSBtYWtlRShocCk7JGjNj19vbmNlLkUoRSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJIYW5kbGVkUHJvbWlzZSI6WyJocCJdLCJFIjpbIkUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAqYDDs54KAACeCgAALQAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy90cmFjay10dXJucy5qc3siaW1wb3J0cyI6WyJAZW5kby9lbnYtb3B0aW9ucyJdLCJleHBvcnRzIjpbInRyYWNrVHVybnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRFbnZpcm9ubWVudE9wdGlvbixlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV0sW1wiZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhc1wiLFskaM2PX2EgPT4gKGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbmxldCBoaWRkZW5QcmlvckVycm9yO1xubGV0IGhpZGRlbkN1cnJlbnRUdXJuID0gMDtcbmxldCBoaWRkZW5DdXJyZW50RXZlbnQgPSAwO1xuXG4vL1xuY29uc3QgVkVSQk9TRSA9IGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMoJ0RFQlVHJywgJ3RyYWNrLXR1cm5zJyk7XG5cbi8vXG4vL1xuY29uc3QgRU5BQkxFRCA9XG4gIGdldEVudmlyb25tZW50T3B0aW9uKCdUUkFDS19UVVJOUycsICdkaXNhYmxlZCcsIFsnZW5hYmxlZCddKSA9PT0gJ2VuYWJsZWQnO1xuXG4vL1xuLy9cbi8vXG4vL1xuXG5jb25zdCBhZGRSZWplY3Rpb25Ob3RlID0gZGV0YWlsc05vdGUgPT4gcmVhc29uID0+IHtcbiAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgZ2xvYmFsVGhpcy5hc3NlcnQubm90ZShyZWFzb24sIGRldGFpbHNOb3RlKTtcbiAgfVxuICBpZiAoVkVSQk9TRSkge1xuICAgIGNvbnNvbGUubG9nKCdSRUpFQ1RFRCBhdCB0b3Agb2YgZXZlbnQgbG9vcCcsIHJlYXNvbik7XG4gIH1cbn07XG5cbmNvbnN0IHdyYXBGdW5jdGlvbiA9XG4gIChmdW5jLCBzZW5kaW5nRXJyb3IsIFgpID0+XG4gICguLi5hcmdzKSA9PiB7XG4gICAgaGlkZGVuUHJpb3JFcnJvciA9IHNlbmRpbmdFcnJvcjtcbiAgICBoaWRkZW5DdXJyZW50VHVybiArPSAxO1xuICAgIGhpZGRlbkN1cnJlbnRFdmVudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBmdW5jKC4uLmFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGdsb2JhbFRoaXMuYXNzZXJ0Lm5vdGUoXG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBYYFRocm93biBmcm9tOiAke2hpZGRlblByaW9yRXJyb3J9OiR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVkVSQk9TRSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUSFJPV04gdG8gdG9wIG9mIGV2ZW50IGxvb3AnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBjb25zdCBkZXRhaWxzTm90ZSA9IFhgUmVqZWN0aW9uIGZyb206ICR7aGlkZGVuUHJpb3JFcnJvcn06JHtoaWRkZW5DdXJyZW50VHVybn0uJHtoaWRkZW5DdXJyZW50RXZlbnR9YDtcbiAgICAgIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLmNhdGNoKGFkZFJlamVjdGlvbk5vdGUoZGV0YWlsc05vdGUpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGhpZGRlblByaW9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB0cmFja1R1cm5zID0gZnVuY3MgPT4ge1xuICBpZiAoIUVOQUJMRUQgfHwgdHlwZW9mIGdsb2JhbFRoaXMgPT09ICd1bmRlZmluZWQnIHx8ICFnbG9iYWxUaGlzLmFzc2VydCkge1xuICAgIHJldHVybiBmdW5jcztcbiAgfVxuICBjb25zdCB7IGRldGFpbHM6IFgsIG5vdGU6IGFubm90YXRlRXJyb3IgfSA9IGdsb2JhbFRoaXMuYXNzZXJ0O1xuXG4gIGhpZGRlbkN1cnJlbnRFdmVudCArPSAxO1xuICBjb25zdCBzZW5kaW5nRXJyb3IgPSBFcnJvcihcbiAgICBgRXZlbnQ6ICR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICk7XG4gIGlmIChoaWRkZW5QcmlvckVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICBhbm5vdGF0ZUVycm9yKHNlbmRpbmdFcnJvciwgWGBDYXVzZWQgYnk6ICR7aGlkZGVuUHJpb3JFcnJvcn1gKTtcbiAgfVxuXG4gIHJldHVybiAvKiAgICAgICAgICAgICovIChcbiAgICBmdW5jcy5tYXAoZnVuYyA9PiBmdW5jICYmIHdyYXBGdW5jdGlvbihmdW5jLCBzZW5kaW5nRXJyb3IsIFgpKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLnRyYWNrVHVybnModHJhY2tUdXJucyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0cmFja1R1cm5zIjpbInRyYWNrVHVybnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAe6GgR2QCAABkAgAAIwAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3V0aWxzLmpzeyJpbXBvcnRzIjpbIi4vc3JjL2xvY2FsLmpzIiwiLi9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qcyJdLCJleHBvcnRzIjpbbnVsbCxudWxsXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvbG9jYWwuanNcIiwgW11dLFtcIi4vc3JjL21lc3NhZ2UtYnJlYWtwb2ludHMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9sb2NhbC5qcyI6W1siZ2V0TWV0aG9kTmFtZXMiLCJnZXRNZXRob2ROYW1lcyJdXSwiLi9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qcyI6W1sibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIiwibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADcRdmjYAIAAGACAAAZAAAAQGVuZG8vZXhvLXYxLjUuOS9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9leG8tbWFrZXJzLmpzIiwiLi9zcmMvdHlwZXMuanMiLCIuL3NyYy9nZXQtaW50ZXJmYWNlLmpzIl0sImV4cG9ydHMiOltudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL2V4by1tYWtlcnMuanMiLCIuL3NyYy90eXBlcy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9leG8tbWFrZXJzLmpzXCIsIFtdXSxbXCIuL3NyYy90eXBlcy5qc1wiLCBbXV0sW1wiLi9zcmMvZ2V0LWludGVyZmFjZS5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vc3JjL2dldC1pbnRlcmZhY2UuanMiOltbIkdFVF9JTlRFUkZBQ0VfR1VBUkQiLCJHRVRfSU5URVJGQUNFX0dVQVJEIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADgINvCzxcAAM8XAAAiAAAAQGVuZG8vZXhvLXYxLjUuOS9zcmMvZXhvLW1ha2Vycy5qc3siaW1wb3J0cyI6WyJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qcyIsIkBlbmRvL2Vudi1vcHRpb25zIiwiQGVuZG8vZXJyb3JzIiwiLi9leG8tdG9vbHMuanMiXSwiZXhwb3J0cyI6WyJkZWZpbmVFeG9DbGFzcyIsImRlZmluZUV4b0NsYXNzS2l0IiwiaW5pdEVtcHR5IiwibWFrZUV4byJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG9iamVjdE1hcCxlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzLEZhaWwscSxkZWZlbmRQcm90b3R5cGUsZGVmZW5kUHJvdG90eXBlS2l0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vudi1vcHRpb25zXCIsIFtbXCJlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzXCIsWyRozY9fYSA9PiAoZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCIuL2V4by10b29scy5qc1wiLCBbW1wiZGVmZW5kUHJvdG90eXBlXCIsWyRozY9fYSA9PiAoZGVmZW5kUHJvdG90eXBlID0gJGjNj19hKV1dLFtcImRlZmVuZFByb3RvdHlwZUtpdFwiLFskaM2PX2EgPT4gKGRlZmVuZFByb3RvdHlwZUtpdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuICovXG5cbmNvbnN0IHsgY3JlYXRlLCBzZWFsLCBmcmVlemUsIGRlZmluZVByb3BlcnR5LCB2YWx1ZXMgfSA9IE9iamVjdDtcblxuLy9cbmNvbnN0IExBQkVMX0lOU1RBTkNFUyA9IGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMoJ0RFQlVHJywgJ2xhYmVsLWluc3RhbmNlcycpO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VTZWxmID0gKHByb3RvLCBpbnN0YW5jZUNvdW50KSA9PiB7XG4gIGNvbnN0IHNlbGYgPSBjcmVhdGUocHJvdG8pO1xuICBpZiAoTEFCRUxfSU5TVEFOQ0VTKSB7XG4gICAgZGVmaW5lUHJvcGVydHkoc2VsZiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgICB2YWx1ZTogYCR7cHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXX0jJHtpbnN0YW5jZUNvdW50fWAsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGhhcmRlbihzZWxmKTtcbn07XG5cbmNvbnN0IGVtcHR5UmVjb3JkID0gaGFyZGVuKHt9KTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaW5pdEVtcHR5ID0gKCkgPT4gZW1wdHlSZWNvcmQ7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmluaXRFbXB0eShpbml0RW1wdHkpO1xuICAgICAgIGNvbnN0IGRlZmluZUV4b0NsYXNzID0gKFxuICB0YWcsXG4gIGludGVyZmFjZUd1YXJkLFxuICBpbml0LFxuICBtZXRob2RzLFxuICBvcHRpb25zID0ge30sXG4pID0+IHtcbiAgaGFyZGVuKG1ldGhvZHMpO1xuICBjb25zdCB7XG4gICAgZmluaXNoID0gdW5kZWZpbmVkLFxuICAgIHJlY2VpdmVBbXBsaWZpZXIgPSB1bmRlZmluZWQsXG4gICAgcmVjZWl2ZUluc3RhbmNlVGVzdGVyID0gdW5kZWZpbmVkLFxuICB9ID0gb3B0aW9ucztcbiAgcmVjZWl2ZUFtcGxpZmllciA9PT0gdW5kZWZpbmVkIHx8XG4gICAgRmFpbGBPbmx5IGZhY2V0cyBvZiBhbiBleG8gY2xhc3Mga2l0IGNhbiBiZSBhbXBsaWZpZWQgJHtxKHRhZyl9YDtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgY29udGV4dE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIGNvbnN0IHByb3RvID0gZGVmZW5kUHJvdG90eXBlKFxuICAgIHRhZyxcbiAgICBzZWxmID0+IC8qICAgICAgICAgICAgICAqLyAoY29udGV4dE1hcC5nZXQoc2VsZikpLFxuICAgIG1ldGhvZHMsXG4gICAgdHJ1ZSxcbiAgICBpbnRlcmZhY2VHdWFyZCxcbiAgKTtcbiAgbGV0IGluc3RhbmNlQ291bnQgPSAwO1xuICAvKlxuXG4gICAqL1xuICBjb25zdCBtYWtlSW5zdGFuY2UgPSAoLi4uYXJncykgPT4ge1xuICAgIC8vXG4gICAgY29uc3Qgc3RhdGUgPSBzZWFsKGluaXQoLi4uYXJncykpO1xuICAgIGluc3RhbmNlQ291bnQgKz0gMTtcbiAgICBjb25zdCBzZWxmID0gbWFrZVNlbGYocHJvdG8sIGluc3RhbmNlQ291bnQpO1xuXG4gICAgLy9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGNvbnRleHQgPSBmcmVlemUoeyBzdGF0ZSwgc2VsZiB9KTtcbiAgICBjb250ZXh0TWFwLnNldChzZWxmLCBjb250ZXh0KTtcbiAgICBpZiAoZmluaXNoKSB7XG4gICAgICBmaW5pc2goY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIGlmIChyZWNlaXZlSW5zdGFuY2VUZXN0ZXIpIHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgaXNJbnN0YW5jZSA9IChleG8sIGZhY2V0TmFtZSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgZmFjZXROYW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgRmFpbGBmYWNldE5hbWUgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGFuIGV4byBjbGFzcyBraXQ6ICR7cShcbiAgICAgICAgICB0YWcsXG4gICAgICAgICl9IGhhcyBubyBmYWNldCAke3EoZmFjZXROYW1lKX1gO1xuICAgICAgcmV0dXJuIGNvbnRleHRNYXAuaGFzKGV4byk7XG4gICAgfTtcbiAgICBoYXJkZW4oaXNJbnN0YW5jZSk7XG4gICAgcmVjZWl2ZUluc3RhbmNlVGVzdGVyKGlzSW5zdGFuY2UpO1xuICB9XG5cbiAgcmV0dXJuIGhhcmRlbihtYWtlSW5zdGFuY2UpO1xufTskaM2PX29uY2UuZGVmaW5lRXhvQ2xhc3MoZGVmaW5lRXhvQ2xhc3MpO1xuaGFyZGVuKGRlZmluZUV4b0NsYXNzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWZpbmVFeG9DbGFzc0tpdCA9IChcbiAgdGFnLFxuICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgaW5pdCxcbiAgbWV0aG9kc0tpdCxcbiAgb3B0aW9ucyA9IHt9LFxuKSA9PiB7XG4gIGhhcmRlbihtZXRob2RzS2l0KTtcbiAgY29uc3Qge1xuICAgIGZpbmlzaCA9IHVuZGVmaW5lZCxcbiAgICByZWNlaXZlQW1wbGlmaWVyID0gdW5kZWZpbmVkLFxuICAgIHJlY2VpdmVJbnN0YW5jZVRlc3RlciA9IHVuZGVmaW5lZCxcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNvbnRleHRNYXBLaXQgPSBvYmplY3RNYXAobWV0aG9kc0tpdCwgKCkgPT4gbmV3IFdlYWtNYXAoKSk7XG4gIGNvbnN0IGdldENvbnRleHRLaXQgPSBvYmplY3RNYXAoXG4gICAgY29udGV4dE1hcEtpdCxcbiAgICBjb250ZXh0TWFwID0+IGZhY2V0ID0+IGNvbnRleHRNYXAuZ2V0KGZhY2V0KSxcbiAgKTtcbiAgY29uc3QgcHJvdG90eXBlS2l0ID0gZGVmZW5kUHJvdG90eXBlS2l0KFxuICAgIHRhZyxcbiAgICBnZXRDb250ZXh0S2l0LFxuICAgIG1ldGhvZHNLaXQsXG4gICAgdHJ1ZSxcbiAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgKTtcbiAgbGV0IGluc3RhbmNlQ291bnQgPSAwO1xuICAvKlxuXG4gICAqL1xuICBjb25zdCBtYWtlSW5zdGFuY2VLaXQgPSAoLi4uYXJncykgPT4ge1xuICAgIC8vXG4gICAgY29uc3Qgc3RhdGUgPSBzZWFsKGluaXQoLi4uYXJncykpO1xuICAgIC8vXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGNvbnRleHQgPSB7IHN0YXRlLCBmYWNldHM6IG51bGwgfTtcbiAgICBpbnN0YW5jZUNvdW50ICs9IDE7XG4gICAgY29uc3QgZmFjZXRzID0gb2JqZWN0TWFwKHByb3RvdHlwZUtpdCwgKHByb3RvLCBmYWNldE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHNlbGYgPSBtYWtlU2VsZihwcm90bywgaW5zdGFuY2VDb3VudCk7XG4gICAgICBjb250ZXh0TWFwS2l0W2ZhY2V0TmFtZV0uc2V0KHNlbGYsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG4gICAgY29udGV4dC5mYWNldHMgPSBmYWNldHM7XG4gICAgLy9cbiAgICBmcmVlemUoY29udGV4dCk7XG4gICAgaWYgKGZpbmlzaCkge1xuICAgICAgZmluaXNoKGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAqLyAoY29udGV4dC5mYWNldHMpO1xuICB9O1xuXG4gIGlmIChyZWNlaXZlQW1wbGlmaWVyKSB7XG4gICAgLyogICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGFtcGxpZnkgPSBleG9GYWNldCA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGNvbnRleHRNYXAgb2YgdmFsdWVzKGNvbnRleHRNYXBLaXQpKSB7XG4gICAgICAgIGlmIChjb250ZXh0TWFwLmhhcyhleG9GYWNldCkpIHtcbiAgICAgICAgICBjb25zdCB7IGZhY2V0cyB9ID0gY29udGV4dE1hcC5nZXQoZXhvRmFjZXQpO1xuICAgICAgICAgIHJldHVybiBmYWNldHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IEZhaWxgTXVzdCBiZSBhIGZhY2V0IG9mICR7cSh0YWcpfTogJHtleG9GYWNldH1gO1xuICAgIH07XG4gICAgaGFyZGVuKGFtcGxpZnkpO1xuICAgIHJlY2VpdmVBbXBsaWZpZXIoYW1wbGlmeSk7XG4gIH1cblxuICBpZiAocmVjZWl2ZUluc3RhbmNlVGVzdGVyKSB7XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGlzSW5zdGFuY2UgPSAoZXhvRmFjZXQsIGZhY2V0TmFtZSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgaWYgKGZhY2V0TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMoY29udGV4dE1hcEtpdCkuc29tZShjb250ZXh0TWFwID0+XG4gICAgICAgICAgY29udGV4dE1hcC5oYXMoZXhvRmFjZXQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgYXNzZXJ0LnR5cGVvZihmYWNldE5hbWUsICdzdHJpbmcnKTtcbiAgICAgIGNvbnN0IGNvbnRleHRNYXAgPSBjb250ZXh0TWFwS2l0W2ZhY2V0TmFtZV07XG4gICAgICBjb250ZXh0TWFwICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgRmFpbGBleG8gY2xhc3Mga2l0ICR7cSh0YWcpfSBoYXMgbm8gZmFjZXQgbmFtZWQgJHtxKGZhY2V0TmFtZSl9YDtcbiAgICAgIHJldHVybiBjb250ZXh0TWFwLmhhcyhleG9GYWNldCk7XG4gICAgfTtcbiAgICBoYXJkZW4oaXNJbnN0YW5jZSk7XG4gICAgcmVjZWl2ZUluc3RhbmNlVGVzdGVyKGlzSW5zdGFuY2UpO1xuICB9XG5cbiAgcmV0dXJuIGhhcmRlbihtYWtlSW5zdGFuY2VLaXQpO1xufTskaM2PX29uY2UuZGVmaW5lRXhvQ2xhc3NLaXQoZGVmaW5lRXhvQ2xhc3NLaXQpO1xuaGFyZGVuKGRlZmluZUV4b0NsYXNzS2l0KTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRXhvID0gKHRhZywgaW50ZXJmYWNlR3VhcmQsIG1ldGhvZHMsIG9wdGlvbnMgPSB1bmRlZmluZWQpID0+IHtcbiAgY29uc3QgbWFrZUluc3RhbmNlID0gZGVmaW5lRXhvQ2xhc3MoXG4gICAgdGFnLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICAgIGluaXRFbXB0eSxcbiAgICBtZXRob2RzLFxuICAgIG9wdGlvbnMsXG4gICk7XG4gIHJldHVybiBtYWtlSW5zdGFuY2UoKTtcbn07JGjNj19vbmNlLm1ha2VFeG8obWFrZUV4byk7XG5oYXJkZW4obWFrZUV4byk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpbml0RW1wdHkiOlsiaW5pdEVtcHR5Il0sImRlZmluZUV4b0NsYXNzIjpbImRlZmluZUV4b0NsYXNzIl0sImRlZmluZUV4b0NsYXNzS2l0IjpbImRlZmluZUV4b0NsYXNzS2l0Il0sIm1ha2VFeG8iOlsibWFrZUV4byJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADBKpYxAzgAAAM4AAAhAAAAQGVuZG8vZXhvLXYxLjUuOS9zcmMvZXhvLXRvb2xzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzIiwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCJAZW5kby9lcnJvcnMiLCIuL2dldC1pbnRlcmZhY2UuanMiXSwiZXhwb3J0cyI6WyJkZWZlbmRQcm90b3R5cGUiLCJkZWZlbmRQcm90b3R5cGVLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRNZXRob2ROYW1lcyxoYXNPd25Qcm9wZXJ0eU9mLHRvVGhyb3dhYmxlLEUsRmFyLG11c3RNYXRjaCxNLGlzQXdhaXRBcmdHdWFyZCxpc1Jhd0d1YXJkLGdldEF3YWl0QXJnR3VhcmRQYXlsb2FkLGdldE1ldGhvZEd1YXJkUGF5bG9hZCxnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQsZ2V0Q29weU1hcEVudHJpZXMsbGlzdERpZmZlcmVuY2Usb2JqZWN0TWFwLHEsRmFpbCxHRVRfSU5URVJGQUNFX0dVQVJEOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qc1wiLCBbW1wiZ2V0TWV0aG9kTmFtZXNcIixbJGjNj19hID0+IChnZXRNZXRob2ROYW1lcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImhhc093blByb3BlcnR5T2ZcIixbJGjNj19hID0+IChoYXNPd25Qcm9wZXJ0eU9mID0gJGjNj19hKV1dLFtcInRvVGhyb3dhYmxlXCIsWyRozY9fYSA9PiAodG9UaHJvd2FibGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV0sW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wiaXNBd2FpdEFyZ0d1YXJkXCIsWyRozY9fYSA9PiAoaXNBd2FpdEFyZ0d1YXJkID0gJGjNj19hKV1dLFtcImlzUmF3R3VhcmRcIixbJGjNj19hID0+IChpc1Jhd0d1YXJkID0gJGjNj19hKV1dLFtcImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0QXdhaXRBcmdHdWFyZFBheWxvYWQgPSAkaM2PX2EpXV0sW1wiZ2V0TWV0aG9kR3VhcmRQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0TWV0aG9kR3VhcmRQYXlsb2FkID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZUd1YXJkUGF5bG9hZFwiLFskaM2PX2EgPT4gKGdldEludGVyZmFjZUd1YXJkUGF5bG9hZCA9ICRozY9fYSldXSxbXCJnZXRDb3B5TWFwRW50cmllc1wiLFskaM2PX2EgPT4gKGdldENvcHlNYXBFbnRyaWVzID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qc1wiLCBbW1wibGlzdERpZmZlcmVuY2VcIixbJGjNj19hID0+IChsaXN0RGlmZmVyZW5jZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzXCIsIFtbXCJvYmplY3RNYXBcIixbJGjNj19hID0+IChvYmplY3RNYXAgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiLi9nZXQtaW50ZXJmYWNlLmpzXCIsIFtbXCJHRVRfSU5URVJGQUNFX0dVQVJEXCIsWyRozY9fYSA9PiAoR0VUX0lOVEVSRkFDRV9HVUFSRCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuY29uc3QgeyBhcHBseSwgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgZGVmaW5lUHJvcGVydGllcywgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcblxuLypcblxuXG4gKi9cbmNvbnN0IFJhd01ldGhvZEd1YXJkID0gTS5jYWxsKCkucmVzdChNLnJhdygpKS5yZXR1cm5zKE0ucmF3KCkpO1xuXG5jb25zdCBSRURBQ1RFRF9SQVdfQVJHID0gJzxyZWRhY3RlZCByYXcgYXJnPic7XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBQYXNzYWJsZU1ldGhvZEd1YXJkID0gTS5jYWxsKCkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZmVuZFN5bmNBcmdzID0gKHN5bmNBcmdzLCBtYXRjaENvbmZpZywgbGFiZWwgPSB1bmRlZmluZWQpID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY2xhcmVkTGVuLFxuICAgIGhhc1Jlc3RBcmdHdWFyZCxcbiAgICByZXN0QXJnR3VhcmRJc1JhdyxcbiAgICBwYXJhbXNQYXR0ZXJuLFxuICAgIHJlZGFjdGVkSW5kaWNlcyxcbiAgfSA9IG1hdGNoQ29uZmlnO1xuXG4gIC8vXG4gIC8vXG4gIGxldCBtYXRjaGFibGVBcmdzID0gc3luY0FyZ3M7XG4gIGlmIChyZXN0QXJnR3VhcmRJc1JhdyAmJiBzeW5jQXJncy5sZW5ndGggPiBkZWNsYXJlZExlbikge1xuICAgIGNvbnN0IHJlc3RMZW4gPSBzeW5jQXJncy5sZW5ndGggLSBkZWNsYXJlZExlbjtcbiAgICBjb25zdCByZWRhY3RlZFJlc3QgPSBBcnJheShyZXN0TGVuKS5maWxsKFJFREFDVEVEX1JBV19BUkcpO1xuICAgIG1hdGNoYWJsZUFyZ3MgPSBbLi4uc3luY0FyZ3Muc2xpY2UoMCwgZGVjbGFyZWRMZW4pLCAuLi5yZWRhY3RlZFJlc3RdO1xuICB9IGVsc2UgaWYgKFxuICAgIHJlZGFjdGVkSW5kaWNlcy5sZW5ndGggPiAwICYmXG4gICAgcmVkYWN0ZWRJbmRpY2VzWzBdIDwgc3luY0FyZ3MubGVuZ3RoXG4gICkge1xuICAgIC8vXG4gICAgLy9cbiAgICBtYXRjaGFibGVBcmdzID0gWy4uLnN5bmNBcmdzXTtcbiAgfVxuXG4gIGZvciAoY29uc3QgaSBvZiByZWRhY3RlZEluZGljZXMpIHtcbiAgICBpZiAoaSA+PSBtYXRjaGFibGVBcmdzLmxlbmd0aCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG1hdGNoYWJsZUFyZ3NbaV0gPSBSRURBQ1RFRF9SQVdfQVJHO1xuICB9XG5cbiAgbXVzdE1hdGNoKGhhcmRlbihtYXRjaGFibGVBcmdzKSwgcGFyYW1zUGF0dGVybiwgbGFiZWwpO1xuXG4gIGlmIChoYXNSZXN0QXJnR3VhcmQpIHtcbiAgICByZXR1cm4gc3luY0FyZ3M7XG4gIH1cbiAgc3luY0FyZ3MubGVuZ3RoIDw9IGRlY2xhcmVkTGVuIHx8XG4gICAgRmFpbGAke3EobGFiZWwpfSBhY2NlcHRzIGF0IG1vc3QgJHtxKGRlY2xhcmVkTGVuKX0gYXJndW1lbnRzLCBub3QgJHtxKFxuICAgICAgc3luY0FyZ3MubGVuZ3RoLFxuICAgICl9OiAke3N5bmNBcmdzfWA7XG4gIHJldHVybiBzeW5jQXJncztcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgYnVpbGRNYXRjaENvbmZpZyA9IG1ldGhvZEd1YXJkUGF5bG9hZCA9PiB7XG4gIGNvbnN0IHtcbiAgICBhcmdHdWFyZHMsXG4gICAgb3B0aW9uYWxBcmdHdWFyZHMgPSBbXSxcbiAgICByZXN0QXJnR3VhcmQsXG4gIH0gPSBtZXRob2RHdWFyZFBheWxvYWQ7XG5cbiAgY29uc3QgbWF0Y2hhYmxlQXJnR3VhcmRzID0gWy4uLmFyZ0d1YXJkcywgLi4ub3B0aW9uYWxBcmdHdWFyZHNdO1xuXG4gIGNvbnN0IHJlZGFjdGVkSW5kaWNlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoYWJsZUFyZ0d1YXJkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChpc1Jhd0d1YXJkKG1hdGNoYWJsZUFyZ0d1YXJkc1tpXSkpIHtcbiAgICAgIG1hdGNoYWJsZUFyZ0d1YXJkc1tpXSA9IFJFREFDVEVEX1JBV19BUkc7XG4gICAgICByZWRhY3RlZEluZGljZXMucHVzaChpKTtcbiAgICB9XG4gIH1cblxuICAvL1xuICBsZXQgbWF0Y2hhYmxlUmVzdEFyZ0d1YXJkID0gcmVzdEFyZ0d1YXJkO1xuICBpZiAoaXNSYXdHdWFyZChtYXRjaGFibGVSZXN0QXJnR3VhcmQpKSB7XG4gICAgbWF0Y2hhYmxlUmVzdEFyZ0d1YXJkID0gTS5hcnJheU9mKFJFREFDVEVEX1JBV19BUkcpO1xuICB9XG4gIGNvbnN0IG1hdGNoYWJsZU1ldGhvZEd1YXJkUGF5bG9hZCA9IGhhcmRlbih7XG4gICAgLi4ubWV0aG9kR3VhcmRQYXlsb2FkLFxuICAgIGFyZ0d1YXJkczogbWF0Y2hhYmxlQXJnR3VhcmRzLnNsaWNlKDAsIGFyZ0d1YXJkcy5sZW5ndGgpLFxuICAgIG9wdGlvbmFsQXJnR3VhcmRzOiBtYXRjaGFibGVBcmdHdWFyZHMuc2xpY2UoYXJnR3VhcmRzLmxlbmd0aCksXG4gICAgcmVzdEFyZ0d1YXJkOiBtYXRjaGFibGVSZXN0QXJnR3VhcmQsXG4gIH0pO1xuXG4gIGNvbnN0IHBhcmFtc1BhdHRlcm4gPSBNLnNwbGl0QXJyYXkoXG4gICAgbWF0Y2hhYmxlTWV0aG9kR3VhcmRQYXlsb2FkLmFyZ0d1YXJkcyxcbiAgICBtYXRjaGFibGVNZXRob2RHdWFyZFBheWxvYWQub3B0aW9uYWxBcmdHdWFyZHMsXG4gICAgbWF0Y2hhYmxlTWV0aG9kR3VhcmRQYXlsb2FkLnJlc3RBcmdHdWFyZCxcbiAgKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBkZWNsYXJlZExlbjogbWF0Y2hhYmxlQXJnR3VhcmRzLmxlbmd0aCxcbiAgICBoYXNSZXN0QXJnR3VhcmQ6IHJlc3RBcmdHdWFyZCAhPT0gdW5kZWZpbmVkLFxuICAgIHJlc3RBcmdHdWFyZElzUmF3OiByZXN0QXJnR3VhcmQgIT09IG1hdGNoYWJsZVJlc3RBcmdHdWFyZCxcbiAgICBwYXJhbXNQYXR0ZXJuLFxuICAgIHJlZGFjdGVkSW5kaWNlcyxcbiAgICBtYXRjaGFibGVNZXRob2RHdWFyZFBheWxvYWQsXG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZmVuZFN5bmNNZXRob2QgPSAoXG4gIGdldENvbnRleHQsXG4gIGJlaGF2aW9yTWV0aG9kLFxuICBtZXRob2RHdWFyZFBheWxvYWQsXG4gIGxhYmVsLFxuKSA9PiB7XG4gIGNvbnN0IHsgcmV0dXJuR3VhcmQgfSA9IG1ldGhvZEd1YXJkUGF5bG9hZDtcbiAgY29uc3QgaXNSYXdSZXR1cm4gPSBpc1Jhd0d1YXJkKHJldHVybkd1YXJkKTtcbiAgY29uc3QgbWF0Y2hDb25maWcgPSBidWlsZE1hdGNoQ29uZmlnKG1ldGhvZEd1YXJkUGF5bG9hZCk7XG4gIGNvbnN0IHsgc3luY01ldGhvZCB9ID0ge1xuICAgIC8vXG4gICAgc3luY01ldGhvZCguLi5zeW5jQXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHQodGhpcyk7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHJlYWxBcmdzID0gZGVmZW5kU3luY0FyZ3Moc3luY0FyZ3MsIG1hdGNoQ29uZmlnLCBsYWJlbCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFwcGx5KGJlaGF2aW9yTWV0aG9kLCBjb250ZXh0LCByZWFsQXJncyk7XG4gICAgICAgIGlmICghaXNSYXdSZXR1cm4pIHtcbiAgICAgICAgICBtdXN0TWF0Y2goaGFyZGVuKHJlc3VsdCksIHJldHVybkd1YXJkLCBgJHtsYWJlbH06IHJlc3VsdGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGNhdGNoICh0aHJvd25UaGluZykge1xuICAgICAgICB0aHJvdyB0b1Rocm93YWJsZSh0aHJvd25UaGluZyk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIHN5bmNNZXRob2Q7XG59O1xuXG4vKlxuXG4gKi9cbmNvbnN0IGRlc3luYyA9IG1ldGhvZEd1YXJkUGF5bG9hZCA9PiB7XG4gIGNvbnN0IHtcbiAgICBhcmdHdWFyZHMsXG4gICAgb3B0aW9uYWxBcmdHdWFyZHMgPSBbXSxcbiAgICByZXN0QXJnR3VhcmQsXG4gIH0gPSBtZXRob2RHdWFyZFBheWxvYWQ7XG4gICFpc0F3YWl0QXJnR3VhcmQocmVzdEFyZ0d1YXJkKSB8fFxuICAgIEZhaWxgUmVzdCBhcmdzIG1heSBub3QgYmUgYXdhaXRlZDogJHtyZXN0QXJnR3VhcmR9YDtcbiAgY29uc3QgcmF3QXJnR3VhcmRzID0gWy4uLmFyZ0d1YXJkcywgLi4ub3B0aW9uYWxBcmdHdWFyZHNdO1xuXG4gIGNvbnN0IGF3YWl0SW5kZXhlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd0FyZ0d1YXJkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGFyZ0d1YXJkID0gcmF3QXJnR3VhcmRzW2ldO1xuICAgIGlmIChpc0F3YWl0QXJnR3VhcmQoYXJnR3VhcmQpKSB7XG4gICAgICByYXdBcmdHdWFyZHNbaV0gPSBnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZChhcmdHdWFyZCkuYXJnR3VhcmQ7XG4gICAgICBhd2FpdEluZGV4ZXMucHVzaChpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhd2FpdEluZGV4ZXMsXG4gICAgcmF3TWV0aG9kR3VhcmRQYXlsb2FkOiB7XG4gICAgICAuLi5tZXRob2RHdWFyZFBheWxvYWQsXG4gICAgICBhcmdHdWFyZHM6IHJhd0FyZ0d1YXJkcy5zbGljZSgwLCBhcmdHdWFyZHMubGVuZ3RoKSxcbiAgICAgIG9wdGlvbmFsQXJnR3VhcmRzOiByYXdBcmdHdWFyZHMuc2xpY2UoYXJnR3VhcmRzLmxlbmd0aCksXG4gICAgfSxcbiAgfTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgZGVmZW5kQXN5bmNNZXRob2QgPSAoXG4gIGdldENvbnRleHQsXG4gIGJlaGF2aW9yTWV0aG9kLFxuICBtZXRob2RHdWFyZFBheWxvYWQsXG4gIGxhYmVsLFxuKSA9PiB7XG4gIGNvbnN0IHsgcmV0dXJuR3VhcmQgfSA9IG1ldGhvZEd1YXJkUGF5bG9hZDtcbiAgY29uc3QgaXNSYXdSZXR1cm4gPSBpc1Jhd0d1YXJkKHJldHVybkd1YXJkKTtcblxuICBjb25zdCB7IGF3YWl0SW5kZXhlcywgcmF3TWV0aG9kR3VhcmRQYXlsb2FkIH0gPSBkZXN5bmMobWV0aG9kR3VhcmRQYXlsb2FkKTtcbiAgY29uc3QgbWF0Y2hDb25maWcgPSBidWlsZE1hdGNoQ29uZmlnKHJhd01ldGhvZEd1YXJkUGF5bG9hZCk7XG5cbiAgY29uc3QgeyBhc3luY01ldGhvZCB9ID0ge1xuICAgIC8vXG4gICAgYXN5bmNNZXRob2QoLi4uYXJncykge1xuICAgICAgY29uc3QgYXdhaXRMaXN0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgYXdhaXRJbmRleGVzKSB7XG4gICAgICAgIGlmIChpID49IGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXRMaXN0LnB1c2goYXJnc1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwID0gUHJvbWlzZS5hbGwoYXdhaXRMaXN0KTtcbiAgICAgIGNvbnN0IHN5bmNBcmdzID0gWy4uLmFyZ3NdO1xuICAgICAgY29uc3QgcmVzdWx0UCA9IEUud2hlbihcbiAgICAgICAgcCxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIGF3YWl0ZWRBcmdzID0+IHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF3YWl0ZWRBcmdzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzeW5jQXJnc1thd2FpdEluZGV4ZXNbal1dID0gYXdhaXRlZEFyZ3Nbal07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCh0aGlzKTtcbiAgICAgICAgICBjb25zdCByZWFsQXJncyA9IGRlZmVuZFN5bmNBcmdzKHN5bmNBcmdzLCBtYXRjaENvbmZpZywgbGFiZWwpO1xuICAgICAgICAgIHJldHVybiBhcHBseShiZWhhdmlvck1ldGhvZCwgY29udGV4dCwgcmVhbEFyZ3MpO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiBFLndoZW4ocmVzdWx0UCwgZnVsZmlsbG1lbnQgPT4ge1xuICAgICAgICBpZiAoIWlzUmF3UmV0dXJuKSB7XG4gICAgICAgICAgbXVzdE1hdGNoKGhhcmRlbihmdWxmaWxsbWVudCksIHJldHVybkd1YXJkLCBgJHtsYWJlbH06IHJlc3VsdGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxmaWxsbWVudDtcbiAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PlxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBQcm9taXNlLnJlamVjdCh0b1Rocm93YWJsZShyZWFzb24pKSxcbiAgICAgICk7XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIGFzeW5jTWV0aG9kO1xufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZmVuZE1ldGhvZCA9IChnZXRDb250ZXh0LCBiZWhhdmlvck1ldGhvZCwgbWV0aG9kR3VhcmQsIGxhYmVsKSA9PiB7XG4gIGNvbnN0IG1ldGhvZEd1YXJkUGF5bG9hZCA9IGdldE1ldGhvZEd1YXJkUGF5bG9hZChtZXRob2RHdWFyZCk7XG4gIGNvbnN0IHsgY2FsbEtpbmQgfSA9IG1ldGhvZEd1YXJkUGF5bG9hZDtcbiAgaWYgKGNhbGxLaW5kID09PSAnc3luYycpIHtcbiAgICByZXR1cm4gZGVmZW5kU3luY01ldGhvZChcbiAgICAgIGdldENvbnRleHQsXG4gICAgICBiZWhhdmlvck1ldGhvZCxcbiAgICAgIG1ldGhvZEd1YXJkUGF5bG9hZCxcbiAgICAgIGxhYmVsLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGNhbGxLaW5kID09PSAnYXN5bmMnKTtcbiAgICByZXR1cm4gZGVmZW5kQXN5bmNNZXRob2QoXG4gICAgICBnZXRDb250ZXh0LFxuICAgICAgYmVoYXZpb3JNZXRob2QsXG4gICAgICBtZXRob2RHdWFyZFBheWxvYWQsXG4gICAgICBsYWJlbCxcbiAgICApO1xuICB9XG59O1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGJpbmRNZXRob2QgPSAoXG4gIG1ldGhvZFRhZyxcbiAgY29udGV4dFByb3ZpZGVyLFxuICBiZWhhdmlvck1ldGhvZCxcbiAgbWV0aG9kR3VhcmQsXG4pID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihiZWhhdmlvck1ldGhvZCwgJ2Z1bmN0aW9uJyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBnZXRDb250ZXh0ID0gcmVwcmVzZW50YXRpdmUgPT4ge1xuICAgIHJlcHJlc2VudGF0aXZlIHx8XG4gICAgICAvL1xuICAgICAgRmFpbGBNZXRob2QgJHttZXRob2RUYWd9IGNhbGxlZCB3aXRob3V0ICd0aGlzJyBvYmplY3RgO1xuICAgIGNvbnN0IGNvbnRleHQgPSBjb250ZXh0UHJvdmlkZXIocmVwcmVzZW50YXRpdmUpO1xuICAgIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IEZhaWxgJHtxKFxuICAgICAgICBtZXRob2RUYWcsXG4gICAgICApfSBtYXkgb25seSBiZSBhcHBsaWVkIHRvIGEgdmFsaWQgaW5zdGFuY2U6ICR7cmVwcmVzZW50YXRpdmV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH07XG5cbiAgY29uc3QgbWV0aG9kID0gZGVmZW5kTWV0aG9kKFxuICAgIGdldENvbnRleHQsXG4gICAgYmVoYXZpb3JNZXRob2QsXG4gICAgbWV0aG9kR3VhcmQsXG4gICAgbWV0aG9kVGFnLFxuICApO1xuXG4gIGRlZmluZVByb3BlcnRpZXMobWV0aG9kLCB7XG4gICAgbmFtZTogeyB2YWx1ZTogbWV0aG9kVGFnIH0sXG4gICAgbGVuZ3RoOiB7IHZhbHVlOiBiZWhhdmlvck1ldGhvZC5sZW5ndGggfSxcbiAgfSk7XG4gIHJldHVybiBtZXRob2Q7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVmZW5kUHJvdG90eXBlID0gKFxuICB0YWcsXG4gIGNvbnRleHRQcm92aWRlcixcbiAgYmVoYXZpb3JNZXRob2RzLFxuICB0aGlzZnVsTWV0aG9kcyA9IGZhbHNlLFxuICBpbnRlcmZhY2VHdWFyZCA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBwcm90b3R5cGUgPSB7fTtcbiAgY29uc3QgbWV0aG9kTmFtZXMgPSBnZXRNZXRob2ROYW1lcyhiZWhhdmlvck1ldGhvZHMpLmZpbHRlcihcbiAgICAvL1xuICAgIC8vXG4gICAga2V5ID0+IHtcbiAgICAgIGlmIChrZXkgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGJlaGF2aW9yTWV0aG9kcy5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgJiZcbiAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID09PSBjb25zdHJ1Y3RvclxuICAgICAgKTtcbiAgICB9LFxuICApO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgbWV0aG9kR3VhcmRzO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgZGVmYXVsdEd1YXJkcztcbiAgaWYgKGludGVyZmFjZUd1YXJkKSB7XG4gICAgY29uc3Qge1xuICAgICAgaW50ZXJmYWNlTmFtZSxcbiAgICAgIG1ldGhvZEd1YXJkczogbWcsXG4gICAgICBzeW1ib2xNZXRob2RHdWFyZHMsXG4gICAgICBzbG9wcHksXG4gICAgICBkZWZhdWx0R3VhcmRzOiBkZyA9IHNsb3BweSA/ICdwYXNzYWJsZScgOiBkZWZhdWx0R3VhcmRzLFxuICAgIH0gPSBnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoaW50ZXJmYWNlR3VhcmQpO1xuICAgIG1ldGhvZEd1YXJkcyA9IGhhcmRlbih7XG4gICAgICAuLi5tZyxcbiAgICAgIC4uLihzeW1ib2xNZXRob2RHdWFyZHMgJiZcbiAgICAgICAgZnJvbUVudHJpZXMoZ2V0Q29weU1hcEVudHJpZXMoc3ltYm9sTWV0aG9kR3VhcmRzKSkpLFxuICAgIH0pO1xuICAgIGRlZmF1bHRHdWFyZHMgPSBkZztcbiAgICB7XG4gICAgICBjb25zdCBtZXRob2RHdWFyZE5hbWVzID0gb3duS2V5cyhtZXRob2RHdWFyZHMpO1xuICAgICAgY29uc3QgdW5pbXBsZW1lbnRlZCA9IGxpc3REaWZmZXJlbmNlKG1ldGhvZEd1YXJkTmFtZXMsIG1ldGhvZE5hbWVzKTtcbiAgICAgIHVuaW1wbGVtZW50ZWQubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIEZhaWxgbWV0aG9kcyAke3EodW5pbXBsZW1lbnRlZCl9IG5vdCBpbXBsZW1lbnRlZCBieSAke3EodGFnKX1gO1xuICAgICAgaWYgKGRlZmF1bHRHdWFyZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB1bmd1YXJkZWQgPSBsaXN0RGlmZmVyZW5jZShtZXRob2ROYW1lcywgbWV0aG9kR3VhcmROYW1lcyk7XG4gICAgICAgIHVuZ3VhcmRlZC5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICBGYWlsYG1ldGhvZHMgJHtxKHVuZ3VhcmRlZCl9IG5vdCBndWFyZGVkIGJ5ICR7cShpbnRlcmZhY2VOYW1lKX1gO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgcHJvcCBvZiBtZXRob2ROYW1lcykge1xuICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gYmVoYXZpb3JNZXRob2RzW3Byb3BdO1xuICAgIGNvbnN0IHsgc2hpZnRlZE1ldGhvZCB9ID0ge1xuICAgICAgc2hpZnRlZE1ldGhvZCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbE1ldGhvZCh0aGlzLCAuLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBiZWhhdmlvck1ldGhvZCA9IHRoaXNmdWxNZXRob2RzID8gb3JpZ2luYWxNZXRob2QgOiBzaGlmdGVkTWV0aG9kO1xuICAgIC8vXG4gICAgLy9cbiAgICBsZXQgbWV0aG9kR3VhcmQgPSBtZXRob2RHdWFyZHMgJiYgbWV0aG9kR3VhcmRzW3Byb3BdO1xuICAgIGlmICghbWV0aG9kR3VhcmQpIHtcbiAgICAgIHN3aXRjaCAoZGVmYXVsdEd1YXJkcykge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDoge1xuICAgICAgICAgIGlmICh0aGlzZnVsTWV0aG9kcykge1xuICAgICAgICAgICAgbWV0aG9kR3VhcmQgPSBQYXNzYWJsZU1ldGhvZEd1YXJkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXRob2RHdWFyZCA9IFJhd01ldGhvZEd1YXJkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwYXNzYWJsZSc6IHtcbiAgICAgICAgICBtZXRob2RHdWFyZCA9IFBhc3NhYmxlTWV0aG9kR3VhcmQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncmF3Jzoge1xuICAgICAgICAgIG1ldGhvZEd1YXJkID0gUmF3TWV0aG9kR3VhcmQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IEZhaWxgVW5yZWNvZ25pemVkIGRlZmF1bHRHdWFyZHMgJHtxKGRlZmF1bHRHdWFyZHMpfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcHJvdG90eXBlW3Byb3BdID0gYmluZE1ldGhvZChcbiAgICAgIGBJbiAke3EocHJvcCl9IG1ldGhvZCBvZiAoJHt0YWd9KWAsXG4gICAgICBjb250ZXh0UHJvdmlkZXIsXG4gICAgICBiZWhhdmlvck1ldGhvZCxcbiAgICAgIG1ldGhvZEd1YXJkLFxuICAgICk7XG4gIH1cblxuICBpZiAoIWhhc093blByb3BlcnR5T2YocHJvdG90eXBlLCBHRVRfSU5URVJGQUNFX0dVQVJEKSkge1xuICAgIGNvbnN0IGdldEludGVyZmFjZUd1YXJkTWV0aG9kID0ge1xuICAgICAgW0dFVF9JTlRFUkZBQ0VfR1VBUkRdKCkge1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlR3VhcmQ7XG4gICAgICB9LFxuICAgIH1bR0VUX0lOVEVSRkFDRV9HVUFSRF07XG4gICAgcHJvdG90eXBlW0dFVF9JTlRFUkZBQ0VfR1VBUkRdID0gYmluZE1ldGhvZChcbiAgICAgIGBJbiAke3EoR0VUX0lOVEVSRkFDRV9HVUFSRCl9IG1ldGhvZCBvZiAoJHt0YWd9KWAsXG4gICAgICBjb250ZXh0UHJvdmlkZXIsXG4gICAgICBnZXRJbnRlcmZhY2VHdWFyZE1ldGhvZCxcbiAgICAgIFBhc3NhYmxlTWV0aG9kR3VhcmQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBGYXIoXG4gICAgdGFnLFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgIHByb3RvdHlwZVxuICAgICksXG4gICk7XG59OyRozY9fb25jZS5kZWZlbmRQcm90b3R5cGUoZGVmZW5kUHJvdG90eXBlKTtcbmhhcmRlbihkZWZlbmRQcm90b3R5cGUpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVmZW5kUHJvdG90eXBlS2l0ID0gKFxuICB0YWcsXG4gIGNvbnRleHRQcm92aWRlcktpdCxcbiAgYmVoYXZpb3JNZXRob2RzS2l0LFxuICB0aGlzZnVsTWV0aG9kcyA9IGZhbHNlLFxuICBpbnRlcmZhY2VHdWFyZEtpdCA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBmYWNldE5hbWVzID0gb3duS2V5cyhiZWhhdmlvck1ldGhvZHNLaXQpLnNvcnQoKTtcbiAgZmFjZXROYW1lcy5sZW5ndGggPiAxIHx8IEZhaWxgQSBtdWx0aS1mYWNldCBvYmplY3QgbXVzdCBoYXZlIG11bHRpcGxlIGZhY2V0c2A7XG4gIGlmIChpbnRlcmZhY2VHdWFyZEtpdCkge1xuICAgIGNvbnN0IGludGVyZmFjZU5hbWVzID0gb3duS2V5cyhpbnRlcmZhY2VHdWFyZEtpdCk7XG4gICAgY29uc3QgZXh0cmFJbnRlcmZhY2VOYW1lcyA9IGxpc3REaWZmZXJlbmNlKGZhY2V0TmFtZXMsIGludGVyZmFjZU5hbWVzKTtcbiAgICBleHRyYUludGVyZmFjZU5hbWVzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgRmFpbGBJbnRlcmZhY2VzICR7cShleHRyYUludGVyZmFjZU5hbWVzKX0gbm90IGltcGxlbWVudGVkIGJ5ICR7cSh0YWcpfWA7XG4gICAgY29uc3QgZXh0cmFGYWNldE5hbWVzID0gbGlzdERpZmZlcmVuY2UoaW50ZXJmYWNlTmFtZXMsIGZhY2V0TmFtZXMpO1xuICAgIGV4dHJhRmFjZXROYW1lcy5sZW5ndGggPT09IDAgfHxcbiAgICAgIEZhaWxgRmFjZXRzICR7cShleHRyYUZhY2V0TmFtZXMpfSBvZiAke3EodGFnKX0gbm90IGd1YXJkZWQgYnkgaW50ZXJmYWNlc2A7XG4gIH1cbiAgY29uc3QgY29udGV4dE1hcE5hbWVzID0gb3duS2V5cyhjb250ZXh0UHJvdmlkZXJLaXQpO1xuICBjb25zdCBleHRyYUNvbnRleHROYW1lcyA9IGxpc3REaWZmZXJlbmNlKGZhY2V0TmFtZXMsIGNvbnRleHRNYXBOYW1lcyk7XG4gIGV4dHJhQ29udGV4dE5hbWVzLmxlbmd0aCA9PT0gMCB8fFxuICAgIEZhaWxgQ29udGV4dHMgJHtxKGV4dHJhQ29udGV4dE5hbWVzKX0gbm90IGltcGxlbWVudGVkIGJ5ICR7cSh0YWcpfWA7XG4gIGNvbnN0IGV4dHJhRmFjZXROYW1lcyA9IGxpc3REaWZmZXJlbmNlKGNvbnRleHRNYXBOYW1lcywgZmFjZXROYW1lcyk7XG4gIGV4dHJhRmFjZXROYW1lcy5sZW5ndGggPT09IDAgfHxcbiAgICBGYWlsYEZhY2V0cyAke3EoZXh0cmFGYWNldE5hbWVzKX0gb2YgJHtxKHRhZyl9IG1pc3NpbmcgY29udGV4dHNgO1xuICBjb25zdCBwcm90b0tpdCA9IG9iamVjdE1hcChiZWhhdmlvck1ldGhvZHNLaXQsIChiZWhhdmlvck1ldGhvZHMsIGZhY2V0TmFtZSkgPT5cbiAgICBkZWZlbmRQcm90b3R5cGUoXG4gICAgICBgJHt0YWd9ICR7U3RyaW5nKGZhY2V0TmFtZSl9YCxcbiAgICAgIGNvbnRleHRQcm92aWRlcktpdFtmYWNldE5hbWVdLFxuICAgICAgYmVoYXZpb3JNZXRob2RzLFxuICAgICAgdGhpc2Z1bE1ldGhvZHMsXG4gICAgICBpbnRlcmZhY2VHdWFyZEtpdCAmJiBpbnRlcmZhY2VHdWFyZEtpdFtmYWNldE5hbWVdLFxuICAgICksXG4gICk7XG4gIHJldHVybiBwcm90b0tpdDtcbn07JGjNj19vbmNlLmRlZmVuZFByb3RvdHlwZUtpdChkZWZlbmRQcm90b3R5cGVLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmZW5kUHJvdG90eXBlIjpbImRlZmVuZFByb3RvdHlwZSJdLCJkZWZlbmRQcm90b3R5cGVLaXQiOlsiZGVmZW5kUHJvdG90eXBlS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAODJoYVGAgAARgIAACUAAABAZW5kby9leG8tdjEuNS45L3NyYy9nZXQtaW50ZXJmYWNlLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJHRVRfSU5URVJGQUNFX0dVQVJEIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgR0VUX0lOVEVSRkFDRV9HVUFSRCA9ICdfX2dldEludGVyZmFjZUd1YXJkX18nO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuR0VUX0lOVEVSRkFDRV9HVUFSRChHRVRfSU5URVJGQUNFX0dVQVJEKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkdFVF9JTlRFUkZBQ0VfR1VBUkQiOlsiR0VUX0lOVEVSRkFDRV9HVUFSRCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAdAAAAQGVuZG8vZXhvLXYxLjUuOS9zcmMvdHlwZXMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAIAAAAEBlbmRvL2Zhci12MS4xLjExL3NyYy9leHBvcnRzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKkm1lCYAgAAmAIAAB4AAABAZW5kby9mYXItdjEuMS4xMS9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Bhc3Mtc3R5bGUiLCIuL2V4cG9ydHMuanMiXSwiZXhwb3J0cyI6WyJnZXRJbnRlcmZhY2VPZiIsImdldEludGVyZmFjZU9mIixudWxsXSwicmVleHBvcnRzIjpbIi4vZXhwb3J0cy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtdXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtdXSxbXCIuL2V4cG9ydHMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyJAZW5kby9ldmVudHVhbC1zZW5kIjpbWyJFIiwiRSJdXSwiQGVuZG8vcGFzcy1zdHlsZSI6W1siRmFyIiwiRmFyIl0sWyJnZXRJbnRlcmZhY2VPZiIsImdldEludGVyZmFjZU9mIl0sWyJwYXNzU3R5bGVPZiIsInBhc3NTdHlsZU9mIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAt1VAGggcAAIIHAAAdAAAAQGVuZG8vbWFyc2hhbC12MS42LjQvaW5kZXguanN7ImltcG9ydHMiOlsiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzIiwiLi9zcmMvbWFyc2hhbC5qcyIsIi4vc3JjL21hcnNoYWwtc3RyaW5naWZ5LmpzIiwiLi9zcmMvbWFyc2hhbC1qdXN0aW4uanMiLCIuL3NyYy9lbmNvZGVQYXNzYWJsZS5qcyIsIi4vc3JjL3JhbmtPcmRlci5qcyIsIi4vc3JjL3R5cGVzLmpzIiwiQGVuZG8vcGFzcy1zdHlsZSJdLCJleHBvcnRzIjpbImFzc2VydFJhbmtTb3J0ZWQiLCJhc3NlcnRSYW5rU29ydGVkIiwibWFrZUVuY29kZVBhc3NhYmxlIiwibWFrZUVuY29kZVBhc3NhYmxlIiwicGFyc2UiLCJwYXJzZSIsbnVsbCxudWxsLG51bGwsbnVsbF0sInJlZXhwb3J0cyI6WyIuL3NyYy90eXBlcy5qcyIsIkBlbmRvL3Bhc3Mtc3R5bGUiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzXCIsIFtdXSxbXCIuL3NyYy9tYXJzaGFsLmpzXCIsIFtdXSxbXCIuL3NyYy9tYXJzaGFsLXN0cmluZ2lmeS5qc1wiLCBbXV0sW1wiLi9zcmMvbWFyc2hhbC1qdXN0aW4uanNcIiwgW11dLFtcIi4vc3JjL2VuY29kZVBhc3NhYmxlLmpzXCIsIFtdXSxbXCIuL3NyYy9yYW5rT3JkZXIuanNcIiwgW11dLFtcIi4vc3JjL3R5cGVzLmpzXCIsIFtdXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzIjpbWyJRQ0xBU1MiLCJRQ0xBU1MiXV0sIi4vc3JjL21hcnNoYWwuanMiOltbIm1ha2VNYXJzaGFsIiwibWFrZU1hcnNoYWwiXV0sIi4vc3JjL21hcnNoYWwtc3RyaW5naWZ5LmpzIjpbWyJzdHJpbmdpZnkiLCJzdHJpbmdpZnkiXSxbInBhcnNlIiwicGFyc2UiXV0sIi4vc3JjL21hcnNoYWwtanVzdGluLmpzIjpbWyJkZWNvZGVUb0p1c3RpbiIsImRlY29kZVRvSnVzdGluIl1dLCIuL3NyYy9lbmNvZGVQYXNzYWJsZS5qcyI6W1sibWFrZVBhc3NhYmxlS2l0IiwibWFrZVBhc3NhYmxlS2l0Il0sWyJtYWtlRW5jb2RlUGFzc2FibGUiLCJtYWtlRW5jb2RlUGFzc2FibGUiXSxbIm1ha2VEZWNvZGVQYXNzYWJsZSIsIm1ha2VEZWNvZGVQYXNzYWJsZSJdLFsiaXNFbmNvZGVkUmVtb3RhYmxlIiwiaXNFbmNvZGVkUmVtb3RhYmxlIl0sWyJ6ZXJvUGFkIiwiemVyb1BhZCJdLFsicmVjb3JkTmFtZXMiLCJyZWNvcmROYW1lcyJdLFsicmVjb3JkVmFsdWVzIiwicmVjb3JkVmFsdWVzIl1dLCIuL3NyYy9yYW5rT3JkZXIuanMiOltbInRyaXZpYWxDb21wYXJhdG9yIiwidHJpdmlhbENvbXBhcmF0b3IiXSxbImFzc2VydFJhbmtTb3J0ZWQiLCJhc3NlcnRSYW5rU29ydGVkIl0sWyJjb21wYXJlUmFuayIsImNvbXBhcmVSYW5rIl0sWyJpc1JhbmtTb3J0ZWQiLCJpc1JhbmtTb3J0ZWQiXSxbInNvcnRCeVJhbmsiLCJzb3J0QnlSYW5rIl0sWyJjb21wYXJlQW50aVJhbmsiLCJjb21wYXJlQW50aVJhbmsiXSxbIm1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0IiwibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQiXSxbImdldFBhc3NTdHlsZUNvdmVyIiwiZ2V0UGFzc1N0eWxlQ292ZXIiXSxbImludGVyc2VjdFJhbmtDb3ZlcnMiLCJpbnRlcnNlY3RSYW5rQ292ZXJzIl0sWyJ1bmlvblJhbmtDb3ZlcnMiLCJ1bmlvblJhbmtDb3ZlcnMiXV0sIkBlbmRvL3Bhc3Mtc3R5bGUiOltbImRlZXBseUZ1bGZpbGxlZCIsImRlZXBseUZ1bGZpbGxlZCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAlXxlmZpPAACaTwAAKgAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9lbmNvZGVQYXNzYWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiaXNFbmNvZGVkUmVtb3RhYmxlIiwibWFrZURlY29kZVBhc3NhYmxlIiwibWFrZUVuY29kZVBhc3NhYmxlIiwibWFrZVBhc3NhYmxlS2l0IiwicGFzc1N0eWxlUHJlZml4ZXMiLCJyZWNvcmROYW1lcyIsInJlY29yZFZhbHVlcyIsInplcm9QYWQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRUYWcsbWFrZVRhZ2dlZCxwYXNzU3R5bGVPZixhc3NlcnRSZWNvcmQsaXNFcnJvckxpa2UsbmFtZUZvclBhc3NhYmxlU3ltYm9sLHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxiLHEsRmFpbDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImFzc2VydFJlY29yZFwiLFskaM2PX2EgPT4gKGFzc2VydFJlY29yZCA9ICRozY9fYSldXSxbXCJpc0Vycm9yTGlrZVwiLFskaM2PX2EgPT4gKGlzRXJyb3JMaWtlID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXSxbXCJwYXNzYWJsZVN5bWJvbEZvck5hbWVcIixbJGjNj19hID0+IChwYXNzYWJsZVN5bWJvbEZvck5hbWUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcImJcIixbJGjNj19hID0+IChiID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbmNvbnN0IHsgZnJvbUVudHJpZXMsIGlzIH0gPSBPYmplY3Q7XG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbi8vXG5jb25zdCByQzAgPSAvW1xceDAwLVxceDFGXS87XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgZ2V0U3VmZml4ID0gKHN0ciwgaW5kZXgpID0+IChpbmRleCA9PT0gMCA/IHN0ciA6IHN0ci5zdWJzdHJpbmcoaW5kZXgpKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcmVjb3JkTmFtZXMgPSByZWNvcmQgPT5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgaGFyZGVuKC8qICAgICAgICAgICAgICAgICAgICovIChvd25LZXlzKHJlY29yZCkpLnNvcnQoKS5yZXZlcnNlKCkpOyRozY9fb25jZS5yZWNvcmROYW1lcyhyZWNvcmROYW1lcyk7XG5oYXJkZW4ocmVjb3JkTmFtZXMpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCByZWNvcmRWYWx1ZXMgPSAocmVjb3JkLCBuYW1lcykgPT5cbiAgaGFyZGVuKG5hbWVzLm1hcChuYW1lID0+IHJlY29yZFtuYW1lXSkpOyRozY9fb25jZS5yZWNvcmRWYWx1ZXMocmVjb3JkVmFsdWVzKTtcbmhhcmRlbihyZWNvcmRWYWx1ZXMpO1xuXG5jb25zdCB6ZXJvZXMgPSBBcnJheSgxNilcbiAgLmZpbGwodW5kZWZpbmVkKVxuICAubWFwKChfLCBpKSA9PiAnMCcucmVwZWF0KGkpKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHplcm9QYWQgPSAobiwgc2l6ZSkgPT4ge1xuICBjb25zdCBuU3RyID0gYCR7bn1gO1xuICBjb25zdCBmaWxsTGVuID0gc2l6ZSAtIG5TdHIubGVuZ3RoO1xuICBpZiAoZmlsbExlbiA9PT0gMCkgcmV0dXJuIG5TdHI7XG4gIGFzc2VydChmaWxsTGVuID4gMCAmJiBmaWxsTGVuIDwgemVyb2VzLmxlbmd0aCk7XG4gIHJldHVybiBgJHt6ZXJvZXNbZmlsbExlbl19JHtuU3RyfWA7XG59OyRozY9fb25jZS56ZXJvUGFkKHplcm9QYWQpO1xuaGFyZGVuKHplcm9QYWQpO1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbmNvbnN0IGFzTnVtYmVyID0gbmV3IEZsb2F0NjRBcnJheSgxKTtcbmNvbnN0IGFzQml0cyA9IG5ldyBCaWdVaW50NjRBcnJheShhc051bWJlci5idWZmZXIpO1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG5jb25zdCBDYW5vbmljYWxOYU5CaXRzID0gJ2ZmZjgwMDAwMDAwMDAwMDAnO1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgZW5jb2RlQmluYXJ5NjQgPSBuID0+IHtcbiAgLy9cbiAgaWYgKGlzKG4sIC0wKSkge1xuICAgIG4gPSAwO1xuICB9IGVsc2UgaWYgKGlzKG4sIE5hTikpIHtcbiAgICByZXR1cm4gYGYke0Nhbm9uaWNhbE5hTkJpdHN9YDtcbiAgfVxuICBhc051bWJlclswXSA9IG47XG4gIGxldCBiaXRzID0gYXNCaXRzWzBdO1xuICBpZiAobiA8IDApIHtcbiAgICBiaXRzIF49IDB4ZmZmZmZmZmZmZmZmZmZmZm47XG4gIH0gZWxzZSB7XG4gICAgYml0cyBePSAweDgwMDAwMDAwMDAwMDAwMDBuO1xuICB9XG4gIHJldHVybiBgZiR7emVyb1BhZChiaXRzLnRvU3RyaW5nKDE2KSwgMTYpfWA7XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBkZWNvZGVCaW5hcnk2NCA9IChlbmNvZGVkLCBza2lwID0gMCkgPT4ge1xuICBlbmNvZGVkLmNoYXJBdChza2lwKSA9PT0gJ2YnIHx8IEZhaWxgRW5jb2RlZCBudW1iZXIgZXhwZWN0ZWQ6ICR7ZW5jb2RlZH1gO1xuICBsZXQgYml0cyA9IEJpZ0ludChgMHgke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwICsgMSl9YCk7XG4gIGlmIChlbmNvZGVkLmNoYXJBdChza2lwICsgMSkgPCAnOCcpIHtcbiAgICBiaXRzIF49IDB4ZmZmZmZmZmZmZmZmZmZmZm47XG4gIH0gZWxzZSB7XG4gICAgYml0cyBePSAweDgwMDAwMDAwMDAwMDAwMDBuO1xuICB9XG4gIGFzQml0c1swXSA9IGJpdHM7XG4gIGNvbnN0IHJlc3VsdCA9IGFzTnVtYmVyWzBdO1xuICAhaXMocmVzdWx0LCAtMCkgfHxcbiAgICBGYWlsYFVuZXhwZWN0ZWQgbmVnYXRpdmUgemVybzogJHtnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCl9YDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGVuY29kZUJpZ0ludCA9IG4gPT4ge1xuICBjb25zdCBhYnMgPSBuIDwgMG4gPyAtbiA6IG47XG4gIGNvbnN0IG5EaWdpdHMgPSBhYnMudG9TdHJpbmcoKS5sZW5ndGg7XG4gIGNvbnN0IGxEaWdpdHMgPSBuRGlnaXRzLnRvU3RyaW5nKCkubGVuZ3RoO1xuICBpZiAobiA8IDBuKSB7XG4gICAgcmV0dXJuIGBuJHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgJyMnLnJlcGVhdChsRGlnaXRzIC0gMSlcbiAgICB9JHtcbiAgICAgIC8vXG4gICAgICAoMTAgKiogbERpZ2l0cyAtIG5EaWdpdHMpLnRvU3RyaW5nKCkucGFkU3RhcnQobERpZ2l0cywgJzAnKVxuICAgIH06JHtcbiAgICAgIC8vXG4gICAgICAoMTBuICoqIEJpZ0ludChuRGlnaXRzKSArIG4pLnRvU3RyaW5nKCkucGFkU3RhcnQobkRpZ2l0cywgJzAnKVxuICAgIH1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgcCR7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgICd+Jy5yZXBlYXQobERpZ2l0cyAtIDEpXG4gICAgfSR7XG4gICAgICAvL1xuICAgICAgbkRpZ2l0c1xuICAgIH06JHtcbiAgICAgIC8vXG4gICAgICBuXG4gICAgfWA7XG4gIH1cbn07XG5cbmNvbnN0IHJCaWdJbnRQYXlsb2FkID0gLyhbMC05XSspKDooWzAtOV0rJHwpfCkvcztcblxuLypcblxuXG4gKi9cbmNvbnN0IGRlY29kZUJpZ0ludCA9IGVuY29kZWQgPT4ge1xuICBjb25zdCB0eXBlUHJlZml4ID0gZW5jb2RlZC5jaGFyQXQoMCk7IC8vXG4gIHR5cGVQcmVmaXggPT09ICdwJyB8fFxuICAgIHR5cGVQcmVmaXggPT09ICduJyB8fFxuICAgIEZhaWxgRW5jb2RlZCBiaWdpbnQgZXhwZWN0ZWQ6ICR7ZW5jb2RlZH1gO1xuXG4gIGNvbnN0IHtcbiAgICBpbmRleDogbERpZ2l0cyxcbiAgICAxOiBzbkRpZ2l0cyxcbiAgICAyOiB0YWlsLFxuICAgIDM6IGRpZ2l0cyxcbiAgfSA9IGVuY29kZWQubWF0Y2gockJpZ0ludFBheWxvYWQpIHx8IEZhaWxgRGlnaXQgY291bnQgZXhwZWN0ZWQ6ICR7ZW5jb2RlZH1gO1xuXG4gIHNuRGlnaXRzLmxlbmd0aCA9PT0gbERpZ2l0cyB8fFxuICAgIEZhaWxgVW5hcnktcHJlZml4ZWQgZGVjaW1hbCBkaWdpdCBjb3VudCBleHBlY3RlZDogJHtlbmNvZGVkfWA7XG4gIGxldCBuRGlnaXRzID0gcGFyc2VJbnQoc25EaWdpdHMsIDEwKTtcbiAgaWYgKHR5cGVQcmVmaXggPT09ICduJykge1xuICAgIC8vXG4gICAgLy9cbiAgICBuRGlnaXRzID0gMTAgKiogLyogICAgICAgICAgICAgICAgICovIChsRGlnaXRzKSAtIG5EaWdpdHM7XG4gIH1cblxuICB0YWlsLmNoYXJBdCgwKSA9PT0gJzonIHx8IEZhaWxgU2VwYXJhdG9yIGV4cGVjdGVkOiAke2VuY29kZWR9YDtcbiAgZGlnaXRzLmxlbmd0aCA9PT0gbkRpZ2l0cyB8fFxuICAgIEZhaWxgRml4ZWQtbGVuZ3RoIGRpZ2l0IHNlcXVlbmNlIGV4cGVjdGVkOiAke2VuY29kZWR9YDtcbiAgbGV0IG4gPSBCaWdJbnQoZGlnaXRzKTtcbiAgaWYgKHR5cGVQcmVmaXggPT09ICduJykge1xuICAgIC8vXG4gICAgLy9cbiAgICBuID0gLSgxMG4gKiogQmlnSW50KG5EaWdpdHMpIC0gbik7XG4gIH1cblxuICByZXR1cm4gbjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgc3RyaW5nRXNjYXBlcyA9IEFycmF5KDB4MjIpXG4gIC5maWxsKHVuZGVmaW5lZClcbiAgLm1hcCgoXywgY3ApID0+IHtcbiAgICBzd2l0Y2ggKFN0cmluZy5mcm9tQ2hhckNvZGUoY3ApKSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgcmV0dXJuICchXyc7XG4gICAgICBjYXNlICchJzpcbiAgICAgICAgcmV0dXJuICchfCc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gYCEke1N0cmluZy5mcm9tQ2hhckNvZGUoY3AgKyAweDIxKX1gO1xuICAgIH1cbiAgfSk7XG5zdHJpbmdFc2NhcGVzWydeJy5jaGFyQ29kZUF0KDApXSA9ICdfQCc7XG5zdHJpbmdFc2NhcGVzWydfJy5jaGFyQ29kZUF0KDApXSA9ICdfXyc7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGVuY29kZUNvbXBhY3RTdHJpbmdTdWZmaXggPSBzdHIgPT5cbiAgc3RyLnJlcGxhY2UoL1tcXDAtIV5fXS9nLCBjaCA9PiBzdHJpbmdFc2NhcGVzW2NoLmNoYXJDb2RlQXQoMCldKTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZGVjb2RlQ29tcGFjdFN0cmluZ1N1ZmZpeCA9IGVuY29kZWQgPT4ge1xuICByZXR1cm4gZW5jb2RlZC5yZXBsYWNlKC8oW1xcMC0hX10pKC58XFxuKT8vZywgKGVzYywgcHJlZml4LCBzdWZmaXgpID0+IHtcbiAgICBzd2l0Y2ggKGVzYykge1xuICAgICAgY2FzZSAnIV8nOlxuICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgY2FzZSAnIXwnOlxuICAgICAgICByZXR1cm4gJyEnO1xuICAgICAgY2FzZSAnX0AnOlxuICAgICAgICByZXR1cm4gJ14nO1xuICAgICAgY2FzZSAnX18nOlxuICAgICAgICByZXR1cm4gJ18nO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBjaCA9IC8qICAgICAgICAgICAgICAgICAqLyAoc3VmZml4KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgKHByZWZpeCA9PT0gJyEnICYmIHN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIGNoID49ICchJyAmJiBjaCA8PSAnQCcpIHx8XG4gICAgICAgICAgRmFpbGBpbnZhbGlkIHN0cmluZyBlc2NhcGU6ICR7cShlc2MpfWA7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgLSAweDIxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZW5jb2RlTGVnYWN5U3RyaW5nU3VmZml4ID0gc3RyID0+IHN0cjtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZGVjb2RlTGVnYWN5U3RyaW5nU3VmZml4ID0gZW5jb2RlZCA9PiBlbmNvZGVkO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGVuY29kZUNvbXBhY3RBcnJheSA9IChhcnJheSwgZW5jb2RlUGFzc2FibGUpID0+IHtcbiAgY29uc3QgY2hhcnMgPSBbJ14nXTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFycmF5KSB7XG4gICAgY29uc3QgZW5jID0gZW5jb2RlUGFzc2FibGUoZWxlbWVudCk7XG4gICAgY2hhcnMucHVzaChlbmMsICcgJyk7XG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufTtcblxuLypcblxuXG5cblxuICovXG5jb25zdCBkZWNvZGVDb21wYWN0QXJyYXkgPSAoZW5jb2RlZCwgZGVjb2RlUGFzc2FibGUsIHNraXAgPSAwKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gW107XG4gIGxldCBkZXB0aCA9IDA7XG4gIC8vXG4gIC8vXG4gIGxldCBuZXh0SW5kZXggPSBza2lwICsgMTtcbiAgbGV0IGN1cnJlbnRFbGVtZW50U3RhcnQgPSBza2lwICsgMTtcbiAgZm9yIChjb25zdCB7IDA6IGNoLCBpbmRleDogaSB9IG9mIGVuY29kZWQubWF0Y2hBbGwoL1tcXF4gXS9nKSkge1xuICAgIGNvbnN0IGluZGV4ID0gLyogICAgICAgICAgICAgICAgICovIChpKTtcbiAgICBpZiAoaW5kZXggPD0gc2tpcCkge1xuICAgICAgaWYgKGluZGV4ID09PSBza2lwKSB7XG4gICAgICAgIGNoID09PSAnXicgfHwgRmFpbGBFbmNvZGVkIGFycmF5IGV4cGVjdGVkOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdeJykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBkZXB0aCArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1xuICAgICAgaWYgKGluZGV4ID09PSBuZXh0SW5kZXgpIHtcbiAgICAgICAgLy9cbiAgICAgICAgZGVwdGggLT0gMTtcbiAgICAgICAgZGVwdGggPj0gMCB8fFxuICAgICAgICAgIC8vXG4gICAgICAgICAgRmFpbGB1bmV4cGVjdGVkIGFycmF5IGVsZW1lbnQgdGVybWluYXRvcjogJHtlbmNvZGVkLnNsaWNlKHNraXAsIGluZGV4ICsgMil9YDtcbiAgICAgIH1cbiAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICAvL1xuICAgICAgICBlbGVtZW50cy5wdXNoKFxuICAgICAgICAgIGRlY29kZVBhc3NhYmxlKGVuY29kZWQuc2xpY2UoY3VycmVudEVsZW1lbnRTdGFydCwgaW5kZXgpKSxcbiAgICAgICAgKTtcbiAgICAgICAgY3VycmVudEVsZW1lbnRTdGFydCA9IGluZGV4ICsgMTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy9cbiAgICBuZXh0SW5kZXggPSBpbmRleCArIDE7XG4gIH1cbiAgZGVwdGggPT09IDAgfHwgRmFpbGB1bnRlcm1pbmF0ZWQgYXJyYXk6ICR7Z2V0U3VmZml4KGVuY29kZWQsIHNraXApfWA7XG4gIG5leHRJbmRleCA9PT0gZW5jb2RlZC5sZW5ndGggfHxcbiAgICBGYWlsYHVudGVybWluYXRlZCBhcnJheSBlbGVtZW50OiAke2dldFN1ZmZpeChcbiAgICAgIGVuY29kZWQsXG4gICAgICBjdXJyZW50RWxlbWVudFN0YXJ0LFxuICAgICl9YDtcbiAgcmV0dXJuIGhhcmRlbihlbGVtZW50cyk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBlbmNvZGVMZWdhY3lBcnJheSA9IChhcnJheSwgZW5jb2RlUGFzc2FibGUpID0+IHtcbiAgY29uc3QgY2hhcnMgPSBbJ1snXTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFycmF5KSB7XG4gICAgY29uc3QgZW5jID0gZW5jb2RlUGFzc2FibGUoZWxlbWVudCk7XG4gICAgZm9yIChjb25zdCBjIG9mIGVuYykge1xuICAgICAgaWYgKGMgPT09ICdcXHUwMDAwJyB8fCBjID09PSAnXFx1MDAwMScpIHtcbiAgICAgICAgY2hhcnMucHVzaCgnXFx1MDAwMScpO1xuICAgICAgfVxuICAgICAgY2hhcnMucHVzaChjKTtcbiAgICB9XG4gICAgY2hhcnMucHVzaCgnXFx1MDAwMCcpO1xuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgZGVjb2RlTGVnYWN5QXJyYXkgPSAoZW5jb2RlZCwgZGVjb2RlUGFzc2FibGUsIHNraXAgPSAwKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gW107XG4gIGNvbnN0IGVsZW1DaGFycyA9IFtdO1xuICAvL1xuICAvL1xuICBsZXQgc3RpbGxUb1NraXAgPSBza2lwICsgMTtcbiAgbGV0IGluRXNjYXBlID0gZmFsc2U7XG4gIGZvciAoY29uc3QgYyBvZiBlbmNvZGVkKSB7XG4gICAgaWYgKHN0aWxsVG9Ta2lwID4gMCkge1xuICAgICAgc3RpbGxUb1NraXAgLT0gMTtcbiAgICAgIGlmIChzdGlsbFRvU2tpcCA9PT0gMCkge1xuICAgICAgICBjID09PSAnWycgfHwgRmFpbGBFbmNvZGVkIGFycmF5IGV4cGVjdGVkOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5Fc2NhcGUpIHtcbiAgICAgIGMgPT09ICdcXHUwMDAwJyB8fFxuICAgICAgICBjID09PSAnXFx1MDAwMScgfHxcbiAgICAgICAgRmFpbGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhZnRlciB1MDAwMSBlc2NhcGU6ICR7Y31gO1xuICAgICAgZWxlbUNoYXJzLnB1c2goYyk7XG4gICAgfSBlbHNlIGlmIChjID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGNvbnN0IGVuY29kZWRFbGVtZW50ID0gZWxlbUNoYXJzLmpvaW4oJycpO1xuICAgICAgZWxlbUNoYXJzLmxlbmd0aCA9IDA7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZGVjb2RlUGFzc2FibGUoZW5jb2RlZEVsZW1lbnQpO1xuICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9IGVsc2UgaWYgKGMgPT09ICdcXHUwMDAxJykge1xuICAgICAgaW5Fc2NhcGUgPSB0cnVlO1xuICAgICAgLy9cbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtQ2hhcnMucHVzaChjKTtcbiAgICB9XG4gICAgaW5Fc2NhcGUgPSBmYWxzZTtcbiAgfVxuICAhaW5Fc2NhcGUgfHwgRmFpbGB1bmV4cGVjdGVkIGVuZCBvZiBlbmNvZGluZyAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICBlbGVtQ2hhcnMubGVuZ3RoID09PSAwIHx8XG4gICAgRmFpbGBlbmNvZGluZyB0ZXJtaW5hdGVkIGVhcmx5OiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICByZXR1cm4gaGFyZGVuKGVsZW1lbnRzKTtcbn07XG5cbmNvbnN0IGVuY29kZVJlY29yZCA9IChyZWNvcmQsIGVuY29kZUFycmF5LCBlbmNvZGVQYXNzYWJsZSkgPT4ge1xuICBjb25zdCBuYW1lcyA9IHJlY29yZE5hbWVzKHJlY29yZCk7XG4gIGNvbnN0IHZhbHVlcyA9IHJlY29yZFZhbHVlcyhyZWNvcmQsIG5hbWVzKTtcbiAgcmV0dXJuIGAoJHtlbmNvZGVBcnJheShoYXJkZW4oW25hbWVzLCB2YWx1ZXNdKSwgZW5jb2RlUGFzc2FibGUpfWA7XG59O1xuXG5jb25zdCBkZWNvZGVSZWNvcmQgPSAoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGRlY29kZVBhc3NhYmxlLCBza2lwID0gMCkgPT4ge1xuICBhc3NlcnQoZW5jb2RlZC5jaGFyQXQoc2tpcCkgPT09ICcoJyk7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IHVuemlwcGVkRW50cmllcyA9IGRlY29kZUFycmF5KGVuY29kZWQsIGRlY29kZVBhc3NhYmxlLCBza2lwICsgMSk7XG4gIHVuemlwcGVkRW50cmllcy5sZW5ndGggPT09IDIgfHxcbiAgICBGYWlsYGV4cGVjdGVkIGtleXMsdmFsdWVzIHBhaXI6ICR7Z2V0U3VmZml4KGVuY29kZWQsIHNraXApfWA7XG4gIGNvbnN0IFtrZXlzLCB2YWxzXSA9IHVuemlwcGVkRW50cmllcztcblxuICAocGFzc1N0eWxlT2Yoa2V5cykgPT09ICdjb3B5QXJyYXknICYmXG4gICAgcGFzc1N0eWxlT2YodmFscykgPT09ICdjb3B5QXJyYXknICYmXG4gICAga2V5cy5sZW5ndGggPT09IHZhbHMubGVuZ3RoICYmXG4gICAga2V5cy5ldmVyeShrZXkgPT4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpKSB8fFxuICAgIEZhaWxgbm90IGEgdmFsaWQgcmVjb3JkIGVuY29kaW5nOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICBjb25zdCBtYXBFbnRyaWVzID0ga2V5cy5tYXAoKGtleSwgaSkgPT4gW2tleSwgdmFsc1tpXV0pO1xuICBjb25zdCByZWNvcmQgPSBoYXJkZW4oZnJvbUVudHJpZXMobWFwRW50cmllcykpO1xuICBhc3NlcnRSZWNvcmQocmVjb3JkLCAnZGVjb2RlZCByZWNvcmQnKTtcbiAgcmV0dXJuIHJlY29yZDtcbn07XG5cbmNvbnN0IGVuY29kZVRhZ2dlZCA9ICh0YWdnZWQsIGVuY29kZUFycmF5LCBlbmNvZGVQYXNzYWJsZSkgPT5cbiAgYDoke2VuY29kZUFycmF5KGhhcmRlbihbZ2V0VGFnKHRhZ2dlZCksIHRhZ2dlZC5wYXlsb2FkXSksIGVuY29kZVBhc3NhYmxlKX1gO1xuXG5jb25zdCBkZWNvZGVUYWdnZWQgPSAoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGRlY29kZVBhc3NhYmxlLCBza2lwID0gMCkgPT4ge1xuICBhc3NlcnQoZW5jb2RlZC5jaGFyQXQoc2tpcCkgPT09ICc6Jyk7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IHRhZ2dlZFBheWxvYWQgPSBkZWNvZGVBcnJheShlbmNvZGVkLCBkZWNvZGVQYXNzYWJsZSwgc2tpcCArIDEpO1xuICB0YWdnZWRQYXlsb2FkLmxlbmd0aCA9PT0gMiB8fFxuICAgIEZhaWxgZXhwZWN0ZWQgdGFnLHBheWxvYWQgcGFpcjogJHtnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCl9YDtcbiAgY29uc3QgW3RhZywgcGF5bG9hZF0gPSB0YWdnZWRQYXlsb2FkO1xuICBwYXNzU3R5bGVPZih0YWcpID09PSAnc3RyaW5nJyB8fFxuICAgIEZhaWxgbm90IGEgdmFsaWQgdGFnZ2VkIGVuY29kaW5nOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICByZXR1cm4gbWFrZVRhZ2dlZCh0YWcsIHBheWxvYWQpO1xufTtcblxuY29uc3QgbWFrZUVuY29kZVJlbW90YWJsZSA9ICh1bnNhZmVFbmNvZGVSZW1vdGFibGUsIHZlcmlmeUVuY29kaW5nKSA9PiB7XG4gIGNvbnN0IGVuY29kZVJlbW90YWJsZSA9IChyLCBpbm5lckVuY29kZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kaW5nID0gdW5zYWZlRW5jb2RlUmVtb3RhYmxlKHIsIGlubmVyRW5jb2RlKTtcbiAgICAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiBlbmNvZGluZy5jaGFyQXQoMCkgPT09ICdyJykgfHxcbiAgICAgIEZhaWxgUmVtb3RhYmxlIGVuY29kaW5nIG11c3Qgc3RhcnQgd2l0aCBcInJcIjogJHtlbmNvZGluZ31gO1xuICAgIHZlcmlmeUVuY29kaW5nKGVuY29kaW5nLCAnUmVtb3RhYmxlJyk7XG4gICAgcmV0dXJuIGVuY29kaW5nO1xuICB9O1xuICByZXR1cm4gZW5jb2RlUmVtb3RhYmxlO1xufTtcblxuY29uc3QgbWFrZUVuY29kZVByb21pc2UgPSAodW5zYWZlRW5jb2RlUHJvbWlzZSwgdmVyaWZ5RW5jb2RpbmcpID0+IHtcbiAgY29uc3QgZW5jb2RlUHJvbWlzZSA9IChwLCBpbm5lckVuY29kZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kaW5nID0gdW5zYWZlRW5jb2RlUHJvbWlzZShwLCBpbm5lckVuY29kZSk7XG4gICAgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgZW5jb2RpbmcuY2hhckF0KDApID09PSAnPycpIHx8XG4gICAgICBGYWlsYFByb21pc2UgZW5jb2RpbmcgbXVzdCBzdGFydCB3aXRoIFwiP1wiOiAke2VuY29kaW5nfWA7XG4gICAgdmVyaWZ5RW5jb2RpbmcoZW5jb2RpbmcsICdQcm9taXNlJyk7XG4gICAgcmV0dXJuIGVuY29kaW5nO1xuICB9O1xuICByZXR1cm4gZW5jb2RlUHJvbWlzZTtcbn07XG5cbmNvbnN0IG1ha2VFbmNvZGVFcnJvciA9ICh1bnNhZmVFbmNvZGVFcnJvciwgdmVyaWZ5RW5jb2RpbmcpID0+IHtcbiAgY29uc3QgZW5jb2RlRXJyb3IgPSAoZXJyLCBpbm5lckVuY29kZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kaW5nID0gdW5zYWZlRW5jb2RlRXJyb3IoZXJyLCBpbm5lckVuY29kZSk7XG4gICAgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgZW5jb2RpbmcuY2hhckF0KDApID09PSAnIScpIHx8XG4gICAgICBGYWlsYEVycm9yIGVuY29kaW5nIG11c3Qgc3RhcnQgd2l0aCBcIiFcIjogJHtlbmNvZGluZ31gO1xuICAgIHZlcmlmeUVuY29kaW5nKGVuY29kaW5nLCAnRXJyb3InKTtcbiAgICByZXR1cm4gZW5jb2Rpbmc7XG4gIH07XG4gIHJldHVybiBlbmNvZGVFcnJvcjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZUlubmVyRW5jb2RlID0gKGVuY29kZVN0cmluZ1N1ZmZpeCwgZW5jb2RlQXJyYXksIG9wdGlvbnMpID0+IHtcbiAgY29uc3Qge1xuICAgIGVuY29kZVJlbW90YWJsZTogdW5zYWZlRW5jb2RlUmVtb3RhYmxlLFxuICAgIGVuY29kZVByb21pc2U6IHVuc2FmZUVuY29kZVByb21pc2UsXG4gICAgZW5jb2RlRXJyb3I6IHVuc2FmZUVuY29kZUVycm9yLFxuICAgIHZlcmlmeUVuY29kaW5nID0gKCkgPT4ge30sXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBlbmNvZGVSZW1vdGFibGUgPSBtYWtlRW5jb2RlUmVtb3RhYmxlKFxuICAgIHVuc2FmZUVuY29kZVJlbW90YWJsZSxcbiAgICB2ZXJpZnlFbmNvZGluZyxcbiAgKTtcbiAgY29uc3QgZW5jb2RlUHJvbWlzZSA9IG1ha2VFbmNvZGVQcm9taXNlKHVuc2FmZUVuY29kZVByb21pc2UsIHZlcmlmeUVuY29kaW5nKTtcbiAgY29uc3QgZW5jb2RlRXJyb3IgPSBtYWtlRW5jb2RlRXJyb3IodW5zYWZlRW5jb2RlRXJyb3IsIHZlcmlmeUVuY29kaW5nKTtcblxuICBjb25zdCBpbm5lckVuY29kZSA9IHBhc3NhYmxlID0+IHtcbiAgICBpZiAoaXNFcnJvckxpa2UocGFzc2FibGUpKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIGVuY29kZUVycm9yKHBhc3NhYmxlLCBpbm5lckVuY29kZSk7XG4gICAgfVxuICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHBhc3NhYmxlKTtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnbnVsbCc6IHtcbiAgICAgICAgcmV0dXJuICd2JztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6IHtcbiAgICAgICAgcmV0dXJuICd6JztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZUJpbmFyeTY0KHBhc3NhYmxlKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcbiAgICAgICAgcmV0dXJuIGBzJHtlbmNvZGVTdHJpbmdTdWZmaXgocGFzc2FibGUpfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdib29sZWFuJzoge1xuICAgICAgICByZXR1cm4gYGIke3Bhc3NhYmxlfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgIHJldHVybiBlbmNvZGVCaWdJbnQocGFzc2FibGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICByZXR1cm4gZW5jb2RlUmVtb3RhYmxlKHBhc3NhYmxlLCBpbm5lckVuY29kZSk7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZUVycm9yKHBhc3NhYmxlLCBpbm5lckVuY29kZSk7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICByZXR1cm4gZW5jb2RlUHJvbWlzZShwYXNzYWJsZSwgaW5uZXJFbmNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBuYW1lID0gbmFtZUZvclBhc3NhYmxlU3ltYm9sKHBhc3NhYmxlKTtcbiAgICAgICAgYXNzZXJ0LnR5cGVvZihuYW1lLCAnc3RyaW5nJyk7XG4gICAgICAgIHJldHVybiBgeSR7ZW5jb2RlU3RyaW5nU3VmZml4KG5hbWUpfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICAgIHJldHVybiBlbmNvZGVBcnJheShwYXNzYWJsZSwgaW5uZXJFbmNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVJlY29yZChwYXNzYWJsZSwgZW5jb2RlQXJyYXksIGlubmVyRW5jb2RlKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVRhZ2dlZChwYXNzYWJsZSwgZW5jb2RlQXJyYXksIGlubmVyRW5jb2RlKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGBhICR7cShwYXNzU3R5bGUpfSBjYW5ub3QgYmUgdXNlZCBhcyBhIGNvbGxlY3Rpb24gcGFzc2FibGVgO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGlubmVyRW5jb2RlO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IGxpYmVyYWxEZWNvZGVycyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgLyogICAgICAgICAgICAgICAgICAqLyAoe1xuICAgIGRlY29kZVJlbW90YWJsZTogKF9lbmNvZGluZywgX2lubmVyRGVjb2RlKSA9PiB1bmRlZmluZWQsXG4gICAgZGVjb2RlUHJvbWlzZTogKF9lbmNvZGluZywgX2lubmVyRGVjb2RlKSA9PiB1bmRlZmluZWQsXG4gICAgZGVjb2RlRXJyb3I6IChfZW5jb2RpbmcsIF9pbm5lckRlY29kZSkgPT4gdW5kZWZpbmVkLFxuICB9KVxuKTtcblxuLypcblxuXG5cblxuICovXG5jb25zdCBtYWtlSW5uZXJEZWNvZGUgPSAoZGVjb2RlU3RyaW5nU3VmZml4LCBkZWNvZGVBcnJheSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCB7IGRlY29kZVJlbW90YWJsZSwgZGVjb2RlUHJvbWlzZSwgZGVjb2RlRXJyb3IgfSA9IG9wdGlvbnM7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGlubmVyRGVjb2RlID0gKGVuY29kZWQsIHNraXAgPSAwKSA9PiB7XG4gICAgc3dpdGNoIChlbmNvZGVkLmNoYXJBdChza2lwKSkge1xuICAgICAgY2FzZSAndic6IHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYXNlICd6Jzoge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgY2FzZSAnZic6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUJpbmFyeTY0KGVuY29kZWQsIHNraXApO1xuICAgICAgfVxuICAgICAgY2FzZSAncyc6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVN0cmluZ1N1ZmZpeChnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCArIDEpKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2InOiB7XG4gICAgICAgIGNvbnN0IHN1YnN0cmluZyA9IGdldFN1ZmZpeChlbmNvZGVkLCBza2lwICsgMSk7XG4gICAgICAgIGlmIChzdWJzdHJpbmcgPT09ICd0cnVlJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHN1YnN0cmluZyA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBGYWlsYGV4cGVjdGVkIGVuY29kZWQgYm9vbGVhbiB0byBiZSBcImJ0cnVlXCIgb3IgXCJiZmFsc2VcIjogJHtzdWJzdHJpbmd9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ24nOlxuICAgICAgY2FzZSAncCc6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUJpZ0ludChnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCkpO1xuICAgICAgfVxuICAgICAgY2FzZSAncic6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVJlbW90YWJsZShnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCksIGlubmVyRGVjb2RlKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJz8nOiB7XG4gICAgICAgIHJldHVybiBkZWNvZGVQcm9taXNlKGdldFN1ZmZpeChlbmNvZGVkLCBza2lwKSwgaW5uZXJEZWNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAnISc6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUVycm9yKGdldFN1ZmZpeChlbmNvZGVkLCBza2lwKSwgaW5uZXJEZWNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAneSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgbmFtZSA9IGRlY29kZVN0cmluZ1N1ZmZpeChnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCArIDEpKTtcbiAgICAgICAgcmV0dXJuIHBhc3NhYmxlU3ltYm9sRm9yTmFtZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1snOlxuICAgICAgY2FzZSAnXic6IHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGRlY29kZUFycmF5KGVuY29kZWQsIGlubmVyRGVjb2RlLCBza2lwKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJygnOiB7XG4gICAgICAgIHJldHVybiBkZWNvZGVSZWNvcmQoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGlubmVyRGVjb2RlLCBza2lwKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJzonOiB7XG4gICAgICAgIHJldHVybiBkZWNvZGVUYWdnZWQoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGlubmVyRGVjb2RlLCBza2lwKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGBpbnZhbGlkIGRhdGFiYXNlIGtleTogJHtnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCl9YDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBpbm5lckRlY29kZTtcbn07XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlUGFzc2FibGVLaXQgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBlbmNvZGVSZW1vdGFibGUgPSAociwgXykgPT4gRmFpbGByZW1vdGFibGUgdW5leHBlY3RlZDogJHtyfWAsXG4gICAgZW5jb2RlUHJvbWlzZSA9IChwLCBfKSA9PiBGYWlsYHByb21pc2UgdW5leHBlY3RlZDogJHtwfWAsXG4gICAgZW5jb2RlRXJyb3IgPSAoZXJyLCBfKSA9PiBGYWlsYGVycm9yIHVuZXhwZWN0ZWQ6ICR7ZXJyfWAsXG4gICAgZm9ybWF0ID0gJ2xlZ2FjeU9yZGVyZWQnLFxuXG4gICAgZGVjb2RlUmVtb3RhYmxlID0gKGVuY29kaW5nLCBfKSA9PiBGYWlsYHJlbW90YWJsZSB1bmV4cGVjdGVkOiAke2VuY29kaW5nfWAsXG4gICAgZGVjb2RlUHJvbWlzZSA9IChlbmNvZGluZywgXykgPT4gRmFpbGBwcm9taXNlIHVuZXhwZWN0ZWQ6ICR7ZW5jb2Rpbmd9YCxcbiAgICBkZWNvZGVFcnJvciA9IChlbmNvZGluZywgXykgPT4gRmFpbGBlcnJvciB1bmV4cGVjdGVkOiAke2VuY29kaW5nfWAsXG4gIH0gPSBvcHRpb25zO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBlbmNvZGVQYXNzYWJsZTtcbiAgY29uc3QgZW5jb2RlT3B0aW9ucyA9IHsgZW5jb2RlUmVtb3RhYmxlLCBlbmNvZGVQcm9taXNlLCBlbmNvZGVFcnJvciwgZm9ybWF0IH07XG4gIGlmIChmb3JtYXQgPT09ICdjb21wYWN0T3JkZXJlZCcpIHtcbiAgICBjb25zdCBsaWJlcmFsRGVjb2RlID0gbWFrZUlubmVyRGVjb2RlKFxuICAgICAgZGVjb2RlQ29tcGFjdFN0cmluZ1N1ZmZpeCxcbiAgICAgIGRlY29kZUNvbXBhY3RBcnJheSxcbiAgICAgIGxpYmVyYWxEZWNvZGVycyxcbiAgICApO1xuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgY29uc3QgdmVyaWZ5RW5jb2RpbmcgPSAoZW5jb2RpbmcsIGxhYmVsKSA9PiB7XG4gICAgICAhZW5jb2RpbmcubWF0Y2gockMwKSB8fFxuICAgICAgICBGYWlsYCR7YihcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgKX0gZW5jb2RpbmcgbXVzdCBub3QgY29udGFpbiBhIEMwIGNvbnRyb2wgY2hhcmFjdGVyOiAke2VuY29kaW5nfWA7XG4gICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlQ29tcGFjdEFycmF5KGBediAke2VuY29kaW5nfSB2IGAsIGxpYmVyYWxEZWNvZGUpO1xuICAgICAgKGlzQXJyYXkoZGVjb2RlZCkgJiZcbiAgICAgICAgZGVjb2RlZC5sZW5ndGggPT09IDMgJiZcbiAgICAgICAgZGVjb2RlZFswXSA9PT0gbnVsbCAmJlxuICAgICAgICBkZWNvZGVkWzJdID09PSBudWxsKSB8fFxuICAgICAgICBGYWlsYCR7YihsYWJlbCl9IGVuY29kaW5nIG11c3QgYmUgZW1iZWRkYWJsZTogJHtlbmNvZGluZ31gO1xuICAgIH07XG4gICAgY29uc3QgZW5jb2RlQ29tcGFjdCA9IG1ha2VJbm5lckVuY29kZShcbiAgICAgIGVuY29kZUNvbXBhY3RTdHJpbmdTdWZmaXgsXG4gICAgICBlbmNvZGVDb21wYWN0QXJyYXksXG4gICAgICB7IC4uLmVuY29kZU9wdGlvbnMsIHZlcmlmeUVuY29kaW5nIH0sXG4gICAgKTtcbiAgICBlbmNvZGVQYXNzYWJsZSA9IHBhc3NhYmxlID0+IGB+JHtlbmNvZGVDb21wYWN0KHBhc3NhYmxlKX1gO1xuICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2xlZ2FjeU9yZGVyZWQnKSB7XG4gICAgZW5jb2RlUGFzc2FibGUgPSBtYWtlSW5uZXJFbmNvZGUoXG4gICAgICBlbmNvZGVMZWdhY3lTdHJpbmdTdWZmaXgsXG4gICAgICBlbmNvZGVMZWdhY3lBcnJheSxcbiAgICAgIGVuY29kZU9wdGlvbnMsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBGYWlsYFVucmVjb2duaXplZCBmb3JtYXQ6ICR7cShmb3JtYXQpfWA7XG4gIH1cblxuICBjb25zdCBkZWNvZGVPcHRpb25zID0geyBkZWNvZGVSZW1vdGFibGUsIGRlY29kZVByb21pc2UsIGRlY29kZUVycm9yIH07XG4gIGNvbnN0IGRlY29kZUNvbXBhY3QgPSBtYWtlSW5uZXJEZWNvZGUoXG4gICAgZGVjb2RlQ29tcGFjdFN0cmluZ1N1ZmZpeCxcbiAgICBkZWNvZGVDb21wYWN0QXJyYXksXG4gICAgZGVjb2RlT3B0aW9ucyxcbiAgKTtcbiAgY29uc3QgZGVjb2RlTGVnYWN5ID0gbWFrZUlubmVyRGVjb2RlKFxuICAgIGRlY29kZUxlZ2FjeVN0cmluZ1N1ZmZpeCxcbiAgICBkZWNvZGVMZWdhY3lBcnJheSxcbiAgICBkZWNvZGVPcHRpb25zLFxuICApO1xuICBjb25zdCBkZWNvZGVQYXNzYWJsZSA9IGVuY29kZWQgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGlmIChlbmNvZGVkLmNoYXJBdCgwKSA9PT0gJ34nKSB7XG4gICAgICByZXR1cm4gZGVjb2RlQ29tcGFjdChlbmNvZGVkLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZUxlZ2FjeShlbmNvZGVkKTtcbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHsgZW5jb2RlUGFzc2FibGUsIGRlY29kZVBhc3NhYmxlIH0pO1xufTskaM2PX29uY2UubWFrZVBhc3NhYmxlS2l0KG1ha2VQYXNzYWJsZUtpdCk7XG5oYXJkZW4obWFrZVBhc3NhYmxlS2l0KTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRW5jb2RlUGFzc2FibGUgPSBlbmNvZGVPcHRpb25zID0+IHtcbiAgY29uc3QgeyBlbmNvZGVQYXNzYWJsZSB9ID0gbWFrZVBhc3NhYmxlS2l0KGVuY29kZU9wdGlvbnMpO1xuICByZXR1cm4gZW5jb2RlUGFzc2FibGU7XG59OyRozY9fb25jZS5tYWtlRW5jb2RlUGFzc2FibGUobWFrZUVuY29kZVBhc3NhYmxlKTtcbmhhcmRlbihtYWtlRW5jb2RlUGFzc2FibGUpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VEZWNvZGVQYXNzYWJsZSA9IGRlY29kZU9wdGlvbnMgPT4ge1xuICBjb25zdCB7IGRlY29kZVBhc3NhYmxlIH0gPSBtYWtlUGFzc2FibGVLaXQoZGVjb2RlT3B0aW9ucyk7XG4gIHJldHVybiBkZWNvZGVQYXNzYWJsZTtcbn07JGjNj19vbmNlLm1ha2VEZWNvZGVQYXNzYWJsZShtYWtlRGVjb2RlUGFzc2FibGUpO1xuaGFyZGVuKG1ha2VEZWNvZGVQYXNzYWJsZSk7XG5cbiAgICAgICBjb25zdCBpc0VuY29kZWRSZW1vdGFibGUgPSBlbmNvZGVkID0+IGVuY29kZWQuY2hhckF0KDApID09PSAncic7JGjNj19vbmNlLmlzRW5jb2RlZFJlbW90YWJsZShpc0VuY29kZWRSZW1vdGFibGUpO1xuaGFyZGVuKGlzRW5jb2RlZFJlbW90YWJsZSk7XG5cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwYXNzU3R5bGVQcmVmaXhlcyA9IHtcbiAgZXJyb3I6ICchJyxcbiAgY29weVJlY29yZDogJygnLFxuICB0YWdnZWQ6ICc6JyxcbiAgcHJvbWlzZTogJz8nLFxuICBjb3B5QXJyYXk6ICdbXicsXG4gIGJvb2xlYW46ICdiJyxcbiAgbnVtYmVyOiAnZicsXG4gIGJpZ2ludDogJ25wJyxcbiAgcmVtb3RhYmxlOiAncicsXG4gIHN0cmluZzogJ3MnLFxuICBudWxsOiAndicsXG4gIHN5bWJvbDogJ3knLFxuICAvL1xuICAvL1xuICAvL1xuICB1bmRlZmluZWQ6ICd6Jyxcbn07JGjNj19vbmNlLnBhc3NTdHlsZVByZWZpeGVzKHBhc3NTdHlsZVByZWZpeGVzKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihwYXNzU3R5bGVQcmVmaXhlcywgbnVsbCk7XG5oYXJkZW4ocGFzc1N0eWxlUHJlZml4ZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicmVjb3JkTmFtZXMiOlsicmVjb3JkTmFtZXMiXSwicmVjb3JkVmFsdWVzIjpbInJlY29yZFZhbHVlcyJdLCJ6ZXJvUGFkIjpbInplcm9QYWQiXSwibWFrZVBhc3NhYmxlS2l0IjpbIm1ha2VQYXNzYWJsZUtpdCJdLCJtYWtlRW5jb2RlUGFzc2FibGUiOlsibWFrZUVuY29kZVBhc3NhYmxlIl0sIm1ha2VEZWNvZGVQYXNzYWJsZSI6WyJtYWtlRGVjb2RlUGFzc2FibGUiXSwiaXNFbmNvZGVkUmVtb3RhYmxlIjpbImlzRW5jb2RlZFJlbW90YWJsZSJdLCJwYXNzU3R5bGVQcmVmaXhlcyI6WyJwYXNzU3R5bGVQcmVmaXhlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADPYpL49CsAAPQrAAArAAAAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL2VuY29kZVRvQ2FwRGF0YS5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiUUNMQVNTIiwibWFrZURlY29kZUZyb21DYXBEYXRhIiwibWFrZUVuY29kZVRvQ2FwRGF0YSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHBhc3NTdHlsZU9mLGlzRXJyb3JMaWtlLG1ha2VUYWdnZWQsaXNPYmplY3QsZ2V0VGFnLGhhc093blByb3BlcnR5T2YsYXNzZXJ0UGFzc2FibGVTeW1ib2wsbmFtZUZvclBhc3NhYmxlU3ltYm9sLHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxYLEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV0sW1wiaXNFcnJvckxpa2VcIixbJGjNj19hID0+IChpc0Vycm9yTGlrZSA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJpc09iamVjdFwiLFskaM2PX2EgPT4gKGlzT2JqZWN0ID0gJGjNj19hKV1dLFtcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJoYXNPd25Qcm9wZXJ0eU9mXCIsWyRozY9fYSA9PiAoaGFzT3duUHJvcGVydHlPZiA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlU3ltYm9sID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXSxbXCJwYXNzYWJsZVN5bWJvbEZvck5hbWVcIixbJGjNj19hID0+IChwYXNzYWJsZVN5bWJvbEZvck5hbWUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBvd25LZXlzIH0gPSBSZWZsZWN0O1xuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbmNvbnN0IHtcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxcbiAgZGVmaW5lUHJvcGVydGllcyxcbiAgaXMsXG4gIGVudHJpZXMsXG4gIGZyb21FbnRyaWVzLFxuICBmcmVlemUsXG59ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgUUNMQVNTID0gJ0BxY2xhc3MnOyRozY9fb25jZS5RQ0xBU1MoUUNMQVNTKTtcblxuXG4vKlxuXG5cbiAqL1xuY29uc3QgaGFzUUNsYXNzID0gZW5jb2RlZCA9PiBoYXNPd25Qcm9wZXJ0eU9mKGVuY29kZWQsIFFDTEFTUyk7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IHFjbGFzc01hdGNoZXMgPSAoZW5jb2RlZCwgcWNsYXNzKSA9PlxuICBpc09iamVjdChlbmNvZGVkKSAmJlxuICAhaXNBcnJheShlbmNvZGVkKSAmJlxuICBoYXNRQ2xhc3MoZW5jb2RlZCkgJiZcbiAgZW5jb2RlZFtRQ0xBU1NdID09PSBxY2xhc3M7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCBkb250RW5jb2RlUmVtb3RhYmxlVG9DYXBEYXRhID0gcmVtID0+IEZhaWxgcmVtb3RhYmxlIHVuZXhwZWN0ZWQ6ICR7cmVtfWA7XG5cbmNvbnN0IGRvbnRFbmNvZGVQcm9taXNlVG9DYXBEYXRhID0gcHJvbSA9PiBGYWlsYHByb21pc2UgdW5leHBlY3RlZDogJHtwcm9tfWA7XG5cbmNvbnN0IGRvbnRFbmNvZGVFcnJvclRvQ2FwRGF0YSA9IGVyciA9PiBGYWlsYGVycm9yIG9iamVjdCB1bmV4cGVjdGVkOiAke2Vycn1gO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFbmNvZGVUb0NhcERhdGEgPSAoZW5jb2RlT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBlbmNvZGVSZW1vdGFibGVUb0NhcERhdGEgPSBkb250RW5jb2RlUmVtb3RhYmxlVG9DYXBEYXRhLFxuICAgIGVuY29kZVByb21pc2VUb0NhcERhdGEgPSBkb250RW5jb2RlUHJvbWlzZVRvQ2FwRGF0YSxcbiAgICBlbmNvZGVFcnJvclRvQ2FwRGF0YSA9IGRvbnRFbmNvZGVFcnJvclRvQ2FwRGF0YSxcbiAgfSA9IGVuY29kZU9wdGlvbnM7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZW5jb2RlVG9DYXBEYXRhUmVjdXIgPSBwYXNzYWJsZSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHBhc3NhYmxlKTtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHBhc3NhYmxlO1xuICAgICAgfVxuICAgICAgY2FzZSAndW5kZWZpbmVkJzoge1xuICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJ3VuZGVmaW5lZCcgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6IHtcbiAgICAgICAgLy9cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihwYXNzYWJsZSkpIHtcbiAgICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJ05hTicgfTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXNzYWJsZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJ0luZmluaXR5JyB9O1xuICAgICAgICB9IGVsc2UgaWYgKHBhc3NhYmxlID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJy1JbmZpbml0eScgfTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gaXMocGFzc2FibGUsIC0wKSA/IDAgOiBwYXNzYWJsZTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2JpZ2ludCc6IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBbUUNMQVNTXTogJ2JpZ2ludCcsXG4gICAgICAgICAgZGlnaXRzOiBTdHJpbmcocGFzc2FibGUpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICBhc3NlcnRQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSAvKiAgICAgICAgICAgICAgICAgKi8gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFtRQ0xBU1NdOiAnc3ltYm9sJyxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5T2YocGFzc2FibGUsIFFDTEFTUykpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHsgW1FDTEFTU106IHFjbGFzc1ZhbHVlLCAuLi5yZXN0IH0gPSBwYXNzYWJsZTtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIFtRQ0xBU1NdOiAnaGlsYmVydCcsXG4gICAgICAgICAgICBvcmlnaW5hbDogZW5jb2RlVG9DYXBEYXRhUmVjdXIocWNsYXNzVmFsdWUpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKG93bktleXMocmVzdCkubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJlc3VsdC5yZXN0ID0gZW5jb2RlVG9DYXBEYXRhUmVjdXIoZnJlZXplKHJlc3QpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBuYW1lcyA9IG93bktleXMocGFzc2FibGUpLnNvcnQoKTtcbiAgICAgICAgcmV0dXJuIGZyb21FbnRyaWVzKFxuICAgICAgICAgIG5hbWVzLm1hcChuYW1lID0+IFtuYW1lLCBlbmNvZGVUb0NhcERhdGFSZWN1cihwYXNzYWJsZVtuYW1lXSldKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgcmV0dXJuIHBhc3NhYmxlLm1hcChlbmNvZGVUb0NhcERhdGFSZWN1cik7XG4gICAgICB9XG4gICAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW1FDTEFTU106ICd0YWdnZWQnLFxuICAgICAgICAgIHRhZzogZ2V0VGFnKHBhc3NhYmxlKSxcbiAgICAgICAgICBwYXlsb2FkOiBlbmNvZGVUb0NhcERhdGFSZWN1cihwYXNzYWJsZS5wYXlsb2FkKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JlbW90YWJsZSc6IHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZVJlbW90YWJsZVRvQ2FwRGF0YShcbiAgICAgICAgICBwYXNzYWJsZSxcbiAgICAgICAgICBlbmNvZGVUb0NhcERhdGFSZWN1cixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHFjbGFzc01hdGNoZXMoZW5jb2RlZCwgJ3Nsb3QnKSkge1xuICAgICAgICAgIHJldHVybiBlbmNvZGVkO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIHRocm93IEZhaWxgaW50ZXJuYWw6IFJlbW90YWJsZSBlbmNvZGluZyBtdXN0IGJlIGFuIG9iamVjdCB3aXRoICR7cShcbiAgICAgICAgICBRQ0xBU1MsXG4gICAgICAgICl9ICR7cSgnc2xvdCcpfTogJHtlbmNvZGVkfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2RlUHJvbWlzZVRvQ2FwRGF0YShwYXNzYWJsZSwgZW5jb2RlVG9DYXBEYXRhUmVjdXIpO1xuICAgICAgICBpZiAocWNsYXNzTWF0Y2hlcyhlbmNvZGVkLCAnc2xvdCcpKSB7XG4gICAgICAgICAgcmV0dXJuIGVuY29kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogUHJvbWlzZSBlbmNvZGluZyBtdXN0IGJlIGFuIG9iamVjdCB3aXRoICR7cShcbiAgICAgICAgICBRQ0xBU1MsXG4gICAgICAgICAgJ3Nsb3QnLFxuICAgICAgICApfTogJHtlbmNvZGVkfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZUVycm9yVG9DYXBEYXRhKHBhc3NhYmxlLCBlbmNvZGVUb0NhcERhdGFSZWN1cik7XG4gICAgICAgIGlmIChxY2xhc3NNYXRjaGVzKGVuY29kZWQsICdlcnJvcicpKSB7XG4gICAgICAgICAgcmV0dXJuIGVuY29kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogRXJyb3IgZW5jb2RpbmcgbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCAke3EoXG4gICAgICAgICAgUUNMQVNTLFxuICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICl9OiAke2VuY29kZWR9YDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgWGBpbnRlcm5hbDogVW5yZWNvZ25pemVkIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX1gLFxuICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuY29kZVRvQ2FwRGF0YSA9IHBhc3NhYmxlID0+IHtcbiAgICBpZiAoaXNFcnJvckxpa2UocGFzc2FibGUpKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIGhhcmRlbihlbmNvZGVFcnJvclRvQ2FwRGF0YShwYXNzYWJsZSwgZW5jb2RlVG9DYXBEYXRhUmVjdXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbihlbmNvZGVUb0NhcERhdGFSZWN1cihwYXNzYWJsZSkpO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKGVuY29kZVRvQ2FwRGF0YSk7XG59OyRozY9fb25jZS5tYWtlRW5jb2RlVG9DYXBEYXRhKG1ha2VFbmNvZGVUb0NhcERhdGEpO1xuaGFyZGVuKG1ha2VFbmNvZGVUb0NhcERhdGEpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgZG9udERlY29kZVJlbW90YWJsZU9yUHJvbWlzZUZyb21DYXBEYXRhID0gc2xvdEVuY29kaW5nID0+XG4gIEZhaWxgcmVtb3RhYmxlIG9yIHByb21pc2UgdW5leHBlY3RlZDogJHtzbG90RW5jb2Rpbmd9YDtcbmNvbnN0IGRvbnREZWNvZGVFcnJvckZyb21DYXBEYXRhID0gZXJyb3JFbmNvZGluZyA9PlxuICBGYWlsYGVycm9yIHVuZXhwZWN0ZWQ6ICR7ZXJyb3JFbmNvZGluZ31gO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VEZWNvZGVGcm9tQ2FwRGF0YSA9IChkZWNvZGVPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY29kZVJlbW90YWJsZUZyb21DYXBEYXRhID0gZG9udERlY29kZVJlbW90YWJsZU9yUHJvbWlzZUZyb21DYXBEYXRhLFxuICAgIGRlY29kZVByb21pc2VGcm9tQ2FwRGF0YSA9IGRvbnREZWNvZGVSZW1vdGFibGVPclByb21pc2VGcm9tQ2FwRGF0YSxcbiAgICBkZWNvZGVFcnJvckZyb21DYXBEYXRhID0gZG9udERlY29kZUVycm9yRnJvbUNhcERhdGEsXG4gIH0gPSBkZWNvZGVPcHRpb25zO1xuXG4gIGRlY29kZVJlbW90YWJsZUZyb21DYXBEYXRhID09PSBkZWNvZGVQcm9taXNlRnJvbUNhcERhdGEgfHxcbiAgICBGYWlsYEFuIGltcGxlbWVudGF0aW9uIHJlc3RyaWN0aW9uIGZvciBub3c6IElmIGVpdGhlciBkZWNvZGVSZW1vdGFibGVGcm9tQ2FwRGF0YSBvciBkZWNvZGVQcm9taXNlRnJvbUNhcERhdGEgaXMgcHJvdmlkZWQsIGJvdGggbXVzdCBiZSBwcm92aWRlZCBhbmQgdGhleSBtdXN0IGJlIHRoZSBzYW1lOiAke3EoXG4gICAgICBkZWNvZGVSZW1vdGFibGVGcm9tQ2FwRGF0YSxcbiAgICApfSB2cyAke3EoZGVjb2RlUHJvbWlzZUZyb21DYXBEYXRhKX1gO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZGVjb2RlRnJvbUNhcERhdGEgPSBqc29uRW5jb2RlZCA9PiB7XG4gICAgaWYgKCFpc09iamVjdChqc29uRW5jb2RlZCkpIHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4ganNvbkVuY29kZWQ7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGpzb25FbmNvZGVkKSkge1xuICAgICAgcmV0dXJuIGpzb25FbmNvZGVkLm1hcChlbmNvZGVkVmFsID0+IGRlY29kZUZyb21DYXBEYXRhKGVuY29kZWRWYWwpKTtcbiAgICB9IGVsc2UgaWYgKGhhc1FDbGFzcyhqc29uRW5jb2RlZCkpIHtcbiAgICAgIGNvbnN0IHFjbGFzcyA9IGpzb25FbmNvZGVkW1FDTEFTU107XG4gICAgICB0eXBlb2YgcWNsYXNzID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBGYWlsYGludmFsaWQgJHtxKFFDTEFTUyl9IHR5cGVvZiAke3EodHlwZW9mIHFjbGFzcyl9YDtcbiAgICAgIHN3aXRjaCAocWNsYXNzKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6IHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ05hTic6IHtcbiAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0luZmluaXR5Jzoge1xuICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICctSW5maW5pdHknOiB7XG4gICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBkaWdpdHMgfSA9IGpzb25FbmNvZGVkO1xuICAgICAgICAgIHR5cGVvZiBkaWdpdHMgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBGYWlsYGludmFsaWQgZGlnaXRzIHR5cGVvZiAke3EodHlwZW9mIGRpZ2l0cyl9YDtcbiAgICAgICAgICByZXR1cm4gQmlnSW50KGRpZ2l0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQEBhc3luY0l0ZXJhdG9yJzoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGpzb25FbmNvZGVkO1xuICAgICAgICAgIHJldHVybiBwYXNzYWJsZVN5bWJvbEZvck5hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICAgIGNvbnN0IHsgdGFnLCBwYXlsb2FkIH0gPSBqc29uRW5jb2RlZDtcbiAgICAgICAgICByZXR1cm4gbWFrZVRhZ2dlZCh0YWcsIGRlY29kZUZyb21DYXBEYXRhKHBheWxvYWQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzbG90Jzoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVSZW1vdGFibGVGcm9tQ2FwRGF0YShcbiAgICAgICAgICAgIGpzb25FbmNvZGVkLFxuICAgICAgICAgICAgZGVjb2RlRnJvbUNhcERhdGEsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBkZWNvZGVkO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVFcnJvckZyb21DYXBEYXRhKFxuICAgICAgICAgICAganNvbkVuY29kZWQsXG4gICAgICAgICAgICBkZWNvZGVGcm9tQ2FwRGF0YSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChwYXNzU3R5bGVPZihkZWNvZGVkKSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEZhaWxgaW50ZXJuYWw6IGRlY29kZUVycm9yRnJvbUNhcERhdGEgb3B0aW9uIG11c3QgcmV0dXJuIGFuIGVycm9yOiAke2RlY29kZWR9YDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdoaWxiZXJ0Jzoge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWwsIHJlc3QgfSA9IGpzb25FbmNvZGVkO1xuICAgICAgICAgIGhhc093blByb3BlcnR5T2YoanNvbkVuY29kZWQsICdvcmlnaW5hbCcpIHx8XG4gICAgICAgICAgICBGYWlsYEludmFsaWQgSGlsYmVydCBIb3RlbCBlbmNvZGluZyAke2pzb25FbmNvZGVkfWA7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IFtRQ0xBU1NdOiBkZWNvZGVGcm9tQ2FwRGF0YShvcmlnaW5hbCkgfTtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHlPZihqc29uRW5jb2RlZCwgJ3Jlc3QnKSkge1xuICAgICAgICAgICAgY29uc3QgaXNOb25FbXB0eU9iamVjdCA9XG4gICAgICAgICAgICAgIHR5cGVvZiByZXN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICByZXN0ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIG93bktleXMocmVzdCkubGVuZ3RoID49IDE7XG4gICAgICAgICAgICBpZiAoIWlzTm9uRW1wdHlPYmplY3QpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN0IGVuY29kaW5nIG11c3QgYmUgYSBub24tZW1wdHkgb2JqZWN0OiAke3Jlc3R9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3RPYmogPSBkZWNvZGVGcm9tQ2FwRGF0YShyZXN0KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eU9mKHJlc3RPYmosIFFDTEFTUykgfHxcbiAgICAgICAgICAgICAgRmFpbGBSZXN0IG11c3Qgbm90IGNvbnRhaW4gaXRzIG93biBkZWZpbml0aW9uIG9mICR7cShRQ0xBU1MpfWA7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzKHJlc3VsdCwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyZXN0T2JqKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgY2FzZSAnaWJpZCc6IHtcbiAgICAgICAgICB0aHJvdyBGYWlsYFRoZSBjYXBEYXRhIHByb3RvY29sIG5vIGxvbmdlciBzdXBwb3J0cyAke3EoUUNMQVNTKX0gJHtxKFxuICAgICAgICAgICAgcWNsYXNzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgICBYYHVucmVjb2duaXplZCAke3EoUUNMQVNTKX0gJHtxKHFjbGFzcyl9YCxcbiAgICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCh0eXBlb2YganNvbkVuY29kZWQgPT09ICdvYmplY3QnICYmIGpzb25FbmNvZGVkICE9PSBudWxsKTtcbiAgICAgIGNvbnN0IGRlY29kZUVudHJ5ID0gKFtuYW1lLCBlbmNvZGVkVmFsXSkgPT4ge1xuICAgICAgICB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICBGYWlsYFByb3BlcnR5ICR7cShuYW1lKX0gb2YgJHtqc29uRW5jb2RlZH0gbXVzdCBiZSBhIHN0cmluZ2A7XG4gICAgICAgIHJldHVybiBbbmFtZSwgZGVjb2RlRnJvbUNhcERhdGEoZW5jb2RlZFZhbCldO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGRlY29kZWRFbnRyaWVzID0gZW50cmllcyhqc29uRW5jb2RlZCkubWFwKGRlY29kZUVudHJ5KTtcbiAgICAgIHJldHVybiBmcm9tRW50cmllcyhkZWNvZGVkRW50cmllcyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGFyZGVuKGRlY29kZUZyb21DYXBEYXRhKTtcbn07JGjNj19vbmNlLm1ha2VEZWNvZGVGcm9tQ2FwRGF0YShtYWtlRGVjb2RlRnJvbUNhcERhdGEpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUUNMQVNTIjpbIlFDTEFTUyJdLCJtYWtlRW5jb2RlVG9DYXBEYXRhIjpbIm1ha2VFbmNvZGVUb0NhcERhdGEiXSwibWFrZURlY29kZUZyb21DYXBEYXRhIjpbIm1ha2VEZWNvZGVGcm9tQ2FwRGF0YSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD2GBtPQSwAAEEsAAAtAAAAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL2VuY29kZVRvU21hbGxjYXBzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3Bhc3Mtc3R5bGUiLCJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlRGVjb2RlRnJvbVNtYWxsY2FwcyIsIm1ha2VFbmNvZGVUb1NtYWxsY2FwcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHBhc3NTdHlsZU9mLGlzRXJyb3JMaWtlLG1ha2VUYWdnZWQsZ2V0VGFnLGhhc093blByb3BlcnR5T2YsYXNzZXJ0UGFzc2FibGVTeW1ib2wsbmFtZUZvclBhc3NhYmxlU3ltYm9sLHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxYLEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV0sW1wiaXNFcnJvckxpa2VcIixbJGjNj19hID0+IChpc0Vycm9yTGlrZSA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiaGFzT3duUHJvcGVydHlPZlwiLFskaM2PX2EgPT4gKGhhc093blByb3BlcnR5T2YgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UGFzc2FibGVTeW1ib2xcIixbJGjNj19hID0+IChhc3NlcnRQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXSxbXCJuYW1lRm9yUGFzc2FibGVTeW1ib2xcIixbJGjNj19hID0+IChuYW1lRm9yUGFzc2FibGVTeW1ib2wgPSAkaM2PX2EpXV0sW1wicGFzc2FibGVTeW1ib2xGb3JOYW1lXCIsWyRozY9fYSA9PiAocGFzc2FibGVTeW1ib2xGb3JOYW1lID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGlzQXJyYXkgfSA9IEFycmF5O1xuY29uc3QgeyBpcywgZW50cmllcywgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcblxuY29uc3QgQkFORyA9ICchJy5jaGFyQ29kZUF0KDApO1xuY29uc3QgREFTSCA9ICctJy5jaGFyQ29kZUF0KDApO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBzdGFydHNTcGVjaWFsID0gZW5jb2RlZFN0ciA9PiB7XG4gIGlmIChlbmNvZGVkU3RyID09PSAnJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvL1xuICBjb25zdCBjb2RlID0gZW5jb2RlZFN0ci5jaGFyQ29kZUF0KDApO1xuICAvL1xuICByZXR1cm4gQkFORyA8PSBjb2RlICYmIGNvZGUgPD0gREFTSDtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCBkb250RW5jb2RlUmVtb3RhYmxlVG9TbWFsbGNhcHMgPSByZW0gPT5cbiAgRmFpbGByZW1vdGFibGUgdW5leHBlY3RlZDogJHtyZW19YDtcblxuY29uc3QgZG9udEVuY29kZVByb21pc2VUb1NtYWxsY2FwcyA9IHByb20gPT4gRmFpbGBwcm9taXNlIHVuZXhwZWN0ZWQ6ICR7cHJvbX1gO1xuXG5jb25zdCBkb250RW5jb2RlRXJyb3JUb1NtYWxsY2FwcyA9IGVyciA9PlxuICBGYWlsYGVycm9yIG9iamVjdCB1bmV4cGVjdGVkOiAke3EoZXJyKX1gO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFbmNvZGVUb1NtYWxsY2FwcyA9IChlbmNvZGVPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzID0gZG9udEVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzLFxuICAgIGVuY29kZVByb21pc2VUb1NtYWxsY2FwcyA9IGRvbnRFbmNvZGVQcm9taXNlVG9TbWFsbGNhcHMsXG4gICAgZW5jb2RlRXJyb3JUb1NtYWxsY2FwcyA9IGRvbnRFbmNvZGVFcnJvclRvU21hbGxjYXBzLFxuICB9ID0gZW5jb2RlT3B0aW9ucztcblxuICBjb25zdCBhc3NlcnRFbmNvZGVkRXJyb3IgPSBlbmNvZGluZyA9PiB7XG4gICAgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ29iamVjdCcgJiYgaGFzT3duUHJvcGVydHlPZihlbmNvZGluZywgJyNlcnJvcicpKSB8fFxuICAgICAgRmFpbGBpbnRlcm5hbDogRXJyb3IgZW5jb2RpbmcgbXVzdCBoYXZlIFwiI2Vycm9yXCIgcHJvcGVydHk6ICR7cShcbiAgICAgICAgZW5jb2RpbmcsXG4gICAgICApfWA7XG4gICAgLy9cbiAgICBjb25zdCBtZXNzYWdlID0gZW5jb2RpbmdbJyNlcnJvciddO1xuICAgICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICghc3RhcnRzU3BlY2lhbChtZXNzYWdlKSB8fCBtZXNzYWdlLmNoYXJBdCgwKSA9PT0gJyEnKSkgfHxcbiAgICAgIEZhaWxgaW50ZXJuYWw6IEVycm9yIGVuY29kaW5nIG11c3QgaGF2ZSBzdHJpbmcgbWVzc2FnZTogJHtxKG1lc3NhZ2UpfWA7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZW5jb2RlVG9TbWFsbGNhcHNSZWN1ciA9IHBhc3NhYmxlID0+IHtcbiAgICAvL1xuICAgIC8vXG4gICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YocGFzc2FibGUpO1xuICAgIHN3aXRjaCAocGFzc1N0eWxlKSB7XG4gICAgICBjYXNlICdudWxsJzpcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBwYXNzYWJsZTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcbiAgICAgICAgaWYgKHN0YXJ0c1NwZWNpYWwocGFzc2FibGUpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBgISR7cGFzc2FibGV9YDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gcGFzc2FibGU7XG4gICAgICB9XG4gICAgICBjYXNlICd1bmRlZmluZWQnOiB7XG4gICAgICAgIHJldHVybiAnI3VuZGVmaW5lZCc7XG4gICAgICB9XG4gICAgICBjYXNlICdudW1iZXInOiB7XG4gICAgICAgIC8vXG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGFzc2FibGUpKSB7XG4gICAgICAgICAgcmV0dXJuICcjTmFOJztcbiAgICAgICAgfSBlbHNlIGlmIChwYXNzYWJsZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4gJyNJbmZpbml0eSc7XG4gICAgICAgIH0gZWxzZSBpZiAocGFzc2FibGUgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJldHVybiAnIy1JbmZpbml0eSc7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGlzKHBhc3NhYmxlLCAtMCkgPyAwIDogcGFzc2FibGU7XG4gICAgICB9XG4gICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgIGNvbnN0IHN0ciA9IFN0cmluZyhwYXNzYWJsZSk7XG4gICAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgKi8gKHBhc3NhYmxlKSA8IDBuID8gc3RyIDogYCske3N0cn1gO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICBhc3NlcnRQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSAvKiAgICAgICAgICAgICAgICAgKi8gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSkpO1xuICAgICAgICByZXR1cm4gYCUke25hbWV9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlSZWNvcmQnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IG5hbWVzID0gb3duS2V5cyhwYXNzYWJsZSkuc29ydCgpO1xuICAgICAgICByZXR1cm4gZnJvbUVudHJpZXMoXG4gICAgICAgICAgbmFtZXMubWFwKG5hbWUgPT4gW1xuICAgICAgICAgICAgZW5jb2RlVG9TbWFsbGNhcHNSZWN1cihuYW1lKSxcbiAgICAgICAgICAgIGVuY29kZVRvU21hbGxjYXBzUmVjdXIocGFzc2FibGVbbmFtZV0pLFxuICAgICAgICAgIF0pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICByZXR1cm4gcGFzc2FibGUubWFwKGVuY29kZVRvU21hbGxjYXBzUmVjdXIpO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICcjdGFnJzogZW5jb2RlVG9TbWFsbGNhcHNSZWN1cihnZXRUYWcocGFzc2FibGUpKSxcbiAgICAgICAgICBwYXlsb2FkOiBlbmNvZGVUb1NtYWxsY2Fwc1JlY3VyKHBhc3NhYmxlLnBheWxvYWQpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbmNvZGVSZW1vdGFibGVUb1NtYWxsY2FwcyhcbiAgICAgICAgICBwYXNzYWJsZSxcbiAgICAgICAgICBlbmNvZGVUb1NtYWxsY2Fwc1JlY3VyLFxuICAgICAgICApO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycgJiYgcmVzdWx0LmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICB0aHJvdyBGYWlsYGludGVybmFsOiBSZW1vdGFibGUgZW5jb2RpbmcgbXVzdCBzdGFydCB3aXRoIFwiJFwiOiAke3Jlc3VsdH1gO1xuICAgICAgfVxuICAgICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5jb2RlUHJvbWlzZVRvU21hbGxjYXBzKFxuICAgICAgICAgIHBhc3NhYmxlLFxuICAgICAgICAgIGVuY29kZVRvU21hbGxjYXBzUmVjdXIsXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyAmJiByZXN1bHQuY2hhckF0KDApID09PSAnJicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IEZhaWxgaW50ZXJuYWw6IFByb21pc2UgZW5jb2RpbmcgbXVzdCBzdGFydCB3aXRoIFwiJlwiOiAke3Jlc3VsdH1gO1xuICAgICAgfVxuICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuY29kZUVycm9yVG9TbWFsbGNhcHMocGFzc2FibGUsIGVuY29kZVRvU21hbGxjYXBzUmVjdXIpO1xuICAgICAgICBhc3NlcnRFbmNvZGVkRXJyb3IocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgWGBpbnRlcm5hbDogVW5yZWNvZ25pemVkIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX1gLFxuICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuY29kZVRvU21hbGxjYXBzID0gcGFzc2FibGUgPT4ge1xuICAgIGlmIChpc0Vycm9yTGlrZShwYXNzYWJsZSkpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCByZXN1bHQgPSBoYXJkZW4oXG4gICAgICAgIGVuY29kZUVycm9yVG9TbWFsbGNhcHMocGFzc2FibGUsIGVuY29kZVRvU21hbGxjYXBzUmVjdXIpLFxuICAgICAgKTtcbiAgICAgIGFzc2VydEVuY29kZWRFcnJvcihyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbihlbmNvZGVUb1NtYWxsY2Fwc1JlY3VyKHBhc3NhYmxlKSk7XG4gIH07XG4gIHJldHVybiBoYXJkZW4oZW5jb2RlVG9TbWFsbGNhcHMpO1xufTskaM2PX29uY2UubWFrZUVuY29kZVRvU21hbGxjYXBzKG1ha2VFbmNvZGVUb1NtYWxsY2Fwcyk7XG5oYXJkZW4obWFrZUVuY29kZVRvU21hbGxjYXBzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IGRvbnREZWNvZGVSZW1vdGFibGVGcm9tU21hbGxjYXBzID0gZW5jb2RpbmcgPT5cbiAgRmFpbGByZW1vdGFibGUgdW5leHBlY3RlZDogJHtlbmNvZGluZ31gO1xuY29uc3QgZG9udERlY29kZVByb21pc2VGcm9tU21hbGxjYXBzID0gZW5jb2RpbmcgPT5cbiAgRmFpbGBwcm9taXNlIHVuZXhwZWN0ZWQ6ICR7ZW5jb2Rpbmd9YDtcbmNvbnN0IGRvbnREZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgPSBlbmNvZGluZyA9PlxuICBGYWlsYGVycm9yIHVuZXhwZWN0ZWQ6ICR7cShlbmNvZGluZyl9YDtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRGVjb2RlRnJvbVNtYWxsY2FwcyA9IChkZWNvZGVPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY29kZVJlbW90YWJsZUZyb21TbWFsbGNhcHMgPSBkb250RGVjb2RlUmVtb3RhYmxlRnJvbVNtYWxsY2FwcyxcbiAgICBkZWNvZGVQcm9taXNlRnJvbVNtYWxsY2FwcyA9IGRvbnREZWNvZGVQcm9taXNlRnJvbVNtYWxsY2FwcyxcbiAgICBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgPSBkb250RGVjb2RlRXJyb3JGcm9tU21hbGxjYXBzLFxuICB9ID0gZGVjb2RlT3B0aW9ucztcblxuICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlY29kZUZyb21TbWFsbGNhcHMgPSBlbmNvZGluZyA9PiB7XG4gICAgc3dpdGNoICh0eXBlb2YgZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVtYmVyJzoge1xuICAgICAgICByZXR1cm4gZW5jb2Rpbmc7XG4gICAgICB9XG4gICAgICBjYXNlICdzdHJpbmcnOiB7XG4gICAgICAgIGlmICghc3RhcnRzU3BlY2lhbChlbmNvZGluZykpIHtcbiAgICAgICAgICByZXR1cm4gZW5jb2Rpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYyA9IGVuY29kaW5nLmNoYXJBdCgwKTtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgY2FzZSAnISc6IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICByZXR1cm4gZW5jb2Rpbmcuc2xpY2UoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJyUnOiB7XG4gICAgICAgICAgICByZXR1cm4gcGFzc2FibGVTeW1ib2xGb3JOYW1lKGVuY29kaW5nLnNsaWNlKDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnIyc6IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgICAgICAgICAgY2FzZSAnI3VuZGVmaW5lZCc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJyNOYU4nOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICcjSW5maW5pdHknOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJyMtSW5maW5pdHknOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgICAgICAgICBYYHVua25vd24gY29uc3RhbnQgXCIke3EoZW5jb2RpbmcpfVwiYCxcbiAgICAgICAgICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgIGNhc2UgJy0nOiB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KGVuY29kaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnJCc6IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlY29kZVJlbW90YWJsZUZyb21TbWFsbGNhcHMoXG4gICAgICAgICAgICAgIGVuY29kaW5nLFxuICAgICAgICAgICAgICBkZWNvZGVGcm9tU21hbGxjYXBzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAocGFzc1N0eWxlT2YocmVzdWx0KSAhPT0gJ3JlbW90YWJsZScpIHtcbiAgICAgICAgICAgICAgRmFpbGBpbnRlcm5hbDogZGVjb2RlUmVtb3RhYmxlRnJvbVNtYWxsY2FwcyBvcHRpb24gbXVzdCByZXR1cm4gYSByZW1vdGFibGU6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICcmJzoge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVjb2RlUHJvbWlzZUZyb21TbWFsbGNhcHMoXG4gICAgICAgICAgICAgIGVuY29kaW5nLFxuICAgICAgICAgICAgICBkZWNvZGVGcm9tU21hbGxjYXBzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChwYXNzU3R5bGVPZihyZXN1bHQpICE9PSAncHJvbWlzZScpIHtcbiAgICAgICAgICAgICAgRmFpbGBpbnRlcm5hbDogZGVjb2RlUHJvbWlzZUZyb21TbWFsbGNhcHMgb3B0aW9uIG11c3QgcmV0dXJuIGEgcHJvbWlzZTogJHtyZXN1bHR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgU3BlY2lhbCBjaGFyICR7cShcbiAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICl9IHJlc2VydmVkIGZvciBmdXR1cmUgdXNlOiAke2VuY29kaW5nfWA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICAgIGlmIChlbmNvZGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbmNvZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0FycmF5KGVuY29kaW5nKSkge1xuICAgICAgICAgIHJldHVybiBlbmNvZGluZy5tYXAodmFsID0+IGRlY29kZUZyb21TbWFsbGNhcHModmFsKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHlPZihlbmNvZGluZywgJyN0YWcnKSkge1xuICAgICAgICAgIGNvbnN0IHsgJyN0YWcnOiB0YWcsIHBheWxvYWQsIC4uLnJlc3QgfSA9IGVuY29kaW5nO1xuICAgICAgICAgIHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBGYWlsYFZhbHVlIG9mIFwiI3RhZ1wiLCB0aGUgdGFnLCBtdXN0IGJlIGEgc3RyaW5nOiAke2VuY29kaW5nfWA7XG4gICAgICAgICAgb3duS2V5cyhyZXN0KS5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgIEZhaWxgI3RhZyByZWNvcmQgdW5leHBlY3RlZCBwcm9wZXJ0aWVzOiAke3Eob3duS2V5cyhyZXN0KSl9YDtcbiAgICAgICAgICByZXR1cm4gbWFrZVRhZ2dlZChcbiAgICAgICAgICAgIGRlY29kZUZyb21TbWFsbGNhcHModGFnKSxcbiAgICAgICAgICAgIGRlY29kZUZyb21TbWFsbGNhcHMocGF5bG9hZCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eU9mKGVuY29kaW5nLCAnI2Vycm9yJykpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMoXG4gICAgICAgICAgICBlbmNvZGluZyxcbiAgICAgICAgICAgIGRlY29kZUZyb21TbWFsbGNhcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXNzU3R5bGVPZihyZXN1bHQpID09PSAnZXJyb3InIHx8XG4gICAgICAgICAgICBGYWlsYGludGVybmFsOiBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgb3B0aW9uIG11c3QgcmV0dXJuIGFuIGVycm9yOiAke3Jlc3VsdH1gO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWNvZGVFbnRyeSA9IChbZW5jb2RlZE5hbWUsIGVuY29kZWRWYWxdKSA9PiB7XG4gICAgICAgICAgdHlwZW9mIGVuY29kZWROYW1lID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgRmFpbGBQcm9wZXJ0eSBuYW1lICR7cShcbiAgICAgICAgICAgICAgZW5jb2RlZE5hbWUsXG4gICAgICAgICAgICApfSBvZiAke2VuY29kaW5nfSBtdXN0IGJlIGEgc3RyaW5nYDtcbiAgICAgICAgICBlbmNvZGVkTmFtZS5jaGFyQXQoMCkgIT09ICcjJyB8fFxuICAgICAgICAgICAgRmFpbGBVbnJlY29nbml6ZWQgcmVjb3JkIHR5cGUgJHtxKGVuY29kZWROYW1lKX06ICR7ZW5jb2Rpbmd9YDtcbiAgICAgICAgICBjb25zdCBuYW1lID0gZGVjb2RlRnJvbVNtYWxsY2FwcyhlbmNvZGVkTmFtZSk7XG4gICAgICAgICAgdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBGYWlsYERlY29kZWQgcHJvcGVydHkgbmFtZSAke25hbWV9IGZyb20gJHtlbmNvZGluZ30gbXVzdCBiZSBhIHN0cmluZ2A7XG4gICAgICAgICAgcmV0dXJuIFtuYW1lLCBkZWNvZGVGcm9tU21hbGxjYXBzKGVuY29kZWRWYWwpXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGVjb2RlZEVudHJpZXMgPSBlbnRyaWVzKGVuY29kaW5nKS5tYXAoZGVjb2RlRW50cnkpO1xuICAgICAgICByZXR1cm4gZnJvbUVudHJpZXMoZGVjb2RlZEVudHJpZXMpO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBhc3NlcnQuZmFpbChcbiAgICAgICAgICBYYGludGVybmFsOiB1bnJlY29nbml6ZWQgSlNPTiB0eXBlb2YgJHtxKFxuICAgICAgICAgICAgdHlwZW9mIGVuY29kaW5nLFxuICAgICAgICAgICl9OiAke2VuY29kaW5nfWAsXG4gICAgICAgICAgVHlwZUVycm9yLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhhcmRlbihkZWNvZGVGcm9tU21hbGxjYXBzKTtcbn07JGjNj19vbmNlLm1ha2VEZWNvZGVGcm9tU21hbGxjYXBzKG1ha2VEZWNvZGVGcm9tU21hbGxjYXBzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VFbmNvZGVUb1NtYWxsY2FwcyI6WyJtYWtlRW5jb2RlVG9TbWFsbGNhcHMiXSwibWFrZURlY29kZUZyb21TbWFsbGNhcHMiOlsibWFrZURlY29kZUZyb21TbWFsbGNhcHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA5otTsGgvAABoLwAAKgAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9tYXJzaGFsLWp1c3Rpbi5qc3siaW1wb3J0cyI6WyJAZW5kby9uYXQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIiwiLi9lbmNvZGVUb0NhcERhdGEuanMiXSwiZXhwb3J0cyI6WyJkZWNvZGVUb0p1c3RpbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5hdCxnZXRFcnJvckNvbnN0cnVjdG9yLGlzT2JqZWN0LHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxxLFgsRmFpbCxRQ0xBU1M7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9uYXRcIiwgW1tcIk5hdFwiLFskaM2PX2EgPT4gKE5hdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldEVycm9yQ29uc3RydWN0b3JcIixbJGjNj19hID0+IChnZXRFcnJvckNvbnN0cnVjdG9yID0gJGjNj19hKV1dLFtcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV0sW1wicGFzc2FibGVTeW1ib2xGb3JOYW1lXCIsWyRozY9fYSA9PiAocGFzc2FibGVTeW1ib2xGb3JOYW1lID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vZW5jb2RlVG9DYXBEYXRhLmpzXCIsIFtbXCJRQ0xBU1NcIixbJGjNj19hID0+IChRQ0xBU1MgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7IHN0cmluZ2lmeTogcXVvdGUgfSA9IEpTT047XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuY29uc3QgbWFrZVllc0luZGVudGVyID0gKCkgPT4ge1xuICBjb25zdCBzdHJpbmdzID0gW107XG4gIGxldCBsZXZlbCA9IDA7XG4gIGxldCBuZWVkU3BhY2UgPSBmYWxzZTtcbiAgY29uc3QgbGluZSA9ICgpID0+IHtcbiAgICBuZWVkU3BhY2UgPSBmYWxzZTtcbiAgICByZXR1cm4gc3RyaW5ncy5wdXNoKCdcXG4nLCAnICAnLnJlcGVhdChsZXZlbCkpO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKHtcbiAgICBvcGVuOiBvcGVuQnJhY2tldCA9PiB7XG4gICAgICBsZXZlbCArPSAxO1xuICAgICAgaWYgKG5lZWRTcGFjZSkge1xuICAgICAgICBzdHJpbmdzLnB1c2goJyAnKTtcbiAgICAgIH1cbiAgICAgIG5lZWRTcGFjZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHN0cmluZ3MucHVzaChvcGVuQnJhY2tldCk7XG4gICAgfSxcbiAgICBsaW5lLFxuICAgIG5leHQ6IHRva2VuID0+IHtcbiAgICAgIGlmIChuZWVkU3BhY2UgJiYgdG9rZW4gIT09ICcsJykge1xuICAgICAgICBzdHJpbmdzLnB1c2goJyAnKTtcbiAgICAgIH1cbiAgICAgIG5lZWRTcGFjZSA9IHRydWU7XG4gICAgICByZXR1cm4gc3RyaW5ncy5wdXNoKHRva2VuKTtcbiAgICB9LFxuICAgIGNsb3NlOiBjbG9zZUJyYWNrZXQgPT4ge1xuICAgICAgYXNzZXJ0KGxldmVsID49IDEpO1xuICAgICAgbGV2ZWwgLT0gMTtcbiAgICAgIGxpbmUoKTtcbiAgICAgIHJldHVybiBzdHJpbmdzLnB1c2goY2xvc2VCcmFja2V0KTtcbiAgICB9LFxuICAgIGRvbmU6ICgpID0+IHtcbiAgICAgIGFzc2VydC5lcXVhbChsZXZlbCwgMCk7XG4gICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCcnKTtcbiAgICB9LFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBiYWRQYWlyUGF0dGVybiA9IC9eKD86XFx3XFx3fDw8fD4+fFxcK1xcK3wtLXw8IXwtPikkLztcblxuLypcblxuXG5cbiAqL1xuY29uc3QgbWFrZU5vSW5kZW50ZXIgPSAoKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHN0cmluZ3MgPSBbXTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgb3Blbjogb3BlbkJyYWNrZXQgPT4gc3RyaW5ncy5wdXNoKG9wZW5CcmFja2V0KSxcbiAgICBsaW5lOiAoKSA9PiBzdHJpbmdzLmxlbmd0aCxcbiAgICBuZXh0OiB0b2tlbiA9PiB7XG4gICAgICBpZiAoc3RyaW5ncy5sZW5ndGggPj0gMSkge1xuICAgICAgICBjb25zdCBsYXN0ID0gc3RyaW5nc1tzdHJpbmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICAvL1xuICAgICAgICBpZiAobGFzdC5sZW5ndGggPj0gMSAmJiB0b2tlbi5sZW5ndGggPj0gMSkge1xuICAgICAgICAgIGNvbnN0IHBhaXIgPSBgJHtsYXN0W2xhc3QubGVuZ3RoIC0gMV19JHt0b2tlblswXX1gO1xuICAgICAgICAgIGlmIChiYWRQYWlyUGF0dGVybi50ZXN0KHBhaXIpKSB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goJyAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmdzLnB1c2godG9rZW4pO1xuICAgIH0sXG4gICAgY2xvc2U6IGNsb3NlQnJhY2tldCA9PiB7XG4gICAgICBpZiAoc3RyaW5ncy5sZW5ndGggPj0gMSAmJiBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV0gPT09ICcsJykge1xuICAgICAgICBzdHJpbmdzLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZ3MucHVzaChjbG9zZUJyYWNrZXQpO1xuICAgIH0sXG4gICAgZG9uZTogKCkgPT4gc3RyaW5ncy5qb2luKCcnKSxcbiAgfSk7XG59O1xuXG5jb25zdCBpZGVudFBhdHRlcm4gPSAvXlthLXpBLVpdXFx3KiQvO1xuaGFyZGVuKGlkZW50UGF0dGVybik7XG5jb25zdCBBdEF0UHJlZml4UGF0dGVybiA9IC9eQEAoLiopJC87XG5oYXJkZW4oQXRBdFByZWZpeFBhdHRlcm4pO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGRlY29kZVRvSnVzdGluID0gKGVuY29kaW5nLCBzaG91bGRJbmRlbnQgPSBmYWxzZSwgc2xvdHMgPSBbXSkgPT4ge1xuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlID0gcmF3VHJlZSA9PiB7XG4gICAgaWYgKCFpc09iamVjdChyYXdUcmVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvL1xuICAgIGFzc2VydC50eXBlb2YocmF3VHJlZSwgJ29iamVjdCcpO1xuICAgIGFzc2VydChyYXdUcmVlICE9PSBudWxsKTtcbiAgICBpZiAoUUNMQVNTIGluIHJhd1RyZWUpIHtcbiAgICAgIGNvbnN0IHFjbGFzcyA9IHJhd1RyZWVbUUNMQVNTXTtcbiAgICAgIHR5cGVvZiBxY2xhc3MgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIEZhaWxgaW52YWxpZCBxY2xhc3MgdHlwZW9mICR7cSh0eXBlb2YgcWNsYXNzKX1gO1xuICAgICAgYXNzZXJ0KCFpc0FycmF5KHJhd1RyZWUpKTtcbiAgICAgIHN3aXRjaCAocmF3VHJlZVsnQHFjbGFzcyddKSB7XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIGNhc2UgJ05hTic6XG4gICAgICAgIGNhc2UgJ0luZmluaXR5JzpcbiAgICAgICAgY2FzZSAnLUluZmluaXR5Jzoge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBkaWdpdHMgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgdHlwZW9mIGRpZ2l0cyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIEZhaWxgaW52YWxpZCBkaWdpdHMgdHlwZW9mICR7cSh0eXBlb2YgZGlnaXRzKX1gO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdAQGFzeW5jSXRlcmF0b3InOiB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgYXNzZXJ0LnR5cGVvZihuYW1lLCAnc3RyaW5nJyk7XG4gICAgICAgICAgY29uc3Qgc3ltID0gcGFzc2FibGVTeW1ib2xGb3JOYW1lKG5hbWUpO1xuICAgICAgICAgIGFzc2VydC50eXBlb2Yoc3ltLCAnc3ltYm9sJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgICBjb25zdCB7IHRhZywgcGF5bG9hZCB9ID0gcmF3VHJlZTtcbiAgICAgICAgICBhc3NlcnQudHlwZW9mKHRhZywgJ3N0cmluZycpO1xuICAgICAgICAgIHByZXBhcmUocGF5bG9hZCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3Nsb3QnOiB7XG4gICAgICAgICAgY29uc3QgeyBpbmRleCwgaWZhY2UgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgYXNzZXJ0LnR5cGVvZihpbmRleCwgJ251bWJlcicpO1xuICAgICAgICAgIE5hdChpbmRleCk7XG4gICAgICAgICAgaWYgKGlmYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFzc2VydC50eXBlb2YoaWZhY2UsICdzdHJpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2hpbGJlcnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbCwgcmVzdCB9ID0gcmF3VHJlZTtcbiAgICAgICAgICAnb3JpZ2luYWwnIGluIHJhd1RyZWUgfHxcbiAgICAgICAgICAgIEZhaWxgSW52YWxpZCBIaWxiZXJ0IEhvdGVsIGVuY29kaW5nICR7cmF3VHJlZX1gO1xuICAgICAgICAgIHByZXBhcmUob3JpZ2luYWwpO1xuICAgICAgICAgIGlmICgncmVzdCcgaW4gcmF3VHJlZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3QgJHtyZXN0fSBlbmNvZGluZyBtdXN0IGJlIGFuIG9iamVjdGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3QgJHtyZXN0fSBlbmNvZGluZyBtdXN0IG5vdCBiZSBudWxsYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FycmF5KHJlc3QpKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUmVzdCAke3Jlc3R9IGVuY29kaW5nIG11c3Qgbm90IGJlIGFuIGFycmF5YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChRQ0xBU1MgaW4gcmVzdCkge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3QgZW5jb2RpbmcgJHtyZXN0fSBtdXN0IG5vdCBjb250YWluICR7cShRQ0xBU1MpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IG93bktleXMocmVzdCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICAgICAgICAgICAgdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBQcm9wZXJ0eSBuYW1lICR7bmFtZX0gb2YgJHtyYXdUcmVlfSBtdXN0IGJlIGEgc3RyaW5nYDtcbiAgICAgICAgICAgICAgcHJlcGFyZShyZXN0W25hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgIGNvbnN0IHsgbmFtZSwgbWVzc2FnZSB9ID0gcmF3VHJlZTtcbiAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBGYWlsYGludmFsaWQgZXJyb3IgbmFtZSB0eXBlb2YgJHtxKHR5cGVvZiBuYW1lKX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnZXRFcnJvckNvbnN0cnVjdG9yKG5hbWUpICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIEZhaWxgTXVzdCBiZSB0aGUgbmFtZSBvZiBhbiBFcnJvciBjb25zdHJ1Y3RvciAke25hbWV9YDtcbiAgICAgICAgICB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIEZhaWxgaW52YWxpZCBlcnJvciBtZXNzYWdlIHR5cGVvZiAke3EodHlwZW9mIG1lc3NhZ2UpfWA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGFzc2VydC5mYWlsKFhgdW5yZWNvZ25pemVkICR7cShRQ0xBU1MpfSAke3EocWNsYXNzKX1gLCBUeXBlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHJhd1RyZWUpKSB7XG4gICAgICBjb25zdCB7IGxlbmd0aCB9ID0gcmF3VHJlZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcHJlcGFyZShyYXdUcmVlW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmFtZXMgPSBvd25LZXlzKHJhd1RyZWUpO1xuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBGYWlsYFByb3BlcnR5IG5hbWUgJHtuYW1lfSBvZiAke3Jhd1RyZWV9IG11c3QgYmUgYSBzdHJpbmdgO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmUocmF3VHJlZVtuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG1ha2VJbmRlbnRlciA9IHNob3VsZEluZGVudCA/IG1ha2VZZXNJbmRlbnRlciA6IG1ha2VOb0luZGVudGVyO1xuICBsZXQgb3V0ID0gbWFrZUluZGVudGVyKCk7XG5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlY29kZSA9IHJhd1RyZWUgPT4ge1xuICAgIC8vXG4gICAgcmV0dXJuIHJlY3VyKHJhd1RyZWUpO1xuICB9O1xuXG4gIGNvbnN0IGRlY29kZVByb3BlcnR5ID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgb3V0LmxpbmUoKTtcbiAgICBpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBvdXQubmV4dChgW1wiX19wcm90b19fXCJdOmApO1xuICAgIH0gZWxzZSBpZiAoaWRlbnRQYXR0ZXJuLnRlc3QobmFtZSkpIHtcbiAgICAgIG91dC5uZXh0KGAke25hbWV9OmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQubmV4dChgJHtxdW90ZShuYW1lKX06YCk7XG4gICAgfVxuICAgIGRlY29kZSh2YWx1ZSk7XG4gICAgb3V0Lm5leHQoJywnKTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCByZWN1ciA9IHJhd1RyZWUgPT4ge1xuICAgIGlmICghaXNPYmplY3QocmF3VHJlZSkpIHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gb3V0Lm5leHQocXVvdGUocmF3VHJlZSkpO1xuICAgIH1cbiAgICAvL1xuICAgIGFzc2VydC50eXBlb2YocmF3VHJlZSwgJ29iamVjdCcpO1xuICAgIGFzc2VydChyYXdUcmVlICE9PSBudWxsKTtcbiAgICBpZiAoUUNMQVNTIGluIHJhd1RyZWUpIHtcbiAgICAgIGNvbnN0IHFjbGFzcyA9IHJhd1RyZWVbUUNMQVNTXTtcbiAgICAgIGFzc2VydC50eXBlb2YocWNsYXNzLCAnc3RyaW5nJyk7XG4gICAgICBhc3NlcnQoIWlzQXJyYXkocmF3VHJlZSkpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgc3dpdGNoIChyYXdUcmVlWydAcWNsYXNzJ10pIHtcbiAgICAgICAgLy9cbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgY2FzZSAnTmFOJzpcbiAgICAgICAgY2FzZSAnSW5maW5pdHknOlxuICAgICAgICBjYXNlICctSW5maW5pdHknOiB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gb3V0Lm5leHQocWNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBkaWdpdHMgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgYXNzZXJ0LnR5cGVvZihkaWdpdHMsICdzdHJpbmcnKTtcbiAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYCR7QmlnSW50KGRpZ2l0cyl9bmApO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0BAYXN5bmNJdGVyYXRvcic6IHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBvdXQubmV4dCgnU3ltYm9sLmFzeW5jSXRlcmF0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzeW1ib2wnOiB7XG4gICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSByYXdUcmVlO1xuICAgICAgICAgIGFzc2VydC50eXBlb2YobmFtZSwgJ3N0cmluZycpO1xuICAgICAgICAgIGNvbnN0IHN5bSA9IHBhc3NhYmxlU3ltYm9sRm9yTmFtZShuYW1lKTtcbiAgICAgICAgICBhc3NlcnQudHlwZW9mKHN5bSwgJ3N5bWJvbCcpO1xuICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyZWROYW1lID0gU3ltYm9sLmtleUZvcihzeW0pO1xuICAgICAgICAgIGlmIChyZWdpc3RlcmVkTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IEF0QXRQcmVmaXhQYXR0ZXJuLmV4ZWMobmFtZSk7XG4gICAgICAgICAgICBhc3NlcnQobWF0Y2ggIT09IG51bGwpO1xuICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gbWF0Y2hbMV07XG4gICAgICAgICAgICBhc3NlcnQoU3ltYm9sW3N1ZmZpeF0gPT09IHN5bSk7XG4gICAgICAgICAgICBhc3NlcnQoaWRlbnRQYXR0ZXJuLnRlc3Qoc3VmZml4KSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYFN5bWJvbC4ke3N1ZmZpeH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dC5uZXh0KGBTeW1ib2wuZm9yKCR7cXVvdGUocmVnaXN0ZXJlZE5hbWUpfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAgICAgY29uc3QgeyB0YWcsIHBheWxvYWQgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgb3V0Lm5leHQoYG1ha2VUYWdnZWQoJHtxdW90ZSh0YWcpfSxgKTtcbiAgICAgICAgICBkZWNvZGUocGF5bG9hZCk7XG4gICAgICAgICAgcmV0dXJuIG91dC5uZXh0KCcpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdzbG90Jzoge1xuICAgICAgICAgIGxldCB7IGlmYWNlIH0gPSByYXdUcmVlO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKE5hdChyYXdUcmVlLmluZGV4KSk7XG4gICAgICAgICAgY29uc3QgbmVzdGVkUmVuZGVyID0gYXJnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9sZE91dCA9IG91dDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIG91dCA9IG1ha2VOb0luZGVudGVyKCk7XG4gICAgICAgICAgICAgIGRlY29kZShhcmcpO1xuICAgICAgICAgICAgICByZXR1cm4gb3V0LmRvbmUoKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIG91dCA9IG9sZE91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpbmRleCA8IHNsb3RzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IG5lc3RlZFJlbmRlcihzbG90c1tpbmRleF0pO1xuICAgICAgICAgICAgaWYgKGlmYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG91dC5uZXh0KGBzbG90VG9WYWwoJHtzbG90fSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmYWNlID0gbmVzdGVkUmVuZGVyKGlmYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQubmV4dChgc2xvdFRvVmFsKCR7c2xvdH0sJHtpZmFjZX0pYCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpZmFjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYHNsb3QoJHtpbmRleH0pYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmYWNlID0gbmVzdGVkUmVuZGVyKGlmYWNlKTtcbiAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYHNsb3QoJHtpbmRleH0sJHtpZmFjZX0pYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdoaWxiZXJ0Jzoge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWwsIHJlc3QgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgb3V0Lm9wZW4oJ3snKTtcbiAgICAgICAgICBkZWNvZGVQcm9wZXJ0eShRQ0xBU1MsIG9yaWdpbmFsKTtcbiAgICAgICAgICBpZiAoJ3Jlc3QnIGluIHJhd1RyZWUpIHtcbiAgICAgICAgICAgIGFzc2VydC50eXBlb2YocmVzdCwgJ29iamVjdCcpO1xuICAgICAgICAgICAgYXNzZXJ0KHJlc3QgIT09IG51bGwpO1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBvd25LZXlzKHJlc3QpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBGYWlsYFByb3BlcnR5IG5hbWUgJHtxKFxuICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICApfSBvZiAke3Jlc3R9IG11c3QgYmUgYSBzdHJpbmdgO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlY29kZVByb3BlcnR5KG5hbWUsIHJlc3RbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3V0LmNsb3NlKCd9Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGNhdXNlID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXJyb3JzID0gdW5kZWZpbmVkLFxuICAgICAgICAgIH0gPSByYXdUcmVlO1xuICAgICAgICAgIGNhdXNlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIEZhaWxgZXJyb3IgY2F1c2Ugbm90IHlldCBpbXBsZW1lbnRlZCBpbiBtYXJzaGFsLWp1c3RpbmA7XG4gICAgICAgICAgbmFtZSAhPT0gYEFnZ3JlZ2F0ZUVycm9yYCB8fFxuICAgICAgICAgICAgRmFpbGBBZ2dyZWdhdGVFcnJvciBub3QgeWV0IGltcGxlbWVudGVkIGluIG1hcnNoYWwtanVzdGluYDtcbiAgICAgICAgICBlcnJvcnMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgRmFpbGBlcnJvciBlcnJvcnMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBtYXJzaGFsLWp1c3RpbmA7XG4gICAgICAgICAgcmV0dXJuIG91dC5uZXh0KGAke25hbWV9KCR7cXVvdGUobWVzc2FnZSl9KWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IGFzc2VydC5mYWlsKFxuICAgICAgICAgICAgWGB1bnJlY29nbml6ZWQgJHtxKFFDTEFTUyl9ICR7cShxY2xhc3MpfWAsXG4gICAgICAgICAgICBUeXBlRXJyb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShyYXdUcmVlKSkge1xuICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHJhd1RyZWU7XG4gICAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBvdXQubmV4dCgnW10nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dC5vcGVuKCdbJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBvdXQubGluZSgpO1xuICAgICAgICAgIGRlY29kZShyYXdUcmVlW2ldKTtcbiAgICAgICAgICBvdXQubmV4dCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQuY2xvc2UoJ10nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBuYW1lcyA9IC8qICAgICAgICAgICAgICAgICAgICovIChvd25LZXlzKHJhd1RyZWUpKTtcbiAgICAgIGlmIChuYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG91dC5uZXh0KCd7fScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0Lm9wZW4oJ3snKTtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgZGVjb2RlUHJvcGVydHkobmFtZSwgcmF3VHJlZVtuYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5jbG9zZSgnfScpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcHJlcGFyZShlbmNvZGluZyk7XG4gIGRlY29kZShlbmNvZGluZyk7XG4gIHJldHVybiBvdXQuZG9uZSgpO1xufTskaM2PX29uY2UuZGVjb2RlVG9KdXN0aW4oZGVjb2RlVG9KdXN0aW4pO1xuaGFyZGVuKGRlY29kZVRvSnVzdGluKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlY29kZVRvSnVzdGluIjpbImRlY29kZVRvSnVzdGluIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAL4ipxtKBwAASgcAAC0AAABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvbWFyc2hhbC1zdHJpbmdpZnkuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiLi9tYXJzaGFsLmpzIl0sImV4cG9ydHMiOlsicGFyc2UiLCJzdHJpbmdpZnkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLG1ha2VNYXJzaGFsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vbWFyc2hhbC5qc1wiLCBbW1wibWFrZU1hcnNoYWxcIixbJGjNj19hID0+IChtYWtlTWFyc2hhbCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBmcmVlemUgfSA9IE9iamVjdDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBkb05vdENvbnZlcnRWYWxUb1Nsb3QgPSB2YWwgPT5cbiAgRmFpbGBNYXJzaGFsJ3Mgc3RyaW5naWZ5IHJlamVjdHMgcHJlc2VuY2VzIGFuZCBwcm9taXNlcyAke3ZhbH1gO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGRvTm90Q29udmVydFNsb3RUb1ZhbCA9IChzbG90LCBfaWZhY2UpID0+XG4gIEZhaWxgTWFyc2hhbCdzIHBhcnNlIG11c3Qgbm90IGVuY29kZSBhbnkgc2xvdHMgJHtzbG90fWA7XG5cbmNvbnN0IGJhZEFycmF5SGFuZGxlciA9IGhhcmRlbih7XG4gIGdldDogKF90YXJnZXQsIG5hbWUsIF9yZWNlaXZlcikgPT4ge1xuICAgIGlmIChuYW1lID09PSAnbGVuZ3RoJykge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8vXG4gICAgdGhyb3cgRmFpbGBNYXJzaGFsJ3MgcGFyc2UgbXVzdCBub3QgZW5jb2RlIGFueSBzbG90IHBvc2l0aW9ucyAke25hbWV9YDtcbiAgfSxcbn0pO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGFycmF5VGFyZ2V0ID0gZnJlZXplKC8qICAgICAgICAgICAgICAgICovIChbXSkpO1xuY29uc3QgYmFkQXJyYXkgPSBuZXcgUHJveHkoYXJyYXlUYXJnZXQsIGJhZEFycmF5SGFuZGxlcik7XG5cbmNvbnN0IHsgc2VyaWFsaXplLCB1bnNlcmlhbGl6ZSB9ID0gbWFrZU1hcnNoYWwoXG4gIGRvTm90Q29udmVydFZhbFRvU2xvdCxcbiAgZG9Ob3RDb252ZXJ0U2xvdFRvVmFsLFxuICB7XG4gICAgZXJyb3JUYWdnaW5nOiAnb2ZmJyxcbiAgICAvL1xuICAgIHNlcmlhbGl6ZUJvZHlGb3JtYXQ6ICdjYXBkYXRhJyxcbiAgfSxcbik7XG5cbi8qXG5cblxuICovXG5jb25zdCBzdHJpbmdpZnkgPSB2YWwgPT4gc2VyaWFsaXplKHZhbCkuYm9keTskaM2PX29uY2Uuc3RyaW5naWZ5KHN0cmluZ2lmeSk7XG5oYXJkZW4oc3RyaW5naWZ5KTtcblxuLypcblxuXG4gKi9cbmNvbnN0IHBhcnNlID0gc3RyID0+XG4gIHVuc2VyaWFsaXplKFxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZyZWV6ZSh7XG4gICAgICBib2R5OiBzdHIsXG4gICAgICBzbG90czogYmFkQXJyYXksXG4gICAgfSksXG4gICk7JGjNj19vbmNlLnBhcnNlKHBhcnNlKTtcbmhhcmRlbihwYXJzZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzdHJpbmdpZnkiOlsic3RyaW5naWZ5Il0sInBhcnNlIjpbInBhcnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAk6IG5hLwAAYS8AACMAAABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvbWFyc2hhbC5qc3siaW1wb3J0cyI6WyJAZW5kby9uYXQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCIuL2VuY29kZVRvQ2FwRGF0YS5qcyIsIi4vZW5jb2RlVG9TbWFsbGNhcHMuanMiXSwiZXhwb3J0cyI6WyJtYWtlTWFyc2hhbCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5hdCxhc3NlcnRQYXNzYWJsZSxnZXRJbnRlcmZhY2VPZixnZXRFcnJvckNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5T2YsdG9QYXNzYWJsZUVycm9yLFgsRmFpbCxxLG1ha2VFcnJvcixhbm5vdGF0ZUVycm9yLG9iamVjdE1hcCxRQ0xBU1MsbWFrZUVuY29kZVRvQ2FwRGF0YSxtYWtlRGVjb2RlRnJvbUNhcERhdGEsbWFrZURlY29kZUZyb21TbWFsbGNhcHMsbWFrZUVuY29kZVRvU21hbGxjYXBzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbmF0XCIsIFtbXCJOYXRcIixbJGjNj19hID0+IChOYXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJhc3NlcnRQYXNzYWJsZVwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZU9mXCIsWyRozY9fYSA9PiAoZ2V0SW50ZXJmYWNlT2YgPSAkaM2PX2EpXV0sW1wiZ2V0RXJyb3JDb25zdHJ1Y3RvclwiLFskaM2PX2EgPT4gKGdldEVycm9yQ29uc3RydWN0b3IgPSAkaM2PX2EpXV0sW1wiaGFzT3duUHJvcGVydHlPZlwiLFskaM2PX2EgPT4gKGhhc093blByb3BlcnR5T2YgPSAkaM2PX2EpXV0sW1widG9QYXNzYWJsZUVycm9yXCIsWyRozY9fYSA9PiAodG9QYXNzYWJsZUVycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV0sW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qc1wiLCBbW1wib2JqZWN0TWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWFwID0gJGjNj19hKV1dXV0sW1wiLi9lbmNvZGVUb0NhcERhdGEuanNcIiwgW1tcIlFDTEFTU1wiLFskaM2PX2EgPT4gKFFDTEFTUyA9ICRozY9fYSldXSxbXCJtYWtlRW5jb2RlVG9DYXBEYXRhXCIsWyRozY9fYSA9PiAobWFrZUVuY29kZVRvQ2FwRGF0YSA9ICRozY9fYSldXSxbXCJtYWtlRGVjb2RlRnJvbUNhcERhdGFcIixbJGjNj19hID0+IChtYWtlRGVjb2RlRnJvbUNhcERhdGEgPSAkaM2PX2EpXV1dXSxbXCIuL2VuY29kZVRvU21hbGxjYXBzLmpzXCIsIFtbXCJtYWtlRGVjb2RlRnJvbVNtYWxsY2Fwc1wiLFskaM2PX2EgPT4gKG1ha2VEZWNvZGVGcm9tU21hbGxjYXBzID0gJGjNj19hKV1dLFtcIm1ha2VFbmNvZGVUb1NtYWxsY2Fwc1wiLFskaM2PX2EgPT4gKG1ha2VFbmNvZGVUb1NtYWxsY2FwcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IGRlZmluZVByb3BlcnRpZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZGVmYXVsdFZhbFRvU2xvdEZuID0geCA9PiB4O1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBkZWZhdWx0U2xvdFRvVmFsRm4gPSAoeCwgXykgPT4geDtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU1hcnNoYWwgPSAoXG4gIGNvbnZlcnRWYWxUb1Nsb3QgPSBkZWZhdWx0VmFsVG9TbG90Rm4sXG4gIGNvbnZlcnRTbG90VG9WYWwgPSBkZWZhdWx0U2xvdFRvVmFsRm4sXG4gIHtcbiAgICBlcnJvclRhZ2dpbmcgPSAnb24nLFxuICAgIG1hcnNoYWxOYW1lID0gJ2Fub24tbWFyc2hhbCcsXG4gICAgLy9cbiAgICAvL1xuICAgIGVycm9ySWROdW0gPSAxMDAwMCxcbiAgICAvL1xuICAgIC8vXG4gICAgbWFyc2hhbFNhdmVFcnJvciA9IGVyciA9PlxuICAgICAgY29uc29sZS5sb2coJ1RlbXBvcmFyeSBsb2dnaW5nIG9mIHNlbnQgZXJyb3InLCBlcnIpLFxuICAgIC8vXG4gICAgLy9cbiAgICBzZXJpYWxpemVCb2R5Rm9ybWF0ID0gJ2NhcGRhdGEnLFxuICB9ID0ge30sXG4pID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihtYXJzaGFsTmFtZSwgJ3N0cmluZycpO1xuICBlcnJvclRhZ2dpbmcgPT09ICdvbicgfHxcbiAgICBlcnJvclRhZ2dpbmcgPT09ICdvZmYnIHx8XG4gICAgRmFpbGBUaGUgZXJyb3JUYWdnaW5nIG9wdGlvbiBjYW4gb25seSBiZSBcIm9uXCIgb3IgXCJvZmZcIiAke2Vycm9yVGFnZ2luZ31gO1xuICBjb25zdCBuZXh0RXJyb3JJZCA9ICgpID0+IHtcbiAgICBlcnJvcklkTnVtICs9IDE7XG4gICAgcmV0dXJuIGBlcnJvcjoke21hcnNoYWxOYW1lfSMke2Vycm9ySWROdW19YDtcbiAgfTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCB0b0NhcERhdGEgPSByb290ID0+IHtcbiAgICBjb25zdCBzbG90cyA9IFtdO1xuICAgIC8vXG4gICAgY29uc3Qgc2xvdE1hcCA9IG5ldyBNYXAoKTtcblxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIGNvbnN0IGVuY29kZVNsb3RDb21tb24gPSBwYXNzYWJsZSA9PiB7XG4gICAgICBsZXQgaW5kZXggPSBzbG90TWFwLmdldChwYXNzYWJsZSk7XG4gICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvL1xuICAgICAgICBhc3NlcnQudHlwZW9mKGluZGV4LCAnbnVtYmVyJyk7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBpbmRleCwgcmVwZWF0OiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICBpbmRleCA9IHNsb3RzLmxlbmd0aDtcbiAgICAgIGNvbnN0IHNsb3QgPSBjb252ZXJ0VmFsVG9TbG90KHBhc3NhYmxlKTtcbiAgICAgIHNsb3RzLnB1c2goc2xvdCk7XG4gICAgICBzbG90TWFwLnNldChwYXNzYWJsZSwgaW5kZXgpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7IGluZGV4LCByZXBlYXQ6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBjb25zdCBlbmNvZGVFcnJvckNvbW1vbiA9IChlcnIsIGVuY29kZVJlY3VyKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZW5jb2RlUmVjdXIoYCR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICBhc3NlcnQudHlwZW9mKG1lc3NhZ2UsICdzdHJpbmcnKTtcbiAgICAgIGNvbnN0IG5hbWUgPSBlbmNvZGVSZWN1cihgJHtlcnIubmFtZX1gKTtcbiAgICAgIGFzc2VydC50eXBlb2YobmFtZSwgJ3N0cmluZycpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKGVycm9yVGFnZ2luZyA9PT0gJ29uJykge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBlcnJvcklkID0gZW5jb2RlUmVjdXIobmV4dEVycm9ySWQoKSk7XG4gICAgICAgIGFzc2VydC50eXBlb2YoZXJyb3JJZCwgJ3N0cmluZycpO1xuICAgICAgICBhbm5vdGF0ZUVycm9yKGVyciwgWGBTZW50IGFzICR7ZXJyb3JJZH1gKTtcbiAgICAgICAgbWFyc2hhbFNhdmVFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHsgZXJyb3JJZCwgbWVzc2FnZSwgbmFtZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBtZXNzYWdlLCBuYW1lIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc2VyaWFsaXplQm9keUZvcm1hdCA9PT0gJ2NhcGRhdGEnKSB7XG4gICAgICAvKlxuXG5cblxuICAgICAgICovXG4gICAgICBjb25zdCBlbmNvZGVTbG90VG9DYXBEYXRhID0gKHBhc3NhYmxlLCBpZmFjZSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICBjb25zdCB7IGluZGV4LCByZXBlYXQgfSA9IGVuY29kZVNsb3RDb21tb24ocGFzc2FibGUpO1xuXG4gICAgICAgIGlmIChyZXBlYXQgPT09IHRydWUgfHwgaWZhY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBbUUNMQVNTXTogJ3Nsb3QnLCBpbmRleCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgW1FDTEFTU106ICdzbG90JywgaWZhY2UsIGluZGV4IH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IGVuY29kZVJlbW90YWJsZVRvQ2FwRGF0YSA9ICh2YWwsIF9lbmNvZGVSZWN1cikgPT5cbiAgICAgICAgZW5jb2RlU2xvdFRvQ2FwRGF0YSh2YWwsIGdldEludGVyZmFjZU9mKHZhbCkpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBlbmNvZGVQcm9taXNlVG9DYXBEYXRhID0gKHByb21pc2UsIF9lbmNvZGVSZWN1cikgPT5cbiAgICAgICAgZW5jb2RlU2xvdFRvQ2FwRGF0YShwcm9taXNlKTtcblxuICAgICAgLypcblxuXG5cblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGVuY29kZUVycm9yVG9DYXBEYXRhID0gKGVyciwgZW5jb2RlUmVjdXIpID0+IHtcbiAgICAgICAgY29uc3QgZXJyRGF0YSA9IGVuY29kZUVycm9yQ29tbW9uKGVyciwgZW5jb2RlUmVjdXIpO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHsgW1FDTEFTU106ICdlcnJvcicsIC4uLmVyckRhdGEgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBlbmNvZGVUb0NhcERhdGEgPSBtYWtlRW5jb2RlVG9DYXBEYXRhKHtcbiAgICAgICAgZW5jb2RlUmVtb3RhYmxlVG9DYXBEYXRhLFxuICAgICAgICBlbmNvZGVQcm9taXNlVG9DYXBEYXRhLFxuICAgICAgICBlbmNvZGVFcnJvclRvQ2FwRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2RlVG9DYXBEYXRhKHJvb3QpO1xuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KGVuY29kZWQpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIGJvZHksXG4gICAgICAgIHNsb3RzLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzZXJpYWxpemVCb2R5Rm9ybWF0ID09PSAnc21hbGxjYXBzJykge1xuICAgICAgLypcblxuXG5cblxuICAgICAgICovXG4gICAgICBjb25zdCBlbmNvZGVTbG90VG9TbWFsbGNhcHMgPSAocHJlZml4LCBwYXNzYWJsZSwgaWZhY2UgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBpbmRleCwgcmVwZWF0IH0gPSBlbmNvZGVTbG90Q29tbW9uKHBhc3NhYmxlKTtcblxuICAgICAgICAvL1xuICAgICAgICBpZiAocmVwZWF0ID09PSB0cnVlIHx8IGlmYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7aW5kZXh9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7aW5kZXh9LiR7aWZhY2V9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzID0gKHJlbW90YWJsZSwgX2VuY29kZVJlY3VyKSA9PlxuICAgICAgICBlbmNvZGVTbG90VG9TbWFsbGNhcHMoJyQnLCByZW1vdGFibGUsIGdldEludGVyZmFjZU9mKHJlbW90YWJsZSkpO1xuXG4gICAgICBjb25zdCBlbmNvZGVQcm9taXNlVG9TbWFsbGNhcHMgPSAocHJvbWlzZSwgX2VuY29kZVJlY3VyKSA9PlxuICAgICAgICBlbmNvZGVTbG90VG9TbWFsbGNhcHMoJyYnLCBwcm9taXNlKTtcblxuICAgICAgY29uc3QgZW5jb2RlRXJyb3JUb1NtYWxsY2FwcyA9IChlcnIsIGVuY29kZVJlY3VyKSA9PiB7XG4gICAgICAgIGNvbnN0IGVyckRhdGEgPSBlbmNvZGVFcnJvckNvbW1vbihlcnIsIGVuY29kZVJlY3VyKTtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlLCAuLi5yZXN0IH0gPSBlcnJEYXRhO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHsgJyNlcnJvcic6IG1lc3NhZ2UsIC4uLnJlc3QgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBlbmNvZGVUb1NtYWxsY2FwcyA9IG1ha2VFbmNvZGVUb1NtYWxsY2Fwcyh7XG4gICAgICAgIGVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzLFxuICAgICAgICBlbmNvZGVQcm9taXNlVG9TbWFsbGNhcHMsXG4gICAgICAgIGVuY29kZUVycm9yVG9TbWFsbGNhcHMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZVRvU21hbGxjYXBzKHJvb3QpO1xuICAgICAgY29uc3Qgc21hbGxjYXBzQm9keSA9IEpTT04uc3RyaW5naWZ5KGVuY29kZWQpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGJvZHk6IGAjJHtzbWFsbGNhcHNCb2R5fWAsXG4gICAgICAgIHNsb3RzLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vXG4gICAgICB0aHJvdyBGYWlsYFVucmVjb2duaXplZCBzZXJpYWxpemVCb2R5Rm9ybWF0OiAke3Eoc2VyaWFsaXplQm9keUZvcm1hdCl9YDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbWFrZUZ1bGxSZXZpdmUgPSBzbG90cyA9PiB7XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCB2YWxNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAvKlxuXG5cbiAgICAgKi9cbiAgICBjb25zdCBkZWNvZGVTbG90Q29tbW9uID0gc2xvdERhdGEgPT4ge1xuICAgICAgY29uc3QgeyBpZmFjZSA9IHVuZGVmaW5lZCwgaW5kZXgsIC4uLnJlc3QgfSA9IHNsb3REYXRhO1xuICAgICAgb3duS2V5cyhyZXN0KS5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgRmFpbGB1bmV4cGVjdGVkIGVuY29kZWQgc2xvdCBwcm9wZXJ0aWVzICR7cShvd25LZXlzKHJlc3QpKX1gO1xuICAgICAgY29uc3QgZXh0YW50ID0gdmFsTWFwLmdldChpbmRleCk7XG4gICAgICBpZiAoZXh0YW50KSB7XG4gICAgICAgIHJldHVybiBleHRhbnQ7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1tOdW1iZXIoTmF0KGluZGV4KSldO1xuICAgICAgY29uc3QgdmFsID0gY29udmVydFNsb3RUb1ZhbChzbG90LCBpZmFjZSk7XG4gICAgICB2YWxNYXAuc2V0KGluZGV4LCB2YWwpO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgLypcblxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBjb25zdCBkZWNvZGVFcnJvckNvbW1vbiA9IChlcnJEYXRhLCBkZWNvZGVSZWN1cikgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBlcnJvcklkID0gdW5kZWZpbmVkLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBuYW1lLFxuICAgICAgICBjYXVzZSA9IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyb3JzID0gdW5kZWZpbmVkLFxuICAgICAgICAuLi5yZXN0XG4gICAgICB9ID0gZXJyRGF0YTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBkTmFtZSA9IGRlY29kZVJlY3VyKG5hbWUpO1xuICAgICAgY29uc3QgZE1lc3NhZ2UgPSBkZWNvZGVSZWN1cihtZXNzYWdlKTtcbiAgICAgIC8vXG4gICAgICBjb25zdCBkRXJyb3JJZCA9IC8qICAgICAgICAgICAgICAgICAqLyAoZXJyb3JJZCAmJiBkZWNvZGVSZWN1cihlcnJvcklkKSk7XG4gICAgICBpZiAodHlwZW9mIGROYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBGYWlsYGludmFsaWQgZXJyb3IgbmFtZSB0eXBlb2YgJHtxKHR5cGVvZiBkTmFtZSl9YDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZE1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IEZhaWxgaW52YWxpZCBlcnJvciBtZXNzYWdlIHR5cGVvZiAke3EodHlwZW9mIGRNZXNzYWdlKX1gO1xuICAgICAgfVxuICAgICAgY29uc3QgZXJyQ29uc3RydWN0b3IgPSBnZXRFcnJvckNvbnN0cnVjdG9yKGROYW1lKSB8fCBFcnJvcjtcbiAgICAgIGNvbnN0IGVycm9yTmFtZSA9XG4gICAgICAgIGRFcnJvcklkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGBSZW1vdGUke2VyckNvbnN0cnVjdG9yLm5hbWV9YFxuICAgICAgICAgIDogYFJlbW90ZSR7ZXJyQ29uc3RydWN0b3IubmFtZX0oJHtkRXJyb3JJZH0pYDtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGVycm9yTmFtZSxcbiAgICAgICAgc2FuaXRpemU6IGZhbHNlLFxuICAgICAgfTtcbiAgICAgIGlmIChjYXVzZSkge1xuICAgICAgICBvcHRpb25zLmNhdXNlID0gZGVjb2RlUmVjdXIoY2F1c2UpO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICBvcHRpb25zLmVycm9ycyA9IGRlY29kZVJlY3VyKGVycm9ycyk7XG4gICAgICB9XG4gICAgICBjb25zdCByYXdFcnJvciA9IG1ha2VFcnJvcihkTWVzc2FnZSwgZXJyQ29uc3RydWN0b3IsIG9wdGlvbnMpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IGRlc2NzID0gb2JqZWN0TWFwKHJlc3QsIGRhdGEgPT4gKHtcbiAgICAgICAgdmFsdWU6IGRlY29kZVJlY3VyKGRhdGEpLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgfSkpO1xuICAgICAgZGVmaW5lUHJvcGVydGllcyhyYXdFcnJvciwgZGVzY3MpO1xuICAgICAgaGFyZGVuKHJhd0Vycm9yKTtcbiAgICAgIHJldHVybiB0b1Bhc3NhYmxlRXJyb3IocmF3RXJyb3IpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgY29uc3QgZGVjb2RlUmVtb3RhYmxlT3JQcm9taXNlRnJvbUNhcERhdGEgPSAocmF3VHJlZSwgX2RlY29kZVJlY3VyKSA9PiB7XG4gICAgICBjb25zdCB7IFtRQ0xBU1NdOiBfLCAuLi5zbG90RGF0YSB9ID0gcmF3VHJlZTtcbiAgICAgIHJldHVybiBkZWNvZGVTbG90Q29tbW9uKHNsb3REYXRhKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVjb2RlRXJyb3JGcm9tQ2FwRGF0YSA9IChyYXdUcmVlLCBkZWNvZGVSZWN1cikgPT4ge1xuICAgICAgY29uc3QgeyBbUUNMQVNTXTogXywgLi4uZXJyRGF0YSB9ID0gcmF3VHJlZTtcbiAgICAgIHJldHVybiBkZWNvZGVFcnJvckNvbW1vbihlcnJEYXRhLCBkZWNvZGVSZWN1cik7XG4gICAgfTtcblxuICAgIGNvbnN0IHJldml2ZUZyb21DYXBEYXRhID0gbWFrZURlY29kZUZyb21DYXBEYXRhKHtcbiAgICAgIGRlY29kZVJlbW90YWJsZUZyb21DYXBEYXRhOiBkZWNvZGVSZW1vdGFibGVPclByb21pc2VGcm9tQ2FwRGF0YSxcbiAgICAgIGRlY29kZVByb21pc2VGcm9tQ2FwRGF0YTogZGVjb2RlUmVtb3RhYmxlT3JQcm9taXNlRnJvbUNhcERhdGEsXG4gICAgICBkZWNvZGVFcnJvckZyb21DYXBEYXRhLFxuICAgIH0pO1xuXG4gICAgY29uc3QgbWFrZURlY29kZVNsb3RGcm9tU21hbGxjYXBzID0gcHJlZml4ID0+IHtcbiAgICAgIC8qXG5cblxuXG4gICAgICAgKi9cbiAgICAgIHJldHVybiAoc3RyaW5nRW5jb2RpbmcsIF9kZWNvZGVSZWN1cikgPT4ge1xuICAgICAgICBhc3NlcnQoc3RyaW5nRW5jb2RpbmcuY2hhckF0KDApID09PSBwcmVmaXgpO1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBpID0gc3RyaW5nRW5jb2RpbmcuaW5kZXhPZignLicpO1xuICAgICAgICBjb25zdCBpbmRleCA9IE51bWJlcihzdHJpbmdFbmNvZGluZy5zbGljZSgxLCBpIDwgMCA/IHVuZGVmaW5lZCA6IGkpKTtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgaWZhY2UgPSBpIDwgMCA/IHVuZGVmaW5lZCA6IHN0cmluZ0VuY29kaW5nLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgcmV0dXJuIGRlY29kZVNsb3RDb21tb24oeyBpZmFjZSwgaW5kZXggfSk7XG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZGVjb2RlUmVtb3RhYmxlRnJvbVNtYWxsY2FwcyA9IG1ha2VEZWNvZGVTbG90RnJvbVNtYWxsY2FwcygnJCcpO1xuICAgIGNvbnN0IGRlY29kZVByb21pc2VGcm9tU21hbGxjYXBzID0gbWFrZURlY29kZVNsb3RGcm9tU21hbGxjYXBzKCcmJyk7XG5cbiAgICBjb25zdCBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgPSAoZW5jb2RpbmcsIGRlY29kZVJlY3VyKSA9PiB7XG4gICAgICBjb25zdCB7ICcjZXJyb3InOiBtZXNzYWdlLCAuLi5yZXN0RXJyRGF0YSB9ID0gZW5jb2Rpbmc7XG4gICAgICAhaGFzT3duUHJvcGVydHlPZihyZXN0RXJyRGF0YSwgJ21lc3NhZ2UnKSB8fFxuICAgICAgICBGYWlsYHVuZXhwZWN0ZWQgZW5jb2RlZCBlcnJvciBwcm9wZXJ0eSAke3EoJ21lc3NhZ2UnKX1gO1xuICAgICAgcmV0dXJuIGRlY29kZUVycm9yQ29tbW9uKHsgbWVzc2FnZSwgLi4ucmVzdEVyckRhdGEgfSwgZGVjb2RlUmVjdXIpO1xuICAgIH07XG5cbiAgICBjb25zdCByZXZpdmVGcm9tU21hbGxjYXBzID0gbWFrZURlY29kZUZyb21TbWFsbGNhcHMoe1xuICAgICAgLy9cbiAgICAgIGRlY29kZVJlbW90YWJsZUZyb21TbWFsbGNhcHMsXG4gICAgICAvL1xuICAgICAgZGVjb2RlUHJvbWlzZUZyb21TbWFsbGNhcHMsXG4gICAgICBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFyZGVuKHsgcmV2aXZlRnJvbUNhcERhdGEsIHJldml2ZUZyb21TbWFsbGNhcHMgfSk7XG4gIH07XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgZnJvbUNhcERhdGEgPSBkYXRhID0+IHtcbiAgICBjb25zdCB7IGJvZHksIHNsb3RzIH0gPSBkYXRhO1xuICAgIHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJyB8fFxuICAgICAgRmFpbGB1bnNlcmlhbGl6ZSgpIGdpdmVuIG5vbi1jYXBkYXRhICguYm9keSBpcyAke2JvZHl9LCBub3Qgc3RyaW5nKWA7XG4gICAgaXNBcnJheShkYXRhLnNsb3RzKSB8fFxuICAgICAgRmFpbGB1bnNlcmlhbGl6ZSgpIGdpdmVuIG5vbi1jYXBkYXRhICguc2xvdHMgYXJlIG5vdCBBcnJheSlgO1xuICAgIGNvbnN0IHsgcmV2aXZlRnJvbUNhcERhdGEsIHJldml2ZUZyb21TbWFsbGNhcHMgfSA9IG1ha2VGdWxsUmV2aXZlKHNsb3RzKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIC8vXG4gICAgaWYgKGJvZHkuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIGNvbnN0IHNtYWxsY2Fwc0JvZHkgPSBib2R5LnNsaWNlKDEpO1xuICAgICAgY29uc3QgZW5jb2RpbmcgPSBoYXJkZW4oSlNPTi5wYXJzZShzbWFsbGNhcHNCb2R5KSk7XG4gICAgICByZXN1bHQgPSBoYXJkZW4ocmV2aXZlRnJvbVNtYWxsY2FwcyhlbmNvZGluZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYXdUcmVlID0gaGFyZGVuKEpTT04ucGFyc2UoYm9keSkpO1xuICAgICAgcmVzdWx0ID0gaGFyZGVuKHJldml2ZUZyb21DYXBEYXRhKHJhd1RyZWUpKTtcbiAgICB9XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgYXNzZXJ0UGFzc2FibGUocmVzdWx0KTtcbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgKi8gKHJlc3VsdCk7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgdG9DYXBEYXRhLFxuICAgIGZyb21DYXBEYXRhLFxuXG4gICAgLy9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIHNlcmlhbGl6ZTogdG9DYXBEYXRhLFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICB1bnNlcmlhbGl6ZTogZnJvbUNhcERhdGEsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZU1hcnNoYWwobWFrZU1hcnNoYWwpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU1hcnNoYWwiOlsibWFrZU1hcnNoYWwiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASrDVXesuAADrLgAAJQAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9yYW5rT3JkZXIuanN7ImltcG9ydHMiOlsiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL2Vycm9ycyIsIi4vZW5jb2RlUGFzc2FibGUuanMiXSwiZXhwb3J0cyI6WyJGdWxsUmFua0NvdmVyIiwiYXNzZXJ0UmFua1NvcnRlZCIsImNvbXBhcmF0b3JNaXJyb3JJbWFnZSIsImNvbXBhcmVBbnRpUmFuayIsImNvbXBhcmVSYW5rIiwiY292ZXJlZEVudHJpZXMiLCJnZXRJbmRleENvdmVyIiwiZ2V0UGFzc1N0eWxlQ292ZXIiLCJpbnRlcnNlY3RSYW5rQ292ZXJzIiwiaXNSYW5rU29ydGVkIiwibWFrZUNvbXBhcmF0b3JLaXQiLCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCIsInNvcnRCeVJhbmsiLCJ0cml2aWFsQ29tcGFyYXRvciIsInVuaW9uUmFua0NvdmVycyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldFRhZyxwYXNzU3R5bGVPZixuYW1lRm9yUGFzc2FibGVTeW1ib2wsRmFpbCxxLHBhc3NTdHlsZVByZWZpeGVzLHJlY29yZE5hbWVzLHJlY29yZFZhbHVlczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCIuL2VuY29kZVBhc3NhYmxlLmpzXCIsIFtbXCJwYXNzU3R5bGVQcmVmaXhlc1wiLFskaM2PX2EgPT4gKHBhc3NTdHlsZVByZWZpeGVzID0gJGjNj19hKV1dLFtcInJlY29yZE5hbWVzXCIsWyRozY9fYSA9PiAocmVjb3JkTmFtZXMgPSAkaM2PX2EpXV0sW1wicmVjb3JkVmFsdWVzXCIsWyRozY9fYSA9PiAocmVjb3JkVmFsdWVzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuY29uc3QgeyBlbnRyaWVzLCBmcm9tRW50cmllcywgc2V0UHJvdG90eXBlT2YsIGlzIH0gPSBPYmplY3Q7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNhbWVWYWx1ZVplcm8gPSAoeCwgeSkgPT4geCA9PT0geSB8fCBpcyh4LCB5KTtcblxuICAgICAgIGNvbnN0IHRyaXZpYWxDb21wYXJhdG9yID0gKGxlZnQsIHJpZ2h0KSA9PlxuICAvL1xuICBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPT09IHJpZ2h0ID8gMCA6IDE7XG5cbi8qXG5cbiAqLyRozY9fb25jZS50cml2aWFsQ29tcGFyYXRvcih0cml2aWFsQ29tcGFyYXRvcik7XG5cbmNvbnN0IHBhc3NTdHlsZVJhbmtzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICBmcm9tRW50cmllcyhcbiAgICBlbnRyaWVzKHBhc3NTdHlsZVByZWZpeGVzKVxuICAgICAgLy9cbiAgICAgIC5zb3J0KChbX2xlZnRTdHlsZSwgbGVmdFByZWZpeGVzXSwgW19yaWdodFN0eWxlLCByaWdodFByZWZpeGVzXSkgPT4ge1xuICAgICAgICByZXR1cm4gdHJpdmlhbENvbXBhcmF0b3IobGVmdFByZWZpeGVzLCByaWdodFByZWZpeGVzKTtcbiAgICAgIH0pXG4gICAgICAubWFwKChbcGFzc1N0eWxlLCBwcmVmaXhlc10sIGluZGV4KSA9PiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHByZWZpeGVzID09PSBbLi4ucHJlZml4ZXNdLnNvcnQoKS5qb2luKCcnKSB8fFxuICAgICAgICAgIEZhaWxgdW5zb3J0ZWQgcHJlZml4ZXMgZm9yIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX06ICR7cShwcmVmaXhlcyl9YDtcbiAgICAgICAgY29uc3QgY292ZXIgPSBbXG4gICAgICAgICAgcHJlZml4ZXMuY2hhckF0KDApLFxuICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocHJlZml4ZXMuY2hhckNvZGVBdChwcmVmaXhlcy5sZW5ndGggLSAxKSArIDEpLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gW3Bhc3NTdHlsZSwgeyBpbmRleCwgY292ZXIgfV07XG4gICAgICB9KSxcbiAgKVxuKTtcbnNldFByb3RvdHlwZU9mKHBhc3NTdHlsZVJhbmtzLCBudWxsKTtcbmhhcmRlbihwYXNzU3R5bGVSYW5rcyk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRQYXNzU3R5bGVDb3ZlciA9IHBhc3NTdHlsZSA9PiBwYXNzU3R5bGVSYW5rc1twYXNzU3R5bGVdLmNvdmVyOyRozY9fb25jZS5nZXRQYXNzU3R5bGVDb3ZlcihnZXRQYXNzU3R5bGVDb3Zlcik7XG5oYXJkZW4oZ2V0UGFzc1N0eWxlQ292ZXIpO1xuXG4vKlxuXG4gKi9cbmNvbnN0IG1lbW9PZlNvcnRlZCA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qXG5cbiAqL1xuY29uc3QgY29tcGFyYXRvck1pcnJvckltYWdlcyA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDb21wYXJhdG9yS2l0ID0gKGNvbXBhcmVSZW1vdGFibGVzID0gKF94LCBfeSkgPT4gTmFOKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNvbXBhcmF0b3IgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgICBpZiAoc2FtZVZhbHVlWmVybyhsZWZ0LCByaWdodCkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBsZWZ0U3R5bGUgPSBwYXNzU3R5bGVPZihsZWZ0KTtcbiAgICBjb25zdCByaWdodFN0eWxlID0gcGFzc1N0eWxlT2YocmlnaHQpO1xuICAgIGlmIChsZWZ0U3R5bGUgIT09IHJpZ2h0U3R5bGUpIHtcbiAgICAgIHJldHVybiB0cml2aWFsQ29tcGFyYXRvcihcbiAgICAgICAgcGFzc1N0eWxlUmFua3NbbGVmdFN0eWxlXS5pbmRleCxcbiAgICAgICAgcGFzc1N0eWxlUmFua3NbcmlnaHRTdHlsZV0uaW5kZXgsXG4gICAgICApO1xuICAgIH1cbiAgICAvKlxuXG4gICAgICovXG4gICAgc3dpdGNoIChsZWZ0U3R5bGUpIHtcbiAgICAgIGNhc2UgJ3JlbW90YWJsZSc6IHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVSZW1vdGFibGVzKGxlZnQsIHJpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICBjYXNlICdudWxsJzpcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBpZiAobGVmdCA8IHJpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2VydChsZWZ0ID4gcmlnaHQpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXNlICdzeW1ib2wnOiB7XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKFxuICAgICAgICAgIG5hbWVGb3JQYXNzYWJsZVN5bWJvbChsZWZ0KSxcbiAgICAgICAgICBuYW1lRm9yUGFzc2FibGVTeW1ib2wocmlnaHQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnbnVtYmVyJzoge1xuICAgICAgICAvL1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGxlZnQpKSB7XG4gICAgICAgICAgYXNzZXJ0KCFOdW1iZXIuaXNOYU4ocmlnaHQpKTtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4ocmlnaHQpKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGlmIChsZWZ0IDwgcmlnaHQpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0KGxlZnQgPiByaWdodCk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlSZWNvcmQnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG5cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgbGVmdE5hbWVzID0gcmVjb3JkTmFtZXMobGVmdCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0TmFtZXMgPSByZWNvcmROYW1lcyhyaWdodCk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGFyYXRvcihsZWZ0TmFtZXMsIHJpZ2h0TmFtZXMpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0VmFsdWVzID0gcmVjb3JkVmFsdWVzKGxlZnQsIGxlZnROYW1lcyk7XG4gICAgICAgIGNvbnN0IHJpZ2h0VmFsdWVzID0gcmVjb3JkVmFsdWVzKHJpZ2h0LCByaWdodE5hbWVzKTtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IobGVmdFZhbHVlcywgcmlnaHRWYWx1ZXMpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1pbihsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmF0b3IobGVmdFtpXSwgcmlnaHRbaV0pO1xuICAgICAgICAgIGlmIChyZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGxlZnQubGVuZ3RoLCByaWdodC5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBsYWJlbENvbXAgPSBjb21wYXJhdG9yKGdldFRhZyhsZWZ0KSwgZ2V0VGFnKHJpZ2h0KSk7XG4gICAgICAgIGlmIChsYWJlbENvbXAgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbGFiZWxDb21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGxlZnQucGF5bG9hZCwgcmlnaHQucGF5bG9hZCk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IEZhaWxgVW5yZWNvZ25pemVkIHBhc3NTdHlsZTogJHtxKGxlZnRTdHlsZSl9YDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogICAgICAgICAgICAgICAqL1xuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG91dGVyQ29tcGFyYXRvciA9ICh4LCB5KSA9PlxuICAgIC8vXG4gICAgLy9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChjb21wYXJhdG9yKHgsIHkpIHx8IDApO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGFudGlDb21wYXJhdG9yID0gKHgsIHkpID0+IG91dGVyQ29tcGFyYXRvcih5LCB4KTtcblxuICBtZW1vT2ZTb3J0ZWQuc2V0KG91dGVyQ29tcGFyYXRvciwgbmV3IFdlYWtTZXQoKSk7XG4gIG1lbW9PZlNvcnRlZC5zZXQoYW50aUNvbXBhcmF0b3IsIG5ldyBXZWFrU2V0KCkpO1xuICBjb21wYXJhdG9yTWlycm9ySW1hZ2VzLnNldChvdXRlckNvbXBhcmF0b3IsIGFudGlDb21wYXJhdG9yKTtcbiAgY29tcGFyYXRvck1pcnJvckltYWdlcy5zZXQoYW50aUNvbXBhcmF0b3IsIG91dGVyQ29tcGFyYXRvcik7XG5cbiAgcmV0dXJuIGhhcmRlbih7IGNvbXBhcmF0b3I6IG91dGVyQ29tcGFyYXRvciwgYW50aUNvbXBhcmF0b3IgfSk7XG59O1xuLypcblxuXG4gKi8kaM2PX29uY2UubWFrZUNvbXBhcmF0b3JLaXQobWFrZUNvbXBhcmF0b3JLaXQpO1xuICAgICAgIGNvbnN0IGNvbXBhcmF0b3JNaXJyb3JJbWFnZSA9IGNvbXBhcmF0b3IgPT5cbiAgY29tcGFyYXRvck1pcnJvckltYWdlcy5nZXQoY29tcGFyYXRvcik7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuY29tcGFyYXRvck1pcnJvckltYWdlKGNvbXBhcmF0b3JNaXJyb3JJbWFnZSk7XG4gICAgICAgY29uc3QgaXNSYW5rU29ydGVkID0gKHBhc3NhYmxlcywgY29tcGFyZSkgPT4ge1xuICBjb25zdCBzdWJNZW1vT2ZTb3J0ZWQgPSBtZW1vT2ZTb3J0ZWQuZ2V0KGNvbXBhcmUpO1xuICBhc3NlcnQoc3ViTWVtb09mU29ydGVkICE9PSB1bmRlZmluZWQpO1xuICBpZiAoc3ViTWVtb09mU29ydGVkLmhhcyhwYXNzYWJsZXMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgYXNzZXJ0KHBhc3NTdHlsZU9mKHBhc3NhYmxlcykgPT09ICdjb3B5QXJyYXknKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXNzYWJsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoY29tcGFyZShwYXNzYWJsZXNbaSAtIDFdLCBwYXNzYWJsZXNbaV0pID49IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3ViTWVtb09mU29ydGVkLmFkZChwYXNzYWJsZXMpO1xuICByZXR1cm4gdHJ1ZTtcbn07JGjNj19vbmNlLmlzUmFua1NvcnRlZChpc1JhbmtTb3J0ZWQpO1xuaGFyZGVuKGlzUmFua1NvcnRlZCk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0UmFua1NvcnRlZCA9IChzb3J0ZWQsIGNvbXBhcmUpID0+XG4gIGlzUmFua1NvcnRlZChzb3J0ZWQsIGNvbXBhcmUpIHx8XG4gIC8vXG4gIC8vXG4gIEZhaWxgTXVzdCBiZSByYW5rIHNvcnRlZDogJHtzb3J0ZWR9IHZzICR7c29ydEJ5UmFuayhzb3J0ZWQsIGNvbXBhcmUpfWA7JGjNj19vbmNlLmFzc2VydFJhbmtTb3J0ZWQoYXNzZXJ0UmFua1NvcnRlZCk7XG5oYXJkZW4oYXNzZXJ0UmFua1NvcnRlZCk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHNvcnRCeVJhbmsgPSAocGFzc2FibGVzLCBjb21wYXJlKSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhc3NhYmxlcykpIHtcbiAgICBoYXJkZW4ocGFzc2FibGVzKTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAoaXNSYW5rU29ydGVkKHBhc3NhYmxlcywgY29tcGFyZSkpIHtcbiAgICAgIHJldHVybiBwYXNzYWJsZXM7XG4gICAgfVxuICB9XG4gIGNvbnN0IHVuc29ydGVkID0gWy4uLnBhc3NhYmxlc107XG4gIHVuc29ydGVkLmZvckVhY2goaGFyZGVuKTtcbiAgY29uc3Qgc29ydGVkID0gdW5zb3J0ZWQuc29ydChjb21wYXJlKTtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgaWYgKGNvbXBhcmUodHJ1ZSwgdW5kZWZpbmVkKSA+IDApIHtcbiAgICBsZXQgaSA9IHNvcnRlZC5sZW5ndGggLSAxO1xuICAgIHdoaWxlIChpID49IDAgJiYgc29ydGVkW2ldID09PSB1bmRlZmluZWQpIGkgLT0gMTtcbiAgICBjb25zdCBuID0gc29ydGVkLmxlbmd0aCAtIGkgLSAxO1xuICAgIGlmIChuID4gMCAmJiBuIDwgc29ydGVkLmxlbmd0aCkge1xuICAgICAgc29ydGVkLmNvcHlXaXRoaW4obiwgMCk7XG4gICAgICBzb3J0ZWQuZmlsbCgvKiAgICAgICAgICAgICovICh1bmRlZmluZWQpLCAwLCBuKTtcbiAgICB9XG4gIH1cbiAgaGFyZGVuKHNvcnRlZCk7XG4gIGNvbnN0IHN1Yk1lbW9PZlNvcnRlZCA9IG1lbW9PZlNvcnRlZC5nZXQoY29tcGFyZSk7XG4gIGFzc2VydChzdWJNZW1vT2ZTb3J0ZWQgIT09IHVuZGVmaW5lZCk7XG4gIHN1Yk1lbW9PZlNvcnRlZC5hZGQoc29ydGVkKTtcbiAgcmV0dXJuIHNvcnRlZDtcbn07JGjNj19vbmNlLnNvcnRCeVJhbmsoc29ydEJ5UmFuayk7XG5oYXJkZW4oc29ydEJ5UmFuayk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCByYW5rU2VhcmNoID0gKHNvcnRlZCwgY29tcGFyZSwga2V5LCBiaWFzID0gJ2xlZnRNb3N0JykgPT4ge1xuICBhc3NlcnRSYW5rU29ydGVkKHNvcnRlZCwgY29tcGFyZSk7XG4gIGxldCBsZWZ0ID0gMDtcbiAgbGV0IHJpZ2h0ID0gc29ydGVkLmxlbmd0aDtcbiAgd2hpbGUgKGxlZnQgPCByaWdodCkge1xuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG4gICAgY29uc3QgY29tcCA9IGNvbXBhcmUoc29ydGVkW21dLCBrZXkpO1xuICAgIGlmIChjb21wIDw9IC0xIHx8IChjb21wID09PSAwICYmIGJpYXMgPT09ICdyaWdodE1vc3QnKSkge1xuICAgICAgbGVmdCA9IG0gKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoY29tcCA+PSAxIHx8IChjb21wID09PSAwICYmIGJpYXMgPT09ICdsZWZ0TW9zdCcpKTtcbiAgICAgIHJpZ2h0ID0gbTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJpYXMgPT09ICdsZWZ0TW9zdCcgPyBsZWZ0IDogcmlnaHQgLSAxO1xufTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0SW5kZXhDb3ZlciA9IChzb3J0ZWQsIGNvbXBhcmUsIFtsZWZ0S2V5LCByaWdodEtleV0pID0+IHtcbiAgYXNzZXJ0UmFua1NvcnRlZChzb3J0ZWQsIGNvbXBhcmUpO1xuICBjb25zdCBsZWZ0SW5kZXggPSByYW5rU2VhcmNoKHNvcnRlZCwgY29tcGFyZSwgbGVmdEtleSwgJ2xlZnRNb3N0Jyk7XG4gIGNvbnN0IHJpZ2h0SW5kZXggPSByYW5rU2VhcmNoKHNvcnRlZCwgY29tcGFyZSwgcmlnaHRLZXksICdyaWdodE1vc3QnKTtcbiAgcmV0dXJuIFtsZWZ0SW5kZXgsIHJpZ2h0SW5kZXhdO1xufTskaM2PX29uY2UuZ2V0SW5kZXhDb3ZlcihnZXRJbmRleENvdmVyKTtcbmhhcmRlbihnZXRJbmRleENvdmVyKTtcblxuLyogICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgRnVsbFJhbmtDb3ZlciA9IGhhcmRlbihbJycsICd7J10pO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkZ1bGxSYW5rQ292ZXIoRnVsbFJhbmtDb3Zlcik7XG4gICAgICAgY29uc3QgY292ZXJlZEVudHJpZXMgPSAoc29ydGVkLCBbbGVmdEluZGV4LCByaWdodEluZGV4XSkgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGl0ZXJhYmxlID0gaGFyZGVuKHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgbGV0IGkgPSBsZWZ0SW5kZXg7XG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChpIDw9IHJpZ2h0SW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzb3J0ZWRbaV07XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgdmFsdWU6IFtpLCBlbGVtZW50XSwgZG9uZTogZmFsc2UgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gaXRlcmFibGU7XG59OyRozY9fb25jZS5jb3ZlcmVkRW50cmllcyhjb3ZlcmVkRW50cmllcyk7XG5oYXJkZW4oY292ZXJlZEVudHJpZXMpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWF4UmFuayA9IChjb21wYXJlLCBhLCBiKSA9PiAoY29tcGFyZShhLCBiKSA+PSAwID8gYSA6IGIpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWluUmFuayA9IChjb21wYXJlLCBhLCBiKSA9PiAoY29tcGFyZShhLCBiKSA8PSAwID8gYSA6IGIpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgdW5pb25SYW5rQ292ZXJzID0gKGNvbXBhcmUsIGNvdmVycykgPT4ge1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgdW5pb25SYW5rQ292ZXJQYWlyID0gKFtsZWZ0QSwgcmlnaHRBXSwgW2xlZnRCLCByaWdodEJdKSA9PiBbXG4gICAgbWluUmFuayhjb21wYXJlLCBsZWZ0QSwgbGVmdEIpLFxuICAgIG1heFJhbmsoY29tcGFyZSwgcmlnaHRBLCByaWdodEIpLFxuICBdO1xuICByZXR1cm4gY292ZXJzLnJlZHVjZSh1bmlvblJhbmtDb3ZlclBhaXIsIFsneycsICcnXSk7XG59OyRozY9fb25jZS51bmlvblJhbmtDb3ZlcnModW5pb25SYW5rQ292ZXJzKTtcbmhhcmRlbih1bmlvblJhbmtDb3ZlcnMpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaW50ZXJzZWN0UmFua0NvdmVycyA9IChjb21wYXJlLCBjb3ZlcnMpID0+IHtcbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGludGVyc2VjdFJhbmtDb3ZlclBhaXIgPSAoW2xlZnRBLCByaWdodEFdLCBbbGVmdEIsIHJpZ2h0Ql0pID0+IFtcbiAgICBtYXhSYW5rKGNvbXBhcmUsIGxlZnRBLCBsZWZ0QiksXG4gICAgbWluUmFuayhjb21wYXJlLCByaWdodEEsIHJpZ2h0QiksXG4gIF07XG4gIHJldHVybiBjb3ZlcnMucmVkdWNlKGludGVyc2VjdFJhbmtDb3ZlclBhaXIsIFsnJywgJ3snXSk7XG59OyRozY9fb25jZS5pbnRlcnNlY3RSYW5rQ292ZXJzKGludGVyc2VjdFJhbmtDb3ZlcnMpO1xuXG4gICAgICAgY29uc3QgeyBjb21wYXJhdG9yOiBjb21wYXJlUmFuaywgYW50aUNvbXBhcmF0b3I6IGNvbXBhcmVBbnRpUmFuayB9ID1cbiAgbWFrZUNvbXBhcmF0b3JLaXQoKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5jb21wYXJlUmFuayhjb21wYXJlUmFuayk7JGjNj19vbmNlLmNvbXBhcmVBbnRpUmFuayhjb21wYXJlQW50aVJhbmspO1xuICAgICAgIGNvbnN0IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gKGxvbmdMaXZlZCA9IGZhbHNlKSA9PiB7XG4gIGxldCBudW1TZWVuID0gMDtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgTWFwQ29uc3RydWN0b3IgPSBsb25nTGl2ZWQgPyBXZWFrTWFwIDogTWFwO1xuICBjb25zdCBzZWVuID0gbmV3IE1hcENvbnN0cnVjdG9yKCk7XG4gIGNvbnN0IHRhZyA9IHIgPT4ge1xuICAgIGlmIChzZWVuLmhhcyhyKSkge1xuICAgICAgcmV0dXJuIHNlZW4uZ2V0KHIpO1xuICAgIH1cbiAgICBudW1TZWVuICs9IDE7XG4gICAgc2Vlbi5zZXQociwgbnVtU2Vlbik7XG4gICAgcmV0dXJuIG51bVNlZW47XG4gIH07XG4gIGNvbnN0IGNvbXBhcmVSZW1vdGFibGVzID0gKHgsIHkpID0+IGNvbXBhcmVSYW5rKHRhZyh4KSwgdGFnKHkpKTtcbiAgcmV0dXJuIG1ha2VDb21wYXJhdG9yS2l0KGNvbXBhcmVSZW1vdGFibGVzKTtcbn07JGjNj19vbmNlLm1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KTtcbmhhcmRlbihtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0cml2aWFsQ29tcGFyYXRvciI6WyJ0cml2aWFsQ29tcGFyYXRvciJdLCJnZXRQYXNzU3R5bGVDb3ZlciI6WyJnZXRQYXNzU3R5bGVDb3ZlciJdLCJtYWtlQ29tcGFyYXRvcktpdCI6WyJtYWtlQ29tcGFyYXRvcktpdCJdLCJjb21wYXJhdG9yTWlycm9ySW1hZ2UiOlsiY29tcGFyYXRvck1pcnJvckltYWdlIl0sImlzUmFua1NvcnRlZCI6WyJpc1JhbmtTb3J0ZWQiXSwiYXNzZXJ0UmFua1NvcnRlZCI6WyJhc3NlcnRSYW5rU29ydGVkIl0sInNvcnRCeVJhbmsiOlsic29ydEJ5UmFuayJdLCJnZXRJbmRleENvdmVyIjpbImdldEluZGV4Q292ZXIiXSwiRnVsbFJhbmtDb3ZlciI6WyJGdWxsUmFua0NvdmVyIl0sImNvdmVyZWRFbnRyaWVzIjpbImNvdmVyZWRFbnRyaWVzIl0sInVuaW9uUmFua0NvdmVycyI6WyJ1bmlvblJhbmtDb3ZlcnMiXSwiaW50ZXJzZWN0UmFua0NvdmVycyI6WyJpbnRlcnNlY3RSYW5rQ292ZXJzIl0sImNvbXBhcmVSYW5rIjpbImNvbXBhcmVSYW5rIl0sImNvbXBhcmVBbnRpUmFuayI6WyJjb21wYXJlQW50aVJhbmsiXSwibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQiOlsibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAIQAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABenLPKzAUAAMwFAAAdAAAAQGVuZG8vbmF0LXY1LjEuMC9zcmMvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIk5hdCIsImlzTmF0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpc05hdCwnbmFtZScse3ZhbHVlOlwiaXNOYXRcIn0pOyRozY9fb25jZS5pc05hdChpc05hdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5hdCwnbmFtZScse3ZhbHVlOlwiTmF0XCJ9KTskaM2PX29uY2UuTmF0KE5hdCk7Ly9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmZ1bmN0aW9uIGlzTmF0KGFsbGVnZWROdW0pIHtcbiAgaWYgKHR5cGVvZiBhbGxlZ2VkTnVtID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiBhbGxlZ2VkTnVtID49IDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBhbGxlZ2VkTnVtICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBOdW1iZXIuaXNTYWZlSW50ZWdlcihhbGxlZ2VkTnVtKSAmJiBhbGxlZ2VkTnVtID49IDA7XG59XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5mdW5jdGlvbiBOYXQoYWxsZWdlZE51bSkge1xuICBpZiAodHlwZW9mIGFsbGVnZWROdW0gPT09ICdiaWdpbnQnKSB7XG4gICAgaWYgKGFsbGVnZWROdW0gPCAwbikge1xuICAgICAgdGhyb3cgUmFuZ2VFcnJvcihgJHthbGxlZ2VkTnVtfSBpcyBuZWdhdGl2ZWApO1xuICAgIH1cbiAgICByZXR1cm4gYWxsZWdlZE51bTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWxsZWdlZE51bSA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGFsbGVnZWROdW0pKSB7XG4gICAgICB0aHJvdyBSYW5nZUVycm9yKGAke2FsbGVnZWROdW19IGlzIG5vdCBhIHNhZmUgaW50ZWdlcmApO1xuICAgIH1cbiAgICBpZiAoYWxsZWdlZE51bSA8IDApIHtcbiAgICAgIHRocm93IFJhbmdlRXJyb3IoYCR7YWxsZWdlZE51bX0gaXMgbmVnYXRpdmVgKTtcbiAgICB9XG4gICAgcmV0dXJuIEJpZ0ludChhbGxlZ2VkTnVtKTtcbiAgfVxuXG4gIHRocm93IFR5cGVFcnJvcihcbiAgICBgJHthbGxlZ2VkTnVtfSBpcyBhICR7dHlwZW9mIGFsbGVnZWROdW19IGJ1dCBtdXN0IGJlIGEgYmlnaW50IG9yIGEgbnVtYmVyYCxcbiAgKTtcbn1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzTmF0IjpbImlzTmF0Il0sIk5hdCI6WyJOYXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAAvR2ak0KAABNCgAAIAAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vc3JjL2l0ZXItaGVscGVycy5qcyIsIi4vc3JjL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIiwiLi9zcmMvZXJyb3IuanMiLCIuL3NyYy9yZW1vdGFibGUuanMiLCIuL3NyYy9zeW1ib2wuanMiLCIuL3NyYy9zdHJpbmcuanMiLCIuL3NyYy9wYXNzU3R5bGVPZi5qcyIsIi4vc3JjL21ha2VUYWdnZWQuanMiLCIuL3NyYy9tYWtlLWZhci5qcyIsIi4vc3JjL3R5cGVHdWFyZHMuanMiLCIuL3NyYy9kZWVwbHlGdWxmaWxsZWQuanMiLCIuL3NyYy90eXBlcy5qcyJdLCJleHBvcnRzIjpbIkZhciIsIkZhciIsImFzc2VydENvcHlBcnJheSIsImFzc2VydENvcHlBcnJheSIsImFzc2VydFdlbGxGb3JtZWRTdHJpbmciLCJhc3NlcnRXZWxsRm9ybWVkU3RyaW5nIiwiZmlsdGVySXRlcmFibGUiLCJmaWx0ZXJJdGVyYWJsZSIsImlzRXJyb3JMaWtlIiwiaXNFcnJvckxpa2UiLCJpc09iamVjdCIsImlzT2JqZWN0IiwiaXNQYXNzYWJsZSIsImlzUGFzc2FibGUiLCJpc1Bhc3NhYmxlU3ltYm9sIiwiaXNQYXNzYWJsZVN5bWJvbCIsbnVsbCxudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL2RlZXBseUZ1bGZpbGxlZC5qcyIsIi4vc3JjL3R5cGVzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2l0ZXItaGVscGVycy5qc1wiLCBbXV0sW1wiLi9zcmMvcGFzc1N0eWxlLWhlbHBlcnMuanNcIiwgW11dLFtcIi4vc3JjL2Vycm9yLmpzXCIsIFtdXSxbXCIuL3NyYy9yZW1vdGFibGUuanNcIiwgW11dLFtcIi4vc3JjL3N5bWJvbC5qc1wiLCBbXV0sW1wiLi9zcmMvc3RyaW5nLmpzXCIsIFtdXSxbXCIuL3NyYy9wYXNzU3R5bGVPZi5qc1wiLCBbXV0sW1wiLi9zcmMvbWFrZVRhZ2dlZC5qc1wiLCBbXV0sW1wiLi9zcmMvbWFrZS1mYXIuanNcIiwgW11dLFtcIi4vc3JjL3R5cGVHdWFyZHMuanNcIiwgW11dLFtcIi4vc3JjL2RlZXBseUZ1bGZpbGxlZC5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9pdGVyLWhlbHBlcnMuanMiOltbIm1hcEl0ZXJhYmxlIiwibWFwSXRlcmFibGUiXSxbImZpbHRlckl0ZXJhYmxlIiwiZmlsdGVySXRlcmFibGUiXV0sIi4vc3JjL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIjpbWyJQQVNTX1NUWUxFIiwiUEFTU19TVFlMRSJdLFsiaXNPYmplY3QiLCJpc09iamVjdCJdLFsiYXNzZXJ0Q2hlY2tlciIsImFzc2VydENoZWNrZXIiXSxbImdldFRhZyIsImdldFRhZyJdLFsiaGFzT3duUHJvcGVydHlPZiIsImhhc093blByb3BlcnR5T2YiXV0sIi4vc3JjL2Vycm9yLmpzIjpbWyJnZXRFcnJvckNvbnN0cnVjdG9yIiwiZ2V0RXJyb3JDb25zdHJ1Y3RvciJdLFsiaXNFcnJvckxpa2UiLCJpc0Vycm9yTGlrZSJdXSwiLi9zcmMvcmVtb3RhYmxlLmpzIjpbWyJnZXRJbnRlcmZhY2VPZiIsImdldEludGVyZmFjZU9mIl1dLCIuL3NyYy9zeW1ib2wuanMiOltbImFzc2VydFBhc3NhYmxlU3ltYm9sIiwiYXNzZXJ0UGFzc2FibGVTeW1ib2wiXSxbImlzUGFzc2FibGVTeW1ib2wiLCJpc1Bhc3NhYmxlU3ltYm9sIl0sWyJuYW1lRm9yUGFzc2FibGVTeW1ib2wiLCJuYW1lRm9yUGFzc2FibGVTeW1ib2wiXSxbInBhc3NhYmxlU3ltYm9sRm9yTmFtZSIsInBhc3NhYmxlU3ltYm9sRm9yTmFtZSJdXSwiLi9zcmMvc3RyaW5nLmpzIjpbWyJpc1dlbGxGb3JtZWRTdHJpbmciLCJpc1dlbGxGb3JtZWRTdHJpbmciXSxbImFzc2VydFdlbGxGb3JtZWRTdHJpbmciLCJhc3NlcnRXZWxsRm9ybWVkU3RyaW5nIl0sWyJhc3NlcnRQYXNzYWJsZVN0cmluZyIsImFzc2VydFBhc3NhYmxlU3RyaW5nIl1dLCIuL3NyYy9wYXNzU3R5bGVPZi5qcyI6W1sicGFzc1N0eWxlT2YiLCJwYXNzU3R5bGVPZiJdLFsiaXNQYXNzYWJsZSIsImlzUGFzc2FibGUiXSxbImFzc2VydFBhc3NhYmxlIiwiYXNzZXJ0UGFzc2FibGUiXSxbInRvUGFzc2FibGVFcnJvciIsInRvUGFzc2FibGVFcnJvciJdLFsidG9UaHJvd2FibGUiLCJ0b1Rocm93YWJsZSJdXSwiLi9zcmMvbWFrZVRhZ2dlZC5qcyI6W1sibWFrZVRhZ2dlZCIsIm1ha2VUYWdnZWQiXV0sIi4vc3JjL21ha2UtZmFyLmpzIjpbWyJSZW1vdGFibGUiLCJSZW1vdGFibGUiXSxbIkZhciIsIkZhciJdLFsiVG9GYXJGdW5jdGlvbiIsIlRvRmFyRnVuY3Rpb24iXSxbIkdFVF9NRVRIT0RfTkFNRVMiLCJHRVRfTUVUSE9EX05BTUVTIl1dLCIuL3NyYy90eXBlR3VhcmRzLmpzIjpbWyJhc3NlcnRSZWNvcmQiLCJhc3NlcnRSZWNvcmQiXSxbImFzc2VydENvcHlBcnJheSIsImFzc2VydENvcHlBcnJheSJdLFsiYXNzZXJ0UmVtb3RhYmxlIiwiYXNzZXJ0UmVtb3RhYmxlIl0sWyJpc1JlbW90YWJsZSIsImlzUmVtb3RhYmxlIl0sWyJpc1JlY29yZCIsImlzUmVjb3JkIl0sWyJpc0NvcHlBcnJheSIsImlzQ29weUFycmF5Il1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADD7/ZFvAYAALwGAAAoAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2NvcHlBcnJheS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIl0sImV4cG9ydHMiOlsiQ29weUFycmF5SGVscGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgWCxhc3NlcnRDaGVja2VyLGdldE93bkRhdGFEZXNjcmlwdG9yOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXV1dLFtcIi4vcGFzc1N0eWxlLWhlbHBlcnMuanNcIiwgW1tcImFzc2VydENoZWNrZXJcIixbJGjNj19hID0+IChhc3NlcnRDaGVja2VyID0gJGjNj19hKV1dLFtcImdldE93bkRhdGFEZXNjcmlwdG9yXCIsWyRozY9fYSA9PiAoZ2V0T3duRGF0YURlc2NyaXB0b3IgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5jb25zdCB7IGdldFByb3RvdHlwZU9mIH0gPSBPYmplY3Q7XG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGlzQXJyYXksIHByb3RvdHlwZTogYXJyYXlQcm90b3R5cGUgfSA9IEFycmF5O1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IENvcHlBcnJheUhlbHBlciA9IGhhcmRlbih7XG4gIHN0eWxlTmFtZTogJ2NvcHlBcnJheScsXG5cbiAgY2FuQmVWYWxpZDogKGNhbmRpZGF0ZSwgY2hlY2sgPSB1bmRlZmluZWQpID0+XG4gICAgaXNBcnJheShjYW5kaWRhdGUpIHx8XG4gICAgKCEhY2hlY2sgJiYgY2hlY2soZmFsc2UsIFhgQXJyYXkgZXhwZWN0ZWQ6ICR7Y2FuZGlkYXRlfWApKSxcblxuICBhc3NlcnRSZXN0VmFsaWQ6IChjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIpID0+IHtcbiAgICBnZXRQcm90b3R5cGVPZihjYW5kaWRhdGUpID09PSBhcnJheVByb3RvdHlwZSB8fFxuICAgICAgYXNzZXJ0LmZhaWwoWGBNYWxmb3JtZWQgYXJyYXk6ICR7Y2FuZGlkYXRlfWAsIFR5cGVFcnJvcik7XG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IGxlbiA9IC8qICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICBnZXRPd25EYXRhRGVzY3JpcHRvcihjYW5kaWRhdGUsICdsZW5ndGgnLCBmYWxzZSwgYXNzZXJ0Q2hlY2tlcikudmFsdWVcbiAgICApO1xuICAgIC8vXG4gICAgLy9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBwYXNzU3R5bGVPZlJlY3VyKFxuICAgICAgICBnZXRPd25EYXRhRGVzY3JpcHRvcihjYW5kaWRhdGUsIGksIHRydWUsIGFzc2VydENoZWNrZXIpLnZhbHVlLFxuICAgICAgKTtcbiAgICB9XG4gICAgLy9cbiAgICBvd25LZXlzKGNhbmRpZGF0ZSkubGVuZ3RoID09PSBsZW4gKyAxIHx8XG4gICAgICBhc3NlcnQuZmFpbChYYEFycmF5cyBtdXN0IG5vdCBoYXZlIG5vbi1pbmRleGVzOiAke2NhbmRpZGF0ZX1gLCBUeXBlRXJyb3IpO1xuICB9LFxufSk7JGjNj19vbmNlLkNvcHlBcnJheUhlbHBlcihDb3B5QXJyYXlIZWxwZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQ29weUFycmF5SGVscGVyIjpbIkNvcHlBcnJheUhlbHBlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAQgUTA9ggAAPYIAAApAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2NvcHlSZWNvcmQuanN7ImltcG9ydHMiOlsiLi9wYXNzU3R5bGUtaGVscGVycy5qcyJdLCJleHBvcnRzIjpbIkNvcHlSZWNvcmRIZWxwZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRDaGVja2VyLGNhbkJlTWV0aG9kLGdldE93bkRhdGFEZXNjcmlwdG9yLENYOyRozY9faW1wb3J0cyhbW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiY2FuQmVNZXRob2RcIixbJGjNj19hID0+IChjYW5CZU1ldGhvZCA9ICRozY9fYSldXSxbXCJnZXRPd25EYXRhRGVzY3JpcHRvclwiLFskaM2PX2EgPT4gKGdldE93bkRhdGFEZXNjcmlwdG9yID0gJGjNj19hKV1dLFtcIkNYXCIsWyRozY9fYSA9PiAoQ1ggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGdldFByb3RvdHlwZU9mLCBwcm90b3R5cGU6IG9iamVjdFByb3RvdHlwZSB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgY2hlY2tPYmplY3RQcm90b3R5cGUgPSAoY2FuZGlkYXRlLCBjaGVjayA9IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGdldFByb3RvdHlwZU9mKGNhbmRpZGF0ZSkgPT09IG9iamVjdFByb3RvdHlwZSB8fFxuICAgICghIWNoZWNrICYmXG4gICAgICBDWChjaGVjaylgUmVjb3JkcyBtdXN0IGluaGVyaXQgZnJvbSBPYmplY3QucHJvdG90eXBlOiAke2NhbmRpZGF0ZX1gKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovXG5jb25zdCBjaGVja1Byb3BlcnR5Q2FuQmVWYWxpZCA9IChjYW5kaWRhdGUsIGtleSwgdmFsdWUsIGNoZWNrID0gdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiAoXG4gICAgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICBDWChcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgKWBSZWNvcmRzIGNhbiBvbmx5IGhhdmUgc3RyaW5nLW5hbWVkIHByb3BlcnRpZXM6ICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgICghY2FuQmVNZXRob2QodmFsdWUpIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICAvL1xuICAgICAgICBDWChcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgKWBSZWNvcmRzIGNhbm5vdCBjb250YWluIG5vbi1mYXIgZnVuY3Rpb25zIGJlY2F1c2UgdGhleSBtYXkgYmUgbWV0aG9kcyBvZiBhbiBpbXBsaWNpdCBSZW1vdGFibGU6ICR7Y2FuZGlkYXRlfWApKVxuICApO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBDb3B5UmVjb3JkSGVscGVyID0gaGFyZGVuKHtcbiAgc3R5bGVOYW1lOiAnY29weVJlY29yZCcsXG5cbiAgY2FuQmVWYWxpZDogKGNhbmRpZGF0ZSwgY2hlY2sgPSB1bmRlZmluZWQpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgY2hlY2tPYmplY3RQcm90b3R5cGUoY2FuZGlkYXRlLCBjaGVjaykgJiZcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgb3duS2V5cyhjYW5kaWRhdGUpLmV2ZXJ5KGtleSA9PlxuICAgICAgICBjaGVja1Byb3BlcnR5Q2FuQmVWYWxpZChjYW5kaWRhdGUsIGtleSwgY2FuZGlkYXRlW2tleV0sIGNoZWNrKSxcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIGFzc2VydFJlc3RWYWxpZDogKGNhbmRpZGF0ZSwgcGFzc1N0eWxlT2ZSZWN1cikgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBvd25LZXlzKGNhbmRpZGF0ZSkpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGdldE93bkRhdGFEZXNjcmlwdG9yKFxuICAgICAgICBjYW5kaWRhdGUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGFzc2VydENoZWNrZXIsXG4gICAgICApO1xuICAgICAgcGFzc1N0eWxlT2ZSZWN1cih2YWx1ZSk7XG4gICAgfVxuICB9LFxufSk7JGjNj19vbmNlLkNvcHlSZWNvcmRIZWxwZXIoQ29weVJlY29yZEhlbHBlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJDb3B5UmVjb3JkSGVscGVyIjpbIkNvcHlSZWNvcmRIZWxwZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwjfJp54LAACeCwAALgAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9kZWVwbHlGdWxmaWxsZWQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Byb21pc2Uta2l0IiwiLi9wYXNzU3R5bGUtaGVscGVycy5qcyIsIi4vcGFzc1N0eWxlT2YuanMiLCIuL21ha2VUYWdnZWQuanMiXSwiZXhwb3J0cyI6WyJkZWVwbHlGdWxmaWxsZWQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBYLHEsRSxpc1Byb21pc2UsZ2V0VGFnLGlzT2JqZWN0LHBhc3NTdHlsZU9mLG1ha2VUYWdnZWQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wiaXNQcm9taXNlXCIsWyRozY9fYSA9PiAoaXNQcm9taXNlID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiZ2V0VGFnXCIsWyRozY9fYSA9PiAoZ2V0VGFnID0gJGjNj19hKV1dLFtcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZU9mLmpzXCIsIFtbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dXV0sW1wiLi9tYWtlVGFnZ2VkLmpzXCIsIFtbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgeyBvd25LZXlzIH0gPSBSZWZsZWN0O1xuY29uc3QgeyBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWVwbHlGdWxmaWxsZWQgPSBhc3luYyB2YWwgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuXG4gIGlmICghaXNPYmplY3QodmFsKSkge1xuICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh2YWwpO1xuICB9XG4gIGlmIChpc1Byb21pc2UodmFsKSkge1xuICAgIHJldHVybiBFLndoZW4odmFsLCBub25wID0+IGRlZXBseUZ1bGZpbGxlZChub25wKSk7XG4gIH1cbiAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YodmFsKTtcbiAgc3dpdGNoIChwYXNzU3R5bGUpIHtcbiAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgY29uc3QgcmVjID0gLyogICAgICAgICAgICAgICAgICAgICAqLyAodmFsKTtcbiAgICAgIGNvbnN0IG5hbWVzID0gLyogICAgICAgICAgICAgICAgICAgKi8gKG93bktleXMocmVjKSk7XG4gICAgICBjb25zdCB2YWxQcyA9IG5hbWVzLm1hcChuYW1lID0+IGRlZXBseUZ1bGZpbGxlZChyZWNbbmFtZV0pKTtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gRS53aGVuKFByb21pc2UuYWxsKHZhbFBzKSwgdmFscyA9PlxuICAgICAgICBoYXJkZW4oZnJvbUVudHJpZXModmFscy5tYXAoKGMsIGkpID0+IFtuYW1lc1tpXSwgY10pKSksXG4gICAgICApO1xuICAgIH1cbiAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICBjb25zdCBhcnIgPSAvKiAgICAgICAgICAgICAgICAgICAgKi8gKHZhbCk7XG4gICAgICBjb25zdCB2YWxQcyA9IGFyci5tYXAocCA9PiBkZWVwbHlGdWxmaWxsZWQocCkpO1xuICAgICAgLy9cbiAgICAgIHJldHVybiBFLndoZW4oUHJvbWlzZS5hbGwodmFsUHMpLCB2YWxzID0+IGhhcmRlbih2YWxzKSk7XG4gICAgfVxuICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgIGNvbnN0IHRnZCA9IC8qICAgICAgICAgICAgICAgICAgICAgKi8gKHZhbCk7XG4gICAgICBjb25zdCB0YWcgPSBnZXRUYWcodGdkKTtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gRS53aGVuKGRlZXBseUZ1bGZpbGxlZCh0Z2QucGF5bG9hZCksIHBheWxvYWQgPT5cbiAgICAgICAgbWFrZVRhZ2dlZCh0YWcsIHBheWxvYWQpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgY29uc3QgcmVtID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICovICh2YWwpO1xuICAgICAgLy9cbiAgICAgIHJldHVybiByZW07XG4gICAgfVxuICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgY29uc3QgZXJyID0gLyogICAgICAgICAgICAgICAgKi8gKHZhbCk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgIGNvbnN0IHByb20gPSAvKiAgICAgICAgICAgICAgICAgICovICgvKiAgICAgICAgICAgICAgICAgICovICh2YWwpKTtcbiAgICAgIHJldHVybiBFLndoZW4ocHJvbSwgbm9ucCA9PiBkZWVwbHlGdWxmaWxsZWQobm9ucCkpO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBhc3NlcnQuZmFpbChYYFVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShwYXNzU3R5bGUpfWAsIFR5cGVFcnJvcik7XG4gICAgfVxuICB9XG59OyRozY9fb25jZS5kZWVwbHlGdWxmaWxsZWQoZGVlcGx5RnVsZmlsbGVkKTtcbmhhcmRlbihkZWVwbHlGdWxmaWxsZWQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVlcGx5RnVsZmlsbGVkIjpbImRlZXBseUZ1bGZpbGxlZCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAXVwIi0xQAANMUAAAkAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2Vycm9yLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiXSwiZXhwb3J0cyI6WyJFcnJvckhlbHBlciIsImNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yIiwiY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MiLCJnZXRFcnJvckNvbnN0cnVjdG9yIiwiaXNFcnJvckxpa2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxLGFzc2VydENoZWNrZXIsQ1g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiQ1hcIixbJGjNj19hID0+IChDWCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBnZXRQcm90b3R5cGVPZiwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgaGFzT3duLCBlbnRyaWVzIH0gPSBPYmplY3Q7XG5cbi8vXG4vL1xuY29uc3QgZXJyb3JDb25zdHJ1Y3RvcnMgPSBuZXcgTWFwKFxuICAvL1xuICAvL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgKFtcbiAgICBbJ0Vycm9yJywgRXJyb3JdLFxuICAgIFsnRXZhbEVycm9yJywgRXZhbEVycm9yXSxcbiAgICBbJ1JhbmdlRXJyb3InLCBSYW5nZUVycm9yXSxcbiAgICBbJ1JlZmVyZW5jZUVycm9yJywgUmVmZXJlbmNlRXJyb3JdLFxuICAgIFsnU3ludGF4RXJyb3InLCBTeW50YXhFcnJvcl0sXG4gICAgWydUeXBlRXJyb3InLCBUeXBlRXJyb3JdLFxuICAgIFsnVVJJRXJyb3InLCBVUklFcnJvcl1cblxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gIF0pLFxuKTtcblxuaWYgKHR5cGVvZiBBZ2dyZWdhdGVFcnJvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy9cbiAgZXJyb3JDb25zdHJ1Y3RvcnMuc2V0KCdBZ2dyZWdhdGVFcnJvcicsIEFnZ3JlZ2F0ZUVycm9yKTtcbn1cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRFcnJvckNvbnN0cnVjdG9yID0gbmFtZSA9PiBlcnJvckNvbnN0cnVjdG9ycy5nZXQobmFtZSk7JGjNj19vbmNlLmdldEVycm9yQ29uc3RydWN0b3IoZ2V0RXJyb3JDb25zdHJ1Y3Rvcik7XG5oYXJkZW4oZ2V0RXJyb3JDb25zdHJ1Y3Rvcik7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrRXJyb3JMaWtlID0gKGNhbmRpZGF0ZSwgY2hlY2sgPSB1bmRlZmluZWQpID0+IHtcbiAgLy9cbiAgcmV0dXJuIChcbiAgICBjYW5kaWRhdGUgaW5zdGFuY2VvZiBFcnJvciB8fFxuICAgICghIWNoZWNrICYmIENYKGNoZWNrKWBFcnJvciBleHBlY3RlZDogJHtjYW5kaWRhdGV9YClcbiAgKTtcbn07XG5oYXJkZW4oY2hlY2tFcnJvckxpa2UpO1xuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNFcnJvckxpa2UgPSBjYW5kaWRhdGUgPT4gY2hlY2tFcnJvckxpa2UoY2FuZGlkYXRlKTskaM2PX29uY2UuaXNFcnJvckxpa2UoaXNFcnJvckxpa2UpO1xuaGFyZGVuKGlzRXJyb3JMaWtlKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyA9IChcbiAgcHJvcE5hbWUsXG4gIGRlc2MsXG4gIHBhc3NTdHlsZU9mUmVjdXIsXG4gIGNoZWNrID0gdW5kZWZpbmVkLFxuKSA9PiB7XG4gIGlmIChkZXNjLmVudW1lcmFibGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgISFjaGVjayAmJlxuICAgICAgQ1goY2hlY2spYFBhc3NhYmxlIEVycm9yICR7cShcbiAgICAgICAgcHJvcE5hbWUsXG4gICAgICApfSBvd24gcHJvcGVydHkgbXVzdCBub3QgYmUgZW51bWVyYWJsZTogJHtkZXNjfWBcbiAgICApO1xuICB9XG4gIGlmICghaGFzT3duKGRlc2MsICd2YWx1ZScpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhY2hlY2sgJiZcbiAgICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciAke3EoXG4gICAgICAgIHByb3BOYW1lLFxuICAgICAgKX0gb3duIHByb3BlcnR5IG11c3QgYmUgYSBkYXRhIHByb3BlcnR5OiAke2Rlc2N9YFxuICAgICk7XG4gIH1cbiAgY29uc3QgeyB2YWx1ZSB9ID0gZGVzYztcbiAgc3dpdGNoIChwcm9wTmFtZSkge1xuICAgIGNhc2UgJ21lc3NhZ2UnOlxuICAgIGNhc2UgJ3N0YWNrJzoge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciAke3EoXG4gICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICApfSBvd24gcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZzogJHt2YWx1ZX1gKVxuICAgICAgKTtcbiAgICB9XG4gICAgY2FzZSAnY2F1c2UnOiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKHZhbHVlLCBwYXNzU3R5bGVPZlJlY3VyLCBjaGVjayk7XG4gICAgfVxuICAgIGNhc2UgJ2Vycm9ycyc6IHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgcGFzc1N0eWxlT2ZSZWN1cih2YWx1ZSkgIT09ICdjb3B5QXJyYXknKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgISFjaGVjayAmJlxuICAgICAgICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciAke3EoXG4gICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICApfSBvd24gcHJvcGVydHkgbXVzdCBiZSBhIGNvcHlBcnJheTogJHt2YWx1ZX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUuZXZlcnkoZXJyID0+XG4gICAgICAgIC8vXG4gICAgICAgIGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKGVyciwgcGFzc1N0eWxlT2ZSZWN1ciwgY2hlY2spLFxuICAgICAgKTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiAoXG4gICAgISFjaGVjayAmJlxuICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciBoYXMgZXh0cmEgdW5wYXNzZWQgcHJvcGVydHkgJHtxKHByb3BOYW1lKX1gXG4gICk7XG59OyRozY9fb25jZS5jaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyhjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyk7XG5oYXJkZW4oY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciA9IChcbiAgY2FuZGlkYXRlLFxuICBwYXNzU3R5bGVPZlJlY3VyLFxuICBjaGVjayA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBpZiAoIWNoZWNrRXJyb3JMaWtlKGNhbmRpZGF0ZSwgY2hlY2spKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHByb3RvID0gZ2V0UHJvdG90eXBlT2YoY2FuZGlkYXRlKTtcbiAgY29uc3QgeyBuYW1lIH0gPSBwcm90bztcbiAgY29uc3QgZXJyQ29uc3RydWN0b3IgPSBnZXRFcnJvckNvbnN0cnVjdG9yKG5hbWUpO1xuICBpZiAoZXJyQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCB8fCBlcnJDb25zdHJ1Y3Rvci5wcm90b3R5cGUgIT09IHByb3RvKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhY2hlY2sgJiZcbiAgICAgIENYKFxuICAgICAgICBjaGVjayxcbiAgICAgIClgUGFzc2FibGUgRXJyb3IgbXVzdCBpbmhlcml0IGZyb20gYW4gZXJyb3IgY2xhc3MgLnByb3RvdHlwZTogJHtjYW5kaWRhdGV9YFxuICAgICk7XG4gIH1cbiAgY29uc3QgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGNhbmRpZGF0ZSk7XG4gIGlmICghKCdtZXNzYWdlJyBpbiBkZXNjcykpIHtcbiAgICByZXR1cm4gKFxuICAgICAgISFjaGVjayAmJlxuICAgICAgQ1goXG4gICAgICAgIGNoZWNrLFxuICAgICAgKWBQYXNzYWJsZSBFcnJvciBtdXN0IGhhdmUgYW4gb3duIFwibWVzc2FnZVwiIHN0cmluZyBwcm9wZXJ0eTogJHtjYW5kaWRhdGV9YFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZW50cmllcyhkZXNjcykuZXZlcnkoKFtwcm9wTmFtZSwgZGVzY10pID0+XG4gICAgY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MoXG4gICAgICBwcm9wTmFtZSxcbiAgICAgIGRlc2MsXG4gICAgICBwYXNzU3R5bGVPZlJlY3VyLFxuICAgICAgY2hlY2ssXG4gICAgKSxcbiAgKTtcbn07JGjNj19vbmNlLmNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKTtcbmhhcmRlbihjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvcik7XG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IEVycm9ySGVscGVyID0gaGFyZGVuKHtcbiAgc3R5bGVOYW1lOiAnZXJyb3InLFxuXG4gIGNhbkJlVmFsaWQ6IGNoZWNrRXJyb3JMaWtlLFxuXG4gIGFzc2VydFJlc3RWYWxpZDogKGNhbmRpZGF0ZSwgcGFzc1N0eWxlT2ZSZWN1cikgPT5cbiAgICBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvcihjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIsIGFzc2VydENoZWNrZXIpLFxufSk7JGjNj19vbmNlLkVycm9ySGVscGVyKEVycm9ySGVscGVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImdldEVycm9yQ29uc3RydWN0b3IiOlsiZ2V0RXJyb3JDb25zdHJ1Y3RvciJdLCJpc0Vycm9yTGlrZSI6WyJpc0Vycm9yTGlrZSJdLCJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyI6WyJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyJdLCJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciI6WyJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciJdLCJFcnJvckhlbHBlciI6WyJFcnJvckhlbHBlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADTopB8pAYAAKQGAAArAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2l0ZXItaGVscGVycy5qc3siaW1wb3J0cyI6WyIuL21ha2UtZmFyLmpzIl0sImV4cG9ydHMiOlsiZmlsdGVySXRlcmFibGUiLCJtYXBJdGVyYWJsZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhcjskaM2PX2ltcG9ydHMoW1tcIi4vbWFrZS1mYXIuanNcIiwgW1tcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYXBJdGVyYWJsZSA9IChiYXNlSXRlcmFibGUsIGZ1bmMpID0+XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIEZhcignbWFwcGVkIGl0ZXJhYmxlJywge1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiB7XG4gICAgICBjb25zdCBiYXNlSXRlcmF0b3IgPSBiYXNlSXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgcmV0dXJuIEZhcignbWFwcGVkIGl0ZXJhdG9yJywge1xuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB2YWx1ZTogYmFzZVZhbHVlLCBkb25lIH0gPSBiYXNlSXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG9uZSA/IGJhc2VWYWx1ZSA6IGZ1bmMoYmFzZVZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgdmFsdWUsIGRvbmUgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTskaM2PX29uY2UubWFwSXRlcmFibGUobWFwSXRlcmFibGUpO1xuaGFyZGVuKG1hcEl0ZXJhYmxlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGZpbHRlckl0ZXJhYmxlID0gKGJhc2VJdGVyYWJsZSwgcHJlZCkgPT5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgRmFyKCdmaWx0ZXJlZCBpdGVyYWJsZScsIHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgY29uc3QgYmFzZUl0ZXJhdG9yID0gYmFzZUl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIHJldHVybiBGYXIoJ2ZpbHRlcmVkIGl0ZXJhdG9yJywge1xuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYmFzZUl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChkb25lIHx8IHByZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7JGjNj19vbmNlLmZpbHRlckl0ZXJhYmxlKGZpbHRlckl0ZXJhYmxlKTtcbmhhcmRlbihmaWx0ZXJJdGVyYWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYXBJdGVyYWJsZSI6WyJtYXBJdGVyYWJsZSJdLCJmaWx0ZXJJdGVyYWJsZSI6WyJmaWx0ZXJJdGVyYWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABieHiJ2RIAANkSAAAnAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL21ha2UtZmFyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiLCJAZW5kby9lcnJvcnMiLCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIiwiLi9yZW1vdGFibGUuanMiXSwiZXhwb3J0cyI6WyJGYXIiLCJHRVRfTUVUSE9EX05BTUVTIiwiUmVtb3RhYmxlIiwiVG9GYXJGdW5jdGlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldE1ldGhvZE5hbWVzLHEsRmFpbCxhc3NlcnRDaGVja2VyLFBBU1NfU1RZTEUsYXNzZXJ0SWZhY2UsZ2V0SW50ZXJmYWNlT2YsUmVtb3RhYmxlSGVscGVyOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qc1wiLCBbW1wiZ2V0TWV0aG9kTmFtZXNcIixbJGjNj19hID0+IChnZXRNZXRob2ROYW1lcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJQQVNTX1NUWUxFXCIsWyRozY9fYSA9PiAoUEFTU19TVFlMRSA9ICRozY9fYSldXV1dLFtcIi4vcmVtb3RhYmxlLmpzXCIsIFtbXCJhc3NlcnRJZmFjZVwiLFskaM2PX2EgPT4gKGFzc2VydElmYWNlID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZU9mXCIsWyRozY9fYSA9PiAoZ2V0SW50ZXJmYWNlT2YgPSAkaM2PX2EpXV0sW1wiUmVtb3RhYmxlSGVscGVyXCIsWyRozY9fYSA9PiAoUmVtb3RhYmxlSGVscGVyID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgcHJvdG90eXBlOiBmdW5jdGlvblByb3RvdHlwZSB9ID0gRnVuY3Rpb247XG5jb25zdCB7XG4gIGdldFByb3RvdHlwZU9mLFxuICBzZXRQcm90b3R5cGVPZixcbiAgY3JlYXRlLFxuICBpc0Zyb3plbixcbiAgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUsXG59ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VSZW1vdGFibGVQcm90byA9IChyZW1vdGFibGUsIGlmYWNlKSA9PiB7XG4gIGxldCBvbGRQcm90byA9IGdldFByb3RvdHlwZU9mKHJlbW90YWJsZSk7XG4gIGlmICh0eXBlb2YgcmVtb3RhYmxlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChvbGRQcm90byA9PT0gbnVsbCkge1xuICAgICAgb2xkUHJvdG8gPSBvYmplY3RQcm90b3R5cGU7XG4gICAgfVxuICAgIG9sZFByb3RvID09PSBvYmplY3RQcm90b3R5cGUgfHxcbiAgICAgIEZhaWxgRm9yIG5vdywgcmVtb3RhYmxlcyBjYW5ub3QgaW5oZXJpdCBmcm9tIGFueXRoaW5nIHVudXN1YWwsIGluICR7cmVtb3RhYmxlfWA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlbW90YWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9sZFByb3RvICE9PSBudWxsIHx8XG4gICAgICBGYWlsYE9yaWdpbmFsIGZ1bmN0aW9uIG11c3Qgbm90IGluaGVyaXQgZnJvbSBudWxsOiAke3JlbW90YWJsZX1gO1xuICAgIG9sZFByb3RvID09PSBmdW5jdGlvblByb3RvdHlwZSB8fFxuICAgICAgZ2V0UHJvdG90eXBlT2Yob2xkUHJvdG8pID09PSBmdW5jdGlvblByb3RvdHlwZSB8fFxuICAgICAgRmFpbGBGYXIgZnVuY3Rpb25zIG11c3Qgb3JpZ2luYWxseSBpbmhlcml0IGZyb20gRnVuY3Rpb24ucHJvdG90eXBlLCBpbiAke3JlbW90YWJsZX1gO1xuICB9IGVsc2Uge1xuICAgIEZhaWxgdW5yZWNvZ25pemVkIHR5cGVvZiAke3JlbW90YWJsZX1gO1xuICB9XG4gIHJldHVybiBoYXJkZW4oXG4gICAgY3JlYXRlKG9sZFByb3RvLCB7XG4gICAgICBbUEFTU19TVFlMRV06IHsgdmFsdWU6ICdyZW1vdGFibGUnIH0sXG4gICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogeyB2YWx1ZTogaWZhY2UgfSxcbiAgICB9KSxcbiAgKTtcbn07XG5cbmNvbnN0IGFzc2VydENhbkJlUmVtb3RhYmxlID0gY2FuZGlkYXRlID0+XG4gIFJlbW90YWJsZUhlbHBlci5jYW5CZVZhbGlkKGNhbmRpZGF0ZSwgYXNzZXJ0Q2hlY2tlcik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBSZW1vdGFibGUgPSAoXG4gIC8vXG4gIGlmYWNlID0gJ1JlbW90YWJsZScsXG4gIHByb3BzID0gdW5kZWZpbmVkLFxuICByZW1vdGFibGUgPSAvKiAgICAgICAgICAgICovICh7fSksXG4pID0+IHtcbiAgYXNzZXJ0SWZhY2UoaWZhY2UpO1xuICBhc3NlcnQoaWZhY2UpO1xuICAvL1xuICAvL1xuICBwcm9wcyA9PT0gdW5kZWZpbmVkIHx8IEZhaWxgUmVtb3RhYmxlIHByb3BzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgJHtwcm9wc31gO1xuXG4gIC8vXG4gIGFzc2VydENhbkJlUmVtb3RhYmxlKHJlbW90YWJsZSk7XG5cbiAgLy9cbiAgIShQQVNTX1NUWUxFIGluIHJlbW90YWJsZSkgfHxcbiAgICBGYWlsYFJlbW90YWJsZSAke3JlbW90YWJsZX0gaXMgYWxyZWFkeSBtYXJrZWQgYXMgYSAke3EoXG4gICAgICByZW1vdGFibGVbUEFTU19TVFlMRV0sXG4gICAgKX1gO1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBoYXJkZW4uaXNGYWtlIHx8XG4gICAgLy9cbiAgICAhaXNGcm96ZW4ocmVtb3RhYmxlKSB8fFxuICAgIEZhaWxgUmVtb3RhYmxlICR7cmVtb3RhYmxlfSBpcyBhbHJlYWR5IGZyb3plbmA7XG4gIGNvbnN0IHJlbW90YWJsZVByb3RvID0gbWFrZVJlbW90YWJsZVByb3RvKHJlbW90YWJsZSwgaWZhY2UpO1xuXG4gIC8vXG4gIC8vXG4gIGNvbnN0IG11dGF0ZUhhcmRlbkFuZENoZWNrID0gdGFyZ2V0ID0+IHtcbiAgICAvL1xuICAgIHNldFByb3RvdHlwZU9mKHRhcmdldCwgcmVtb3RhYmxlUHJvdG8pO1xuICAgIGhhcmRlbih0YXJnZXQpO1xuICAgIGFzc2VydENhbkJlUmVtb3RhYmxlKHRhcmdldCk7XG4gIH07XG5cbiAgLy9cbiAgbXV0YXRlSGFyZGVuQW5kQ2hlY2soe30pO1xuXG4gIC8vXG4gIG11dGF0ZUhhcmRlbkFuZENoZWNrKHJlbW90YWJsZSk7XG5cbiAgLy9cbiAgLy9cbiAgYXNzZXJ0KGlmYWNlICE9PSB1bmRlZmluZWQpOyAvL1xuICByZXR1cm4gLyogICAgICAgICAgICAgICovIChyZW1vdGFibGUpO1xufTskaM2PX29uY2UuUmVtb3RhYmxlKFJlbW90YWJsZSk7XG5oYXJkZW4oUmVtb3RhYmxlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IEdFVF9NRVRIT0RfTkFNRVMgPSAnX19nZXRNZXRob2ROYW1lc19fJztcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLkdFVF9NRVRIT0RfTkFNRVMoR0VUX01FVEhPRF9OQU1FUyk7XG5jb25zdCBnZXRNZXRob2ROYW1lc01ldGhvZCA9IGhhcmRlbih7XG4gIFtHRVRfTUVUSE9EX05BTUVTXSgpIHtcbiAgICByZXR1cm4gZ2V0TWV0aG9kTmFtZXModGhpcyk7XG4gIH0sXG59KVtHRVRfTUVUSE9EX05BTUVTXTtcblxuY29uc3QgZ2V0TWV0aG9kTmFtZXNEZXNjcmlwdG9yID0gaGFyZGVuKHtcbiAgdmFsdWU6IGdldE1ldGhvZE5hbWVzTWV0aG9kLFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgd3JpdGFibGU6IGZhbHNlLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBGYXIgPSAoZmFyTmFtZSwgcmVtb3RhYmxlID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IHIgPSByZW1vdGFibGUgPT09IHVuZGVmaW5lZCA/IC8qICAgICAgICAgICAgKi8gKHt9KSA6IHJlbW90YWJsZTtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0JyAmJiAhKEdFVF9NRVRIT0RfTkFNRVMgaW4gcikpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBHRVRfTUVUSE9EX05BTUVTLCBnZXRNZXRob2ROYW1lc0Rlc2NyaXB0b3IpO1xuICB9XG4gIHJldHVybiBSZW1vdGFibGUoYEFsbGVnZWQ6ICR7ZmFyTmFtZX1gLCB1bmRlZmluZWQsIHIpO1xufTskaM2PX29uY2UuRmFyKEZhcik7XG5oYXJkZW4oRmFyKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IFRvRmFyRnVuY3Rpb24gPSAoZmFyTmFtZSwgZnVuYykgPT4ge1xuICBpZiAoZ2V0SW50ZXJmYWNlT2YoZnVuYykgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vXG4gICAgcmV0dXJuIGZ1bmM7XG4gIH1cbiAgLy9cbiAgcmV0dXJuIEZhcihmYXJOYW1lLCAoLi4uYXJncykgPT4gZnVuYyguLi5hcmdzKSk7XG59OyRozY9fb25jZS5Ub0ZhckZ1bmN0aW9uKFRvRmFyRnVuY3Rpb24pO1xuaGFyZGVuKFRvRmFyRnVuY3Rpb24pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUmVtb3RhYmxlIjpbIlJlbW90YWJsZSJdLCJHRVRfTUVUSE9EX05BTUVTIjpbIkdFVF9NRVRIT0RfTkFNRVMiXSwiRmFyIjpbIkZhciJdLCJUb0ZhckZ1bmN0aW9uIjpbIlRvRmFyRnVuY3Rpb24iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAATcGI09wEAADcBAAAKQAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9tYWtlVGFnZ2VkLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiLCIuL3Bhc3NTdHlsZU9mLmpzIl0sImV4cG9ydHMiOlsibWFrZVRhZ2dlZCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsUEFTU19TVFlMRSxhc3NlcnRQYXNzYWJsZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJQQVNTX1NUWUxFXCIsWyRozY9fYSA9PiAoUEFTU19TVFlMRSA9ICRozY9fYSldXV1dLFtcIi4vcGFzc1N0eWxlT2YuanNcIiwgW1tcImFzc2VydFBhc3NhYmxlXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGFzc2FibGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG5jb25zdCB7IGNyZWF0ZSwgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUgfSA9IE9iamVjdDtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlVGFnZ2VkID0gKHRhZywgcGF5bG9hZCkgPT4ge1xuICB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyB8fFxuICAgIEZhaWxgVGhlIHRhZyBvZiBhIHRhZ2dlZCByZWNvcmQgbXVzdCBiZSBhIHN0cmluZzogJHt0YWd9YDtcbiAgYXNzZXJ0UGFzc2FibGUoaGFyZGVuKHBheWxvYWQpKTtcbiAgcmV0dXJuIGhhcmRlbihcbiAgICBjcmVhdGUob2JqZWN0UHJvdG90eXBlLCB7XG4gICAgICBbUEFTU19TVFlMRV06IHsgdmFsdWU6ICd0YWdnZWQnIH0sXG4gICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogeyB2YWx1ZTogdGFnIH0sXG4gICAgICBwYXlsb2FkOiB7IHZhbHVlOiBwYXlsb2FkLCBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gICAgfSksXG4gICk7XG59OyRozY9fb25jZS5tYWtlVGFnZ2VkKG1ha2VUYWdnZWQpO1xuaGFyZGVuKG1ha2VUYWdnZWQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVRhZ2dlZCI6WyJtYWtlVGFnZ2VkIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHBEXISiFwAAohcAADAAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvcGFzc1N0eWxlLWhlbHBlcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiQ1giLCJQQVNTX1NUWUxFIiwiYXNzZXJ0Q2hlY2tlciIsImNhbkJlTWV0aG9kIiwiY2hlY2tGdW5jdGlvblRhZ1JlY29yZCIsImNoZWNrUGFzc1N0eWxlIiwiY2hlY2tUYWdSZWNvcmQiLCJnZXRPd25EYXRhRGVzY3JpcHRvciIsImdldFRhZyIsImhhc093blByb3BlcnR5T2YiLCJpc09iamVjdCIsImlzVHlwZWRBcnJheSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbmNvbnN0IHsgcHJvdG90eXBlOiBmdW5jdGlvblByb3RvdHlwZSB9ID0gRnVuY3Rpb247XG5jb25zdCB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgZ2V0UHJvdG90eXBlT2YsXG4gIGhhc093blByb3BlcnR5OiBvYmplY3RIYXNPd25Qcm9wZXJ0eSxcbiAgaXNGcm96ZW4sXG4gIHByb3RvdHlwZTogb2JqZWN0UHJvdG90eXBlLFxufSA9IE9iamVjdDtcbmNvbnN0IHsgYXBwbHkgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IHRvU3RyaW5nVGFnOiB0b1N0cmluZ1RhZ1N5bWJvbCB9ID0gU3ltYm9sO1xuXG5jb25zdCB0eXBlZEFycmF5UHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheS5wcm90b3R5cGUpO1xuY29uc3QgdHlwZWRBcnJheVRvU3RyaW5nVGFnRGVzYyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgdHlwZWRBcnJheVByb3RvdHlwZSxcbiAgdG9TdHJpbmdUYWdTeW1ib2wsXG4pO1xuYXNzZXJ0KHR5cGVkQXJyYXlUb1N0cmluZ1RhZ0Rlc2MpO1xuY29uc3QgZ2V0VHlwZWRBcnJheVRvU3RyaW5nVGFnID0gdHlwZWRBcnJheVRvU3RyaW5nVGFnRGVzYy5nZXQ7XG5hc3NlcnQodHlwZW9mIGdldFR5cGVkQXJyYXlUb1N0cmluZ1RhZyA9PT0gJ2Z1bmN0aW9uJyk7XG5cbiAgICAgICBjb25zdCBoYXNPd25Qcm9wZXJ0eU9mID0gKG9iaiwgcHJvcCkgPT5cbiAgYXBwbHkob2JqZWN0SGFzT3duUHJvcGVydHksIG9iaiwgW3Byb3BdKTskaM2PX29uY2UuaGFzT3duUHJvcGVydHlPZihoYXNPd25Qcm9wZXJ0eU9mKTtcbmhhcmRlbihoYXNPd25Qcm9wZXJ0eU9mKTtcblxuLy9cbiAgICAgICBjb25zdCBpc09iamVjdCA9IHZhbCA9PiBPYmplY3QodmFsKSA9PT0gdmFsOyRozY9fb25jZS5pc09iamVjdChpc09iamVjdCk7XG5oYXJkZW4oaXNPYmplY3QpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNUeXBlZEFycmF5ID0gb2JqZWN0ID0+IHtcbiAgLy9cbiAgY29uc3QgdGFnID0gYXBwbHkoZ2V0VHlwZWRBcnJheVRvU3RyaW5nVGFnLCBvYmplY3QsIFtdKTtcbiAgcmV0dXJuIHRhZyAhPT0gdW5kZWZpbmVkO1xufTskaM2PX29uY2UuaXNUeXBlZEFycmF5KGlzVHlwZWRBcnJheSk7XG5oYXJkZW4oaXNUeXBlZEFycmF5KTtcblxuICAgICAgIGNvbnN0IFBBU1NfU1RZTEUgPSBTeW1ib2wuZm9yKCdwYXNzU3R5bGUnKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuUEFTU19TVFlMRShQQVNTX1NUWUxFKTtcbiAgICAgICBjb25zdCBjYW5CZU1ldGhvZCA9IGZ1bmMgPT5cbiAgdHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicgJiYgIShQQVNTX1NUWUxFIGluIGZ1bmMpOyRozY9fb25jZS5jYW5CZU1ldGhvZChjYW5CZU1ldGhvZCk7XG5oYXJkZW4oY2FuQmVNZXRob2QpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0Q2hlY2tlciA9IChjb25kLCBkZXRhaWxzKSA9PiB7XG4gIGFzc2VydChjb25kLCBkZXRhaWxzKTtcbiAgcmV0dXJuIHRydWU7XG59OyRozY9fb25jZS5hc3NlcnRDaGVja2VyKGFzc2VydENoZWNrZXIpO1xuaGFyZGVuKGFzc2VydENoZWNrZXIpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBDWCA9IGNoZWNrID0+IHtcbiAgY29uc3QgcmVqZWN0ID0gKFQsIC4uLnN1YnMpID0+IGNoZWNrKGZhbHNlLCBYKFQsIC4uLnN1YnMpKTtcbiAgcmV0dXJuIHJlamVjdDtcbn07JGjNj19vbmNlLkNYKENYKTtcbmhhcmRlbihDWCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0T3duRGF0YURlc2NyaXB0b3IgPSAoXG4gIGNhbmRpZGF0ZSxcbiAgcHJvcE5hbWUsXG4gIHNob3VsZEJlRW51bWVyYWJsZSxcbiAgY2hlY2ssXG4pID0+IHtcbiAgY29uc3QgZGVzYyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNhbmRpZGF0ZSwgcHJvcE5hbWUpXG4gICk7XG4gIHJldHVybiAoZGVzYyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgKCEhY2hlY2sgJiYgQ1goY2hlY2spYCR7cShwcm9wTmFtZSl9IHByb3BlcnR5IGV4cGVjdGVkOiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAoaGFzT3duUHJvcGVydHlPZihkZXNjLCAndmFsdWUnKSB8fFxuICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgQ1goXG4gICAgICAgICAgY2hlY2ssXG4gICAgICAgIClgJHtxKHByb3BOYW1lKX0gbXVzdCBub3QgYmUgYW4gYWNjZXNzb3IgcHJvcGVydHk6ICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgIChzaG91bGRCZUVudW1lcmFibGVcbiAgICAgID8gZGVzYy5lbnVtZXJhYmxlIHx8XG4gICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgQ1goXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApYCR7cShwcm9wTmFtZSl9IG11c3QgYmUgYW4gZW51bWVyYWJsZSBwcm9wZXJ0eTogJHtjYW5kaWRhdGV9YClcbiAgICAgIDogIWRlc2MuZW51bWVyYWJsZSB8fFxuICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgIENYKFxuICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgKWAke3EocHJvcE5hbWUpfSBtdXN0IG5vdCBiZSBhbiBlbnVtZXJhYmxlIHByb3BlcnR5OiAke2NhbmRpZGF0ZX1gKSlcbiAgICA/IGRlc2NcbiAgICA6IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoLyogICAgICAgICAgICAgICAgICAqLyAodW5kZWZpbmVkKSk7XG59OyRozY9fb25jZS5nZXRPd25EYXRhRGVzY3JpcHRvcihnZXRPd25EYXRhRGVzY3JpcHRvcik7XG5oYXJkZW4oZ2V0T3duRGF0YURlc2NyaXB0b3IpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0VGFnID0gdGFnUmVjb3JkID0+IHRhZ1JlY29yZFtTeW1ib2wudG9TdHJpbmdUYWddOyRozY9fb25jZS5nZXRUYWcoZ2V0VGFnKTtcbmhhcmRlbihnZXRUYWcpO1xuXG4gICAgICAgY29uc3QgY2hlY2tQYXNzU3R5bGUgPSAob2JqLCBwYXNzU3R5bGUsIGV4cGVjdGVkUGFzc1N0eWxlLCBjaGVjaykgPT4ge1xuICByZXR1cm4gKFxuICAgIHBhc3NTdHlsZSA9PT0gZXhwZWN0ZWRQYXNzU3R5bGUgfHxcbiAgICAoISFjaGVjayAmJlxuICAgICAgQ1goY2hlY2spYEV4cGVjdGVkICR7cShleHBlY3RlZFBhc3NTdHlsZSl9LCBub3QgJHtxKHBhc3NTdHlsZSl9OiAke29ian1gKVxuICApO1xufTskaM2PX29uY2UuY2hlY2tQYXNzU3R5bGUoY2hlY2tQYXNzU3R5bGUpO1xuaGFyZGVuKGNoZWNrUGFzc1N0eWxlKTtcblxuY29uc3QgbWFrZUNoZWNrVGFnUmVjb3JkID0gY2hlY2tQcm90byA9PiB7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGNoZWNrVGFnUmVjb3JkID0gKHRhZ1JlY29yZCwgZXhwZWN0ZWRQYXNzU3R5bGUsIGNoZWNrKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIChpc09iamVjdCh0YWdSZWNvcmQpIHx8XG4gICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgQ1goY2hlY2spYEEgbm9uLW9iamVjdCBjYW5ub3QgYmUgYSB0YWdSZWNvcmQ6ICR7dGFnUmVjb3JkfWApKSAmJlxuICAgICAgKGlzRnJvemVuKHRhZ1JlY29yZCkgfHxcbiAgICAgICAgKCEhY2hlY2sgJiYgQ1goY2hlY2spYEEgdGFnUmVjb3JkIG11c3QgYmUgZnJvemVuOiAke3RhZ1JlY29yZH1gKSkgJiZcbiAgICAgICghaXNBcnJheSh0YWdSZWNvcmQpIHx8XG4gICAgICAgICghIWNoZWNrICYmIENYKGNoZWNrKWBBbiBhcnJheSBjYW5ub3QgYmUgYSB0YWdSZWNvcmQ6ICR7dGFnUmVjb3JkfWApKSAmJlxuICAgICAgY2hlY2tQYXNzU3R5bGUoXG4gICAgICAgIHRhZ1JlY29yZCxcbiAgICAgICAgZ2V0T3duRGF0YURlc2NyaXB0b3IodGFnUmVjb3JkLCBQQVNTX1NUWUxFLCBmYWxzZSwgY2hlY2spLnZhbHVlLFxuICAgICAgICBleHBlY3RlZFBhc3NTdHlsZSxcbiAgICAgICAgY2hlY2ssXG4gICAgICApICYmXG4gICAgICAodHlwZW9mIGdldE93bkRhdGFEZXNjcmlwdG9yKHRhZ1JlY29yZCwgU3ltYm9sLnRvU3RyaW5nVGFnLCBmYWxzZSwgY2hlY2spXG4gICAgICAgIC52YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICBDWChcbiAgICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgIClgQSBbU3ltYm9sLnRvU3RyaW5nVGFnXS1uYW1lZCBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nOiAke3RhZ1JlY29yZH1gKSkgJiZcbiAgICAgIGNoZWNrUHJvdG8odGFnUmVjb3JkLCBnZXRQcm90b3R5cGVPZih0YWdSZWNvcmQpLCBjaGVjaylcbiAgICApO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKGNoZWNrVGFnUmVjb3JkKTtcbn07XG5cbiAgICAgICBjb25zdCBjaGVja1RhZ1JlY29yZCA9IG1ha2VDaGVja1RhZ1JlY29yZChcbiAgKHZhbCwgcHJvdG8sIGNoZWNrKSA9PlxuICAgIHByb3RvID09PSBvYmplY3RQcm90b3R5cGUgfHxcbiAgICAoISFjaGVjayAmJlxuICAgICAgY2hlY2soZmFsc2UsIFhgQSB0YWdSZWNvcmQgbXVzdCBpbmhlcml0IGZyb20gT2JqZWN0LnByb3RvdHlwZTogJHt2YWx9YCkpLFxuKTskaM2PX29uY2UuY2hlY2tUYWdSZWNvcmQoY2hlY2tUYWdSZWNvcmQpO1xuaGFyZGVuKGNoZWNrVGFnUmVjb3JkKTtcblxuICAgICAgIGNvbnN0IGNoZWNrRnVuY3Rpb25UYWdSZWNvcmQgPSBtYWtlQ2hlY2tUYWdSZWNvcmQoXG4gICh2YWwsIHByb3RvLCBjaGVjaykgPT5cbiAgICBwcm90byA9PT0gZnVuY3Rpb25Qcm90b3R5cGUgfHxcbiAgICAocHJvdG8gIT09IG51bGwgJiYgZ2V0UHJvdG90eXBlT2YocHJvdG8pID09PSBmdW5jdGlvblByb3RvdHlwZSkgfHxcbiAgICAoISFjaGVjayAmJlxuICAgICAgY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYEZvciBmdW5jdGlvbnMsIGEgdGFnUmVjb3JkIG11c3QgaW5oZXJpdCBmcm9tIEZ1bmN0aW9uLnByb3RvdHlwZTogJHt2YWx9YCxcbiAgICAgICkpLFxuKTskaM2PX29uY2UuY2hlY2tGdW5jdGlvblRhZ1JlY29yZChjaGVja0Z1bmN0aW9uVGFnUmVjb3JkKTtcbmhhcmRlbihjaGVja0Z1bmN0aW9uVGFnUmVjb3JkKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Imhhc093blByb3BlcnR5T2YiOlsiaGFzT3duUHJvcGVydHlPZiJdLCJpc09iamVjdCI6WyJpc09iamVjdCJdLCJpc1R5cGVkQXJyYXkiOlsiaXNUeXBlZEFycmF5Il0sIlBBU1NfU1RZTEUiOlsiUEFTU19TVFlMRSJdLCJjYW5CZU1ldGhvZCI6WyJjYW5CZU1ldGhvZCJdLCJhc3NlcnRDaGVja2VyIjpbImFzc2VydENoZWNrZXIiXSwiQ1giOlsiQ1giXSwiZ2V0T3duRGF0YURlc2NyaXB0b3IiOlsiZ2V0T3duRGF0YURlc2NyaXB0b3IiXSwiZ2V0VGFnIjpbImdldFRhZyJdLCJjaGVja1Bhc3NTdHlsZSI6WyJjaGVja1Bhc3NTdHlsZSJdLCJjaGVja1RhZ1JlY29yZCI6WyJjaGVja1RhZ1JlY29yZCJdLCJjaGVja0Z1bmN0aW9uVGFnUmVjb3JkIjpbImNoZWNrRnVuY3Rpb25UYWdSZWNvcmQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAADJ1trdMrAADTKwAAKgAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9wYXNzU3R5bGVPZi5qc3siaW1wb3J0cyI6WyJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiLCIuL2NvcHlBcnJheS5qcyIsIi4vY29weVJlY29yZC5qcyIsIi4vdGFnZ2VkLmpzIiwiLi9lcnJvci5qcyIsIi4vcmVtb3RhYmxlLmpzIiwiLi9zeW1ib2wuanMiLCIuL3NhZmUtcHJvbWlzZS5qcyIsIi4vc3RyaW5nLmpzIl0sImV4cG9ydHMiOlsiUGFzc1N0eWxlT2ZFbmRvd21lbnRTeW1ib2wiLCJhc3NlcnRQYXNzYWJsZSIsImlzUGFzc2FibGUiLCJwYXNzU3R5bGVPZiIsInRvUGFzc2FibGVFcnJvciIsInRvVGhyb3dhYmxlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaXNQcm9taXNlLFgsRmFpbCxxLGFubm90YXRlRXJyb3IsbWFrZUVycm9yLGlzT2JqZWN0LGlzVHlwZWRBcnJheSxQQVNTX1NUWUxFLGFzc2VydENoZWNrZXIsQ29weUFycmF5SGVscGVyLENvcHlSZWNvcmRIZWxwZXIsVGFnZ2VkSGVscGVyLEVycm9ySGVscGVyLGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yUHJvcGVydHlEZXNjLGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yLGdldEVycm9yQ29uc3RydWN0b3IsaXNFcnJvckxpa2UsUmVtb3RhYmxlSGVscGVyLGFzc2VydFBhc3NhYmxlU3ltYm9sLGFzc2VydFNhZmVQcm9taXNlLGFzc2VydFBhc3NhYmxlU3RyaW5nOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcImlzUHJvbWlzZVwiLFskaM2PX2EgPT4gKGlzUHJvbWlzZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJpc1R5cGVkQXJyYXlcIixbJGjNj19hID0+IChpc1R5cGVkQXJyYXkgPSAkaM2PX2EpXV0sW1wiUEFTU19TVFlMRVwiLFskaM2PX2EgPT4gKFBBU1NfU1RZTEUgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV1dXSxbXCIuL2NvcHlBcnJheS5qc1wiLCBbW1wiQ29weUFycmF5SGVscGVyXCIsWyRozY9fYSA9PiAoQ29weUFycmF5SGVscGVyID0gJGjNj19hKV1dXV0sW1wiLi9jb3B5UmVjb3JkLmpzXCIsIFtbXCJDb3B5UmVjb3JkSGVscGVyXCIsWyRozY9fYSA9PiAoQ29weVJlY29yZEhlbHBlciA9ICRozY9fYSldXV1dLFtcIi4vdGFnZ2VkLmpzXCIsIFtbXCJUYWdnZWRIZWxwZXJcIixbJGjNj19hID0+IChUYWdnZWRIZWxwZXIgPSAkaM2PX2EpXV1dXSxbXCIuL2Vycm9yLmpzXCIsIFtbXCJFcnJvckhlbHBlclwiLFskaM2PX2EgPT4gKEVycm9ySGVscGVyID0gJGjNj19hKV1dLFtcImNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yUHJvcGVydHlEZXNjXCIsWyRozY9fYSA9PiAoY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MgPSAkaM2PX2EpXV0sW1wiY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JcIixbJGjNj19hID0+IChjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciA9ICRozY9fYSldXSxbXCJnZXRFcnJvckNvbnN0cnVjdG9yXCIsWyRozY9fYSA9PiAoZ2V0RXJyb3JDb25zdHJ1Y3RvciA9ICRozY9fYSldXSxbXCJpc0Vycm9yTGlrZVwiLFskaM2PX2EgPT4gKGlzRXJyb3JMaWtlID0gJGjNj19hKV1dXV0sW1wiLi9yZW1vdGFibGUuanNcIiwgW1tcIlJlbW90YWJsZUhlbHBlclwiLFskaM2PX2EgPT4gKFJlbW90YWJsZUhlbHBlciA9ICRozY9fYSldXV1dLFtcIi4vc3ltYm9sLmpzXCIsIFtbXCJhc3NlcnRQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlU3ltYm9sID0gJGjNj19hKV1dXV0sW1wiLi9zYWZlLXByb21pc2UuanNcIiwgW1tcImFzc2VydFNhZmVQcm9taXNlXCIsWyRozY9fYSA9PiAoYXNzZXJ0U2FmZVByb21pc2UgPSAkaM2PX2EpXV1dXSxbXCIuL3N0cmluZy5qc1wiLCBbW1wiYXNzZXJ0UGFzc2FibGVTdHJpbmdcIixbJGjNj19hID0+IChhc3NlcnRQYXNzYWJsZVN0cmluZyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgaXNGcm96ZW4sIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIHZhbHVlcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuXG5jb25zdCBtYWtlSGVscGVyVGFibGUgPSBwYXNzU3R5bGVIZWxwZXJzID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IEhlbHBlclRhYmxlID0ge1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBjb3B5QXJyYXk6IHVuZGVmaW5lZCxcbiAgICBjb3B5UmVjb3JkOiB1bmRlZmluZWQsXG4gICAgdGFnZ2VkOiB1bmRlZmluZWQsXG4gICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICByZW1vdGFibGU6IHVuZGVmaW5lZCxcbiAgfTtcbiAgZm9yIChjb25zdCBoZWxwZXIgb2YgcGFzc1N0eWxlSGVscGVycykge1xuICAgIGNvbnN0IHsgc3R5bGVOYW1lIH0gPSBoZWxwZXI7XG4gICAgc3R5bGVOYW1lIGluIEhlbHBlclRhYmxlIHx8IEZhaWxgVW5yZWNvZ25pemVkIGhlbHBlcjogJHtxKHN0eWxlTmFtZSl9YDtcbiAgICBIZWxwZXJUYWJsZVtzdHlsZU5hbWVdID09PSB1bmRlZmluZWQgfHxcbiAgICAgIEZhaWxgY29uZmxpY3RpbmcgaGVscGVycyBmb3IgJHtxKHN0eWxlTmFtZSl9YDtcbiAgICBIZWxwZXJUYWJsZVtzdHlsZU5hbWVdID0gaGVscGVyO1xuICB9XG4gIGZvciAoY29uc3Qgc3R5bGVOYW1lIG9mIG93bktleXMoSGVscGVyVGFibGUpKSB7XG4gICAgSGVscGVyVGFibGVbc3R5bGVOYW1lXSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBGYWlsYG1pc3NpbmcgaGVscGVyIGZvciAke3Eoc3R5bGVOYW1lKX1gO1xuICB9XG5cbiAgcmV0dXJuIGhhcmRlbihIZWxwZXJUYWJsZSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgYXNzZXJ0VmFsaWQgPSAoaGVscGVyLCBjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIpID0+IHtcbiAgaGVscGVyLmNhbkJlVmFsaWQoY2FuZGlkYXRlLCBhc3NlcnRDaGVja2VyKTtcbiAgaGVscGVyLmFzc2VydFJlc3RWYWxpZChjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VQYXNzU3R5bGVPZiA9IHBhc3NTdHlsZUhlbHBlcnMgPT4ge1xuICBjb25zdCBIZWxwZXJUYWJsZSA9IG1ha2VIZWxwZXJUYWJsZShwYXNzU3R5bGVIZWxwZXJzKTtcbiAgY29uc3QgcmVtb3RhYmxlSGVscGVyID0gSGVscGVyVGFibGUucmVtb3RhYmxlO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgcGFzc1N0eWxlTWVtbyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLypcblxuICAgKi9cbiAgLy9cbiAgY29uc3QgcGFzc1N0eWxlT2YgPSBwYXNzYWJsZSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgY29uc3QgaW5Qcm9ncmVzcyA9IG5ldyBTZXQoKTtcblxuICAgIGNvbnN0IHBhc3NTdHlsZU9mUmVjdXIgPSBpbm5lciA9PiB7XG4gICAgICBjb25zdCBpbm5lcklzT2JqZWN0ID0gaXNPYmplY3QoaW5uZXIpO1xuICAgICAgaWYgKGlubmVySXNPYmplY3QpIHtcbiAgICAgICAgY29uc3QgaW5uZXJTdHlsZSA9IHBhc3NTdHlsZU1lbW8uZ2V0KGlubmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3R5bGUpIHtcbiAgICAgICAgICByZXR1cm4gaW5uZXJTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICAhaW5Qcm9ncmVzcy5oYXMoaW5uZXIpIHx8XG4gICAgICAgICAgRmFpbGBQYXNzLWJ5LWNvcHkgZGF0YSBjYW5ub3QgYmUgY3ljbGljICR7aW5uZXJ9YDtcbiAgICAgICAgaW5Qcm9ncmVzcy5hZGQoaW5uZXIpO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mSW50ZXJuYWwoaW5uZXIpO1xuICAgICAgaWYgKGlubmVySXNPYmplY3QpIHtcbiAgICAgICAgcGFzc1N0eWxlTWVtby5zZXQoaW5uZXIsIHBhc3NTdHlsZSk7XG4gICAgICAgIGluUHJvZ3Jlc3MuZGVsZXRlKGlubmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXNzU3R5bGU7XG4gICAgfTtcblxuICAgIGNvbnN0IHBhc3NTdHlsZU9mSW50ZXJuYWwgPSBpbm5lciA9PiB7XG4gICAgICBjb25zdCB0eXBlc3RyID0gdHlwZW9mIGlubmVyO1xuICAgICAgc3dpdGNoICh0eXBlc3RyKSB7XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVzdHI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgICAgIGFzc2VydFBhc3NhYmxlU3RyaW5nKGlubmVyKTtcbiAgICAgICAgICByZXR1cm4gJ3N0cmluZyc7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICAgIGFzc2VydFBhc3NhYmxlU3ltYm9sKGlubmVyKTtcbiAgICAgICAgICByZXR1cm4gJ3N5bWJvbCc7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgICAgIGlmIChpbm5lciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc0Zyb3plbihpbm5lcikpIHtcbiAgICAgICAgICAgIGFzc2VydC5mYWlsKFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBpc1R5cGVkQXJyYXkoaW5uZXIpXG4gICAgICAgICAgICAgICAgPyBYYENhbm5vdCBwYXNzIG11dGFibGUgdHlwZWQgYXJyYXlzIGxpa2UgJHtpbm5lcn0uYFxuICAgICAgICAgICAgICAgIDogWGBDYW5ub3QgcGFzcyBub24tZnJvemVuIG9iamVjdHMgbGlrZSAke2lubmVyfS4gVXNlIGhhcmRlbigpYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1Byb21pc2UoaW5uZXIpKSB7XG4gICAgICAgICAgICBhc3NlcnRTYWZlUHJvbWlzZShpbm5lcik7XG4gICAgICAgICAgICByZXR1cm4gJ3Byb21pc2UnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0eXBlb2YgaW5uZXIudGhlbiAhPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgRmFpbGBDYW5ub3QgcGFzcyBub24tcHJvbWlzZSB0aGVuYWJsZXNgO1xuICAgICAgICAgIGNvbnN0IHBhc3NTdHlsZVRhZyA9IGlubmVyW1BBU1NfU1RZTEVdO1xuICAgICAgICAgIGlmIChwYXNzU3R5bGVUYWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0LnR5cGVvZihwYXNzU3R5bGVUYWcsICdzdHJpbmcnKTtcbiAgICAgICAgICAgIGNvbnN0IGhlbHBlciA9IEhlbHBlclRhYmxlW3Bhc3NTdHlsZVRhZ107XG4gICAgICAgICAgICBoZWxwZXIgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICBGYWlsYFVucmVjb2duaXplZCBQYXNzU3R5bGU6ICR7cShwYXNzU3R5bGVUYWcpfWA7XG4gICAgICAgICAgICBhc3NlcnRWYWxpZChoZWxwZXIsIGlubmVyLCBwYXNzU3R5bGVPZlJlY3VyKTtcbiAgICAgICAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgKi8gKHBhc3NTdHlsZVRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgaGVscGVyIG9mIHBhc3NTdHlsZUhlbHBlcnMpIHtcbiAgICAgICAgICAgIGlmIChoZWxwZXIuY2FuQmVWYWxpZChpbm5lcikpIHtcbiAgICAgICAgICAgICAgaGVscGVyLmFzc2VydFJlc3RWYWxpZChpbm5lciwgcGFzc1N0eWxlT2ZSZWN1cik7XG4gICAgICAgICAgICAgIHJldHVybiBoZWxwZXIuc3R5bGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NlcnRWYWxpZChyZW1vdGFibGVIZWxwZXIsIGlubmVyLCBwYXNzU3R5bGVPZlJlY3VyKTtcbiAgICAgICAgICByZXR1cm4gJ3JlbW90YWJsZSc7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOiB7XG4gICAgICAgICAgaXNGcm96ZW4oaW5uZXIpIHx8XG4gICAgICAgICAgICBGYWlsYENhbm5vdCBwYXNzIG5vbi1mcm96ZW4gb2JqZWN0cyBsaWtlICR7aW5uZXJ9LiBVc2UgaGFyZGVuKClgO1xuICAgICAgICAgIHR5cGVvZiBpbm5lci50aGVuICE9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBGYWlsYENhbm5vdCBwYXNzIG5vbi1wcm9taXNlIHRoZW5hYmxlc2A7XG4gICAgICAgICAgYXNzZXJ0VmFsaWQocmVtb3RhYmxlSGVscGVyLCBpbm5lciwgcGFzc1N0eWxlT2ZSZWN1cik7XG4gICAgICAgICAgcmV0dXJuICdyZW1vdGFibGUnO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICB0aHJvdyBhc3NlcnQuZmFpbChYYFVucmVjb2duaXplZCB0eXBlb2YgJHtxKHR5cGVzdHIpfWAsIFR5cGVFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHBhc3NTdHlsZU9mUmVjdXIocGFzc2FibGUpO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKHBhc3NTdHlsZU9mKTtcbn07XG5cbiAgICAgICBjb25zdCBQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCA9IFN5bWJvbC5mb3IoJ0BlbmRvIHBhc3NTdHlsZU9mJyk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5QYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbChQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCk7XG4gICAgICAgY29uc3QgcGFzc1N0eWxlT2YgPVxuICAoZ2xvYmFsVGhpcyAmJiBnbG9iYWxUaGlzW1Bhc3NTdHlsZU9mRW5kb3dtZW50U3ltYm9sXSkgfHxcbiAgbWFrZVBhc3NTdHlsZU9mKFtcbiAgICBDb3B5QXJyYXlIZWxwZXIsXG4gICAgQ29weVJlY29yZEhlbHBlcixcbiAgICBUYWdnZWRIZWxwZXIsXG4gICAgRXJyb3JIZWxwZXIsXG4gICAgUmVtb3RhYmxlSGVscGVyLFxuICBdKTskaM2PX29uY2UucGFzc1N0eWxlT2YocGFzc1N0eWxlT2YpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0UGFzc2FibGUgPSB2YWwgPT4ge1xuICBwYXNzU3R5bGVPZih2YWwpOyAvL1xufTskaM2PX29uY2UuYXNzZXJ0UGFzc2FibGUoYXNzZXJ0UGFzc2FibGUpO1xuaGFyZGVuKGFzc2VydFBhc3NhYmxlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc1Bhc3NhYmxlID0gc3BlY2ltZW4gPT4ge1xuICB0cnkge1xuICAgIC8vXG4gICAgLy9cbiAgICByZXR1cm4gcGFzc1N0eWxlT2Yoc3BlY2ltZW4pICE9PSB1bmRlZmluZWQ7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07JGjNj19vbmNlLmlzUGFzc2FibGUoaXNQYXNzYWJsZSk7XG5oYXJkZW4oaXNQYXNzYWJsZSk7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGlzUGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyA9IChuYW1lLCBkZXNjKSA9PlxuICBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyhuYW1lLCBkZXNjLCBwYXNzU3R5bGVPZik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgdG9QYXNzYWJsZUVycm9yID0gZXJyID0+IHtcbiAgaGFyZGVuKGVycik7XG4gIGlmIChjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvcihlcnIsIHBhc3NTdHlsZU9mKSkge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbiAgY29uc3QgeyBuYW1lLCBtZXNzYWdlIH0gPSBlcnI7XG4gIGNvbnN0IHsgY2F1c2U6IGNhdXNlRGVzYywgZXJyb3JzOiBlcnJvcnNEZXNjIH0gPVxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZXJyKTtcbiAgbGV0IGNhdXNlO1xuICBsZXQgZXJyb3JzO1xuICBpZiAoY2F1c2VEZXNjICYmIGlzUGFzc2FibGVFcnJvclByb3BlcnR5RGVzYygnY2F1c2UnLCBjYXVzZURlc2MpKSB7XG4gICAgY2F1c2UgPSBjYXVzZURlc2MudmFsdWU7XG4gIH1cbiAgaWYgKGVycm9yc0Rlc2MgJiYgaXNQYXNzYWJsZUVycm9yUHJvcGVydHlEZXNjKCdlcnJvcnMnLCBlcnJvcnNEZXNjKSkge1xuICAgIGVycm9ycyA9IGVycm9yc0Rlc2MudmFsdWU7XG4gIH1cblxuICBjb25zdCBlcnJDb25zdHJ1Y3RvciA9IGdldEVycm9yQ29uc3RydWN0b3IoYCR7bmFtZX1gKSB8fCBFcnJvcjtcbiAgY29uc3QgbmV3RXJyb3IgPSBtYWtlRXJyb3IoYCR7bWVzc2FnZX1gLCBlcnJDb25zdHJ1Y3Rvciwge1xuICAgIC8vXG4gICAgY2F1c2UsXG4gICAgZXJyb3JzLFxuICB9KTtcbiAgLy9cbiAgaGFyZGVuKG5ld0Vycm9yKTtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgYW5ub3RhdGVFcnJvcihuZXdFcnJvciwgWGBjb3BpZWQgZnJvbSBlcnJvciAke2Vycn1gKTtcbiAgcGFzc1N0eWxlT2YobmV3RXJyb3IpID09PSAnZXJyb3InIHx8XG4gICAgRmFpbGBFeHBlY3RlZCAke25ld0Vycm9yfSB0byBiZSBhIHBhc3NhYmxlIGVycm9yYDtcbiAgcmV0dXJuIG5ld0Vycm9yO1xufTskaM2PX29uY2UudG9QYXNzYWJsZUVycm9yKHRvUGFzc2FibGVFcnJvcik7XG5oYXJkZW4odG9QYXNzYWJsZUVycm9yKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHRvVGhyb3dhYmxlID0gc3BlY2ltZW4gPT4ge1xuICBoYXJkZW4oc3BlY2ltZW4pO1xuICBpZiAoaXNFcnJvckxpa2Uoc3BlY2ltZW4pKSB7XG4gICAgcmV0dXJuIHRvUGFzc2FibGVFcnJvcigvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pKTtcbiAgfVxuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihzcGVjaW1lbik7XG4gIGlmIChpc09iamVjdChzcGVjaW1lbikpIHtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IC8qICAgICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICBlbGVtZW50ID09PSB0b1Rocm93YWJsZShlbGVtZW50KSB8fFxuICAgICAgICAgICAgRmFpbGBuZXN0ZWQgdG9UaHJvd2FibGUgY29lcmNpb24gbm90IHlldCBzdXBwb3J0ZWQgJHtlbGVtZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgICBjb25zdCByZWMgPSAvKiAgICAgICAgICAgICAgICAgICAgICovIChzcGVjaW1lbik7XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHZhbHVlcyhyZWMpKSB7XG4gICAgICAgICAgdmFsID09PSB0b1Rocm93YWJsZSh2YWwpIHx8XG4gICAgICAgICAgICBGYWlsYG5lc3RlZCB0b1Rocm93YWJsZSBjb2VyY2lvbiBub3QgeWV0IHN1cHBvcnRlZCAke3ZhbH1gO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICBjb25zdCB0ZyA9IC8qICAgICAgICAgICAgICAgICAgICAgKi8gKHNwZWNpbWVuKTtcbiAgICAgICAgY29uc3QgeyBwYXlsb2FkIH0gPSB0ZztcbiAgICAgICAgcGF5bG9hZCA9PT0gdG9UaHJvd2FibGUocGF5bG9hZCkgfHxcbiAgICAgICAgICBGYWlsYG5lc3RlZCB0b1Rocm93YWJsZSBjb2VyY2lvbiBub3QgeWV0IHN1cHBvcnRlZCAke3BheWxvYWR9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgY29uc3QgZXIgPSAvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xuICAgICAgICBlciA9PT0gdG9UaHJvd2FibGUoZXIpIHx8XG4gICAgICAgICAgRmFpbGBuZXN0ZWQgdG9UaHJvd2FibGUgY29lcmNpb24gbm90IHlldCBzdXBwb3J0ZWQgJHtlcn1gO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGBBICR7cShwYXNzU3R5bGUpfSBpcyBub3QgdGhyb3dhYmxlOiAke3NwZWNpbWVufWA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHNwZWNpbWVuKTtcbn07JGjNj19vbmNlLnRvVGhyb3dhYmxlKHRvVGhyb3dhYmxlKTtcbmhhcmRlbih0b1Rocm93YWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCI6WyJQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCJdLCJwYXNzU3R5bGVPZiI6WyJwYXNzU3R5bGVPZiJdLCJhc3NlcnRQYXNzYWJsZSI6WyJhc3NlcnRQYXNzYWJsZSJdLCJpc1Bhc3NhYmxlIjpbImlzUGFzc2FibGUiXSwidG9QYXNzYWJsZUVycm9yIjpbInRvUGFzc2FibGVFcnJvciJdLCJ0b1Rocm93YWJsZSI6WyJ0b1Rocm93YWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAADgSdHrhwAAK4cAAAoAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL3JlbW90YWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIl0sImV4cG9ydHMiOlsiUmVtb3RhYmxlSGVscGVyIiwiYXNzZXJ0SWZhY2UiLCJnZXRJbnRlcmZhY2VPZiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscSxhc3NlcnRDaGVja2VyLGNhbkJlTWV0aG9kLGhhc093blByb3BlcnR5T2YsUEFTU19TVFlMRSxjaGVja1RhZ1JlY29yZCxjaGVja0Z1bmN0aW9uVGFnUmVjb3JkLGlzT2JqZWN0LGdldFRhZyxDWDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJjYW5CZU1ldGhvZFwiLFskaM2PX2EgPT4gKGNhbkJlTWV0aG9kID0gJGjNj19hKV1dLFtcImhhc093blByb3BlcnR5T2ZcIixbJGjNj19hID0+IChoYXNPd25Qcm9wZXJ0eU9mID0gJGjNj19hKV1dLFtcIlBBU1NfU1RZTEVcIixbJGjNj19hID0+IChQQVNTX1NUWUxFID0gJGjNj19hKV1dLFtcImNoZWNrVGFnUmVjb3JkXCIsWyRozY9fYSA9PiAoY2hlY2tUYWdSZWNvcmQgPSAkaM2PX2EpXV0sW1wiY2hlY2tGdW5jdGlvblRhZ1JlY29yZFwiLFskaM2PX2EgPT4gKGNoZWNrRnVuY3Rpb25UYWdSZWNvcmQgPSAkaM2PX2EpXV0sW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiQ1hcIixbJGjNj19hID0+IChDWCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7XG4gIGdldFByb3RvdHlwZU9mLFxuICBpc0Zyb3plbixcbiAgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUsXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsXG59ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgY2hlY2tJZmFjZSA9IChpZmFjZSwgY2hlY2spID0+IHtcbiAgcmV0dXJuIChcbiAgICAvL1xuICAgICh0eXBlb2YgaWZhY2UgPT09ICdzdHJpbmcnIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICBDWChcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgKWBGb3Igbm93LCBpbnRlcmZhY2UgJHtpZmFjZX0gbXVzdCBiZSBhIHN0cmluZzsgdW5pbXBsZW1lbnRlZGApKSAmJlxuICAgIChpZmFjZSA9PT0gJ1JlbW90YWJsZScgfHxcbiAgICAgIGlmYWNlLnN0YXJ0c1dpdGgoJ0FsbGVnZWQ6ICcpIHx8XG4gICAgICBpZmFjZS5zdGFydHNXaXRoKCdEZWJ1Z05hbWU6ICcpIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICBDWChjaGVjaylgRm9yIG5vdywgaWZhY2UgJHtxKFxuICAgICAgICAgIGlmYWNlLFxuICAgICAgICApfSBtdXN0IGJlIFwiUmVtb3RhYmxlXCIgb3IgYmVnaW4gd2l0aCBcIkFsbGVnZWQ6IFwiIG9yIFwiRGVidWdOYW1lOiBcIjsgdW5pbXBsZW1lbnRlZGApKVxuICApO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRJZmFjZSA9IGlmYWNlID0+IGNoZWNrSWZhY2UoaWZhY2UsIGFzc2VydENoZWNrZXIpOyRozY9fb25jZS5hc3NlcnRJZmFjZShhc3NlcnRJZmFjZSk7XG5oYXJkZW4oYXNzZXJ0SWZhY2UpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBjaGVja1JlbW90YWJsZVByb3RvT2YgPSAob3JpZ2luYWwsIGNoZWNrKSA9PiB7XG4gIGlzT2JqZWN0KG9yaWdpbmFsKSB8fFxuICAgIEZhaWxgUmVtb3RhYmxlcyBtdXN0IGJlIG9iamVjdHMgb3IgZnVuY3Rpb25zOiAke29yaWdpbmFsfWA7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihvcmlnaW5hbCk7XG4gIGlmIChcbiAgICBwcm90byA9PT0gb2JqZWN0UHJvdG90eXBlIHx8XG4gICAgcHJvdG8gPT09IG51bGwgfHxcbiAgICBwcm90byA9PT0gRnVuY3Rpb24ucHJvdG90eXBlXG4gICkge1xuICAgIHJldHVybiAoXG4gICAgICAhIWNoZWNrICYmXG4gICAgICBDWChjaGVjaylgUmVtb3RhYmxlcyBtdXN0IGJlIGV4cGxpY2l0bHkgZGVjbGFyZWQ6ICR7cShvcmlnaW5hbCl9YFxuICAgICk7XG4gIH1cblxuICBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHByb3RvUHJvdG8gPSBnZXRQcm90b3R5cGVPZihwcm90byk7XG4gICAgaWYgKHByb3RvUHJvdG8gIT09IG9iamVjdFByb3RvdHlwZSAmJiBwcm90b1Byb3RvICE9PSBudWxsKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNoZWNrUmVtb3RhYmxlKHByb3RvLCBjaGVjayk7XG4gICAgfVxuICAgIGlmICghY2hlY2tUYWdSZWNvcmQocHJvdG8sICdyZW1vdGFibGUnLCBjaGVjaykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCFjaGVja0Z1bmN0aW9uVGFnUmVjb3JkKHByb3RvLCAncmVtb3RhYmxlJywgY2hlY2spKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy9cbiAgY29uc3QgcGFzc1N0eWxlS2V5ID0gLyogICAgICAgICAgICAgICAgICAqLyAoUEFTU19TVFlMRSk7XG4gIGNvbnN0IHRhZ0tleSA9IC8qICAgICAgICAgICAgICAgICAgKi8gKFN5bWJvbC50b1N0cmluZ1RhZyk7XG4gIGNvbnN0IHtcbiAgICAvL1xuICAgIFsvKiAgICAgICAgICAgICAgICAgKi8gKHBhc3NTdHlsZUtleSldOiBfcGFzc1N0eWxlRGVzYyxcbiAgICBbLyogICAgICAgICAgICAgICAgICovICh0YWdLZXkpXTogeyB2YWx1ZTogaWZhY2UgfSxcbiAgICAuLi5yZXN0RGVzY3NcbiAgfSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocHJvdG8pO1xuXG4gIHJldHVybiAoXG4gICAgKG93bktleXMocmVzdERlc2NzKS5sZW5ndGggPT09IDAgfHxcbiAgICAgICghIWNoZWNrICYmXG4gICAgICAgIENYKFxuICAgICAgICAgIGNoZWNrLFxuICAgICAgICApYFVuZXhwZWN0ZWQgcHJvcGVydGllcyBvbiBSZW1vdGFibGUgUHJvdG8gJHtvd25LZXlzKHJlc3REZXNjcyl9YCkpICYmXG4gICAgY2hlY2tJZmFjZShpZmFjZSwgY2hlY2spXG4gICk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNvbmZpcm1lZFJlbW90YWJsZXMgPSBuZXcgV2Vha1NldCgpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBjaGVja1JlbW90YWJsZSA9ICh2YWwsIGNoZWNrKSA9PiB7XG4gIGlmIChjb25maXJtZWRSZW1vdGFibGVzLmhhcyh2YWwpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFpc0Zyb3plbih2YWwpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhY2hlY2sgJiYgQ1goY2hlY2spYGNhbm5vdCBzZXJpYWxpemUgbm9uLWZyb3plbiBvYmplY3RzIGxpa2UgJHt2YWx9YFxuICAgICk7XG4gIH1cbiAgLy9cbiAgaWYgKCFSZW1vdGFibGVIZWxwZXIuY2FuQmVWYWxpZCh2YWwsIGNoZWNrKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBjaGVja1JlbW90YWJsZVByb3RvT2YodmFsLCBjaGVjayk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBjb25maXJtZWRSZW1vdGFibGVzLmFkZCh2YWwpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRJbnRlcmZhY2VPZiA9IHZhbCA9PiB7XG4gIGlmIChcbiAgICAhaXNPYmplY3QodmFsKSB8fFxuICAgIHZhbFtQQVNTX1NUWUxFXSAhPT0gJ3JlbW90YWJsZScgfHxcbiAgICAhY2hlY2tSZW1vdGFibGUodmFsKVxuICApIHtcbiAgICAvL1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgLy9cbiAgcmV0dXJuIGdldFRhZyh2YWwpO1xufTskaM2PX29uY2UuZ2V0SW50ZXJmYWNlT2YoZ2V0SW50ZXJmYWNlT2YpO1xuaGFyZGVuKGdldEludGVyZmFjZU9mKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBSZW1vdGFibGVIZWxwZXIgPSBoYXJkZW4oe1xuICBzdHlsZU5hbWU6ICdyZW1vdGFibGUnLFxuXG4gIGNhbkJlVmFsaWQ6IChjYW5kaWRhdGUsIGNoZWNrID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgY29uc3QgdmFsaWRUeXBlID1cbiAgICAgIChpc09iamVjdChjYW5kaWRhdGUpIHx8XG4gICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgQ1goY2hlY2spYGNhbm5vdCBzZXJpYWxpemUgbm9uLW9iamVjdHMgYXMgUmVtb3RhYmxlICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgICAgKCFpc0FycmF5KGNhbmRpZGF0ZSkgfHxcbiAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICBDWChjaGVjaylgY2Fubm90IHNlcmlhbGl6ZSBhcnJheXMgYXMgUmVtb3RhYmxlICR7Y2FuZGlkYXRlfWApKTtcbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlc2NzID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhjYW5kaWRhdGUpO1xuICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlID09PSAnb2JqZWN0Jykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gb3duS2V5cyhkZXNjcykuZXZlcnkoa2V5ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvL1xuICAgICAgICAgIChoYXNPd25Qcm9wZXJ0eU9mKGRlc2NzWy8qICAgICAgICAgICAgICAgICAqLyAoa2V5KV0sICd2YWx1ZScpIHx8XG4gICAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgICBDWChjaGVjaylgY2Fubm90IHNlcmlhbGl6ZSBSZW1vdGFibGVzIHdpdGggYWNjZXNzb3JzIGxpa2UgJHtxKFxuICAgICAgICAgICAgICAgIFN0cmluZyhrZXkpLFxuICAgICAgICAgICAgICApfSBpbiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAgICAgICAoKGtleSA9PT0gU3ltYm9sLnRvU3RyaW5nVGFnICYmIGNoZWNrSWZhY2UoY2FuZGlkYXRlW2tleV0sIGNoZWNrKSkgfHxcbiAgICAgICAgICAgICgoY2FuQmVNZXRob2QoY2FuZGlkYXRlW2tleV0pIHx8XG4gICAgICAgICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgICAgICAgQ1goY2hlY2spYGNhbm5vdCBzZXJpYWxpemUgUmVtb3RhYmxlcyB3aXRoIG5vbi1tZXRob2RzIGxpa2UgJHtxKFxuICAgICAgICAgICAgICAgICAgU3RyaW5nKGtleSksXG4gICAgICAgICAgICAgICAgKX0gaW4gJHtjYW5kaWRhdGV9YCkpICYmXG4gICAgICAgICAgICAgIChrZXkgIT09IFBBU1NfU1RZTEUgfHxcbiAgICAgICAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgICAgICAgQ1goY2hlY2spYEEgcGFzcy1ieS1yZW1vdGUgY2Fubm90IHNoYWRvdyAke3EoUEFTU19TVFlMRSl9YCkpKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbmRpZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWU6IG5hbWVEZXNjLFxuICAgICAgICBsZW5ndGg6IGxlbmd0aERlc2MsXG4gICAgICAgIC8vXG4gICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiB0b1N0cmluZ1RhZ0Rlc2MsXG4gICAgICAgIC4uLnJlc3REZXNjc1xuICAgICAgfSA9IGRlc2NzO1xuICAgICAgY29uc3QgcmVzdEtleXMgPSBvd25LZXlzKHJlc3REZXNjcyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoKG5hbWVEZXNjICYmIHR5cGVvZiBuYW1lRGVzYy52YWx1ZSA9PT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICAgIENYKGNoZWNrKWBGYXIgZnVuY3Rpb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCBpbiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAgICAgKChsZW5ndGhEZXNjICYmIHR5cGVvZiBsZW5ndGhEZXNjLnZhbHVlID09PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgQ1goXG4gICAgICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgICAgKWBGYXIgZnVuY3Rpb24gbGVuZ3RoIG11c3QgYmUgYSBudW1iZXIsIGluICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgICAgICAodG9TdHJpbmdUYWdEZXNjID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoKHR5cGVvZiB0b1N0cmluZ1RhZ0Rlc2MudmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgICBDWChcbiAgICAgICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICAgICAgKWBGYXIgZnVuY3Rpb24gQEB0b1N0cmluZ1RhZyBtdXN0IGJlIGEgc3RyaW5nLCBpbiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAgICAgICAgIGNoZWNrSWZhY2UodG9TdHJpbmdUYWdEZXNjLnZhbHVlLCBjaGVjaykpKSAmJlxuICAgICAgICAocmVzdEtleXMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICAgIENYKFxuICAgICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICAgIClgRmFyIGZ1bmN0aW9ucyB1bmV4cGVjdGVkIHByb3BlcnRpZXMgYmVzaWRlcyAubmFtZSBhbmQgLmxlbmd0aCAke3Jlc3RLZXlzfWApKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuICEhY2hlY2sgJiYgQ1goY2hlY2spYHVucmVjb2duaXplZCB0eXBlb2YgJHtjYW5kaWRhdGV9YDtcbiAgfSxcblxuICBhc3NlcnRSZXN0VmFsaWQ6IGNhbmRpZGF0ZSA9PiBjaGVja1JlbW90YWJsZShjYW5kaWRhdGUsIGFzc2VydENoZWNrZXIpLFxuXG4gIGV2ZXJ5OiAoX3Bhc3NhYmxlLCBfZm4pID0+IHRydWUsXG59KTskaM2PX29uY2UuUmVtb3RhYmxlSGVscGVyKFJlbW90YWJsZUhlbHBlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhc3NlcnRJZmFjZSI6WyJhc3NlcnRJZmFjZSJdLCJnZXRJbnRlcmZhY2VPZiI6WyJnZXRJbnRlcmZhY2VPZiJdLCJSZW1vdGFibGVIZWxwZXIiOlsiUmVtb3RhYmxlSGVscGVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMeMfzh6DgAAeg4AACsAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvc2FmZS1wcm9taXNlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vZXJyb3JzIiwiLi9wYXNzU3R5bGUtaGVscGVycy5qcyJdLCJleHBvcnRzIjpbImFzc2VydFNhZmVQcm9taXNlIiwiaXNTYWZlUHJvbWlzZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGlzUHJvbWlzZSxxLGFzc2VydENoZWNrZXIsaGFzT3duUHJvcGVydHlPZixDWDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJpc1Byb21pc2VcIixbJGjNj19hID0+IChpc1Byb21pc2UgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiaGFzT3duUHJvcGVydHlPZlwiLFskaM2PX2EgPT4gKGhhc093blByb3BlcnR5T2YgPSAkaM2PX2EpXV0sW1wiQ1hcIixbJGjNj19hID0+IChDWCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgaXNGcm96ZW4sIGdldFByb3RvdHlwZU9mLCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgdG9TdHJpbmdUYWcgfSA9IFN5bWJvbDtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgY2hlY2tQcm9taXNlT3duS2V5cyA9IChwciwgY2hlY2spID0+IHtcbiAgY29uc3Qga2V5cyA9IG93bktleXMocHIpO1xuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgdW5rbm93bktleXMgPSBrZXlzLmZpbHRlcihcbiAgICBrZXkgPT4gdHlwZW9mIGtleSAhPT0gJ3N5bWJvbCcgfHwgIWhhc093blByb3BlcnR5T2YoUHJvbWlzZS5wcm90b3R5cGUsIGtleSksXG4gICk7XG5cbiAgaWYgKHVua25vd25LZXlzLmxlbmd0aCAhPT0gMCkge1xuICAgIHJldHVybiBDWChcbiAgICAgIGNoZWNrLFxuICAgIClgJHtwcn0gLSBNdXN0IG5vdCBoYXZlIGFueSBvd24gcHJvcGVydGllczogJHtxKHVua25vd25LZXlzKX1gO1xuICB9XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hlY2tTYWZlT3duS2V5ID0ga2V5ID0+IHtcbiAgICBpZiAoa2V5ID09PSB0b1N0cmluZ1RhZykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCB0YWdEZXNjID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByLCB0b1N0cmluZ1RhZyk7XG4gICAgICBhc3NlcnQodGFnRGVzYyAhPT0gdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eU9mKHRhZ0Rlc2MsICd2YWx1ZScpIHx8XG4gICAgICAgICAgQ1goXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApYE93biBAQHRvU3RyaW5nVGFnIG11c3QgYmUgYSBkYXRhIHByb3BlcnR5LCBub3QgYW4gYWNjZXNzb3I6ICR7cSh0YWdEZXNjKX1gKSAmJlxuICAgICAgICAodHlwZW9mIHRhZ0Rlc2MudmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgQ1goXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApYE93biBAQHRvU3RyaW5nVGFnIHZhbHVlIG11c3QgYmUgYSBzdHJpbmc6ICR7cSh0YWdEZXNjLnZhbHVlKX1gKSAmJlxuICAgICAgICAoIXRhZ0Rlc2MuZW51bWVyYWJsZSB8fFxuICAgICAgICAgIENYKGNoZWNrKWBPd24gQEB0b1N0cmluZ1RhZyBtdXN0IG5vdCBiZSBlbnVtZXJhYmxlOiAke3EodGFnRGVzYyl9YClcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHByW2tleV07XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHZhbCAhPT0gbnVsbCAmJlxuICAgICAgaXNGcm96ZW4odmFsKSAmJlxuICAgICAgZ2V0UHJvdG90eXBlT2YodmFsKSA9PT0gT2JqZWN0LnByb3RvdHlwZVxuICAgICkge1xuICAgICAgY29uc3Qgc3ViS2V5cyA9IG93bktleXModmFsKTtcbiAgICAgIGlmIChzdWJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBzdWJLZXlzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBzdWJLZXlzWzBdID09PSAnZGVzdHJveWVkJyAmJlxuICAgICAgICB2YWwuZGVzdHJveWVkID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQ1goXG4gICAgICBjaGVjayxcbiAgICApYFVuZXhwZWN0ZWQgTm9kZSBhc3luY19ob29rcyBhZGRpdGlvbnMgdG8gcHJvbWlzZTogJHtwcn0uJHtxKFxuICAgICAgU3RyaW5nKGtleSksXG4gICAgKX0gaXMgJHt2YWx9YDtcbiAgfTtcblxuICByZXR1cm4ga2V5cy5ldmVyeShjaGVja1NhZmVPd25LZXkpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrU2FmZVByb21pc2UgPSAocHIsIGNoZWNrKSA9PiB7XG4gIHJldHVybiAoXG4gICAgKGlzRnJvemVuKHByKSB8fCBDWChjaGVjaylgJHtwcn0gLSBNdXN0IGJlIGZyb3plbmApICYmXG4gICAgKGlzUHJvbWlzZShwcikgfHwgQ1goY2hlY2spYCR7cHJ9IC0gTXVzdCBiZSBhIHByb21pc2VgKSAmJlxuICAgIChnZXRQcm90b3R5cGVPZihwcikgPT09IFByb21pc2UucHJvdG90eXBlIHx8XG4gICAgICBDWChjaGVjaylgJHtwcn0gLSBNdXN0IGluaGVyaXQgZnJvbSBQcm9taXNlLnByb3RvdHlwZTogJHtxKFxuICAgICAgICBnZXRQcm90b3R5cGVPZihwciksXG4gICAgICApfWApICYmXG4gICAgY2hlY2tQcm9taXNlT3duS2V5cygvKiAgICAgICAgICAgICAgICAgICovIChwciksIGNoZWNrKVxuICApO1xufTtcbmhhcmRlbihjaGVja1NhZmVQcm9taXNlKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNTYWZlUHJvbWlzZSA9IHByID0+IGNoZWNrU2FmZVByb21pc2UocHIsIHggPT4geCk7JGjNj19vbmNlLmlzU2FmZVByb21pc2UoaXNTYWZlUHJvbWlzZSk7XG5oYXJkZW4oaXNTYWZlUHJvbWlzZSk7XG5cbiAgICAgICBjb25zdCBhc3NlcnRTYWZlUHJvbWlzZSA9IHByID0+IGNoZWNrU2FmZVByb21pc2UocHIsIGFzc2VydENoZWNrZXIpOyRozY9fb25jZS5hc3NlcnRTYWZlUHJvbWlzZShhc3NlcnRTYWZlUHJvbWlzZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1NhZmVQcm9taXNlIjpbImlzU2FmZVByb21pc2UiXSwiYXNzZXJ0U2FmZVByb21pc2UiOlsiYXNzZXJ0U2FmZVByb21pc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAuj7NoXkIAAB5CAAAJQAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9zdHJpbmcuanN7ImltcG9ydHMiOlsiQGVuZG8vZW52LW9wdGlvbnMiLCJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJhc3NlcnRQYXNzYWJsZVN0cmluZyIsImFzc2VydFdlbGxGb3JtZWRTdHJpbmciLCJpc1dlbGxGb3JtZWRTdHJpbmciXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRFbnZpcm9ubWVudE9wdGlvbixGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG4vL1xuY29uc3QgaGFzV2VsbEZvcm1lZFN0cmluZ01ldGhvZCA9ICEhU3RyaW5nLnByb3RvdHlwZS5pc1dlbGxGb3JtZWQ7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNXZWxsRm9ybWVkU3RyaW5nID0gaGFzV2VsbEZvcm1lZFN0cmluZ01ldGhvZFxuICA/IHN0ciA9PiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyAmJiBzdHIuaXNXZWxsRm9ybWVkKClcbiAgOiBzdHIgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgY2ggb2Ygc3RyKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGNwID0gLyogICAgICAgICAgICAgICAgICovIChjaC5jb2RlUG9pbnRBdCgwKSk7XG4gICAgICAgIGlmIChjcCA+PSAweGQ4MDAgJiYgY3AgPD0gMHhkZmZmKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9OyRozY9fb25jZS5pc1dlbGxGb3JtZWRTdHJpbmcoaXNXZWxsRm9ybWVkU3RyaW5nKTtcbmhhcmRlbihpc1dlbGxGb3JtZWRTdHJpbmcpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydFdlbGxGb3JtZWRTdHJpbmcgPSBzdHIgPT4ge1xuICBpc1dlbGxGb3JtZWRTdHJpbmcoc3RyKSB8fCBGYWlsYEV4cGVjdGVkIHdlbGwtZm9ybWVkIHVuaWNvZGUgc3RyaW5nOiAke3N0cn1gO1xufTskaM2PX29uY2UuYXNzZXJ0V2VsbEZvcm1lZFN0cmluZyhhc3NlcnRXZWxsRm9ybWVkU3RyaW5nKTtcbmhhcmRlbihhc3NlcnRXZWxsRm9ybWVkU3RyaW5nKTtcblxuY29uc3QgT05MWV9XRUxMX0ZPUk1FRF9TVFJJTkdTX1BBU1NBQkxFID1cbiAgZ2V0RW52aXJvbm1lbnRPcHRpb24oJ09OTFlfV0VMTF9GT1JNRURfU1RSSU5HU19QQVNTQUJMRScsICdkaXNhYmxlZCcsIFtcbiAgICAnZW5hYmxlZCcsXG4gIF0pID09PSAnZW5hYmxlZCc7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRQYXNzYWJsZVN0cmluZyA9IHN0ciA9PiB7XG4gIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnIHx8IEZhaWxgRXhwZWN0ZWQgc3RyaW5nICR7c3RyfWA7XG4gICFPTkxZX1dFTExfRk9STUVEX1NUUklOR1NfUEFTU0FCTEUgfHwgYXNzZXJ0V2VsbEZvcm1lZFN0cmluZyhzdHIpO1xufTskaM2PX29uY2UuYXNzZXJ0UGFzc2FibGVTdHJpbmcoYXNzZXJ0UGFzc2FibGVTdHJpbmcpO1xuaGFyZGVuKGFzc2VydFBhc3NhYmxlU3RyaW5nKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzV2VsbEZvcm1lZFN0cmluZyI6WyJpc1dlbGxGb3JtZWRTdHJpbmciXSwiYXNzZXJ0V2VsbEZvcm1lZFN0cmluZyI6WyJhc3NlcnRXZWxsRm9ybWVkU3RyaW5nIl0sImFzc2VydFBhc3NhYmxlU3RyaW5nIjpbImFzc2VydFBhc3NhYmxlU3RyaW5nIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAB0bVHblCgAA5QoAACUAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvc3ltYm9sLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbImFzc2VydFBhc3NhYmxlU3ltYm9sIiwiaXNQYXNzYWJsZVN5bWJvbCIsIm5hbWVGb3JQYXNzYWJsZVN5bWJvbCIsInBhc3NhYmxlU3ltYm9sRm9yTmFtZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXV0pO1xuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbi8qXG5cbiAqL1xuY29uc3Qgd2VsbEtub3duU3ltYm9sTmFtZXMgPSBuZXcgTWFwKFxuICBvd25LZXlzKFN5bWJvbClcbiAgICAuZmlsdGVyKFxuICAgICAgbmFtZSA9PiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIFN5bWJvbFtuYW1lXSA9PT0gJ3N5bWJvbCcsXG4gICAgKVxuICAgIC5maWx0ZXIobmFtZSA9PiB7XG4gICAgICAvL1xuICAgICAgIW5hbWUuc3RhcnRzV2l0aCgnQEAnKSB8fFxuICAgICAgICBGYWlsYERpZCBub3QgZXhwZWN0IFN5bWJvbCB0byBoYXZlIGEgc3ltYm9sLXZhbHVlZCBwcm9wZXJ0eSBuYW1lIHN0YXJ0aW5nIHdpdGggXCJAQFwiICR7cShcbiAgICAgICAgICBuYW1lLFxuICAgICAgICApfWA7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KVxuICAgIC8vXG4gICAgLm1hcChuYW1lID0+IFtTeW1ib2xbbmFtZV0sIGBAQCR7bmFtZX1gXSksXG4pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNQYXNzYWJsZVN5bWJvbCA9IHN5bSA9PlxuICB0eXBlb2Ygc3ltID09PSAnc3ltYm9sJyAmJlxuICAodHlwZW9mIFN5bWJvbC5rZXlGb3Ioc3ltKSA9PT0gJ3N0cmluZycgfHwgd2VsbEtub3duU3ltYm9sTmFtZXMuaGFzKHN5bSkpOyRozY9fb25jZS5pc1Bhc3NhYmxlU3ltYm9sKGlzUGFzc2FibGVTeW1ib2wpO1xuaGFyZGVuKGlzUGFzc2FibGVTeW1ib2wpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0UGFzc2FibGVTeW1ib2wgPSBzeW0gPT5cbiAgaXNQYXNzYWJsZVN5bWJvbChzeW0pIHx8XG4gIEZhaWxgT25seSByZWdpc3RlcmVkIHN5bWJvbHMgb3Igd2VsbC1rbm93biBzeW1ib2xzIGFyZSBwYXNzYWJsZTogJHtxKHN5bSl9YDskaM2PX29uY2UuYXNzZXJ0UGFzc2FibGVTeW1ib2woYXNzZXJ0UGFzc2FibGVTeW1ib2wpO1xuaGFyZGVuKGFzc2VydFBhc3NhYmxlU3ltYm9sKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbmFtZUZvclBhc3NhYmxlU3ltYm9sID0gc3ltID0+IHtcbiAgY29uc3QgbmFtZSA9IFN5bWJvbC5rZXlGb3Ioc3ltKTtcbiAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB3ZWxsS25vd25TeW1ib2xOYW1lcy5nZXQoc3ltKTtcbiAgfVxuICBpZiAobmFtZS5zdGFydHNXaXRoKCdAQCcpKSB7XG4gICAgcmV0dXJuIGBAQCR7bmFtZX1gO1xuICB9XG4gIHJldHVybiBuYW1lO1xufTskaM2PX29uY2UubmFtZUZvclBhc3NhYmxlU3ltYm9sKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCk7XG5oYXJkZW4obmFtZUZvclBhc3NhYmxlU3ltYm9sKTtcblxuY29uc3QgQXRBdFByZWZpeFBhdHRlcm4gPSAvXkBAKC4qKSQvO1xuaGFyZGVuKEF0QXRQcmVmaXhQYXR0ZXJuKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwYXNzYWJsZVN5bWJvbEZvck5hbWUgPSBuYW1lID0+IHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3QgbWF0Y2ggPSBBdEF0UHJlZml4UGF0dGVybi5leGVjKG5hbWUpO1xuICBpZiAobWF0Y2gpIHtcbiAgICBjb25zdCBzdWZmaXggPSBtYXRjaFsxXTtcbiAgICBpZiAoc3VmZml4LnN0YXJ0c1dpdGgoJ0BAJykpIHtcbiAgICAgIHJldHVybiBTeW1ib2wuZm9yKHN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN5bSA9IFN5bWJvbFtzdWZmaXhdO1xuICAgICAgaWYgKHR5cGVvZiBzeW0gPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiBzeW07XG4gICAgICB9XG4gICAgICBGYWlsYFJlc2VydmVkIGZvciB3ZWxsIGtub3duIHN5bWJvbCAke3Eoc3VmZml4KX06ICR7cShuYW1lKX1gO1xuICAgIH1cbiAgfVxuICByZXR1cm4gU3ltYm9sLmZvcihuYW1lKTtcbn07JGjNj19vbmNlLnBhc3NhYmxlU3ltYm9sRm9yTmFtZShwYXNzYWJsZVN5bWJvbEZvck5hbWUpO1xuaGFyZGVuKHBhc3NhYmxlU3ltYm9sRm9yTmFtZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1Bhc3NhYmxlU3ltYm9sIjpbImlzUGFzc2FibGVTeW1ib2wiXSwiYXNzZXJ0UGFzc2FibGVTeW1ib2wiOlsiYXNzZXJ0UGFzc2FibGVTeW1ib2wiXSwibmFtZUZvclBhc3NhYmxlU3ltYm9sIjpbIm5hbWVGb3JQYXNzYWJsZVN5bWJvbCJdLCJwYXNzYWJsZVN5bWJvbEZvck5hbWUiOlsicGFzc2FibGVTeW1ib2xGb3JOYW1lIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPLl8lDJBwAAyQcAACUAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvdGFnZ2VkLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiXSwiZXhwb3J0cyI6WyJUYWdnZWRIZWxwZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLGFzc2VydENoZWNrZXIsY2hlY2tUYWdSZWNvcmQsUEFTU19TVFlMRSxnZXRPd25EYXRhRGVzY3JpcHRvcixjaGVja1Bhc3NTdHlsZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJjaGVja1RhZ1JlY29yZFwiLFskaM2PX2EgPT4gKGNoZWNrVGFnUmVjb3JkID0gJGjNj19hKV1dLFtcIlBBU1NfU1RZTEVcIixbJGjNj19hID0+IChQQVNTX1NUWUxFID0gJGjNj19hKV1dLFtcImdldE93bkRhdGFEZXNjcmlwdG9yXCIsWyRozY9fYSA9PiAoZ2V0T3duRGF0YURlc2NyaXB0b3IgPSAkaM2PX2EpXV0sW1wiY2hlY2tQYXNzU3R5bGVcIixbJGjNj19hID0+IChjaGVja1Bhc3NTdHlsZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgfSA9IE9iamVjdDtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBUYWdnZWRIZWxwZXIgPSBoYXJkZW4oe1xuICBzdHlsZU5hbWU6ICd0YWdnZWQnLFxuXG4gIGNhbkJlVmFsaWQ6IChjYW5kaWRhdGUsIGNoZWNrID0gdW5kZWZpbmVkKSA9PlxuICAgIGNoZWNrUGFzc1N0eWxlKGNhbmRpZGF0ZSwgY2FuZGlkYXRlW1BBU1NfU1RZTEVdLCAndGFnZ2VkJywgY2hlY2spLFxuXG4gIGFzc2VydFJlc3RWYWxpZDogKGNhbmRpZGF0ZSwgcGFzc1N0eWxlT2ZSZWN1cikgPT4ge1xuICAgIGNoZWNrVGFnUmVjb3JkKGNhbmRpZGF0ZSwgJ3RhZ2dlZCcsIGFzc2VydENoZWNrZXIpO1xuXG4gICAgLy9cbiAgICBjb25zdCBwYXNzU3R5bGVLZXkgPSAvKiAgICAgICAgICAgICAgICAgICovIChQQVNTX1NUWUxFKTtcbiAgICBjb25zdCB0YWdLZXkgPSAvKiAgICAgICAgICAgICAgICAgICovIChTeW1ib2wudG9TdHJpbmdUYWcpO1xuICAgIGNvbnN0IHtcbiAgICAgIC8vXG4gICAgICBbLyogICAgICAgICAgICAgICAgICovIChwYXNzU3R5bGVLZXkpXTogX3Bhc3NTdHlsZURlc2MsXG4gICAgICBbLyogICAgICAgICAgICAgICAgICovICh0YWdLZXkpXTogX2xhYmVsRGVzYyxcbiAgICAgIHBheWxvYWQ6IF9wYXlsb2FkRGVzYywgLy9cbiAgICAgIC4uLnJlc3REZXNjc1xuICAgIH0gPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGNhbmRpZGF0ZSk7XG4gICAgb3duS2V5cyhyZXN0RGVzY3MpLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgRmFpbGBVbmV4cGVjdGVkIHByb3BlcnRpZXMgb24gdGFnZ2VkIHJlY29yZCAke293bktleXMocmVzdERlc2NzKX1gO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIHBhc3NTdHlsZU9mUmVjdXIoXG4gICAgICBnZXRPd25EYXRhRGVzY3JpcHRvcihjYW5kaWRhdGUsICdwYXlsb2FkJywgdHJ1ZSwgYXNzZXJ0Q2hlY2tlcikudmFsdWUsXG4gICAgKTtcbiAgfSxcbn0pOyRozY9fb25jZS5UYWdnZWRIZWxwZXIoVGFnZ2VkSGVscGVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRhZ2dlZEhlbHBlciI6WyJUYWdnZWRIZWxwZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA7twisGcJAABnCQAAKQAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlR3VhcmRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlT2YuanMiXSwiZXhwb3J0cyI6WyJhc3NlcnRDb3B5QXJyYXkiLCJhc3NlcnRSZWNvcmQiLCJhc3NlcnRSZW1vdGFibGUiLCJpc0NvcHlBcnJheSIsImlzUmVjb3JkIiwiaXNSZW1vdGFibGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLHEscGFzc1N0eWxlT2Y7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGVPZi5qc1wiLCBbW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXV1dXSk7XG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGlzQ29weUFycmF5ID0gYXJyID0+IHBhc3NTdHlsZU9mKGFycikgPT09ICdjb3B5QXJyYXknOyRozY9fb25jZS5pc0NvcHlBcnJheShpc0NvcHlBcnJheSk7XG5oYXJkZW4oaXNDb3B5QXJyYXkpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgaXNSZWNvcmQgPSByZWNvcmQgPT4gcGFzc1N0eWxlT2YocmVjb3JkKSA9PT0gJ2NvcHlSZWNvcmQnOyRozY9fb25jZS5pc1JlY29yZChpc1JlY29yZCk7XG5oYXJkZW4oaXNSZWNvcmQpO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGlzUmVtb3RhYmxlID0gcmVtb3RhYmxlID0+IHBhc3NTdHlsZU9mKHJlbW90YWJsZSkgPT09ICdyZW1vdGFibGUnOyRozY9fb25jZS5pc1JlbW90YWJsZShpc1JlbW90YWJsZSk7XG5oYXJkZW4oaXNSZW1vdGFibGUpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBhc3NlcnRDb3B5QXJyYXkgPSAoYXJyLCBvcHROYW1lT2ZBcnJheSA9ICdBbGxlZ2VkIGFycmF5JykgPT4ge1xuICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihhcnIpO1xuICBwYXNzU3R5bGUgPT09ICdjb3B5QXJyYXknIHx8XG4gICAgRmFpbGAke3Eob3B0TmFtZU9mQXJyYXkpfSAke2Fycn0gbXVzdCBiZSBhIHBhc3MtYnktY29weSBhcnJheSwgbm90ICR7cShcbiAgICAgIHBhc3NTdHlsZSxcbiAgICApfWA7XG59OyRozY9fb25jZS5hc3NlcnRDb3B5QXJyYXkoYXNzZXJ0Q29weUFycmF5KTtcbmhhcmRlbihhc3NlcnRDb3B5QXJyYXkpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBhc3NlcnRSZWNvcmQgPSAocmVjb3JkLCBvcHROYW1lT2ZSZWNvcmQgPSAnQWxsZWdlZCByZWNvcmQnKSA9PiB7XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHJlY29yZCk7XG4gIHBhc3NTdHlsZSA9PT0gJ2NvcHlSZWNvcmQnIHx8XG4gICAgRmFpbGAke3Eob3B0TmFtZU9mUmVjb3JkKX0gJHtyZWNvcmR9IG11c3QgYmUgYSBwYXNzLWJ5LWNvcHkgcmVjb3JkLCBub3QgJHtxKFxuICAgICAgcGFzc1N0eWxlLFxuICAgICl9YDtcbn07JGjNj19vbmNlLmFzc2VydFJlY29yZChhc3NlcnRSZWNvcmQpO1xuaGFyZGVuKGFzc2VydFJlY29yZCk7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGFzc2VydFJlbW90YWJsZSA9IChcbiAgcmVtb3RhYmxlLFxuICBvcHROYW1lT2ZSZW1vdGFibGUgPSAnQWxsZWdlZCByZW1vdGFibGUnLFxuKSA9PiB7XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHJlbW90YWJsZSk7XG4gIHBhc3NTdHlsZSA9PT0gJ3JlbW90YWJsZScgfHxcbiAgICBGYWlsYCR7cShvcHROYW1lT2ZSZW1vdGFibGUpfSAke3JlbW90YWJsZX0gbXVzdCBiZSBhIHJlbW90YWJsZSwgbm90ICR7cShcbiAgICAgIHBhc3NTdHlsZSxcbiAgICApfWA7XG59OyRozY9fb25jZS5hc3NlcnRSZW1vdGFibGUoYXNzZXJ0UmVtb3RhYmxlKTtcbmhhcmRlbihhc3NlcnRSZW1vdGFibGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiaXNDb3B5QXJyYXkiOlsiaXNDb3B5QXJyYXkiXSwiaXNSZWNvcmQiOlsiaXNSZWNvcmQiXSwiaXNSZW1vdGFibGUiOlsiaXNSZW1vdGFibGUiXSwiYXNzZXJ0Q29weUFycmF5IjpbImFzc2VydENvcHlBcnJheSJdLCJhc3NlcnRSZWNvcmQiOlsiYXNzZXJ0UmVjb3JkIl0sImFzc2VydFJlbW90YWJsZSI6WyJhc3NlcnRSZW1vdGFibGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAJAAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB1TZLc7w4AAO8OAAAeAAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vc3JjL2tleXMvY2hlY2tLZXkuanMiLCIuL3NyYy9rZXlzL2NvcHlTZXQuanMiLCIuL3NyYy9rZXlzL2NvcHlCYWcuanMiLCIuL3NyYy9rZXlzL2NvbXBhcmVLZXlzLmpzIiwiLi9zcmMva2V5cy9tZXJnZS1zZXQtb3BlcmF0b3JzLmpzIiwiLi9zcmMva2V5cy9tZXJnZS1iYWctb3BlcmF0b3JzLmpzIiwiLi9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzIiwiLi9zcmMvcGF0dGVybnMvZ2V0R3VhcmRQYXlsb2Fkcy5qcyIsIi4vc3JjL3R5cGVzLmpzIiwiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qcyIsIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzIl0sImV4cG9ydHMiOlsiYXNzZXJ0S2V5IiwiYXNzZXJ0S2V5IiwiYmFnVW5pb24iLCJiYWdVbmlvbiIsImVsZW1lbnRzSXNEaXNqb2ludCIsImVsZW1lbnRzSXNEaXNqb2ludCIsImdldE1ldGhvZEd1YXJkUGF5bG9hZCIsImdldE1ldGhvZEd1YXJkUGF5bG9hZCIsImdldFJhbmtDb3ZlciIsImdldFJhbmtDb3ZlciIsInNldENvbXBhcmUiLCJzZXRDb21wYXJlIixudWxsLG51bGwsbnVsbCxudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL3R5cGVzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2tleXMvY2hlY2tLZXkuanNcIiwgW11dLFtcIi4vc3JjL2tleXMvY29weVNldC5qc1wiLCBbXV0sW1wiLi9zcmMva2V5cy9jb3B5QmFnLmpzXCIsIFtdXSxbXCIuL3NyYy9rZXlzL2NvbXBhcmVLZXlzLmpzXCIsIFtdXSxbXCIuL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanNcIiwgW11dLFtcIi4vc3JjL2tleXMvbWVyZ2UtYmFnLW9wZXJhdG9ycy5qc1wiLCBbXV0sW1wiLi9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzXCIsIFtdXSxbXCIuL3NyYy9wYXR0ZXJucy9nZXRHdWFyZFBheWxvYWRzLmpzXCIsIFtdXSxbXCIuL3NyYy90eXBlcy5qc1wiLCBbXV0sW1wiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qc1wiLCBbXV0sW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9rZXlzL2NoZWNrS2V5LmpzIjpbWyJpc0tleSIsImlzS2V5Il0sWyJhc3NlcnRLZXkiLCJhc3NlcnRLZXkiXSxbImFzc2VydFNjYWxhcktleSIsImFzc2VydFNjYWxhcktleSJdLFsiaXNDb3B5U2V0IiwiaXNDb3B5U2V0Il0sWyJhc3NlcnRDb3B5U2V0IiwiYXNzZXJ0Q29weVNldCJdLFsibWFrZUNvcHlTZXQiLCJtYWtlQ29weVNldCJdLFsiZ2V0Q29weVNldEtleXMiLCJnZXRDb3B5U2V0S2V5cyJdLFsiaXNDb3B5QmFnIiwiaXNDb3B5QmFnIl0sWyJhc3NlcnRDb3B5QmFnIiwiYXNzZXJ0Q29weUJhZyJdLFsibWFrZUNvcHlCYWciLCJtYWtlQ29weUJhZyJdLFsibWFrZUNvcHlCYWdGcm9tRWxlbWVudHMiLCJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyJdLFsiZ2V0Q29weUJhZ0VudHJpZXMiLCJnZXRDb3B5QmFnRW50cmllcyJdLFsiaXNDb3B5TWFwIiwiaXNDb3B5TWFwIl0sWyJhc3NlcnRDb3B5TWFwIiwiYXNzZXJ0Q29weU1hcCJdLFsibWFrZUNvcHlNYXAiLCJtYWtlQ29weU1hcCJdLFsiZ2V0Q29weU1hcEVudHJpZXMiLCJnZXRDb3B5TWFwRW50cmllcyJdXSwiLi9zcmMva2V5cy9jb3B5U2V0LmpzIjpbWyJjb2VyY2VUb0VsZW1lbnRzIiwiY29lcmNlVG9FbGVtZW50cyJdXSwiLi9zcmMva2V5cy9jb3B5QmFnLmpzIjpbWyJjb2VyY2VUb0JhZ0VudHJpZXMiLCJjb2VyY2VUb0JhZ0VudHJpZXMiXV0sIi4vc3JjL2tleXMvY29tcGFyZUtleXMuanMiOltbImJhZ0NvbXBhcmUiLCJiYWdDb21wYXJlIl0sWyJzZXRDb21wYXJlIiwic2V0Q29tcGFyZSJdLFsiY29tcGFyZUtleXMiLCJjb21wYXJlS2V5cyJdLFsia2V5TFQiLCJrZXlMVCJdLFsia2V5TFRFIiwia2V5TFRFIl0sWyJrZXlFUSIsImtleUVRIl0sWyJrZXlHVEUiLCJrZXlHVEUiXSxbImtleUdUIiwia2V5R1QiXV0sIi4vc3JjL2tleXMvbWVyZ2Utc2V0LW9wZXJhdG9ycy5qcyI6W1siZWxlbWVudHNJc1N1cGVyc2V0IiwiZWxlbWVudHNJc1N1cGVyc2V0Il0sWyJlbGVtZW50c0lzRGlzam9pbnQiLCJlbGVtZW50c0lzRGlzam9pbnQiXSxbImVsZW1lbnRzQ29tcGFyZSIsImVsZW1lbnRzQ29tcGFyZSJdLFsiZWxlbWVudHNVbmlvbiIsImVsZW1lbnRzVW5pb24iXSxbImVsZW1lbnRzRGlzam9pbnRVbmlvbiIsImVsZW1lbnRzRGlzam9pbnRVbmlvbiJdLFsiZWxlbWVudHNJbnRlcnNlY3Rpb24iLCJlbGVtZW50c0ludGVyc2VjdGlvbiJdLFsiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0IiwiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0Il0sWyJzZXRJc1N1cGVyc2V0Iiwic2V0SXNTdXBlcnNldCJdLFsic2V0SXNEaXNqb2ludCIsInNldElzRGlzam9pbnQiXSxbInNldFVuaW9uIiwic2V0VW5pb24iXSxbInNldERpc2pvaW50VW5pb24iLCJzZXREaXNqb2ludFVuaW9uIl0sWyJzZXRJbnRlcnNlY3Rpb24iLCJzZXRJbnRlcnNlY3Rpb24iXSxbInNldERpc2pvaW50U3VidHJhY3QiLCJzZXREaXNqb2ludFN1YnRyYWN0Il1dLCIuL3NyYy9rZXlzL21lcmdlLWJhZy1vcGVyYXRvcnMuanMiOltbImJhZ0lzU3VwZXJiYWciLCJiYWdJc1N1cGVyYmFnIl0sWyJiYWdVbmlvbiIsImJhZ1VuaW9uIl0sWyJiYWdJbnRlcnNlY3Rpb24iLCJiYWdJbnRlcnNlY3Rpb24iXSxbImJhZ0Rpc2pvaW50U3VidHJhY3QiLCJiYWdEaXNqb2ludFN1YnRyYWN0Il1dLCIuL3NyYy9wYXR0ZXJucy9wYXR0ZXJuTWF0Y2hlcnMuanMiOltbIk0iLCJNIl0sWyJnZXRSYW5rQ292ZXIiLCJnZXRSYW5rQ292ZXIiXSxbImlzUGF0dGVybiIsImlzUGF0dGVybiJdLFsiYXNzZXJ0UGF0dGVybiIsImFzc2VydFBhdHRlcm4iXSxbIm1hdGNoZXMiLCJtYXRjaGVzIl0sWyJtdXN0TWF0Y2giLCJtdXN0TWF0Y2giXSxbImlzQXdhaXRBcmdHdWFyZCIsImlzQXdhaXRBcmdHdWFyZCJdLFsiYXNzZXJ0QXdhaXRBcmdHdWFyZCIsImFzc2VydEF3YWl0QXJnR3VhcmQiXSxbImlzUmF3R3VhcmQiLCJpc1Jhd0d1YXJkIl0sWyJhc3NlcnRSYXdHdWFyZCIsImFzc2VydFJhd0d1YXJkIl0sWyJhc3NlcnRNZXRob2RHdWFyZCIsImFzc2VydE1ldGhvZEd1YXJkIl0sWyJhc3NlcnRJbnRlcmZhY2VHdWFyZCIsImFzc2VydEludGVyZmFjZUd1YXJkIl0sWyJraW5kT2YiLCJraW5kT2YiXSxbImNvbnRhaW5lckhhc1NwbGl0IiwiY29udGFpbmVySGFzU3BsaXQiXV0sIi4vc3JjL3BhdHRlcm5zL2dldEd1YXJkUGF5bG9hZHMuanMiOltbImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkIiwiZ2V0QXdhaXRBcmdHdWFyZFBheWxvYWQiXSxbImdldE1ldGhvZEd1YXJkUGF5bG9hZCIsImdldE1ldGhvZEd1YXJkUGF5bG9hZCJdLFsiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkIiwiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkIl0sWyJnZXRJbnRlcmZhY2VNZXRob2RLZXlzIiwiZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyJdXSwiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qcyI6W1sibGlzdERpZmZlcmVuY2UiLCJsaXN0RGlmZmVyZW5jZSJdXSwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiOltbIm9iamVjdE1hcCIsIm9iamVjdE1hcCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwepGqlU3AABVNwAAKgAAAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMva2V5cy9jaGVja0tleS5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGVuZG8vY29tbW9uL2lkZW50LWNoZWNrZXIuanMiLCJAZW5kby9lcnJvcnMiLCIuL2NvcHlTZXQuanMiLCIuL2NvcHlCYWcuanMiXSwiZXhwb3J0cyI6WyJhc3NlcnRDb3B5QmFnIiwiYXNzZXJ0Q29weU1hcCIsImFzc2VydENvcHlTZXQiLCJhc3NlcnRLZXkiLCJhc3NlcnRQcmltaXRpdmVLZXkiLCJhc3NlcnRTY2FsYXJLZXkiLCJjaGVja0NvcHlCYWciLCJjaGVja0NvcHlNYXAiLCJjaGVja0NvcHlTZXQiLCJjaGVja0tleSIsImNoZWNrU2NhbGFyS2V5IiwiY29weU1hcEtleVNldCIsImV2ZXJ5Q29weUJhZ0VudHJ5IiwiZXZlcnlDb3B5TWFwS2V5IiwiZXZlcnlDb3B5TWFwVmFsdWUiLCJldmVyeUNvcHlTZXRLZXkiLCJnZXRDb3B5QmFnRW50cmllcyIsImdldENvcHlNYXBFbnRyaWVzIiwiZ2V0Q29weU1hcEVudHJ5QXJyYXkiLCJnZXRDb3B5TWFwS2V5cyIsImdldENvcHlNYXBWYWx1ZXMiLCJnZXRDb3B5U2V0S2V5cyIsImlzQ29weUJhZyIsImlzQ29weU1hcCIsImlzQ29weVNldCIsImlzS2V5IiwiaXNQcmltaXRpdmVLZXkiLCJpc1NjYWxhcktleSIsIm1ha2VDb3B5QmFnIiwibWFrZUNvcHlCYWdGcm9tRWxlbWVudHMiLCJtYWtlQ29weU1hcCIsIm1ha2VDb3B5U2V0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYXNzZXJ0Q2hlY2tlcixhc3NlcnRQYXNzYWJsZSxGYXIsZ2V0VGFnLGlzT2JqZWN0LG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsY29tcGFyZUFudGlSYW5rLG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0LHNvcnRCeVJhbmssaWRlbnRDaGVja2VyLFgscSxGYWlsLGNoZWNrRWxlbWVudHMsbWFrZVNldE9mRWxlbWVudHMsY2hlY2tCYWdFbnRyaWVzLG1ha2VCYWdPZkVudHJpZXM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXNzYWJsZVwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdFwiLFskaM2PX2EgPT4gKG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gJGjNj19hKV1dLFtcInNvcnRCeVJhbmtcIixbJGjNj19hID0+IChzb3J0QnlSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2lkZW50LWNoZWNrZXIuanNcIiwgW1tcImlkZW50Q2hlY2tlclwiLFskaM2PX2EgPT4gKGlkZW50Q2hlY2tlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL2NvcHlTZXQuanNcIiwgW1tcImNoZWNrRWxlbWVudHNcIixbJGjNj19hID0+IChjaGVja0VsZW1lbnRzID0gJGjNj19hKV1dLFtcIm1ha2VTZXRPZkVsZW1lbnRzXCIsWyRozY9fYSA9PiAobWFrZVNldE9mRWxlbWVudHMgPSAkaM2PX2EpXV1dXSxbXCIuL2NvcHlCYWcuanNcIiwgW1tcImNoZWNrQmFnRW50cmllc1wiLFskaM2PX2EgPT4gKGNoZWNrQmFnRW50cmllcyA9ICRozY9fYSldXSxbXCJtYWtlQmFnT2ZFbnRyaWVzXCIsWyRozY9fYSA9PiAobWFrZUJhZ09mRW50cmllcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cbiAqL1xuXG4vL1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBjaGVja1ByaW1pdGl2ZUtleSA9ICh2YWwsIGNoZWNrKSA9PiB7XG4gIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNoZWNrICE9PSBpZGVudENoZWNrZXIgJiZcbiAgICAgIGNoZWNrKGZhbHNlLCBYYEEgJHtxKHR5cGVvZiB2YWwpfSBjYW5ub3QgYmUgYSBwcmltaXRpdmU6ICR7dmFsfWApXG4gICAgKTtcbiAgfVxuICAvL1xuICAvL1xuICBhc3NlcnRQYXNzYWJsZSh2YWwpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaXNQcmltaXRpdmVLZXkgPSB2YWwgPT4gY2hlY2tQcmltaXRpdmVLZXkodmFsLCBpZGVudENoZWNrZXIpOyRozY9fb25jZS5pc1ByaW1pdGl2ZUtleShpc1ByaW1pdGl2ZUtleSk7XG5oYXJkZW4oaXNQcmltaXRpdmVLZXkpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydFByaW1pdGl2ZUtleSA9IHZhbCA9PiB7XG4gIGNoZWNrUHJpbWl0aXZlS2V5KHZhbCwgYXNzZXJ0Q2hlY2tlcik7XG59OyRozY9fb25jZS5hc3NlcnRQcmltaXRpdmVLZXkoYXNzZXJ0UHJpbWl0aXZlS2V5KTtcbmhhcmRlbihhc3NlcnRQcmltaXRpdmVLZXkpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hlY2tTY2FsYXJLZXkgPSAodmFsLCBjaGVjaykgPT4ge1xuICBpZiAoaXNQcmltaXRpdmVLZXkodmFsKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHZhbCk7XG4gIGlmIChwYXNzU3R5bGUgPT09ICdyZW1vdGFibGUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGNoZWNrKGZhbHNlLCBYYEEgJHtxKHBhc3NTdHlsZSl9IGNhbm5vdCBiZSBhIHNjYWxhciBrZXk6ICR7dmFsfWApO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuY2hlY2tTY2FsYXJLZXkoY2hlY2tTY2FsYXJLZXkpO1xuICAgICAgIGNvbnN0IGlzU2NhbGFyS2V5ID0gdmFsID0+IGNoZWNrU2NhbGFyS2V5KHZhbCwgaWRlbnRDaGVja2VyKTskaM2PX29uY2UuaXNTY2FsYXJLZXkoaXNTY2FsYXJLZXkpO1xuaGFyZGVuKGlzU2NhbGFyS2V5KTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRTY2FsYXJLZXkgPSB2YWwgPT4ge1xuICBjaGVja1NjYWxhcktleSh2YWwsIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0U2NhbGFyS2V5KGFzc2VydFNjYWxhcktleSk7XG5oYXJkZW4oYXNzZXJ0U2NhbGFyS2V5KTtcblxuLy9cblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy9cbmNvbnN0IGtleU1lbW8gPSBuZXcgV2Vha1NldCgpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hlY2tLZXkgPSAodmFsLCBjaGVjaykgPT4ge1xuICBpZiAoIWlzT2JqZWN0KHZhbCkpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgYXNzZXJ0UGFzc2FibGUodmFsKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvL1xuICBpZiAoa2V5TWVtby5oYXModmFsKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vXG4gIGNvbnN0IHJlc3VsdCA9IGNoZWNrS2V5SW50ZXJuYWwodmFsLCBjaGVjayk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBrZXlNZW1vLmFkZCh2YWwpO1xuICB9XG4gIC8vXG4gIC8vXG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5jaGVja0tleShjaGVja0tleSk7XG5oYXJkZW4oY2hlY2tLZXkpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0tleSA9IHZhbCA9PiBjaGVja0tleSh2YWwsIGlkZW50Q2hlY2tlcik7JGjNj19vbmNlLmlzS2V5KGlzS2V5KTtcbmhhcmRlbihpc0tleSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0S2V5ID0gdmFsID0+IHtcbiAgY2hlY2tLZXkodmFsLCBhc3NlcnRDaGVja2VyKTtcbn07JGjNj19vbmNlLmFzc2VydEtleShhc3NlcnRLZXkpO1xuaGFyZGVuKGFzc2VydEtleSk7XG5cbi8vXG5cbi8vXG4vL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBjb3B5U2V0TWVtbyA9IG5ldyBXZWFrU2V0KCk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGVja0NvcHlTZXQgPSAocywgY2hlY2spID0+IHtcbiAgaWYgKGNvcHlTZXRNZW1vLmhhcyhzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9XG4gICAgKChwYXNzU3R5bGVPZihzKSA9PT0gJ3RhZ2dlZCcgJiYgZ2V0VGFnKHMpID09PSAnY29weVNldCcpIHx8XG4gICAgICBjaGVjayhmYWxzZSwgWGBOb3QgYSBjb3B5U2V0OiAke3N9YCkpICYmXG4gICAgY2hlY2tFbGVtZW50cyhzLnBheWxvYWQsIGNoZWNrKSAmJlxuICAgIGNoZWNrS2V5KHMucGF5bG9hZCwgY2hlY2spO1xuICBpZiAocmVzdWx0KSB7XG4gICAgY29weVNldE1lbW8uYWRkKHMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5jaGVja0NvcHlTZXQoY2hlY2tDb3B5U2V0KTtcbmhhcmRlbihjaGVja0NvcHlTZXQpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzQ29weVNldCA9IHMgPT4gY2hlY2tDb3B5U2V0KHMsIGlkZW50Q2hlY2tlcik7JGjNj19vbmNlLmlzQ29weVNldChpc0NvcHlTZXQpO1xuaGFyZGVuKGlzQ29weVNldCk7XG5cbi8qXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGFzc2VydENvcHlTZXQgPSBzID0+IHtcbiAgY2hlY2tDb3B5U2V0KHMsIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0Q29weVNldChhc3NlcnRDb3B5U2V0KTtcbmhhcmRlbihhc3NlcnRDb3B5U2V0KTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldENvcHlTZXRLZXlzID0gcyA9PiB7XG4gIGFzc2VydENvcHlTZXQocyk7XG4gIHJldHVybiBzLnBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRDb3B5U2V0S2V5cyhnZXRDb3B5U2V0S2V5cyk7XG5oYXJkZW4oZ2V0Q29weVNldEtleXMpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBldmVyeUNvcHlTZXRLZXkgPSAocywgZm4pID0+XG4gIGdldENvcHlTZXRLZXlzKHMpLmV2ZXJ5KChrZXksIGluZGV4KSA9PiBmbihrZXksIGluZGV4KSk7JGjNj19vbmNlLmV2ZXJ5Q29weVNldEtleShldmVyeUNvcHlTZXRLZXkpO1xuaGFyZGVuKGV2ZXJ5Q29weVNldEtleSk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ29weVNldCA9IGVsZW1lbnRJdGVyID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gbWFrZVNldE9mRWxlbWVudHMoZWxlbWVudEl0ZXIpO1xuICBhc3NlcnRDb3B5U2V0KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5tYWtlQ29weVNldChtYWtlQ29weVNldCk7XG5oYXJkZW4obWFrZUNvcHlTZXQpO1xuXG4vL1xuXG4vL1xuLy9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgY29weUJhZ01lbW8gPSBuZXcgV2Vha1NldCgpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hlY2tDb3B5QmFnID0gKGIsIGNoZWNrKSA9PiB7XG4gIGlmIChjb3B5QmFnTWVtby5oYXMoYikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPVxuICAgICgocGFzc1N0eWxlT2YoYikgPT09ICd0YWdnZWQnICYmIGdldFRhZyhiKSA9PT0gJ2NvcHlCYWcnKSB8fFxuICAgICAgY2hlY2soZmFsc2UsIFhgTm90IGEgY29weUJhZzogJHtifWApKSAmJlxuICAgIGNoZWNrQmFnRW50cmllcyhiLnBheWxvYWQsIGNoZWNrKSAmJlxuICAgIGNoZWNrS2V5KGIucGF5bG9hZCwgY2hlY2spO1xuICBpZiAocmVzdWx0KSB7XG4gICAgY29weUJhZ01lbW8uYWRkKGIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5jaGVja0NvcHlCYWcoY2hlY2tDb3B5QmFnKTtcbmhhcmRlbihjaGVja0NvcHlCYWcpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzQ29weUJhZyA9IGIgPT4gY2hlY2tDb3B5QmFnKGIsIGlkZW50Q2hlY2tlcik7JGjNj19vbmNlLmlzQ29weUJhZyhpc0NvcHlCYWcpO1xuaGFyZGVuKGlzQ29weUJhZyk7XG5cbi8qXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGFzc2VydENvcHlCYWcgPSBiID0+IHtcbiAgY2hlY2tDb3B5QmFnKGIsIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0Q29weUJhZyhhc3NlcnRDb3B5QmFnKTtcbmhhcmRlbihhc3NlcnRDb3B5QmFnKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldENvcHlCYWdFbnRyaWVzID0gYiA9PiB7XG4gIGFzc2VydENvcHlCYWcoYik7XG4gIHJldHVybiBiLnBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRDb3B5QmFnRW50cmllcyhnZXRDb3B5QmFnRW50cmllcyk7XG5oYXJkZW4oZ2V0Q29weUJhZ0VudHJpZXMpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBldmVyeUNvcHlCYWdFbnRyeSA9IChiLCBmbikgPT5cbiAgZ2V0Q29weUJhZ0VudHJpZXMoYikuZXZlcnkoKGVudHJ5LCBpbmRleCkgPT4gZm4oZW50cnksIGluZGV4KSk7JGjNj19vbmNlLmV2ZXJ5Q29weUJhZ0VudHJ5KGV2ZXJ5Q29weUJhZ0VudHJ5KTtcbmhhcmRlbihldmVyeUNvcHlCYWdFbnRyeSk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ29weUJhZyA9IGJhZ0VudHJ5SXRlciA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VCYWdPZkVudHJpZXMoYmFnRW50cnlJdGVyKTtcbiAgYXNzZXJ0Q29weUJhZyhyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UubWFrZUNvcHlCYWcobWFrZUNvcHlCYWcpO1xuaGFyZGVuKG1ha2VDb3B5QmFnKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDb3B5QmFnRnJvbUVsZW1lbnRzID0gZWxlbWVudEl0ZXIgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBmdWxsQ29tcGFyZSA9IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KCkuYW50aUNvbXBhcmF0b3I7XG4gIGNvbnN0IHNvcnRlZCA9IHNvcnRCeVJhbmsoZWxlbWVudEl0ZXIsIGZ1bGxDb21wYXJlKTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWQubGVuZ3RoOyApIHtcbiAgICBjb25zdCBrID0gc29ydGVkW2ldO1xuICAgIGxldCBqID0gaSArIDE7XG4gICAgd2hpbGUgKGogPCBzb3J0ZWQubGVuZ3RoICYmIGZ1bGxDb21wYXJlKGssIHNvcnRlZFtqXSkgPT09IDApIHtcbiAgICAgIGogKz0gMTtcbiAgICB9XG4gICAgZW50cmllcy5wdXNoKFtrLCBCaWdJbnQoaiAtIGkpXSk7XG4gICAgaSA9IGo7XG4gIH1cbiAgcmV0dXJuIG1ha2VDb3B5QmFnKGVudHJpZXMpO1xufTskaM2PX29uY2UubWFrZUNvcHlCYWdGcm9tRWxlbWVudHMobWFrZUNvcHlCYWdGcm9tRWxlbWVudHMpO1xuaGFyZGVuKG1ha2VDb3B5QmFnRnJvbUVsZW1lbnRzKTtcblxuLy9cblxuLy9cbi8vXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGNvcHlNYXBNZW1vID0gbmV3IFdlYWtTZXQoKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNoZWNrQ29weU1hcCA9IChtLCBjaGVjaykgPT4ge1xuICBpZiAoY29weU1hcE1lbW8uaGFzKG0pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCEocGFzc1N0eWxlT2YobSkgPT09ICd0YWdnZWQnICYmIGdldFRhZyhtKSA9PT0gJ2NvcHlNYXAnKSkge1xuICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGBOb3QgYSBjb3B5TWFwOiAke219YCk7XG4gIH1cbiAgY29uc3QgeyBwYXlsb2FkIH0gPSBtO1xuICBpZiAocGFzc1N0eWxlT2YocGF5bG9hZCkgIT09ICdjb3B5UmVjb3JkJykge1xuICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGBBIGNvcHlNYXAncyBwYXlsb2FkIG11c3QgYmUgYSByZWNvcmQ6ICR7bX1gKTtcbiAgfVxuICBjb25zdCB7IGtleXMsIHZhbHVlcywgLi4ucmVzdCB9ID0gcGF5bG9hZDtcbiAgY29uc3QgcmVzdWx0ID1cbiAgICAob3duS2V5cyhyZXN0KS5sZW5ndGggPT09IDAgfHxcbiAgICAgIGNoZWNrKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgWGBBIGNvcHlNYXAncyBwYXlsb2FkIG11c3Qgb25seSBoYXZlIC5rZXlzIGFuZCAudmFsdWVzOiAke219YCxcbiAgICAgICkpICYmXG4gICAgY2hlY2tFbGVtZW50cyhrZXlzLCBjaGVjaykgJiZcbiAgICBjaGVja0tleShrZXlzLCBjaGVjaykgJiZcbiAgICAocGFzc1N0eWxlT2YodmFsdWVzKSA9PT0gJ2NvcHlBcnJheScgfHxcbiAgICAgIGNoZWNrKGZhbHNlLCBYYEEgY29weU1hcCdzIC52YWx1ZXMgbXVzdCBiZSBhIGNvcHlBcnJheTogJHttfWApKSAmJlxuICAgIChrZXlzLmxlbmd0aCA9PT0gdmFsdWVzLmxlbmd0aCB8fFxuICAgICAgY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYEEgY29weU1hcCBtdXN0IGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGtleXMgYW5kIHZhbHVlczogJHttfWAsXG4gICAgICApKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIGNvcHlNYXBNZW1vLmFkZChtKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UuY2hlY2tDb3B5TWFwKGNoZWNrQ29weU1hcCk7XG5oYXJkZW4oY2hlY2tDb3B5TWFwKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NvcHlNYXAgPSBtID0+IGNoZWNrQ29weU1hcChtLCBpZGVudENoZWNrZXIpOyRozY9fb25jZS5pc0NvcHlNYXAoaXNDb3B5TWFwKTtcbmhhcmRlbihpc0NvcHlNYXApO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydENvcHlNYXAgPSBtID0+IHtcbiAgY2hlY2tDb3B5TWFwKG0sIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0Q29weU1hcChhc3NlcnRDb3B5TWFwKTtcbmhhcmRlbihhc3NlcnRDb3B5TWFwKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0Q29weU1hcEtleXMgPSBtID0+IHtcbiAgYXNzZXJ0Q29weU1hcChtKTtcbiAgcmV0dXJuIG0ucGF5bG9hZC5rZXlzO1xufTskaM2PX29uY2UuZ2V0Q29weU1hcEtleXMoZ2V0Q29weU1hcEtleXMpO1xuaGFyZGVuKGdldENvcHlNYXBLZXlzKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0Q29weU1hcFZhbHVlcyA9IG0gPT4ge1xuICBhc3NlcnRDb3B5TWFwKG0pO1xuICByZXR1cm4gbS5wYXlsb2FkLnZhbHVlcztcbn07JGjNj19vbmNlLmdldENvcHlNYXBWYWx1ZXMoZ2V0Q29weU1hcFZhbHVlcyk7XG5oYXJkZW4oZ2V0Q29weU1hcFZhbHVlcyk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRDb3B5TWFwRW50cnlBcnJheSA9IG0gPT4ge1xuICBhc3NlcnRDb3B5TWFwKG0pO1xuICBjb25zdCB7XG4gICAgcGF5bG9hZDogeyBrZXlzLCB2YWx1ZXMgfSxcbiAgfSA9IG07XG4gIHJldHVybiBoYXJkZW4oa2V5cy5tYXAoKGtleSwgaSkgPT4gW2tleSwgdmFsdWVzW2ldXSkpO1xufTskaM2PX29uY2UuZ2V0Q29weU1hcEVudHJ5QXJyYXkoZ2V0Q29weU1hcEVudHJ5QXJyYXkpO1xuaGFyZGVuKGdldENvcHlNYXBFbnRyeUFycmF5KTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0Q29weU1hcEVudHJpZXMgPSBtID0+IHtcbiAgYXNzZXJ0Q29weU1hcChtKTtcbiAgY29uc3Qge1xuICAgIHBheWxvYWQ6IHsga2V5cywgdmFsdWVzIH0sXG4gIH0gPSBtO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gLyogICAgICAgICAgICAgICAgKi8gKGtleXMpO1xuICByZXR1cm4gRmFyKCdDb3B5TWFwIGVudHJpZXMgaXRlcmFibGUnLCB7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHJldHVybiBGYXIoJ0NvcHlNYXAgZW50cmllcyBpdGVyYXRvcicsIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICBpZiAoaSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBba2V5c1tpXSwgdmFsdWVzW2ldXSB9KTtcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLmdldENvcHlNYXBFbnRyaWVzKGdldENvcHlNYXBFbnRyaWVzKTtcbmhhcmRlbihnZXRDb3B5TWFwRW50cmllcyk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZXZlcnlDb3B5TWFwS2V5ID0gKG0sIGZuKSA9PlxuICBnZXRDb3B5TWFwS2V5cyhtKS5ldmVyeSgoa2V5LCBpbmRleCkgPT4gZm4oa2V5LCBpbmRleCkpOyRozY9fb25jZS5ldmVyeUNvcHlNYXBLZXkoZXZlcnlDb3B5TWFwS2V5KTtcbmhhcmRlbihldmVyeUNvcHlNYXBLZXkpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGV2ZXJ5Q29weU1hcFZhbHVlID0gKG0sIGZuKSA9PlxuICBnZXRDb3B5TWFwVmFsdWVzKG0pLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGZuKHZhbHVlLCBpbmRleCkpOyRozY9fb25jZS5ldmVyeUNvcHlNYXBWYWx1ZShldmVyeUNvcHlNYXBWYWx1ZSk7XG5oYXJkZW4oZXZlcnlDb3B5TWFwVmFsdWUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjb3B5TWFwS2V5U2V0ID0gbSA9PlxuICAvL1xuICBtYWtlVGFnZ2VkKCdjb3B5U2V0JywgbS5wYXlsb2FkLmtleXMpOyRozY9fb25jZS5jb3B5TWFwS2V5U2V0KGNvcHlNYXBLZXlTZXQpO1xuaGFyZGVuKGNvcHlNYXBLZXlTZXQpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ29weU1hcCA9IGVudHJpZXMgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBzb3J0ZWRFbnRyaWVzID0gc29ydEJ5UmFuayhlbnRyaWVzLCBjb21wYXJlQW50aVJhbmspO1xuICBjb25zdCBrZXlzID0gc29ydGVkRW50cmllcy5tYXAoKFtrLCBfdl0pID0+IGspO1xuICBjb25zdCB2YWx1ZXMgPSBzb3J0ZWRFbnRyaWVzLm1hcCgoW19rLCB2XSkgPT4gdik7XG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VUYWdnZWQoJ2NvcHlNYXAnLCB7IGtleXMsIHZhbHVlcyB9KTtcbiAgYXNzZXJ0Q29weU1hcChyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UubWFrZUNvcHlNYXAobWFrZUNvcHlNYXApO1xuaGFyZGVuKG1ha2VDb3B5TWFwKTtcblxuLy9cblxuLypcblxuXG5cbiAqL1xuY29uc3QgY2hlY2tLZXlJbnRlcm5hbCA9ICh2YWwsIGNoZWNrKSA9PiB7XG4gIGNvbnN0IGNoZWNrSXQgPSBjaGlsZCA9PiBjaGVja0tleShjaGlsZCwgY2hlY2spO1xuXG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHZhbCk7XG4gIHN3aXRjaCAocGFzc1N0eWxlKSB7XG4gICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh2YWwpLmV2ZXJ5KGNoZWNrSXQpO1xuICAgIH1cbiAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHZhbC5ldmVyeShjaGVja0l0KTtcbiAgICB9XG4gICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgY29uc3QgdGFnID0gZ2V0VGFnKHZhbCk7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICAgIHJldHVybiBjaGVja0NvcHlTZXQodmFsLCBjaGVjayk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY29weUJhZyc6IHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tDb3B5QmFnKHZhbCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvcHlNYXAnOiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNoZWNrQ29weU1hcCh2YWwsIGNoZWNrKSAmJlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgZXZlcnlDb3B5TWFwVmFsdWUodmFsLCBjaGVja0l0KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjaGVjayAhPT0gaWRlbnRDaGVja2VyICYmXG4gICAgICAgICAgICBjaGVjayhmYWxzZSwgWGBBIHBhc3NhYmxlIHRhZ2dlZCAke3EodGFnKX0gaXMgbm90IGEga2V5OiAke3ZhbH1gKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXNlICdlcnJvcic6XG4gICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGBBICR7cShwYXNzU3R5bGUpfSBjYW5ub3QgYmUgYSBrZXlgKTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShwYXNzU3R5bGUpfTogJHt2YWx9YDtcbiAgICB9XG4gIH1cbn07XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1ByaW1pdGl2ZUtleSI6WyJpc1ByaW1pdGl2ZUtleSJdLCJhc3NlcnRQcmltaXRpdmVLZXkiOlsiYXNzZXJ0UHJpbWl0aXZlS2V5Il0sImNoZWNrU2NhbGFyS2V5IjpbImNoZWNrU2NhbGFyS2V5Il0sImlzU2NhbGFyS2V5IjpbImlzU2NhbGFyS2V5Il0sImFzc2VydFNjYWxhcktleSI6WyJhc3NlcnRTY2FsYXJLZXkiXSwiY2hlY2tLZXkiOlsiY2hlY2tLZXkiXSwiaXNLZXkiOlsiaXNLZXkiXSwiYXNzZXJ0S2V5IjpbImFzc2VydEtleSJdLCJjaGVja0NvcHlTZXQiOlsiY2hlY2tDb3B5U2V0Il0sImlzQ29weVNldCI6WyJpc0NvcHlTZXQiXSwiYXNzZXJ0Q29weVNldCI6WyJhc3NlcnRDb3B5U2V0Il0sImdldENvcHlTZXRLZXlzIjpbImdldENvcHlTZXRLZXlzIl0sImV2ZXJ5Q29weVNldEtleSI6WyJldmVyeUNvcHlTZXRLZXkiXSwibWFrZUNvcHlTZXQiOlsibWFrZUNvcHlTZXQiXSwiY2hlY2tDb3B5QmFnIjpbImNoZWNrQ29weUJhZyJdLCJpc0NvcHlCYWciOlsiaXNDb3B5QmFnIl0sImFzc2VydENvcHlCYWciOlsiYXNzZXJ0Q29weUJhZyJdLCJnZXRDb3B5QmFnRW50cmllcyI6WyJnZXRDb3B5QmFnRW50cmllcyJdLCJldmVyeUNvcHlCYWdFbnRyeSI6WyJldmVyeUNvcHlCYWdFbnRyeSJdLCJtYWtlQ29weUJhZyI6WyJtYWtlQ29weUJhZyJdLCJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyI6WyJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyJdLCJjaGVja0NvcHlNYXAiOlsiY2hlY2tDb3B5TWFwIl0sImlzQ29weU1hcCI6WyJpc0NvcHlNYXAiXSwiYXNzZXJ0Q29weU1hcCI6WyJhc3NlcnRDb3B5TWFwIl0sImdldENvcHlNYXBLZXlzIjpbImdldENvcHlNYXBLZXlzIl0sImdldENvcHlNYXBWYWx1ZXMiOlsiZ2V0Q29weU1hcFZhbHVlcyJdLCJnZXRDb3B5TWFwRW50cnlBcnJheSI6WyJnZXRDb3B5TWFwRW50cnlBcnJheSJdLCJnZXRDb3B5TWFwRW50cmllcyI6WyJnZXRDb3B5TWFwRW50cmllcyJdLCJldmVyeUNvcHlNYXBLZXkiOlsiZXZlcnlDb3B5TWFwS2V5Il0sImV2ZXJ5Q29weU1hcFZhbHVlIjpbImV2ZXJ5Q29weU1hcFZhbHVlIl0sImNvcHlNYXBLZXlTZXQiOlsiY29weU1hcEtleVNldCJdLCJtYWtlQ29weU1hcCI6WyJtYWtlQ29weU1hcCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADndpWarBkAAKwZAAAtAAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL2NvbXBhcmVLZXlzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAZW5kby9lcnJvcnMiLCIuL2NoZWNrS2V5LmpzIiwiLi9rZXljb2xsZWN0aW9uLW9wZXJhdG9ycy5qcyJdLCJleHBvcnRzIjpbImJhZ0NvbXBhcmUiLCJjb21wYXJlS2V5cyIsImtleUVRIiwia2V5R1QiLCJrZXlHVEUiLCJrZXlMVCIsImtleUxURSIsInNldENvbXBhcmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwYXNzU3R5bGVPZixnZXRUYWcsY29tcGFyZVJhbmsscmVjb3JkTmFtZXMscmVjb3JkVmFsdWVzLHRyaXZpYWxDb21wYXJhdG9yLHEsRmFpbCxhc3NlcnRLZXksZ2V0Q29weUJhZ0VudHJpZXMsZ2V0Q29weU1hcEVudHJ5QXJyYXksZ2V0Q29weVNldEtleXMsbWFrZUNvbXBhcmVDb2xsZWN0aW9uOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiY29tcGFyZVJhbmtcIixbJGjNj19hID0+IChjb21wYXJlUmFuayA9ICRozY9fYSldXSxbXCJyZWNvcmROYW1lc1wiLFskaM2PX2EgPT4gKHJlY29yZE5hbWVzID0gJGjNj19hKV1dLFtcInJlY29yZFZhbHVlc1wiLFskaM2PX2EgPT4gKHJlY29yZFZhbHVlcyA9ICRozY9fYSldXSxbXCJ0cml2aWFsQ29tcGFyYXRvclwiLFskaM2PX2EgPT4gKHRyaXZpYWxDb21wYXJhdG9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vY2hlY2tLZXkuanNcIiwgW1tcImFzc2VydEtleVwiLFskaM2PX2EgPT4gKGFzc2VydEtleSA9ICRozY9fYSldXSxbXCJnZXRDb3B5QmFnRW50cmllc1wiLFskaM2PX2EgPT4gKGdldENvcHlCYWdFbnRyaWVzID0gJGjNj19hKV1dLFtcImdldENvcHlNYXBFbnRyeUFycmF5XCIsWyRozY9fYSA9PiAoZ2V0Q29weU1hcEVudHJ5QXJyYXkgPSAkaM2PX2EpXV0sW1wiZ2V0Q29weVNldEtleXNcIixbJGjNj19hID0+IChnZXRDb3B5U2V0S2V5cyA9ICRozY9fYSldXV1dLFtcIi4va2V5Y29sbGVjdGlvbi1vcGVyYXRvcnMuanNcIiwgW1tcIm1ha2VDb21wYXJlQ29sbGVjdGlvblwiLFskaM2PX2EgPT4gKG1ha2VDb21wYXJlQ29sbGVjdGlvbiA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBzZXRDb21wYXJlID0gbWFrZUNvbXBhcmVDb2xsZWN0aW9uKFxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgcyA9PiBoYXJkZW4oZ2V0Q29weVNldEtleXMocykubWFwKGtleSA9PiBba2V5LCAxXSkpXG4gICksXG4gIDAsXG4gIHRyaXZpYWxDb21wYXJhdG9yLFxuKTskaM2PX29uY2Uuc2V0Q29tcGFyZShzZXRDb21wYXJlKTtcbmhhcmRlbihzZXRDb21wYXJlKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGJhZ0NvbXBhcmUgPSBtYWtlQ29tcGFyZUNvbGxlY3Rpb24oXG4gIGdldENvcHlCYWdFbnRyaWVzLFxuICAwbixcbiAgdHJpdmlhbENvbXBhcmF0b3IsXG4pOyRozY9fb25jZS5iYWdDb21wYXJlKGJhZ0NvbXBhcmUpO1xuaGFyZGVuKGJhZ0NvbXBhcmUpO1xuXG4vL1xuLy9cbi8vXG4vL1xuLypcblxuXG4gKi9cbmNvbnN0IEFCU0VOVCA9IFN5bWJvbCgnYWJzZW50Jyk7XG4vKlxuXG5cblxuXG5cblxuICovXG4vL1xuY29uc3QgX21hcENvbXBhcmUgPSBtYWtlQ29tcGFyZUNvbGxlY3Rpb24oXG4gIGdldENvcHlNYXBFbnRyeUFycmF5LFxuICBBQlNFTlQsXG4gIChsZWZ0VmFsdWUsIHJpZ2h0VmFsdWUpID0+IHtcbiAgICBpZiAobGVmdFZhbHVlID09PSBBQlNFTlQgJiYgcmlnaHRWYWx1ZSA9PT0gQUJTRU5UKSB7XG4gICAgICB0aHJvdyBGYWlsYEludGVybmFsOiBVbmV4cGVjdGVkIGFic2VudCBlbnRyeSBwYWlyYDtcbiAgICB9IGVsc2UgaWYgKGxlZnRWYWx1ZSA9PT0gQUJTRU5UKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIGlmIChyaWdodFZhbHVlID09PSBBQlNFTlQpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNvbXBhcmVLZXlzKGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSk7XG4gICAgfVxuICB9LFxuKTtcbmhhcmRlbihfbWFwQ29tcGFyZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBjb21wYXJlS2V5cyA9IChsZWZ0LCByaWdodCkgPT4ge1xuICBhc3NlcnRLZXkobGVmdCk7XG4gIGFzc2VydEtleShyaWdodCk7XG4gIGNvbnN0IGxlZnRTdHlsZSA9IHBhc3NTdHlsZU9mKGxlZnQpO1xuICBjb25zdCByaWdodFN0eWxlID0gcGFzc1N0eWxlT2YocmlnaHQpO1xuICBpZiAobGVmdFN0eWxlICE9PSByaWdodFN0eWxlKSB7XG4gICAgLy9cbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIHN3aXRjaCAobGVmdFN0eWxlKSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICBjYXNlICdudWxsJzpcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICBjYXNlICdiaWdpbnQnOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBjb21wYXJlUmFuayhsZWZ0LCByaWdodCk7XG4gICAgfVxuICAgIGNhc2UgJ251bWJlcic6IHtcbiAgICAgIGNvbnN0IHJhbmtDb21wID0gY29tcGFyZVJhbmsobGVmdCwgcmlnaHQpO1xuICAgICAgaWYgKHJhbmtDb21wID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKE51bWJlci5pc05hTihsZWZ0KSB8fCBOdW1iZXIuaXNOYU4ocmlnaHQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGFzc2VydCghTnVtYmVyLmlzTmFOKGxlZnQpIHx8ICFOdW1iZXIuaXNOYU4ocmlnaHQpKTtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIHJhbmtDb21wO1xuICAgIH1cbiAgICBjYXNlICdyZW1vdGFibGUnOiB7XG4gICAgICBpZiAobGVmdCA9PT0gcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgbGVuID0gTWF0aC5taW4obGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmVLZXlzKGxlZnRbaV0sIHJpZ2h0W2ldKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHJldHVybiBjb21wYXJlUmFuayhsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoKTtcbiAgICB9XG4gICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgbGVmdE5hbWVzID0gcmVjb3JkTmFtZXMobGVmdCk7XG4gICAgICAvL1xuICAgICAgY29uc3QgcmlnaHROYW1lcyA9IHJlY29yZE5hbWVzKHJpZ2h0KTtcblxuICAgICAgLy9cbiAgICAgIGlmICgha2V5RVEobGVmdE5hbWVzLCByaWdodE5hbWVzKSkge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGNvbnN0IGxlZnRWYWx1ZXMgPSByZWNvcmRWYWx1ZXMobGVmdCwgbGVmdE5hbWVzKTtcbiAgICAgIC8vXG4gICAgICBjb25zdCByaWdodFZhbHVlcyA9IHJlY29yZFZhbHVlcyhyaWdodCwgcmlnaHROYW1lcyk7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZWZ0VmFsdWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBjb21wYXJlS2V5cyhsZWZ0VmFsdWVzW2ldLCByaWdodFZhbHVlc1tpXSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oY29tcCkpIHtcbiAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgIT09IGNvbXAgJiYgY29tcCAhPT0gMCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvbXA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChcbiAgICAgICAgICAgICAgKHJlc3VsdCA9PT0gLTEgJiYgY29tcCA9PT0gMSkgfHwgKHJlc3VsdCA9PT0gMSAmJiBjb21wID09PSAtMSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAvL1xuICAgICAgY29uc3QgbGVmdFRhZyA9IGdldFRhZyhsZWZ0KTtcbiAgICAgIC8vXG4gICAgICBjb25zdCByaWdodFRhZyA9IGdldFRhZyhyaWdodCk7XG4gICAgICBpZiAobGVmdFRhZyAhPT0gcmlnaHRUYWcpIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAobGVmdFRhZykge1xuICAgICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIHNldENvbXBhcmUobGVmdCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvcHlCYWcnOiB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gYmFnQ29tcGFyZShsZWZ0LCByaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY29weU1hcCc6IHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdGhyb3cgRmFpbGBNYXAgY29tcGFyaXNvbiBub3QgeWV0IGltcGxlbWVudGVkOiAke2xlZnR9IHZzICR7cmlnaHR9YDtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhyb3cgRmFpbGB1bmV4cGVjdGVkIHRhZyAke3EobGVmdFRhZyl9OiAke2xlZnR9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShsZWZ0U3R5bGUpfTogJHtsZWZ0fWA7XG4gICAgfVxuICB9XG59OyRozY9fb25jZS5jb21wYXJlS2V5cyhjb21wYXJlS2V5cyk7XG5oYXJkZW4oY29tcGFyZUtleXMpO1xuXG4gICAgICAgY29uc3Qga2V5TFQgPSAobGVmdCwgcmlnaHQpID0+IGNvbXBhcmVLZXlzKGxlZnQsIHJpZ2h0KSA8IDA7JGjNj19vbmNlLmtleUxUKGtleUxUKTtcbmhhcmRlbihrZXlMVCk7XG5cbiAgICAgICBjb25zdCBrZXlMVEUgPSAobGVmdCwgcmlnaHQpID0+IGNvbXBhcmVLZXlzKGxlZnQsIHJpZ2h0KSA8PSAwOyRozY9fb25jZS5rZXlMVEUoa2V5TFRFKTtcbmhhcmRlbihrZXlMVEUpO1xuXG4gICAgICAgY29uc3Qga2V5RVEgPSAobGVmdCwgcmlnaHQpID0+IGNvbXBhcmVLZXlzKGxlZnQsIHJpZ2h0KSA9PT0gMDskaM2PX29uY2Uua2V5RVEoa2V5RVEpO1xuaGFyZGVuKGtleUVRKTtcblxuICAgICAgIGNvbnN0IGtleUdURSA9IChsZWZ0LCByaWdodCkgPT4gY29tcGFyZUtleXMobGVmdCwgcmlnaHQpID49IDA7JGjNj19vbmNlLmtleUdURShrZXlHVEUpO1xuaGFyZGVuKGtleUdURSk7XG5cbiAgICAgICBjb25zdCBrZXlHVCA9IChsZWZ0LCByaWdodCkgPT4gY29tcGFyZUtleXMobGVmdCwgcmlnaHQpID4gMDskaM2PX29uY2Uua2V5R1Qoa2V5R1QpO1xuaGFyZGVuKGtleUdUKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InNldENvbXBhcmUiOlsic2V0Q29tcGFyZSJdLCJiYWdDb21wYXJlIjpbImJhZ0NvbXBhcmUiXSwiY29tcGFyZUtleXMiOlsiY29tcGFyZUtleXMiXSwia2V5TFQiOlsia2V5TFQiXSwia2V5TFRFIjpbImtleUxURSJdLCJrZXlFUSI6WyJrZXlFUSJdLCJrZXlHVEUiOlsia2V5R1RFIl0sImtleUdUIjpbImtleUdUIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFzRtojrDgAA6w4AACkAAABAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvY29weUJhZy5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiYXNzZXJ0QmFnRW50cmllcyIsImFzc2VydE5vRHVwbGljYXRlS2V5cyIsImNoZWNrQmFnRW50cmllcyIsImNvZXJjZVRvQmFnRW50cmllcyIsIm1ha2VCYWdPZkVudHJpZXMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRDaGVja2VyLG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsY29tcGFyZUFudGlSYW5rLGlzUmFua1NvcnRlZCxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLFg7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJpc1JhbmtTb3J0ZWRcIixbJGjNj19hID0+IChpc1JhbmtTb3J0ZWQgPSAkaM2PX2EpXV0sW1wibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXRcIixbJGjNj19hID0+IChtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCA9ICRozY9fYSldXSxbXCJzb3J0QnlSYW5rXCIsWyRozY9fYSA9PiAoc29ydEJ5UmFuayA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrTm9EdXBsaWNhdGVLZXlzID0gKGJhZ0VudHJpZXMsIGZ1bGxDb21wYXJlLCBjaGVjaykgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBmdWxsQ29tcGFyZSA9IGZ1bGxDb21wYXJlIHx8IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KCkuYW50aUNvbXBhcmF0b3I7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgYmFnRW50cmllcyA9IHNvcnRCeVJhbmsoYmFnRW50cmllcywgZnVsbENvbXBhcmUpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gYmFnRW50cmllcztcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGswID0gYmFnRW50cmllc1tpIC0gMV1bMF07XG4gICAgY29uc3QgazEgPSBiYWdFbnRyaWVzW2ldWzBdO1xuICAgIGlmIChmdWxsQ29tcGFyZShrMCwgazEpID09PSAwKSB7XG4gICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgdmFsdWUgaGFzIGR1cGxpY2F0ZSBrZXlzOiAke2swfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydE5vRHVwbGljYXRlS2V5cyA9IChiYWdFbnRyaWVzLCBmdWxsQ29tcGFyZSA9IHVuZGVmaW5lZCkgPT4ge1xuICBjaGVja05vRHVwbGljYXRlS2V5cyhiYWdFbnRyaWVzLCBmdWxsQ29tcGFyZSwgYXNzZXJ0Q2hlY2tlcik7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmFzc2VydE5vRHVwbGljYXRlS2V5cyhhc3NlcnROb0R1cGxpY2F0ZUtleXMpO1xuICAgICAgIGNvbnN0IGNoZWNrQmFnRW50cmllcyA9IChiYWdFbnRyaWVzLCBjaGVjaykgPT4ge1xuICBpZiAocGFzc1N0eWxlT2YoYmFnRW50cmllcykgIT09ICdjb3B5QXJyYXknKSB7XG4gICAgcmV0dXJuIGNoZWNrKFxuICAgICAgZmFsc2UsXG4gICAgICBYYFRoZSBlbnRyaWVzIG9mIGEgY29weUJhZyBtdXN0IGJlIGEgY29weUFycmF5OiAke2JhZ0VudHJpZXN9YCxcbiAgICApO1xuICB9XG4gIGlmICghaXNSYW5rU29ydGVkKGJhZ0VudHJpZXMsIGNvbXBhcmVBbnRpUmFuaykpIHtcbiAgICByZXR1cm4gY2hlY2soXG4gICAgICBmYWxzZSxcbiAgICAgIFhgVGhlIGVudHJpZXMgb2YgYSBjb3B5QmFnIG11c3QgYmUgc29ydGVkIGluIHJldmVyc2UgcmFuayBvcmRlcjogJHtiYWdFbnRyaWVzfWAsXG4gICAgKTtcbiAgfVxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGJhZ0VudHJpZXMpIHtcbiAgICBpZiAoXG4gICAgICBwYXNzU3R5bGVPZihlbnRyeSkgIT09ICdjb3B5QXJyYXknIHx8XG4gICAgICBlbnRyeS5sZW5ndGggIT09IDIgfHxcbiAgICAgIHR5cGVvZiBlbnRyeVsxXSAhPT0gJ2JpZ2ludCdcbiAgICApIHtcbiAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFhgRWFjaCBlbnRyeSBvZiBhIGNvcHlCYWcgbXVzdCBiZSBwYWlyIG9mIGEga2V5IGFuZCBhIGJpZ2ludCByZXByZXNlbnRpbmcgYSBjb3VudDogJHtlbnRyeX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVudHJ5WzFdIDwgMSkge1xuICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgWGBFYWNoIGVudHJ5IG9mIGEgY29weUJhZyBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBjb3VudDogJHtlbnRyeX1gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLy9cbiAgcmV0dXJuIGNoZWNrTm9EdXBsaWNhdGVLZXlzKGJhZ0VudHJpZXMsIHVuZGVmaW5lZCwgY2hlY2spO1xufTskaM2PX29uY2UuY2hlY2tCYWdFbnRyaWVzKGNoZWNrQmFnRW50cmllcyk7XG5oYXJkZW4oY2hlY2tCYWdFbnRyaWVzKTtcblxuLy9cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0QmFnRW50cmllcyA9IGJhZ0VudHJpZXMgPT4ge1xuICBjaGVja0JhZ0VudHJpZXMoYmFnRW50cmllcywgYXNzZXJ0Q2hlY2tlcik7XG59OyRozY9fb25jZS5hc3NlcnRCYWdFbnRyaWVzKGFzc2VydEJhZ0VudHJpZXMpO1xuaGFyZGVuKGFzc2VydEJhZ0VudHJpZXMpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNvZXJjZVRvQmFnRW50cmllcyA9IGJhZ0VudHJpZXNMaXN0ID0+IHtcbiAgY29uc3QgYmFnRW50cmllcyA9IHNvcnRCeVJhbmsoYmFnRW50cmllc0xpc3QsIGNvbXBhcmVBbnRpUmFuayk7XG4gIGFzc2VydEJhZ0VudHJpZXMoYmFnRW50cmllcyk7XG4gIHJldHVybiBiYWdFbnRyaWVzO1xufTskaM2PX29uY2UuY29lcmNlVG9CYWdFbnRyaWVzKGNvZXJjZVRvQmFnRW50cmllcyk7XG5oYXJkZW4oY29lcmNlVG9CYWdFbnRyaWVzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VCYWdPZkVudHJpZXMgPSBiYWdFbnRyeUl0ZXIgPT5cbiAgbWFrZVRhZ2dlZCgnY29weUJhZycsIGNvZXJjZVRvQmFnRW50cmllcyhiYWdFbnRyeUl0ZXIpKTskaM2PX29uY2UubWFrZUJhZ09mRW50cmllcyhtYWtlQmFnT2ZFbnRyaWVzKTtcbmhhcmRlbihtYWtlQmFnT2ZFbnRyaWVzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImFzc2VydE5vRHVwbGljYXRlS2V5cyI6WyJhc3NlcnROb0R1cGxpY2F0ZUtleXMiXSwiY2hlY2tCYWdFbnRyaWVzIjpbImNoZWNrQmFnRW50cmllcyJdLCJhc3NlcnRCYWdFbnRyaWVzIjpbImFzc2VydEJhZ0VudHJpZXMiXSwiY29lcmNlVG9CYWdFbnRyaWVzIjpbImNvZXJjZVRvQmFnRW50cmllcyJdLCJtYWtlQmFnT2ZFbnRyaWVzIjpbIm1ha2VCYWdPZkVudHJpZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAABxyd+3sMAAB7DAAAKQAAAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMva2V5cy9jb3B5U2V0LmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJhc3NlcnRFbGVtZW50cyIsImFzc2VydE5vRHVwbGljYXRlcyIsImNoZWNrRWxlbWVudHMiLCJjb2VyY2VUb0VsZW1lbnRzIiwibWFrZVNldE9mRWxlbWVudHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRDaGVja2VyLG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsY29tcGFyZUFudGlSYW5rLGlzUmFua1NvcnRlZCxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLFg7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJpc1JhbmtTb3J0ZWRcIixbJGjNj19hID0+IChpc1JhbmtTb3J0ZWQgPSAkaM2PX2EpXV0sW1wibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXRcIixbJGjNj19hID0+IChtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCA9ICRozY9fYSldXSxbXCJzb3J0QnlSYW5rXCIsWyRozY9fYSA9PiAoc29ydEJ5UmFuayA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrTm9EdXBsaWNhdGVzID0gKGVsZW1lbnRzLCBmdWxsQ29tcGFyZSwgY2hlY2spID0+IHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgZnVsbENvbXBhcmUgPSBmdWxsQ29tcGFyZSB8fCBtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCgpLmFudGlDb21wYXJhdG9yO1xuXG4gIGVsZW1lbnRzID0gc29ydEJ5UmFuayhlbGVtZW50cywgZnVsbENvbXBhcmUpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gZWxlbWVudHM7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBrMCA9IGVsZW1lbnRzW2kgLSAxXTtcbiAgICBjb25zdCBrMSA9IGVsZW1lbnRzW2ldO1xuICAgIGlmIChmdWxsQ29tcGFyZShrMCwgazEpID09PSAwKSB7XG4gICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgdmFsdWUgaGFzIGR1cGxpY2F0ZSBrZXlzOiAke2swfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydE5vRHVwbGljYXRlcyA9IChlbGVtZW50cywgZnVsbENvbXBhcmUgPSB1bmRlZmluZWQpID0+IHtcbiAgY2hlY2tOb0R1cGxpY2F0ZXMoZWxlbWVudHMsIGZ1bGxDb21wYXJlLCBhc3NlcnRDaGVja2VyKTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0Tm9EdXBsaWNhdGVzKGFzc2VydE5vRHVwbGljYXRlcyk7XG4gICAgICAgY29uc3QgY2hlY2tFbGVtZW50cyA9IChlbGVtZW50cywgY2hlY2spID0+IHtcbiAgaWYgKHBhc3NTdHlsZU9mKGVsZW1lbnRzKSAhPT0gJ2NvcHlBcnJheScpIHtcbiAgICByZXR1cm4gY2hlY2soXG4gICAgICBmYWxzZSxcbiAgICAgIFhgVGhlIGtleXMgb2YgYSBjb3B5U2V0IG9yIGNvcHlNYXAgbXVzdCBiZSBhIGNvcHlBcnJheTogJHtlbGVtZW50c31gLFxuICAgICk7XG4gIH1cbiAgaWYgKCFpc1JhbmtTb3J0ZWQoZWxlbWVudHMsIGNvbXBhcmVBbnRpUmFuaykpIHtcbiAgICByZXR1cm4gY2hlY2soXG4gICAgICBmYWxzZSxcbiAgICAgIFhgVGhlIGtleXMgb2YgYSBjb3B5U2V0IG9yIGNvcHlNYXAgbXVzdCBiZSBzb3J0ZWQgaW4gcmV2ZXJzZSByYW5rIG9yZGVyOiAke2VsZW1lbnRzfWAsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2hlY2tOb0R1cGxpY2F0ZXMoZWxlbWVudHMsIHVuZGVmaW5lZCwgY2hlY2spO1xufTskaM2PX29uY2UuY2hlY2tFbGVtZW50cyhjaGVja0VsZW1lbnRzKTtcbmhhcmRlbihjaGVja0VsZW1lbnRzKTtcblxuICAgICAgIGNvbnN0IGFzc2VydEVsZW1lbnRzID0gZWxlbWVudHMgPT4ge1xuICBjaGVja0VsZW1lbnRzKGVsZW1lbnRzLCBhc3NlcnRDaGVja2VyKTtcbn07JGjNj19vbmNlLmFzc2VydEVsZW1lbnRzKGFzc2VydEVsZW1lbnRzKTtcbmhhcmRlbihhc3NlcnRFbGVtZW50cyk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgY29lcmNlVG9FbGVtZW50cyA9IGVsZW1lbnRzTGlzdCA9PiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gc29ydEJ5UmFuayhlbGVtZW50c0xpc3QsIGNvbXBhcmVBbnRpUmFuayk7XG4gIGFzc2VydEVsZW1lbnRzKGVsZW1lbnRzKTtcbiAgcmV0dXJuIGVsZW1lbnRzO1xufTskaM2PX29uY2UuY29lcmNlVG9FbGVtZW50cyhjb2VyY2VUb0VsZW1lbnRzKTtcbmhhcmRlbihjb2VyY2VUb0VsZW1lbnRzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VTZXRPZkVsZW1lbnRzID0gZWxlbWVudEl0ZXIgPT5cbiAgbWFrZVRhZ2dlZCgnY29weVNldCcsIGNvZXJjZVRvRWxlbWVudHMoZWxlbWVudEl0ZXIpKTskaM2PX29uY2UubWFrZVNldE9mRWxlbWVudHMobWFrZVNldE9mRWxlbWVudHMpO1xuaGFyZGVuKG1ha2VTZXRPZkVsZW1lbnRzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImFzc2VydE5vRHVwbGljYXRlcyI6WyJhc3NlcnROb0R1cGxpY2F0ZXMiXSwiY2hlY2tFbGVtZW50cyI6WyJjaGVja0VsZW1lbnRzIl0sImFzc2VydEVsZW1lbnRzIjpbImFzc2VydEVsZW1lbnRzIl0sImNvZXJjZVRvRWxlbWVudHMiOlsiY29lcmNlVG9FbGVtZW50cyJdLCJtYWtlU2V0T2ZFbGVtZW50cyI6WyJtYWtlU2V0T2ZFbGVtZW50cyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAPyB9jdhYAAHYWAAA5AAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL2tleWNvbGxlY3Rpb24tb3BlcmF0b3JzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAZW5kby9jb21tb24vbWFrZS1pdGVyYXRvci5qcyIsIkBlbmRvL2NvbW1vbi9tYWtlLWFycmF5LWl0ZXJhdG9yLmpzIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiZ2VuZXJhdGVDb2xsZWN0aW9uUGFpckVudHJpZXMiLCJtYWtlQ29tcGFyZUNvbGxlY3Rpb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRSYW5rU29ydGVkLGNvbXBhcmVBbnRpUmFuayxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLG1ha2VJdGVyYXRvcixtYWtlQXJyYXlJdGVyYXRvcixxLEZhaWw7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRSYW5rU29ydGVkXCIsWyRozY9fYSA9PiAoYXNzZXJ0UmFua1NvcnRlZCA9ICRozY9fYSldXSxbXCJjb21wYXJlQW50aVJhbmtcIixbJGjNj19hID0+IChjb21wYXJlQW50aVJhbmsgPSAkaM2PX2EpXV0sW1wibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXRcIixbJGjNj19hID0+IChtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCA9ICRozY9fYSldXSxbXCJzb3J0QnlSYW5rXCIsWyRozY9fYSA9PiAoc29ydEJ5UmFuayA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9tYWtlLWl0ZXJhdG9yLmpzXCIsIFtbXCJtYWtlSXRlcmF0b3JcIixbJGjNj19hID0+IChtYWtlSXRlcmF0b3IgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vbWFrZS1hcnJheS1pdGVyYXRvci5qc1wiLCBbW1wibWFrZUFycmF5SXRlcmF0b3JcIixbJGjNj19hID0+IChtYWtlQXJyYXlJdGVyYXRvciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBnZW5lcmF0ZUZ1bGxTb3J0ZWRFbnRyaWVzID0gKGVudHJpZXMsIHJhbmtDb21wYXJlLCBmdWxsQ29tcGFyZSkgPT4ge1xuICAvL1xuICBhc3NlcnRSYW5rU29ydGVkKGVudHJpZXMsIHJhbmtDb21wYXJlKTtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGVudHJpZXM7XG4gIGxldCBpID0gMDtcbiAgbGV0IHNhbWVSYW5rSXRlcmF0b3I7XG4gIHJldHVybiBtYWtlSXRlcmF0b3IoKCkgPT4ge1xuICAgIGlmIChzYW1lUmFua0l0ZXJhdG9yKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBzYW1lUmFua0l0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHNhbWVSYW5rSXRlcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpIDwgbGVuZ3RoKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbaV07XG4gICAgICAvL1xuICAgICAgbGV0IGogPSBpICsgMTtcbiAgICAgIHdoaWxlIChqIDwgbGVuZ3RoICYmIHJhbmtDb21wYXJlKGVudHJ5WzBdLCBlbnRyaWVzW2pdWzBdKSA9PT0gMCkge1xuICAgICAgICBqICs9IDE7XG4gICAgICB9XG4gICAgICBpZiAoaiA9PT0gaSArIDEpIHtcbiAgICAgICAgLy9cbiAgICAgICAgaSA9IGo7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWU6IGVudHJ5IH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdGllcyA9IGVudHJpZXMuc2xpY2UoaSwgaik7XG4gICAgICBpID0gajtcblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3Qgc29ydGVkVGllcyA9IHNvcnRCeVJhbmsodGllcywgZnVsbENvbXBhcmUpO1xuICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCBzb3J0ZWRUaWVzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IFtrZXkwXSA9IHNvcnRlZFRpZXNbayAtIDFdO1xuICAgICAgICBjb25zdCBba2V5MV0gPSBzb3J0ZWRUaWVzW2tdO1xuICAgICAgICBNYXRoLnNpZ24oZnVsbENvbXBhcmUoa2V5MCwga2V5MSkpIHx8XG4gICAgICAgICAgRmFpbGBEdXBsaWNhdGUgZW50cnkga2V5OiAke2tleTB9YDtcbiAgICAgIH1cbiAgICAgIHNhbWVSYW5rSXRlcmF0b3IgPSBtYWtlQXJyYXlJdGVyYXRvcihzb3J0ZWRUaWVzKTtcbiAgICAgIHJldHVybiBzYW1lUmFua0l0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gIH0pO1xufTtcbmhhcmRlbihnZW5lcmF0ZUZ1bGxTb3J0ZWRFbnRyaWVzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdlbmVyYXRlQ29sbGVjdGlvblBhaXJFbnRyaWVzID0gKFxuICBjMSxcbiAgYzIsXG4gIGdldEVudHJpZXMsXG4gIGFic2VudFZhbHVlLFxuKSA9PiB7XG4gIGNvbnN0IGUxID0gZ2V0RW50cmllcyhjMSk7XG4gIGNvbnN0IGUyID0gZ2V0RW50cmllcyhjMik7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgZnVsbENvbXBhcmUgPSBtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCgpLmFudGlDb21wYXJhdG9yO1xuICBjb25zdCB4ID0gZ2VuZXJhdGVGdWxsU29ydGVkRW50cmllcyhlMSwgY29tcGFyZUFudGlSYW5rLCBmdWxsQ29tcGFyZSk7XG4gIGNvbnN0IHkgPSBnZW5lcmF0ZUZ1bGxTb3J0ZWRFbnRyaWVzKGUyLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcblxuICAvL1xuICAvL1xuICBsZXQgeERvbmU7XG4gIGxldCB4S2V5O1xuICBsZXQgeFZhbHVlO1xuICBsZXQgeURvbmU7XG4gIGxldCB5S2V5O1xuICBsZXQgeVZhbHVlO1xuICBjb25zdCBub25FbnRyeSA9IFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG4gIGNvbnN0IG5leHRYID0gKCkgPT4ge1xuICAgICF4RG9uZSB8fCBGYWlsYEludGVybmFsOiBuZXh0WCBtdXN0IG5vdCBiZSBjYWxsZWQgb25jZSBkb25lYDtcbiAgICBjb25zdCByZXN1bHQgPSB4VmFsdWU7XG4gICAgKHsgZG9uZTogeERvbmUsIHZhbHVlOiBbeEtleSwgeFZhbHVlXSA9IG5vbkVudHJ5IH0gPSB4Lm5leHQoKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbmV4dFgoKTtcbiAgY29uc3QgbmV4dFkgPSAoKSA9PiB7XG4gICAgIXlEb25lIHx8IEZhaWxgSW50ZXJuYWw6IG5leHRZIG11c3Qgbm90IGJlIGNhbGxlZCBvbmNlIGRvbmVgO1xuICAgIGNvbnN0IHJlc3VsdCA9IHlWYWx1ZTtcbiAgICAoeyBkb25lOiB5RG9uZSwgdmFsdWU6IFt5S2V5LCB5VmFsdWVdID0gbm9uRW50cnkgfSA9IHkubmV4dCgpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBuZXh0WSgpO1xuICByZXR1cm4gbWFrZUl0ZXJhdG9yKCgpID0+IHtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAoeERvbmUgJiYgeURvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgdmFsdWUgPSBbdW5kZWZpbmVkLCBhYnNlbnRWYWx1ZSwgYWJzZW50VmFsdWVdO1xuICAgIH0gZWxzZSBpZiAoeERvbmUpIHtcbiAgICAgIHZhbHVlID0gW3lLZXksIGFic2VudFZhbHVlLCBuZXh0WSgpXTtcbiAgICB9IGVsc2UgaWYgKHlEb25lKSB7XG4gICAgICB2YWx1ZSA9IFt4S2V5LCBuZXh0WCgpLCBhYnNlbnRWYWx1ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgY29tcCA9IGZ1bGxDb21wYXJlKHhLZXksIHlLZXkpO1xuICAgICAgaWYgKGNvbXAgPT09IDApIHtcbiAgICAgICAgdmFsdWUgPSBbeEtleSwgbmV4dFgoKSwgbmV4dFkoKV07XG4gICAgICB9IGVsc2UgaWYgKGNvbXAgPCAwKSB7XG4gICAgICAgIHZhbHVlID0gW3hLZXksIG5leHRYKCksIGFic2VudFZhbHVlXTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSBbeUtleSwgYWJzZW50VmFsdWUsIG5leHRZKCldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRmFpbGBVbmV4cGVjdGVkIGtleSBjb21wYXJpc29uICR7cShjb21wKX0gZm9yICR7eEtleX0gdnMgJHt5S2V5fWA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXJkZW4oeyBkb25lLCB2YWx1ZSB9KTtcbiAgfSk7XG59OyRozY9fb25jZS5nZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyhnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyk7XG5oYXJkZW4oZ2VuZXJhdGVDb2xsZWN0aW9uUGFpckVudHJpZXMpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDb21wYXJlQ29sbGVjdGlvbiA9IChnZXRFbnRyaWVzLCBhYnNlbnRWYWx1ZSwgY29tcGFyZVZhbHVlcykgPT5cbiAgaGFyZGVuKChsZWZ0LCByaWdodCkgPT4ge1xuICAgIGNvbnN0IG1lcmdlZCA9IGdlbmVyYXRlQ29sbGVjdGlvblBhaXJFbnRyaWVzKFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgZ2V0RW50cmllcyxcbiAgICAgIGFic2VudFZhbHVlLFxuICAgICk7XG4gICAgbGV0IGxlZnRJc0JpZ2dlciA9IGZhbHNlO1xuICAgIGxldCByaWdodElzQmlnZ2VyID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBbX2tleSwgbGVmdFZhbHVlLCByaWdodFZhbHVlXSBvZiBtZXJnZWQpIHtcbiAgICAgIGNvbnN0IGNvbXAgPSBjb21wYXJlVmFsdWVzKGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSk7XG4gICAgICBpZiAoY29tcCA9PT0gMCkge1xuICAgICAgICAvL1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcCA8IDApIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmlnaHRJc0JpZ2dlciA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNvbXAgPiAwKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGxlZnRJc0JpZ2dlciA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOdW1iZXIuaXNOYU4oY29tcCkgfHxcbiAgICAgICAgICAvL1xuICAgICAgICAgIEZhaWxgVW5leHBlY3RlZCB2YWx1ZSBjb21wYXJpc29uICR7cShjb21wKX0gZm9yICR7bGVmdFZhbHVlfSB2cyAke3JpZ2h0VmFsdWV9YDtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0SXNCaWdnZXIgJiYgcmlnaHRJc0JpZ2dlcikge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuICAgIH1cbiAgICAvL1xuICAgIHJldHVybiBsZWZ0SXNCaWdnZXIgPyAxIDogcmlnaHRJc0JpZ2dlciA/IC0xIDogMDtcbiAgfSk7JGjNj19vbmNlLm1ha2VDb21wYXJlQ29sbGVjdGlvbihtYWtlQ29tcGFyZUNvbGxlY3Rpb24pO1xuaGFyZGVuKG1ha2VDb21wYXJlQ29sbGVjdGlvbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyI6WyJnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyJdLCJtYWtlQ29tcGFyZUNvbGxlY3Rpb24iOlsibWFrZUNvbXBhcmVDb2xsZWN0aW9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANICYgGRHAAAkRwAADUAAABAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvbWVyZ2UtYmFnLW9wZXJhdG9ycy5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGVuZG8vZXJyb3JzIiwiLi9jb3B5QmFnLmpzIl0sImV4cG9ydHMiOlsiYmFnRGlzam9pbnRTdWJ0cmFjdCIsImJhZ0ludGVyc2VjdGlvbiIsImJhZ0lzRGlzam9pbnQiLCJiYWdJc1N1cGVyYmFnIiwiYmFnVW5pb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRSYW5rU29ydGVkLGNvbXBhcmVBbnRpUmFuayxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLHEsRmFpbCxhc3NlcnROb0R1cGxpY2F0ZUtleXMsbWFrZUJhZ09mRW50cmllczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL21hcnNoYWxcIiwgW1tcImFzc2VydFJhbmtTb3J0ZWRcIixbJGjNj19hID0+IChhc3NlcnRSYW5rU29ydGVkID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdFwiLFskaM2PX2EgPT4gKG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gJGjNj19hKV1dLFtcInNvcnRCeVJhbmtcIixbJGjNj19hID0+IChzb3J0QnlSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vY29weUJhZy5qc1wiLCBbW1wiYXNzZXJ0Tm9EdXBsaWNhdGVLZXlzXCIsWyRozY9fYSA9PiAoYXNzZXJ0Tm9EdXBsaWNhdGVLZXlzID0gJGjNj19hKV1dLFtcIm1ha2VCYWdPZkVudHJpZXNcIixbJGjNj19hID0+IChtYWtlQmFnT2ZFbnRyaWVzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgYmFnV2luZG93UmVzb3J0ID0gKGJhZ0VudHJpZXMsIHJhbmtDb21wYXJlLCBmdWxsQ29tcGFyZSkgPT4ge1xuICBhc3NlcnRSYW5rU29ydGVkKGJhZ0VudHJpZXMsIHJhbmtDb21wYXJlKTtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGJhZ0VudHJpZXM7XG4gIGxldCBpID0gMDtcbiAgbGV0IG9wdElubmVySXRlcmF0b3I7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PlxuICAgICAgaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChvcHRJbm5lckl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRJbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICBvcHRJbm5lckl0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gYmFnRW50cmllc1tpXTtcbiAgICAgICAgICAgIGxldCBqID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAgIGogPCBsZW5ndGggJiZcbiAgICAgICAgICAgICAgcmFua0NvbXBhcmUoZW50cnlbMF0sIGJhZ0VudHJpZXNbal1bMF0pID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaiArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPT09IGkgKyAxKSB7XG4gICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnRyeSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNpbWlsYXJSdW4gPSBiYWdFbnRyaWVzLnNsaWNlKGksIGopO1xuICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICBjb25zdCByZXNvcnRlZCA9IHNvcnRCeVJhbmsoc2ltaWxhclJ1biwgZnVsbENvbXBhcmUpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGVLZXlzKHJlc29ydGVkLCBmdWxsQ29tcGFyZSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIG9wdElubmVySXRlcmF0b3IgPSByZXNvcnRlZFtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0SW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiB0cnVlLCB2YWx1ZTogW251bGwsIDBuXSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWVyZ2UgPSAoeGJhZ0VudHJpZXMsIHliYWdFbnRyaWVzKSA9PiB7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IGZ1bGxDb21wYXJlID0gbWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQoKS5hbnRpQ29tcGFyYXRvcjtcblxuICBjb25zdCB4cyA9IGJhZ1dpbmRvd1Jlc29ydCh4YmFnRW50cmllcywgY29tcGFyZUFudGlSYW5rLCBmdWxsQ29tcGFyZSk7XG4gIGNvbnN0IHlzID0gYmFnV2luZG93UmVzb3J0KHliYWdFbnRyaWVzLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8qICAgICAgICAgICAgKi9cbiAgICAgIGxldCB4O1xuICAgICAgbGV0IHhjO1xuICAgICAgbGV0IHhEb25lO1xuICAgICAgLyogICAgICAgICAgICAqL1xuICAgICAgbGV0IHk7XG4gICAgICBsZXQgeWM7XG4gICAgICBsZXQgeURvbmU7XG5cbiAgICAgIGNvbnN0IHhpID0geHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgY29uc3QgbmV4dFggPSAoKSA9PiB7XG4gICAgICAgICF4RG9uZSB8fCBGYWlsYEludGVybmFsOiBuZXh0WCBzaG91bGQgbm90IGJlIGNhbGxlZCBvbmNlIGRvbmVgO1xuICAgICAgICAoe1xuICAgICAgICAgIGRvbmU6IHhEb25lLFxuICAgICAgICAgIHZhbHVlOiBbeCwgeGNdLFxuICAgICAgICB9ID0geGkubmV4dCgpKTtcbiAgICAgIH07XG4gICAgICBuZXh0WCgpO1xuXG4gICAgICBjb25zdCB5aSA9IHlzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIGNvbnN0IG5leHRZID0gKCkgPT4ge1xuICAgICAgICAheURvbmUgfHwgRmFpbGBJbnRlcm5hbDogbmV4dFkgc2hvdWxkIG5vdCBiZSBjYWxsZWQgb25jZSBkb25lYDtcbiAgICAgICAgKHtcbiAgICAgICAgICBkb25lOiB5RG9uZSxcbiAgICAgICAgICB2YWx1ZTogW3ksIHljXSxcbiAgICAgICAgfSA9IHlpLm5leHQoKSk7XG4gICAgICB9O1xuICAgICAgbmV4dFkoKTtcblxuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgICBpZiAoeERvbmUgJiYgeURvbmUpIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhbHVlID0gW251bGwsIDBuLCAwbl07XG4gICAgICAgICAgfSBlbHNlIGlmICh4RG9uZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhbHVlID0gW3ksIDBuLCB5Y107XG4gICAgICAgICAgICBuZXh0WSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeURvbmUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB2YWx1ZSA9IFt4LCB4YywgMG5dO1xuICAgICAgICAgICAgbmV4dFgoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IGZ1bGxDb21wYXJlKHgsIHkpO1xuICAgICAgICAgICAgaWYgKGNvbXAgPT09IDApIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgdmFsdWUgPSBbeCwgeGMsIHljXTtcbiAgICAgICAgICAgICAgbmV4dFgoKTtcbiAgICAgICAgICAgICAgbmV4dFkoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcCA8IDApIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgdmFsdWUgPSBbeCwgeGMsIDBuXTtcbiAgICAgICAgICAgICAgbmV4dFgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGNvbXAgPiAwIHx8IEZhaWxgSW50ZXJuYWw6IFVuZXhwZWN0ZWQgY29tcCAke3EoY29tcCl9YDtcbiAgICAgICAgICAgICAgdmFsdWUgPSBbeSwgMG4sIHljXTtcbiAgICAgICAgICAgICAgbmV4dFkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih7IGRvbmUsIHZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG59O1xuaGFyZGVuKG1lcmdlKTtcblxuLy9cbi8vXG4vKlxuXG5cblxuICovXG5jb25zdCBiYWdJdGVySXNTdXBlcmJhZyA9IHh5aSA9PiB7XG4gIGZvciAoY29uc3QgW19tLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIGlmICh4YyA8IHljKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8vXG4vL1xuLypcblxuXG5cbiAqL1xuY29uc3QgYmFnSXRlcklzRGlzam9pbnQgPSB4eWkgPT4ge1xuICBmb3IgKGNvbnN0IFtfbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPj0gMW4gJiYgeWMgPj0gMW4pIHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgYmFnSXRlclVuaW9uID0geHlpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIHJlc3VsdC5wdXNoKFttLCB4YyArIHljXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGJhZ0l0ZXJJbnRlcnNlY3Rpb24gPSB4eWkgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAoY29uc3QgW20sIHhjLCB5Y10gb2YgeHlpKSB7XG4gICAgY29uc3QgbWMgPSB4YyA8PSB5YyA/IHhjIDogeWM7XG4gICAgcmVzdWx0LnB1c2goW20sIG1jXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGJhZ0l0ZXJEaXNqb2ludFN1YnRyYWN0ID0geHlpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIGNvbnN0IG1jID0geGMgLSB5YztcbiAgICBtYyA+PSAwbiB8fCBGYWlsYHJpZ2h0IGVsZW1lbnQgJHttfSB3YXMgbm90IGluIGxlZnRgO1xuICAgIGlmIChtYyA+PSAxbikge1xuICAgICAgLy9cbiAgICAgIHJlc3VsdC5wdXNoKFttLCBtY10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgbWVyZ2VpZnkgPSBiYWdJdGVyT3AgPT4gKHhiYWdFbnRyaWVzLCB5YmFnRW50cmllcykgPT5cbiAgYmFnSXRlck9wKG1lcmdlKHhiYWdFbnRyaWVzLCB5YmFnRW50cmllcykpO1xuXG5jb25zdCBiYWdFbnRyaWVzSXNTdXBlcmJhZyA9IG1lcmdlaWZ5KGJhZ0l0ZXJJc1N1cGVyYmFnKTtcbmNvbnN0IGJhZ0VudHJpZXNJc0Rpc2pvaW50ID0gbWVyZ2VpZnkoYmFnSXRlcklzRGlzam9pbnQpO1xuY29uc3QgYmFnRW50cmllc1VuaW9uID0gbWVyZ2VpZnkoYmFnSXRlclVuaW9uKTtcbmNvbnN0IGJhZ0VudHJpZXNJbnRlcnNlY3Rpb24gPSBtZXJnZWlmeShiYWdJdGVySW50ZXJzZWN0aW9uKTtcbmNvbnN0IGJhZ0VudHJpZXNEaXNqb2ludFN1YnRyYWN0ID0gbWVyZ2VpZnkoYmFnSXRlckRpc2pvaW50U3VidHJhY3QpO1xuXG5jb25zdCByYXdCYWdpZnkgPSBiYWdFbnRyaWVzT3AgPT4gKHhiYWcsIHliYWcpID0+XG4gIGJhZ0VudHJpZXNPcCh4YmFnLnBheWxvYWQsIHliYWcucGF5bG9hZCk7XG5cbmNvbnN0IGJhZ2lmeSA9IGJhZ0VudHJpZXNPcCA9PiAoeGJhZywgeWJhZykgPT5cbiAgbWFrZUJhZ09mRW50cmllcyhiYWdFbnRyaWVzT3AoeGJhZy5wYXlsb2FkLCB5YmFnLnBheWxvYWQpKTtcblxuICAgICAgIGNvbnN0IGJhZ0lzU3VwZXJiYWcgPSByYXdCYWdpZnkoYmFnRW50cmllc0lzU3VwZXJiYWcpOyRozY9fb25jZS5iYWdJc1N1cGVyYmFnKGJhZ0lzU3VwZXJiYWcpO1xuICAgICAgIGNvbnN0IGJhZ0lzRGlzam9pbnQgPSByYXdCYWdpZnkoYmFnRW50cmllc0lzRGlzam9pbnQpOyRozY9fb25jZS5iYWdJc0Rpc2pvaW50KGJhZ0lzRGlzam9pbnQpO1xuICAgICAgIGNvbnN0IGJhZ1VuaW9uID0gYmFnaWZ5KGJhZ0VudHJpZXNVbmlvbik7JGjNj19vbmNlLmJhZ1VuaW9uKGJhZ1VuaW9uKTtcbiAgICAgICBjb25zdCBiYWdJbnRlcnNlY3Rpb24gPSBiYWdpZnkoYmFnRW50cmllc0ludGVyc2VjdGlvbik7JGjNj19vbmNlLmJhZ0ludGVyc2VjdGlvbihiYWdJbnRlcnNlY3Rpb24pO1xuICAgICAgIGNvbnN0IGJhZ0Rpc2pvaW50U3VidHJhY3QgPSBiYWdpZnkoYmFnRW50cmllc0Rpc2pvaW50U3VidHJhY3QpOyRozY9fb25jZS5iYWdEaXNqb2ludFN1YnRyYWN0KGJhZ0Rpc2pvaW50U3VidHJhY3QpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiYmFnSXNTdXBlcmJhZyI6WyJiYWdJc1N1cGVyYmFnIl0sImJhZ0lzRGlzam9pbnQiOlsiYmFnSXNEaXNqb2ludCJdLCJiYWdVbmlvbiI6WyJiYWdVbmlvbiJdLCJiYWdJbnRlcnNlY3Rpb24iOlsiYmFnSW50ZXJzZWN0aW9uIl0sImJhZ0Rpc2pvaW50U3VidHJhY3QiOlsiYmFnRGlzam9pbnRTdWJ0cmFjdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD5UY4TSSMAAEkjAAA1AAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL2Vycm9ycyIsIi4vY29weVNldC5qcyJdLCJleHBvcnRzIjpbImVsZW1lbnRzQ29tcGFyZSIsImVsZW1lbnRzRGlzam9pbnRTdWJ0cmFjdCIsImVsZW1lbnRzRGlzam9pbnRVbmlvbiIsImVsZW1lbnRzSW50ZXJzZWN0aW9uIiwiZWxlbWVudHNJc0Rpc2pvaW50IiwiZWxlbWVudHNJc1N1cGVyc2V0IiwiZWxlbWVudHNVbmlvbiIsInNldERpc2pvaW50U3VidHJhY3QiLCJzZXREaXNqb2ludFVuaW9uIiwic2V0SW50ZXJzZWN0aW9uIiwic2V0SXNEaXNqb2ludCIsInNldElzU3VwZXJzZXQiLCJzZXRVbmlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFzc2VydFJhbmtTb3J0ZWQsY29tcGFyZUFudGlSYW5rLG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0LHNvcnRCeVJhbmsscSxGYWlsLGFzc2VydE5vRHVwbGljYXRlcyxtYWtlU2V0T2ZFbGVtZW50czskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL21hcnNoYWxcIiwgW1tcImFzc2VydFJhbmtTb3J0ZWRcIixbJGjNj19hID0+IChhc3NlcnRSYW5rU29ydGVkID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdFwiLFskaM2PX2EgPT4gKG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gJGjNj19hKV1dLFtcInNvcnRCeVJhbmtcIixbJGjNj19hID0+IChzb3J0QnlSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vY29weVNldC5qc1wiLCBbW1wiYXNzZXJ0Tm9EdXBsaWNhdGVzXCIsWyRozY9fYSA9PiAoYXNzZXJ0Tm9EdXBsaWNhdGVzID0gJGjNj19hKV1dLFtcIm1ha2VTZXRPZkVsZW1lbnRzXCIsWyRozY9fYSA9PiAobWFrZVNldE9mRWxlbWVudHMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgd2luZG93UmVzb3J0ID0gKGVsZW1lbnRzLCByYW5rQ29tcGFyZSwgZnVsbENvbXBhcmUpID0+IHtcbiAgYXNzZXJ0UmFua1NvcnRlZChlbGVtZW50cywgcmFua0NvbXBhcmUpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gZWxlbWVudHM7XG4gIGxldCBpID0gMDtcbiAgbGV0IG9wdElubmVySXRlcmF0b3I7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PlxuICAgICAgaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChvcHRJbm5lckl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRJbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICBvcHRJbm5lckl0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBsZXQgaiA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKGogPCBsZW5ndGggJiYgcmFua0NvbXBhcmUodmFsdWUsIGVsZW1lbnRzW2pdKSA9PT0gMCkge1xuICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaiA9PT0gaSArIDEpIHtcbiAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaW1pbGFyUnVuID0gZWxlbWVudHMuc2xpY2UoaSwgaik7XG4gICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgIGNvbnN0IHJlc29ydGVkID0gc29ydEJ5UmFuayhzaW1pbGFyUnVuLCBmdWxsQ29tcGFyZSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZXMocmVzb3J0ZWQsIGZ1bGxDb21wYXJlKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgb3B0SW5uZXJJdGVyYXRvciA9IHJlc29ydGVkW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRJbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBtZXJnZSA9ICh4ZWxlbWVudHMsIHllbGVtZW50cykgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBmdWxsQ29tcGFyZSA9IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KCkuYW50aUNvbXBhcmF0b3I7XG5cbiAgY29uc3QgeHMgPSB3aW5kb3dSZXNvcnQoeGVsZW1lbnRzLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcbiAgY29uc3QgeXMgPSB3aW5kb3dSZXNvcnQoeWVsZW1lbnRzLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8qICAgICAgICAgICAgKi9cbiAgICAgIGxldCB4O1xuICAgICAgbGV0IHhEb25lO1xuICAgICAgLyogICAgICAgICAgICAqL1xuICAgICAgbGV0IHk7XG4gICAgICBsZXQgeURvbmU7XG5cbiAgICAgIGNvbnN0IHhpID0geHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgY29uc3QgbmV4dFggPSAoKSA9PiB7XG4gICAgICAgICF4RG9uZSB8fCBGYWlsYEludGVybmFsOiBuZXh0WCBzaG91bGQgbm90IGJlIGNhbGxlZCBvbmNlIGRvbmVgO1xuICAgICAgICAoeyBkb25lOiB4RG9uZSwgdmFsdWU6IHggfSA9IHhpLm5leHQoKSk7XG4gICAgICB9O1xuICAgICAgbmV4dFgoKTtcblxuICAgICAgY29uc3QgeWkgPSB5c1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICBjb25zdCBuZXh0WSA9ICgpID0+IHtcbiAgICAgICAgIXlEb25lIHx8IEZhaWxgSW50ZXJuYWw6IG5leHRZIHNob3VsZCBub3QgYmUgY2FsbGVkIG9uY2UgZG9uZWA7XG4gICAgICAgICh7IGRvbmU6IHlEb25lLCB2YWx1ZTogeSB9ID0geWkubmV4dCgpKTtcbiAgICAgIH07XG4gICAgICBuZXh0WSgpO1xuXG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgIGlmICh4RG9uZSAmJiB5RG9uZSkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFsdWUgPSBbbnVsbCwgMG4sIDBuXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHhEb25lKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFsdWUgPSBbeSwgMG4sIDFuXTtcbiAgICAgICAgICAgIG5leHRZKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh5RG9uZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhbHVlID0gW3gsIDFuLCAwbl07XG4gICAgICAgICAgICBuZXh0WCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gZnVsbENvbXBhcmUoeCwgeSk7XG4gICAgICAgICAgICBpZiAoY29tcCA9PT0gMCkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICB2YWx1ZSA9IFt4LCAxbiwgMW5dO1xuICAgICAgICAgICAgICBuZXh0WCgpO1xuICAgICAgICAgICAgICBuZXh0WSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wIDwgMCkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICB2YWx1ZSA9IFt4LCAxbiwgMG5dO1xuICAgICAgICAgICAgICBuZXh0WCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgY29tcCA+IDAgfHwgRmFpbGBJbnRlcm5hbDogVW5leHBlY3RlZCBjb21wICR7cShjb21wKX1gO1xuICAgICAgICAgICAgICB2YWx1ZSA9IFt5LCAwbiwgMW5dO1xuICAgICAgICAgICAgICBuZXh0WSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZSwgdmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn07XG5oYXJkZW4obWVyZ2UpO1xuXG5jb25zdCBpdGVySXNTdXBlcnNldCA9IHh5aSA9PiB7XG4gIGZvciAoY29uc3QgW19tLCB4YywgX3ljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPT09IDBuKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGl0ZXJJc0Rpc2pvaW50ID0geHlpID0+IHtcbiAgZm9yIChjb25zdCBbX20sIHhjLCB5Y10gb2YgeHlpKSB7XG4gICAgaWYgKHhjID49IDFuICYmIHljID49IDFuKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGl0ZXJDb21wYXJlID0geHlpID0+IHtcbiAgbGV0IGxvbmVZID0gZmFsc2U7XG4gIGxldCBsb25lWCA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IFtfbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPT09IDBuKSB7XG4gICAgICAvL1xuICAgICAgbG9uZVkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoeWMgPT09IDBuKSB7XG4gICAgICAvL1xuICAgICAgbG9uZVggPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobG9uZVggJiYgbG9uZVkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICB9XG4gIGlmIChsb25lWCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKGxvbmVZKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2Uge1xuICAgICghbG9uZVggJiYgIWxvbmVZKSB8fFxuICAgICAgRmFpbGBJbnRlcm5hbDogVW5leHBlY3RlZCBsb25lIHBhaXIgJHtxKFtsb25lWCwgbG9uZVldKX1gO1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBpdGVyVW5pb24gPSB4eWkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBbbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPj0gMG4pIHtcbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB5YyA+PSAwbiB8fCBGYWlsYEludGVybmFsOiBVbmV4cGVjdGVkIGNvdW50ICR7cSh5Yyl9YDtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmVzdWx0LnB1c2gobSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBpdGVyRGlzam9pbnRVbmlvbiA9IHh5aSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIHhjID09PSAwbiB8fCB5YyA9PT0gMG4gfHwgRmFpbGBTZXRzIG11c3Qgbm90IGhhdmUgY29tbW9uIGVsZW1lbnRzOiAke219YDtcbiAgICBpZiAoeGMgPj0gMW4pIHtcbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB5YyA+PSAxbiB8fCBGYWlsYEludGVybmFsOiBVbmV4cGVjdGVkIGNvdW50ICR7cSh5Yyl9YDtcbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgaXRlckludGVyc2VjdGlvbiA9IHh5aSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIGlmICh4YyA+PSAxbiAmJiB5YyA+PSAxbikge1xuICAgICAgLy9cbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgaXRlckRpc2pvaW50U3VidHJhY3QgPSB4eWkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBbbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICB4YyA+PSAxbiB8fCBGYWlsYHJpZ2h0IGVsZW1lbnQgJHttfSB3YXMgbm90IGluIGxlZnRgO1xuICAgIGlmICh5YyA9PT0gMG4pIHtcbiAgICAgIC8vXG4gICAgICByZXN1bHQucHVzaChtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IG1lcmdlaWZ5ID0gaXRlck9wID0+ICh4ZWxlbWVudHMsIHllbGVtZW50cykgPT5cbiAgaXRlck9wKG1lcmdlKHhlbGVtZW50cywgeWVsZW1lbnRzKSk7XG5cbiAgICAgICBjb25zdCBlbGVtZW50c0lzU3VwZXJzZXQgPSBtZXJnZWlmeShpdGVySXNTdXBlcnNldCk7JGjNj19vbmNlLmVsZW1lbnRzSXNTdXBlcnNldChlbGVtZW50c0lzU3VwZXJzZXQpO1xuICAgICAgIGNvbnN0IGVsZW1lbnRzSXNEaXNqb2ludCA9IG1lcmdlaWZ5KGl0ZXJJc0Rpc2pvaW50KTskaM2PX29uY2UuZWxlbWVudHNJc0Rpc2pvaW50KGVsZW1lbnRzSXNEaXNqb2ludCk7XG4gICAgICAgY29uc3QgZWxlbWVudHNDb21wYXJlID0gbWVyZ2VpZnkoaXRlckNvbXBhcmUpOyRozY9fb25jZS5lbGVtZW50c0NvbXBhcmUoZWxlbWVudHNDb21wYXJlKTtcbiAgICAgICBjb25zdCBlbGVtZW50c1VuaW9uID0gbWVyZ2VpZnkoaXRlclVuaW9uKTskaM2PX29uY2UuZWxlbWVudHNVbmlvbihlbGVtZW50c1VuaW9uKTtcbiAgICAgICBjb25zdCBlbGVtZW50c0Rpc2pvaW50VW5pb24gPSBtZXJnZWlmeShpdGVyRGlzam9pbnRVbmlvbik7JGjNj19vbmNlLmVsZW1lbnRzRGlzam9pbnRVbmlvbihlbGVtZW50c0Rpc2pvaW50VW5pb24pO1xuICAgICAgIGNvbnN0IGVsZW1lbnRzSW50ZXJzZWN0aW9uID0gbWVyZ2VpZnkoaXRlckludGVyc2VjdGlvbik7JGjNj19vbmNlLmVsZW1lbnRzSW50ZXJzZWN0aW9uKGVsZW1lbnRzSW50ZXJzZWN0aW9uKTtcbiAgICAgICBjb25zdCBlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QgPSBtZXJnZWlmeShpdGVyRGlzam9pbnRTdWJ0cmFjdCk7JGjNj19vbmNlLmVsZW1lbnRzRGlzam9pbnRTdWJ0cmFjdChlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QpO1xuXG5jb25zdCByYXdTZXRpZnkgPSBlbGVtZW50c09wID0+ICh4c2V0LCB5c2V0KSA9PlxuICBlbGVtZW50c09wKHhzZXQucGF5bG9hZCwgeXNldC5wYXlsb2FkKTtcblxuY29uc3Qgc2V0aWZ5ID0gZWxlbWVudHNPcCA9PiAoeHNldCwgeXNldCkgPT5cbiAgbWFrZVNldE9mRWxlbWVudHMoZWxlbWVudHNPcCh4c2V0LnBheWxvYWQsIHlzZXQucGF5bG9hZCkpO1xuXG4gICAgICAgY29uc3Qgc2V0SXNTdXBlcnNldCA9IHJhd1NldGlmeShlbGVtZW50c0lzU3VwZXJzZXQpOyRozY9fb25jZS5zZXRJc1N1cGVyc2V0KHNldElzU3VwZXJzZXQpO1xuICAgICAgIGNvbnN0IHNldElzRGlzam9pbnQgPSByYXdTZXRpZnkoZWxlbWVudHNJc0Rpc2pvaW50KTskaM2PX29uY2Uuc2V0SXNEaXNqb2ludChzZXRJc0Rpc2pvaW50KTtcbiAgICAgICBjb25zdCBzZXRVbmlvbiA9IHNldGlmeShlbGVtZW50c1VuaW9uKTskaM2PX29uY2Uuc2V0VW5pb24oc2V0VW5pb24pO1xuICAgICAgIGNvbnN0IHNldERpc2pvaW50VW5pb24gPSBzZXRpZnkoZWxlbWVudHNEaXNqb2ludFVuaW9uKTskaM2PX29uY2Uuc2V0RGlzam9pbnRVbmlvbihzZXREaXNqb2ludFVuaW9uKTtcbiAgICAgICBjb25zdCBzZXRJbnRlcnNlY3Rpb24gPSBzZXRpZnkoZWxlbWVudHNJbnRlcnNlY3Rpb24pOyRozY9fb25jZS5zZXRJbnRlcnNlY3Rpb24oc2V0SW50ZXJzZWN0aW9uKTtcbiAgICAgICBjb25zdCBzZXREaXNqb2ludFN1YnRyYWN0ID0gc2V0aWZ5KGVsZW1lbnRzRGlzam9pbnRTdWJ0cmFjdCk7JGjNj19vbmNlLnNldERpc2pvaW50U3VidHJhY3Qoc2V0RGlzam9pbnRTdWJ0cmFjdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJlbGVtZW50c0lzU3VwZXJzZXQiOlsiZWxlbWVudHNJc1N1cGVyc2V0Il0sImVsZW1lbnRzSXNEaXNqb2ludCI6WyJlbGVtZW50c0lzRGlzam9pbnQiXSwiZWxlbWVudHNDb21wYXJlIjpbImVsZW1lbnRzQ29tcGFyZSJdLCJlbGVtZW50c1VuaW9uIjpbImVsZW1lbnRzVW5pb24iXSwiZWxlbWVudHNEaXNqb2ludFVuaW9uIjpbImVsZW1lbnRzRGlzam9pbnRVbmlvbiJdLCJlbGVtZW50c0ludGVyc2VjdGlvbiI6WyJlbGVtZW50c0ludGVyc2VjdGlvbiJdLCJlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QiOlsiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0Il0sInNldElzU3VwZXJzZXQiOlsic2V0SXNTdXBlcnNldCJdLCJzZXRJc0Rpc2pvaW50IjpbInNldElzRGlzam9pbnQiXSwic2V0VW5pb24iOlsic2V0VW5pb24iXSwic2V0RGlzam9pbnRVbmlvbiI6WyJzZXREaXNqb2ludFVuaW9uIl0sInNldEludGVyc2VjdGlvbiI6WyJzZXRJbnRlcnNlY3Rpb24iXSwic2V0RGlzam9pbnRTdWJ0cmFjdCI6WyJzZXREaXNqb2ludFN1YnRyYWN0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPB0UiUsGwAALBsAADYAAABAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL3BhdHRlcm5zL2dldEd1YXJkUGF5bG9hZHMuanN7ImltcG9ydHMiOlsiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCIuL3BhdHRlcm5NYXRjaGVycy5qcyIsIi4uL2tleXMvY2hlY2tLZXkuanMiXSwiZXhwb3J0cyI6WyJnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZCIsImdldEludGVyZmFjZUd1YXJkUGF5bG9hZCIsImdldEludGVyZmFjZU1ldGhvZEtleXMiLCJnZXRNZXRob2RHdWFyZFBheWxvYWQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvYmplY3RNYXAsQXJnR3VhcmRMaXN0U2hhcGUsQXdhaXRBcmdHdWFyZFNoYXBlLEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlLEludGVyZmFjZUd1YXJkU2hhcGUsTSxNZXRob2RHdWFyZFBheWxvYWRTaGFwZSxNZXRob2RHdWFyZFNoYXBlLFJhd0d1YXJkU2hhcGUsU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUsU3luY1ZhbHVlR3VhcmRTaGFwZSxhc3NlcnRBd2FpdEFyZ0d1YXJkLG1hdGNoZXMsbXVzdE1hdGNoLGdldENvcHlNYXBLZXlzLG1ha2VDb3B5TWFwOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIi4vcGF0dGVybk1hdGNoZXJzLmpzXCIsIFtbXCJBcmdHdWFyZExpc3RTaGFwZVwiLFskaM2PX2EgPT4gKEFyZ0d1YXJkTGlzdFNoYXBlID0gJGjNj19hKV1dLFtcIkF3YWl0QXJnR3VhcmRTaGFwZVwiLFskaM2PX2EgPT4gKEF3YWl0QXJnR3VhcmRTaGFwZSA9ICRozY9fYSldXSxbXCJJbnRlcmZhY2VHdWFyZFBheWxvYWRTaGFwZVwiLFskaM2PX2EgPT4gKEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlID0gJGjNj19hKV1dLFtcIkludGVyZmFjZUd1YXJkU2hhcGVcIixbJGjNj19hID0+IChJbnRlcmZhY2VHdWFyZFNoYXBlID0gJGjNj19hKV1dLFtcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcIk1ldGhvZEd1YXJkUGF5bG9hZFNoYXBlXCIsWyRozY9fYSA9PiAoTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUgPSAkaM2PX2EpXV0sW1wiTWV0aG9kR3VhcmRTaGFwZVwiLFskaM2PX2EgPT4gKE1ldGhvZEd1YXJkU2hhcGUgPSAkaM2PX2EpXV0sW1wiUmF3R3VhcmRTaGFwZVwiLFskaM2PX2EgPT4gKFJhd0d1YXJkU2hhcGUgPSAkaM2PX2EpXV0sW1wiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGVcIixbJGjNj19hID0+IChTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSA9ICRozY9fYSldXSxbXCJTeW5jVmFsdWVHdWFyZFNoYXBlXCIsWyRozY9fYSA9PiAoU3luY1ZhbHVlR3VhcmRTaGFwZSA9ICRozY9fYSldXSxbXCJhc3NlcnRBd2FpdEFyZ0d1YXJkXCIsWyRozY9fYSA9PiAoYXNzZXJ0QXdhaXRBcmdHdWFyZCA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXSxbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV1dXSxbXCIuLi9rZXlzL2NoZWNrS2V5LmpzXCIsIFtbXCJnZXRDb3B5TWFwS2V5c1wiLFskaM2PX2EgPT4gKGdldENvcHlNYXBLZXlzID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5TWFwXCIsWyRozY9fYSA9PiAobWFrZUNvcHlNYXAgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG4vL1xuLy9cblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUgPSBoYXJkZW4oe1xuICBrbGFzczogJ2F3YWl0QXJnJyxcbiAgYXJnR3VhcmQ6IE0ucGF0dGVybigpLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZCA9IGF3YWl0QXJnR3VhcmQgPT4ge1xuICBpZiAobWF0Y2hlcyhhd2FpdEFyZ0d1YXJkLCBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUpKSB7XG4gICAgLy9cbiAgICBjb25zdCB7IGtsYXNzOiBfLCAuLi5wYXlsb2FkIH0gPSBhd2FpdEFyZ0d1YXJkO1xuICAgIC8vXG4gICAgcmV0dXJuIHBheWxvYWQ7XG4gIH1cbiAgYXNzZXJ0QXdhaXRBcmdHdWFyZChhd2FpdEFyZ0d1YXJkKTtcbiAgcmV0dXJuIGF3YWl0QXJnR3VhcmQucGF5bG9hZDtcbn07JGjNj19vbmNlLmdldEF3YWl0QXJnR3VhcmRQYXlsb2FkKGdldEF3YWl0QXJnR3VhcmRQYXlsb2FkKTtcbmhhcmRlbihnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZCk7XG5cbi8vXG4vL1xuLy9cbmNvbnN0IExlZ2FjeVN5bmNNZXRob2RHdWFyZFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIGtsYXNzOiAnbWV0aG9kR3VhcmQnLFxuICAgIGNhbGxLaW5kOiAnc3luYycsXG4gICAgYXJnR3VhcmRzOiBTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSxcbiAgICByZXR1cm5HdWFyZDogU3luY1ZhbHVlR3VhcmRTaGFwZSxcbiAgfSxcbiAge1xuICAgIG9wdGlvbmFsQXJnR3VhcmRzOiBTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSxcbiAgICByZXN0QXJnR3VhcmQ6IFN5bmNWYWx1ZUd1YXJkU2hhcGUsXG4gIH0sXG4pO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lBcmdHdWFyZFNoYXBlID0gTS5vcihcbiAgUmF3R3VhcmRTaGFwZSxcbiAgQXdhaXRBcmdHdWFyZFNoYXBlLFxuICBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUsXG4gIE0ucGF0dGVybigpLFxuKTtcbi8vXG4vL1xuLy9cbmNvbnN0IExlZ2FjeUFyZ0d1YXJkTGlzdFNoYXBlID0gTS5hcnJheU9mKExlZ2FjeUFyZ0d1YXJkU2hhcGUpO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lBc3luY01ldGhvZEd1YXJkU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAga2xhc3M6ICdtZXRob2RHdWFyZCcsXG4gICAgY2FsbEtpbmQ6ICdhc3luYycsXG4gICAgYXJnR3VhcmRzOiBMZWdhY3lBcmdHdWFyZExpc3RTaGFwZSxcbiAgICByZXR1cm5HdWFyZDogU3luY1ZhbHVlR3VhcmRTaGFwZSxcbiAgfSxcbiAge1xuICAgIG9wdGlvbmFsQXJnR3VhcmRzOiBBcmdHdWFyZExpc3RTaGFwZSxcbiAgICByZXN0QXJnR3VhcmQ6IFN5bmNWYWx1ZUd1YXJkU2hhcGUsXG4gIH0sXG4pO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lNZXRob2RHdWFyZFNoYXBlID0gTS5vcihcbiAgTGVnYWN5U3luY01ldGhvZEd1YXJkU2hhcGUsXG4gIExlZ2FjeUFzeW5jTWV0aG9kR3VhcmRTaGFwZSxcbik7XG5cbmNvbnN0IGFkYXB0TGVnYWN5QXJnR3VhcmQgPSBhcmdHdWFyZCA9PlxuICBtYXRjaGVzKGFyZ0d1YXJkLCBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUpXG4gICAgPyBNLmF3YWl0KGdldEF3YWl0QXJnR3VhcmRQYXlsb2FkKGFyZ0d1YXJkKS5hcmdHdWFyZClcbiAgICA6IGFyZ0d1YXJkO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldE1ldGhvZEd1YXJkUGF5bG9hZCA9IG1ldGhvZEd1YXJkID0+IHtcbiAgaWYgKG1hdGNoZXMobWV0aG9kR3VhcmQsIE1ldGhvZEd1YXJkU2hhcGUpKSB7XG4gICAgcmV0dXJuIG1ldGhvZEd1YXJkLnBheWxvYWQ7XG4gIH1cbiAgbXVzdE1hdGNoKG1ldGhvZEd1YXJkLCBMZWdhY3lNZXRob2RHdWFyZFNoYXBlLCAnbGVnYWN5TWV0aG9kR3VhcmQnKTtcbiAgY29uc3Qge1xuICAgIC8vXG4gICAga2xhc3M6IF8sXG4gICAgLy9cbiAgICBjYWxsS2luZCxcbiAgICAvL1xuICAgIHJldHVybkd1YXJkLFxuICAgIC8vXG4gICAgcmVzdEFyZ0d1YXJkLFxuICB9ID0gbWV0aG9kR3VhcmQ7XG4gIGxldCB7XG4gICAgLy9cbiAgICBhcmdHdWFyZHMsXG4gICAgLy9cbiAgICBvcHRpb25hbEFyZ0d1YXJkcyxcbiAgfSA9IG1ldGhvZEd1YXJkO1xuICBpZiAoY2FsbEtpbmQgPT09ICdhc3luYycpIHtcbiAgICBhcmdHdWFyZHMgPSBhcmdHdWFyZHMubWFwKGFkYXB0TGVnYWN5QXJnR3VhcmQpO1xuICAgIG9wdGlvbmFsQXJnR3VhcmRzID1cbiAgICAgIG9wdGlvbmFsQXJnR3VhcmRzICYmIG9wdGlvbmFsQXJnR3VhcmRzLm1hcChhZGFwdExlZ2FjeUFyZ0d1YXJkKTtcbiAgfVxuICBjb25zdCBwYXlsb2FkID0gaGFyZGVuKHtcbiAgICBjYWxsS2luZCxcbiAgICBhcmdHdWFyZHMsXG4gICAgb3B0aW9uYWxBcmdHdWFyZHMsXG4gICAgcmVzdEFyZ0d1YXJkLFxuICAgIHJldHVybkd1YXJkLFxuICB9KTtcbiAgLy9cbiAgbXVzdE1hdGNoKHBheWxvYWQsIE1ldGhvZEd1YXJkUGF5bG9hZFNoYXBlLCAnaW50ZXJuYWxNZXRob2RHdWFyZEFkYXB0b3InKTtcbiAgcmV0dXJuIHBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRNZXRob2RHdWFyZFBheWxvYWQoZ2V0TWV0aG9kR3VhcmRQYXlsb2FkKTtcbmhhcmRlbihnZXRNZXRob2RHdWFyZFBheWxvYWQpO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lJbnRlcmZhY2VHdWFyZFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIGtsYXNzOiAnSW50ZXJmYWNlJyxcbiAgICBpbnRlcmZhY2VOYW1lOiBNLnN0cmluZygpLFxuICAgIG1ldGhvZEd1YXJkczogTS5yZWNvcmRPZihcbiAgICAgIE0uc3RyaW5nKCksXG4gICAgICBNLm9yKE1ldGhvZEd1YXJkU2hhcGUsIExlZ2FjeU1ldGhvZEd1YXJkU2hhcGUpLFxuICAgICksXG4gIH0sXG4gIHtcbiAgICBkZWZhdWx0R3VhcmRzOiBNLm9yKE0udW5kZWZpbmVkKCksICdwYXNzYWJsZScsICdyYXcnKSxcbiAgICBzbG9wcHk6IE0uYm9vbGVhbigpLFxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHN5bWJvbE1ldGhvZEd1YXJkczogTS5tYXBPZihNLnN5bWJvbCgpLCBNZXRob2RHdWFyZFNoYXBlKSxcbiAgfSxcbik7XG5cbmNvbnN0IGFkYXB0TWV0aG9kR3VhcmQgPSBtZXRob2RHdWFyZCA9PiB7XG4gIGlmIChtYXRjaGVzKG1ldGhvZEd1YXJkLCBMZWdhY3lNZXRob2RHdWFyZFNoYXBlKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbGxLaW5kLFxuICAgICAgYXJnR3VhcmRzLFxuICAgICAgb3B0aW9uYWxBcmdHdWFyZHMgPSBbXSxcbiAgICAgIHJlc3RBcmdHdWFyZCA9IE0uYW55KCksXG4gICAgICByZXR1cm5HdWFyZCxcbiAgICB9ID0gZ2V0TWV0aG9kR3VhcmRQYXlsb2FkKG1ldGhvZEd1YXJkKTtcbiAgICBjb25zdCBtQ2FsbCA9IGNhbGxLaW5kID09PSAnc3luYycgPyBNLmNhbGwgOiBNLmNhbGxXaGVuO1xuICAgIHJldHVybiBtQ2FsbCguLi5hcmdHdWFyZHMpXG4gICAgICAub3B0aW9uYWwoLi4ub3B0aW9uYWxBcmdHdWFyZHMpXG4gICAgICAucmVzdChyZXN0QXJnR3VhcmQpXG4gICAgICAucmV0dXJucyhyZXR1cm5HdWFyZCk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZEd1YXJkO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldEludGVyZmFjZUd1YXJkUGF5bG9hZCA9IGludGVyZmFjZUd1YXJkID0+IHtcbiAgaWYgKG1hdGNoZXMoaW50ZXJmYWNlR3VhcmQsIEludGVyZmFjZUd1YXJkU2hhcGUpKSB7XG4gICAgcmV0dXJuIGludGVyZmFjZUd1YXJkLnBheWxvYWQ7XG4gIH1cbiAgbXVzdE1hdGNoKGludGVyZmFjZUd1YXJkLCBMZWdhY3lJbnRlcmZhY2VHdWFyZFNoYXBlLCAnbGVnYWN5SW50ZXJmYWNlR3VhcmQnKTtcbiAgLy9cbiAgLy9cbiAgbGV0IHsga2xhc3M6IF8sIGludGVyZmFjZU5hbWUsIG1ldGhvZEd1YXJkcywgLi4ucmVzdCB9ID0gaW50ZXJmYWNlR3VhcmQ7XG4gIG1ldGhvZEd1YXJkcyA9IG9iamVjdE1hcChtZXRob2RHdWFyZHMsIGFkYXB0TWV0aG9kR3VhcmQpO1xuICBjb25zdCBwYXlsb2FkID0gaGFyZGVuKHtcbiAgICBpbnRlcmZhY2VOYW1lLFxuICAgIG1ldGhvZEd1YXJkcyxcbiAgICAuLi5yZXN0LFxuICB9KTtcbiAgbXVzdE1hdGNoKFxuICAgIHBheWxvYWQsXG4gICAgSW50ZXJmYWNlR3VhcmRQYXlsb2FkU2hhcGUsXG4gICAgJ2ludGVybmFsSW50ZXJmYWNlR3VhcmRBZGFwdG9yJyxcbiAgKTtcbiAgcmV0dXJuIHBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkKTtcbmhhcmRlbihnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQpO1xuXG5jb25zdCBlbXB0eUNvcHlNYXAgPSBtYWtlQ29weU1hcChbXSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyA9IGludGVyZmFjZUd1YXJkID0+IHtcbiAgY29uc3QgeyBtZXRob2RHdWFyZHMsIHN5bWJvbE1ldGhvZEd1YXJkcyA9IGVtcHR5Q29weU1hcCB9ID1cbiAgICBnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoaW50ZXJmYWNlR3VhcmQpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8vXG4gIC8vXG4gIHJldHVybiBoYXJkZW4oW1xuICAgIC4uLlJlZmxlY3Qub3duS2V5cyhtZXRob2RHdWFyZHMpLFxuICAgIC4uLmdldENvcHlNYXBLZXlzKHN5bWJvbE1ldGhvZEd1YXJkcyksXG4gIF0pO1xufTskaM2PX29uY2UuZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyhnZXRJbnRlcmZhY2VNZXRob2RLZXlzKTtcbmhhcmRlbihnZXRJbnRlcmZhY2VNZXRob2RLZXlzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkIjpbImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkIl0sImdldE1ldGhvZEd1YXJkUGF5bG9hZCI6WyJnZXRNZXRob2RHdWFyZFBheWxvYWQiXSwiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkIjpbImdldEludGVyZmFjZUd1YXJkUGF5bG9hZCJdLCJnZXRJbnRlcmZhY2VNZXRob2RLZXlzIjpbImdldEludGVyZmFjZU1ldGhvZEtleXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAADu5OJ2rsAABq7AAANQAAAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2NvbW1vbi9pZGVudC1jaGVja2VyLmpzIiwiQGVuZG8vY29tbW9uL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzIiwiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiLCJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL21hcnNoYWwiLCIuLi9rZXlzL2NvbXBhcmVLZXlzLmpzIiwiLi4va2V5cy9jaGVja0tleS5qcyIsIi4uL2tleXMva2V5Y29sbGVjdGlvbi1vcGVyYXRvcnMuanMiXSwiZXhwb3J0cyI6WyJBcmdHdWFyZExpc3RTaGFwZSIsIkF3YWl0QXJnR3VhcmRTaGFwZSIsIkludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlIiwiSW50ZXJmYWNlR3VhcmRTaGFwZSIsIk0iLCJNZXRob2RHdWFyZFBheWxvYWRTaGFwZSIsIk1ldGhvZEd1YXJkU2hhcGUiLCJSYXdHdWFyZFNoYXBlIiwiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUiLCJTeW5jVmFsdWVHdWFyZFNoYXBlIiwiYXNzZXJ0QXdhaXRBcmdHdWFyZCIsImFzc2VydEludGVyZmFjZUd1YXJkIiwiYXNzZXJ0TWV0aG9kR3VhcmQiLCJhc3NlcnRQYXR0ZXJuIiwiYXNzZXJ0UmF3R3VhcmQiLCJjaGVja01hdGNoZXMiLCJjb250YWluZXJIYXNTcGxpdCIsImRlZmF1bHRMaW1pdHMiLCJnZXRSYW5rQ292ZXIiLCJpc0F3YWl0QXJnR3VhcmQiLCJpc1BhdHRlcm4iLCJpc1Jhd0d1YXJkIiwia2luZE9mIiwibWF0Y2hlcyIsIm11c3RNYXRjaCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsYixYLEZhaWwsbWFrZUVycm9yLGFubm90YXRlRXJyb3IsaWRlbnRDaGVja2VyLGFwcGx5TGFiZWxpbmdFcnJvcixmcm9tVW5pcXVlRW50cmllcyxsaXN0RGlmZmVyZW5jZSxhc3NlcnRDaGVja2VyLEZhcixnZXRUYWcsbWFrZVRhZ2dlZCxwYXNzU3R5bGVPZixoYXNPd25Qcm9wZXJ0eU9mLG5hbWVGb3JQYXNzYWJsZVN5bWJvbCxjb21wYXJlUmFuayxnZXRQYXNzU3R5bGVDb3ZlcixpbnRlcnNlY3RSYW5rQ292ZXJzLHVuaW9uUmFua0NvdmVycyxyZWNvcmROYW1lcyxyZWNvcmRWYWx1ZXMsa2V5RVEsa2V5R1Qsa2V5R1RFLGtleUxULGtleUxURSxhc3NlcnRLZXksY2hlY2tLZXksaXNLZXksY2hlY2tTY2FsYXJLZXksY2hlY2tDb3B5U2V0LGNoZWNrQ29weU1hcCxjb3B5TWFwS2V5U2V0LGNoZWNrQ29weUJhZyxnZXRDb3B5TWFwRW50cnlBcnJheSxtYWtlQ29weU1hcCxtYWtlQ29weVNldCxtYWtlQ29weUJhZyxnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiYlwiLFskaM2PX2EgPT4gKGIgPSAkaM2PX2EpXV0sW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2lkZW50LWNoZWNrZXIuanNcIiwgW1tcImlkZW50Q2hlY2tlclwiLFskaM2PX2EgPT4gKGlkZW50Q2hlY2tlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9hcHBseS1sYWJlbGluZy1lcnJvci5qc1wiLCBbW1wiYXBwbHlMYWJlbGluZ0Vycm9yXCIsWyRozY9fYSA9PiAoYXBwbHlMYWJlbGluZ0Vycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanNcIiwgW1tcImZyb21VbmlxdWVFbnRyaWVzXCIsWyRozY9fYSA9PiAoZnJvbVVuaXF1ZUVudHJpZXMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzXCIsIFtbXCJsaXN0RGlmZmVyZW5jZVwiLFskaM2PX2EgPT4gKGxpc3REaWZmZXJlbmNlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImhhc093blByb3BlcnR5T2ZcIixbJGjNj19hID0+IChoYXNPd25Qcm9wZXJ0eU9mID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImNvbXBhcmVSYW5rXCIsWyRozY9fYSA9PiAoY29tcGFyZVJhbmsgPSAkaM2PX2EpXV0sW1wiZ2V0UGFzc1N0eWxlQ292ZXJcIixbJGjNj19hID0+IChnZXRQYXNzU3R5bGVDb3ZlciA9ICRozY9fYSldXSxbXCJpbnRlcnNlY3RSYW5rQ292ZXJzXCIsWyRozY9fYSA9PiAoaW50ZXJzZWN0UmFua0NvdmVycyA9ICRozY9fYSldXSxbXCJ1bmlvblJhbmtDb3ZlcnNcIixbJGjNj19hID0+ICh1bmlvblJhbmtDb3ZlcnMgPSAkaM2PX2EpXV0sW1wicmVjb3JkTmFtZXNcIixbJGjNj19hID0+IChyZWNvcmROYW1lcyA9ICRozY9fYSldXSxbXCJyZWNvcmRWYWx1ZXNcIixbJGjNj19hID0+IChyZWNvcmRWYWx1ZXMgPSAkaM2PX2EpXV1dXSxbXCIuLi9rZXlzL2NvbXBhcmVLZXlzLmpzXCIsIFtbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dLFtcImtleUdUXCIsWyRozY9fYSA9PiAoa2V5R1QgPSAkaM2PX2EpXV0sW1wia2V5R1RFXCIsWyRozY9fYSA9PiAoa2V5R1RFID0gJGjNj19hKV1dLFtcImtleUxUXCIsWyRozY9fYSA9PiAoa2V5TFQgPSAkaM2PX2EpXV0sW1wia2V5TFRFXCIsWyRozY9fYSA9PiAoa2V5TFRFID0gJGjNj19hKV1dXV0sW1wiLi4va2V5cy9jaGVja0tleS5qc1wiLCBbW1wiYXNzZXJ0S2V5XCIsWyRozY9fYSA9PiAoYXNzZXJ0S2V5ID0gJGjNj19hKV1dLFtcImNoZWNrS2V5XCIsWyRozY9fYSA9PiAoY2hlY2tLZXkgPSAkaM2PX2EpXV0sW1wiaXNLZXlcIixbJGjNj19hID0+IChpc0tleSA9ICRozY9fYSldXSxbXCJjaGVja1NjYWxhcktleVwiLFskaM2PX2EgPT4gKGNoZWNrU2NhbGFyS2V5ID0gJGjNj19hKV1dLFtcImNoZWNrQ29weVNldFwiLFskaM2PX2EgPT4gKGNoZWNrQ29weVNldCA9ICRozY9fYSldXSxbXCJjaGVja0NvcHlNYXBcIixbJGjNj19hID0+IChjaGVja0NvcHlNYXAgPSAkaM2PX2EpXV0sW1wiY29weU1hcEtleVNldFwiLFskaM2PX2EgPT4gKGNvcHlNYXBLZXlTZXQgPSAkaM2PX2EpXV0sW1wiY2hlY2tDb3B5QmFnXCIsWyRozY9fYSA9PiAoY2hlY2tDb3B5QmFnID0gJGjNj19hKV1dLFtcImdldENvcHlNYXBFbnRyeUFycmF5XCIsWyRozY9fYSA9PiAoZ2V0Q29weU1hcEVudHJ5QXJyYXkgPSAkaM2PX2EpXV0sW1wibWFrZUNvcHlNYXBcIixbJGjNj19hID0+IChtYWtlQ29weU1hcCA9ICRozY9fYSldXSxbXCJtYWtlQ29weVNldFwiLFskaM2PX2EgPT4gKG1ha2VDb3B5U2V0ID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5QmFnXCIsWyRozY9fYSA9PiAobWFrZUNvcHlCYWcgPSAkaM2PX2EpXV1dXSxbXCIuLi9rZXlzL2tleWNvbGxlY3Rpb24tb3BlcmF0b3JzLmpzXCIsIFtbXCJnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllc1wiLFskaM2PX2EgPT4gKGdlbmVyYXRlQ29sbGVjdGlvblBhaXJFbnRyaWVzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuY29uc3QgeyBlbnRyaWVzLCB2YWx1ZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgcGF0dGVybk1lbW8gPSBuZXcgV2Vha1NldCgpO1xuXG4vL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmxldCBNTTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWZhdWx0TGltaXRzID0gaGFyZGVuKHtcbiAgZGVjaW1hbERpZ2l0c0xpbWl0OiAxMDAsXG4gIHN0cmluZ0xlbmd0aExpbWl0OiAxMDBfMDAwLFxuICBzeW1ib2xOYW1lTGVuZ3RoTGltaXQ6IDEwMCxcbiAgbnVtUHJvcGVydGllc0xpbWl0OiA4MCxcbiAgcHJvcGVydHlOYW1lTGVuZ3RoTGltaXQ6IDEwMCxcbiAgYXJyYXlMZW5ndGhMaW1pdDogMTBfMDAwLFxuICBudW1TZXRFbGVtZW50c0xpbWl0OiAxMF8wMDAsXG4gIG51bVVuaXF1ZUJhZ0VsZW1lbnRzTGltaXQ6IDEwXzAwMCxcbiAgbnVtTWFwRW50cmllc0xpbWl0OiA1MDAwLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZGVmYXVsdExpbWl0cyhkZWZhdWx0TGltaXRzKTtcbmNvbnN0IGxpbWl0ID0gKGxpbWl0cyA9IHt9KSA9PlxuICAvKiAgICAgICAgICAgICAgICAgICAgKi8gKGhhcmRlbih7IF9fcHJvdG9fXzogZGVmYXVsdExpbWl0cywgLi4ubGltaXRzIH0pKTtcblxuY29uc3QgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQgPSAoXG4gIHBheWxvYWQsXG4gIG1haW5QYXlsb2FkU2hhcGUsXG4gIGNoZWNrLFxuICBsYWJlbCxcbikgPT4ge1xuICBhc3NlcnQoQXJyYXkuaXNBcnJheShtYWluUGF5bG9hZFNoYXBlKSk7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXlsb2FkKSkge1xuICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGAke3EobGFiZWwpfSBwYXlsb2FkIG11c3QgYmUgYW4gYXJyYXk6ICR7cGF5bG9hZH1gKTtcbiAgfVxuXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG5cbiAgY29uc3QgbWFpbkxlbmd0aCA9IG1haW5QYXlsb2FkU2hhcGUubGVuZ3RoO1xuICBpZiAoIShwYXlsb2FkLmxlbmd0aCA9PT0gbWFpbkxlbmd0aCB8fCBwYXlsb2FkLmxlbmd0aCA9PT0gbWFpbkxlbmd0aCArIDEpKSB7XG4gICAgcmV0dXJuIGNoZWNrKGZhbHNlLCBYYCR7cShsYWJlbCl9IHBheWxvYWQgdW5leHBlY3RlZCBzaXplOiAke3BheWxvYWR9YCk7XG4gIH1cbiAgY29uc3QgbGltaXRzID0gcGF5bG9hZFttYWluTGVuZ3RoXTtcbiAgcGF5bG9hZCA9IGhhcmRlbihwYXlsb2FkLnNsaWNlKDAsIG1haW5MZW5ndGgpKTtcbiAgLy9cbiAgaWYgKCFjaGVja01hdGNoZXMocGF5bG9hZCwgbWFpblBheWxvYWRTaGFwZSwgY2hlY2ssIGxhYmVsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobGltaXRzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIChwYXNzU3R5bGVPZihsaW1pdHMpID09PSAnY29weVJlY29yZCcgfHxcbiAgICAgIGNoZWNrKGZhbHNlLCBYYExpbWl0cyBtdXN0IGJlIGEgcmVjb3JkOiAke3EobGltaXRzKX1gKSkgJiZcbiAgICBlbnRyaWVzKGxpbWl0cykuZXZlcnkoXG4gICAgICAoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICBwYXNzU3R5bGVPZih2YWx1ZSkgPT09ICdudW1iZXInIHx8XG4gICAgICAgIGNoZWNrKGZhbHNlLCBYYFZhbHVlIG9mIGxpbWl0ICR7cShrZXkpfSBidXQgYmUgYSBudW1iZXI6ICR7cSh2YWx1ZSl9YCksXG4gICAgKVxuICApO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgY2hlY2tEZWNpbWFsRGlnaXRzTGltaXQgPSAoc3BlY2ltZW4sIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2spID0+IHtcbiAgaWYgKFxuICAgIE1hdGguZmxvb3IoTWF0aC5sb2cxMChNYXRoLmFicyhOdW1iZXIoc3BlY2ltZW4pKSkpICsgMSA8PVxuICAgIGRlY2ltYWxEaWdpdHNMaW1pdFxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gY2hlY2soXG4gICAgZmFsc2UsXG4gICAgWGBiaWdpbnQgJHtzcGVjaW1lbn0gbXVzdCBub3QgaGF2ZSBtb3JlIHRoYW4gJHtkZWNpbWFsRGlnaXRzTGltaXR9IGRpZ2l0c2AsXG4gICk7XG59O1xuXG4vKlxuXG4gKi9cbmNvbnN0IG1ha2VQYXR0ZXJuS2l0ID0gKCkgPT4ge1xuICAvKlxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1heWJlTWF0Y2hIZWxwZXIgPSB0YWcgPT5cbiAgICAvL1xuICAgIEhlbHBlcnNCeU1hdGNoVGFnW3RhZ107XG5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1heWJlUGF5bG9hZFNoYXBlID0gdGFnID0+XG4gICAgLy9cbiAgICBHdWFyZFBheWxvYWRTaGFwZXNbdGFnXTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc2luZ2xldG9uS2luZHMgPSBuZXcgTWFwKFtcbiAgICBbJ251bGwnLCBudWxsXSxcbiAgICBbJ3VuZGVmaW5lZCcsIHVuZGVmaW5lZF0sXG4gIF0pO1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCB0YWdNZW1vID0gbmV3IFdlYWtNYXAoKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja1RhZ2dlZCA9ICh0YWdnZWQsIHRhZywgY2hlY2spID0+IHtcbiAgICBjb25zdCBtYXRjaEhlbHBlciA9IG1heWJlTWF0Y2hIZWxwZXIodGFnKTtcbiAgICBpZiAobWF0Y2hIZWxwZXIpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIG1hdGNoSGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkKHRhZ2dlZC5wYXlsb2FkLCBjaGVjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBheWxvYWRTaGFwZSA9IG1heWJlUGF5bG9hZFNoYXBlKHRhZyk7XG4gICAgICBpZiAocGF5bG9hZFNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGNoZWNrTWF0Y2hlcyh0YWdnZWQucGF5bG9hZCwgcGF5bG9hZFNoYXBlLCBjaGVjaywgdGFnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgJ2NvcHlTZXQnOiB7XG4gICAgICAgIHJldHVybiBjaGVja0NvcHlTZXQodGFnZ2VkLCBjaGVjayk7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5QmFnJzoge1xuICAgICAgICByZXR1cm4gY2hlY2tDb3B5QmFnKHRhZ2dlZCwgY2hlY2spO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weU1hcCc6IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrQ29weU1hcCh0YWdnZWQsIGNoZWNrKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFhgY2Fubm90IGNoZWNrIHVucmVjb2duaXplZCB0YWcgJHtxKHRhZyl9OiAke3RhZ2dlZH1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBraW5kT2YgPSAoc3BlY2ltZW4sIGNoZWNrID0gaWRlbnRDaGVja2VyKSA9PiB7XG4gICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2Yoc3BlY2ltZW4pO1xuICAgIGlmIChwYXNzU3R5bGUgIT09ICd0YWdnZWQnKSB7XG4gICAgICByZXR1cm4gcGFzc1N0eWxlO1xuICAgIH1cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAodGFnTWVtby5oYXMoc3BlY2ltZW4pKSB7XG4gICAgICByZXR1cm4gdGFnTWVtby5nZXQoc3BlY2ltZW4pO1xuICAgIH1cbiAgICBjb25zdCB0YWcgPSBnZXRUYWcoc3BlY2ltZW4pO1xuICAgIGlmIChjaGVja1RhZ2dlZChzcGVjaW1lbiwgdGFnLCBjaGVjaykpIHtcbiAgICAgIHRhZ01lbW8uc2V0KHNwZWNpbWVuLCB0YWcpO1xuICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG4gICAgaWYgKGNoZWNrICE9PSBpZGVudENoZWNrZXIpIHtcbiAgICAgIGNoZWNrKGZhbHNlLCBYYGNhbm5vdCBjaGVjayB1bnJlY29nbml6ZWQgdGFnICR7cSh0YWcpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuICBoYXJkZW4oa2luZE9mKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja0tpbmQgPSAoc3BlY2ltZW4sIGtpbmQsIGNoZWNrKSA9PiB7XG4gICAgLy9cbiAgICBpZiAoc2luZ2xldG9uS2luZHMuaGFzKGtpbmQpKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNoZWNrQXNLZXlQYXR0KHNwZWNpbWVuLCBzaW5nbGV0b25LaW5kcy5nZXQoa2luZCksIGNoZWNrKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFsS2luZCA9IGtpbmRPZihzcGVjaW1lbiwgY2hlY2spO1xuICAgIGlmIChraW5kID09PSByZWFsS2luZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjaGVjayAhPT0gaWRlbnRDaGVja2VyKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNoZWNrKGZhbHNlLCBYYCR7YihyZWFsS2luZCl9ICR7c3BlY2ltZW59IC0gTXVzdCBiZSBhICR7YihraW5kKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBpc0tpbmQgPSAoc3BlY2ltZW4sIGtpbmQpID0+IGNoZWNrS2luZChzcGVjaW1lbiwga2luZCwgaWRlbnRDaGVja2VyKTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja0FzS2V5UGF0dCA9IChzcGVjaW1lbiwga2V5QXNQYXR0ZXJuLCBjaGVjaykgPT4ge1xuICAgIGlmIChpc0tleShzcGVjaW1lbikgJiYga2V5RVEoc3BlY2ltZW4sIGtleUFzUGF0dGVybikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgY2hlY2sgIT09IGlkZW50Q2hlY2tlciAmJlxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjaGVjayhmYWxzZSwgWGAke3NwZWNpbWVufSAtIE11c3QgYmU6ICR7a2V5QXNQYXR0ZXJufWApXG4gICAgKTtcbiAgfTtcblxuICAvL1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjaGVja1BhdHRlcm4gPSAocGF0dCwgY2hlY2spID0+IHtcbiAgICBpZiAoaXNLZXkocGF0dCkpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhdHRlcm5NZW1vLmhhcyhwYXR0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vXG4gICAgY29uc3QgcmVzdWx0ID0gY2hlY2tQYXR0ZXJuSW50ZXJuYWwocGF0dCwgY2hlY2spO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHBhdHRlcm5NZW1vLmFkZChwYXR0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja1BhdHRlcm5JbnRlcm5hbCA9IChwYXR0LCBjaGVjaykgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IGNoZWNrSXQgPSBjaGlsZCA9PiBjaGVja1BhdHRlcm4oY2hpbGQsIGNoZWNrKTtcblxuICAgIGNvbnN0IGtpbmQgPSBraW5kT2YocGF0dCwgY2hlY2spO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSB1bmRlZmluZWQ6IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHZhbHVlcyhwYXR0KS5ldmVyeShjaGVja0l0KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHBhdHQuZXZlcnkoY2hlY2tJdCk7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5TWFwJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gY2hlY2tQYXR0ZXJuKHBhdHQudmFsdWVzLCBjaGVjayk7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgQSAke3Eoa2luZCl9IGNhbm5vdCBiZSBhIHBhdHRlcm5gKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgaWYgKG1heWJlTWF0Y2hIZWxwZXIoa2luZCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBYYEEgcGFzc2FibGUgb2Yga2luZCAke3Eoa2luZCl9IGlzIG5vdCBhIHBhdHRlcm46ICR7cGF0dH1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IGlzUGF0dGVybiA9IHBhdHQgPT4gY2hlY2tQYXR0ZXJuKHBhdHQsIGlkZW50Q2hlY2tlcik7XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgYXNzZXJ0UGF0dGVybiA9IHBhdHQgPT4ge1xuICAgIGNoZWNrUGF0dGVybihwYXR0LCBhc3NlcnRDaGVja2VyKTtcbiAgfTtcblxuICAvL1xuXG4gIC8qXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hlY2tNYXRjaGVzID0gKHNwZWNpbWVuLCBwYXR0ZXJuLCBjaGVjaywgbGFiZWwgPSB1bmRlZmluZWQpID0+XG4gICAgLy9cbiAgICBhcHBseUxhYmVsaW5nRXJyb3IoY2hlY2tNYXRjaGVzSW50ZXJuYWwsIFtzcGVjaW1lbiwgcGF0dGVybiwgY2hlY2tdLCBsYWJlbCk7XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hlY2tNYXRjaGVzSW50ZXJuYWwgPSAoc3BlY2ltZW4sIHBhdHQsIGNoZWNrKSA9PiB7XG4gICAgLy9cbiAgICBjb25zdCBwYXR0ZXJuS2luZCA9IGtpbmRPZihwYXR0LCBjaGVjayk7XG4gICAgY29uc3Qgc3BlY2ltZW5LaW5kID0ga2luZE9mKHNwZWNpbWVuKTsgLy9cbiAgICBzd2l0Y2ggKHBhdHRlcm5LaW5kKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDoge1xuICAgICAgICByZXR1cm4gRmFpbGBwYXR0ZXJuIGV4cGVjdGVkOiAke3BhdHR9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIHJldHVybiBGYWlsYHByb21pc2VzIGNhbm5vdCBiZSBwYXR0ZXJuczogJHtwYXR0fWA7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgcmV0dXJuIEZhaWxgZXJyb3JzIGNhbm5vdCBiZSBwYXR0ZXJuczogJHtwYXR0fWA7XG4gICAgICB9XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICBjYXNlICdjb3B5U2V0JzpcbiAgICAgIGNhc2UgJ2NvcHlCYWcnOlxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gY2hlY2tBc0tleVBhdHQoc3BlY2ltZW4sIHBhdHQsIGNoZWNrKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgaWYgKGlzS2V5KHBhdHQpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBjaGVja0FzS2V5UGF0dChzcGVjaW1lbiwgcGF0dCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaW1lbktpbmQgIT09ICdjb3B5QXJyYXknKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBiZSBhIGNvcHlBcnJheSB0byBtYXRjaCBhIGNvcHlBcnJheSBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gcGF0dDtcbiAgICAgICAgaWYgKHNwZWNpbWVuLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYEFycmF5ICR7c3BlY2ltZW59IC0gTXVzdCBiZSBhcyBsb25nIGFzIGNvcHlBcnJheSBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0dC5ldmVyeSgocCwgaSkgPT4gY2hlY2tNYXRjaGVzKHNwZWNpbWVuW2ldLCBwLCBjaGVjaywgaSkpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgaWYgKGlzS2V5KHBhdHQpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBjaGVja0FzS2V5UGF0dChzcGVjaW1lbiwgcGF0dCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaW1lbktpbmQgIT09ICdjb3B5UmVjb3JkJykge1xuICAgICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgYSBjb3B5UmVjb3JkIHRvIG1hdGNoIGEgY29weVJlY29yZCBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBzcGVjaW1lbk5hbWVzID0gcmVjb3JkTmFtZXMoc3BlY2ltZW4pO1xuICAgICAgICBjb25zdCBwYXR0TmFtZXMgPSByZWNvcmROYW1lcyhwYXR0KTtcbiAgICAgICAgY29uc3QgbWlzc2luZyA9IGxpc3REaWZmZXJlbmNlKHBhdHROYW1lcywgc3BlY2ltZW5OYW1lcyk7XG4gICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBoYXZlIG1pc3NpbmcgcHJvcGVydGllcyAke3EobWlzc2luZyl9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuZXhwZWN0ZWQgPSBsaXN0RGlmZmVyZW5jZShzcGVjaW1lbk5hbWVzLCBwYXR0TmFtZXMpO1xuICAgICAgICBpZiAodW5leHBlY3RlZC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWGAke3NwZWNpbWVufSAtIE11c3Qgbm90IGhhdmUgdW5leHBlY3RlZCBwcm9wZXJ0aWVzOiAke3EoXG4gICAgICAgICAgICAgIHVuZXhwZWN0ZWQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGVjaW1lblZhbHVlcyA9IHJlY29yZFZhbHVlcyhzcGVjaW1lbiwgc3BlY2ltZW5OYW1lcyk7XG4gICAgICAgIGNvbnN0IHBhdHRWYWx1ZXMgPSByZWNvcmRWYWx1ZXMocGF0dCwgcGF0dE5hbWVzKTtcbiAgICAgICAgcmV0dXJuIHBhdHROYW1lcy5ldmVyeSgobGFiZWwsIGkpID0+XG4gICAgICAgICAgY2hlY2tNYXRjaGVzKHNwZWNpbWVuVmFsdWVzW2ldLCBwYXR0VmFsdWVzW2ldLCBjaGVjaywgbGFiZWwpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weU1hcCc6IHtcbiAgICAgICAgaWYgKGlzS2V5KHBhdHQpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBjaGVja0FzS2V5UGF0dChzcGVjaW1lbiwgcGF0dCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaW1lbktpbmQgIT09ICdjb3B5TWFwJykge1xuICAgICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgYSBjb3B5TWFwIHRvIG1hdGNoIGEgY29weU1hcCBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwYXR0S2V5U2V0ID0gY29weU1hcEtleVNldChwYXR0KTtcbiAgICAgICAgY29uc3Qgc3BlY2ltZW5LZXlTZXQgPSBjb3B5TWFwS2V5U2V0KHNwZWNpbWVuKTtcbiAgICAgICAgaWYgKCFjaGVja01hdGNoZXMoc3BlY2ltZW5LZXlTZXQsIHBhdHRLZXlTZXQsIGNoZWNrKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwYXR0VmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IHNwZWNpbWVuVmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IGVudHJ5UGFpcnMgPSBnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyhcbiAgICAgICAgICBwYXR0LFxuICAgICAgICAgIHNwZWNpbWVuLFxuICAgICAgICAgIGdldENvcHlNYXBFbnRyeUFycmF5LFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChjb25zdCBbX2tleSwgcGF0dFZhbHVlLCBzcGVjaW1lblZhbHVlXSBvZiBlbnRyeVBhaXJzKSB7XG4gICAgICAgICAgcGF0dFZhbHVlcy5wdXNoKHBhdHRWYWx1ZSk7XG4gICAgICAgICAgc3BlY2ltZW5WYWx1ZXMucHVzaChzcGVjaW1lblZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tNYXRjaGVzKGhhcmRlbihzcGVjaW1lblZhbHVlcyksIGhhcmRlbihwYXR0VmFsdWVzKSwgY2hlY2spO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBtYXRjaEhlbHBlciA9IG1heWJlTWF0Y2hIZWxwZXIocGF0dGVybktpbmQpO1xuICAgICAgICBpZiAobWF0Y2hIZWxwZXIpIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2hIZWxwZXIuY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0LnBheWxvYWQsIGNoZWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBGYWlsYGludGVybmFsOiBzaG91bGQgaGF2ZSByZWNvZ25pemVkICR7cShwYXR0ZXJuS2luZCl9IGA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBtYXRjaGVzID0gKHNwZWNpbWVuLCBwYXR0KSA9PlxuICAgIGNoZWNrTWF0Y2hlcyhzcGVjaW1lbiwgcGF0dCwgaWRlbnRDaGVja2VyKTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbXVzdE1hdGNoID0gKHNwZWNpbWVuLCBwYXR0LCBsYWJlbCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGxldCBpbm5lckVycm9yO1xuICAgIHRyeSB7XG4gICAgICBpZiAoY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0LCBpZGVudENoZWNrZXIsIHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICBpbm5lckVycm9yID0gZXI7XG4gICAgfVxuICAgIC8vXG4gICAgY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0LCBhc3NlcnRDaGVja2VyLCBsYWJlbCk7XG4gICAgY29uc3Qgb3V0ZXJFcnJvciA9IG1ha2VFcnJvcihcbiAgICAgIFhgaW50ZXJuYWw6ICR7bGFiZWx9OiBpbmNvbnNpc3RlbnQgcGF0dGVybiBtYXRjaDogJHtxKHBhdHQpfWAsXG4gICAgKTtcbiAgICBpZiAoaW5uZXJFcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhbm5vdGF0ZUVycm9yKG91dGVyRXJyb3IsIFhgY2F1c2VkIGJ5ICR7aW5uZXJFcnJvcn1gKTtcbiAgICB9XG4gICAgdGhyb3cgb3V0ZXJFcnJvcjtcbiAgfTtcblxuICAvL1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBnZXRSYW5rQ292ZXIgPSAocGF0dCwgZW5jb2RlUGFzc2FibGUpID0+IHtcbiAgICBpZiAoaXNLZXkocGF0dCkpIHtcbiAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVQYXNzYWJsZShwYXR0KTtcbiAgICAgIGlmIChlbmNvZGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFtlbmNvZGVkLCBgJHtlbmNvZGVkfX5gXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YocGF0dCk7XG4gICAgc3dpdGNoIChwYXNzU3R5bGUpIHtcbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgY29uc3QgdGFnID0gZ2V0VGFnKHBhdHQpO1xuICAgICAgICBjb25zdCBtYXRjaEhlbHBlciA9IG1heWJlTWF0Y2hIZWxwZXIodGFnKTtcbiAgICAgICAgaWYgKG1hdGNoSGVscGVyKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBtYXRjaEhlbHBlci5nZXRSYW5rQ292ZXIocGF0dC5wYXlsb2FkLCBlbmNvZGVQYXNzYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdjb3B5TWFwJzoge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgYnJlYWs7IC8vXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrOyAvL1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBicmVhazsgLy9cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdldFBhc3NTdHlsZUNvdmVyKHBhc3NTdHlsZSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhcnJheUV2ZXJ5TWF0Y2hQYXR0ZXJuID0gKGFycmF5LCBwYXR0LCBjaGVjaywgbGFiZWxQcmVmaXggPSAnJykgPT4ge1xuICAgIGlmIChpc0tpbmQocGF0dCwgJ21hdGNoOmFueScpKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheS5ldmVyeSgoZWwsIGkpID0+XG4gICAgICBjaGVja01hdGNoZXMoZWwsIHBhdHQsIGNoZWNrLCBgJHtsYWJlbFByZWZpeH1bJHtpfV1gKSxcbiAgICApO1xuICB9O1xuXG4gIC8vXG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hBbnlIZWxwZXIgPSBGYXIoJ21hdGNoOmFueSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoX3NwZWNpbWVuLCBfbWF0Y2hlclBheWxvYWQsIF9jaGVjaykgPT4gdHJ1ZSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAobWF0Y2hlclBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgbWF0Y2hlclBheWxvYWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgY2hlY2soZmFsc2UsIFhgbWF0Y2g6YW55IHBheWxvYWQ6ICR7bWF0Y2hlclBheWxvYWR9IC0gTXVzdCBiZSB1bmRlZmluZWRgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKF9tYXRjaFBheWxvYWQsIF9lbmNvZGVQYXNzYWJsZSkgPT4gWycnLCAneyddLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaEFuZEhlbHBlciA9IEZhcignbWF0Y2g6YW5kIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgcGF0dHMsIGNoZWNrKSA9PiB7XG4gICAgICByZXR1cm4gcGF0dHMuZXZlcnkocGF0dCA9PiBjaGVja01hdGNoZXMoc3BlY2ltZW4sIHBhdHQsIGNoZWNrKSk7XG4gICAgfSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAoYWxsZWdlZFBhdHRzLCBjaGVjaykgPT4ge1xuICAgICAgY29uc3QgY2hlY2tJdCA9IHBhdHQgPT4gY2hlY2tQYXR0ZXJuKHBhdHQsIGNoZWNrKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChwYXNzU3R5bGVPZihhbGxlZ2VkUGF0dHMpID09PSAnY29weUFycmF5JyB8fFxuICAgICAgICAgIGNoZWNrKGZhbHNlLCBYYE5lZWRzIGFycmF5IG9mIHN1Yi1wYXR0ZXJuczogJHtxKGFsbGVnZWRQYXR0cyl9YCkpICYmXG4gICAgICAgIGFsbGVnZWRQYXR0cy5ldmVyeShjaGVja0l0KVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgZ2V0UmFua0NvdmVyOiAocGF0dHMsIGVuY29kZVBhc3NhYmxlKSA9PlxuICAgICAgaW50ZXJzZWN0UmFua0NvdmVycyhcbiAgICAgICAgY29tcGFyZVJhbmssXG4gICAgICAgIHBhdHRzLm1hcChwID0+IGdldFJhbmtDb3ZlcihwLCBlbmNvZGVQYXNzYWJsZSkpLFxuICAgICAgKSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hPckhlbHBlciA9IEZhcignbWF0Y2g6b3IgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBwYXR0cywgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBwYXR0cztcbiAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFhgJHtzcGVjaW1lbn0gLSBubyBwYXR0ZXJuIGRpc2p1bmN0cyB0byBtYXRjaDogJHtxKHBhdHRzKX1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBwYXR0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgIW1hdGNoZXMoc3BlY2ltZW4sIHBhdHRzWzBdKSAmJlxuICAgICAgICBpc0tpbmQocGF0dHNbMF0sICdtYXRjaDpraW5kJykgJiZcbiAgICAgICAgcGF0dHNbMF0ucGF5bG9hZCA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICkge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0c1sxXSwgY2hlY2spO1xuICAgICAgfVxuICAgICAgaWYgKHBhdHRzLnNvbWUocGF0dCA9PiBtYXRjaGVzKHNwZWNpbWVuLCBwYXR0KSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgJHtzcGVjaW1lbn0gLSBNdXN0IG1hdGNoIG9uZSBvZiAke3EocGF0dHMpfWApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogbWF0Y2hBbmRIZWxwZXIuY2hlY2tJc1dlbGxGb3JtZWQsXG5cbiAgICBnZXRSYW5rQ292ZXI6IChwYXR0cywgZW5jb2RlUGFzc2FibGUpID0+XG4gICAgICB1bmlvblJhbmtDb3ZlcnMoXG4gICAgICAgIGNvbXBhcmVSYW5rLFxuICAgICAgICBwYXR0cy5tYXAocCA9PiBnZXRSYW5rQ292ZXIocCwgZW5jb2RlUGFzc2FibGUpKSxcbiAgICAgICksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoTm90SGVscGVyID0gRmFyKCdtYXRjaDpub3QgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBwYXR0LCBjaGVjaykgPT4ge1xuICAgICAgaWYgKG1hdGNoZXMoc3BlY2ltZW4sIHBhdHQpKSB7XG4gICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBmYWlsIG5lZ2F0ZWQgcGF0dGVybjogJHtxKHBhdHQpfWAsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IGNoZWNrUGF0dGVybixcblxuICAgIGdldFJhbmtDb3ZlcjogKF9wYXR0LCBfZW5jb2RlUGFzc2FibGUpID0+IFsnJywgJ3snXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hTY2FsYXJIZWxwZXIgPSBGYXIoJ21hdGNoOnNjYWxhciBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoc3BlY2ltZW4sIF9tYXRjaGVyUGF5bG9hZCwgY2hlY2spID0+XG4gICAgICBjaGVja1NjYWxhcktleShzcGVjaW1lbiwgY2hlY2spLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IG1hdGNoQW55SGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoX21hdGNoUGF5bG9hZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBbJ2EnLCAnen4nXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hLZXlIZWxwZXIgPSBGYXIoJ21hdGNoOmtleSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoc3BlY2ltZW4sIF9tYXRjaGVyUGF5bG9hZCwgY2hlY2spID0+XG4gICAgICBjaGVja0tleShzcGVjaW1lbiwgY2hlY2spLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IG1hdGNoQW55SGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoX21hdGNoUGF5bG9hZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBbJ2EnLCAnen4nXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hQYXR0ZXJuSGVscGVyID0gRmFyKCdtYXRjaDpwYXR0ZXJuIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgX21hdGNoZXJQYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrUGF0dGVybihzcGVjaW1lbiwgY2hlY2spLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IG1hdGNoQW55SGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoX21hdGNoUGF5bG9hZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBbJ2EnLCAnen4nXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hLaW5kSGVscGVyID0gRmFyKCdtYXRjaDpraW5kIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IGNoZWNrS2luZCxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAoYWxsZWdlZEtleUtpbmQsIGNoZWNrKSA9PlxuICAgICAgdHlwZW9mIGFsbGVnZWRLZXlLaW5kID09PSAnc3RyaW5nJyB8fFxuICAgICAgY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYG1hdGNoOmtpbmQ6IHBheWxvYWQ6ICR7YWxsZWdlZEtleUtpbmR9IC0gQSBraW5kIG5hbWUgbXVzdCBiZSBhIHN0cmluZ2AsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoa2luZCwgX2VuY29kZVBhc3NhYmxlKSA9PiB7XG4gICAgICBsZXQgc3R5bGU7XG4gICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSAnY29weVNldCc6XG4gICAgICAgIGNhc2UgJ2NvcHlNYXAnOiB7XG4gICAgICAgICAgc3R5bGUgPSAndGFnZ2VkJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgc3R5bGUgPSBraW5kO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0UGFzc1N0eWxlQ292ZXIoc3R5bGUpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoVGFnZ2VkSGVscGVyID0gRmFyKCdtYXRjaDp0YWdnZWQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbdGFnUGF0dCwgcGF5bG9hZFBhdHRdLCBjaGVjaykgPT4ge1xuICAgICAgaWYgKHBhc3NTdHlsZU9mKHNwZWNpbWVuKSAhPT0gJ3RhZ2dlZCcpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFhgRXhwZWN0ZWQgdGFnZ2VkIG9iamVjdCwgbm90ICR7cShcbiAgICAgICAgICAgIHBhc3NTdHlsZU9mKHNwZWNpbWVuKSxcbiAgICAgICAgICApfTogJHtzcGVjaW1lbn1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tNYXRjaGVzKGdldFRhZyhzcGVjaW1lbiksIHRhZ1BhdHQsIGNoZWNrLCAndGFnJykgJiZcbiAgICAgICAgY2hlY2tNYXRjaGVzKHNwZWNpbWVuLnBheWxvYWQsIHBheWxvYWRQYXR0LCBjaGVjaywgJ3BheWxvYWQnKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrTWF0Y2hlcyhcbiAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgaGFyZGVuKFtNTS5wYXR0ZXJuKCksIE1NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnRhZ2dlZCBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfa2luZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcigndGFnZ2VkJyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoQmlnaW50SGVscGVyID0gRmFyKCdtYXRjaDpiaWdpbnQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgZGVjaW1hbERpZ2l0c0xpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnYmlnaW50JywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrRGVjaW1hbERpZ2l0c0xpbWl0KHNwZWNpbWVuLCBkZWNpbWFsRGlnaXRzTGltaXQsIGNoZWNrKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW10pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOmJpZ2ludCBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfbWF0Y2hQYXlsb2FkLCBfZW5jb2RlUGFzc2FibGUpID0+XG4gICAgICBnZXRQYXNzU3R5bGVDb3ZlcignYmlnaW50JyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoTmF0SGVscGVyID0gRmFyKCdtYXRjaDpuYXQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgZGVjaW1hbERpZ2l0c0xpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnYmlnaW50JywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pID49IDBuLFxuICAgICAgICAgIFhgJHtzcGVjaW1lbn0gLSBNdXN0IGJlIG5vbi1uZWdhdGl2ZWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgY2hlY2tEZWNpbWFsRGlnaXRzTGltaXQoc3BlY2ltZW4sIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2spXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnbWF0Y2g6bmF0IHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKF9tYXRjaFBheWxvYWQsIF9lbmNvZGVQYXNzYWJsZSkgPT5cbiAgICAgIC8vXG4gICAgICBnZXRQYXNzU3R5bGVDb3ZlcignYmlnaW50JyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3RyaW5nSGVscGVyID0gRmFyKCdtYXRjaDpzdHJpbmcgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgc3RyaW5nTGVuZ3RoTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnc3RyaW5nJywgY2hlY2spICYmXG4gICAgICAgICAgLy9cbiAgICAgICAgICAoLyogICAgICAgICAgICAgICAgICovIChzcGVjaW1lbikubGVuZ3RoIDw9IHN0cmluZ0xlbmd0aExpbWl0IHx8XG4gICAgICAgICAgY2hlY2soXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFhgc3RyaW5nICR7c3BlY2ltZW59IG11c3Qgbm90IGJlIGJpZ2dlciB0aGFuICR7c3RyaW5nTGVuZ3RoTGltaXR9YCxcbiAgICAgICAgICApKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW10pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnN0cmluZyBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfbWF0Y2hQYXlsb2FkLCBfZW5jb2RlUGFzc2FibGUpID0+XG4gICAgICBnZXRQYXNzU3R5bGVDb3Zlcignc3RyaW5nJyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3ltYm9sSGVscGVyID0gRmFyKCdtYXRjaDpzeW1ib2wgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgc3ltYm9sTmFtZUxlbmd0aExpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgaWYgKCFjaGVja0tpbmQoc3BlY2ltZW4sICdzeW1ib2wnLCBjaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3ltYm9sTmFtZSA9IG5hbWVGb3JQYXNzYWJsZVN5bWJvbChzcGVjaW1lbik7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3ltYm9sTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogUGFzc2FibGUgc3ltYm9sICR7c3BlY2ltZW59IG11c3QgaGF2ZSBhIHBhc3NhYmxlIG5hbWVgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICBzeW1ib2xOYW1lLmxlbmd0aCA8PSBzeW1ib2xOYW1lTGVuZ3RoTGltaXQsXG4gICAgICAgIFhgU3ltYm9sIG5hbWUgJHtxKFxuICAgICAgICAgIHN5bWJvbE5hbWUsXG4gICAgICAgICl9IG11c3Qgbm90IGJlIGJpZ2dlciB0aGFuICR7c3ltYm9sTmFtZUxlbmd0aExpbWl0fWAsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnbWF0Y2g6c3ltYm9sIHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKF9tYXRjaFBheWxvYWQsIF9lbmNvZGVQYXNzYWJsZSkgPT5cbiAgICAgIGdldFBhc3NTdHlsZUNvdmVyKCdzeW1ib2wnKSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hSZW1vdGFibGVIZWxwZXIgPSBGYXIoJ21hdGNoOnJlbW90YWJsZSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoc3BlY2ltZW4sIHJlbW90YWJsZURlc2MsIGNoZWNrKSA9PiB7XG4gICAgICBpZiAoaXNLaW5kKHNwZWNpbWVuLCAncmVtb3RhYmxlJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2sgPT09IGlkZW50Q2hlY2tlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGxhYmVsIH0gPSByZW1vdGFibGVEZXNjO1xuICAgICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2Yoc3BlY2ltZW4pO1xuICAgICAgY29uc3Qga2luZERldGFpbHMgPVxuICAgICAgICBwYXNzU3R5bGUgIT09ICd0YWdnZWQnXG4gICAgICAgICAgPyAvL1xuICAgICAgICAgICAgYihwYXNzU3R5bGUpXG4gICAgICAgICAgOiAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHEoZ2V0VGFnKHNwZWNpbWVuKSk7XG4gICAgICByZXR1cm4gY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBiZSBhIHJlbW90YWJsZSAke2IobGFiZWwpfSwgbm90ICR7a2luZERldGFpbHN9YCxcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAoYWxsZWdlZFJlbW90YWJsZURlc2MsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tNYXRjaGVzKFxuICAgICAgICBhbGxlZ2VkUmVtb3RhYmxlRGVzYyxcbiAgICAgICAgaGFyZGVuKHsgbGFiZWw6IE1NLnN0cmluZygpIH0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnJlbW90YWJsZSBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfcmVtb3RhYmxlRGVzYywgX2VuY29kZVBhc3NhYmxlKSA9PlxuICAgICAgZ2V0UGFzc1N0eWxlQ292ZXIoJ3JlbW90YWJsZScpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaExURUhlbHBlciA9IEZhcignbWF0Y2g6bHRlIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgcmlnaHRPcGVyYW5kLCBjaGVjaykgPT5cbiAgICAgIGtleUxURShzcGVjaW1lbiwgcmlnaHRPcGVyYW5kKSB8fFxuICAgICAgY2hlY2soZmFsc2UsIFhgJHtzcGVjaW1lbn0gLSBNdXN0IGJlIDw9ICR7cmlnaHRPcGVyYW5kfWApLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IGNoZWNrS2V5LFxuXG4gICAgZ2V0UmFua0NvdmVyOiAocmlnaHRPcGVyYW5kLCBlbmNvZGVQYXNzYWJsZSkgPT4ge1xuICAgICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YocmlnaHRPcGVyYW5kKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGxldCBbbGVmdEJvdW5kLCByaWdodEJvdW5kXSA9IGdldFBhc3NTdHlsZUNvdmVyKHBhc3NTdHlsZSk7XG4gICAgICBjb25zdCBuZXdSaWdodEJvdW5kID0gYCR7ZW5jb2RlUGFzc2FibGUocmlnaHRPcGVyYW5kKX1+YDtcbiAgICAgIGlmIChuZXdSaWdodEJvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmlnaHRCb3VuZCA9IG5ld1JpZ2h0Qm91bmQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2xlZnRCb3VuZCwgcmlnaHRCb3VuZF07XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hMVEhlbHBlciA9IEZhcignbWF0Y2g6bHQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCByaWdodE9wZXJhbmQsIGNoZWNrKSA9PlxuICAgICAga2V5TFQoc3BlY2ltZW4sIHJpZ2h0T3BlcmFuZCkgfHxcbiAgICAgIGNoZWNrKGZhbHNlLCBYYCR7c3BlY2ltZW59IC0gTXVzdCBiZSA8ICR7cmlnaHRPcGVyYW5kfWApLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IGNoZWNrS2V5LFxuXG4gICAgZ2V0UmFua0NvdmVyOiBtYXRjaExURUhlbHBlci5nZXRSYW5rQ292ZXIsXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoR1RFSGVscGVyID0gRmFyKCdtYXRjaDpndGUgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCByaWdodE9wZXJhbmQsIGNoZWNrKSA9PlxuICAgICAga2V5R1RFKHNwZWNpbWVuLCByaWdodE9wZXJhbmQpIHx8XG4gICAgICBjaGVjayhmYWxzZSwgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgPj0gJHtyaWdodE9wZXJhbmR9YCksXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogY2hlY2tLZXksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChyaWdodE9wZXJhbmQsIGVuY29kZVBhc3NhYmxlKSA9PiB7XG4gICAgICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihyaWdodE9wZXJhbmQpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgbGV0IFtsZWZ0Qm91bmQsIHJpZ2h0Qm91bmRdID0gZ2V0UGFzc1N0eWxlQ292ZXIocGFzc1N0eWxlKTtcbiAgICAgIGNvbnN0IG5ld0xlZnRCb3VuZCA9IGVuY29kZVBhc3NhYmxlKHJpZ2h0T3BlcmFuZCk7XG4gICAgICBpZiAobmV3TGVmdEJvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGVmdEJvdW5kID0gbmV3TGVmdEJvdW5kO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtsZWZ0Qm91bmQsIHJpZ2h0Qm91bmRdO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoR1RIZWxwZXIgPSBGYXIoJ21hdGNoOmd0IGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgcmlnaHRPcGVyYW5kLCBjaGVjaykgPT5cbiAgICAgIGtleUdUKHNwZWNpbWVuLCByaWdodE9wZXJhbmQpIHx8XG4gICAgICBjaGVjayhmYWxzZSwgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgPiAke3JpZ2h0T3BlcmFuZH1gKSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiBjaGVja0tleSxcblxuICAgIGdldFJhbmtDb3ZlcjogbWF0Y2hHVEVIZWxwZXIuZ2V0UmFua0NvdmVyLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaFJlY29yZE9mSGVscGVyID0gRmFyKCdtYXRjaDpyZWNvcmRPZiBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoXG4gICAgICBzcGVjaW1lbixcbiAgICAgIFtrZXlQYXR0LCB2YWx1ZVBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sXG4gICAgICBjaGVjayxcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHsgbnVtUHJvcGVydGllc0xpbWl0LCBwcm9wZXJ0eU5hbWVMZW5ndGhMaW1pdCB9ID0gbGltaXQobGltaXRzKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNoZWNrS2luZChzcGVjaW1lbiwgJ2NvcHlSZWNvcmQnLCBjaGVjaykgJiZcbiAgICAgICAgY2hlY2soXG4gICAgICAgICAgb3duS2V5cyhzcGVjaW1lbikubGVuZ3RoIDw9IG51bVByb3BlcnRpZXNMaW1pdCxcbiAgICAgICAgICBYYE11c3Qgbm90IGhhdmUgbW9yZSB0aGFuICR7cShcbiAgICAgICAgICAgIG51bVByb3BlcnRpZXNMaW1pdCxcbiAgICAgICAgICApfSBwcm9wZXJ0aWVzOiAke3NwZWNpbWVufWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgZW50cmllcyhzcGVjaW1lbikuZXZlcnkoXG4gICAgICAgICAgKFtrZXksIHZhbHVlXSkgPT5cbiAgICAgICAgICAgIGFwcGx5TGFiZWxpbmdFcnJvcihcbiAgICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBrZXkubGVuZ3RoIDw9IHByb3BlcnR5TmFtZUxlbmd0aExpbWl0LFxuICAgICAgICAgICAgICAgIFhgUHJvcGVydHkgbmFtZSBtdXN0IG5vdCBiZSBsb25nZXIgdGhhbiAke3EoXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVMZW5ndGhMaW1pdCxcbiAgICAgICAgICAgICAgICApfWAsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgIGNoZWNrTWF0Y2hlcyhcbiAgICAgICAgICAgICAgaGFyZGVuKFtrZXksIHZhbHVlXSksXG4gICAgICAgICAgICAgIGhhcmRlbihba2V5UGF0dCwgdmFsdWVQYXR0XSksXG4gICAgICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICApLFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbTU0ucGF0dGVybigpLCBNTS5wYXR0ZXJuKCldKSxcbiAgICAgICAgY2hlY2ssXG4gICAgICAgICdtYXRjaDpyZWNvcmRPZiBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IF9lbnRyeVBhdHQgPT4gZ2V0UGFzc1N0eWxlQ292ZXIoJ2NvcHlSZWNvcmQnKSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hBcnJheU9mSGVscGVyID0gRmFyKCdtYXRjaDphcnJheU9mIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgW3N1YlBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sIGNoZWNrKSA9PiB7XG4gICAgICBjb25zdCB7IGFycmF5TGVuZ3RoTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnY29weUFycmF5JywgY2hlY2spICYmXG4gICAgICAgICgvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pLmxlbmd0aCA8PSBhcnJheUxlbmd0aExpbWl0IHx8XG4gICAgICAgICAgY2hlY2soXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFhgQXJyYXkgbGVuZ3RoICR7c3BlY2ltZW4ubGVuZ3RofSBtdXN0IGJlIDw9IGxpbWl0ICR7YXJyYXlMZW5ndGhMaW1pdH1gLFxuICAgICAgICAgICkpICYmXG4gICAgICAgIGFycmF5RXZlcnlNYXRjaFBhdHRlcm4oc3BlY2ltZW4sIHN1YlBhdHQsIGNoZWNrKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW01NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOmFycmF5T2YgcGF5bG9hZCcsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcignY29weUFycmF5JyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU2V0T2ZIZWxwZXIgPSBGYXIoJ21hdGNoOnNldE9mIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgW2tleVBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sIGNoZWNrKSA9PiB7XG4gICAgICBjb25zdCB7IG51bVNldEVsZW1lbnRzTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjaGVja0tpbmQoc3BlY2ltZW4sICdjb3B5U2V0JywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICovIChzcGVjaW1lbi5wYXlsb2FkKS5sZW5ndGggPCBudW1TZXRFbGVtZW50c0xpbWl0LFxuICAgICAgICAgIFhgU2V0IG11c3Qgbm90IGhhdmUgbW9yZSB0aGFuICR7cShudW1TZXRFbGVtZW50c0xpbWl0KX0gZWxlbWVudHM6ICR7XG4gICAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLmxlbmd0aFxuICAgICAgICAgIH1gLFxuICAgICAgICApICYmXG4gICAgICAgIGFycmF5RXZlcnlNYXRjaFBhdHRlcm4oc3BlY2ltZW4ucGF5bG9hZCwga2V5UGF0dCwgY2hlY2ssICdzZXQgZWxlbWVudHMnKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW01NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnNldE9mIHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKCkgPT4gZ2V0UGFzc1N0eWxlQ292ZXIoJ3RhZ2dlZCcpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaEJhZ09mSGVscGVyID0gRmFyKCdtYXRjaDpiYWdPZiBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoXG4gICAgICBzcGVjaW1lbixcbiAgICAgIFtrZXlQYXR0LCBjb3VudFBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sXG4gICAgICBjaGVjayxcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHsgbnVtVW5pcXVlQmFnRWxlbWVudHNMaW1pdCwgZGVjaW1hbERpZ2l0c0xpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnY29weUJhZycsIGNoZWNrKSAmJlxuICAgICAgICBjaGVjayhcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4ucGF5bG9hZCkubGVuZ3RoIDw9XG4gICAgICAgICAgICBudW1VbmlxdWVCYWdFbGVtZW50c0xpbWl0LFxuICAgICAgICAgIFhgQmFnIG11c3Qgbm90IGhhdmUgbW9yZSB0aGFuICR7cShcbiAgICAgICAgICAgIG51bVVuaXF1ZUJhZ0VsZW1lbnRzTGltaXQsXG4gICAgICAgICAgKX0gdW5pcXVlIGVsZW1lbnRzOiAke3NwZWNpbWVufWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgc3BlY2ltZW4ucGF5bG9hZC5ldmVyeShcbiAgICAgICAgICAoW2tleSwgY291bnRdLCBpKSA9PlxuICAgICAgICAgICAgY2hlY2tNYXRjaGVzKGtleSwga2V5UGF0dCwgY2hlY2ssIGBiYWcga2V5c1ske2l9XWApICYmXG4gICAgICAgICAgICBhcHBseUxhYmVsaW5nRXJyb3IoXG4gICAgICAgICAgICAgIGNoZWNrRGVjaW1hbERpZ2l0c0xpbWl0LFxuICAgICAgICAgICAgICBbY291bnQsIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2tdLFxuICAgICAgICAgICAgICBgYmFnIGNvdW50c1ske2l9XWAsXG4gICAgICAgICAgICApICYmXG4gICAgICAgICAgICBjaGVja01hdGNoZXMoY291bnQsIGNvdW50UGF0dCwgY2hlY2ssIGBiYWcgY291bnRzWyR7aX1dYCksXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAocGF5bG9hZCwgY2hlY2spID0+XG4gICAgICBjaGVja0lzV2VsbEZvcm1lZFdpdGhMaW1pdChcbiAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgaGFyZGVuKFtNTS5wYXR0ZXJuKCksIE1NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOmJhZ09mIHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKCkgPT4gZ2V0UGFzc1N0eWxlQ292ZXIoJ3RhZ2dlZCcpLFxuICB9KTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBlbGVtZW50c0hhc1NwbGl0ID0gKFxuICAgIGVsZW1lbnRzLFxuICAgIGVsZW1lbnRQYXR0LFxuICAgIGJvdW5kLFxuICAgIGluUmVzdWx0cyA9IHVuZGVmaW5lZCxcbiAgICBvdXRSZXN1bHRzID0gdW5kZWZpbmVkLFxuICAgIGNoZWNrID0gaWRlbnRDaGVja2VyLFxuICApID0+IHtcbiAgICBsZXQgY291bnQgPSAwbjtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZvciAobGV0IGkgPSBlbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgaWYgKGNvdW50IDwgYm91bmQpIHtcbiAgICAgICAgaWYgKG1hdGNoZXMoZWxlbWVudCwgZWxlbWVudFBhdHQpKSB7XG4gICAgICAgICAgY291bnQgKz0gMW47XG4gICAgICAgICAgaWYgKGluUmVzdWx0cykgaW5SZXN1bHRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3V0UmVzdWx0cykge1xuICAgICAgICAgIG91dFJlc3VsdHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvdXRSZXN1bHRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRSZXN1bHRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVjayhcbiAgICAgIGNvdW50ID49IGJvdW5kLFxuICAgICAgWGBIYXMgb25seSAke3EoY291bnQpfSBtYXRjaGVzLCBidXQgbmVlZHMgJHtxKGJvdW5kKX1gLFxuICAgICk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgcGFpcnNIYXNTcGxpdCA9IChcbiAgICBwYWlycyxcbiAgICBlbGVtZW50UGF0dCxcbiAgICBib3VuZCxcbiAgICBpblJlc3VsdHMgPSB1bmRlZmluZWQsXG4gICAgb3V0UmVzdWx0cyA9IHVuZGVmaW5lZCxcbiAgICBjaGVjayA9IGlkZW50Q2hlY2tlcixcbiAgKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMG47XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBmb3IgKGxldCBpID0gcGFpcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgIGNvbnN0IFtlbGVtZW50LCBudW1dID0gcGFpcnNbaV07XG4gICAgICBjb25zdCBudW1SZXN0ID0gYm91bmQgLSBjb3VudDtcbiAgICAgIGlmIChudW1SZXN0ID49IDFuKSB7XG4gICAgICAgIGlmIChtYXRjaGVzKGVsZW1lbnQsIGVsZW1lbnRQYXR0KSkge1xuICAgICAgICAgIGlmIChudW0gPD0gbnVtUmVzdCkge1xuICAgICAgICAgICAgY291bnQgKz0gbnVtO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0cykgaW5SZXN1bHRzLnB1c2goW2VsZW1lbnQsIG51bV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBudW1JbiA9IG51bVJlc3Q7XG4gICAgICAgICAgICBjb3VudCArPSBudW1JbjtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdHMpIGluUmVzdWx0cy5wdXNoKFtlbGVtZW50LCBudW1SZXN0XSk7XG4gICAgICAgICAgICBpZiAob3V0UmVzdWx0cykgb3V0UmVzdWx0cy5wdXNoKFtlbGVtZW50LCBudW0gLSBudW1SZXN0XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG91dFJlc3VsdHMpIHtcbiAgICAgICAgICBvdXRSZXN1bHRzLnB1c2goW2VsZW1lbnQsIG51bV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG91dFJlc3VsdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFJlc3VsdHMucHVzaChbZWxlbWVudCwgbnVtXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVjayhcbiAgICAgIGNvdW50ID49IGJvdW5kLFxuICAgICAgWGBIYXMgb25seSAke3EoY291bnQpfSBtYXRjaGVzLCBidXQgbmVlZHMgJHtxKGJvdW5kKX1gLFxuICAgICk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjb250YWluZXJIYXNTcGxpdCA9IChcbiAgICBzcGVjaW1lbixcbiAgICBlbGVtZW50UGF0dCxcbiAgICBib3VuZCxcbiAgICBuZWVkSW5SZXN1bHRzID0gZmFsc2UsXG4gICAgbmVlZE91dFJlc3VsdHMgPSBmYWxzZSxcbiAgICBjaGVjayA9IGlkZW50Q2hlY2tlcixcbiAgKSA9PiB7XG4gICAgY29uc3QgaW5SZXN1bHRzID0gbmVlZEluUmVzdWx0cyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG91dFJlc3VsdHMgPSBuZWVkT3V0UmVzdWx0cyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGtpbmQgPSBraW5kT2Yoc3BlY2ltZW4pO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWVsZW1lbnRzSGFzU3BsaXQoXG4gICAgICAgICAgICBzcGVjaW1lbixcbiAgICAgICAgICAgIGVsZW1lbnRQYXR0LFxuICAgICAgICAgICAgYm91bmQsXG4gICAgICAgICAgICBpblJlc3VsdHMsXG4gICAgICAgICAgICBvdXRSZXN1bHRzLFxuICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2luUmVzdWx0cywgb3V0UmVzdWx0c107XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWVsZW1lbnRzSGFzU3BsaXQoXG4gICAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLFxuICAgICAgICAgICAgZWxlbWVudFBhdHQsXG4gICAgICAgICAgICBib3VuZCxcbiAgICAgICAgICAgIGluUmVzdWx0cyxcbiAgICAgICAgICAgIG91dFJlc3VsdHMsXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGluUmVzdWx0cyAmJiBtYWtlQ29weVNldChpblJlc3VsdHMpLFxuICAgICAgICAgIG91dFJlc3VsdHMgJiYgbWFrZUNvcHlTZXQob3V0UmVzdWx0cyksXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5QmFnJzoge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXBhaXJzSGFzU3BsaXQoXG4gICAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLFxuICAgICAgICAgICAgZWxlbWVudFBhdHQsXG4gICAgICAgICAgICBib3VuZCxcbiAgICAgICAgICAgIGluUmVzdWx0cyxcbiAgICAgICAgICAgIG91dFJlc3VsdHMsXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGluUmVzdWx0cyAmJiBtYWtlQ29weUJhZyhpblJlc3VsdHMpLFxuICAgICAgICAgIG91dFJlc3VsdHMgJiYgbWFrZUNvcHlCYWcob3V0UmVzdWx0cyksXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGB1bmV4cGVjdGVkICR7cShraW5kKX1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hDb250YWluZXJIYXNIZWxwZXIgPSBGYXIoJ00uY29udGFpbmVySGFzIGhlbHBlcicsIHtcbiAgICAvKlxuXG5cblxuICAgICAqL1xuICAgIGNoZWNrTWF0Y2hlczogKFxuICAgICAgc3BlY2ltZW4sXG4gICAgICBbZWxlbWVudFBhdHQsIGJvdW5kLCBsaW1pdHMgPSB1bmRlZmluZWRdLFxuICAgICAgY2hlY2ssXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBraW5kID0ga2luZE9mKHNwZWNpbWVuLCBjaGVjayk7XG4gICAgICBjb25zdCB7IGRlY2ltYWxEaWdpdHNMaW1pdCB9ID0gbGltaXQobGltaXRzKTtcbiAgICAgIGlmIChcbiAgICAgICAgIWFwcGx5TGFiZWxpbmdFcnJvcihcbiAgICAgICAgICBjaGVja0RlY2ltYWxEaWdpdHNMaW1pdCxcbiAgICAgICAgICBbYm91bmQsIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2tdLFxuICAgICAgICAgIGAke2tpbmR9IG1hdGNoZXNgLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEhY29udGFpbmVySGFzU3BsaXQoXG4gICAgICAgIHNwZWNpbWVuLFxuICAgICAgICBlbGVtZW50UGF0dCxcbiAgICAgICAgYm91bmQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgY2hlY2ssXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbTU0ucGF0dGVybigpLCBNTS5ndGUoMW4pXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnTS5jb250YWluZXJIYXMgcGF5bG9hZCcsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcigndGFnZ2VkJyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoTWFwT2ZIZWxwZXIgPSBGYXIoJ21hdGNoOm1hcE9mIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChcbiAgICAgIHNwZWNpbWVuLFxuICAgICAgW2tleVBhdHQsIHZhbHVlUGF0dCwgbGltaXRzID0gdW5kZWZpbmVkXSxcbiAgICAgIGNoZWNrLFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgeyBudW1NYXBFbnRyaWVzTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjaGVja0tpbmQoc3BlY2ltZW4sICdjb3B5TWFwJywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICovIChzcGVjaW1lbi5wYXlsb2FkLmtleXMpLmxlbmd0aCA8PVxuICAgICAgICAgICAgbnVtTWFwRW50cmllc0xpbWl0LFxuICAgICAgICAgIFhgQ29weU1hcCBtdXN0IGhhdmUgbm8gbW9yZSB0aGFuICR7cShcbiAgICAgICAgICAgIG51bU1hcEVudHJpZXNMaW1pdCxcbiAgICAgICAgICApfSBlbnRyaWVzOiAke3NwZWNpbWVufWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgYXJyYXlFdmVyeU1hdGNoUGF0dGVybihcbiAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLmtleXMsXG4gICAgICAgICAga2V5UGF0dCxcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgICAnbWFwIGtleXMnLFxuICAgICAgICApICYmXG4gICAgICAgIGFycmF5RXZlcnlNYXRjaFBhdHRlcm4oXG4gICAgICAgICAgc3BlY2ltZW4ucGF5bG9hZC52YWx1ZXMsXG4gICAgICAgICAgdmFsdWVQYXR0LFxuICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgICdtYXAgdmFsdWVzJyxcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW01NLnBhdHRlcm4oKSwgTU0ucGF0dGVybigpXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnbWF0Y2g6bWFwT2YgcGF5bG9hZCcsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiBfZW50cnlQYXR0ID0+IGdldFBhc3NTdHlsZUNvdmVyKCd0YWdnZWQnKSxcbiAgfSk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBzcGxpdEFycmF5UGFydHMgPSAoc3BlY2ltZW4sIHJlcXVpcmVkUGF0dCwgb3B0aW9uYWxQYXR0KSA9PiB7XG4gICAgY29uc3QgbnVtUmVxdWlyZWQgPSByZXF1aXJlZFBhdHQubGVuZ3RoO1xuICAgIGNvbnN0IG51bU9wdGlvbmFsID0gb3B0aW9uYWxQYXR0Lmxlbmd0aDtcbiAgICBjb25zdCByZXF1aXJlZFNwZWNpbWVuID0gc3BlY2ltZW4uc2xpY2UoMCwgbnVtUmVxdWlyZWQpO1xuICAgIGNvbnN0IG9wdGlvbmFsU3BlY2ltZW4gPSBzcGVjaW1lbi5zbGljZShcbiAgICAgIG51bVJlcXVpcmVkLFxuICAgICAgbnVtUmVxdWlyZWQgKyBudW1PcHRpb25hbCxcbiAgICApO1xuICAgIGNvbnN0IHJlc3RTcGVjaW1lbiA9IHNwZWNpbWVuLnNsaWNlKG51bVJlcXVpcmVkICsgbnVtT3B0aW9uYWwpO1xuICAgIHJldHVybiBoYXJkZW4oeyByZXF1aXJlZFNwZWNpbWVuLCBvcHRpb25hbFNwZWNpbWVuLCByZXN0U3BlY2ltZW4gfSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYWRhcHRBcnJheVBhdHRlcm4gPSAob3B0aW9uYWxQYXR0LCBsZW5ndGgpID0+XG4gICAgaGFyZGVuKG9wdGlvbmFsUGF0dC5zbGljZSgwLCBsZW5ndGgpLm1hcChwYXR0ID0+IE1NLm9wdChwYXR0KSkpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3BsaXRBcnJheUhlbHBlciA9IEZhcignbWF0Y2g6c3BsaXRBcnJheSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoXG4gICAgICBzcGVjaW1lbixcbiAgICAgIFtyZXF1aXJlZFBhdHQsIG9wdGlvbmFsUGF0dCA9IFtdLCByZXN0UGF0dCA9IE1NLmFueSgpXSxcbiAgICAgIGNoZWNrLFxuICAgICkgPT4ge1xuICAgICAgaWYgKCFjaGVja0tpbmQoc3BlY2ltZW4sICdjb3B5QXJyYXknLCBjaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyByZXF1aXJlZFNwZWNpbWVuLCBvcHRpb25hbFNwZWNpbWVuLCByZXN0U3BlY2ltZW4gfSA9XG4gICAgICAgIHNwbGl0QXJyYXlQYXJ0cyhzcGVjaW1lbiwgcmVxdWlyZWRQYXR0LCBvcHRpb25hbFBhdHQpO1xuICAgICAgY29uc3QgcGFydGlhbFBhdHQgPSBhZGFwdEFycmF5UGF0dGVybihcbiAgICAgICAgb3B0aW9uYWxQYXR0LFxuICAgICAgICBvcHRpb25hbFNwZWNpbWVuLmxlbmd0aCxcbiAgICAgICk7XG4gICAgICBsZXQgYXJnTnVtID0gMDtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChyZXF1aXJlZFNwZWNpbWVuLmxlbmd0aCA9PT0gcmVxdWlyZWRQYXR0Lmxlbmd0aCB8fFxuICAgICAgICAgIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYEV4cGVjdGVkIGF0IGxlYXN0ICR7cShcbiAgICAgICAgICAgICAgcmVxdWlyZWRQYXR0Lmxlbmd0aCxcbiAgICAgICAgICAgICl9IGFyZ3VtZW50czogJHtzcGVjaW1lbn1gLFxuICAgICAgICAgICkpICYmXG4gICAgICAgIHJlcXVpcmVkUGF0dC5ldmVyeSgocCwgaSkgPT5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNoZWNrTWF0Y2hlcyhyZXF1aXJlZFNwZWNpbWVuW2ldLCBwLCBjaGVjaywgYGFyZyAke2FyZ051bSsrfWApLFxuICAgICAgICApICYmXG4gICAgICAgIHBhcnRpYWxQYXR0LmV2ZXJ5KChwLCBpKSA9PlxuICAgICAgICAgIC8vXG4gICAgICAgICAgY2hlY2tNYXRjaGVzKG9wdGlvbmFsU3BlY2ltZW5baV0sIHAsIGNoZWNrLCBgYXJnICR7YXJnTnVtKyt9P2ApLFxuICAgICAgICApICYmXG4gICAgICAgIGNoZWNrTWF0Y2hlcyhyZXN0U3BlY2ltZW4sIHJlc3RQYXR0LCBjaGVjaywgJy4uLnJlc3QnKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLypcblxuXG4gICAgICovXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChzcGxpdEFycmF5LCBjaGVjaykgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBwYXNzU3R5bGVPZihzcGxpdEFycmF5KSA9PT0gJ2NvcHlBcnJheScgJiZcbiAgICAgICAgKHNwbGl0QXJyYXkubGVuZ3RoID49IDEgfHwgc3BsaXRBcnJheS5sZW5ndGggPD0gMylcbiAgICAgICkge1xuICAgICAgICBjb25zdCBbcmVxdWlyZWRQYXR0LCBvcHRpb25hbFBhdHQgPSB1bmRlZmluZWQsIHJlc3RQYXR0ID0gdW5kZWZpbmVkXSA9XG4gICAgICAgICAgc3BsaXRBcnJheTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzUGF0dGVybihyZXF1aXJlZFBhdHQpICYmXG4gICAgICAgICAgcGFzc1N0eWxlT2YocmVxdWlyZWRQYXR0KSA9PT0gJ2NvcHlBcnJheScgJiZcbiAgICAgICAgICAob3B0aW9uYWxQYXR0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIChpc1BhdHRlcm4ob3B0aW9uYWxQYXR0KSAmJlxuICAgICAgICAgICAgICBwYXNzU3R5bGVPZihvcHRpb25hbFBhdHQpID09PSAnY29weUFycmF5JykpICYmXG4gICAgICAgICAgKHJlc3RQYXR0ID09PSB1bmRlZmluZWQgfHwgaXNQYXR0ZXJuKHJlc3RQYXR0KSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFhgTXVzdCBiZSBhbiBhcnJheSBvZiBhIHJlcXVpcmVkUGF0dCBhcnJheSwgYW4gb3B0aW9uYWwgb3B0aW9uYWxQYXR0IGFycmF5LCBhbmQgYW4gb3B0aW9uYWwgcmVzdFBhdHQ6ICR7cShcbiAgICAgICAgICBzcGxpdEFycmF5LFxuICAgICAgICApfWAsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBnZXRSYW5rQ292ZXI6IChbXG4gICAgICBfcmVxdWlyZWRQYXR0LFxuICAgICAgX29wdGlvbmFsUGF0dCA9IHVuZGVmaW5lZCxcbiAgICAgIF9yZXN0UGF0dCA9IHVuZGVmaW5lZCxcbiAgICBdKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcignY29weUFycmF5JyksXG4gIH0pO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgc3BsaXRSZWNvcmRQYXJ0cyA9IChzcGVjaW1lbiwgcmVxdWlyZWRQYXR0LCBvcHRpb25hbFBhdHQpID0+IHtcbiAgICAvL1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgcmVxdWlyZWRFbnRyaWVzID0gW107XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCBvcHRpb25hbEVudHJpZXMgPSBbXTtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHJlc3RFbnRyaWVzID0gW107XG4gICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGVudHJpZXMoc3BlY2ltZW4pKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHlPZihyZXF1aXJlZFBhdHQsIG5hbWUpKSB7XG4gICAgICAgIHJlcXVpcmVkRW50cmllcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eU9mKG9wdGlvbmFsUGF0dCwgbmFtZSkpIHtcbiAgICAgICAgb3B0aW9uYWxFbnRyaWVzLnB1c2goW25hbWUsIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0RW50cmllcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgIHJlcXVpcmVkU3BlY2ltZW46IGZyb21VbmlxdWVFbnRyaWVzKHJlcXVpcmVkRW50cmllcyksXG4gICAgICBvcHRpb25hbFNwZWNpbWVuOiBmcm9tVW5pcXVlRW50cmllcyhvcHRpb25hbEVudHJpZXMpLFxuICAgICAgcmVzdFNwZWNpbWVuOiBmcm9tVW5pcXVlRW50cmllcyhyZXN0RW50cmllcyksXG4gICAgfSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYWRhcHRSZWNvcmRQYXR0ZXJuID0gKG9wdGlvbmFsUGF0dCwgbmFtZXMpID0+XG4gICAgZnJvbVVuaXF1ZUVudHJpZXMobmFtZXMubWFwKG5hbWUgPT4gW25hbWUsIE1NLm9wdChvcHRpb25hbFBhdHRbbmFtZV0pXSkpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3BsaXRSZWNvcmRIZWxwZXIgPSBGYXIoJ21hdGNoOnNwbGl0UmVjb3JkIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChcbiAgICAgIHNwZWNpbWVuLFxuICAgICAgW3JlcXVpcmVkUGF0dCwgb3B0aW9uYWxQYXR0ID0ge30sIHJlc3RQYXR0ID0gTU0uYW55KCldLFxuICAgICAgY2hlY2ssXG4gICAgKSA9PiB7XG4gICAgICBpZiAoIWNoZWNrS2luZChzcGVjaW1lbiwgJ2NvcHlSZWNvcmQnLCBjaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyByZXF1aXJlZFNwZWNpbWVuLCBvcHRpb25hbFNwZWNpbWVuLCByZXN0U3BlY2ltZW4gfSA9XG4gICAgICAgIHNwbGl0UmVjb3JkUGFydHMoc3BlY2ltZW4sIHJlcXVpcmVkUGF0dCwgb3B0aW9uYWxQYXR0KTtcblxuICAgICAgY29uc3QgcGFydGlhbE5hbWVzID0gLyogICAgICAgICAgICAgICAgICAgKi8gKG93bktleXMob3B0aW9uYWxTcGVjaW1lbikpO1xuICAgICAgY29uc3QgcGFydGlhbFBhdHQgPSBhZGFwdFJlY29yZFBhdHRlcm4ob3B0aW9uYWxQYXR0LCBwYXJ0aWFsTmFtZXMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tNYXRjaGVzKHJlcXVpcmVkU3BlY2ltZW4sIHJlcXVpcmVkUGF0dCwgY2hlY2spICYmXG4gICAgICAgIHBhcnRpYWxOYW1lcy5ldmVyeShuYW1lID0+XG4gICAgICAgICAgY2hlY2tNYXRjaGVzKFxuICAgICAgICAgICAgb3B0aW9uYWxTcGVjaW1lbltuYW1lXSxcbiAgICAgICAgICAgIHBhcnRpYWxQYXR0W25hbWVdLFxuICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgICBgJHtuYW1lfT9gLFxuICAgICAgICAgICksXG4gICAgICAgICkgJiZcbiAgICAgICAgY2hlY2tNYXRjaGVzKHJlc3RTcGVjaW1lbiwgcmVzdFBhdHQsIGNoZWNrLCAnLi4ucmVzdCcpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKlxuXG5cbiAgICAgKi9cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHNwbGl0QXJyYXksIGNoZWNrKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHBhc3NTdHlsZU9mKHNwbGl0QXJyYXkpID09PSAnY29weUFycmF5JyAmJlxuICAgICAgICAoc3BsaXRBcnJheS5sZW5ndGggPj0gMSB8fCBzcGxpdEFycmF5Lmxlbmd0aCA8PSAzKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IFtyZXF1aXJlZFBhdHQsIG9wdGlvbmFsUGF0dCA9IHVuZGVmaW5lZCwgcmVzdFBhdHQgPSB1bmRlZmluZWRdID1cbiAgICAgICAgICBzcGxpdEFycmF5O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNQYXR0ZXJuKHJlcXVpcmVkUGF0dCkgJiZcbiAgICAgICAgICBwYXNzU3R5bGVPZihyZXF1aXJlZFBhdHQpID09PSAnY29weVJlY29yZCcgJiZcbiAgICAgICAgICAob3B0aW9uYWxQYXR0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIChpc1BhdHRlcm4ob3B0aW9uYWxQYXR0KSAmJlxuICAgICAgICAgICAgICBwYXNzU3R5bGVPZihvcHRpb25hbFBhdHQpID09PSAnY29weVJlY29yZCcpKSAmJlxuICAgICAgICAgIChyZXN0UGF0dCA9PT0gdW5kZWZpbmVkIHx8IGlzUGF0dGVybihyZXN0UGF0dCkpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYE11c3QgYmUgYW4gYXJyYXkgb2YgYSByZXF1aXJlZFBhdHQgcmVjb3JkLCBhbiBvcHRpb25hbCBvcHRpb25hbFBhdHQgcmVjb3JkLCBhbmQgYW4gb3B0aW9uYWwgcmVzdFBhdHQ6ICR7cShcbiAgICAgICAgICBzcGxpdEFycmF5LFxuICAgICAgICApfWAsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBnZXRSYW5rQ292ZXI6IChbXG4gICAgICByZXF1aXJlZFBhdHQsXG4gICAgICBfb3B0aW9uYWxQYXR0ID0gdW5kZWZpbmVkLFxuICAgICAgX3Jlc3RQYXR0ID0gdW5kZWZpbmVkLFxuICAgIF0pID0+IGdldFBhc3NTdHlsZUNvdmVyKHBhc3NTdHlsZU9mKHJlcXVpcmVkUGF0dCkpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgSGVscGVyc0J5TWF0Y2hUYWcgPSBoYXJkZW4oe1xuICAgICdtYXRjaDphbnknOiBtYXRjaEFueUhlbHBlcixcbiAgICAnbWF0Y2g6YW5kJzogbWF0Y2hBbmRIZWxwZXIsXG4gICAgJ21hdGNoOm9yJzogbWF0Y2hPckhlbHBlcixcbiAgICAnbWF0Y2g6bm90JzogbWF0Y2hOb3RIZWxwZXIsXG5cbiAgICAnbWF0Y2g6c2NhbGFyJzogbWF0Y2hTY2FsYXJIZWxwZXIsXG4gICAgJ21hdGNoOmtleSc6IG1hdGNoS2V5SGVscGVyLFxuICAgICdtYXRjaDpwYXR0ZXJuJzogbWF0Y2hQYXR0ZXJuSGVscGVyLFxuICAgICdtYXRjaDpraW5kJzogbWF0Y2hLaW5kSGVscGVyLFxuICAgICdtYXRjaDp0YWdnZWQnOiBtYXRjaFRhZ2dlZEhlbHBlcixcbiAgICAnbWF0Y2g6YmlnaW50JzogbWF0Y2hCaWdpbnRIZWxwZXIsXG4gICAgJ21hdGNoOm5hdCc6IG1hdGNoTmF0SGVscGVyLFxuICAgICdtYXRjaDpzdHJpbmcnOiBtYXRjaFN0cmluZ0hlbHBlcixcbiAgICAnbWF0Y2g6c3ltYm9sJzogbWF0Y2hTeW1ib2xIZWxwZXIsXG4gICAgJ21hdGNoOnJlbW90YWJsZSc6IG1hdGNoUmVtb3RhYmxlSGVscGVyLFxuXG4gICAgJ21hdGNoOmx0JzogbWF0Y2hMVEhlbHBlcixcbiAgICAnbWF0Y2g6bHRlJzogbWF0Y2hMVEVIZWxwZXIsXG4gICAgJ21hdGNoOmd0ZSc6IG1hdGNoR1RFSGVscGVyLFxuICAgICdtYXRjaDpndCc6IG1hdGNoR1RIZWxwZXIsXG5cbiAgICAnbWF0Y2g6YXJyYXlPZic6IG1hdGNoQXJyYXlPZkhlbHBlcixcbiAgICAnbWF0Y2g6cmVjb3JkT2YnOiBtYXRjaFJlY29yZE9mSGVscGVyLFxuICAgICdtYXRjaDpzZXRPZic6IG1hdGNoU2V0T2ZIZWxwZXIsXG4gICAgJ21hdGNoOmJhZ09mJzogbWF0Y2hCYWdPZkhlbHBlcixcbiAgICAnbWF0Y2g6Y29udGFpbmVySGFzJzogbWF0Y2hDb250YWluZXJIYXNIZWxwZXIsXG4gICAgJ21hdGNoOm1hcE9mJzogbWF0Y2hNYXBPZkhlbHBlcixcbiAgICAnbWF0Y2g6c3BsaXRBcnJheSc6IG1hdGNoU3BsaXRBcnJheUhlbHBlcixcbiAgICAnbWF0Y2g6c3BsaXRSZWNvcmQnOiBtYXRjaFNwbGl0UmVjb3JkSGVscGVyLFxuICB9KTtcblxuICBjb25zdCBtYWtlTWF0Y2hlciA9ICh0YWcsIHBheWxvYWQpID0+IHtcbiAgICBjb25zdCBtYXRjaGVyID0gbWFrZVRhZ2dlZCh0YWcsIHBheWxvYWQpO1xuICAgIGFzc2VydFBhdHRlcm4obWF0Y2hlcik7XG4gICAgcmV0dXJuIG1hdGNoZXI7XG4gIH07XG5cbiAgY29uc3QgbWFrZUtpbmRNYXRjaGVyID0ga2luZCA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6a2luZCcsIGtpbmQpO1xuXG4gIGNvbnN0IEFueVNoYXBlID0gbWFrZU1hdGNoZXIoJ21hdGNoOmFueScsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IFNjYWxhclNoYXBlID0gbWFrZU1hdGNoZXIoJ21hdGNoOnNjYWxhcicsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IEtleVNoYXBlID0gbWFrZU1hdGNoZXIoJ21hdGNoOmtleScsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IFBhdHRlcm5TaGFwZSA9IG1ha2VNYXRjaGVyKCdtYXRjaDpwYXR0ZXJuJywgdW5kZWZpbmVkKTtcbiAgY29uc3QgQm9vbGVhblNoYXBlID0gbWFrZUtpbmRNYXRjaGVyKCdib29sZWFuJyk7XG4gIGNvbnN0IE51bWJlclNoYXBlID0gbWFrZUtpbmRNYXRjaGVyKCdudW1iZXInKTtcbiAgY29uc3QgQmlnSW50U2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDpiaWdpbnQnLCBbXSk7XG4gIGNvbnN0IE5hdFNoYXBlID0gbWFrZVRhZ2dlZCgnbWF0Y2g6bmF0JywgW10pO1xuICBjb25zdCBTdHJpbmdTaGFwZSA9IG1ha2VUYWdnZWQoJ21hdGNoOnN0cmluZycsIFtdKTtcbiAgY29uc3QgU3ltYm9sU2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDpzeW1ib2wnLCBbXSk7XG4gIGNvbnN0IFJlY29yZFNoYXBlID0gbWFrZVRhZ2dlZCgnbWF0Y2g6cmVjb3JkT2YnLCBbQW55U2hhcGUsIEFueVNoYXBlXSk7XG4gIGNvbnN0IEFycmF5U2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDphcnJheU9mJywgW0FueVNoYXBlXSk7XG4gIGNvbnN0IFNldFNoYXBlID0gbWFrZVRhZ2dlZCgnbWF0Y2g6c2V0T2YnLCBbQW55U2hhcGVdKTtcbiAgY29uc3QgQmFnU2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDpiYWdPZicsIFtBbnlTaGFwZSwgQW55U2hhcGVdKTtcbiAgY29uc3QgTWFwU2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDptYXBPZicsIFtBbnlTaGFwZSwgQW55U2hhcGVdKTtcbiAgY29uc3QgUmVtb3RhYmxlU2hhcGUgPSBtYWtlS2luZE1hdGNoZXIoJ3JlbW90YWJsZScpO1xuICBjb25zdCBFcnJvclNoYXBlID0gbWFrZUtpbmRNYXRjaGVyKCdlcnJvcicpO1xuICBjb25zdCBQcm9taXNlU2hhcGUgPSBtYWtlS2luZE1hdGNoZXIoJ3Byb21pc2UnKTtcbiAgY29uc3QgVW5kZWZpbmVkU2hhcGUgPSBtYWtlS2luZE1hdGNoZXIoJ3VuZGVmaW5lZCcpO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlTGltaXRzTWF0Y2hlciA9ICh0YWcsIHBheWxvYWQpID0+IHtcbiAgICBpZiAocGF5bG9hZFtwYXlsb2FkLmxlbmd0aCAtIDFdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBheWxvYWQgPSBoYXJkZW4ocGF5bG9hZC5zbGljZSgwLCBwYXlsb2FkLmxlbmd0aCAtIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VNYXRjaGVyKHRhZywgcGF5bG9hZCk7XG4gIH07XG5cbiAgY29uc3QgbWFrZVJlbW90YWJsZU1hdGNoZXIgPSAobGFiZWwgPSB1bmRlZmluZWQpID0+XG4gICAgbGFiZWwgPT09IHVuZGVmaW5lZFxuICAgICAgPyBSZW1vdGFibGVTaGFwZVxuICAgICAgOiBtYWtlTWF0Y2hlcignbWF0Y2g6cmVtb3RhYmxlJywgaGFyZGVuKHsgbGFiZWwgfSkpO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlU3BsaXRQYXlsb2FkID0gKFxuICAgIGVtcHR5LFxuICAgIGJhc2UsXG4gICAgb3B0aW9uYWwgPSB1bmRlZmluZWQsXG4gICAgcmVzdCA9IHVuZGVmaW5lZCxcbiAgKSA9PiB7XG4gICAgaWYgKHJlc3QpIHtcbiAgICAgIHJldHVybiBbYmFzZSwgb3B0aW9uYWwgfHwgZW1wdHksIHJlc3RdO1xuICAgIH1cbiAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgIHJldHVybiBbYmFzZSwgb3B0aW9uYWxdO1xuICAgIH1cbiAgICByZXR1cm4gW2Jhc2VdO1xuICB9O1xuXG4gIC8vXG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBNID0gaGFyZGVuKHtcbiAgICBhbnk6ICgpID0+IEFueVNoYXBlLFxuICAgIGFuZDogKC4uLnBhdHRzKSA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6YW5kJywgcGF0dHMpLFxuICAgIG9yOiAoLi4ucGF0dHMpID0+IG1ha2VNYXRjaGVyKCdtYXRjaDpvcicsIHBhdHRzKSxcbiAgICBub3Q6IHN1YlBhdHQgPT4gbWFrZU1hdGNoZXIoJ21hdGNoOm5vdCcsIHN1YlBhdHQpLFxuXG4gICAgc2NhbGFyOiAoKSA9PiBTY2FsYXJTaGFwZSxcbiAgICBrZXk6ICgpID0+IEtleVNoYXBlLFxuICAgIHBhdHRlcm46ICgpID0+IFBhdHRlcm5TaGFwZSxcbiAgICBraW5kOiBtYWtlS2luZE1hdGNoZXIsXG4gICAgdGFnZ2VkOiAodGFnUGF0dCA9IE0uc3RyaW5nKCksIHBheWxvYWRQYXR0ID0gTS5hbnkoKSkgPT5cbiAgICAgIG1ha2VNYXRjaGVyKCdtYXRjaDp0YWdnZWQnLCBoYXJkZW4oW3RhZ1BhdHQsIHBheWxvYWRQYXR0XSkpLFxuICAgIGJvb2xlYW46ICgpID0+IEJvb2xlYW5TaGFwZSxcbiAgICBudW1iZXI6ICgpID0+IE51bWJlclNoYXBlLFxuICAgIGJpZ2ludDogKGxpbWl0cyA9IHVuZGVmaW5lZCkgPT5cbiAgICAgIGxpbWl0cyA/IG1ha2VMaW1pdHNNYXRjaGVyKCdtYXRjaDpiaWdpbnQnLCBbbGltaXRzXSkgOiBCaWdJbnRTaGFwZSxcbiAgICBuYXQ6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6bmF0JywgW2xpbWl0c10pIDogTmF0U2hhcGUsXG4gICAgc3RyaW5nOiAobGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbGltaXRzID8gbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOnN0cmluZycsIFtsaW1pdHNdKSA6IFN0cmluZ1NoYXBlLFxuICAgIHN5bWJvbDogKGxpbWl0cyA9IHVuZGVmaW5lZCkgPT5cbiAgICAgIGxpbWl0cyA/IG1ha2VMaW1pdHNNYXRjaGVyKCdtYXRjaDpzeW1ib2wnLCBbbGltaXRzXSkgOiBTeW1ib2xTaGFwZSxcbiAgICByZWNvcmQ6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBNLnJlY29yZE9mKE0uYW55KCksIE0uYW55KCksIGxpbWl0cykgOiBSZWNvcmRTaGFwZSxcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGFycmF5OiAobGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbGltaXRzID8gTS5hcnJheU9mKE0uYW55KCksIGxpbWl0cykgOiBBcnJheVNoYXBlLFxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHNldDogKGxpbWl0cyA9IHVuZGVmaW5lZCkgPT4gKGxpbWl0cyA/IE0uc2V0T2YoTS5hbnkoKSwgbGltaXRzKSA6IFNldFNoYXBlKSxcbiAgICBiYWc6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBNLmJhZ09mKE0uYW55KCksIE0uYW55KCksIGxpbWl0cykgOiBCYWdTaGFwZSxcbiAgICBtYXA6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBNLm1hcE9mKE0uYW55KCksIE0uYW55KCksIGxpbWl0cykgOiBNYXBTaGFwZSxcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJlbW90YWJsZTogbWFrZVJlbW90YWJsZU1hdGNoZXIsXG4gICAgZXJyb3I6ICgpID0+IEVycm9yU2hhcGUsXG4gICAgcHJvbWlzZTogKCkgPT4gUHJvbWlzZVNoYXBlLFxuICAgIHVuZGVmaW5lZDogKCkgPT4gVW5kZWZpbmVkU2hhcGUsXG4gICAgbnVsbDogKCkgPT4gbnVsbCxcblxuICAgIGx0OiByaWdodE9wZXJhbmQgPT4gbWFrZU1hdGNoZXIoJ21hdGNoOmx0JywgcmlnaHRPcGVyYW5kKSxcbiAgICBsdGU6IHJpZ2h0T3BlcmFuZCA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6bHRlJywgcmlnaHRPcGVyYW5kKSxcbiAgICBlcToga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleShrZXkpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gTS51bmRlZmluZWQoKSA6IGtleTtcbiAgICB9LFxuICAgIG5lcToga2V5ID0+IE0ubm90KE0uZXEoa2V5KSksXG4gICAgZ3RlOiByaWdodE9wZXJhbmQgPT4gbWFrZU1hdGNoZXIoJ21hdGNoOmd0ZScsIHJpZ2h0T3BlcmFuZCksXG4gICAgZ3Q6IHJpZ2h0T3BlcmFuZCA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6Z3QnLCByaWdodE9wZXJhbmQpLFxuXG4gICAgcmVjb3JkT2Y6IChrZXlQYXR0ID0gTS5hbnkoKSwgdmFsdWVQYXR0ID0gTS5hbnkoKSwgbGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOnJlY29yZE9mJywgW2tleVBhdHQsIHZhbHVlUGF0dCwgbGltaXRzXSksXG4gICAgYXJyYXlPZjogKHN1YlBhdHQgPSBNLmFueSgpLCBsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6YXJyYXlPZicsIFtzdWJQYXR0LCBsaW1pdHNdKSxcbiAgICBzZXRPZjogKGtleVBhdHQgPSBNLmFueSgpLCBsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6c2V0T2YnLCBba2V5UGF0dCwgbGltaXRzXSksXG4gICAgYmFnT2Y6IChrZXlQYXR0ID0gTS5hbnkoKSwgY291bnRQYXR0ID0gTS5hbnkoKSwgbGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOmJhZ09mJywgW2tleVBhdHQsIGNvdW50UGF0dCwgbGltaXRzXSksXG4gICAgY29udGFpbmVySGFzOiAoZWxlbWVudFBhdHQgPSBNLmFueSgpLCBjb3VudFBhdHQgPSAxbiwgbGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOmNvbnRhaW5lckhhcycsIFtlbGVtZW50UGF0dCwgY291bnRQYXR0LCBsaW1pdHNdKSxcbiAgICBtYXBPZjogKGtleVBhdHQgPSBNLmFueSgpLCB2YWx1ZVBhdHQgPSBNLmFueSgpLCBsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6bWFwT2YnLCBba2V5UGF0dCwgdmFsdWVQYXR0LCBsaW1pdHNdKSxcbiAgICBzcGxpdEFycmF5OiAoYmFzZSwgb3B0aW9uYWwgPSB1bmRlZmluZWQsIHJlc3QgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTWF0Y2hlcihcbiAgICAgICAgJ21hdGNoOnNwbGl0QXJyYXknLFxuICAgICAgICBtYWtlU3BsaXRQYXlsb2FkKFtdLCBiYXNlLCBvcHRpb25hbCwgcmVzdCksXG4gICAgICApLFxuICAgIHNwbGl0UmVjb3JkOiAoYmFzZSwgb3B0aW9uYWwgPSB1bmRlZmluZWQsIHJlc3QgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTWF0Y2hlcihcbiAgICAgICAgJ21hdGNoOnNwbGl0UmVjb3JkJyxcbiAgICAgICAgbWFrZVNwbGl0UGF5bG9hZCh7fSwgYmFzZSwgb3B0aW9uYWwsIHJlc3QpLFxuICAgICAgKSxcbiAgICBzcGxpdDogKGJhc2UsIHJlc3QgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIGlmIChwYXNzU3R5bGVPZihoYXJkZW4oYmFzZSkpID09PSAnY29weUFycmF5Jykge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gTS5zcGxpdEFycmF5KGJhc2UsIHJlc3QgJiYgW10sIHJlc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE0uc3BsaXRSZWNvcmQoYmFzZSwgcmVzdCAmJiB7fSwgcmVzdCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwYXJ0aWFsOiAoYmFzZSwgcmVzdCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgaWYgKHBhc3NTdHlsZU9mKGhhcmRlbihiYXNlKSkgPT09ICdjb3B5QXJyYXknKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBNLnNwbGl0QXJyYXkoW10sIGJhc2UsIHJlc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE0uc3BsaXRSZWNvcmQoe30sIGJhc2UsIHJlc3QpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlcmVmOiB0ID0+IE0ub3IodCwgTS5wcm9taXNlKCkpLFxuICAgIG9wdDogdCA9PiBNLm9yKE0udW5kZWZpbmVkKCksIHQpLFxuXG4gICAgaW50ZXJmYWNlOiAoaW50ZXJmYWNlTmFtZSwgbWV0aG9kR3VhcmRzLCBvcHRpb25zKSA9PlxuICAgICAgLy9cbiAgICAgIG1ha2VJbnRlcmZhY2VHdWFyZChpbnRlcmZhY2VOYW1lLCBtZXRob2RHdWFyZHMsIG9wdGlvbnMpLFxuICAgIGNhbGw6ICguLi5hcmdQYXR0ZXJucykgPT5cbiAgICAgIC8vXG4gICAgICBtYWtlTWV0aG9kR3VhcmRNYWtlcignc3luYycsIGFyZ1BhdHRlcm5zKSxcbiAgICBjYWxsV2hlbjogKC4uLmFyZ0d1YXJkcykgPT5cbiAgICAgIC8vXG4gICAgICBtYWtlTWV0aG9kR3VhcmRNYWtlcignYXN5bmMnLCBhcmdHdWFyZHMpLFxuXG4gICAgYXdhaXQ6IGFyZ1BhdHRlcm4gPT5cbiAgICAgIC8vXG4gICAgICBtYWtlQXdhaXRBcmdHdWFyZChhcmdQYXR0ZXJuKSxcbiAgICByYXc6ICgpID0+XG4gICAgICAvL1xuICAgICAgbWFrZVJhd0d1YXJkKCksXG4gIH0pO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGNoZWNrTWF0Y2hlcyxcbiAgICBtYXRjaGVzLFxuICAgIG11c3RNYXRjaCxcbiAgICBhc3NlcnRQYXR0ZXJuLFxuICAgIGlzUGF0dGVybixcbiAgICBnZXRSYW5rQ292ZXIsXG4gICAgTSxcbiAgICBraW5kT2YsXG4gICAgY29udGFpbmVySGFzU3BsaXQsXG4gIH0pO1xufTtcblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuICAgICAgIGNvbnN0IHtcbiAgY2hlY2tNYXRjaGVzLFxuICBtYXRjaGVzLFxuICBtdXN0TWF0Y2gsXG4gIGFzc2VydFBhdHRlcm4sXG4gIGlzUGF0dGVybixcbiAgZ2V0UmFua0NvdmVyLFxuICBNLFxuICBraW5kT2YsXG4gIGNvbnRhaW5lckhhc1NwbGl0LFxufSA9IG1ha2VQYXR0ZXJuS2l0KCk7JGjNj19vbmNlLmNoZWNrTWF0Y2hlcyhjaGVja01hdGNoZXMpOyRozY9fb25jZS5tYXRjaGVzKG1hdGNoZXMpOyRozY9fb25jZS5tdXN0TWF0Y2gobXVzdE1hdGNoKTskaM2PX29uY2UuYXNzZXJ0UGF0dGVybihhc3NlcnRQYXR0ZXJuKTskaM2PX29uY2UuaXNQYXR0ZXJuKGlzUGF0dGVybik7JGjNj19vbmNlLmdldFJhbmtDb3ZlcihnZXRSYW5rQ292ZXIpOyRozY9fb25jZS5NKE0pOyRozY9fb25jZS5raW5kT2Yoa2luZE9mKTskaM2PX29uY2UuY29udGFpbmVySGFzU3BsaXQoY29udGFpbmVySGFzU3BsaXQpO1xuXG5NTSA9IE07XG5cbi8vXG5cbi8vXG5jb25zdCBBd2FpdEFyZ0d1YXJkUGF5bG9hZFNoYXBlID0gaGFyZGVuKHtcbiAgYXJnR3VhcmQ6IE0ucGF0dGVybigpLFxufSk7XG5cbiAgICAgICBjb25zdCBBd2FpdEFyZ0d1YXJkU2hhcGUgPSBNLmtpbmQoJ2d1YXJkOmF3YWl0QXJnR3VhcmQnKTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuQXdhaXRBcmdHdWFyZFNoYXBlKEF3YWl0QXJnR3VhcmRTaGFwZSk7XG4gICAgICAgY29uc3QgaXNBd2FpdEFyZ0d1YXJkID0gc3BlY2ltZW4gPT5cbiAgbWF0Y2hlcyhzcGVjaW1lbiwgQXdhaXRBcmdHdWFyZFNoYXBlKTskaM2PX29uY2UuaXNBd2FpdEFyZ0d1YXJkKGlzQXdhaXRBcmdHdWFyZCk7XG5oYXJkZW4oaXNBd2FpdEFyZ0d1YXJkKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRBd2FpdEFyZ0d1YXJkID0gc3BlY2ltZW4gPT4ge1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIEF3YWl0QXJnR3VhcmRTaGFwZSwgJ2F3YWl0QXJnR3VhcmQnKTtcbn07JGjNj19vbmNlLmFzc2VydEF3YWl0QXJnR3VhcmQoYXNzZXJ0QXdhaXRBcmdHdWFyZCk7XG5oYXJkZW4oYXNzZXJ0QXdhaXRBcmdHdWFyZCk7XG5cbi8qXG5cblxuICovXG5jb25zdCBtYWtlQXdhaXRBcmdHdWFyZCA9IGFyZ1BhdHRlcm4gPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VUYWdnZWQoJ2d1YXJkOmF3YWl0QXJnR3VhcmQnLCB7XG4gICAgYXJnR3VhcmQ6IGFyZ1BhdHRlcm4sXG4gIH0pO1xuICBhc3NlcnRBd2FpdEFyZ0d1YXJkKHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vL1xuXG5jb25zdCBSYXdHdWFyZFBheWxvYWRTaGFwZSA9IE0ucmVjb3JkKCk7XG5cbiAgICAgICBjb25zdCBSYXdHdWFyZFNoYXBlID0gTS5raW5kKCdndWFyZDpyYXdHdWFyZCcpOyRozY9fb25jZS5SYXdHdWFyZFNoYXBlKFJhd0d1YXJkU2hhcGUpO1xuXG4gICAgICAgY29uc3QgaXNSYXdHdWFyZCA9IHNwZWNpbWVuID0+IG1hdGNoZXMoc3BlY2ltZW4sIFJhd0d1YXJkU2hhcGUpOyRozY9fb25jZS5pc1Jhd0d1YXJkKGlzUmF3R3VhcmQpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0UmF3R3VhcmQgPSBzcGVjaW1lbiA9PlxuICBtdXN0TWF0Y2goc3BlY2ltZW4sIFJhd0d1YXJkU2hhcGUsICdyYXdHdWFyZCcpO1xuXG4vKlxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0UmF3R3VhcmQoYXNzZXJ0UmF3R3VhcmQpO1xuY29uc3QgbWFrZVJhd0d1YXJkID0gKCkgPT4gbWFrZVRhZ2dlZCgnZ3VhcmQ6cmF3R3VhcmQnLCB7fSk7XG5cbi8vXG4vL1xuXG4gICAgICAgY29uc3QgU3luY1ZhbHVlR3VhcmRTaGFwZSA9IE0ub3IoUmF3R3VhcmRTaGFwZSwgTS5wYXR0ZXJuKCkpOyRozY9fb25jZS5TeW5jVmFsdWVHdWFyZFNoYXBlKFN5bmNWYWx1ZUd1YXJkU2hhcGUpO1xuXG4gICAgICAgY29uc3QgU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUgPSBNLmFycmF5T2YoU3luY1ZhbHVlR3VhcmRTaGFwZSk7JGjNj19vbmNlLlN5bmNWYWx1ZUd1YXJkTGlzdFNoYXBlKFN5bmNWYWx1ZUd1YXJkTGlzdFNoYXBlKTtcblxuY29uc3QgQXJnR3VhcmRTaGFwZSA9IE0ub3IoUmF3R3VhcmRTaGFwZSwgQXdhaXRBcmdHdWFyZFNoYXBlLCBNLnBhdHRlcm4oKSk7XG4gICAgICAgY29uc3QgQXJnR3VhcmRMaXN0U2hhcGUgPSBNLmFycmF5T2YoQXJnR3VhcmRTaGFwZSk7JGjNj19vbmNlLkFyZ0d1YXJkTGlzdFNoYXBlKEFyZ0d1YXJkTGlzdFNoYXBlKTtcblxuY29uc3QgU3luY01ldGhvZEd1YXJkUGF5bG9hZFNoYXBlID0gaGFyZGVuKHtcbiAgY2FsbEtpbmQ6ICdzeW5jJyxcbiAgYXJnR3VhcmRzOiBTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSxcbiAgb3B0aW9uYWxBcmdHdWFyZHM6IE0ub3B0KFN5bmNWYWx1ZUd1YXJkTGlzdFNoYXBlKSxcbiAgcmVzdEFyZ0d1YXJkOiBNLm9wdChTeW5jVmFsdWVHdWFyZFNoYXBlKSxcbiAgcmV0dXJuR3VhcmQ6IFN5bmNWYWx1ZUd1YXJkU2hhcGUsXG59KTtcblxuY29uc3QgQXN5bmNNZXRob2RHdWFyZFBheWxvYWRTaGFwZSA9IGhhcmRlbih7XG4gIGNhbGxLaW5kOiAnYXN5bmMnLFxuICBhcmdHdWFyZHM6IEFyZ0d1YXJkTGlzdFNoYXBlLFxuICBvcHRpb25hbEFyZ0d1YXJkczogTS5vcHQoQXJnR3VhcmRMaXN0U2hhcGUpLFxuICByZXN0QXJnR3VhcmQ6IE0ub3B0KFN5bmNWYWx1ZUd1YXJkU2hhcGUpLFxuICByZXR1cm5HdWFyZDogU3luY1ZhbHVlR3VhcmRTaGFwZSxcbn0pO1xuXG4gICAgICAgY29uc3QgTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUgPSBNLm9yKFxuICBTeW5jTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUsXG4gIEFzeW5jTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUsXG4pOyRozY9fb25jZS5NZXRob2RHdWFyZFBheWxvYWRTaGFwZShNZXRob2RHdWFyZFBheWxvYWRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBNZXRob2RHdWFyZFNoYXBlID0gTS5raW5kKCdndWFyZDptZXRob2RHdWFyZCcpO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5NZXRob2RHdWFyZFNoYXBlKE1ldGhvZEd1YXJkU2hhcGUpO1xuICAgICAgIGNvbnN0IGFzc2VydE1ldGhvZEd1YXJkID0gc3BlY2ltZW4gPT4ge1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIE1ldGhvZEd1YXJkU2hhcGUsICdtZXRob2RHdWFyZCcpO1xufTskaM2PX29uY2UuYXNzZXJ0TWV0aG9kR3VhcmQoYXNzZXJ0TWV0aG9kR3VhcmQpO1xuaGFyZGVuKGFzc2VydE1ldGhvZEd1YXJkKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VNZXRob2RHdWFyZE1ha2VyID0gKFxuICBjYWxsS2luZCxcbiAgYXJnR3VhcmRzLFxuICBvcHRpb25hbEFyZ0d1YXJkcyA9IHVuZGVmaW5lZCxcbiAgcmVzdEFyZ0d1YXJkID0gdW5kZWZpbmVkLFxuKSA9PlxuICBoYXJkZW4oe1xuICAgIG9wdGlvbmFsOiAoLi4ub3B0QXJnR3VhcmRzKSA9PiB7XG4gICAgICBvcHRpb25hbEFyZ0d1YXJkcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIEZhaWxgQ2FuIG9ubHkgaGF2ZSBvbmUgc2V0IG9mIG9wdGlvbmFsIGd1YXJkc2A7XG4gICAgICByZXN0QXJnR3VhcmQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBGYWlsYG9wdGlvbmFsIGFyZyBndWFyZHMgbXVzdCBjb21lIGJlZm9yZSByZXN0IGFyZ2A7XG4gICAgICByZXR1cm4gbWFrZU1ldGhvZEd1YXJkTWFrZXIoY2FsbEtpbmQsIGFyZ0d1YXJkcywgb3B0QXJnR3VhcmRzKTtcbiAgICB9LFxuICAgIHJlc3Q6IHJBcmdHdWFyZCA9PiB7XG4gICAgICByZXN0QXJnR3VhcmQgPT09IHVuZGVmaW5lZCB8fCBGYWlsYENhbiBvbmx5IGhhdmUgb25lIHJlc3QgYXJnYDtcbiAgICAgIHJldHVybiBtYWtlTWV0aG9kR3VhcmRNYWtlcihcbiAgICAgICAgY2FsbEtpbmQsXG4gICAgICAgIGFyZ0d1YXJkcyxcbiAgICAgICAgb3B0aW9uYWxBcmdHdWFyZHMsXG4gICAgICAgIHJBcmdHdWFyZCxcbiAgICAgICk7XG4gICAgfSxcbiAgICByZXR1cm5zOiAocmV0dXJuR3VhcmQgPSBNLnVuZGVmaW5lZCgpKSA9PiB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgcmVzdWx0ID0gbWFrZVRhZ2dlZCgnZ3VhcmQ6bWV0aG9kR3VhcmQnLCB7XG4gICAgICAgIGNhbGxLaW5kLFxuICAgICAgICBhcmdHdWFyZHMsXG4gICAgICAgIG9wdGlvbmFsQXJnR3VhcmRzLFxuICAgICAgICByZXN0QXJnR3VhcmQsXG4gICAgICAgIHJldHVybkd1YXJkLFxuICAgICAgfSk7XG4gICAgICBhc3NlcnRNZXRob2RHdWFyZChyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICB9KTtcblxuICAgICAgIGNvbnN0IEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIGludGVyZmFjZU5hbWU6IE0uc3RyaW5nKCksXG4gICAgbWV0aG9kR3VhcmRzOiBNLnJlY29yZE9mKE0uc3RyaW5nKCksIE1ldGhvZEd1YXJkU2hhcGUpLFxuICB9LFxuICB7XG4gICAgZGVmYXVsdEd1YXJkczogTS5vcihNLnVuZGVmaW5lZCgpLCAncGFzc2FibGUnLCAncmF3JyksXG4gICAgc2xvcHB5OiBNLmJvb2xlYW4oKSxcbiAgICBzeW1ib2xNZXRob2RHdWFyZHM6IE0ubWFwT2YoTS5zeW1ib2woKSwgTWV0aG9kR3VhcmRTaGFwZSksXG4gIH0sXG4pOyRozY9fb25jZS5JbnRlcmZhY2VHdWFyZFBheWxvYWRTaGFwZShJbnRlcmZhY2VHdWFyZFBheWxvYWRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBJbnRlcmZhY2VHdWFyZFNoYXBlID0gTS5raW5kKCdndWFyZDppbnRlcmZhY2VHdWFyZCcpO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5JbnRlcmZhY2VHdWFyZFNoYXBlKEludGVyZmFjZUd1YXJkU2hhcGUpO1xuICAgICAgIGNvbnN0IGFzc2VydEludGVyZmFjZUd1YXJkID0gc3BlY2ltZW4gPT4ge1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIEludGVyZmFjZUd1YXJkU2hhcGUsICdpbnRlcmZhY2VHdWFyZCcpO1xufTskaM2PX29uY2UuYXNzZXJ0SW50ZXJmYWNlR3VhcmQoYXNzZXJ0SW50ZXJmYWNlR3VhcmQpO1xuaGFyZGVuKGFzc2VydEludGVyZmFjZUd1YXJkKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VJbnRlcmZhY2VHdWFyZCA9IChpbnRlcmZhY2VOYW1lLCBtZXRob2RHdWFyZHMsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7IHNsb3BweSA9IGZhbHNlLCBkZWZhdWx0R3VhcmRzID0gc2xvcHB5ID8gJ3Bhc3NhYmxlJyA6IHVuZGVmaW5lZCB9ID1cbiAgICBvcHRpb25zO1xuICAvL1xuICAvL1xuICAvL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3RyaW5nTWV0aG9kR3VhcmRzID0ge307XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3ltYm9sTWV0aG9kR3VhcmRzRW50cmllcyA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBvZiBvd25LZXlzKG1ldGhvZEd1YXJkcykpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG1ldGhvZEd1YXJkc1svKiAgICAgICAgICAgICAgICAgKi8gKGtleSldO1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xuICAgICAgc3ltYm9sTWV0aG9kR3VhcmRzRW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cmluZ01ldGhvZEd1YXJkc1trZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VUYWdnZWQoJ2d1YXJkOmludGVyZmFjZUd1YXJkJywge1xuICAgIGludGVyZmFjZU5hbWUsXG4gICAgbWV0aG9kR3VhcmRzOiBzdHJpbmdNZXRob2RHdWFyZHMsXG4gICAgLi4uKHN5bWJvbE1ldGhvZEd1YXJkc0VudHJpZXMubGVuZ3RoXG4gICAgICA/IHsgc3ltYm9sTWV0aG9kR3VhcmRzOiBtYWtlQ29weU1hcChzeW1ib2xNZXRob2RHdWFyZHNFbnRyaWVzKSB9XG4gICAgICA6IHt9KSxcbiAgICBkZWZhdWx0R3VhcmRzLFxuICB9KTtcbiAgYXNzZXJ0SW50ZXJmYWNlR3VhcmQocmVzdWx0KTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChyZXN1bHQpO1xufTtcblxuY29uc3QgR3VhcmRQYXlsb2FkU2hhcGVzID0gaGFyZGVuKHtcbiAgJ2d1YXJkOmF3YWl0QXJnR3VhcmQnOiBBd2FpdEFyZ0d1YXJkUGF5bG9hZFNoYXBlLFxuICAnZ3VhcmQ6cmF3R3VhcmQnOiBSYXdHdWFyZFBheWxvYWRTaGFwZSxcbiAgJ2d1YXJkOm1ldGhvZEd1YXJkJzogTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUsXG4gICdndWFyZDppbnRlcmZhY2VHdWFyZCc6IEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlLFxufSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZWZhdWx0TGltaXRzIjpbImRlZmF1bHRMaW1pdHMiXSwiY2hlY2tNYXRjaGVzIjpbImNoZWNrTWF0Y2hlcyJdLCJtYXRjaGVzIjpbIm1hdGNoZXMiXSwibXVzdE1hdGNoIjpbIm11c3RNYXRjaCJdLCJhc3NlcnRQYXR0ZXJuIjpbImFzc2VydFBhdHRlcm4iXSwiaXNQYXR0ZXJuIjpbImlzUGF0dGVybiJdLCJnZXRSYW5rQ292ZXIiOlsiZ2V0UmFua0NvdmVyIl0sIk0iOlsiTSJdLCJraW5kT2YiOlsia2luZE9mIl0sImNvbnRhaW5lckhhc1NwbGl0IjpbImNvbnRhaW5lckhhc1NwbGl0Il0sIkF3YWl0QXJnR3VhcmRTaGFwZSI6WyJBd2FpdEFyZ0d1YXJkU2hhcGUiXSwiaXNBd2FpdEFyZ0d1YXJkIjpbImlzQXdhaXRBcmdHdWFyZCJdLCJhc3NlcnRBd2FpdEFyZ0d1YXJkIjpbImFzc2VydEF3YWl0QXJnR3VhcmQiXSwiUmF3R3VhcmRTaGFwZSI6WyJSYXdHdWFyZFNoYXBlIl0sImlzUmF3R3VhcmQiOlsiaXNSYXdHdWFyZCJdLCJhc3NlcnRSYXdHdWFyZCI6WyJhc3NlcnRSYXdHdWFyZCJdLCJTeW5jVmFsdWVHdWFyZFNoYXBlIjpbIlN5bmNWYWx1ZUd1YXJkU2hhcGUiXSwiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUiOlsiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUiXSwiQXJnR3VhcmRMaXN0U2hhcGUiOlsiQXJnR3VhcmRMaXN0U2hhcGUiXSwiTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUiOlsiTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUiXSwiTWV0aG9kR3VhcmRTaGFwZSI6WyJNZXRob2RHdWFyZFNoYXBlIl0sImFzc2VydE1ldGhvZEd1YXJkIjpbImFzc2VydE1ldGhvZEd1YXJkIl0sIkludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlIjpbIkludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlIl0sIkludGVyZmFjZUd1YXJkU2hhcGUiOlsiSW50ZXJmYWNlR3VhcmRTaGFwZSJdLCJhc3NlcnRJbnRlcmZhY2VHdWFyZCI6WyJhc3NlcnRJbnRlcmZhY2VHdWFyZCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAiAAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA/RdPfYgYAAGIGAAAiAAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qcyIsIi4vc3JjL21lbW8tcmFjZS5qcyIsIi4vc3JjL2lzLXByb21pc2UuanMiLCIuL3NyYy90eXBlcy5qcyJdLCJleHBvcnRzIjpbIm1ha2VQcm9taXNlS2l0IiwicmFjZVByb21pc2VzIl0sInJlZXhwb3J0cyI6WyIuL3NyYy9pcy1wcm9taXNlLmpzIiwiLi9zcmMvdHlwZXMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQsbWVtb1JhY2U7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qc1wiLCBbW1wibWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0XCIsWyRozY9fYSA9PiAobWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0ID0gJGjNj19hKV1dXV0sW1wiLi9zcmMvbWVtby1yYWNlLmpzXCIsIFtbXCJtZW1vUmFjZVwiLFskaM2PX2EgPT4gKG1lbW9SYWNlID0gJGjNj19hKV1dXV0sW1wiLi9zcmMvaXMtcHJvbWlzZS5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMuanNcIiwgW11dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1ha2VQcm9taXNlS2l0LCduYW1lJyx7dmFsdWU6XCJtYWtlUHJvbWlzZUtpdFwifSk7JGjNj19vbmNlLm1ha2VQcm9taXNlS2l0KG1ha2VQcm9taXNlS2l0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocmFjZVByb21pc2VzLCduYW1lJyx7dmFsdWU6XCJyYWNlUHJvbWlzZXNcIn0pOyRozY9fb25jZS5yYWNlUHJvbWlzZXMocmFjZVByb21pc2VzKTtcblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IEJlc3RQaXBlbGluYWJsZVByb21pc2UgPSBnbG9iYWxUaGlzLkhhbmRsZWRQcm9taXNlIHx8IFByb21pc2U7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBtYWtlUHJvbWlzZUtpdCgpIHtcbiAgY29uc3QgeyByZXNvbHZlLCByZWplY3QsIGV4ZWN1dG9yIH0gPSBtYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQoKTtcblxuICBjb25zdCBwcm9taXNlID0gbmV3IEJlc3RQaXBlbGluYWJsZVByb21pc2UoZXhlY3V0b3IpO1xuXG4gIHJldHVybiBoYXJkZW4oeyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfSk7XG59XG5oYXJkZW4obWFrZVByb21pc2VLaXQpO1xuXG4vL1xuLy9cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiByYWNlUHJvbWlzZXModmFsdWVzKSB7XG4gIHJldHVybiBoYXJkZW4obWVtb1JhY2UuY2FsbChCZXN0UGlwZWxpbmFibGVQcm9taXNlLCB2YWx1ZXMpKTtcbn1cbmhhcmRlbihyYWNlUHJvbWlzZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVByb21pc2VLaXQiOlsibWFrZVByb21pc2VLaXQiXSwicmFjZVByb21pc2VzIjpbInJhY2VQcm9taXNlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB1iEF+ZAIAAGQCAAArAAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9zcmMvaXMtcHJvbWlzZS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiaXNQcm9taXNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpc1Byb21pc2UsJ25hbWUnLHt2YWx1ZTpcImlzUHJvbWlzZVwifSk7JGjNj19vbmNlLmlzUHJvbWlzZShpc1Byb21pc2UpOy8qXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGlzUHJvbWlzZShtYXliZVByb21pc2UpIHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtYXliZVByb21pc2UpID09PSBtYXliZVByb21pc2U7XG59XG5oYXJkZW4oaXNQcm9taXNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzUHJvbWlzZSI6WyJpc1Byb21pc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAOeGs8FkJAABZCQAAKgAAAEBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAvc3JjL21lbW8tcmFjZS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWVtb1JhY2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiovXG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsdWUgPT4gT2JqZWN0KHZhbHVlKSA9PT0gdmFsdWU7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLy9cbi8vXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBrbm93blByb21pc2VzID0gbmV3IFdlYWtNYXAoKTtcblxuLypcblxuXG4gKi9cbmNvbnN0IG1hcmtTZXR0bGVkID0gcmVjb3JkID0+IHtcbiAgaWYgKCFyZWNvcmQgfHwgcmVjb3JkLnNldHRsZWQpIHtcbiAgICByZXR1cm4gbmV3IFNldCgpO1xuICB9XG5cbiAgY29uc3QgeyBkZWZlcnJlZHMgfSA9IHJlY29yZDtcbiAgT2JqZWN0LmFzc2lnbihyZWNvcmQsIHtcbiAgICBkZWZlcnJlZHM6IHVuZGVmaW5lZCxcbiAgICBzZXR0bGVkOiB0cnVlLFxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShyZWNvcmQpO1xuICByZXR1cm4gZGVmZXJyZWRzO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZ2V0TWVtb1JlY29yZCA9IHZhbHVlID0+IHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJldHVybiBoYXJkZW4oeyBzZXR0bGVkOiB0cnVlIH0pO1xuICB9XG5cbiAgbGV0IHJlY29yZCA9IGtub3duUHJvbWlzZXMuZ2V0KHZhbHVlKTtcblxuICBpZiAoIXJlY29yZCkge1xuICAgIHJlY29yZCA9IHsgZGVmZXJyZWRzOiBuZXcgU2V0KCksIHNldHRsZWQ6IGZhbHNlIH07XG4gICAga25vd25Qcm9taXNlcy5zZXQodmFsdWUsIHJlY29yZCk7XG4gICAgLy9cbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oXG4gICAgICB2YWwgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHsgcmVzb2x2ZSB9IG9mIG1hcmtTZXR0bGVkKHJlY29yZCkpIHtcbiAgICAgICAgICByZXNvbHZlKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnIgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHsgcmVqZWN0IH0gb2YgbWFya1NldHRsZWQocmVjb3JkKSkge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlY29yZDtcbn07XG5cbmNvbnN0IHsgcmFjZSB9ID0ge1xuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIHJhY2UodmFsdWVzKSB7XG4gICAgbGV0IGRlZmVycmVkO1xuICAgIC8qICAgICAgICAgICAgICAgICAqL1xuICAgIC8vXG4gICAgY29uc3QgY2FjaGVkVmFsdWVzID0gW107XG4gICAgY29uc3QgQyA9IHRoaXM7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEMoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZGVmZXJyZWQgPSB7IHJlc29sdmUsIHJlamVjdCB9O1xuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgY2FjaGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICBjb25zdCB7IHNldHRsZWQsIGRlZmVycmVkcyB9ID0gZ2V0TWVtb1JlY29yZCh2YWx1ZSk7XG4gICAgICAgIGlmIChzZXR0bGVkKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIEMucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkcy5hZGQoZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vXG4gICAgcmV0dXJuIHJlc3VsdC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgY2FjaGVkVmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmZXJyZWRzIH0gPSBnZXRNZW1vUmVjb3JkKHZhbHVlKTtcbiAgICAgICAgaWYgKGRlZmVycmVkcykge1xuICAgICAgICAgIGRlZmVycmVkcy5kZWxldGUoZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59OyRozY9fb25jZS5yYWNlKHJhY2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWVtb1JhY2UiOlsicmFjZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACMGyI1HwYAAB8GAAA1AAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9zcmMvcHJvbWlzZS1leGVjdXRvci1raXQuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIm1ha2VSZWxlYXNpbmdFeGVjdXRvcktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VSZWxlYXNpbmdFeGVjdXRvcktpdCA9ICgpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBpbnRlcm5hbFJlc29sdmU7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IGludGVybmFsUmVqZWN0O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc29sdmUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKGludGVybmFsUmVzb2x2ZSkge1xuICAgICAgaW50ZXJuYWxSZXNvbHZlKHZhbHVlKTtcbiAgICAgIGludGVybmFsUmVzb2x2ZSA9IG51bGw7XG4gICAgICBpbnRlcm5hbFJlamVjdCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChpbnRlcm5hbFJlc29sdmUgPT09IG51bGwpO1xuICAgIH1cbiAgfTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcmVqZWN0ID0gcmVhc29uID0+IHtcbiAgICBpZiAoaW50ZXJuYWxSZWplY3QpIHtcbiAgICAgIGludGVybmFsUmVqZWN0KHJlYXNvbik7XG4gICAgICBpbnRlcm5hbFJlc29sdmUgPSBudWxsO1xuICAgICAgaW50ZXJuYWxSZWplY3QgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoaW50ZXJuYWxSZWplY3QgPT09IG51bGwpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBleGVjdXRvciA9IChyZXMsIHJlaikgPT4ge1xuICAgIGFzc2VydChpbnRlcm5hbFJlc29sdmUgPT09IHVuZGVmaW5lZCAmJiBpbnRlcm5hbFJlamVjdCA9PT0gdW5kZWZpbmVkKTtcbiAgICBpbnRlcm5hbFJlc29sdmUgPSByZXM7XG4gICAgaW50ZXJuYWxSZWplY3QgPSByZWo7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7IHJlc29sdmUsIHJlamVjdCwgZXhlY3V0b3IgfSk7XG59OyRozY9fb25jZS5tYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQobWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0KTtcbmhhcmRlbihtYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0IjpbIm1ha2VSZWxlYXNpbmdFeGVjdXRvcktpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAmAAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9zcmMvdHlwZXMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASdhWHrgUAAC4FAAAHQAAAEBlbmRvL3N0cmVhbS12MS4yLjEwL2luZGV4LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wcm9taXNlLWtpdCJdLCJleHBvcnRzIjpbIm1ha2VQaXBlIiwibWFrZVF1ZXVlIiwibWFrZVN0cmVhbSIsIm1hcFJlYWRlciIsIm1hcFdyaXRlciIsInByaW1lIiwicHVtcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEUsbWFrZVByb21pc2VLaXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vXG4vL1xuLy9cbmNvbnN0IGZyZWV6ZSA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKE9iamVjdC5mcmVlemUpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VRdWV1ZSA9ICgpID0+IHtcbiAgbGV0IHsgcHJvbWlzZTogdGFpbFByb21pc2UsIHJlc29sdmU6IHRhaWxSZXNvbHZlIH0gPSBtYWtlUHJvbWlzZUtpdCgpO1xuICByZXR1cm4ge1xuICAgIHB1dCh2YWx1ZSkge1xuICAgICAgY29uc3QgeyByZXNvbHZlLCBwcm9taXNlIH0gPSBtYWtlUHJvbWlzZUtpdCgpO1xuICAgICAgdGFpbFJlc29sdmUoZnJlZXplKHsgdmFsdWUsIHByb21pc2UgfSkpO1xuICAgICAgdGFpbFJlc29sdmUgPSByZXNvbHZlO1xuICAgIH0sXG4gICAgZ2V0KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IHRhaWxQcm9taXNlLnRoZW4obmV4dCA9PiBuZXh0LnZhbHVlKTtcbiAgICAgIHRhaWxQcm9taXNlID0gdGFpbFByb21pc2UudGhlbihuZXh0ID0+IG5leHQucHJvbWlzZSk7XG4gICAgICByZXR1cm4gaGFyZGVuKHByb21pc2UpO1xuICAgIH0sXG4gIH07XG59OyRozY9fb25jZS5tYWtlUXVldWUobWFrZVF1ZXVlKTtcbmhhcmRlbihtYWtlUXVldWUpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVN0cmVhbSA9IChhY2tzLCBkYXRhKSA9PiB7XG4gIGNvbnN0IHN0cmVhbSA9IGhhcmRlbih7XG4gICAgLypcblxuICAgICAqL1xuICAgIG5leHQodmFsdWUpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgZGF0YS5wdXQoZnJlZXplKHsgdmFsdWUsIGRvbmU6IGZhbHNlIH0pKTtcbiAgICAgIHJldHVybiBhY2tzLmdldCgpO1xuICAgIH0sXG4gICAgLypcblxuICAgICAqL1xuICAgIHJldHVybih2YWx1ZSkge1xuICAgICAgZGF0YS5wdXQoZnJlZXplKHsgdmFsdWUsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgcmV0dXJuIGFja3MuZ2V0KCk7XG4gICAgfSxcbiAgICAvKlxuXG4gICAgICovXG4gICAgdGhyb3coZXJyb3IpIHtcbiAgICAgIGRhdGEucHV0KGhhcmRlbihQcm9taXNlLnJlamVjdChlcnJvcikpKTtcbiAgICAgIHJldHVybiBhY2tzLmdldCgpO1xuICAgIH0sXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBzdHJlYW07XG59OyRozY9fb25jZS5tYWtlU3RyZWFtKG1ha2VTdHJlYW0pO1xuaGFyZGVuKG1ha2VTdHJlYW0pO1xuXG4vL1xuLy9cbi8vXG4gICAgICAgY29uc3QgbWFrZVBpcGUgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBtYWtlUXVldWUoKTtcbiAgY29uc3QgYWNrcyA9IG1ha2VRdWV1ZSgpO1xuICBjb25zdCByZWFkZXIgPSBtYWtlU3RyZWFtKGFja3MsIGRhdGEpO1xuICBjb25zdCB3cml0ZXIgPSBtYWtlU3RyZWFtKGRhdGEsIGFja3MpO1xuICByZXR1cm4gaGFyZGVuKFt3cml0ZXIsIHJlYWRlcl0pO1xufTskaM2PX29uY2UubWFrZVBpcGUobWFrZVBpcGUpO1xuaGFyZGVuKG1ha2VQaXBlKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHVtcCA9IGFzeW5jICh3cml0ZXIsIHJlYWRlciwgcHJpbWVyKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgdGljayA9IHByb21pc2UgPT5cbiAgICBFLndoZW4oXG4gICAgICBwcm9taXNlLFxuICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHdyaXRlci5yZXR1cm4ocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIHRvY2sod3JpdGVyLm5leHQocmVzdWx0LnZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAoLyogICAgICAgICAgICAgICAgKi8gZXJyb3IpID0+IHtcbiAgICAgICAgcmV0dXJuIHdyaXRlci50aHJvdyhlcnJvcik7XG4gICAgICB9LFxuICAgICk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB0b2NrID0gcHJvbWlzZSA9PlxuICAgIEUud2hlbihcbiAgICAgIHByb21pc2UsXG4gICAgICByZXN1bHQgPT4ge1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZGVyLnJldHVybihyZXN1bHQudmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aWNrKHJlYWRlci5uZXh0KHJlc3VsdC52YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKC8qICAgICAgICAgICAgICAgICovIGVycm9yKSA9PiB7XG4gICAgICAgIHJldHVybiByZWFkZXIudGhyb3coZXJyb3IpO1xuICAgICAgfSxcbiAgICApO1xuICBhd2FpdCB0aWNrKHJlYWRlci5uZXh0KHByaW1lcikpO1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTskaM2PX29uY2UucHVtcChwdW1wKTtcbmhhcmRlbihwdW1wKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmltZSA9IChnZW5lcmF0b3IsIHByaW1lcikgPT4ge1xuICAvL1xuICBjb25zdCBmaXJzdCA9IGdlbmVyYXRvci5uZXh0KHByaW1lcik7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IHJlc3VsdDtcbiAgY29uc3QgcHJpbWVkID0gaGFyZGVuKHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgYXN5bmMgbmV4dCh2YWx1ZSkge1xuICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGZpcnN0O1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VuZXJhdG9yLm5leHQodmFsdWUpO1xuICAgIH0sXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBhc3luYyByZXR1cm4odmFsdWUpIHtcbiAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvL1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBmaXJzdDtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGdlbmVyYXRvci5yZXR1cm4odmFsdWUpO1xuICAgIH0sXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgYXN5bmMgdGhyb3coZXJyb3IpIHtcbiAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvL1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBmaXJzdDtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW5lcmF0b3IudGhyb3coZXJyb3IpO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gcHJpbWVkO1xufTskaM2PX29uY2UucHJpbWUocHJpbWUpO1xuaGFyZGVuKHByaW1lKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYXBSZWFkZXIgPSAocmVhZGVyLCB0cmFuc2Zvcm0pID0+IHtcbiAgYXN5bmMgZnVuY3Rpb24qIHRyYW5zZm9ybUdlbmVyYXRvcigpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHZhbHVlIG9mIHJlYWRlcikge1xuICAgICAgeWllbGQgdHJhbnNmb3JtKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBoYXJkZW4odHJhbnNmb3JtR2VuZXJhdG9yKTtcbiAgcmV0dXJuIGhhcmRlbih0cmFuc2Zvcm1HZW5lcmF0b3IoKSk7XG59OyRozY9fb25jZS5tYXBSZWFkZXIobWFwUmVhZGVyKTtcbmhhcmRlbihtYXBSZWFkZXIpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1hcFdyaXRlciA9ICh3cml0ZXIsIHRyYW5zZm9ybSkgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1lZFdyaXRlciA9IGhhcmRlbih7XG4gICAgLypcblxuICAgICAqL1xuICAgIGFzeW5jIG5leHQodmFsdWUpIHtcbiAgICAgIHJldHVybiB3cml0ZXIubmV4dCh0cmFuc2Zvcm0odmFsdWUpKTtcbiAgICB9LFxuICAgIC8qXG5cbiAgICAgKi9cbiAgICBhc3luYyB0aHJvdyhlcnJvcikge1xuICAgICAgcmV0dXJuIHdyaXRlci50aHJvdyhlcnJvcik7XG4gICAgfSxcbiAgICAvKlxuXG4gICAgICovXG4gICAgYXN5bmMgcmV0dXJuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gd3JpdGVyLnJldHVybih2YWx1ZSk7XG4gICAgfSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkV3JpdGVyO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gdHJhbnNmb3JtZWRXcml0ZXI7XG59OyRozY9fb25jZS5tYXBXcml0ZXIobWFwV3JpdGVyKTtcbmhhcmRlbihtYXBXcml0ZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVF1ZXVlIjpbIm1ha2VRdWV1ZSJdLCJtYWtlU3RyZWFtIjpbIm1ha2VTdHJlYW0iXSwibWFrZVBpcGUiOlsibWFrZVBpcGUiXSwicHVtcCI6WyJwdW1wIl0sInByaW1lIjpbInByaW1lIl0sIm1hcFJlYWRlciI6WyJtYXBSZWFkZXIiXSwibWFwV3JpdGVyIjpbIm1hcFdyaXRlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD1sWHDRwoAAEcKAAAjAAAAQG5vYmxlL2hhc2hlcy12MS41LjAvZXNtL19hc3NlcnQuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImJvb2wiLCJieXRlcyIsImRlZmF1bHQiLCJleGlzdHMiLCJoYXNoIiwiaXNCeXRlcyIsIm51bWJlciIsIm91dHB1dCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobnVtYmVyLCduYW1lJyx7dmFsdWU6XCJudW1iZXJcIn0pOyRozY9fb25jZS5udW1iZXIobnVtYmVyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYm9vbCwnbmFtZScse3ZhbHVlOlwiYm9vbFwifSk7JGjNj19vbmNlLmJvb2woYm9vbCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ5dGVzLCduYW1lJyx7dmFsdWU6XCJieXRlc1wifSk7JGjNj19vbmNlLmJ5dGVzKGJ5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGFzaCwnbmFtZScse3ZhbHVlOlwiaGFzaFwifSk7JGjNj19vbmNlLmhhc2goaGFzaCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4aXN0cywnbmFtZScse3ZhbHVlOlwiZXhpc3RzXCJ9KTskaM2PX29uY2UuZXhpc3RzKGV4aXN0cyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwnbmFtZScse3ZhbHVlOlwib3V0cHV0XCJ9KTskaM2PX29uY2Uub3V0cHV0KG91dHB1dCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlzQnl0ZXMsJ25hbWUnLHt2YWx1ZTpcImlzQnl0ZXNcIn0pOyRozY9fb25jZS5pc0J5dGVzKGlzQnl0ZXMpO2Z1bmN0aW9uIG51bWJlcihuKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihuKSB8fCBuIDwgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwb3NpdGl2ZSBpbnRlZ2VyIGV4cGVjdGVkLCBub3QgJHtufWApO1xufVxuZnVuY3Rpb24gYm9vbChiKSB7XG4gICAgaWYgKHR5cGVvZiBiICE9PSAnYm9vbGVhbicpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYm9vbGVhbiBleHBlY3RlZCwgbm90ICR7Yn1gKTtcbn1cbi8vXG4gICAgICAgZnVuY3Rpb24gaXNCeXRlcyhhKSB7XG4gICAgcmV0dXJuIChhIGluc3RhbmNlb2YgVWludDhBcnJheSB8fFxuICAgICAgICAoYSAhPSBudWxsICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdVaW50OEFycmF5JykpO1xufVxuZnVuY3Rpb24gYnl0ZXMoYiwgLi4ubGVuZ3Rocykge1xuICAgIGlmICghaXNCeXRlcyhiKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVaW50OEFycmF5IGV4cGVjdGVkJyk7XG4gICAgaWYgKGxlbmd0aHMubGVuZ3RoID4gMCAmJiAhbGVuZ3Rocy5pbmNsdWRlcyhiLmxlbmd0aCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggJHtsZW5ndGhzfSwgbm90IG9mIGxlbmd0aD0ke2IubGVuZ3RofWApO1xufVxuZnVuY3Rpb24gaGFzaChoKSB7XG4gICAgaWYgKHR5cGVvZiBoICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBoLmNyZWF0ZSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIYXNoIHNob3VsZCBiZSB3cmFwcGVkIGJ5IHV0aWxzLndyYXBDb25zdHJ1Y3RvcicpO1xuICAgIG51bWJlcihoLm91dHB1dExlbik7XG4gICAgbnVtYmVyKGguYmxvY2tMZW4pO1xufVxuZnVuY3Rpb24gZXhpc3RzKGluc3RhbmNlLCBjaGVja0ZpbmlzaGVkID0gdHJ1ZSkge1xuICAgIGlmIChpbnN0YW5jZS5kZXN0cm95ZWQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQnKTtcbiAgICBpZiAoY2hlY2tGaW5pc2hlZCAmJiBpbnN0YW5jZS5maW5pc2hlZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkJyk7XG59XG5mdW5jdGlvbiBvdXRwdXQob3V0LCBpbnN0YW5jZSkge1xuICAgIGJ5dGVzKG91dCk7XG4gICAgY29uc3QgbWluID0gaW5zdGFuY2Uub3V0cHV0TGVuO1xuICAgIGlmIChvdXQubGVuZ3RoIDwgbWluKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZGlnZXN0SW50bygpIGV4cGVjdHMgb3V0cHV0IGJ1ZmZlciBvZiBsZW5ndGggYXQgbGVhc3QgJHttaW59YCk7XG4gICAgfVxufVxuXG5jb25zdCBhc3NlcnQgPSB7IG51bWJlciwgYm9vbCwgYnl0ZXMsIGhhc2gsIGV4aXN0cywgb3V0cHV0IH07XG5jb25zdHtkZWZhdWx0OiRjzY9fZGVmYXVsdH09e2RlZmF1bHQ6YXNzZXJ0fTtcbi8vXG4kaM2PX29uY2UuZGVmYXVsdCgkY82PX2RlZmF1bHQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmYXVsdCI6WyJkZWZhdWx0Il0sIm51bWJlciI6WyJudW1iZXIiXSwiYm9vbCI6WyJib29sIl0sImJ5dGVzIjpbImJ5dGVzIl0sImhhc2giOlsiaGFzaCJdLCJleGlzdHMiOlsiZXhpc3RzIl0sIm91dHB1dCI6WyJvdXRwdXQiXSwiaXNCeXRlcyI6WyJpc0J5dGVzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAOdYqkXNEQAAzREAAB8AAABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vX21kLmpzeyJpbXBvcnRzIjpbIi4vX2Fzc2VydC5qcyIsIi4vdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJDaGkiLCJIYXNoTUQiLCJNYWoiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBleGlzdHMsb3V0cHV0LEhhc2gsY3JlYXRlVmlldyx0b0J5dGVzOyRozY9faW1wb3J0cyhbW1wiLi9fYXNzZXJ0LmpzXCIsIFtbXCJleGlzdHNcIixbJGjNj19hID0+IChleGlzdHMgPSAkaM2PX2EpXV0sW1wib3V0cHV0XCIsWyRozY9fYSA9PiAob3V0cHV0ID0gJGjNj19hKV1dXV0sW1wiLi91dGlscy5qc1wiLCBbW1wiSGFzaFwiLFskaM2PX2EgPT4gKEhhc2ggPSAkaM2PX2EpXV0sW1wiY3JlYXRlVmlld1wiLFskaM2PX2EgPT4gKGNyZWF0ZVZpZXcgPSAkaM2PX2EpXV0sW1widG9CeXRlc1wiLFskaM2PX2EgPT4gKHRvQnl0ZXMgPSAkaM2PX2EpXV1dXV0pO1xuXG4vKlxuXG4gKi9cbmZ1bmN0aW9uIHNldEJpZ1VpbnQ2NCh2aWV3LCBieXRlT2Zmc2V0LCB2YWx1ZSwgaXNMRSkge1xuICAgIGlmICh0eXBlb2Ygdmlldy5zZXRCaWdVaW50NjQgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB2aWV3LnNldEJpZ1VpbnQ2NChieXRlT2Zmc2V0LCB2YWx1ZSwgaXNMRSk7XG4gICAgY29uc3QgXzMybiA9IEJpZ0ludCgzMik7XG4gICAgY29uc3QgX3UzMl9tYXggPSBCaWdJbnQoMHhmZmZmZmZmZik7XG4gICAgY29uc3Qgd2ggPSBOdW1iZXIoKHZhbHVlID4+IF8zMm4pICYgX3UzMl9tYXgpO1xuICAgIGNvbnN0IHdsID0gTnVtYmVyKHZhbHVlICYgX3UzMl9tYXgpO1xuICAgIGNvbnN0IGggPSBpc0xFID8gNCA6IDA7XG4gICAgY29uc3QgbCA9IGlzTEUgPyAwIDogNDtcbiAgICB2aWV3LnNldFVpbnQzMihieXRlT2Zmc2V0ICsgaCwgd2gsIGlzTEUpO1xuICAgIHZpZXcuc2V0VWludDMyKGJ5dGVPZmZzZXQgKyBsLCB3bCwgaXNMRSk7XG59XG4vKlxuXG4gKi9cbiAgICAgICBjb25zdCBDaGkgPSAoYSwgYiwgYykgPT4gKGEgJiBiKSBeICh+YSAmIGMpO1xuLypcblxuICovJGjNj19vbmNlLkNoaShDaGkpO1xuICAgICAgIGNvbnN0IE1haiA9IChhLCBiLCBjKSA9PiAoYSAmIGIpIF4gKGEgJiBjKSBeIChiICYgYyk7XG4vKlxuXG5cbiAqLyRozY9fb25jZS5NYWooTWFqKTtcbiAgICAgICBjbGFzcyBIYXNoTUQgZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcihibG9ja0xlbiwgb3V0cHV0TGVuLCBwYWRPZmZzZXQsIGlzTEUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ibG9ja0xlbiA9IGJsb2NrTGVuO1xuICAgICAgICB0aGlzLm91dHB1dExlbiA9IG91dHB1dExlbjtcbiAgICAgICAgdGhpcy5wYWRPZmZzZXQgPSBwYWRPZmZzZXQ7XG4gICAgICAgIHRoaXMuaXNMRSA9IGlzTEU7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tMZW4pO1xuICAgICAgICB0aGlzLnZpZXcgPSBjcmVhdGVWaWV3KHRoaXMuYnVmZmVyKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgZXhpc3RzKHRoaXMpO1xuICAgICAgICBjb25zdCB7IHZpZXcsIGJ1ZmZlciwgYmxvY2tMZW4gfSA9IHRoaXM7XG4gICAgICAgIGRhdGEgPSB0b0J5dGVzKGRhdGEpO1xuICAgICAgICBjb25zdCBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgbGVuOykge1xuICAgICAgICAgICAgY29uc3QgdGFrZSA9IE1hdGgubWluKGJsb2NrTGVuIC0gdGhpcy5wb3MsIGxlbiAtIHBvcyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKHRha2UgPT09IGJsb2NrTGVuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBjcmVhdGVWaWV3KGRhdGEpO1xuICAgICAgICAgICAgICAgIGZvciAoOyBibG9ja0xlbiA8PSBsZW4gLSBwb3M7IHBvcyArPSBibG9ja0xlbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRhdGFWaWV3LCBwb3MpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyLnNldChkYXRhLnN1YmFycmF5KHBvcywgcG9zICsgdGFrZSksIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHRoaXMucG9zICs9IHRha2U7XG4gICAgICAgICAgICBwb3MgKz0gdGFrZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA9PT0gYmxvY2tMZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3ModmlldywgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGVuZ3RoICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICB0aGlzLnJvdW5kQ2xlYW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpZ2VzdEludG8ob3V0KSB7XG4gICAgICAgIGV4aXN0cyh0aGlzKTtcbiAgICAgICAgb3V0cHV0KG91dCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCB7IGJ1ZmZlciwgdmlldywgYmxvY2tMZW4sIGlzTEUgfSA9IHRoaXM7XG4gICAgICAgIGxldCB7IHBvcyB9ID0gdGhpcztcbiAgICAgICAgLy9cbiAgICAgICAgYnVmZmVyW3BvcysrXSA9IDBiMTAwMDAwMDA7XG4gICAgICAgIHRoaXMuYnVmZmVyLnN1YmFycmF5KHBvcykuZmlsbCgwKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKHRoaXMucGFkT2Zmc2V0ID4gYmxvY2tMZW4gLSBwb3MpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzcyh2aWV3LCAwKTtcbiAgICAgICAgICAgIHBvcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgZm9yIChsZXQgaSA9IHBvczsgaSA8IGJsb2NrTGVuOyBpKyspXG4gICAgICAgICAgICBidWZmZXJbaV0gPSAwO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBzZXRCaWdVaW50NjQodmlldywgYmxvY2tMZW4gLSA4LCBCaWdJbnQodGhpcy5sZW5ndGggKiA4KSwgaXNMRSk7XG4gICAgICAgIHRoaXMucHJvY2Vzcyh2aWV3LCAwKTtcbiAgICAgICAgY29uc3Qgb3ZpZXcgPSBjcmVhdGVWaWV3KG91dCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMub3V0cHV0TGVuO1xuICAgICAgICAvL1xuICAgICAgICBpZiAobGVuICUgNClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignX3NoYTI6IG91dHB1dExlbiBzaG91bGQgYmUgYWxpZ25lZCB0byAzMmJpdCcpO1xuICAgICAgICBjb25zdCBvdXRMZW4gPSBsZW4gLyA0O1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgIGlmIChvdXRMZW4gPiBzdGF0ZS5sZW5ndGgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ19zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGUnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRMZW47IGkrKylcbiAgICAgICAgICAgIG92aWV3LnNldFVpbnQzMig0ICogaSwgc3RhdGVbaV0sIGlzTEUpO1xuICAgIH1cbiAgICBkaWdlc3QoKSB7XG4gICAgICAgIGNvbnN0IHsgYnVmZmVyLCBvdXRwdXRMZW4gfSA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlnZXN0SW50byhidWZmZXIpO1xuICAgICAgICBjb25zdCByZXMgPSBidWZmZXIuc2xpY2UoMCwgb3V0cHV0TGVuKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIF9jbG9uZUludG8odG8pIHtcbiAgICAgICAgdG8gfHwgKHRvID0gbmV3IHRoaXMuY29uc3RydWN0b3IoKSk7XG4gICAgICAgIHRvLnNldCguLi50aGlzLmdldCgpKTtcbiAgICAgICAgY29uc3QgeyBibG9ja0xlbiwgYnVmZmVyLCBsZW5ndGgsIGZpbmlzaGVkLCBkZXN0cm95ZWQsIHBvcyB9ID0gdGhpcztcbiAgICAgICAgdG8ubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0by5wb3MgPSBwb3M7XG4gICAgICAgIHRvLmZpbmlzaGVkID0gZmluaXNoZWQ7XG4gICAgICAgIHRvLmRlc3Ryb3llZCA9IGRlc3Ryb3llZDtcbiAgICAgICAgaWYgKGxlbmd0aCAlIGJsb2NrTGVuKVxuICAgICAgICAgICAgdG8uYnVmZmVyLnNldChidWZmZXIpO1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxufVxuLy9cbiRozY9fb25jZS4gICAgSGFzaE1EKEhhc2hNRCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJDaGkiOlsiQ2hpIl0sIk1haiI6WyJNYWoiXSwiSGFzaE1EIjpbIkhhc2hNRCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADECG8wAQIAAAECAAAiAAAAQG5vYmxlL2hhc2hlcy12MS41LjAvZXNtL2NyeXB0by5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiY3J5cHRvIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOyAgICAgICBjb25zdCBjcnlwdG8gPSB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcgJiYgJ2NyeXB0bycgaW4gZ2xvYmFsVGhpcyA/IGdsb2JhbFRoaXMuY3J5cHRvIDogdW5kZWZpbmVkO1xuLy9cbiRozY9fb25jZS5jcnlwdG8oY3J5cHRvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNyeXB0byI6WyJjcnlwdG8iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAa5wtE9ESAADREgAAIgAAAEBub2JsZS9oYXNoZXMtdjEuNS4wL2VzbS9zaGEyNTYuanN7ImltcG9ydHMiOlsiLi9fbWQuanMiLCIuL3V0aWxzLmpzIl0sImV4cG9ydHMiOlsiU0hBMjU2Iiwic2hhMjI0Iiwic2hhMjU2Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgSGFzaE1ELENoaSxNYWoscm90cix3cmFwQ29uc3RydWN0b3I7JGjNj19pbXBvcnRzKFtbXCIuL19tZC5qc1wiLCBbW1wiSGFzaE1EXCIsWyRozY9fYSA9PiAoSGFzaE1EID0gJGjNj19hKV1dLFtcIkNoaVwiLFskaM2PX2EgPT4gKENoaSA9ICRozY9fYSldXSxbXCJNYWpcIixbJGjNj19hID0+IChNYWogPSAkaM2PX2EpXV1dXSxbXCIuL3V0aWxzLmpzXCIsIFtbXCJyb3RyXCIsWyRozY9fYSA9PiAocm90ciA9ICRozY9fYSldXSxbXCJ3cmFwQ29uc3RydWN0b3JcIixbJGjNj19hID0+ICh3cmFwQ29uc3RydWN0b3IgPSAkaM2PX2EpXV1dXV0pO1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbmNvbnN0IFNIQTI1Nl9LID0gLyogICAgICAgICAgICovIG5ldyBVaW50MzJBcnJheShbXG4gICAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YiwgMHg1OWYxMTFmMSwgMHg5MjNmODJhNCwgMHhhYjFjNWVkNSxcbiAgICAweGQ4MDdhYTk4LCAweDEyODM1YjAxLCAweDI0MzE4NWJlLCAweDU1MGM3ZGMzLCAweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LCAweGMxOWJmMTc0LFxuICAgIDB4ZTQ5YjY5YzEsIDB4ZWZiZTQ3ODYsIDB4MGZjMTlkYzYsIDB4MjQwY2ExY2MsIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsXG4gICAgMHg5ODNlNTE1MiwgMHhhODMxYzY2ZCwgMHhiMDAzMjdjOCwgMHhiZjU5N2ZjNywgMHhjNmUwMGJmMywgMHhkNWE3OTE0NywgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NyxcbiAgICAweDI3YjcwYTg1LCAweDJlMWIyMTM4LCAweDRkMmM2ZGZjLCAweDUzMzgwZDEzLCAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuICAgIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsIDB4ZDE5MmU4MTksIDB4ZDY5OTA2MjQsIDB4ZjQwZTM1ODUsIDB4MTA2YWEwNzAsXG4gICAgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCwgMHgyNzQ4Nzc0YywgMHgzNGIwYmNiNSwgMHgzOTFjMGNiMywgMHg0ZWQ4YWE0YSwgMHg1YjljY2E0ZiwgMHg2ODJlNmZmMyxcbiAgICAweDc0OGY4MmVlLCAweDc4YTU2MzZmLCAweDg0Yzg3ODE0LCAweDhjYzcwMjA4LCAweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXG5dKTtcbi8vXG4vL1xuLy9cbmNvbnN0IFNIQTI1Nl9JViA9IC8qICAgICAgICAgICAqLyBuZXcgVWludDMyQXJyYXkoW1xuICAgIDB4NmEwOWU2NjcsIDB4YmI2N2FlODUsIDB4M2M2ZWYzNzIsIDB4YTU0ZmY1M2EsIDB4NTEwZTUyN2YsIDB4OWIwNTY4OGMsIDB4MWY4M2Q5YWIsIDB4NWJlMGNkMTlcbl0pO1xuLy9cbi8vXG5jb25zdCBTSEEyNTZfVyA9IC8qICAgICAgICAgICAqLyBuZXcgVWludDMyQXJyYXkoNjQpO1xuICAgICAgIGNsYXNzIFNIQTI1NiBleHRlbmRzIEhhc2hNRCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKDY0LCAzMiwgOCwgZmFsc2UpO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICB0aGlzLkEgPSBTSEEyNTZfSVZbMF0gfCAwO1xuICAgICAgICB0aGlzLkIgPSBTSEEyNTZfSVZbMV0gfCAwO1xuICAgICAgICB0aGlzLkMgPSBTSEEyNTZfSVZbMl0gfCAwO1xuICAgICAgICB0aGlzLkQgPSBTSEEyNTZfSVZbM10gfCAwO1xuICAgICAgICB0aGlzLkUgPSBTSEEyNTZfSVZbNF0gfCAwO1xuICAgICAgICB0aGlzLkYgPSBTSEEyNTZfSVZbNV0gfCAwO1xuICAgICAgICB0aGlzLkcgPSBTSEEyNTZfSVZbNl0gfCAwO1xuICAgICAgICB0aGlzLkggPSBTSEEyNTZfSVZbN10gfCAwO1xuICAgIH1cbiAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgQSwgQiwgQywgRCwgRSwgRiwgRywgSCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFtBLCBCLCBDLCBELCBFLCBGLCBHLCBIXTtcbiAgICB9XG4gICAgLy9cbiAgICBzZXQoQSwgQiwgQywgRCwgRSwgRiwgRywgSCkge1xuICAgICAgICB0aGlzLkEgPSBBIHwgMDtcbiAgICAgICAgdGhpcy5CID0gQiB8IDA7XG4gICAgICAgIHRoaXMuQyA9IEMgfCAwO1xuICAgICAgICB0aGlzLkQgPSBEIHwgMDtcbiAgICAgICAgdGhpcy5FID0gRSB8IDA7XG4gICAgICAgIHRoaXMuRiA9IEYgfCAwO1xuICAgICAgICB0aGlzLkcgPSBHIHwgMDtcbiAgICAgICAgdGhpcy5IID0gSCB8IDA7XG4gICAgfVxuICAgIHByb2Nlc3Modmlldywgb2Zmc2V0KSB7XG4gICAgICAgIC8vXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKywgb2Zmc2V0ICs9IDQpXG4gICAgICAgICAgICBTSEEyNTZfV1tpXSA9IHZpZXcuZ2V0VWludDMyKG9mZnNldCwgZmFsc2UpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBXMTUgPSBTSEEyNTZfV1tpIC0gMTVdO1xuICAgICAgICAgICAgY29uc3QgVzIgPSBTSEEyNTZfV1tpIC0gMl07XG4gICAgICAgICAgICBjb25zdCBzMCA9IHJvdHIoVzE1LCA3KSBeIHJvdHIoVzE1LCAxOCkgXiAoVzE1ID4+PiAzKTtcbiAgICAgICAgICAgIGNvbnN0IHMxID0gcm90cihXMiwgMTcpIF4gcm90cihXMiwgMTkpIF4gKFcyID4+PiAxMCk7XG4gICAgICAgICAgICBTSEEyNTZfV1tpXSA9IChzMSArIFNIQTI1Nl9XW2kgLSA3XSArIHMwICsgU0hBMjU2X1dbaSAtIDE2XSkgfCAwO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIGxldCB7IEEsIEIsIEMsIEQsIEUsIEYsIEcsIEggfSA9IHRoaXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2lnbWExID0gcm90cihFLCA2KSBeIHJvdHIoRSwgMTEpIF4gcm90cihFLCAyNSk7XG4gICAgICAgICAgICBjb25zdCBUMSA9IChIICsgc2lnbWExICsgQ2hpKEUsIEYsIEcpICsgU0hBMjU2X0tbaV0gKyBTSEEyNTZfV1tpXSkgfCAwO1xuICAgICAgICAgICAgY29uc3Qgc2lnbWEwID0gcm90cihBLCAyKSBeIHJvdHIoQSwgMTMpIF4gcm90cihBLCAyMik7XG4gICAgICAgICAgICBjb25zdCBUMiA9IChzaWdtYTAgKyBNYWooQSwgQiwgQykpIHwgMDtcbiAgICAgICAgICAgIEggPSBHO1xuICAgICAgICAgICAgRyA9IEY7XG4gICAgICAgICAgICBGID0gRTtcbiAgICAgICAgICAgIEUgPSAoRCArIFQxKSB8IDA7XG4gICAgICAgICAgICBEID0gQztcbiAgICAgICAgICAgIEMgPSBCO1xuICAgICAgICAgICAgQiA9IEE7XG4gICAgICAgICAgICBBID0gKFQxICsgVDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICBBID0gKEEgKyB0aGlzLkEpIHwgMDtcbiAgICAgICAgQiA9IChCICsgdGhpcy5CKSB8IDA7XG4gICAgICAgIEMgPSAoQyArIHRoaXMuQykgfCAwO1xuICAgICAgICBEID0gKEQgKyB0aGlzLkQpIHwgMDtcbiAgICAgICAgRSA9IChFICsgdGhpcy5FKSB8IDA7XG4gICAgICAgIEYgPSAoRiArIHRoaXMuRikgfCAwO1xuICAgICAgICBHID0gKEcgKyB0aGlzLkcpIHwgMDtcbiAgICAgICAgSCA9IChIICsgdGhpcy5IKSB8IDA7XG4gICAgICAgIHRoaXMuc2V0KEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgpO1xuICAgIH1cbiAgICByb3VuZENsZWFuKCkge1xuICAgICAgICBTSEEyNTZfVy5maWxsKDApO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldCgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwKTtcbiAgICAgICAgdGhpcy5idWZmZXIuZmlsbCgwKTtcbiAgICB9XG59XG4vL1xuJGjNj19vbmNlLiAgICBTSEEyNTYoU0hBMjU2KTtjbGFzcyBTSEEyMjQgZXh0ZW5kcyBTSEEyNTZ7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQSA9IDB4YzEwNTllZDggfCAwO1xuICAgICAgICB0aGlzLkIgPSAweDM2N2NkNTA3IHwgMDtcbiAgICAgICAgdGhpcy5DID0gMHgzMDcwZGQxNyB8IDA7XG4gICAgICAgIHRoaXMuRCA9IDB4ZjcwZTU5MzkgfCAwO1xuICAgICAgICB0aGlzLkUgPSAweGZmYzAwYjMxIHwgMDtcbiAgICAgICAgdGhpcy5GID0gMHg2ODU4MTUxMSB8IDA7XG4gICAgICAgIHRoaXMuRyA9IDB4NjRmOThmYTcgfCAwO1xuICAgICAgICB0aGlzLkggPSAweGJlZmE0ZmE0IHwgMDtcbiAgICAgICAgdGhpcy5vdXRwdXRMZW4gPSAyODtcbiAgICB9XG59XG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHNoYTI1NiA9IC8qICAgICAgICAgICAqLyB3cmFwQ29uc3RydWN0b3IoKCkgPT4gbmV3IFNIQTI1NigpKTtcbi8qXG5cbiAqLyRozY9fb25jZS5zaGEyNTYoc2hhMjU2KTtcbiAgICAgICBjb25zdCBzaGEyMjQgPSAvKiAgICAgICAgICAgKi8gd3JhcENvbnN0cnVjdG9yKCgpID0+IG5ldyBTSEEyMjQoKSk7XG4vL1xuJGjNj19vbmNlLnNoYTIyNChzaGEyMjQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU0hBMjU2IjpbIlNIQTI1NiJdLCJzaGEyNTYiOlsic2hhMjU2Il0sInNoYTIyNCI6WyJzaGEyMjQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAxOyKbr0gAAC9IAAAIQAAAEBub2JsZS9oYXNoZXMtdjEuNS4wL2VzbS91dGlscy5qc3siaW1wb3J0cyI6WyJAbm9ibGUvaGFzaGVzL2NyeXB0byIsIi4vX2Fzc2VydC5qcyJdLCJleHBvcnRzIjpbIkhhc2giLCJhc3luY0xvb3AiLCJieXRlU3dhcCIsImJ5dGVTd2FwMzIiLCJieXRlU3dhcElmQkUiLCJieXRlc1RvSGV4IiwiY2hlY2tPcHRzIiwiY29uY2F0Qnl0ZXMiLCJjcmVhdGVWaWV3IiwiaGV4VG9CeXRlcyIsImlzQnl0ZXMiLCJpc0xFIiwibmV4dFRpY2siLCJyYW5kb21CeXRlcyIsInJvdGwiLCJyb3RyIiwidG9CeXRlcyIsInUzMiIsInU4IiwidXRmOFRvQnl0ZXMiLCJ3cmFwQ29uc3RydWN0b3IiLCJ3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyIsIndyYXBYT0ZDb25zdHJ1Y3RvcldpdGhPcHRzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgY3J5cHRvLGFieXRlczskaM2PX2ltcG9ydHMoW1tcIkBub2JsZS9oYXNoZXMvY3J5cHRvXCIsIFtbXCJjcnlwdG9cIixbJGjNj19hID0+IChjcnlwdG8gPSAkaM2PX2EpXV1dXSxbXCIuL19hc3NlcnQuanNcIiwgW1tcImJ5dGVzXCIsWyRozY9fYSA9PiAoYWJ5dGVzID0gJGjNj19hKV1dXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXNCeXRlcywnbmFtZScse3ZhbHVlOlwiaXNCeXRlc1wifSk7JGjNj19vbmNlLmlzQnl0ZXMoaXNCeXRlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ5dGVTd2FwMzIsJ25hbWUnLHt2YWx1ZTpcImJ5dGVTd2FwMzJcIn0pOyRozY9fb25jZS5ieXRlU3dhcDMyKGJ5dGVTd2FwMzIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShieXRlc1RvSGV4LCduYW1lJyx7dmFsdWU6XCJieXRlc1RvSGV4XCJ9KTskaM2PX29uY2UuYnl0ZXNUb0hleChieXRlc1RvSGV4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGV4VG9CeXRlcywnbmFtZScse3ZhbHVlOlwiaGV4VG9CeXRlc1wifSk7JGjNj19vbmNlLmhleFRvQnl0ZXMoaGV4VG9CeXRlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGFzeW5jTG9vcCwnbmFtZScse3ZhbHVlOlwiYXN5bmNMb29wXCJ9KTskaM2PX29uY2UuYXN5bmNMb29wKGFzeW5jTG9vcCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHV0ZjhUb0J5dGVzLCduYW1lJyx7dmFsdWU6XCJ1dGY4VG9CeXRlc1wifSk7JGjNj19vbmNlLnV0ZjhUb0J5dGVzKHV0ZjhUb0J5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodG9CeXRlcywnbmFtZScse3ZhbHVlOlwidG9CeXRlc1wifSk7JGjNj19vbmNlLnRvQnl0ZXModG9CeXRlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmNhdEJ5dGVzLCduYW1lJyx7dmFsdWU6XCJjb25jYXRCeXRlc1wifSk7JGjNj19vbmNlLmNvbmNhdEJ5dGVzKGNvbmNhdEJ5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hlY2tPcHRzLCduYW1lJyx7dmFsdWU6XCJjaGVja09wdHNcIn0pOyRozY9fb25jZS5jaGVja09wdHMoY2hlY2tPcHRzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcENvbnN0cnVjdG9yLCduYW1lJyx7dmFsdWU6XCJ3cmFwQ29uc3RydWN0b3JcIn0pOyRozY9fb25jZS53cmFwQ29uc3RydWN0b3Iod3JhcENvbnN0cnVjdG9yKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcENvbnN0cnVjdG9yV2l0aE9wdHMsJ25hbWUnLHt2YWx1ZTpcIndyYXBDb25zdHJ1Y3RvcldpdGhPcHRzXCJ9KTskaM2PX29uY2Uud3JhcENvbnN0cnVjdG9yV2l0aE9wdHMod3JhcENvbnN0cnVjdG9yV2l0aE9wdHMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cywnbmFtZScse3ZhbHVlOlwid3JhcFhPRkNvbnN0cnVjdG9yV2l0aE9wdHNcIn0pOyRozY9fb25jZS53cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyh3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHJhbmRvbUJ5dGVzLCduYW1lJyx7dmFsdWU6XCJyYW5kb21CeXRlc1wifSk7JGjNj19vbmNlLnJhbmRvbUJ5dGVzKHJhbmRvbUJ5dGVzKTtcblxuXG5cblxuXG5cblxuXG4vL1xuLy9cbiAgICAgICBmdW5jdGlvbiBpc0J5dGVzKGEpIHtcbiAgICByZXR1cm4gKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8XG4gICAgICAgIChhICE9IG51bGwgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnICYmIGEuY29uc3RydWN0b3IubmFtZSA9PT0gJ1VpbnQ4QXJyYXknKSk7XG59XG4vL1xuICAgICAgIGNvbnN0IHU4ID0gKGFycikgPT4gbmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgYXJyLmJ5dGVPZmZzZXQsIGFyci5ieXRlTGVuZ3RoKTskaM2PX29uY2UudTgodTgpO1xuICAgICAgIGNvbnN0IHUzMiA9IChhcnIpID0+IG5ldyBVaW50MzJBcnJheShhcnIuYnVmZmVyLCBhcnIuYnl0ZU9mZnNldCwgTWF0aC5mbG9vcihhcnIuYnl0ZUxlbmd0aCAvIDQpKTtcbi8vXG4kaM2PX29uY2UudTMyKHUzMik7Y29uc3QgY3JlYXRlVmlldz0oYXJyKT0+bmV3IERhdGFWaWV3KGFyci5idWZmZXIsYXJyLmJ5dGVPZmZzZXQsYXJyLmJ5dGVMZW5ndGgpO1xuLy9cbiRozY9fb25jZS5jcmVhdGVWaWV3KGNyZWF0ZVZpZXcpO2NvbnN0IHJvdHI9KHdvcmQsc2hpZnQpPT4od29yZDw8KDMyLXNoaWZ0KSl8KHdvcmQ+Pj5zaGlmdCk7XG4vL1xuJGjNj19vbmNlLnJvdHIocm90cik7Y29uc3Qgcm90bD0od29yZCxzaGlmdCk9Pih3b3JkPDxzaGlmdCl8KCh3b3JkPj4+KDMyLXNoaWZ0KSkgPj4+IDApOyRozY9fb25jZS5yb3RsKHJvdGwpO1xuICAgICAgIGNvbnN0IGlzTEUgPSBuZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoWzB4MTEyMjMzNDRdKS5idWZmZXIpWzBdID09PSAweDQ0O1xuLy9cbiRozY9fb25jZS5pc0xFKGlzTEUpO2NvbnN0IGJ5dGVTd2FwPSh3b3JkKT0+KCh3b3JkPDwyNCkmMHhmZjAwMDAwMCl8XG4gICAgKCh3b3JkIDw8IDgpICYgMHhmZjAwMDApIHxcbiAgICAoKHdvcmQgPj4+IDgpICYgMHhmZjAwKSB8XG4gICAgKCh3b3JkID4+PiAyNCkgJiAweGZmKTtcbi8vXG4kaM2PX29uY2UuYnl0ZVN3YXAoYnl0ZVN3YXApO2NvbnN0IGJ5dGVTd2FwSWZCRT1pc0xFPyhuKT0+bjoobik9PmJ5dGVTd2FwKG4pO1xuLy9cbiRozY9fb25jZS5ieXRlU3dhcElmQkUoYnl0ZVN3YXBJZkJFKTtmdW5jdGlvbiBieXRlU3dhcDMyKGFycil7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYnl0ZVN3YXAoYXJyW2ldKTtcbiAgICB9XG59XG4vL1xuY29uc3QgaGV4ZXMgPSAvKiAgICAgICAgICAgKi8gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjU2IH0sIChfLCBpKSA9PiBpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKTtcbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGJ5dGVzVG9IZXgoYnl0ZXMpIHtcbiAgICBhYnl0ZXMoYnl0ZXMpO1xuICAgIC8vXG4gICAgbGV0IGhleCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGV4ICs9IGhleGVzW2J5dGVzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn1cbi8vXG5jb25zdCBhc2NpaXMgPSB7IF8wOiA0OCwgXzk6IDU3LCBfQTogNjUsIF9GOiA3MCwgX2E6IDk3LCBfZjogMTAyIH07XG5mdW5jdGlvbiBhc2NpaVRvQmFzZTE2KGNoYXIpIHtcbiAgICBpZiAoY2hhciA+PSBhc2NpaXMuXzAgJiYgY2hhciA8PSBhc2NpaXMuXzkpXG4gICAgICAgIHJldHVybiBjaGFyIC0gYXNjaWlzLl8wO1xuICAgIGlmIChjaGFyID49IGFzY2lpcy5fQSAmJiBjaGFyIDw9IGFzY2lpcy5fRilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoYXNjaWlzLl9BIC0gMTApO1xuICAgIGlmIChjaGFyID49IGFzY2lpcy5fYSAmJiBjaGFyIDw9IGFzY2lpcy5fZilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoYXNjaWlzLl9hIC0gMTApO1xuICAgIHJldHVybjtcbn1cbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGhleFRvQnl0ZXMoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgY29uc3QgaGwgPSBoZXgubGVuZ3RoO1xuICAgIGNvbnN0IGFsID0gaGwgLyAyO1xuICAgIGlmIChobCAlIDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncGFkZGVkIGhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoICcgKyBobCk7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShhbCk7XG4gICAgZm9yIChsZXQgYWkgPSAwLCBoaSA9IDA7IGFpIDwgYWw7IGFpKyssIGhpICs9IDIpIHtcbiAgICAgICAgY29uc3QgbjEgPSBhc2NpaVRvQmFzZTE2KGhleC5jaGFyQ29kZUF0KGhpKSk7XG4gICAgICAgIGNvbnN0IG4yID0gYXNjaWlUb0Jhc2UxNihoZXguY2hhckNvZGVBdChoaSArIDEpKTtcbiAgICAgICAgaWYgKG4xID09PSB1bmRlZmluZWQgfHwgbjIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IGhleFtoaV0gKyBoZXhbaGkgKyAxXTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJyArIGNoYXIgKyAnXCIgYXQgaW5kZXggJyArIGhpKTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheVthaV0gPSBuMSAqIDE2ICsgbjI7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vXG4vL1xuLy9cbiAgICAgICBjb25zdCBuZXh0VGljayA9IGFzeW5jICgpID0+IHsgfTtcbi8vXG4kaM2PX29uY2UubmV4dFRpY2sobmV4dFRpY2spO2FzeW5jIGZ1bmN0aW9uIGFzeW5jTG9vcChpdGVycyx0aWNrLGNiKXtcbiAgICBsZXQgdHMgPSBEYXRlLm5vdygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcnM7IGkrKykge1xuICAgICAgICBjYihpKTtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSB0cztcbiAgICAgICAgaWYgKGRpZmYgPj0gMCAmJiBkaWZmIDwgdGljaylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBhd2FpdCBuZXh0VGljaygpO1xuICAgICAgICB0cyArPSBkaWZmO1xuICAgIH1cbn1cbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1dGY4VG9CeXRlcyBleHBlY3RlZCBzdHJpbmcsIGdvdCAke3R5cGVvZiBzdHJ9YCk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpKTsgLy9cbn1cbi8qXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiB0b0J5dGVzKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKVxuICAgICAgICBkYXRhID0gdXRmOFRvQnl0ZXMoZGF0YSk7XG4gICAgYWJ5dGVzKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xufVxuLypcblxuICovXG4gICAgICAgZnVuY3Rpb24gY29uY2F0Qnl0ZXMoLi4uYXJyYXlzKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGFycmF5c1tpXTtcbiAgICAgICAgYWJ5dGVzKGEpO1xuICAgICAgICBzdW0gKz0gYS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IG5ldyBVaW50OEFycmF5KHN1bSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBhZCA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGFycmF5c1tpXTtcbiAgICAgICAgcmVzLnNldChhLCBwYWQpO1xuICAgICAgICBwYWQgKz0gYS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vL1xuICAgICAgIGNsYXNzIEhhc2gge1xuICAgIC8vXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZUludG8oKTtcbiAgICB9XG59JGjNj19vbmNlLiAgIEhhc2goSGFzaCk7XG5jb25zdCB0b1N0ciA9IHt9LnRvU3RyaW5nO1xuICAgICAgIGZ1bmN0aW9uIGNoZWNrT3B0cyhkZWZhdWx0cywgb3B0cykge1xuICAgIGlmIChvcHRzICE9PSB1bmRlZmluZWQgJiYgdG9TdHIuY2FsbChvcHRzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3B0aW9ucyBzaG91bGQgYmUgb2JqZWN0IG9yIHVuZGVmaW5lZCcpO1xuICAgIGNvbnN0IG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIG9wdHMpO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4gICAgICAgZnVuY3Rpb24gd3JhcENvbnN0cnVjdG9yKGhhc2hDb25zKSB7XG4gICAgY29uc3QgaGFzaEMgPSAobXNnKSA9PiBoYXNoQ29ucygpLnVwZGF0ZSh0b0J5dGVzKG1zZykpLmRpZ2VzdCgpO1xuICAgIGNvbnN0IHRtcCA9IGhhc2hDb25zKCk7XG4gICAgaGFzaEMub3V0cHV0TGVuID0gdG1wLm91dHB1dExlbjtcbiAgICBoYXNoQy5ibG9ja0xlbiA9IHRtcC5ibG9ja0xlbjtcbiAgICBoYXNoQy5jcmVhdGUgPSAoKSA9PiBoYXNoQ29ucygpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbiAgICAgICBmdW5jdGlvbiB3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyhoYXNoQ29ucykge1xuICAgIGNvbnN0IGhhc2hDID0gKG1zZywgb3B0cykgPT4gaGFzaENvbnMob3B0cykudXBkYXRlKHRvQnl0ZXMobXNnKSkuZGlnZXN0KCk7XG4gICAgY29uc3QgdG1wID0gaGFzaENvbnMoe30pO1xuICAgIGhhc2hDLm91dHB1dExlbiA9IHRtcC5vdXRwdXRMZW47XG4gICAgaGFzaEMuYmxvY2tMZW4gPSB0bXAuYmxvY2tMZW47XG4gICAgaGFzaEMuY3JlYXRlID0gKG9wdHMpID0+IGhhc2hDb25zKG9wdHMpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbiAgICAgICBmdW5jdGlvbiB3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyhoYXNoQ29ucykge1xuICAgIGNvbnN0IGhhc2hDID0gKG1zZywgb3B0cykgPT4gaGFzaENvbnMob3B0cykudXBkYXRlKHRvQnl0ZXMobXNnKSkuZGlnZXN0KCk7XG4gICAgY29uc3QgdG1wID0gaGFzaENvbnMoe30pO1xuICAgIGhhc2hDLm91dHB1dExlbiA9IHRtcC5vdXRwdXRMZW47XG4gICAgaGFzaEMuYmxvY2tMZW4gPSB0bXAuYmxvY2tMZW47XG4gICAgaGFzaEMuY3JlYXRlID0gKG9wdHMpID0+IGhhc2hDb25zKG9wdHMpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHJhbmRvbUJ5dGVzKGJ5dGVzTGVuZ3RoID0gMzIpIHtcbiAgICBpZiAoY3J5cHRvICYmIHR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vXG4gICAgaWYgKGNyeXB0byAmJiB0eXBlb2YgY3J5cHRvLnJhbmRvbUJ5dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoYnl0ZXNMZW5ndGgpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMgbXVzdCBiZSBkZWZpbmVkJyk7XG59XG4vL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiaXNCeXRlcyI6WyJpc0J5dGVzIl0sInU4IjpbInU4Il0sInUzMiI6WyJ1MzIiXSwiY3JlYXRlVmlldyI6WyJjcmVhdGVWaWV3Il0sInJvdHIiOlsicm90ciJdLCJyb3RsIjpbInJvdGwiXSwiaXNMRSI6WyJpc0xFIl0sImJ5dGVTd2FwIjpbImJ5dGVTd2FwIl0sImJ5dGVTd2FwSWZCRSI6WyJieXRlU3dhcElmQkUiXSwiYnl0ZVN3YXAzMiI6WyJieXRlU3dhcDMyIl0sImJ5dGVzVG9IZXgiOlsiYnl0ZXNUb0hleCJdLCJoZXhUb0J5dGVzIjpbImhleFRvQnl0ZXMiXSwibmV4dFRpY2siOlsibmV4dFRpY2siXSwiYXN5bmNMb29wIjpbImFzeW5jTG9vcCJdLCJ1dGY4VG9CeXRlcyI6WyJ1dGY4VG9CeXRlcyJdLCJ0b0J5dGVzIjpbInRvQnl0ZXMiXSwiY29uY2F0Qnl0ZXMiOlsiY29uY2F0Qnl0ZXMiXSwiSGFzaCI6WyJIYXNoIl0sImNoZWNrT3B0cyI6WyJjaGVja09wdHMiXSwid3JhcENvbnN0cnVjdG9yIjpbIndyYXBDb25zdHJ1Y3RvciJdLCJ3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyI6WyJ3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyJdLCJ3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyI6WyJ3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyJdLCJyYW5kb21CeXRlcyI6WyJyYW5kb21CeXRlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB066pteQ8AAHkPAAAeAAAAYmFzZS14LXY1LjAuMS9zcmMvZXNtL2luZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG4vL1xuLy9cbi8vXG4vL1xuZnVuY3Rpb24gYmFzZSAoQUxQSEFCRVQpIHtcbiAgaWYgKEFMUEhBQkVULmxlbmd0aCA+PSAyNTUpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxwaGFiZXQgdG9vIGxvbmcnKSB9XG4gIGNvbnN0IEJBU0VfTUFQID0gbmV3IFVpbnQ4QXJyYXkoMjU2KVxuICBmb3IgKGxldCBqID0gMDsgaiA8IEJBU0VfTUFQLmxlbmd0aDsgaisrKSB7XG4gICAgQkFTRV9NQVBbal0gPSAyNTVcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IEFMUEhBQkVULmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgeCA9IEFMUEhBQkVULmNoYXJBdChpKVxuICAgIGNvbnN0IHhjID0geC5jaGFyQ29kZUF0KDApXG4gICAgaWYgKEJBU0VfTUFQW3hjXSAhPT0gMjU1KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoeCArICcgaXMgYW1iaWd1b3VzJykgfVxuICAgIEJBU0VfTUFQW3hjXSA9IGlcbiAgfVxuICBjb25zdCBCQVNFID0gQUxQSEFCRVQubGVuZ3RoXG4gIGNvbnN0IExFQURFUiA9IEFMUEhBQkVULmNoYXJBdCgwKVxuICBjb25zdCBGQUNUT1IgPSBNYXRoLmxvZyhCQVNFKSAvIE1hdGgubG9nKDI1NikgLy9cbiAgY29uc3QgaUZBQ1RPUiA9IE1hdGgubG9nKDI1NikgLyBNYXRoLmxvZyhCQVNFKSAvL1xuICBmdW5jdGlvbiBlbmNvZGUgKHNvdXJjZSkge1xuICAgIC8vXG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsgfSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc291cmNlKSkge1xuICAgICAgc291cmNlID0gbmV3IFVpbnQ4QXJyYXkoc291cmNlLmJ1ZmZlciwgc291cmNlLmJ5dGVPZmZzZXQsIHNvdXJjZS5ieXRlTGVuZ3RoKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICBzb3VyY2UgPSBVaW50OEFycmF5LmZyb20oc291cmNlKVxuICAgIH1cbiAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBVaW50OEFycmF5JykgfVxuICAgIGlmIChzb3VyY2UubGVuZ3RoID09PSAwKSB7IHJldHVybiAnJyB9XG4gICAgLy9cbiAgICBsZXQgemVyb2VzID0gMFxuICAgIGxldCBsZW5ndGggPSAwXG4gICAgbGV0IHBiZWdpbiA9IDBcbiAgICBjb25zdCBwZW5kID0gc291cmNlLmxlbmd0aFxuICAgIHdoaWxlIChwYmVnaW4gIT09IHBlbmQgJiYgc291cmNlW3BiZWdpbl0gPT09IDApIHtcbiAgICAgIHBiZWdpbisrXG4gICAgICB6ZXJvZXMrK1xuICAgIH1cbiAgICAvL1xuICAgIGNvbnN0IHNpemUgPSAoKHBlbmQgLSBwYmVnaW4pICogaUZBQ1RPUiArIDEpID4+PiAwXG4gICAgY29uc3QgYjU4ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvL1xuICAgIHdoaWxlIChwYmVnaW4gIT09IHBlbmQpIHtcbiAgICAgIGxldCBjYXJyeSA9IHNvdXJjZVtwYmVnaW5dXG4gICAgICAvL1xuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGxldCBpdDEgPSBzaXplIC0gMTsgKGNhcnJ5ICE9PSAwIHx8IGkgPCBsZW5ndGgpICYmIChpdDEgIT09IC0xKTsgaXQxLS0sIGkrKykge1xuICAgICAgICBjYXJyeSArPSAoMjU2ICogYjU4W2l0MV0pID4+PiAwXG4gICAgICAgIGI1OFtpdDFdID0gKGNhcnJ5ICUgQkFTRSkgPj4+IDBcbiAgICAgICAgY2FycnkgPSAoY2FycnkgLyBCQVNFKSA+Pj4gMFxuICAgICAgfVxuICAgICAgaWYgKGNhcnJ5ICE9PSAwKSB7IHRocm93IG5ldyBFcnJvcignTm9uLXplcm8gY2FycnknKSB9XG4gICAgICBsZW5ndGggPSBpXG4gICAgICBwYmVnaW4rK1xuICAgIH1cbiAgICAvL1xuICAgIGxldCBpdDIgPSBzaXplIC0gbGVuZ3RoXG4gICAgd2hpbGUgKGl0MiAhPT0gc2l6ZSAmJiBiNThbaXQyXSA9PT0gMCkge1xuICAgICAgaXQyKytcbiAgICB9XG4gICAgLy9cbiAgICBsZXQgc3RyID0gTEVBREVSLnJlcGVhdCh6ZXJvZXMpXG4gICAgZm9yICg7IGl0MiA8IHNpemU7ICsraXQyKSB7IHN0ciArPSBBTFBIQUJFVC5jaGFyQXQoYjU4W2l0Ml0pIH1cbiAgICByZXR1cm4gc3RyXG4gIH1cbiAgZnVuY3Rpb24gZGVjb2RlVW5zYWZlIChzb3VyY2UpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ3N0cmluZycpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgU3RyaW5nJykgfVxuICAgIGlmIChzb3VyY2UubGVuZ3RoID09PSAwKSB7IHJldHVybiBuZXcgVWludDhBcnJheSgpIH1cbiAgICBsZXQgcHN6ID0gMFxuICAgIC8vXG4gICAgbGV0IHplcm9lcyA9IDBcbiAgICBsZXQgbGVuZ3RoID0gMFxuICAgIHdoaWxlIChzb3VyY2VbcHN6XSA9PT0gTEVBREVSKSB7XG4gICAgICB6ZXJvZXMrK1xuICAgICAgcHN6KytcbiAgICB9XG4gICAgLy9cbiAgICBjb25zdCBzaXplID0gKCgoc291cmNlLmxlbmd0aCAtIHBzeikgKiBGQUNUT1IpICsgMSkgPj4+IDAgLy9cbiAgICBjb25zdCBiMjU2ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvL1xuICAgIHdoaWxlIChwc3ogPCBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAvL1xuICAgICAgY29uc3QgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChwc3opXG4gICAgICAvL1xuICAgICAgaWYgKGNoYXJDb2RlID4gMjU1KSB7IHJldHVybiB9XG4gICAgICAvL1xuICAgICAgbGV0IGNhcnJ5ID0gQkFTRV9NQVBbY2hhckNvZGVdXG4gICAgICAvL1xuICAgICAgaWYgKGNhcnJ5ID09PSAyNTUpIHsgcmV0dXJuIH1cbiAgICAgIGxldCBpID0gMFxuICAgICAgZm9yIChsZXQgaXQzID0gc2l6ZSAtIDE7IChjYXJyeSAhPT0gMCB8fCBpIDwgbGVuZ3RoKSAmJiAoaXQzICE9PSAtMSk7IGl0My0tLCBpKyspIHtcbiAgICAgICAgY2FycnkgKz0gKEJBU0UgKiBiMjU2W2l0M10pID4+PiAwXG4gICAgICAgIGIyNTZbaXQzXSA9IChjYXJyeSAlIDI1NikgPj4+IDBcbiAgICAgICAgY2FycnkgPSAoY2FycnkgLyAyNTYpID4+PiAwXG4gICAgICB9XG4gICAgICBpZiAoY2FycnkgIT09IDApIHsgdGhyb3cgbmV3IEVycm9yKCdOb24temVybyBjYXJyeScpIH1cbiAgICAgIGxlbmd0aCA9IGlcbiAgICAgIHBzeisrXG4gICAgfVxuICAgIC8vXG4gICAgbGV0IGl0NCA9IHNpemUgLSBsZW5ndGhcbiAgICB3aGlsZSAoaXQ0ICE9PSBzaXplICYmIGIyNTZbaXQ0XSA9PT0gMCkge1xuICAgICAgaXQ0KytcbiAgICB9XG4gICAgY29uc3QgdmNoID0gbmV3IFVpbnQ4QXJyYXkoemVyb2VzICsgKHNpemUgLSBpdDQpKVxuICAgIGxldCBqID0gemVyb2VzXG4gICAgd2hpbGUgKGl0NCAhPT0gc2l6ZSkge1xuICAgICAgdmNoW2orK10gPSBiMjU2W2l0NCsrXVxuICAgIH1cbiAgICByZXR1cm4gdmNoXG4gIH1cbiAgZnVuY3Rpb24gZGVjb2RlIChzdHJpbmcpIHtcbiAgICBjb25zdCBidWZmZXIgPSBkZWNvZGVVbnNhZmUoc3RyaW5nKVxuICAgIGlmIChidWZmZXIpIHsgcmV0dXJuIGJ1ZmZlciB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb24tYmFzZScgKyBCQVNFICsgJyBjaGFyYWN0ZXInKVxuICB9XG4gIHJldHVybiB7XG4gICAgZW5jb2RlLFxuICAgIGRlY29kZVVuc2FmZSxcbiAgICBkZWNvZGVcbiAgfVxufVxuY29uc3R7ZGVmYXVsdDokY82PX2RlZmF1bHR9PXtkZWZhdWx0OmJhc2V9OyRozY9fb25jZS5kZWZhdWx0KCRjzY9fZGVmYXVsdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZWZhdWx0IjpbImRlZmF1bHQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAS6e4ZIQOAACEDgAAGQAAAGJhc2U2NC1qcy12MS41LjEvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImJ5dGVMZW5ndGgiLCJ0b0J5dGVBcnJheSIsImZyb21CeXRlQXJyYXkiLCJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sInNvdXJjZSI6IihmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHsgJ3VzZSBzdHJpY3QnOyAndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vL1xuLy9cbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvL1xuICAvL1xuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy9cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy9cbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vXG5cbiAgLy9cbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvL1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59IC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAAiHjZhBkSAAAZEgAAFgAAAGJlY2gzMi12MS4xLjQvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImRlY29kZVVuc2FmZSIsImRlY29kZSIsImVuY29kZSIsInRvV29yZHNVbnNhZmUiLCJ0b1dvcmRzIiwiZnJvbVdvcmRzVW5zYWZlIiwiZnJvbVdvcmRzIiwiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJzb3VyY2UiOiIoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICd1c2Ugc3RyaWN0JzsgJ3VzZSBzdHJpY3QnXG52YXIgQUxQSEFCRVQgPSAncXB6cnk5eDhnZjJ0dmR3MHMzam41NGtoY2U2bXVhN2wnXG5cbi8vXG52YXIgQUxQSEFCRVRfTUFQID0ge31cbmZvciAodmFyIHogPSAwOyB6IDwgQUxQSEFCRVQubGVuZ3RoOyB6KyspIHtcbiAgdmFyIHggPSBBTFBIQUJFVC5jaGFyQXQoeilcblxuICBpZiAoQUxQSEFCRVRfTUFQW3hdICE9PSB1bmRlZmluZWQpIHRocm93IG5ldyBUeXBlRXJyb3IoeCArICcgaXMgYW1iaWd1b3VzJylcbiAgQUxQSEFCRVRfTUFQW3hdID0gelxufVxuXG5mdW5jdGlvbiBwb2x5bW9kU3RlcCAocHJlKSB7XG4gIHZhciBiID0gcHJlID4+IDI1XG4gIHJldHVybiAoKHByZSAmIDB4MUZGRkZGRikgPDwgNSkgXlxuICAgICgtKChiID4+IDApICYgMSkgJiAweDNiNmE1N2IyKSBeXG4gICAgKC0oKGIgPj4gMSkgJiAxKSAmIDB4MjY1MDhlNmQpIF5cbiAgICAoLSgoYiA+PiAyKSAmIDEpICYgMHgxZWExMTlmYSkgXlxuICAgICgtKChiID4+IDMpICYgMSkgJiAweDNkNDIzM2RkKSBeXG4gICAgKC0oKGIgPj4gNCkgJiAxKSAmIDB4MmExNDYyYjMpXG59XG5cbmZ1bmN0aW9uIHByZWZpeENoayAocHJlZml4KSB7XG4gIHZhciBjaGsgPSAxXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGMgPSBwcmVmaXguY2hhckNvZGVBdChpKVxuICAgIGlmIChjIDwgMzMgfHwgYyA+IDEyNikgcmV0dXJuICdJbnZhbGlkIHByZWZpeCAoJyArIHByZWZpeCArICcpJ1xuXG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIChjID4+IDUpXG4gIH1cbiAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKVxuXG4gIGZvciAoaSA9IDA7IGkgPCBwcmVmaXgubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgdiA9IHByZWZpeC5jaGFyQ29kZUF0KGkpXG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeICh2ICYgMHgxZilcbiAgfVxuICByZXR1cm4gY2hrXG59XG5cbmZ1bmN0aW9uIGVuY29kZSAocHJlZml4LCB3b3JkcywgTElNSVQpIHtcbiAgTElNSVQgPSBMSU1JVCB8fCA5MFxuICBpZiAoKHByZWZpeC5sZW5ndGggKyA3ICsgd29yZHMubGVuZ3RoKSA+IExJTUlUKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeGNlZWRzIGxlbmd0aCBsaW1pdCcpXG5cbiAgcHJlZml4ID0gcHJlZml4LnRvTG93ZXJDYXNlKClcblxuICAvL1xuICB2YXIgY2hrID0gcHJlZml4Q2hrKHByZWZpeClcbiAgaWYgKHR5cGVvZiBjaGsgPT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoY2hrKVxuXG4gIHZhciByZXN1bHQgPSBwcmVmaXggKyAnMSdcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciB4ID0gd29yZHNbaV1cbiAgICBpZiAoKHggPj4gNSkgIT09IDApIHRocm93IG5ldyBFcnJvcignTm9uIDUtYml0IHdvcmQnKVxuXG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIHhcbiAgICByZXN1bHQgKz0gQUxQSEFCRVQuY2hhckF0KHgpXG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKVxuICB9XG4gIGNoayBePSAxXG5cbiAgZm9yIChpID0gMDsgaSA8IDY7ICsraSkge1xuICAgIHZhciB2ID0gKGNoayA+PiAoKDUgLSBpKSAqIDUpKSAmIDB4MWZcbiAgICByZXN1bHQgKz0gQUxQSEFCRVQuY2hhckF0KHYpXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIF9fZGVjb2RlIChzdHIsIExJTUlUKSB7XG4gIExJTUlUID0gTElNSVQgfHwgOTBcbiAgaWYgKHN0ci5sZW5ndGggPCA4KSByZXR1cm4gc3RyICsgJyB0b28gc2hvcnQnXG4gIGlmIChzdHIubGVuZ3RoID4gTElNSVQpIHJldHVybiAnRXhjZWVkcyBsZW5ndGggbGltaXQnXG5cbiAgLy9cbiAgdmFyIGxvd2VyZWQgPSBzdHIudG9Mb3dlckNhc2UoKVxuICB2YXIgdXBwZXJlZCA9IHN0ci50b1VwcGVyQ2FzZSgpXG4gIGlmIChzdHIgIT09IGxvd2VyZWQgJiYgc3RyICE9PSB1cHBlcmVkKSByZXR1cm4gJ01peGVkLWNhc2Ugc3RyaW5nICcgKyBzdHJcbiAgc3RyID0gbG93ZXJlZFxuXG4gIHZhciBzcGxpdCA9IHN0ci5sYXN0SW5kZXhPZignMScpXG4gIGlmIChzcGxpdCA9PT0gLTEpIHJldHVybiAnTm8gc2VwYXJhdG9yIGNoYXJhY3RlciBmb3IgJyArIHN0clxuICBpZiAoc3BsaXQgPT09IDApIHJldHVybiAnTWlzc2luZyBwcmVmaXggZm9yICcgKyBzdHJcblxuICB2YXIgcHJlZml4ID0gc3RyLnNsaWNlKDAsIHNwbGl0KVxuICB2YXIgd29yZENoYXJzID0gc3RyLnNsaWNlKHNwbGl0ICsgMSlcbiAgaWYgKHdvcmRDaGFycy5sZW5ndGggPCA2KSByZXR1cm4gJ0RhdGEgdG9vIHNob3J0J1xuXG4gIHZhciBjaGsgPSBwcmVmaXhDaGsocHJlZml4KVxuICBpZiAodHlwZW9mIGNoayA9PT0gJ3N0cmluZycpIHJldHVybiBjaGtcblxuICB2YXIgd29yZHMgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRDaGFycy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBjID0gd29yZENoYXJzLmNoYXJBdChpKVxuICAgIHZhciB2ID0gQUxQSEFCRVRfTUFQW2NdXG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuICdVbmtub3duIGNoYXJhY3RlciAnICsgY1xuICAgIGNoayA9IHBvbHltb2RTdGVwKGNoaykgXiB2XG5cbiAgICAvL1xuICAgIGlmIChpICsgNiA+PSB3b3JkQ2hhcnMubGVuZ3RoKSBjb250aW51ZVxuICAgIHdvcmRzLnB1c2godilcbiAgfVxuXG4gIGlmIChjaGsgIT09IDEpIHJldHVybiAnSW52YWxpZCBjaGVja3N1bSBmb3IgJyArIHN0clxuICByZXR1cm4geyBwcmVmaXg6IHByZWZpeCwgd29yZHM6IHdvcmRzIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlVW5zYWZlICgpIHtcbiAgdmFyIHJlcyA9IF9fZGVjb2RlLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgaWYgKHR5cGVvZiByZXMgPT09ICdvYmplY3QnKSByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGRlY29kZSAoc3RyKSB7XG4gIHZhciByZXMgPSBfX2RlY29kZS5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gIGlmICh0eXBlb2YgcmVzID09PSAnb2JqZWN0JykgcmV0dXJuIHJlc1xuXG4gIHRocm93IG5ldyBFcnJvcihyZXMpXG59XG5cbmZ1bmN0aW9uIGNvbnZlcnQgKGRhdGEsIGluQml0cywgb3V0Qml0cywgcGFkKSB7XG4gIHZhciB2YWx1ZSA9IDBcbiAgdmFyIGJpdHMgPSAwXG4gIHZhciBtYXhWID0gKDEgPDwgb3V0Qml0cykgLSAxXG5cbiAgdmFyIHJlc3VsdCA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xuICAgIHZhbHVlID0gKHZhbHVlIDw8IGluQml0cykgfCBkYXRhW2ldXG4gICAgYml0cyArPSBpbkJpdHNcblxuICAgIHdoaWxlIChiaXRzID49IG91dEJpdHMpIHtcbiAgICAgIGJpdHMgLT0gb3V0Qml0c1xuICAgICAgcmVzdWx0LnB1c2goKHZhbHVlID4+IGJpdHMpICYgbWF4VilcbiAgICB9XG4gIH1cblxuICBpZiAocGFkKSB7XG4gICAgaWYgKGJpdHMgPiAwKSB7XG4gICAgICByZXN1bHQucHVzaCgodmFsdWUgPDwgKG91dEJpdHMgLSBiaXRzKSkgJiBtYXhWKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYml0cyA+PSBpbkJpdHMpIHJldHVybiAnRXhjZXNzIHBhZGRpbmcnXG4gICAgaWYgKCh2YWx1ZSA8PCAob3V0Qml0cyAtIGJpdHMpKSAmIG1heFYpIHJldHVybiAnTm9uLXplcm8gcGFkZGluZydcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gdG9Xb3Jkc1Vuc2FmZSAoYnl0ZXMpIHtcbiAgdmFyIHJlcyA9IGNvbnZlcnQoYnl0ZXMsIDgsIDUsIHRydWUpXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcykpIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gdG9Xb3JkcyAoYnl0ZXMpIHtcbiAgdmFyIHJlcyA9IGNvbnZlcnQoYnl0ZXMsIDgsIDUsIHRydWUpXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcykpIHJldHVybiByZXNcblxuICB0aHJvdyBuZXcgRXJyb3IocmVzKVxufVxuXG5mdW5jdGlvbiBmcm9tV29yZHNVbnNhZmUgKHdvcmRzKSB7XG4gIHZhciByZXMgPSBjb252ZXJ0KHdvcmRzLCA1LCA4LCBmYWxzZSlcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSkgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBmcm9tV29yZHMgKHdvcmRzKSB7XG4gIHZhciByZXMgPSBjb252ZXJ0KHdvcmRzLCA1LCA4LCBmYWxzZSlcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSkgcmV0dXJuIHJlc1xuXG4gIHRocm93IG5ldyBFcnJvcihyZXMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZWNvZGVVbnNhZmU6IGRlY29kZVVuc2FmZSxcbiAgZGVjb2RlOiBkZWNvZGUsXG4gIGVuY29kZTogZW5jb2RlLFxuICB0b1dvcmRzVW5zYWZlOiB0b1dvcmRzVW5zYWZlLFxuICB0b1dvcmRzOiB0b1dvcmRzLFxuICBmcm9tV29yZHNVbnNhZmU6IGZyb21Xb3Jkc1Vuc2FmZSxcbiAgZnJvbVdvcmRzOiBmcm9tV29yZHNcbn0gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAAAODt/xaAIAAGgCAAAcAAAAYnM1OC12Ni4wLjAvc3JjL2VzbS9pbmRleC5qc3siaW1wb3J0cyI6WyJiYXNlLXgiXSwiZXhwb3J0cyI6WyJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYmFzZXg7JGjNj19pbXBvcnRzKFtbXCJiYXNlLXhcIiwgW1tcImRlZmF1bHRcIixbJGjNj19hID0+IChiYXNleCA9ICRozY9fYSldXV1dXSk7XG52YXIgQUxQSEFCRVQgPSAnMTIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaYWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5eic7XG5jb25zdHtkZWZhdWx0OiRjzY9fZGVmYXVsdH09e2RlZmF1bHQ6YmFzZXgoQUxQSEFCRVQpfTskaM2PX29uY2UuZGVmYXVsdCgkY82PX2RlZmF1bHQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmYXVsdCI6WyJkZWZhdWx0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAO5b9r/RAQAA0QEAABwAAABqZXNzaWUuanMtdjAuMy40L3NyYy9tYWluLmpzeyJpbXBvcnRzIjpbIi4vcmluZzAvbWFpbi5qcyIsIi4vcmluZzEvbWFpbi5qcyJdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbIi4vcmluZzAvbWFpbi5qcyIsIi4vcmluZzEvbWFpbi5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3JpbmcwL21haW4uanNcIiwgW11dLFtcIi4vcmluZzEvbWFpbi5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD2YCXkgQEAAIEBAAAfAAAAamVzc2llLmpzLXYwLjMuNC9zcmMvcmluZzAvRS5qc3siaW1wb3J0cyI6WyJAZW5kby9mYXIiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyJAZW5kby9mYXIiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZmFyXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAE9a9b2mAgAApgIAACwAAABqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMC9hc3luYy1nZW5lcmF0ZS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiYXN5bmNHZW5lcmF0ZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXN5bmNHZW5lcmF0ZSA9IG5leHQgPT4ge1xuICByZXR1cm4gaGFyZGVuKHtcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiB7XG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgbmV4dDogYXN5bmMgKCkgPT4gaGFyZGVuKG5leHQoKSksXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLmFzeW5jR2VuZXJhdGUoYXN5bmNHZW5lcmF0ZSk7XG5oYXJkZW4oYXN5bmNHZW5lcmF0ZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhc3luY0dlbmVyYXRlIjpbImFzeW5jR2VuZXJhdGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA/nr5/fQBAAD0AQAAIgAAAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcwL21haW4uanN7ImltcG9ydHMiOlsiLi9FLmpzIiwiLi9tYWtlcnMuanMiLCIuL2FzeW5jLWdlbmVyYXRlLmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9FLmpzIiwiLi9hc3luYy1nZW5lcmF0ZS5qcyIsIi4vbWFrZXJzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vRS5qc1wiLCBbXV0sW1wiLi9tYWtlcnMuanNcIiwgW11dLFtcIi4vYXN5bmMtZ2VuZXJhdGUuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASWghUOQHAADkBwAAJAAAAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcwL21ha2Vycy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWFrZU1hcCIsIm1ha2VQcm9taXNlIiwibWFrZVNldCIsIm1ha2VXZWFrTWFwIiwibWFrZVdlYWtTZXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Ly9cbi8vXG4vL1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlUHJvbWlzZSA9IGV4ZWN1dG9yID0+IGhhcmRlbihuZXcgUHJvbWlzZShleGVjdXRvcikpOyRozY9fb25jZS5tYWtlUHJvbWlzZShtYWtlUHJvbWlzZSk7XG5oYXJkZW4obWFrZVByb21pc2UpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWFrZU1hcCA9IGVudHJpZXNPckl0ZXJhYmxlID0+IGhhcmRlbihuZXcgTWFwKGVudHJpZXNPckl0ZXJhYmxlKSk7JGjNj19vbmNlLm1ha2VNYXAobWFrZU1hcCk7XG5oYXJkZW4obWFrZU1hcCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWFrZVNldCA9IHZhbHVlcyA9PiBoYXJkZW4obmV3IFNldCh2YWx1ZXMpKTskaM2PX29uY2UubWFrZVNldChtYWtlU2V0KTtcbmhhcmRlbihtYWtlU2V0KTtcblxuLypcblxuXG5cbiAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IG1ha2VXZWFrTWFwID0gZW50cmllcyA9PiBoYXJkZW4obmV3IFdlYWtNYXAoZW50cmllcykpOyRozY9fb25jZS5tYWtlV2Vha01hcChtYWtlV2Vha01hcCk7XG5oYXJkZW4obWFrZVdlYWtNYXApO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBtYWtlV2Vha1NldCA9IHZhbHVlcyA9PiBoYXJkZW4obmV3IFdlYWtTZXQodmFsdWVzKSk7JGjNj19vbmNlLm1ha2VXZWFrU2V0KG1ha2VXZWFrU2V0KTtcbmhhcmRlbihtYWtlV2Vha1NldCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlUHJvbWlzZSI6WyJtYWtlUHJvbWlzZSJdLCJtYWtlTWFwIjpbIm1ha2VNYXAiXSwibWFrZVNldCI6WyJtYWtlU2V0Il0sIm1ha2VXZWFrTWFwIjpbIm1ha2VXZWFrTWFwIl0sIm1ha2VXZWFrU2V0IjpbIm1ha2VXZWFrU2V0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGn1Uv+sAwAArAMAACkAAABqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMS9hc3luYy10b29scy5qc3siaW1wb3J0cyI6WyIuLi9yaW5nMC9tYWluLmpzIl0sImV4cG9ydHMiOlsiYXN5bmNEb1doaWxlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZVByb21pc2U7JGjNj19pbXBvcnRzKFtbXCIuLi9yaW5nMC9tYWluLmpzXCIsIFtbXCJtYWtlUHJvbWlzZVwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXN5bmNEb1doaWxlID0gYm9keSA9PiB7XG4gIHJldHVybiBtYWtlUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgbG9vcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRvQ29udGludWUgPSBhd2FpdCBib2R5KCk7XG4gICAgICBpZiAoIWRvQ29udGludWUpIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgbG9vcCgpLmNhdGNoKHJlamVjdCk7XG4gICAgfTtcblxuICAgIGxvb3AoKS5jYXRjaChyZWplY3QpO1xuICB9KTtcbn07JGjNj19vbmNlLmFzeW5jRG9XaGlsZShhc3luY0RvV2hpbGUpO1xuaGFyZGVuKGFzeW5jRG9XaGlsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhc3luY0RvV2hpbGUiOlsiYXN5bmNEb1doaWxlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABtoNwOWAQAAlgEAACIAAABqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMS9tYWluLmpzeyJpbXBvcnRzIjpbIi4vYXN5bmMtdG9vbHMuanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL2FzeW5jLXRvb2xzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vYXN5bmMtdG9vbHMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAQIeAwoAAAAAAAAAAAACuan8EMIBABDCAQAUAAAAAAAAAAAAAACkgQAAAABjb21wYXJ0bWVudC1tYXAuanNvblBLAQIeAwoAAAAAAAAAAACmE2nIHg4AAB4OAAA6AAAAAAAAAAAAAACkgULCAQBAYWdsb2NhbC9wb3J0Zm9saW8tZGVwbG95LXYwLjEuMC9zcmMvY2hhaW4tbmFtZS1zZXJ2aWNlLmpzUEsBAh4DCgAAAAAAAAAAABEykXLwCQAA8AkAADYAAAAAAAAAAAAAAKSBuNABAEBhZ2xvY2FsL3BvcnRmb2xpby1kZXBsb3ktdjAuMS4wL3NyYy9jb25maWctbWFyc2hhbC5qc1BLAQIeAwoAAAAAAAAAAABtmdrXbSEAAG0hAAAyAAAAAAAAAAAAAACkgfzaAQBAYWdsb2NhbC9wb3J0Zm9saW8tZGVwbG95LXYwLjEuMC9zcmMvb3JjaC5zdGFydC5qc1BLAQIeAwoAAAAAAAAAAADidW5WJBAAACQQAAA8AAAAAAAAAAAAAACkgbn8AQBAYWdsb2NhbC9wb3J0Zm9saW8tZGVwbG95LXYwLjEuMC9zcmMvcG9ydGZvbGlvLXN0YXJ0LmNvcmUuanNQSwECHgMKAAAAAAAAAAAAsTaSdtsDAADbAwAAQQAAAAAAAAAAAAAApIE3DQIAQGFnbG9jYWwvcG9ydGZvbGlvLWRlcGxveS12MC4xLjAvc3JjL3BvcnRmb2xpby5jb250cmFjdC5wZXJtaXQuanNQSwECHgMKAAAAAAAAAAAAiZP8PewBAADsAQAAIgAAAAAAAAAAAAAApIFxEQIAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAADX/O4no0MAAKNDAAArAAAAAAAAAAAAAACkgZ0TAgBAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9hc3luYy1mbG93LmpzUEsBAh4DCgAAAAAAAAAAAFnK7xiBEgAAgRIAACoAAAAAAAAAAAAAAKSBiVcCAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2JpamVjdGlvbi5qc1BLAQIeAwoAAAAAAAAAAABIg1tTfREAAH0RAAAoAAAAAAAAAAAAAACkgVJqAgBAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9jb252ZXJ0LmpzUEsBAh4DCgAAAAAAAAAAAF0CpfXVHwAA1R8AACsAAAAAAAAAAAAAAKSBFXwCAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2VuZG93bWVudHMuanNQSwECHgMKAAAAAAAAAAAAYAm+xE4DAABOAwAAKQAAAAAAAAAAAAAApIEznAIAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvZXBoZW1lcmEuanNQSwECHgMKAAAAAAAAAAAAbaWg/sMOAADDDgAAJwAAAAAAAAAAAAAApIHInwIAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvZXF1YXRlLmpzUEsBAh4DCgAAAAAAAAAAADmCLG+tGwAArRsAACoAAAAAAAAAAAAAAKSB0K4CAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2xvZy1zdG9yZS5qc1BLAQIeAwoAAAAAAAAAAABZ8dmmI0gAACNIAAAwAAAAAAAAAAAAAACkgcXKAgBAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9yZXBsYXktbWVtYnJhbmUuanNQSwECHgMKAAAAAAAAAAAAUUExdwwHAAAMBwAALAAAAAAAAAAAAAAApIE2EwMAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvdHlwZS1ndWFyZHMuanNQSwECHgMKAAAAAAAAAAAAz+hUt84BAADOAQAALAAAAAAAAAAAAAAApIGMGgMAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvdHlwZXMtaW5kZXguanNQSwECHgMKAAAAAAAAAAAAMYBI+I0BAACNAQAAIAAAAAAAAAAAAAAApIGkHAMAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL2hlYXAuanNQSwECHgMKAAAAAAAAAAAARcz/8VgBAABYAQAAJwAAAAAAAAAAAAAApIFvHgMAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9leHBvcnRzLmpzUEsBAh4DCgAAAAAAAAAAAATzwp3PCgAAzwoAACQAAAAAAAAAAAAAAKSBDCADAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvaGVhcC5qc1BLAQIeAwoAAAAAAAAAAAAVbrH6eQIAAHkCAAAlAAAAAAAAAAAAAACkgR0rAwBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAADl90gx0AgAAdAIAACsAAAAAAAAAAAAAAKSB2S0DAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvaXMtcGFzc2FibGUuanNQSwECHgMKAAAAAAAAAAAAy4/sxZgDAACYAwAAJAAAAAAAAAAAAAAApIGWMAMAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9rZXlzLmpzUEsBAh4DCgAAAAAAAAAAABrumdulBwAApQcAACkAAAAAAAAAAAAAAKSBcDQDAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvbWFrZS1vbmNlLmpzUEsBAh4DCgAAAAAAAAAAAASF9kdRDAAAUQwAADIAAAAAAAAAAAAAAKSBXDwDAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvcHJlcGFyZS1hdHRlbnVhdG9yLmpzUEsBAh4DCgAAAAAAAAAAAIlUEIWBCgAAgQoAADEAAAAAAAAAAAAAAKSB/UgDAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvcHJlcGFyZS1yZXZvY2FibGUuanNQSwECHgMKAAAAAAAAAAAAlUtl/dsJAADbCQAALQAAAAAAAAAAAAAApIHNUwMAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy93YXRjaC1wcm9taXNlLmpzUEsBAh4DCgAAAAAAAAAAAGwksGoWAgAAFgIAACgAAAAAAAAAAAAAAKSB810DAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC96b25lLWhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAApD2yLB4YAAAeGAAAMgAAAAAAAAAAAAAApIFPYAMAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9iaW5hcnkuanNQSwECHgMKAAAAAAAAAAAAfyOFivEdAADxHQAAPQAAAAAAAAAAAAAApIG9eAMAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qc1BLAQIeAwoAAAAAAAAAAAAydE2xpicAAKYnAABEAAAAAAAAAAAAAACkgQmXAwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvYmFuay5qc1BLAQIeAwoAAAAAAAAAAACNtlBBynQAAMp0AABFAAAAAAAAAAAAAACkgRG/AwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanNQSwECHgMKAAAAAAAAAAAAlanfH/wkAAD8JAAAQgAAAAAAAAAAAAAApIE+NAQAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzUEsBAh4DCgAAAAAAAAAAANwaOq0vEAAALxAAAFAAAAAAAAAAAAAAAKSBmlkEAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzUEsBAh4DCgAAAAAAAAAAAGCYzZU0EQAANBEAAEQAAAAAAAAAAAAAAKSBN2oEAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvdjFiZXRhMS9jb2luLmpzUEsBAh4DCgAAAAAAAAAAAEgr7wK+DAAAvgwAAFMAAAAAAAAAAAAAAKSBzXsEAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2NyeXB0by9tdWx0aXNpZy92MWJldGExL211bHRpc2lnLmpzUEsBAh4DCgAAAAAAAAAAAAR0+hcPTQAAD00AAFQAAAAAAAAAAAAAAKSB/IgEAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5qc1BLAQIeAwoAAAAAAAAAAAARvUmNdWsAAHVrAABNAAAAAAAAAAAAAACkgX3WBABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qc1BLAQIeAwoAAAAAAAAAAACQM6dTKDkAACg5AABKAAAAAAAAAAAAAACkgV1CBQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qc1BLAQIeAwoAAAAAAAAAAAC4DFLSdp0AAHadAABIAAAAAAAAAAAAAACkge17BQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvcXVlcnkuanNQSwECHgMKAAAAAAAAAAAA6slM0hisAAAYrAAASgAAAAAAAAAAAAAApIHJGQYAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmcuanNQSwECHgMKAAAAAAAAAAAALp7OYh5WAAAeVgAARQAAAAAAAAAAAAAApIFJxgYAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzUEsBAh4DCgAAAAAAAAAAAMRjUkrvKgAA7yoAAE0AAAAAAAAAAAAAAKSByhwHAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3R4L3NpZ25pbmcvdjFiZXRhMS9zaWduaW5nLmpzUEsBAh4DCgAAAAAAAAAAANkEpjOLWQAAi1kAAEAAAAAAAAAAAAAAAKSBJEgHAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3R4L3YxYmV0YTEvdHguanNQSwECHgMKAAAAAAAAAAAAFgiW2RMdAAATHQAASgAAAAAAAAAAAAAApIENogcAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvdXBncmFkZS92MWJldGExL3VwZ3JhZGUuanNQSwECHgMKAAAAAAAAAAAA/YHK0scHAADHBwAANAAAAAAAAAAAAAAApIGIvwcAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9kZWNpbWFscy5qc1BLAQIeAwoAAAAAAAAAAAAYKrFi1AcAANQHAAA/AAAAAAAAAAAAAACkgaHHBwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNQSwECHgMKAAAAAAAAAAAAgW1m/TsHAAA7BwAARAAAAAAAAAAAAAAApIHSzwcAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvZHVyYXRpb24uanNQSwECHgMKAAAAAAAAAAAA1L8FM0YHAABGBwAARQAAAAAAAAAAAAAApIFv1wcAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzUEsBAh4DCgAAAAAAAAAAAHitznaTDAAAkwwAADMAAAAAAAAAAAAAAKSBGN8HAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vaGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAAAozMAJ7hEAAO4RAABaAAAAAAAAAAAAAACkgfzrBwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvaW50ZXJjaGFpbl9hY2NvdW50cy92MS9wYWNrZXQuanNQSwECHgMKAAAAAAAAAAAAbUE7z0EUAABBFAAASwAAAAAAAAAAAAAApIFi/gcAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzUEsBAh4DCgAAAAAAAAAAAPSTMzpuLgAAbi4AAEUAAAAAAAAAAAAAAKSBDBMIAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vaWJjL2NvcmUvY2xpZW50L3YxL2NsaWVudC5qc1BLAQIeAwoAAAAAAAAAAAAH2IVofRQAAH0UAAA5AAAAAAAAAAAAAACkgd1BCABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2ljcS92MS9wYWNrZXQuanNQSwECHgMKAAAAAAAAAAAARcz/8VgBAABYAQAANQAAAAAAAAAAAAAApIGxVggAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9qc29uLXNhZmUuanNQSwECHgMKAAAAAAAAAAAAu0xCO5mKAACZigAAQQAAAAAAAAAAAAAApIFcWAgAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAAt46x3y8IAAAvCAAAQgAAAAAAAAAAAAAApIFU4wgAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9rZXlzLmpzUEsBAh4DCgAAAAAAAAAAAMDtO39tGwAAbRsAAEMAAAAAAAAAAAAAAKSB4+sIAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9jcnlwdG8vcHJvb2YuanNQSwECHgMKAAAAAAAAAAAAi9e714onAACKJwAAQwAAAAAAAAAAAAAApIGxBwkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3BhcmFtcy5qc1BLAQIeAwoAAAAAAAAAAADDyaj1wXYAAMF2AABCAAAAAAAAAAAAAACkgZwvCQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAAoaN2GdkYAADZGAAARgAAAAAAAAAAAAAApIG9pgkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3ZhbGlkYXRvci5qc1BLAQIeAwoAAAAAAAAAAAAA2nmbywsAAMsLAABEAAAAAAAAAAAAAACkgfq/CQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdmVyc2lvbi90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAABbnrV9+AYAAPgGAAAwAAAAAAAAAAAAAACkgSfMCQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3V0ZjguanNQSwECHgMKAAAAAAAAAAAA65/E9fwWAAD8FgAAMgAAAAAAAAAAAAAApIFt0wkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi92YXJpbnQuanNQSwECHgMKAAAAAAAAAAAANlHtE/wEAAD8BAAAKwAAAAAAAAAAAAAApIG56gkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvaGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAAASjwwn3QEAAN0BAAApAAAAAAAAAAAAAACkgf7vCQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAABDcFklox8AAKMfAAAmAAAAAAAAAAAAAACkgSLyCQBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvYW1vdW50TWF0aC5qc1BLAQIeAwoAAAAAAAAAAAATGlpSMQQAADEEAAAnAAAAAAAAAAAAAACkgQkSCgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvYW1vdW50U3RvcmUuanNQSwECHgMKAAAAAAAAAAAAuDuMpAcGAAAHBgAAJwAAAAAAAAAAAAAApIF/FgoAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL2Rpc3BsYXlJbmZvLmpzUEsBAh4DCgAAAAAAAAAAAPNfTQNNAgAATQIAACEAAAAAAAAAAAAAAKSByxwKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACdZOlhHRgAAB0YAAAlAAAAAAAAAAAAAACkgVcfCgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvaXNzdWVyS2l0LmpzUEsBAh4DCgAAAAAAAAAAADTpUBQSBgAAEgYAADoAAAAAAAAAAAAAAKSBtzcKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9tYXRoSGVscGVycy9jb3B5QmFnTWF0aEhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAoZjxhNAFAADQBQAAOgAAAAAAAAAAAAAApIEhPgoAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL2NvcHlTZXRNYXRoSGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAADzavU6uwQAALsEAAA2AAAAAAAAAAAAAACkgUlECgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvbWF0aEhlbHBlcnMvbmF0TWF0aEhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAgfqHxpgGAACYBgAANgAAAAAAAAAAAAAApIFYSQoAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL3NldE1hdGhIZWxwZXJzLmpzUEsBAh4DCgAAAAAAAAAAAJ57M0HJAwAAyQMAACMAAAAAAAAAAAAAAKSBRFAKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wYXltZW50LmpzUEsBAh4DCgAAAAAAAAAAALJbfRowJQAAMCUAACkAAAAAAAAAAAAAAKSBTlQKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wYXltZW50TGVkZ2VyLmpzUEsBAh4DCgAAAAAAAAAAAAnNpUgHFQAABxUAACEAAAAAAAAAAAAAAKSBxXkKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wdXJzZS5qc1BLAQIeAwoAAAAAAAAAAACJEyJxYC0AAGAtAAAhAAAAAAAAAAAAAACkgQuPCgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvcmF0aW8uanNQSwECHgMKAAAAAAAAAAAANbtR2pgFAACYBQAAJAAAAAAAAAAAAAAApIGqvAoAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL3NhZmVNYXRoLmpzUEsBAh4DCgAAAAAAAAAAAE2UxkMyBgAAMgYAAC0AAAAAAAAAAAAAAKSBhMIKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy90cmFuc2llbnROb3RpZmllci5qc1BLAQIeAwoAAAAAAAAAAABwGyGOdBoAAHQaAAAmAAAAAAAAAAAAAACkgQHJCgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZUd1YXJkcy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAnAAAAAAAAAAAAAACkgbnjCgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZXMtaW5kZXguanNQSwECHgMKAAAAAAAAAAAA+4NNsokdAACJHQAAJwAAAAAAAAAAAAAApIFW5QoAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2NhbGxiYWNrLmpzUEsBAh4DCgAAAAAAAAAAALc+QRg0AwAANAMAACgAAAAAAAAAAAAAAKSBJAMLAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9jbGktdXRpbHMuanNQSwECHgMKAAAAAAAAAAAAz7Ja43YGAAB2BgAAJQAAAAAAAAAAAAAApIGeBgsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2NvbmZpZy5qc1BLAQIeAwoAAAAAAAAAAAC8BYikOwUAADsFAAAkAAAAAAAAAAAAAACkgVcNCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvZGVidWcuanNQSwECHgMKAAAAAAAAAAAA+tsENbECAACxAgAAJQAAAAAAAAAAAAAApIHUEgsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2Vycm9ycy5qc1BLAQIeAwoAAAAAAAAAAACUr3eTpQQAAKUEAAAkAAAAAAAAAAAAAACkgcgVCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAtIZysCMTAAAjEwAAJwAAAAAAAAAAAAAApIGvGgsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2pzLXV0aWxzLmpzUEsBAh4DCgAAAAAAAAAAAEKFbaLpFwAA6RcAAC8AAAAAAAAAAAAAAKSBFy4LAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9saWItY2hhaW5TdG9yYWdlLmpzUEsBAh4DCgAAAAAAAAAAABAvHn7vEgAA7xIAACYAAAAAAAAAAAAAAKSBTUYLAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9tYXJzaGFsLmpzUEsBAh4DCgAAAAAAAAAAAG54O4xtBgAAbQYAACsAAAAAAAAAAAAAAKSBgFkLAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9tZXRob2QtdG9vbHMuanNQSwECHgMKAAAAAAAAAAAAsn2q0Mk2AADJNgAAJgAAAAAAAAAAAAAApIE2YAsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL21ldHJpY3MuanNQSwECHgMKAAAAAAAAAAAA5kesHwQFAAAEBQAAKwAAAAAAAAAAAAAApIFDlwsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL25hdHVyYWwtc29ydC5qc1BLAQIeAwoAAAAAAAAAAACaQsJezSwAAM0sAAAoAAAAAAAAAAAAAACkgZCcCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvc2VzLXV0aWxzLmpzUEsBAh4DCgAAAAAAAAAAAKMaFLHCBgAAwgYAACwAAAAAAAAAAAAAAKSBo8kLAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy90ZXN0aW5nLXV0aWxzLmpzUEsBAh4DCgAAAAAAAAAAACAjyqQXAwAAFwMAACUAAAAAAAAAAAAAAKSBr9ALAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy90bXBEaXIuanNQSwECHgMKAAAAAAAAAAAAsrKL9RsDAAAbAwAAKAAAAAAAAAAAAAAApIEJ1AsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3R5cGVDaGVjay5qc1BLAQIeAwoAAAAAAAAAAAAPzMLEOgQAADoEAAApAAAAAAAAAAAAAACkgWrXCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdHlwZUd1YXJkcy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAqAAAAAAAAAAAAAACkgevbCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdHlwZXMtaW5kZXguanNQSwECHgMKAAAAAAAAAAAAkna9+2kHAABpBwAAKgAAAAAAAAAAAAAApIGL3QsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3VwZ3JhZGUtYXBpLmpzUEsBAh4DCgAAAAAAAAAAAKk8zaQmDAAAJgwAACMAAAAAAAAAAAAAAKSBPOULAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL2J5dGVzLmpzUEsBAh4DCgAAAAAAAAAAAPq/urULAwAACwMAACMAAAAAAAAAAAAAAKSBo/ELAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMuFD1ZIBQAASAUAACcAAAAAAAAAAAAAAKSB7/QLAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL211bHRpYWRkci5qc1BLAQIeAwoAAAAAAAAAAACskMUo96oAAPeqAAAlAAAAAAAAAAAAAACkgXz6CwBAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9uZXR3b3JrLmpzUEsBAh4DCgAAAAAAAAAAANrblKP8FAAA/BQAACQAAAAAAAAAAAAAAKSBtqUMAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL3JvdXRlci5qc1BLAQIeAwoAAAAAAAAAAABcr29H5BwAAOQcAAAkAAAAAAAAAAAAAACkgfS6DABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9zaGFwZXMuanNQSwECHgMKAAAAAAAAAAAARcz/8VgBAABYAQAAIwAAAAAAAAAAAAAApIEa2AwAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAA0JZKLe8IAADvCAAAMwAAAAAAAAAAAAAApIGz2QwAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzUEsBAh4DCgAAAAAAAAAAAMI+7bjrBwAA6wcAACQAAAAAAAAAAAAAAKSB8+IMAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAhvssEJhMAACYTAAAnAAAAAAAAAAAAAACkgSDrDABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvbm90aWZpZXIuanNQSwECHgMKAAAAAAAAAAAAB6zyet4yAADeMgAAKgAAAAAAAAAAAAAApIGL/gwAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3B1Ymxpc2gta2l0LmpzUEsBAh4DCgAAAAAAAAAAANYcJe+VCAAAlQgAAC4AAAAAAAAAAAAAAKSBsTENAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdG9yZWQtbm90aWZpZXIuanNQSwECHgMKAAAAAAAAAAAASJWAwv4XAAD+FwAAJwAAAAAAAAAAAAAApIGSOg0AQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3N0b3Jlc3ViLmpzUEsBAh4DCgAAAAAAAAAAAFobZ3JFFgAARRYAACgAAAAAAAAAAAAAAKSB1VINAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdWJzY3JpYmUuanNQSwECHgMKAAAAAAAAAAAAI5l+uDkIAAA5CAAAKQAAAAAAAAAAAAAApIFgaQ0AQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3N1YnNjcmliZXIuanNQSwECHgMKAAAAAAAAAAAAWzsF4kwEAABMBAAAJAAAAAAAAAAAAAAApIHgcQ0AQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3RvcGljLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACoAAAAAAAAAAAAAAKSBbnYNAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy90eXBlcy1pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACjkiYNFAcAABQHAAAtAAAAAAAAAAAAAACkgQ54DQBAYWdvcmljL25vdGlmaWVyLXYwLjYuMi90b29scy90ZXN0U3VwcG9ydHMuanNQSwECHgMKAAAAAAAAAAAAXRsCTQoFAAAKBQAAJQAAAAAAAAAAAAAApIFtfw0AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACCRxZjRAUAAEQFAAAzAAAAAAAAAAAAAACkgbqEDQBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9jY3RwLWNoYWluLWluZm8uanNQSwECHgMKAAAAAAAAAAAAQ516KEcIAABHCAAANgAAAAAAAAAAAAAApIFPig0AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvY2hhaW4tY2FwYWJpbGl0aWVzLmpzUEsBAh4DCgAAAAAAAAAAAFCI9n2jCAAAowgAADgAAAAAAAAAAAAAAKSB6pINAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzUEsBAh4DCgAAAAAAAAAAAGLE2XKsWQAArFkAADIAAAAAAAAAAAAAAKSB45sNAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvY2hhaW4taHViLmpzUEsBAh4DCgAAAAAAAAAAABvktoQdHwAAHR8AAEIAAAAAAAAAAAAAAKSB3/UNAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvY29zbW9zLWludGVyY2hhaW4tc2VydmljZS5qc1BLAQIeAwoAAAAAAAAAAAD2Kz/Ucq0AAHKtAABFAAAAAAAAAAAAAACkgVwVDgBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2Nvc21vcy1vcmNoZXN0cmF0aW9uLWFjY291bnQuanNQSwECHgMKAAAAAAAAAAAAfQJjch0eAAAdHgAAMwAAAAAAAAAAAAAApIExww4AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9pYmMtcGFja2V0LmpzUEsBAh4DCgAAAAAAAAAAAOwWw4DdGwAA3RsAADgAAAAAAAAAAAAAAKSBn+EOAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvaWNhLWFjY291bnQta2l0LmpzUEsBAh4DCgAAAAAAAAAAABkNTiglEAAAJRAAADsAAAAAAAAAAAAAAKSB0v0OAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvaWNxLWNvbm5lY3Rpb24ta2l0LmpzUEsBAh4DCgAAAAAAAAAAAEfvV2SGFQAAhhUAADsAAAAAAAAAAAAAAKSBUA4PAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvbG9jYWwtY2hhaW4tZmFjYWRlLmpzUEsBAh4DCgAAAAAAAAAAAE7hNLXEYwAAxGMAAEQAAAAAAAAAAAAAAKSBLyQPAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvbG9jYWwtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzUEsBAh4DCgAAAAAAAAAAAKZZbyleGAAAXhgAADUAAAAAAAAAAAAAAKSBVYgPAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3Mvb3JjaGVzdHJhdG9yLmpzUEsBAh4DCgAAAAAAAAAAAFHSTyITLAAAEywAADUAAAAAAAAAAAAAAKSBBqEPAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvcGFja2V0LXRvb2xzLmpzUEsBAh4DCgAAAAAAAAAAADXq7JJiHwAAYh8AADwAAAAAAAAAAAAAAKSBbM0PAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvcmVtb3RlLWNoYWluLWZhY2FkZS5qc1BLAQIeAwoAAAAAAAAAAABKh5n8xQoAAMUKAAAqAAAAAAAAAAAAAACkgSjtDwBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9mYWNhZGUuanNQSwECHgMKAAAAAAAAAAAAFRpln0AqAABAKgAALgAAAAAAAAAAAAAApIE1+A8AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdHlwZUd1YXJkcy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAvAAAAAAAAAAAAAACkgcEiEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy90eXBlcy1pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAB2XXzizxgAAM8YAAAxAAAAAAAAAAAAAACkgWYkEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9hZGRyZXNzLmpzUEsBAh4DCgAAAAAAAAAAAM1xd+zeBQAA3gUAADEAAAAAAAAAAAAAAKSBhD0QAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2Ftb3VudHMuanNQSwECHgMKAAAAAAAAAAAAsacU0NoHAADaBwAAOgAAAAAAAAAAAAAApIGxQxAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvY2hhaW4taHViLWhlbHBlci5qc1BLAQIeAwoAAAAAAAAAAABqL0VEKgIAACoCAAA0AAAAAAAAAAAAAACkgeNLEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9jaGFpbi1pbmZvLmpzUEsBAh4DCgAAAAAAAAAAALSVLrdkCgAAZAoAADAAAAAAAAAAAAAAAKSBX04QAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2Nvc21vcy5qc1BLAQIeAwoAAAAAAAAAAACXJAqJqQMAAKkDAAAzAAAAAAAAAAAAAACkgRFZEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9kZW5vbUhhc2guanNQSwECHgMKAAAAAAAAAAAAbd1dWB0KAAAdCgAAPgAAAAAAAAAAAAAApIELXRAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanNQSwECHgMKAAAAAAAAAAAAfrH88LYOAAC2DgAAMAAAAAAAAAAAAAAApIGEZxAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvcGFja2V0LmpzUEsBAh4DCgAAAAAAAAAAADTnAJumGQAAphkAADYAAAAAAAAAAAAAAKSBiHYQAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL3N0YXJ0LWhlbHBlci5qc1BLAQIeAwoAAAAAAAAAAAANI7HMsQkAALEJAAAuAAAAAAAAAAAAAACkgYKQEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy90aW1lLmpzUEsBAh4DCgAAAAAAAAAAAKDmeCypBAAAqQQAADMAAAAAAAAAAAAAAKSBf5oQAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL3pjZi10b29scy5qc1BLAQIeAwoAAAAAAAAAAAB6HPr4kREAAJERAAAzAAAAAAAAAAAAAACkgXmfEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy96b2UtdG9vbHMuanNQSwECHgMKAAAAAAAAAAAAbDSmG+YNAADmDQAAIQAAAAAAAAAAAAAApIFbsRAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMMzhvT6BQAA+gUAACwAAAAAAAAAAAAAAKSBgL8QAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9sZWdhY3kvbGVnYWN5TWFwLmpzUEsBAh4DCgAAAAAAAAAAAAMXsxuiBQAAogUAADAAAAAAAAAAAAAAAKSBxMUQAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9sZWdhY3kvbGVnYWN5V2Vha01hcC5qc1BLAQIeAwoAAAAAAAAAAACGpoxiARMAAAETAAAxAAAAAAAAAAAAAACkgbTLEABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvc3RvcmVzL3NjYWxhck1hcFN0b3JlLmpzUEsBAh4DCgAAAAAAAAAAALpAOpwNDQAADQ0AADEAAAAAAAAAAAAAAKSBBN8QAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9zdG9yZXMvc2NhbGFyU2V0U3RvcmUuanNQSwECHgMKAAAAAAAAAAAAWblgusQPAADEDwAANQAAAAAAAAAAAAAApIFg7BAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanNQSwECHgMKAAAAAAAAAAAAQOxQ1ssLAADLCwAANQAAAAAAAAAAAAAApIF3/BAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanNQSwECHgMKAAAAAAAAAAAARcZFPaIQAACiEAAALgAAAAAAAAAAAAAApIGVCBEAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zdG9yZS11dGlscy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAhAAAAAAAAAAAAAACkgYMZEQBAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAA7fWYmzACAAAwAgAAHAAAAAAAAAAAAAAApIEaGxEAQGFnb3JpYy90aW1lLXYwLjMuMi9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAABMxcRZzRUAAM0VAAAjAAAAAAAAAAAAAACkgYQdEQBAYWdvcmljL3RpbWUtdjAuMy4yL3NyYy90aW1lTWF0aC5qc1BLAQIeAwoAAAAAAAAAAAA45QF/PQkAAD0JAAAlAAAAAAAAAAAAAACkgZIzEQBAYWdvcmljL3RpbWUtdjAuMy4yL3NyYy90eXBlR3VhcmRzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACYAAAAAAAAAAAAAAKSBEj0RAEBhZ29yaWMvdGltZS12MC4zLjIvc3JjL3R5cGVzLWluZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMMMXIq/GQAAvxkAACgAAAAAAAAAAAAAAKSBrj4RAEBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yL3NyYy9leG8tdXRpbHMuanNQSwECHgMKAAAAAAAAAAAAz5zr6bYIAAC2CAAAJAAAAAAAAAAAAAAApIGzWBEAQGFnb3JpYy92YXQtZGF0YS12MC41LjIvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAC9hIJYuGAAALhgAADAAAAAAAAAAAAAAAKSBq2ERAEBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yL3NyYy92YXQtZGF0YS1iaW5kaW5ncy5qc1BLAQIeAwoAAAAAAAAAAACLn464lhgAAJYYAAAbAAAAAAAAAAAAAACkgSd6EQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL0UuanNQSwECHgMKAAAAAAAAAAAAmHnNlJUCAACVAgAAHwAAAAAAAAAAAAAApIH2khEAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACntm5TkA8AAJAPAAAtAAAAAAAAAAAAAACkgciVEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL21lc3NhZ2UtYnJlYWtwb2ludHMuanNQSwECHgMKAAAAAAAAAAAAD9s11Z0MAACdDAAAKwAAAAAAAAAAAAAApIGjpREAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9yZWplY3Rpb24tdHJhY2tlci5qc1BLAQIeAwoAAAAAAAAAAABIOHkYERgAABEYAAAjAAAAAAAAAAAAAACkgYmyEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3JldHJ5YWJsZS5qc1BLAQIeAwoAAAAAAAAAAABCwDiLSwoAAEsKAAAfAAAAAAAAAAAAAACkgdvKEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Rvb2xzLmpzUEsBAh4DCgAAAAAAAAAAABT3AEvJCgAAyQoAACUAAAAAAAAAAAAAAKSBY9URAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvdHJhY2stdHVybnMuanNQSwECHgMKAAAAAAAAAAAARcz/8VgBAABYAQAAJQAAAAAAAAAAAAAApIFv4BEAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy90eXBlcy1pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAATV1p9dAkAAHQJAAAjAAAAAAAAAAAAAACkgQriEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Zvdy11dGlscy5qc1BLAQIeAwoAAAAAAAAAAAC9JvmCLRsAAC0bAAAdAAAAAAAAAAAAAACkgb/rEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Zvdy5qc1BLAQIeAwoAAAAAAAAAAABnytZV7x0AAO8dAAAlAAAAAAAAAAAAAACkgScHEgBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3dhdGNoLXV0aWxzLmpzUEsBAh4DCgAAAAAAAAAAAHYiQe1/FQAAfxUAAB8AAAAAAAAAAAAAAKSBWSUSAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvd2F0Y2guanNQSwECHgMKAAAAAAAAAAAAqdxB3rUIAAC1CAAAHgAAAAAAAAAAAAAApIEVOxIAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy93aGVuLmpzUEsBAh4DCgAAAAAAAAAAAO5lGk9RCQAAUQkAABkAAAAAAAAAAAAAAKSBBkQSAEBhZ29yaWMvdm93LXYwLjEuMC92YXQuanNQSwECHgMKAAAAAAAAAAAACwDr02MGAABjBgAANAAAAAAAAAAAAAAApIGOTRIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RGYWNldC9vZmZlclNhZmV0eS5qc1BLAQIeAwoAAAAAAAAAAAA0plqQiwcAAIsHAAA5AAAAAAAAAAAAAACkgUNUEgBAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvYXRvbWljVHJhbnNmZXIuanNQSwECHgMKAAAAAAAAAAAAgiMSkuYQAADmEAAAOAAAAAAAAAAAAAAApIElXBIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2JvbmRpbmdDdXJ2ZXMuanNQSwECHgMKAAAAAAAAAAAAdSzorqUKAAClCgAANQAAAAAAAAAAAAAApIFhbRIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2R1cmFiaWxpdHkuanNQSwECHgMKAAAAAAAAAAAAH/Pt0nwIAAB8CAAAMAAAAAAAAAAAAAAApIFZeBIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAEeE1QiuCQAArgkAADoAAAAAAAAAAAAAAKSBI4ESAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9wcmVwYXJlLW93bmFibGUuanNQSwECHgMKAAAAAAAAAAAA5ScZSPorAAD6KwAAOQAAAAAAAAAAAAAApIEpixIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlQXV0aG9yaXR5LmpzUEsBAh4DCgAAAAAAAAAAAOfHwgFxCQAAcQkAADUAAAAAAAAAAAAAAKSBercSAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9wcmljZVF1b3RlLmpzUEsBAh4DCgAAAAAAAAAAAP6hdNVYHAAAWBwAADMAAAAAAAAAAAAAAKSBPsESAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9yZWNvcmRlci5qc1BLAQIeAwoAAAAAAAAAAADVvOaaCQQAAAkEAAA3AAAAAAAAAAAAAACkgefdEgBAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvc3RhdGVNYWNoaW5lLmpzUEsBAh4DCgAAAAAAAAAAAEm9bmEDBAAAAwQAADUAAAAAAAAAAAAAAKSBReISAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0aXN0aWNzLmpzUEsBAh4DCgAAAAAAAAAAAFK77v+jBgAAowYAADEAAAAAAAAAAAAAAKSBm+YSAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC90b3BpY3MuanNQSwECHgMKAAAAAAAAAAAAmVBx04klAACJJQAANQAAAAAAAAAAAAAApIGN7RIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3pvZUhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAWJao56dIAACnSAAAJQAAAAAAAAAAAAAApIFpExMAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvdHlwZUd1YXJkcy5qc1BLAQIeAwoAAAAAAAAAAADZ9JO0lgEAAJYBAAAeAAAAAAAAAAAAAACkgVNcEwBAYWdvcmljL3pvbmUtdjAuMi4yL2R1cmFibGUuanNQSwECHgMKAAAAAAAAAAAAIltg+OcRAADnEQAAIgAAAAAAAAAAAAAApIElXhMAQGFnb3JpYy96b25lLXYwLjIuMi9zcmMvZHVyYWJsZS5qc1BLAQIeAwoAAAAAAAAAAAATnNb7swQAALMEAAAnAAAAAAAAAAAAAACkgUxwEwBAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQvYnVpbGQvYXNjaWkuanNQSwECHgMKAAAAAAAAAAAASoXCmgMHAAADBwAAKAAAAAAAAAAAAAAApIFEdRMAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2Jhc2U2NC5qc1BLAQIeAwoAAAAAAAAAAAAuwNkSRggAAEYIAAAoAAAAAAAAAAAAAACkgY18EwBAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQvYnVpbGQvYmVjaDMyLmpzUEsBAh4DCgAAAAAAAAAAALPMQvgvBAAALwQAACUAAAAAAAAAAAAAAKSBGYUTAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9oZXguanNQSwECHgMKAAAAAAAAAAAA7+Tlcq4JAACuCQAAJwAAAAAAAAAAAAAApIGLiRMAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAOfnY5qOCAAAjggAACkAAAAAAAAAAAAAAKSBfpMTAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9yZmMzMzM5LmpzUEsBAh4DCgAAAAAAAAAAAEjkv05SAgAAUgIAACYAAAAAAAAAAAAAAKSBU5wTAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC91dGY4LmpzUEsBAh4DCgAAAAAAAAAAADjUnGd1AgAAdQIAABsAAAAAAAAAAAAAAKSB6Z4TAEBlbmRvL2Jhc2U2NC12MS4wLjkvYXRvYi5qc1BLAQIeAwoAAAAAAAAAAACSwpOPNAMAADQDAAAbAAAAAAAAAAAAAACkgZehEwBAZW5kby9iYXNlNjQtdjEuMC45L2J0b2EuanNQSwECHgMKAAAAAAAAAAAABHt2f7kBAAC5AQAAHQAAAAAAAAAAAAAApIEEpRMAQGVuZG8vYmFzZTY0LXYxLjAuOS9kZWNvZGUuanNQSwECHgMKAAAAAAAAAAAAoValSLkBAAC5AQAAHQAAAAAAAAAAAAAApIH4phMAQGVuZG8vYmFzZTY0LXYxLjAuOS9lbmNvZGUuanNQSwECHgMKAAAAAAAAAAAAGvvqV6QCAACkAgAAHAAAAAAAAAAAAAAApIHsqBMAQGVuZG8vYmFzZTY0LXYxLjAuOS9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAfl5z1NwMAADcDAAAhAAAAAAAAAAAAAACkgcqrEwBAZW5kby9iYXNlNjQtdjEuMC45L3NyYy9jb21tb24uanNQSwECHgMKAAAAAAAAAAAA8sBOwZIIAACSCAAAIQAAAAAAAAAAAAAApIFArxMAQGVuZG8vYmFzZTY0LXYxLjAuOS9zcmMvZGVjb2RlLmpzUEsBAh4DCgAAAAAAAAAAAI8TQzdrBwAAawcAACEAAAAAAAAAAAAAAKSBEbgTAEBlbmRvL2Jhc2U2NC12MS4wLjkvc3JjL2VuY29kZS5qc1BLAQIeAwoAAAAAAAAAAADox4F7MAUAADAFAAAsAAAAAAAAAAAAAACkgbu/EwBAZW5kby9jb21tb24tdjEuMi4xMC9hcHBseS1sYWJlbGluZy1lcnJvci5qc1BLAQIeAwoAAAAAAAAAAABZyIR/pQQAAKUEAAArAAAAAAAAAAAAAACkgTXFEwBAZW5kby9jb21tb24tdjEuMi4xMC9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzUEsBAh4DCgAAAAAAAAAAANRN/zdKAgAASgIAACUAAAAAAAAAAAAAAKSBI8oTAEBlbmRvL2NvbW1vbi12MS4yLjEwL2lkZW50LWNoZWNrZXIuanNQSwECHgMKAAAAAAAAAAAAiteXQ5ACAACQAgAAJwAAAAAAAAAAAAAApIGwzBMAQGVuZG8vY29tbW9uLXYxLjIuMTAvbGlzdC1kaWZmZXJlbmNlLmpzUEsBAh4DCgAAAAAAAAAAAC6Umg60AwAAtAMAACsAAAAAAAAAAAAAAKSBhc8TAEBlbmRvL2NvbW1vbi12MS4yLjEwL21ha2UtYXJyYXktaXRlcmF0b3IuanNQSwECHgMKAAAAAAAAAAAABavNqFwCAABcAgAAJQAAAAAAAAAAAAAApIGC0xMAQGVuZG8vY29tbW9uLXYxLjIuMTAvbWFrZS1pdGVyYXRvci5qc1BLAQIeAwoAAAAAAAAAAAB/VRSzNAMAADQDAAAiAAAAAAAAAAAAAACkgSHWEwBAZW5kby9jb21tb24tdjEuMi4xMC9vYmplY3QtbWFwLmpzUEsBAh4DCgAAAAAAAAAAAH9WL1IyBAAAMgQAACcAAAAAAAAAAAAAAKSBldkTAEBlbmRvL2NvbW1vbi12MS4yLjEwL29iamVjdC1tZXRhLW1hcC5qc1BLAQIeAwoAAAAAAAAAAADyqmOzHgQAAB4EAAAlAAAAAAAAAAAAAACkgQzeEwBAZW5kby9jb21tb24tdjEuMi4xMC90aHJvdy1sYWJlbGVkLmpzUEsBAh4DCgAAAAAAAAAAADSioamiAQAAogEAACEAAAAAAAAAAAAAAKSBbeITAEBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAusIkdug8AALoPAAArAAAAAAAAAAAAAACkgU7kEwBAZW5kby9lbnYtb3B0aW9ucy12MS4xLjgvc3JjL2Vudi1vcHRpb25zLmpzUEsBAh4DCgAAAAAAAAAAAEk19ulUCAAAVAgAAB0AAAAAAAAAAAAAAKSBUfQTAEBlbmRvL2Vycm9ycy12MS4yLjEwL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMmxgxkbFgAAGxYAACMAAAAAAAAAAAAAAKSB4PwTAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9FLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACkAAAAAAAAAAAAAAKSBPBMUAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9leHBvcnRzLmpzUEsBAh4DCgAAAAAAAAAAAKTjK6ORDgAAkQ4AACcAAAAAAAAAAAAAAKSB2xQUAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9sb2NhbC5qc1BLAQIeAwoAAAAAAAAAAAB5M+y4PA8AADwPAAA1AAAAAAAAAAAAAACkgbEjFABAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMS9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qc1BLAQIeAwoAAAAAAAAAAAC4dpSdXwMAAF8DAAApAAAAAAAAAAAAAACkgUAzFABAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMS9zcmMvbm8tc2hpbS5qc1BLAQIeAwoAAAAAAAAAAACpgMOzngoAAJ4KAAAtAAAAAAAAAAAAAACkgeY2FABAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMS9zcmMvdHJhY2stdHVybnMuanNQSwECHgMKAAAAAAAAAAAAe6GgR2QCAABkAgAAIwAAAAAAAAAAAAAApIHPQRQAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvdXRpbHMuanNQSwECHgMKAAAAAAAAAAAA3EXZo2ACAABgAgAAGQAAAAAAAAAAAAAApIF0RBQAQGVuZG8vZXhvLXYxLjUuOS9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAADgINvCzxcAAM8XAAAiAAAAAAAAAAAAAACkgQtHFABAZW5kby9leG8tdjEuNS45L3NyYy9leG8tbWFrZXJzLmpzUEsBAh4DCgAAAAAAAAAAAMEqljEDOAAAAzgAACEAAAAAAAAAAAAAAKSBGl8UAEBlbmRvL2V4by12MS41Ljkvc3JjL2V4by10b29scy5qc1BLAQIeAwoAAAAAAAAAAADgyaGFRgIAAEYCAAAlAAAAAAAAAAAAAACkgVyXFABAZW5kby9leG8tdjEuNS45L3NyYy9nZXQtaW50ZXJmYWNlLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAAB0AAAAAAAAAAAAAAKSB5ZkUAEBlbmRvL2V4by12MS41Ljkvc3JjL3R5cGVzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACAAAAAAAAAAAAAAAKSBeJsUAEBlbmRvL2Zhci12MS4xLjExL3NyYy9leHBvcnRzLmpzUEsBAh4DCgAAAAAAAAAAAKkm1lCYAgAAmAIAAB4AAAAAAAAAAAAAAKSBDp0UAEBlbmRvL2Zhci12MS4xLjExL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAt1VAGggcAAIIHAAAdAAAAAAAAAAAAAACkgeKfFABAZW5kby9tYXJzaGFsLXYxLjYuNC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACVfGWZmk8AAJpPAAAqAAAAAAAAAAAAAACkgZ+nFABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvZW5jb2RlUGFzc2FibGUuanNQSwECHgMKAAAAAAAAAAAAz2KS+PQrAAD0KwAAKwAAAAAAAAAAAAAApIGB9xQAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL2VuY29kZVRvQ2FwRGF0YS5qc1BLAQIeAwoAAAAAAAAAAAD2GBtPQSwAAEEsAAAtAAAAAAAAAAAAAACkgb4jFQBAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvZW5jb2RlVG9TbWFsbGNhcHMuanNQSwECHgMKAAAAAAAAAAAA5otTsGgvAABoLwAAKgAAAAAAAAAAAAAApIFKUBUAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL21hcnNoYWwtanVzdGluLmpzUEsBAh4DCgAAAAAAAAAAAL4ipxtKBwAASgcAAC0AAAAAAAAAAAAAAKSB+n8VAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9tYXJzaGFsLXN0cmluZ2lmeS5qc1BLAQIeAwoAAAAAAAAAAAAJOiBuYS8AAGEvAAAjAAAAAAAAAAAAAACkgY+HFQBAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvbWFyc2hhbC5qc1BLAQIeAwoAAAAAAAAAAABKsNVd6y4AAOsuAAAlAAAAAAAAAAAAAACkgTG3FQBAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvcmFua09yZGVyLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACEAAAAAAAAAAAAAAKSBX+YVAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAABenLPKzAUAAMwFAAAdAAAAAAAAAAAAAACkgfbnFQBAZW5kby9uYXQtdjUuMS4wL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAC9HZqTQoAAE0KAAAgAAAAAAAAAAAAAACkgf3tFQBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAADD7/ZFvAYAALwGAAAoAAAAAAAAAAAAAACkgYj4FQBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvY29weUFycmF5LmpzUEsBAh4DCgAAAAAAAAAAABCBRMD2CAAA9ggAACkAAAAAAAAAAAAAAKSBiv8VAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9jb3B5UmVjb3JkLmpzUEsBAh4DCgAAAAAAAAAAAMI3yaeeCwAAngsAAC4AAAAAAAAAAAAAAKSBxwgWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9kZWVwbHlGdWxmaWxsZWQuanNQSwECHgMKAAAAAAAAAAAAF1cCItMUAADTFAAAJAAAAAAAAAAAAAAApIGxFBYAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2Vycm9yLmpzUEsBAh4DCgAAAAAAAAAAANOikHykBgAApAYAACsAAAAAAAAAAAAAAKSBxikWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9pdGVyLWhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAYnh4idkSAADZEgAAJwAAAAAAAAAAAAAApIGzMBYAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL21ha2UtZmFyLmpzUEsBAh4DCgAAAAAAAAAAAE3BiNPcBAAA3AQAACkAAAAAAAAAAAAAAKSB0UMWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9tYWtlVGFnZ2VkLmpzUEsBAh4DCgAAAAAAAAAAAHBEXISiFwAAohcAADAAAAAAAAAAAAAAAKSB9EgWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9wYXNzU3R5bGUtaGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAAAMnW2t0ysAANMrAAAqAAAAAAAAAAAAAACkgeRgFgBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvcGFzc1N0eWxlT2YuanNQSwECHgMKAAAAAAAAAAAAA4EnR64cAACuHAAAKAAAAAAAAAAAAAAApIH/jBYAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL3JlbW90YWJsZS5qc1BLAQIeAwoAAAAAAAAAAADHjH84eg4AAHoOAAArAAAAAAAAAAAAAACkgfOpFgBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvc2FmZS1wcm9taXNlLmpzUEsBAh4DCgAAAAAAAAAAALo+zaF5CAAAeQgAACUAAAAAAAAAAAAAAKSBtrgWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9zdHJpbmcuanNQSwECHgMKAAAAAAAAAAAAHRtUduUKAADlCgAAJQAAAAAAAAAAAAAApIFywRYAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL3N5bWJvbC5qc1BLAQIeAwoAAAAAAAAAAADy5fJQyQcAAMkHAAAlAAAAAAAAAAAAAACkgZrMFgBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvdGFnZ2VkLmpzUEsBAh4DCgAAAAAAAAAAAO7cIrBnCQAAZwkAACkAAAAAAAAAAAAAAKSBptQWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlR3VhcmRzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACQAAAAAAAAAAAAAAKSBVN4WAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAAB1TZLc7w4AAO8OAAAeAAAAAAAAAAAAAACkge7fFgBAZW5kby9wYXR0ZXJucy12MS41LjAvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAwepGqlU3AABVNwAAKgAAAAAAAAAAAAAApIEZ7xYAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL2NoZWNrS2V5LmpzUEsBAh4DCgAAAAAAAAAAAOd2lZqsGQAArBkAAC0AAAAAAAAAAAAAAKSBtiYXAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMva2V5cy9jb21wYXJlS2V5cy5qc1BLAQIeAwoAAAAAAAAAAABc0baI6w4AAOsOAAApAAAAAAAAAAAAAACkga1AFwBAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvY29weUJhZy5qc1BLAQIeAwoAAAAAAAAAAAAHHJ37ewwAAHsMAAApAAAAAAAAAAAAAACkgd9PFwBAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvY29weVNldC5qc1BLAQIeAwoAAAAAAAAAAAAPyB9jdhYAAHYWAAA5AAAAAAAAAAAAAACkgaFcFwBAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMva2V5Y29sbGVjdGlvbi1vcGVyYXRvcnMuanNQSwECHgMKAAAAAAAAAAAA0gJiAZEcAACRHAAANQAAAAAAAAAAAAAApIFucxcAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL21lcmdlLWJhZy1vcGVyYXRvcnMuanNQSwECHgMKAAAAAAAAAAAA+VGOE0kjAABJIwAANQAAAAAAAAAAAAAApIFSkBcAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanNQSwECHgMKAAAAAAAAAAAA8HRSJSwbAAAsGwAANgAAAAAAAAAAAAAApIHusxcAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9wYXR0ZXJucy9nZXRHdWFyZFBheWxvYWRzLmpzUEsBAh4DCgAAAAAAAAAAAA7uTidq7AAAauwAADUAAAAAAAAAAAAAAKSBbs8XAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACIAAAAAAAAAAAAAAKSBK7wYAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAAP0XT32IGAABiBgAAIgAAAAAAAAAAAAAApIHDvRgAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAB1iEF+ZAIAAGQCAAArAAAAAAAAAAAAAACkgWXEGABAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwL3NyYy9pcy1wcm9taXNlLmpzUEsBAh4DCgAAAAAAAAAAADnhrPBZCQAAWQkAACoAAAAAAAAAAAAAAKSBEscYAEBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAvc3JjL21lbW8tcmFjZS5qc1BLAQIeAwoAAAAAAAAAAACMGyI1HwYAAB8GAAA1AAAAAAAAAAAAAACkgbPQGABAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAmAAAAAAAAAAAAAACkgSXXGABAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwL3NyYy90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAABJ2FYeuBQAALgUAAAdAAAAAAAAAAAAAACkgcHYGABAZW5kby9zdHJlYW0tdjEuMi4xMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAD1sWHDRwoAAEcKAAAjAAAAAAAAAAAAAACkgbTtGABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vX2Fzc2VydC5qc1BLAQIeAwoAAAAAAAAAAADnWKpFzREAAM0RAAAfAAAAAAAAAAAAAACkgTz4GABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vX21kLmpzUEsBAh4DCgAAAAAAAAAAAMQIbzABAgAAAQIAACIAAAAAAAAAAAAAAKSBRgoZAEBub2JsZS9oYXNoZXMtdjEuNS4wL2VzbS9jcnlwdG8uanNQSwECHgMKAAAAAAAAAAAAa5wtE9ESAADREgAAIgAAAAAAAAAAAAAApIGHDBkAQG5vYmxlL2hhc2hlcy12MS41LjAvZXNtL3NoYTI1Ni5qc1BLAQIeAwoAAAAAAAAAAADE7IpuvSAAAL0gAAAhAAAAAAAAAAAAAACkgZgfGQBAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vdXRpbHMuanNQSwECHgMKAAAAAAAAAAAAdOuqbXkPAAB5DwAAHgAAAAAAAAAAAAAApIGUQBkAYmFzZS14LXY1LjAuMS9zcmMvZXNtL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAEunuGSEDgAAhA4AABkAAAAAAAAAAAAAAKSBSVAZAGJhc2U2NC1qcy12MS41LjEvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAiHjZhBkSAAAZEgAAFgAAAAAAAAAAAAAApIEEXxkAYmVjaDMyLXYxLjEuNC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAODt/xaAIAAGgCAAAcAAAAAAAAAAAAAACkgVFxGQBiczU4LXY2LjAuMC9zcmMvZXNtL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAO5b9r/RAQAA0QEAABwAAAAAAAAAAAAAAKSB83MZAGplc3NpZS5qcy12MC4zLjQvc3JjL21haW4uanNQSwECHgMKAAAAAAAAAAAA9mAl5IEBAACBAQAAHwAAAAAAAAAAAAAApIH+dRkAamVzc2llLmpzLXYwLjMuNC9zcmMvcmluZzAvRS5qc1BLAQIeAwoAAAAAAAAAAABPWvW9pgIAAKYCAAAsAAAAAAAAAAAAAACkgbx3GQBqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMC9hc3luYy1nZW5lcmF0ZS5qc1BLAQIeAwoAAAAAAAAAAAD+evn99AEAAPQBAAAiAAAAAAAAAAAAAACkgax6GQBqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMC9tYWluLmpzUEsBAh4DCgAAAAAAAAAAAEloIVDkBwAA5AcAACQAAAAAAAAAAAAAAKSB4HwZAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcwL21ha2Vycy5qc1BLAQIeAwoAAAAAAAAAAABp9VL/rAMAAKwDAAApAAAAAAAAAAAAAACkgQaFGQBqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMS9hc3luYy10b29scy5qc1BLAQIeAwoAAAAAAAAAAAAbaDcDlgEAAJYBAAAiAAAAAAAAAAAAAACkgfmIGQBqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMS9tYWluLmpzUEsFBgAAAAApASkBFGkAAM+KGQAAAA==",
  "endoZipBase64Sha512": "d217fb17508ebe5c94e9ab432a9d6f5aea5fba810f7e5d7cc1785a6235e378e8eb117199624eb2f0061fc39126150d6f833617d0c2c26a979b36b0bb81d88a61"
}